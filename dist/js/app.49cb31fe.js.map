{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?15d3","webpack:///./src/components/viewer/ImageControlsShiftButtons.vue?ec45","webpack:///./src/components/ontology/TermModal.vue?d6e9","webpack:///./src/components/project/activity/MembersActivity.vue?bbc6","webpack:///./src/components/job/JobDetails.vue?87a5","webpack:///./src/components/admin/UserModal.vue?f890","webpack:///./src/components/viewer/AnnotationDetailsContainer.vue?6991","webpack:///./src/components/viewer/DrawTools.vue?5957","webpack:///./src/components/project/ListProjects.vue?171c","webpack:///./src/components/ontology/OntologyTree.vue","webpack:///./src/components/ontology/TermModal.vue","webpack:///src/components/ontology/TermModal.vue","webpack:///./src/components/ontology/TermModal.vue?9195","webpack:///./src/components/ontology/TermModal.vue?9c9b","webpack:///src/components/ontology/OntologyTree.vue","webpack:///./src/components/ontology/OntologyTree.vue?d9e6","webpack:///./src/components/ontology/OntologyTree.vue?1de7","webpack:///./src/components/viewer/RotationSelector.vue?ccb0","webpack:///./src/components/tag/CytomineTags.vue?6b72","webpack:///./src/components/navbar/CytomineNavbar.vue?f780","webpack:///./src/components/viewer/DrawTools.vue?a113","webpack:///./src/components/admin/UserDetails.vue?574c","webpack:///./src/components/ontology/CytomineTerm.vue?58c2","webpack:///./src/assets/sponsors/logo-cytomine-coop.png","webpack:///./src/components/storage/UploadedFileStatus.vue?4893","webpack:///./src/components/admin/TrustedSourceModal.vue?f330","webpack:///./src/components/project/configuration-panels/CustomUIProject.vue?0880","webpack:///./src/components/user/UserActivity.vue?1dae","webpack:///./src/components/viewer/panels/OntologyPanel.vue?3e95","webpack:///./src/components/project/CytomineProject.vue?c65b","webpack:///./src/components/software/SoftwareInformation.vue?bf5a","webpack:///./src/components/annotations/AnnotationPreview.vue?e1cd","webpack:///./src/components/description/CytomineDescription.vue","webpack:///./src/components/description/CytomineDescriptionModal.vue","webpack:///src/components/description/CytomineDescriptionModal.vue","webpack:///./src/components/description/CytomineDescriptionModal.vue?091e","webpack:///./src/components/description/CytomineDescriptionModal.vue?1ab0","webpack:///src/components/description/CytomineDescription.vue","webpack:///./src/components/description/CytomineDescription.vue?39a8","webpack:///./src/components/description/CytomineDescription.vue?a8fc","webpack:///./src/components/annotations/AnnotationDetails.vue","webpack:///./src/components/annotations/AnnotationCommentsModal.vue","webpack:///src/components/annotations/AnnotationCommentsModal.vue","webpack:///./src/components/annotations/AnnotationCommentsModal.vue?d1ce","webpack:///./src/components/annotations/AnnotationCommentsModal.vue?8ce4","webpack:///src/components/annotations/AnnotationDetails.vue","webpack:///./src/components/annotations/AnnotationDetails.vue?a8e0","webpack:///./src/components/annotations/AnnotationDetails.vue?b5b5","webpack:///./src/components/utils/DomainTagInput.vue?49eb","webpack:///./src/components/software/SoftwareInformation.vue?7952","webpack:///./src/assets/brands/philips.svg","webpack:///./src/components/storage/CytomineStorage.vue?2604","webpack:///./src/components/viewer/AnnotationDetailsContainer.vue?f7e6","webpack:///./src/assets/brands/hamamatsu.jpg","webpack:///./src/components/description/CytomineDescriptionModal.vue?8484","webpack:///./src/components/project/ProjectActivity.vue?f2f2","webpack:///./src/components/image/AddImageModal.vue?fc32","webpack:///./src/components/storage/CytomineStorage.vue?b176","webpack:///./src/components/project/configuration-panels/ProjectMembers.vue?e6fd","webpack:///./src/components/track/CytomineTrack.vue","webpack:///src/components/track/CytomineTrack.vue","webpack:///./src/components/track/CytomineTrack.vue?eb34","webpack:///./src/components/track/CytomineTrack.vue?aaf6","webpack:///./src/components/ontology/OntologyDetails.vue?c5d3","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/project/activity/ProjectActivityCharts.vue?9d2c","webpack:///./src/components/project/configuration-panels/ProjectMembers.vue?b660","webpack:///./src/components/ontology/CytomineTerm.vue","webpack:///src/components/ontology/CytomineTerm.vue","webpack:///./src/components/ontology/CytomineTerm.vue?f398","webpack:///./src/components/ontology/CytomineTerm.vue?ea1c","webpack:///./src/components/image/ImageDetails.vue?12cd","webpack:///./src/components/viewer/RotationSelector.vue?a21a","webpack:///./src/components/project/ListProjects.vue?b953","webpack:///./src/components/property/CytomineProperties.vue?0468","webpack:///./src/components/project/ProjectDetails.vue?d181","webpack:///./src/components/viewer/CytomineImage.vue?fd80","webpack:///./src/components/software/SoftwareSourceButtons.vue?e9da","webpack:///./src/components/project/activity/ProjectActivityLogs.vue?3641","webpack:///./src/components/GlobalDashboard.vue","webpack:///./src/components/image/ListImagesPreview.vue","webpack:///./src/components/image/ImagePreview.vue","webpack:///./src/utils/image-utils.js","webpack:///src/components/image/ImagePreview.vue","webpack:///./src/components/image/ImagePreview.vue?c675","webpack:///./src/components/image/ImagePreview.vue?01a9","webpack:///src/components/image/ListImagesPreview.vue","webpack:///./src/components/image/ListImagesPreview.vue?82c9","webpack:///./src/components/image/ListImagesPreview.vue?36c3","webpack:///src/components/GlobalDashboard.vue","webpack:///./src/components/GlobalDashboard.vue?889c","webpack:///./src/components/GlobalDashboard.vue?0151","webpack:///./src/components/project/ListProjects.vue","webpack:///./src/components/utils/CytomineTable.vue","webpack:///src/components/utils/CytomineTable.vue","webpack:///./src/components/utils/CytomineTable.vue?df9d","webpack:///./src/components/utils/CytomineTable.vue?3064","webpack:///./src/components/form/CytomineMultiselect.vue","webpack:///src/components/form/CytomineMultiselect.vue","webpack:///./src/components/form/CytomineMultiselect.vue?58bd","webpack:///./src/components/form/CytomineMultiselect.vue?d874","webpack:///./src/components/form/CytomineSlider.vue","webpack:///src/components/form/CytomineSlider.vue","webpack:///./src/components/form/CytomineSlider.vue?92d5","webpack:///./src/components/form/CytomineSlider.vue?4d0d","webpack:///./src/components/project/ProjectDetails.vue","webpack:///./src/components/user/ListUsernames.vue","webpack:///./src/components/user/Username.vue","webpack:///src/components/user/Username.vue","webpack:///./src/components/user/Username.vue?0f4f","webpack:///./src/components/user/Username.vue?7707","webpack:///src/components/user/ListUsernames.vue","webpack:///./src/components/user/ListUsernames.vue?1911","webpack:///./src/components/user/ListUsernames.vue?4504","webpack:///./src/components/project/ProjectActions.vue","webpack:///./src/components/utils/CytomineModal.vue","webpack:///src/components/utils/CytomineModal.vue","webpack:///./src/components/utils/CytomineModal.vue?aede","webpack:///./src/components/utils/CytomineModal.vue?6d4c","webpack:///./src/components/utils/RenameModal.vue","webpack:///src/components/utils/RenameModal.vue","webpack:///./src/components/utils/RenameModal.vue?89eb","webpack:///./src/components/utils/RenameModal.vue?3b32","webpack:///src/components/project/ProjectActions.vue","webpack:///./src/components/project/ProjectActions.vue?d11b","webpack:///./src/components/project/ProjectActions.vue?06c4","webpack:///src/components/project/ProjectDetails.vue","webpack:///./src/components/project/ProjectDetails.vue?077d","webpack:///./src/components/project/ProjectDetails.vue?d7e0","webpack:///./src/components/project/AddProjectModal.vue","webpack:///src/components/project/AddProjectModal.vue","webpack:///./src/components/project/AddProjectModal.vue?5790","webpack:///./src/components/project/AddProjectModal.vue?3571","webpack:///./src/components/icons/IconProjectMemberRole.vue","webpack:///src/components/icons/IconProjectMemberRole.vue","webpack:///./src/components/icons/IconProjectMemberRole.vue?c58b","webpack:///./src/components/icons/IconProjectMemberRole.vue?f59b","webpack:///src/components/project/ListProjects.vue","webpack:///./src/components/project/ListProjects.vue?3f75","webpack:///./src/components/project/ListProjects.vue?6829","webpack:///./src/components/storage/CytomineStorage.vue","webpack:///./src/components/storage/UploadedFileStatus.vue","webpack:///src/components/storage/UploadedFileStatus.vue","webpack:///./src/components/storage/UploadedFileStatus.vue?b617","webpack:///./src/components/storage/UploadedFileStatus.vue?c8af","webpack:///./src/components/storage/UploadedFileDetails.vue","webpack:///./src/components/image/ImageThumbnail.vue","webpack:///src/components/image/ImageThumbnail.vue","webpack:///./src/components/image/ImageThumbnail.vue?5cec","webpack:///./src/components/image/ImageThumbnail.vue?1e65","webpack:///src/components/storage/UploadedFileDetails.vue","webpack:///./src/components/storage/UploadedFileDetails.vue?37ee","webpack:///./src/components/storage/UploadedFileDetails.vue?e137","webpack:///src/components/storage/CytomineStorage.vue","webpack:///./src/components/storage/CytomineStorage.vue?82a9","webpack:///./src/components/storage/CytomineStorage.vue?b0d5","webpack:///./src/components/ontology/ListOntologies.vue","webpack:///./src/components/ontology/OntologyDetails.vue","webpack:///src/components/ontology/OntologyDetails.vue","webpack:///./src/components/ontology/OntologyDetails.vue?09b5","webpack:///./src/components/ontology/OntologyDetails.vue?9859","webpack:///./src/components/ontology/AddOntologyModal.vue","webpack:///src/components/ontology/AddOntologyModal.vue","webpack:///./src/components/ontology/AddOntologyModal.vue?13d9","webpack:///./src/components/ontology/AddOntologyModal.vue?5da7","webpack:///src/components/ontology/ListOntologies.vue","webpack:///./src/components/ontology/ListOntologies.vue?2954","webpack:///./src/components/ontology/ListOntologies.vue?bef2","webpack:///./src/components/software/ListSoftware.vue","webpack:///./src/components/software/SoftwareStatus.vue","webpack:///src/components/software/SoftwareStatus.vue","webpack:///./src/components/software/SoftwareStatus.vue?6bb2","webpack:///./src/components/software/SoftwareStatus.vue?2007","webpack:///./src/components/utils/BooleanItem.vue","webpack:///src/components/utils/BooleanItem.vue","webpack:///./src/components/utils/BooleanItem.vue?e741","webpack:///./src/components/utils/BooleanItem.vue?4ce6","webpack:///./src/components/software/SoftwareDetails.vue","webpack:///./src/components/software/SoftwareSource.vue","webpack:///src/components/software/SoftwareSource.vue","webpack:///./src/components/software/SoftwareSource.vue?dd5f","webpack:///./src/components/software/SoftwareSource.vue?2c6c","webpack:///./src/components/software/SoftwareSourceButtons.vue","webpack:///src/components/software/SoftwareSourceButtons.vue","webpack:///./src/components/software/SoftwareSourceButtons.vue?5129","webpack:///./src/components/software/SoftwareSourceButtons.vue?8d60","webpack:///src/components/software/SoftwareDetails.vue","webpack:///./src/components/software/SoftwareDetails.vue?04c3","webpack:///./src/components/software/SoftwareDetails.vue?1722","webpack:///./src/utils/bounds.js","webpack:///src/components/software/ListSoftware.vue","webpack:///./src/components/software/ListSoftware.vue?8d5d","webpack:///./src/components/software/ListSoftware.vue?5afa","webpack:///./src/components/image/ListImages.vue","webpack:///./src/components/image/ImageDetails.vue","webpack:///./src/components/image/MagnificationModal.vue","webpack:///src/components/image/MagnificationModal.vue","webpack:///./src/components/image/MagnificationModal.vue?adc6","webpack:///./src/components/image/MagnificationModal.vue?013c","webpack:///./src/components/image/CalibrationModal.vue","webpack:///src/components/image/CalibrationModal.vue","webpack:///./src/components/image/CalibrationModal.vue?abb2","webpack:///./src/components/image/CalibrationModal.vue?fe7b","webpack:///./src/components/image/ImageMetadataModal.vue","webpack:///src/components/image/ImageMetadataModal.vue","webpack:///./src/components/image/ImageMetadataModal.vue?dc4c","webpack:///./src/components/image/ImageMetadataModal.vue?6c5b","webpack:///./src/components/image/ImageStatus.vue","webpack:///src/components/image/ImageStatus.vue","webpack:///./src/components/image/ImageStatus.vue?c337","webpack:///./src/components/image/ImageStatus.vue?c963","webpack:///./src/utils/slice-utils.js","webpack:///./src/utils/vendor.js","webpack:///src/components/image/ImageDetails.vue","webpack:///./src/components/image/ImageDetails.vue?91c6","webpack:///./src/components/image/ImageDetails.vue?cb37","webpack:///./src/components/image/AddImageModal.vue","webpack:///src/components/image/AddImageModal.vue","webpack:///./src/components/image/AddImageModal.vue?ca50","webpack:///./src/components/image/AddImageModal.vue?191f","webpack:///src/components/image/ListImages.vue","webpack:///./src/components/image/ListImages.vue?0c8d","webpack:///./src/components/image/ListImages.vue?b3c4","webpack:///./src/components/image/ImageInformation.vue","webpack:///src/components/image/ImageInformation.vue","webpack:///./src/components/image/ImageInformation.vue?9080","webpack:///./src/components/image/ImageInformation.vue?5377","webpack:///./src/components/annotations/ListAnnotations.vue","webpack:///./src/components/form/CytomineDatepicker.vue","webpack:///src/components/form/CytomineDatepicker.vue","webpack:///./src/components/form/CytomineDatepicker.vue?8aac","webpack:///./src/components/form/CytomineDatepicker.vue?1adf","webpack:///./src/components/ontology/OntologyTreeMultiselect.vue","webpack:///./src/utils/ontology-utils.js","webpack:///src/components/ontology/OntologyTreeMultiselect.vue","webpack:///./src/components/ontology/OntologyTreeMultiselect.vue?abbd","webpack:///./src/components/ontology/OntologyTreeMultiselect.vue?36b0","webpack:///./src/components/annotations/ListAnnotationsBy.vue","webpack:///./src/components/annotations/AnnotationPreview.vue","webpack:///src/components/annotations/AnnotationPreview.vue","webpack:///./src/components/annotations/AnnotationPreview.vue?a57b","webpack:///./src/components/annotations/AnnotationPreview.vue?851e","webpack:///src/components/annotations/ListAnnotationsBy.vue","webpack:///./src/components/annotations/ListAnnotationsBy.vue?43c0","webpack:///./src/components/annotations/ListAnnotationsBy.vue?5442","webpack:///./src/utils/style-utils.js","webpack:///./src/components/track/TrackTreeMultiselect.vue","webpack:///src/components/track/TrackTreeMultiselect.vue","webpack:///./src/components/track/TrackTreeMultiselect.vue?0c68","webpack:///./src/components/track/TrackTreeMultiselect.vue?1049","webpack:///src/components/annotations/ListAnnotations.vue","webpack:///./src/components/annotations/ListAnnotations.vue?449e","webpack:///./src/components/annotations/ListAnnotations.vue?ed4c","webpack:///./src/components/project/ProjectActivity.vue","webpack:///./src/components/project/activity/ProjectActivityCharts.vue","webpack:///./src/components/charts/NumberAnnotationsChart.js","webpack:///./src/components/charts/AnnotationTermChart.js","webpack:///./src/components/charts/AnnotatedImagesByTermChart.js","webpack:///./src/components/charts/AnnotationContributorChart.js","webpack:///./src/components/charts/AnnotatedImagesByContributorChart.js","webpack:///./src/components/charts/ActivityOverviewChart.js","webpack:///src/components/project/activity/ProjectActivityCharts.vue","webpack:///./src/components/project/activity/ProjectActivityCharts.vue?cdc7","webpack:///./src/components/project/activity/ProjectActivityCharts.vue?6f43","webpack:///./src/components/project/activity/MembersActivity.vue","webpack:///src/components/project/activity/MembersActivity.vue","webpack:///./src/components/project/activity/MembersActivity.vue?e3f0","webpack:///./src/components/project/activity/MembersActivity.vue?9da6","webpack:///./src/components/project/activity/ProjectActivityLogs.vue","webpack:///./src/components/utils/ActivityLogs.vue","webpack:///./src/components/utils/ActivityLogsItem.vue","webpack:///src/components/utils/ActivityLogsItem.vue","webpack:///./src/components/utils/ActivityLogsItem.vue?cc1e","webpack:///./src/components/utils/ActivityLogsItem.vue?4b95","webpack:///src/components/utils/ActivityLogs.vue","webpack:///./src/components/utils/ActivityLogs.vue?b8d0","webpack:///./src/components/utils/ActivityLogs.vue?4512","webpack:///src/components/project/activity/ProjectActivityLogs.vue","webpack:///./src/components/project/activity/ProjectActivityLogs.vue?7c18","webpack:///./src/components/project/activity/ProjectActivityLogs.vue?ceed","webpack:///src/components/project/ProjectActivity.vue","webpack:///./src/components/project/ProjectActivity.vue?ef8c","webpack:///./src/components/project/ProjectActivity.vue?7cae","webpack:///./src/components/job/ListJobs.vue","webpack:///./src/components/job/JobStatus.vue","webpack:///./src/utils/job-utils.js","webpack:///src/components/job/JobStatus.vue","webpack:///./src/components/job/JobStatus.vue?47e1","webpack:///./src/components/job/JobStatus.vue?8d1d","webpack:///./src/components/job/JobDetails.vue","webpack:///./src/components/utils/CytomineTask.vue","webpack:///src/components/utils/CytomineTask.vue","webpack:///./src/components/utils/CytomineTask.vue?22d9","webpack:///./src/components/utils/CytomineTask.vue?acf4","webpack:///src/components/job/JobDetails.vue","webpack:///./src/components/job/JobDetails.vue?3643","webpack:///./src/components/job/JobDetails.vue?0b8c","webpack:///./src/components/job/AddJobModal.vue","webpack:///./src/components/job/JobParameterRow.vue","webpack:///src/components/job/JobParameterRow.vue","webpack:///./src/components/job/JobParameterRow.vue?d6a8","webpack:///./src/components/job/JobParameterRow.vue?398c","webpack:///src/components/job/AddJobModal.vue","webpack:///./src/components/job/AddJobModal.vue?79e5","webpack:///./src/components/job/AddJobModal.vue?fda8","webpack:///src/components/job/ListJobs.vue","webpack:///./src/components/job/ListJobs.vue?b2a6","webpack:///./src/components/job/ListJobs.vue?8dff","webpack:///./src/components/project/ProjectInformation.vue","webpack:///src/components/project/ProjectInformation.vue","webpack:///./src/components/project/ProjectInformation.vue?c45a","webpack:///./src/components/project/ProjectInformation.vue?d5af","webpack:///./src/components/project/ProjectConfiguration.vue","webpack:///./src/components/project/configuration-panels/GeneralConfiguration.vue","webpack:///./src/components/project/configuration-panels/DefaultProperty.vue","webpack:///src/components/project/configuration-panels/DefaultProperty.vue","webpack:///./src/components/project/configuration-panels/DefaultProperty.vue?38d1","webpack:///./src/components/project/configuration-panels/DefaultProperty.vue?1882","webpack:///src/components/project/configuration-panels/GeneralConfiguration.vue","webpack:///./src/components/project/configuration-panels/GeneralConfiguration.vue?97a9","webpack:///./src/components/project/configuration-panels/GeneralConfiguration.vue?ec0e","webpack:///./src/components/project/configuration-panels/ProjectMembers.vue","webpack:///./src/components/project/configuration-panels/AddMemberModal.vue","webpack:///src/components/project/configuration-panels/AddMemberModal.vue","webpack:///./src/components/project/configuration-panels/AddMemberModal.vue?8070","webpack:///./src/components/project/configuration-panels/AddMemberModal.vue?d7b6","webpack:///src/components/project/configuration-panels/ProjectMembers.vue","webpack:///./src/components/project/configuration-panels/ProjectMembers.vue?2ad3","webpack:///./src/components/project/configuration-panels/ProjectMembers.vue?4099","webpack:///./src/components/project/configuration-panels/CustomUIProject.vue","webpack:///./src/components/icons/IconPolygonFreeHand.vue","webpack:///src/components/icons/IconPolygonFreeHand.vue","webpack:///./src/components/icons/IconPolygonFreeHand.vue?bb0b","webpack:///./src/components/icons/IconPolygonFreeHand.vue?6bac","webpack:///./src/components/icons/IconLineFreeHand.vue","webpack:///src/components/icons/IconLineFreeHand.vue","webpack:///./src/components/icons/IconLineFreeHand.vue?3b17","webpack:///./src/components/icons/IconLineFreeHand.vue?0e97","webpack:///src/components/project/configuration-panels/CustomUIProject.vue","webpack:///./src/components/project/configuration-panels/CustomUIProject.vue?de17","webpack:///./src/components/project/configuration-panels/CustomUIProject.vue?e3c5","webpack:///./src/components/project/configuration-panels/ProjectSoftwares.vue","webpack:///src/components/project/configuration-panels/ProjectSoftwares.vue","webpack:///./src/components/project/configuration-panels/ProjectSoftwares.vue?c0ac","webpack:///./src/components/project/configuration-panels/ProjectSoftwares.vue?ac8b","webpack:///./src/components/project/configuration-panels/ProjectImageFilters.vue","webpack:///src/components/project/configuration-panels/ProjectImageFilters.vue","webpack:///./src/components/project/configuration-panels/ProjectImageFilters.vue?dd92","webpack:///./src/components/project/configuration-panels/ProjectImageFilters.vue?4f93","webpack:///src/components/project/ProjectConfiguration.vue","webpack:///./src/components/project/ProjectConfiguration.vue?a8e3","webpack:///./src/components/project/ProjectConfiguration.vue?a4a5","webpack:///./src/components/user/Account.vue","webpack:///./src/lang.js","webpack:///./src/utils/role-utils.js","webpack:///src/components/user/Account.vue","webpack:///./src/components/user/Account.vue?b3f9","webpack:///./src/components/user/Account.vue?6735","webpack:///./src/components/search/AdvancedSearch.vue","webpack:///src/components/search/AdvancedSearch.vue","webpack:///./src/components/search/AdvancedSearch.vue?789b","webpack:///./src/components/search/AdvancedSearch.vue?dea8","webpack:///./src/components/viewer/CytomineViewer.vue","webpack:///./src/components/viewer/CytomineImage.vue","webpack:///./src/components/viewer/AnnotationLayer.vue","webpack:///./src/utils/annotation-utils.js","webpack:///src/components/viewer/AnnotationLayer.vue","webpack:///./src/components/viewer/AnnotationLayer.vue?406e","webpack:///./src/components/viewer/AnnotationLayer.vue?371a","webpack:///./src/components/viewer/RotationSelector.vue","webpack:///src/components/viewer/RotationSelector.vue","webpack:///./src/components/viewer/RotationSelector.vue?0a38","webpack:///./src/components/viewer/RotationSelector.vue?0722","webpack:///./src/components/viewer/ScaleLine.vue","webpack:///src/components/viewer/ScaleLine.vue","webpack:///./src/components/viewer/ScaleLine.vue?2d8a","webpack:///./src/components/viewer/ScaleLine.vue?267a","webpack:///./src/components/viewer/DrawTools.vue","webpack:///src/components/viewer/DrawTools.vue","webpack:///./src/components/viewer/DrawTools.vue?6aad","webpack:///./src/components/viewer/DrawTools.vue?8e23","webpack:///./src/components/viewer/ImageControls.vue","webpack:///./src/components/viewer/ImageControlsShiftButtons.vue","webpack:///src/components/viewer/ImageControlsShiftButtons.vue","webpack:///./src/components/viewer/ImageControlsShiftButtons.vue?7b95","webpack:///./src/components/viewer/ImageControlsShiftButtons.vue?a0ff","webpack:///src/components/viewer/ImageControls.vue","webpack:///./src/components/viewer/ImageControls.vue?9ba1","webpack:///./src/components/viewer/ImageControls.vue?3e86","webpack:///./src/components/viewer/AnnotationsContainer.vue","webpack:///./src/components/viewer/AnnotationDetailsContainer.vue","webpack:///src/components/viewer/AnnotationDetailsContainer.vue","webpack:///./src/components/viewer/AnnotationDetailsContainer.vue?ab42","webpack:///./src/components/viewer/AnnotationDetailsContainer.vue?de4f","webpack:///src/components/viewer/AnnotationsContainer.vue","webpack:///./src/components/viewer/AnnotationsContainer.vue?0632","webpack:///./src/components/viewer/AnnotationsContainer.vue?40b9","webpack:///./src/components/viewer/panels/InformationPanel.vue","webpack:///src/components/viewer/panels/InformationPanel.vue","webpack:///./src/components/viewer/panels/InformationPanel.vue?37d7","webpack:///./src/components/viewer/panels/InformationPanel.vue?8133","webpack:///./src/components/viewer/panels/DigitalZoom.vue","webpack:///src/components/viewer/panels/DigitalZoom.vue","webpack:///./src/components/viewer/panels/DigitalZoom.vue?b942","webpack:///./src/components/viewer/panels/DigitalZoom.vue?6501","webpack:///./src/components/viewer/panels/ColorManipulation.vue","webpack:///./src/utils/histogram-utils.js","webpack:///./src/components/viewer/panels/colors/CytomineChannel.vue","webpack:///src/components/viewer/panels/colors/CytomineChannel.vue","webpack:///./src/components/viewer/panels/colors/CytomineChannel.vue?a9c1","webpack:///./src/components/viewer/panels/colors/CytomineChannel.vue?df9d","webpack:///./src/components/viewer/panels/colors/AdjustableLookUpTable.vue","webpack:///src/components/viewer/panels/colors/AdjustableLookUpTable.vue","webpack:///./src/components/viewer/panels/colors/AdjustableLookUpTable.vue?c269","webpack:///./src/components/viewer/panels/colors/AdjustableLookUpTable.vue?f6f2","webpack:///./src/components/charts/HistogramChart.js","webpack:///src/components/viewer/panels/ColorManipulation.vue","webpack:///./src/components/viewer/panels/ColorManipulation.vue?682f","webpack:///./src/components/viewer/panels/ColorManipulation.vue?9866","webpack:///./src/components/viewer/panels/LinkPanel.vue","webpack:///src/components/viewer/panels/LinkPanel.vue","webpack:///./src/components/viewer/panels/LinkPanel.vue?a0ce","webpack:///./src/components/viewer/panels/LinkPanel.vue?4f04","webpack:///./src/components/viewer/panels/LayersPanel.vue","webpack:///src/components/viewer/panels/LayersPanel.vue","webpack:///./src/components/viewer/panels/LayersPanel.vue?e4dc","webpack:///./src/components/viewer/panels/LayersPanel.vue?ebd7","webpack:///./src/components/viewer/panels/OntologyPanel.vue","webpack:///src/components/viewer/panels/OntologyPanel.vue","webpack:///./src/components/viewer/panels/OntologyPanel.vue?bc2d","webpack:///./src/components/viewer/panels/OntologyPanel.vue?581f","webpack:///./src/components/viewer/panels/PropertiesPanel.vue","webpack:///src/components/viewer/panels/PropertiesPanel.vue","webpack:///./src/components/viewer/panels/PropertiesPanel.vue?a0cc","webpack:///./src/components/viewer/panels/PropertiesPanel.vue?0ef3","webpack:///./src/components/viewer/panels/FollowPanel.vue","webpack:///src/components/viewer/panels/FollowPanel.vue","webpack:///./src/components/viewer/panels/FollowPanel.vue?3409","webpack:///./src/components/viewer/panels/FollowPanel.vue?464c","webpack:///./src/components/viewer/panels/ReviewPanel.vue","webpack:///src/components/viewer/panels/ReviewPanel.vue","webpack:///./src/components/viewer/panels/ReviewPanel.vue?d58a","webpack:///./src/components/viewer/panels/ReviewPanel.vue?6dd6","webpack:///./src/components/viewer/interactions/SelectInteraction.vue","webpack:///src/components/viewer/interactions/SelectInteraction.vue","webpack:///./src/components/viewer/interactions/SelectInteraction.vue?5ae8","webpack:///./src/components/viewer/interactions/SelectInteraction.vue?5f6b","webpack:///./src/components/viewer/interactions/DrawInteraction.vue","webpack:///src/components/viewer/interactions/DrawInteraction.vue","webpack:///./src/components/viewer/interactions/DrawInteraction.vue?9baf","webpack:///./src/components/viewer/interactions/DrawInteraction.vue?c7c1","webpack:///./src/components/viewer/interactions/ModifyInteraction.vue","webpack:///./src/utils/geometry-utils.js","webpack:///src/components/viewer/interactions/ModifyInteraction.vue","webpack:///./src/components/viewer/interactions/ModifyInteraction.vue?5bd6","webpack:///./src/components/viewer/interactions/ModifyInteraction.vue?1785","webpack:///src/components/viewer/CytomineImage.vue","webpack:///./src/components/viewer/CytomineImage.vue?322f","webpack:///./src/components/viewer/CytomineImage.vue?b8ed","webpack:///./src/components/viewer/ImageSelector.vue","webpack:///src/components/viewer/ImageSelector.vue","webpack:///./src/components/viewer/ImageSelector.vue?f661","webpack:///./src/components/viewer/ImageSelector.vue?ecfc","webpack:///./src/store/modules/current-user.js","webpack:///./src/store/modules/current-project.js","webpack:///./src/store/modules/ontologies.js","webpack:///./src/store/modules/list-projects.js","webpack:///./src/store/modules/list-software.js","webpack:///./src/store/store.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/colors.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/draw.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/layers.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/properties.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/selected-features.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/style.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/tracking.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/undo-redo.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/view.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/review.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/tracks.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/annotations-list.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/controls.js","webpack:///./src/store/modules/project_modules/viewer_modules/image.js","webpack:///./src/store/modules/project_modules/viewer.js","webpack:///./src/utils/shortcuts.js","webpack:///src/components/viewer/CytomineViewer.vue","webpack:///./src/components/viewer/CytomineViewer.vue?f57f","webpack:///./src/components/viewer/CytomineViewer.vue?24f5","webpack:///./src/components/project/CytomineProject.vue","webpack:///./src/components/project/ProjectSidebar.vue","webpack:///src/components/project/ProjectSidebar.vue","webpack:///./src/components/project/ProjectSidebar.vue?7bc9","webpack:///./src/components/project/ProjectSidebar.vue?da9a","webpack:///./src/store/modules/project_modules/list-images.js","webpack:///./src/store/modules/project_modules/list-annotations.js","webpack:///./src/store/modules/project_modules/list-jobs.js","webpack:///./src/store/modules/project.js","webpack:///src/components/project/CytomineProject.vue","webpack:///./src/components/project/CytomineProject.vue?5b5a","webpack:///./src/components/project/CytomineProject.vue?1478","webpack:///./src/components/project/ProjectHome.vue","webpack:///src/components/project/ProjectHome.vue","webpack:///./src/components/project/ProjectHome.vue?bb3c","webpack:///./src/components/project/ProjectHome.vue?cf95","webpack:///./src/components/project/activity/MemberActivityDetails.vue","webpack:///./src/components/project/ProjectConnectionDetails.vue","webpack:///src/components/project/ProjectConnectionDetails.vue","webpack:///./src/components/project/ProjectConnectionDetails.vue?d7d9","webpack:///./src/components/project/ProjectConnectionDetails.vue?828e","webpack:///./src/components/charts/LastConnectionsChart.js","webpack:///src/components/project/activity/MemberActivityDetails.vue","webpack:///./src/components/project/activity/MemberActivityDetails.vue?2194","webpack:///./src/components/project/activity/MemberActivityDetails.vue?9daf","webpack:///./src/components/admin/AdminPanel.vue","webpack:///./src/components/admin/AdminDashboard.vue","webpack:///src/components/admin/AdminDashboard.vue","webpack:///./src/components/admin/AdminDashboard.vue?8c7e","webpack:///./src/components/admin/AdminDashboard.vue?50b3","webpack:///./src/components/admin/AdminUsers.vue","webpack:///./src/components/admin/UserModal.vue","webpack:///src/components/admin/UserModal.vue","webpack:///./src/components/admin/UserModal.vue?6868","webpack:///./src/components/admin/UserModal.vue?a203","webpack:///./src/components/admin/UserDetails.vue","webpack:///src/components/admin/UserDetails.vue","webpack:///./src/components/admin/UserDetails.vue?26ee","webpack:///./src/components/admin/UserDetails.vue?2168","webpack:///src/components/admin/AdminUsers.vue","webpack:///./src/components/admin/AdminUsers.vue?272f","webpack:///./src/components/admin/AdminUsers.vue?af68","webpack:///./src/components/admin/AdminSoftware.vue","webpack:///./src/components/admin/TrustedSourceModal.vue","webpack:///src/components/admin/TrustedSourceModal.vue","webpack:///./src/components/admin/TrustedSourceModal.vue?9711","webpack:///./src/components/admin/TrustedSourceModal.vue?db49","webpack:///src/components/admin/AdminSoftware.vue","webpack:///./src/components/admin/AdminSoftware.vue?595c","webpack:///./src/components/admin/AdminSoftware.vue?45e5","webpack:///./src/components/admin/AdminConfiguration.vue","webpack:///src/components/admin/AdminConfiguration.vue","webpack:///./src/components/admin/AdminConfiguration.vue?eb2c","webpack:///./src/components/admin/AdminConfiguration.vue?54e2","webpack:///./src/components/admin/AdminTags.vue","webpack:///./src/components/tag/TagModal.vue","webpack:///src/components/tag/TagModal.vue","webpack:///./src/components/tag/TagModal.vue?88ff","webpack:///./src/components/tag/TagModal.vue?5e14","webpack:///src/components/admin/AdminTags.vue","webpack:///./src/components/admin/AdminTags.vue?d7c5","webpack:///./src/components/admin/AdminTags.vue?7b67","webpack:///src/components/admin/AdminPanel.vue","webpack:///./src/components/admin/AdminPanel.vue?5222","webpack:///./src/components/admin/AdminPanel.vue?795b","webpack:///./src/components/user/UserActivity.vue","webpack:///src/components/user/UserActivity.vue","webpack:///./src/components/user/UserActivity.vue?bd37","webpack:///./src/components/user/UserActivity.vue?4656","webpack:///./src/components/PageNotFound.vue","webpack:///src/components/PageNotFound.vue","webpack:///./src/components/PageNotFound.vue?bbf2","webpack:///./src/components/PageNotFound.vue?2fe0","webpack:///./src/components/software/SoftwareInformation.vue","webpack:///./src/components/software/SoftwareParameterDetails.vue","webpack:///src/components/software/SoftwareParameterDetails.vue","webpack:///./src/components/software/SoftwareParameterDetails.vue?0bc9","webpack:///./src/components/software/SoftwareParameterDetails.vue?40db","webpack:///./src/components/charts/SoftwareStatisticsChart.js","webpack:///src/components/software/SoftwareInformation.vue","webpack:///./src/components/software/SoftwareInformation.vue?3a35","webpack:///./src/components/software/SoftwareInformation.vue?aa76","webpack:///./src/routes.js","webpack:///src/vuelayers-suppl/zoomify-source/source.vue","webpack:///./src/vuelayers-suppl/zoomify-source/source.vue","webpack:///./src/vuelayers-suppl/zoomify-source/source.vue?334d","webpack:///./src/vuelayers-suppl/zoomify-source/index.js","webpack:///./src/vuelayers-suppl/raster-source/source.vue","webpack:///src/vuelayers-suppl/raster-source/source.vue","webpack:///./src/vuelayers-suppl/raster-source/source.vue?6923","webpack:///./src/vuelayers-suppl/raster-source/index.js","webpack:///src/vuelayers-suppl/translate-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/translate-interaction/interaction.vue?d16d","webpack:///./src/vuelayers-suppl/translate-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/translate-interaction/index.js","webpack:///src/vuelayers-suppl/rotate-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/rotate-interaction/interaction.vue?c699","webpack:///./src/vuelayers-suppl/rotate-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/rotate-interaction/index.js","webpack:///./src/vuelayers-suppl/modify-interaction/modify.js","webpack:///src/vuelayers-suppl/modify-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/modify-interaction/interaction.vue?0faa","webpack:///./src/vuelayers-suppl/modify-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/modify-interaction/index.js","webpack:///src/vuelayers-suppl/rescale-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/rescale-interaction/interaction.vue?9142","webpack:///./src/vuelayers-suppl/rescale-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/rescale-interaction/index.js","webpack:///./src/App.vue","webpack:///./src/components/navbar/CytomineNavbar.vue","webpack:///./src/components/navbar/NavbarDropdown.vue","webpack:///src/components/navbar/NavbarDropdown.vue","webpack:///./src/components/navbar/NavbarDropdown.vue?09a2","webpack:///./src/components/navbar/NavbarDropdown.vue?7640","webpack:///./src/components/navbar/NavigationTree.vue","webpack:///src/components/navbar/NavigationTree.vue","webpack:///./src/components/navbar/NavigationTree.vue?9566","webpack:///./src/components/navbar/NavigationTree.vue?0eeb","webpack:///./src/components/navbar/HotkeysModal.vue","webpack:///src/components/navbar/HotkeysModal.vue","webpack:///./src/components/navbar/HotkeysModal.vue?7b4f","webpack:///./src/components/navbar/HotkeysModal.vue?83b3","webpack:///./src/components/navbar/AboutCytomineModal.vue","webpack:///src/components/navbar/AboutCytomineModal.vue","webpack:///./src/components/navbar/AboutCytomineModal.vue?63f6","webpack:///./src/components/navbar/AboutCytomineModal.vue?db1f","webpack:///./src/components/search/CytomineSearcher.vue","webpack:///src/components/search/CytomineSearcher.vue","webpack:///./src/components/search/CytomineSearcher.vue?ef3e","webpack:///./src/components/search/CytomineSearcher.vue?1a09","webpack:///src/components/navbar/CytomineNavbar.vue","webpack:///./src/components/navbar/CytomineNavbar.vue?f010","webpack:///./src/components/navbar/CytomineNavbar.vue?e801","webpack:///./src/components/user/Login.vue","webpack:///./src/components/user/Register.vue","webpack:///src/components/user/Register.vue","webpack:///./src/components/user/Register.vue?e235","webpack:///./src/components/user/Register.vue?6cda","webpack:///src/components/user/Login.vue","webpack:///./src/components/user/Login.vue?d0ff","webpack:///./src/components/user/Login.vue?4011","webpack:///src/App.vue","webpack:///./src/App.vue?774d","webpack:///./src/App.vue?3746","webpack:///./src/main.js","webpack:///./src/components/description/CytomineDescription.vue?8d2e","webpack:///./src/components/admin/AdminConfiguration.vue?09f5","webpack:///./src/components/track/CytomineTrack.vue?ef9b","webpack:///./src/components/project/ProjectConnectionDetails.vue?aae0","webpack:///./src/components/image/ListImagesPreview.vue?5197","webpack:///./src/components/search/AdvancedSearch.vue?80ef","webpack:///./src/components/track/TrackModal.vue?4484","webpack:///./src/components/navbar/AboutCytomineModal.vue?3bf3","webpack:///./src/assets/brands/aperio.jpg","webpack:///./src/components/job/ListJobs.vue?ca29","webpack:///./src/components/user/ListUsernames.vue?ae78","webpack:///./src/components/track/TrackTree.vue?6774","webpack:///./src/assets/brands/leica.png","webpack:///./src/components/tag/AddTagDomainAssociationModal.vue?92bc","webpack:///./src/components/ontology/ListOntologies.vue?993f","webpack:///./src/components/property/CytomineProperties.vue?1113","webpack:///./src/components/project/activity/MemberActivityDetails.vue?07cd","webpack:///./src/components/viewer/panels/colors/AdjustableLookUpTable.vue?c36c","webpack:///./src/assets/sponsors/logo-uliege.png","webpack:///./src/components/project/configuration-panels/ProjectImageFilters.vue?3116","webpack:///./src/components/tag/CytomineTags.vue","webpack:///./src/components/tag/AddTagDomainAssociationModal.vue","webpack:///src/components/tag/AddTagDomainAssociationModal.vue","webpack:///./src/components/tag/AddTagDomainAssociationModal.vue?2af0","webpack:///./src/components/tag/AddTagDomainAssociationModal.vue?43bd","webpack:///src/components/tag/CytomineTags.vue","webpack:///./src/components/tag/CytomineTags.vue?f716","webpack:///./src/components/tag/CytomineTags.vue?a0fc","webpack:///./src/components/project/configuration-panels/AddMemberModal.vue?3959","webpack:///./src/components/software/SoftwareDetails.vue?ccb4","webpack:///./src/components/project/configuration-panels/ProjectSoftwares.vue?d9c4","webpack:///./src/components/GlobalDashboard.vue?a96d","webpack:///./src/components/job/JobParameterRow.vue?e304","webpack:///./src/components/job/JobDetails.vue?9888","webpack:///./src/components/viewer/panels/InformationPanel.vue?43e1","webpack:///./src/components/ontology/OntologyTree.vue?9267","webpack:///./src/components/tag/CytomineTags.vue?61eb","webpack:///./src/components/image/ImagePreview.vue?ecf6","webpack:///./src/utils/store-helpers.js","webpack:///./src/components/PageNotFound.vue?c46a","webpack:///./src/components/viewer/panels/colors/CytomineChannel.vue?a380","webpack:///./src/components/navbar/NavbarDropdown.vue?a6cf","webpack:///./src/utils/token-utils.js","webpack:///./src/components/utils/ActivityLogsItem.vue?45f5","webpack:///./src/components/navbar/NavigationTree.vue?e6ed","webpack:///./src/components/annotations/ListAnnotations.vue?174a","webpack:///./src/components/attached-file/AttachedFileModal.vue?045e","webpack:///./src/components/attached-file/AttachedFiles.vue","webpack:///./src/components/attached-file/AttachedFileModal.vue","webpack:///src/components/attached-file/AttachedFileModal.vue","webpack:///./src/components/attached-file/AttachedFileModal.vue?a373","webpack:///./src/components/attached-file/AttachedFileModal.vue?8269","webpack:///src/components/attached-file/AttachedFiles.vue","webpack:///./src/components/attached-file/AttachedFiles.vue?612d","webpack:///./src/components/attached-file/AttachedFiles.vue?f128","webpack:///./src/components/viewer/panels/LinkPanel.vue?c890","webpack:///./src/assets/brands/roche.gif","webpack:///./src/assets/logo.svg","webpack:///./src/components/ontology/OntologyTree.vue?4f72","webpack:///./src/components/viewer/panels/ReviewPanel.vue?2147","webpack:///./src/components/project/configuration-panels/CustomUIProject.vue?1aba","webpack:///./src/components/utils/RenameModal.vue?ac3e","webpack:///./src/components/icons/IconProjectMemberRole.vue?20d7","webpack:///./src/components/image/ImageName.vue","webpack:///src/components/image/ImageName.vue","webpack:///./src/components/image/ImageName.vue?e91b","webpack:///./src/components/image/ImageName.vue?1456","webpack:///./src/components/annotations/ListAnnotationsBy.vue?67a6","webpack:///./src/components/image/ImageMetadataModal.vue?41ba","webpack:///./src/components/project/ProjectSidebar.vue?5915","webpack:///./src/components/navbar/HotkeysModal.vue?7bc5","webpack:///./src/components/image/ImageInformation.vue?2b50","webpack:///./src/components/project/ProjectConfiguration.vue?90f3","webpack:///./src/components/viewer/ChannelName.vue?df1d","webpack:///./src/components/software/SoftwareParameterDetails.vue?4da5","webpack:///./src/components/utils/CytomineTable.vue?b74d","webpack:///./src/components/viewer/panels/PropertiesPanel.vue?7f75","webpack:///./src/components/utils/CytomineModalCard.vue","webpack:///src/components/utils/CytomineModalCard.vue","webpack:///./src/components/utils/CytomineModalCard.vue?04d3","webpack:///./src/components/utils/CytomineModalCard.vue?976d","webpack:///./src/components/user/Account.vue?d899","webpack:///./src/components/software/ListSoftware.vue?9d13","webpack:///./src/components/project/configuration-panels/ProjectSoftwares.vue?1695","webpack:///./src/components/viewer/panels/LayersPanel.vue?cb4e","webpack:///./src/components/viewer/ImageControls.vue?ac89","webpack:///./src/components/admin/AdminPanel.vue?2ce1","webpack:///./src/assets/brands/3dh.png","webpack:///./src/components/image/ListImages.vue?6c4c","webpack:///./src/utils/string-utils.js","webpack:///./src/components/form/CytomineMultiselect.vue?6d5a","webpack:///./src/components/utils/ActivityLogs.vue?cf55","webpack:///./src/components/viewer/panels/ColorManipulation.vue?ff96","webpack:///./src/components/job/AddJobModal.vue?2f9d","webpack:///./src/components/viewer/ImageSelector.vue?1c68","webpack:///./src/components/viewer/panels/DigitalZoom.vue?2685","webpack:///./src/components/user/Username.vue?137b","webpack:///./src/components/viewer/panels/FollowPanel.vue?e3ac","webpack:///./src/components/project/activity/ProjectActivityCharts.vue?4c72","webpack:///./src/components/image/ImageName.vue?30af","webpack:///./src/components/project/ProjectActivity.vue?214a","webpack:///./src/components/utils/CytomineTask.vue?4adb","webpack:///./src/components/admin/AdminDashboard.vue?a996","webpack:///./src/utils/constants.js","webpack:///./src/components/form/CytomineQuillEditor.vue?4c30","webpack:///./src/components/project/activity/MemberActivityDetails.vue?615f","webpack:///./src/components/project/configuration-panels/GeneralConfiguration.vue?2573","webpack:///./src/components/project/configuration-panels/ProjectImageFilters.vue?abb9","webpack:///./src/components/track/TrackTree.vue","webpack:///./src/components/track/TrackModal.vue","webpack:///src/components/track/TrackModal.vue","webpack:///./src/components/track/TrackModal.vue?1c0d","webpack:///./src/components/track/TrackModal.vue?8734","webpack:///src/components/track/TrackTree.vue","webpack:///./src/components/track/TrackTree.vue?1158","webpack:///./src/components/track/TrackTree.vue?35b8","webpack:///./src/components/viewer/panels/FollowPanel.vue?d74b","webpack:///./src/components/track/TrackTree.vue?b29e","webpack:///./src/components/user/Login.vue?0f68","webpack:///./src/components/attached-file/AttachedFiles.vue?05d7","webpack:///./src/components/storage/UploadedFileDetails.vue?ace2","webpack:///./src/components/annotations/AnnotationDetails.vue?4c61","webpack:///./src/components/annotations/AnnotationCommentsModal.vue?813e","webpack:///./src/components/software/ListSoftware.vue?e1c8","webpack:///./src/components/utils/DomainTagInput.vue","webpack:///src/components/utils/DomainTagInput.vue","webpack:///./src/components/utils/DomainTagInput.vue?9212","webpack:///./src/components/utils/DomainTagInput.vue?4ff9","webpack:///./src/components/viewer/ScaleLine.vue?2547","webpack:///./src/components/viewer/CytomineViewer.vue?a56d","webpack:///./src/components/viewer/ChannelName.vue","webpack:///src/components/viewer/ChannelName.vue","webpack:///./src/components/viewer/ChannelName.vue?738a","webpack:///./src/components/viewer/ChannelName.vue?61f0","webpack:///./src/utils/user-utils.js","webpack:///./src/assets/sponsors/logo-wallonie.png","webpack:///./src/components/viewer/panels/colors/CytomineChannel.vue?b993","webpack:///./src/components/form/CytomineDatepicker.vue?7d38","webpack:///./src/components/form/CytomineQuillEditor.vue","webpack:///src/components/form/CytomineQuillEditor.vue","webpack:///./src/components/form/CytomineQuillEditor.vue?3d54","webpack:///./src/components/form/CytomineQuillEditor.vue?788b","webpack:///./src/components/viewer/ImageControls.vue?1575","webpack:///./src/components/viewer/ImageControlsShiftButtons.vue?de86","webpack:///./src/components/viewer/panels/ColorManipulation.vue?9bb4","webpack:///./src/components/property/CytomineProperties.vue","webpack:///src/components/property/CytomineProperties.vue","webpack:///./src/components/property/CytomineProperties.vue?5d0d","webpack:///./src/components/property/CytomineProperties.vue?f45d","webpack:///./src/components/search/CytomineSearcher.vue?e863","webpack:///./src/components/form/CytomineSlider.vue?22d8"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","staticClass","class","selector","allowSelection","draggable","allowDrag","editable","allowEdition","ref","attrs","on","select","drop","scopedSlots","_u","fn","_ref","node","hidden","isLeaf","children","isExpanded","_e","_ref2","classNames","_ref3","_t","$event","startTermUpdate","confirmTermDeletion","model","treeNodes","callback","$$v","expression","noResult","_v","_s","$t","allowNew","startTermCreation","staticRenderFns","preventDefault","save","term","$parent","close","errors","any","proxy","has","first","directives","rawName","presetColors","color","props","ontology","components","Sketch","CytomineModalCard","$_veeValidate","validator","computed","methods","randomColor","Math","random","toString","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","$validator","validateAll","sent","abrupt","update","stop","_this2","_callee2","_context2","Term","hex","id","$notify","type","text","$emit","t0","_this3","_callee3","_context3","created","component","prop","event","additionalNodes","Array","default","startWithAdditionalNodes","Boolean","searchString","String","selectedNodes","multipleSelection","hiddenNodes","SlVueTree","CytomineTerm","internalSelectedNodes","editedNode","regexp","getWildcardRegexp","every","watch","makeTree","refreshNodeSelection","filter","nodes","createSubTree","array","concat","terms","map","createNode","title","isDraggable","isSelected","includes","parent","applyToAllNodes","match","test","matchInChildren","some","child","clickOnTreeSelector","target","forEach","indexSelected","indexOf","_this4","elem","classList","contains","parentElement","fct","_this5","arguments","undefined","openModal","createTerm","updateTerm","$refs","tree","updateNode","path","_objectSpread","$buefy","modal","open","TermModal","events","newTerm","hasModalCard","position","_this6","idParent","placement","changeParent","tmp","_x","_this7","dialog","confirm","message","confirmText","cancelText","onConfirm","deleteTerm","_this8","delete","remove","loading","description","domProps","previewDescription","croppedDescription","canEdit","expanded","edit","stopPreviewKeyword","descriptionContent","descriptionWithoutKeywords","CytomineQuillEditor","replace","RegExp","constants","STOP_PREVIEW_KEYWORD","updatedDesc","clone","maxPreviewLength","Number","modalOpened","posStop","substring","DescriptionModal","Description","change","newDesc","fetch","showImageInfo","annotation","project","image","showChannelInfo","sliceChannel","isPropDisplayed","area","toFixed","areaUnit","perimeter","perimeterUnit","_l","associatedTerms","user","username","fullName","canEditTerms","removeTerm","showTermSelector","addTermString","associatedTermsIds","addTerm","maxRank","associatedTracks","track","removeTrack","showTrackSelector","addTrackString","availableTracks","associatedTracksIds","newTrack","addTrack","internalUseFilteredProperties","removeProp","addProp","creator","isReviewedAnnotation","reviewer","_f","isImageInReviewMode","currentUser","isDeveloper","annotationURL","openCrop","copyURL","comments","openCommentsModal","confirmDeletion","comment","senderName","addingComment","guestByNow","members","sendToAllMembers","selectedMembers","share","DomainTagInput","allMembers","member","uri","location","origin","$nextTick","reset","sender","newComment","AnnotationComment","subject","from","receivers","shareAnnotationURL","ChannelName","ImageName","CytomineDescription","OntologyTree","CytomineTags","CytomineProperties","AttachedFiles","AnnotationCommentsModal","TrackTree","CytomineTrack","tracks","users","images","slices","showComments","revTerms","revTracks","properties","loadPropertiesError","configUI","shortTermToken","find","AnnotationType","REVIEWED","reviewUser","$store","getters","USER","instanceFilename","inReview","depth","duration","channels","userByTerm","ubt","annotationTrack","at","isPoint","startsWith","PREFIX_HIDDEN_PROPERTY_KEY","appendShortTermToken","assign","url","copyToClipboard","dispatch","idTerm","_this9","AnnotationTerm","finish","idUser","_this10","findUserByTerm","_this11","_callee4","_context4","idTrack","_this12","_callee5","_context5","AnnotationTrack","_this13","_callee6","_context6","addComment","unshift","_this14","deleteAnnot","_this15","_callee7","_context7","_this16","_callee8","_context8","ALGO","AnnotationCommentCollection","fetchAll","PropertyCollection","t1","style","webpackContext","req","webpackContextResolve","e","Error","code","keys","resolve","background","welcomeMessage","recentProjects","row","projects","nbImages","nbUserAnnots","nbReviewed","lastOpenedImage","blindMode","fullHeightCard","idProject","idImage","figureStyle","isBlindMode","blindedName","imageName","showProject","projectName","isWebPSupported","document","createElement","getContext","toDataURL","SUPPORT_WEBP","IMAGE_FORMAT","splitImageUrl","rawUrl","URL","pathname","split","params","searchParams","host","protocol","combineImageUrl","format","URLSearchParams","formattedParams","sep","changeImageUrlFormat","newFormat","rawPreviewUrl","thumb","imageThumb","previewUrl","backgroundImage","ImagePreview","nbRecent","ImageInstanceCollection","fetchLastOpened","max","ListImagesPreview","recentProjectsId","recentImages","reduce","count","numberOfImages","lastOpened","fetchProjects","ProjectCollection","fetchNbAnnots","fetchNbAnnotations","fetchNbReviewedAnnots","fetchRecentProjectsId","listRecent","recent","fetchRecentImages","fetchWelcomeMessage","Configuration","CONFIG_KEY_WELCOME","Promise","all","catch","error","creationModal","toggleFilterDisplay","_m","filtersOpened","nbActiveFilters","availableOntologies","selectedOntologies","availableRoles","selectedRoles","availableTags","selectedTags","maxNbMembers","boundsMembers","maxNbImages","boundsImages","maxNbUserAnnotations","boundsUserAnnotations","algoEnabled","maxNbJobAnnotations","boundsJobAnnotations","maxNbReviewedAnnotations","boundsReviewedAnnotations","projectCollection","nbEmptyFilters","currentPage","perPage","openedDetails","sortField","sortOrder","revision","currentUserRoles","admin","representative","membersCount","numberOfAnnotations","numberOfJobAnnotations","numberOfReviewedAnnotations","lastActivity","excludedProperties","updateProject","deleteProject","ontologies","total","internalPerPage","internalCurrentPage","detailed","detailKey","openedDetailed","sort","order","checkable","internalCheckedRows","isRowCheckable","updateSort","column","label","index","perPageOptions","option","collection","isEmpty","refreshInterval","checkedRows","Function","internalSort","internalOrder","timeout","internalCollection","fetchPage","page","previousValue","chckedRows","clearTimeout","_arguments","showLoading","totalNbItems","u","setTimeout","trackBy","groupLabel","groupValues","options","multiple","internalCloseOnSelect","searchable","allowEmpty","disabled","selectAllAvailable","selectAll","allSelected","isOpen","allPlaceholder","displayedOptions","countNotDisplayed","$tc","Multiselect","closeOnSelect","maxNbDisplayed","opt","newValue","tooltip","isArray","smartTooltipPosition","size","min","interval","tooltipPlacement","lazy","dotSize","contained","internalValue","stopPropagation","startEdition","indexEdited","round","focus","stopEdition","nativeOn","_k","keyCode","editedValue","VueSlider","integerOnly","range","middle","values","v","_","isNaN","parsedValue","parseInt","newVal","reverse","inputSlider","canManageProject","ontologyName","onlines","representatives","managers","contributors","filteredUsers","usersToDisplay","isOnline","tooManyUsers","resolvedUser","online","displayFullName","fetchedUser","User","Username","nbDisplayed","isRenameModalActive","rename","saveOntology","isOntologyModalActive","savingOntology","errorOntologies","loadingOntologies","selectedOntology","cannotDeleteOntology","active","newName","extends","CytomineModal","currentName","RenameModal","val","OntologyCollection","light","a","b","localeCompare","updatedProject","forceOntologyUpdate","counts","response","errorValues","algoAssociatedTermsCount","reviewedAssociatedTermsCount","userAssociatedTermsCount","ListUsernames","ProjectActions","adminByNow","managersIds","manager","fetchCreator","fetchManagers","fetchAdministrators","fetchRepresentatives","fetchMembers","fetchUsers","fetchOnlines","fetchConnectedUsers","createProject","idOntology","Ontology","Project","$router","status","isManager","isRepresentative","IconProjectMemberRole","CytomineTable","ProjectDetails","AddProjectModal","CytomineMultiselect","CytomineSlider","contributorLabel","managerLabel","ALGORITHMS_ENABLED","sync","debounce","_toConsumableArray","querySearchTags","$route","query","tags","syncMultiselectFilter","syncBoundsFilter","selectedOntologiesIds","boundsFilters","bounds","withMembersCount","withLastActivity","withCurrentUserRoles","in","join","toLowerCase","ilike","encodeURIComponent","_step","_iterator","_createForOfIteratorHelper","done","_step$value","lte","err","f","fetchOntologies","fetchMaxFilters","queriedTags","tag","stats","fetchBounds","fetchTags","TagCollection","t2","t3","projectToDelete","newUploadError","formatInfos","remarks","labelButton","storages","extendedName","selectedStorage","selectedProjects","dropFiles","wrapper","idx","file","filesize","uploadedFile","progress","startUpload","cancelUpload","ongoingUpload","overallProgress","plainFiles","filesChange","filesPendingUpload","startAll","cancelAll","filesFinishedUpload","hideFinished","debounceSearchString","uploadedFileCollection","tableRefreshInterval","uFile","thumbURL","Authorization","originalFilename","updatedTree","iconOnly","textClass","iconClass","labels","isSuccessful","nbChildren","tagClass","UploadedFileStatus","CONVERTED","DEPLOYED","_defineProperty","UPLOADED","ERROR_FORMAT","ERROR_CONVERSION","EXTRACTED","ERROR_DEPLOYMENT","DETECTING_FORMAT","EXTRACTING_DATA","ERROR_EXTRACTION","CONVERTING","DEPLOYING","download","samplePreview","macroURL","slidePreview","nbUploadedFiles","nbPerPage","filename","webpSrc","jpegSrc","macro","extraParameters","formatSrc","splitURL","urlParts","set","_i","_Object$entries","entries","_Object$entries$_i","_slicedToArray","combineURL","associatedImageURL","ImageThumbnail","rootId","uploadedFiles","UploadedFileCollection","root","findRoot","fetchAbstractImage","UFStatus","AbstractImage","createNodes","directChildren","missingIds","lTree","UploadedFile","downloadURL","_x2","base","deleteFile","_callee9","_context9","projectNames","imageNames","names","UploadedFileStatusComponent","UploadedFileDetails","timeoutRefreshSessionUploads","STORAGE_REFRESH_INTERVAL","signature","signatureDate","finishedStatus","uploading","nbUploads","totalProgress","floor","queryString","str","CYTOMINE_CORE_HOST","onlyRootsWithDetails","Date","toISOString","Cytomine","instance","fetchSignature","method","date","fetchStorages","StorageCollection","storage","fetchFormatInfos","api","refreshStatusSessionUploads","pendingStatus","unfinishedConversions","statusChange","oldStatus","ONGOING_UPLOAD_REFRESH_INTERVAL","files","processed","cancelToken","fileWrapper","formData","FormData","append","axios","CancelToken","source","post","CYTOMINE_UPLOAD_HOST","headers","publicKey","onUploadProgress","loaded","token","then","isCancel","finally","cancel","nbFiles","activated","deactivated","filteredOntologies","selectOntology","deleteOntology","renameOntology","addOntology","fullOntology","nbProjects","creatorFullname","managedProjects","hasAccessToAllProjects","allProjectsAreCollaborative","manageAllProjects","isRestricted","isReadOnly","mp","fetchOntology","filterKey","filterValue","fetchManagedProjects","oldName","createOntology","OntologyDetails","AddOntologyModal","idTargetOntology","state","selectTargetOntology","commit","sortOntologies","findIndex","maxNbJobs","boundsJobs","maxNbSuccessJobs","boundsSuccessJobs","onlyLastReleases","onlyExecutables","filteredSoftwares","field","software","sortBySoftwareStatus","executable","numberOfJob","numberOfSuccess","updateSoftware","deleteSoftware","softwareVersion","deprecated","canManageSoftware","executeCommand","pullingCommand","sourceCodeProviderIcon","sourceCodeProvider","prefix","environmentProviderIcon","environmentProvider","dockerUsername","supportedProviders","provider","formatProvider","sourceCodeProviderLink","environmentProviderLink","SoftwareSourceButtons","SoftwareSource","BooleanItem","SoftwareStatus","fetchData","promises","fetchSource","softwareUserRepository","TrustedSource","isBetweenBounds","SoftwareDetails","softwares","syncFilter","filtered","listSoftware","asc","getSoftwareStatusValue","updatedSoftware","populate","softwareToDelete","softwareName","SoftwareCollection","canAddImage","addImageModal","availableFormats","selectedFormats","availableVendors","selectedVendors","availableMagnifications","selectedMagnifications","availableResolutions","selectedResolutions","maxWidth","boundsWidth","maxHeight","boundsHeight","imageCollection","magnification","refreshData","metadataFilteredProperties","isBlindModeAndContributor","isMetadataModalActive","contentType","vendor","imgPath","width","physicalSizeX","height","physicalSizeY","physicalSizeZ","fps","formatMinutesSeconds","time","apparentChannels","samplePerPixel","reviewed","cancelReview","isCalibrationModalActive","isMagnificationModalActive","canDownloadImages","onlyMetadataProperties","setMagnification","fieldType","newMagnification","currentProject","updateImage","setResolution","calibrationFieldX","calibrationFactorX","calibrationFieldZ","calibrationFactorZ","calibrationFieldT","x","y","z","styleImagePreview","rotationAngle","rotate","filteredProps","clientWidth","clientHeight","minutes","remainder","seconds","milliseconds","padStart","slicePositionToRank","channel","zStack","vendors","hamamatsu","require","aperio","leica","roche","philips","vendorFromFormat","MagnificationModal","CalibrationModal","ImageMetadataModal","ImageStatus","areImagesDownloadable","imageNameNotif","METADATA_PREFIXES","errorLabel","stopReview","deleteImage","ImageInstance","wasAdded","isInProject","addImage","idsAddedImages","AbstractImageCollection","abstractImage","propsTranslation","baseImage","inProject","storeOptions","rootModuleProp","localSyncMultiselectFilter","filterName","localSyncBoundsFilter","maxProp","ImageDetails","AddImageModal","storeModule","multiSelectFilters","selected","selectedContentTypes","allowUnknown","ct","_step2","_iterator2","_step2$value","fetchFilters","countImageAnnotations","countImageJobAnnotations","countImageReviewedAnnotations","list","vendorFormatted","permissionError","notFoundError","prevRoute","resolution","beforeRouteEnter","to","vm","loadImage","allowedCategorizations","selectedCategorization","allowedSizes","selectedSize","colors","selectedColor","annotationTypes","selectedAnnotationType","additionalTermNodes","selectedTermsIds","filteredTracks","additionalTrackNodes","selectedTracksIds","tagsOptions","jobAnnotationOption","userJobs","selectedUserJobs","userAnnotationOption","filteredMembers","selectedReviewers","tooManyImages","selectedImages","toDate","fromDate","scrollHandler","limitedCategoryOptions","showList","categorization","hexaCode","allUsers","isByTerm","multipleTermsOption","noTermOption","noTerm","isByTrack","multipleTracksOption","noTrackOption","noTrack","selectedTagsIds","isByTag","noTagOption","noTag","selectedImagesIds","selectedUsersIds","reviewUsersIds","afterThan","beforeThan","viewAnnot","areAllOptionsLoaded","loadCategories","styles","placeholder","minDate","maxDate","moment","months","weekdaysMin","resetButton","activeSelector","displayedSelectedTerms","composing","handleSelection","getAllTerms","processNodes","allTerms","ids","input","isInViewer","titlePrefix","titleSuffix","nbAnnotations","annotations","annot","activeSlicesIds","allImages","allTracks","opened","modifiers","clickable","styleAnnotDetails","currentTarget","sameViewOnClick","showDetails","showSliceInfo","AnnotationDetails","revisionCrop","cropParameters","square","complete","thickness","increaseArea","rev","draw","updated","cropUrl","annotationCropURL","backgroundRepeat","trySameView","el","isSameNode","previewButton","reloadAnnotationCropHandler","mounted","$eventBus","$on","beforeDestroy","$off","multipleTerms","multipleTracks","termsIds","tracksIds","tagsIds","imagesIds","usersIds","slicesIds","allTags","visible","AnnotationPreview","pendingReload","savedSlice","isByUser","isByImage","isUncategorized","filteredTermsIds","filteredTracksIds","MAX_IMAGES_FOR_FILTER","AnnotationCollection","multipleTerm","multipleTrack","reviewUsers","showTerm","showGIS","showTrack","showWKT","showImage","showSlice","projectModule","imageModule","imageWrapper","annotationsList","currentPages","listAnnotations","activeSlices","activeSliceWithSmallestRank","orderBy","newCollection","oldCollection","initialize","findPage","countCollection","beforeSlice","t4","ceil","setLoading","isCluster","feature","createStrokeStyle","opacity","colorArray","hexToRgb","colorWithOpacity","stroke","Stroke","Style","Circle","radius","createLineStrokeStyle","createStroke","ANNOTATION_STROKE_COLOR","black","createColorStyle","fill","Fill","circleStyle","setOpacity","createColorLineStyle","textFill","textStroke","createTextStyle","fontSize","Text","font","overflow","blue","green","lightGreen","red","lightRed","white","blueStroke","greenStroke","lightGreenStroke","redStroke","lightRedStroke","whiteStroke","selectStroke","ANNOTATION_STROKE_SELECT_COLOR","trackedSelectStyles","selectStyles","verticesStyle","geometry","coordinates","getGeometry","getCoordinates","MultiPoint","reviewedStyles","reviewedSelectStyles","rejectedStyles","rejectedSelectStyles","changeOpacity","getStroke","getColor","getFill","getImage","createDefaultColor","defaultColors","freeze","displayedSelectedTracks","categoryBatch","CATEGORY_ITEMS_PER_BATCH","TrackTreeMultiselect","CytomineDatepicker","OntologyTreeMultiselect","ListAnnotationsBy","projectUsers","reviewedAnnotationOption","uncategorizedOption","nLoadedOptionsPerCategory","ANNOTATIONS_MAX_ITEMS_PER_CATEGORY","categorizations","targetAnnotationType","hideUsersLayers","hideAdminsLayers","idManagers","termsOptions","termOptionsIds","tracksOptions","trackOptionsIds","getTime","setHours","querySearchImage","img","categoryOptions","scrollBlock","listAnnots","actualScrollPos","scrollTop","scrollHeight","newCount","fetchImages","UserCollection","fetchUserJobs","UserJobCollection","userJob","fetchTracks","TrackCollection","getDownloadURL","resetPagesAndFilters","queriedImage","queriedUserJob","uj","activeTab","endDate","startDate","activeComponent","daysRange","nbProjectVisits","nbImageConsultations","nbAnnotationSelections","selectedTerms","styleAnnotationTermChart","nbElemsAnnotationTermChart","styleAnnotationContributorChart","nbElemsAnnotationContributorChart","Bar","annotationsEvolution","chartData","locale","$i18n","queryParams","accumulate","reverseOrder","updateChart","updateLabels","fetchAnnotationsEvolution","annotationType","datasets","item","$options","filters","$data","_chart","backgroundColor","borderWidth","renderChart","maintainAspectRatio","scales","yAxes","ticks","xAxes","categoryPercentage","gridLines","display","defaultColor","HorizontalBar","leafsOnly","doRenderChart","borderColors","fetchStatsTerms","_hexToRgb","_hexToRgb2","g","factor","borderColor","hoverBorderColor","legend","suggestedMax","addPlugin","ChartDataLabels","fetchStatsAnnotatedImagesByTerm","contribs","fetchStatsAnnotationCreators","fetchStatsAnnotatedImagesByCreator","projectConnections","imageConsultations","annotationSelections","fetchProjectConnections","fetchConnectionsEvolution","fetchImageConsultations","fetchImageConsultationsEvolution","fetchAnnotationSelections","fetchAnnotationActionsEvolution","action","NumberAnnotationsChart","AnnotationTermChart","AnnotatedImagesByTermChart","AnnotationContributorChart","AnnotatedImagesByContributorChart","ActivityOverviewChart","dayDuration","intervalDuration","loadData","fetchNbConnections","fetchNbImageConsultations","fetchNbAnnotationSelections","fetchNbAnnotationActions","lastUpdate","availableStatus","selectedStatus","onlineIds","role","managerRole","lastImageId","lastImageName","lastConnection","frequency","contributorRole","onlineStatus","offlineStatus","statusKnown","includeOnline","includeOffline","MEMBERS_ACTIVITY_REFRESH_INTERVAL","fetchUsersActivity","firstname","lastname","selectedUser","uJob","actions","formattedActions","month","refDate","days","day","loadedAllActions","loadActions","enter","leave","route","showPreview","ANNOT","IMAGE","PROJECT","actionData","JSON","parse","serviceName","annotationHandler","imageHandler","deleted","projectHandler","addCommandHandler","editCommandHandler","newUserAnnotation","newReviewedAnnotation","newAlgoAnnotation","newAnnotation","newImageInstance","className","ActivityLogsItem","offset","nbActionsPerPage","fullData","results","lastDate","idxMonths","idxDays","isSame","listActions","bottom","_this$actions","fetchCommandHistory","ActivityLogs","defaultTab","queriedTab","tab","ProjectActivityCharts","MembersActivity","ProjectActivityLogs","changeTab","canAddJob","launchModal","availableSoftwares","selectedSoftwares","availableLaunchers","selectedLaunchers","selectedDate","jobCollection","job","number","deleteJob","addJob","jobStatusMapping","JobStatus","RUNNING","statLabel","SUCCESS","FAILED","NOTLAUNCH","WAIT","INQUEUE","INDETERMINATE","KILLED","PREVIEWED","isRunning","statusComment","showParameters","jobParameters","param","humanName","isFinished","isJustFinished","log","showLog","canManageJob","hasAnnotationResult","allData","hasFileResult","jobData","viewData","downloadData","dataDeleted","relaunchJob","deletionModal","confirmJobDeletion","confirmJobKilling","deleteData","annotationsTerm","jobDatas","deletionTask","task","lastComment","TASK_REFRESH_INTERVAL","refresh","updatedTask","Task","REFRESH_INTERVAL","JOB_DETAILS_REFRESH_INTERVAL","REFRESH_LOG_INTERVAL","JOB_LOGS_REFRESH_INTERVAL","CytomineTask","justFinishedInterval","timeoutRefresh","now","force","Job","fetchLog","viewURL","maxRetries","fetchAllData","JobDataCollection","deleteAllData","killJob","kill","newJob","copy","execute","createJob","executableSoftwares","selectedSoftware","paramsMandatoryNoDefault","$set","optionalParams","showOptional","prefilledParams","showPrefilled","validationName","validationRules","uriPrintAttribut","areAnnotationObjects","smallCropURL","areTermObjects","areJobObjects","formatJob","inject","processedUri","uri_","basePath","required","decimal","objectsClass","getInitialValue","defaultParamValue","attribute","_yield$Cytomine$insta","uriSortAttribut","paramName","JobParameterRow","parameters","JobParameter","softwareParameter","JobDetails","AddJobModal","availableFavorites","selectedFavorites","JobCollection","gte","fetchMultiselectOptions","jobToDelete","refreshJobs","editingMode","hideManagersLayers","hideContributorsLayers","layerToAdd","unselectedLayers","layer","addDefaultLayer","selectedLayers","saveDefaultLayer","defaultLayers","hideByDefault","deleteDefaultLayer","imagesDownloadable","externalProjectUpdate","filteredKeys","defaultPropertyProp","keysAnnotationProps","fetchKeysAnnotationProperties","fetchDefaultPropertyProp","projectProps","DEFAULT_PROPERTY_KEY","Property","onCancel","isNew","DefaultProperty","layers","currentEditingMode","defaultLayer","selectedLayersIds","initData","fetchDefaultLayers","ProjectDefaultLayerCollection","newProps","ProjectDefaultLayer","addMemberModal","confirmMembersRemoval","MemberCollection","representativeRole","confirmToggleManager","toggleRepresentative","ldap","LDAP","displayMemberOrigin","exportURL","refreshMembers","addMembers","notMemberUsers","projectMembersIds","projectMembers","newProjectMembers","addUsers","AddMemberModal","removeSelectedMembers","deleteUsers","toggleManager","ProjectRepresentative","deleteAdmin","addAdmin","customUITree","category","superscript","icon","iconComponent","customUI","ADMIN_PROJECT","isParentDisabled","toggleProp","CONTRIBUTOR_PROJECT","staticStyle","parentConfiguration","IconLineFreeHand","IconPolygonFreeHand","userType","saveUIConfig","fetchUIConfig","loadingToggleSoftware","toggleSoftware","softwareProject","SoftwareProject","promiseSoftwares","promiseSoftwareProjects","softwareProjects","SoftwareProjectCollection","sp","filteredImageFilters","toggleFilter","imageFilters","imgFilter","filterProject","imageFilterProject","ImageFilterProject","imageFilter","promiseFilters","promiseFiltersProjects","filtersProject","ImageFilterCollection","ImageFilterProjectCollection","available","fp","GeneralConfiguration","ProjectMembers","CustomUIProject","ProjectSoftwares","ProjectImageFilters","editDetails","updatedUser","email","language","languages","savePassword","passwordExpired","typeCurrentPassword","messageCurrentPassword","isCheckingPassword","currentPassword","newPasswordDisabled","newPassword","is","confirmPassword","privateKey","regenerateKeys","Vue","use","VueI18n","fallbackLocale","messages","changeLanguageMixin","changeLanguage","$moment","rolesMapping","mixins","correctPassword","checkPassword","userNewPassword","password","scope","checkCurrentPassword","projectBlind","_ref4","pathSearchString","querySearchString","lowCaseSearchString","errorBadImageProject","cells","cell","elementHeight","elementWidth","closeMap","shortkeysMapping","shortkeyEvent","isActiveImage","zoom","projectionName","projectedMousePosition","coordinate","updateKeyboardInteractions","center","rotation","maxZoom","pow","extent","viewMounted","addOverviewMap","baseLayerURLs","imageSize","imageServerUrl","tileSize","setBaseSource","activeSelectInteraction","activeDrawInteraction","activeModifyInteraction","takeScreenshot","isPanelDisplayed","activePanel","togglePanel","view","animate","fitZoom","layersToPreload","tracking","broadcast","centerViewOnAnnot","overviewCollapsed","imageExtent","loaderFactory","strategyFactory","styleFunctionFactory","Action","SELECT","CREATE","UPDATE","DELETE","updateTermProperties","_updateTermProperties","annotTerms","mapping","AnnotationTermCollection","updateTrackProperties","_updateTrackProperties","annotTracks","AnnotationTrackCollection","annotBelongsToLayer","isReviewed","isReview","WKT","lastExtent","clustered","maxResolutionNoClusters","imageInstance","sliceIds","annotsIdsToSelect","selectedFeatures","annotsToSelect","ongoingEdit","layersOpacity","displayNoTerm","noTermOpacity","selectedPropertyKey","selectedPropertyColor","review","reviewMode","wrappedTracks","clearFeatures","cache","olSource","addAnnotationHandler","addFeature","createFeature","selectAnnotationHandler","olFeature","getFeatureById","reloadAnnotationsHandler","_ref2$clear","clear","_ref2$hard","hard","loader","reviewAnnotationHandler","deleteAnnotationHandler","editAnnotationHandler","setGeometry","readGeometry","indexSelectedFeature","ftr","indexFeature","removeFeature","$source","loadedExtentsRtree_","fetchAnnots","annots","notReviewedOnly","bbox","kmeans","updateFeature","getId","isFeatureSelected","storedAnnot","sameTerms","arrayAnnots","wasClustered","seenAnnots","features","obj","getFeatures","getFeaturesInExtent","readFeature","setId","terms1","terms2","transform","degreesRotation","increment","viewerModule","PI","inc","interpolation","scaleLineLength","scaleLength","mousePosition","unit","toPrecision","isToolDisplayed","activeTool","activateTool","isToolDisabled","accept","reject","termsToAssociate","disabledDraw","disabledDrawMessage","backgroundTermsNewAnnot","searchStringTerm","tracksToAssociate","backgroundTracksNewAnnot","searchStringTrack","refreshTracks","displayAnnotDetails","selectedFeature","activeEditTool","activateEditTool","disabledPaste","paste","maxRepeats","showRepeatSelector","nbRepeats","repeat","undo","undoneActions","redo","viewerWrapper","multipleActiveSlices","termsNewAnnots","tracksNewAnnots","tool","noActiveLayer","drawOn","undoRedo","activeImage","copiedAnnot","rank","geomType","Annotation","containsExtent","getExtent","translate","writeGeometry","opposedAction","reverseAction","command","newType","newAnnot","_collection","_newAnnot","lastCommand","getUpdatedAnnotation","jsonAnnot","reviewedannotation","reviewedAnnot","_callee10","_context10","parentIdent","shortkeyHandler","isImageMultidimensional","hasChannels","areChannelsMergeable","currentChannelsIndexesOption","setCurrentChannelsIndexes","orderedCurrentChannels","currentChannelsIndexes","channelOptions","currentSlice","hasChannelName","channelValue","currentChannelIndex","hasDepth","currentZStackIndex","hasDuration","currentTimeIndex","forward","canShift","shiftOne","selectorPlacement","arg","step","current","dimension","controls","shiftDirection","inputStepSelector","ImageControlsShiftButtons","currentSlices","nbSlices","seek","showMultiChannels","sliceInstances","channelName","channelIndex","MAX_MERGEABLE_CHANNELS","info","goToRank","canShiftForward","canShiftBackward","selectAnnotation","centerView","sameView","updateTermsOrTracks","updateProperties","handleDeletion","reload","positionAnnotDetails","dragStop","profiles","VueDraggableResizable","profile","targetAnnot","handleResize","maxX","maxY","playground","detailsPanel","addEventListener","destroyed","removeEventListener","AnnotationDetailsContainer","panel","updatedAnnot","_ref2$sameView","calibrationModal","isFirstImage","previousImage","isLastImage","nextImage","fetchPrevious","fetchReferenceSlice","fetchNext","digitalZoom","areBoundsAdjustedToSlice","adjustAllToSlice","adjustImageLabel","areBoundsAdjustedToImage","adjustAllToImage","areBoundsDefault","resetAll","histogramLogScale","intensitiesByMinMax","filteredManipulableChannels","mc","isApparentChannelVisibilityDisabled","setApparentChannelVisibility","sample","setApparentChannelColor","toggleLookUpTableDetails","isVisibleLookUpTableDetails","histogram","nBins","firstBin","lastBin","defaultBounds","minimum","maximum","gamma","inverted","manipulableChannels","imageBounds","setApparentChannelBounds","adjustToImage","adjustToSlice","setApparentChannelGamma","setApparentChannelInverted","selectedFilter","sameHistogramBounds","bounds1","bounds2","showColorSelector","formattedColor","setColor","editableColor","openColorSelector","formattedName","sampleIndex","nbSamplesPerChannel","rgbColors","leading","showAdjustButtons","arrayBounds","setBounds","brightness","setBrightness","contrast","setContrast","sliceBounds","defaultRange","defaultCenter","deep","handler","computeBrightness","computeContrast","second","mid","slope","Line","logScale","currentBounds","extendedHistogram","missingLeft","missingRight","logHistogram","scaledHistogram","binSize","integerBinSize","imageBoundsLabel","findLabel","currentBoundsLabel","boundsLabel","currentLabels","systemResponse","nbPoints","ymin","ymax","uniqBy","pointRadius","pointHoverRadius","cubicInterpolationMode","yAxisID","findBin","tooltips","tooltipItem","datasetIndex","callbacks","exp","tooltipItems","left","right","responsive","animation","scaleLabel","AdjustableLookUpTable","CytomineChannel","HistogramChart","histograms","visibleLookUpTableDetails","sliceChannels","plane","bitPerSample","_this$apparentChannel","ac","h","apparentChannel","visibleManipulableChannels","_this$manipulableChan","nbVisibleManipulableChannels","_this$visibleManipula","_this$visibleManipula2","_this$visibleManipula3","_this$visibleManipula4","_this$visibleManipula5","_this$visibleManipula6","_this$visibleManipula7","_this$visibleManipula8","fetchHistograms","indexApparentChannel","isColormap","manipulableChannel","found","fetchChannelHistograms","prefixes","imagingServer","baseUrl","linkMode","modeOptions","linkedIndexes","imagesWithNum","unlink","otherGroups","otherSoloImages","handleCheckboxChange","indexImage","revisionNumber","linkGroups","links","linkGroupsWithNum","indexCurrentGroup","group","inGroupsIndexes","idxs","trackedUser","indexGroup","checked","link","selectedLayer","layerName","addLayer","toggleLayerVisibility","canDraw","toggleLayerDrawOn","removeLayer","indexLayers","layersIds","nbReviewedAnnotations","cnt","countReviewedAnnotation","hasReviewLayer","reviewLayer","fetchIndexLayers","layerId","addLayerById","addAnnotationEventHandler","saved","annotationEventHandler","deleteAnnotationEventHandler","indexLayer","countAnnotation","algo","fetchLayers","idLayers","fetchUserLayers","fetchAnnotationsIndex","groupBy","flat","userIndexLayers","layersToAdd","addedIds","termsMapping","toggleTermVisibility","resetOpacities","indexTerm","propertiesKeys","disabledBroadcast","broadcastModel","followers","trackedUserModel","onlineManagers","onlineContributors","onlineUsers","timeoutOnlineUsers","timeoutTracking","wsUserPositionPath","replaceAll","userPostitionWebsock","wsConnected","wsInterval","viewerPositionChanged","lastPositionUpdate","projectManagers","projectContributors","linkedIndexTracking","alreadyBroadcastingImage","trackedUserFullName","fetchOnline","stopTrack","initWebSocket","setInterval","sendPosition","TRACKING_REFRESH_INTERVAL","clearInterval","initTracking","onopen","onOpentracking","WebSocket","onOpen","onclose","onClose","onmessage","onMessage","send","pos","moveView","shouldRefreshForKeepAlive","WS_POSITION_KEEP_ALIVE_INTERVAL","stringify","viewCenter","UserPosition","fetchLastPosition","followersIds","userId","imageId","BROADCASTING_USERS_REFRESH_INTERVAL","isReviewer","reviewStop","unvalidate","visibleUserLayers","taskReviewAll","reviewAll","validate","reviewStart","startReview","visibleUserLayerIds","commitImage","filterFunction","never","shiftKeyOnly","notAnnotations","previousTarget","selectionTargetedFeatures","previousSelectedFeature","visitedFeatures","recordAction","selectedPropertyValues","interactionSelect","$interaction","ft","changed","drawSourceName","nbActiveLayers","drawCorrection","drawType","drawFreehand","drawGeometryFunction","drawEndHandler","rotatedCoords","rotateCoords","_rotatedCoords","firstCorner","thirdCorner","secondCorner","fourthCorner","rotatedBoxCoordinates","boxCoordinates","setCoordinates","Polygon","activeLayers","olDrawInteraction","scheduleRecreate","coords","theta","cosTheta","cos","sinTheta","sin","clearDrawnFeatures","olSourceDrawTarget","endCorrection","endDraw","drawnFeature","getWktLocation","correctedAnnot","correctAnnotations","getType","polygonFromCircle","writeFeature","selectSource","deleteCondition","insertVertexCondition","startEdit","endEdit","isRectangle","getLinearRingCount","prevX","prevY","xChanged","yChanged","mapBrowserEvent","originalEvent","ctrlKey","singleClick","features_","getArray","oldLocation","AnnotationLayer","RotationSelector","ScaleLine","DrawTools","ImageControls","AnnotationsContainer","InformationPanel","DigitalZoom","ColorManipulation","LinkPanel","LayersPanel","OntologyPanel","PropertiesPanel","FollowPanel","ReviewPanel","SelectInteraction","DrawInteraction","ModifyInteraction","minZoom","baseSource","routedAnnotation","selectedAnnotation","timeoutSavePosition","overview","_document","routedAction","viewState","baseLayerProcessingParams","baseLayerSliceParams","z_slices","timepoints","baseLayerURLQuery","getCollapsed","correction","idealZoom","container","mapWidth","mapHeight","savePosition","setInitialZoom","updateMapSize","updateSize","$createPromise","$map","getInteractions","interaction","KeyboardPan","KeyboardZoom","condition_","noModifierKeys","targetNotEditable","baseLayer","OverviewMap","View","projection","$layer","tipLabel","collapsed","addControl","getOverviewMap","evt","getSize","getView","centerOn","toggleOverview","setCollapsed","$view","calculateExtent","bottomLeftX","bottomLeftY","bottomRightX","bottomRightY","topLeftX","topLeftY","topRightX","topRightY","SAVE_POSITION_IN_IMAGE_INTERVAL","fit","padding","getFirstCoordinate","centroid","_ref2$center","_ref2$showComments","sliceChange","SliceInstance","containerHeight","querySelector","$html2canvas","href","click","idRoutedAnnot","getProj","createProj","units","addProj","idAnnotation","ImageConsultation","imageSelectorEnabled","displayedImages","imageThumbUrl","nbImagesDisplayed","filteredImages","more","content","imageSelector","toggle","getDefaultState","expandedSidebar","namespaced","mutations","setUser","setShortTermToken","setAdminByNow","setExpandedSidebar","resetState","fetchUser","fetchCurrent","updateUser","openAdminSession","closeAdminSession","_ref5","login","_ref6","payload","rememberMe","currentShortTermToken","rootState","currentViewer","setProject","setOntology","setConfigUI","config","setManagers","setMembers","setCurrentViewer","loadProject","projectChange","ProjectConnection","reloadProject","reloadOntology","fetchUIConfigCurrentUser","fetchProjectMembers","ProjectMemberRole","MANAGER","REPRESENTATIVE","fetchFollowers","_ref7","canEditLayer","idLayer","canEditAnnot","canEditImage","idsManagers","currentProjectModule","viewers","currentViewerModule","setSelectedOntology","setSearchString","setFiltersOpened","setFilter","propValue","setCurrentPage","setPerPage","setSortField","setSortOrder","setOpenedDetails","setSort","Vuex","store","Store","logout","unregisterModule","listProjects","strict","process","getModuleNamespace","pathes","_modulesNamespaceMap","moduleNamespace","context","nbBitsPerSample","gammaPerApparentChannel","invertedPerApparentChannel","setIdImage","setNbBitsPerSample","setNbSamplesPerChannel","setGammaPerApparentChannel","setInvertedPerApparentChannel","setHistogramLogScale","setIntensitiesByMinMax","setApparentChannels","resetApparentChannel","resetApparentChannels","resetApparentChannelIntensities","resetApparentChannelsIntensities","allBounds","setChannelsVisibility","resetImageColorManipulationSettings","_ref8","setImageInstance","_ref9","_ref10","refreshApparentChannels","_ref11","_ref12","formatApparentChannels","fetchApparentChannels","resetColorManipulation","_ref13","_ref14","_ref15","setActiveSlice","_ref16","setActiveSliceByPosition","_ref17","_ref18","setActiveSlicesByPosition","_ref19","_ref20","tileRequestParams","visibleApparentChannels","min_intensities","max_intensities","gammas","colormaps","formatColormapRequestParam","nBits","autoAdjustBounds","_ref21","_fetchApparentChannels","fetchChannelHistogramBounds","formatApparentChannel","onlyIntensities","setOngoingEdit","setTermsNewAnnots","filterTermsNewAnnots","idTerms","setTracksNewAnnots","filterTracksNewAnnots","idTracks","previousTool","rootGetters","filterSelectedLayers","setPropertiesKeys","setSelectedPropertyKey","setSelectedPropertyColor","setSelectedPropertyValues","addSelectedPropertyValues","newValues","_yield$Promise$all","_yield$Promise$all2","projectProperties","fetchPropertiesKeys","layerValues","fetchLayerPropertiesValues","propValues","refreshProperties","currentKey","newKey","_x3","_fetchLayerPropertiesValues","propertiesValues","fetchPropertiesValuesAndPositions","propVal","_x4","_fetchPropertiesKeys","setSelectionTargetedFeatures","targetedFeatures","setSelectedFeatures","newSelectedFeatures","currentSelectedFeatures","clearSelectedFeatures","selectFeature","createGeoJsonFmt","writeFeatureObject","changeAnnotSelectedFeature","removeLayerFromSelectedFeatures","_ref2$cache","removeTermFromSelectedFeatures","removeNoTermFromSelectedFeatures","setAnnotToSelect","setShowComments","setDisplayAnnotDetails","setPositionAnnotDetails","setActiveSlices","initialTermsOpacity","initialTracksOpacity","initialLayersOpacity","noTermStyle","defaultStyle","multipleTermsStyle","multipleTracksStyle","formatTerm","setTerms","setWrappedTracks","formatTracks","setDisplayNoTerm","setTermOpacity","olStyle","olLineStyle","setNoTermOpacity","resetTermOpacities","setLayersOpacity","formatTerms","toggledTerm","tracksMapping","hiddenTermsIds","previousTerms","nbTerms","_loop","prevTerm","previousTracks","nbTracks","_loop2","prevTrack","formatTrack","setBroadcast","setTrackedUser","resetActions","addAction","undoAction","pop","redoAction","setCenter","setZoom","setRotation","setDigitalZoom","setOverviewCollapsed","setReviewMode","setTracks","_fetchTracks","setShowAnnotationsList","DEFAULT_IMAGE_CONTROLS_STEP","setStep","loadedSlicePages","clearSliceInstances","setSliceInstances","acc","setLoadedSlicePage","setProfile","setRoutedAnnotation","clearRoutedAnnotation","cloneDeep","idViewer","ranks","addActiveSliceChannel","activeSlice","removeActiveSliceChannel","setActiveSliceByRank","setActive","setActiveSlicesByRank","_callee12","_context12","_callee11","_context11","fetchSliceInstancesAround","_callee13","_ref20$setActive","previous","_context13","PRELOADED_SLICES","findRankPage","SliceInstanceCollection","findSliceInstanceNbPage","genStyleFunction","wrappedTerm","hasTermsToDisplay","isRejected","wrappedTrack","DIGITAL_ZOOM_INCREMENT","channelColor","indexNextImage","setImageSelector","setActiveImage","setCopiedAnnot","setLinkMode","createLinkGroup","indexes","linkImageToGroup","mergeLinkGroups","_state$links$indexes$","unlinkImage","indexWithinGroup","changePath","router","currentRoute","pathViewer","_ref5$annot","registerModule","pathImageModule","setImageResolution","relative","refImage","increments","refZoom","indexesToUpdate","getLinkedIndexes","newCenter","diffZoom","zoomFactor","zoomIncrement","newZoom","rotationInc","newRotation","removeImage","pathModule","actionStr","_require","detect","browser","shortkey","os","CytomineImage","ImageSelector","reloadInterval","idImages","idSlices","paramIdViewer","viewer","indexImages","nbHorizontalCells","sqrt","nbVerticalCells","allowed","shortcuts","findIdViewer","old","loadViewer","imagesViewer","substr","imagesNotInCurrentProject","viewerModuleModel","Set","_ref4$center","_index","_yield$Promise$all3","_yield$Promise$all4","_image","_slice","srcKey","VIEWER_ANNOTATIONS_REFRESH_INTERVAL","clickHandler","isTabDisplayed","tagName","transitionEndHandler","sidebar","formats","magnifications","resolutions","previewSize","outlineColor","reviewers","setPreviewSize","setCategorization","setOutlineColor","setAnnotationType","setFromDate","setToDate","launchers","statuses","favorites","executionDate","setExecutionDate","listImages","listJobs","ProjectSidebar","projectModuleModel","resumeActivity","firstConnection","totalConnections","totalConsultations","totalAnnotationSelections","totalAnnotations","connections","connectionsPerPage","connection","countViewedImages","countCreatedAnnotations","downloadConnections","period","chartRevision","consultations","consultationsPerPage","consultation","last","browserVersion","ImageConsultationCollection","projectConnection","showDates","momentPeriod","allConnections","iterMoment","lastMoment","indexConnection","ProjectConnectionCollection","fetchConnectionsFrequency","isBefore","valueOf","add","endOf","ProjectConnectionDetails","LastConnectionsChart","subtract","fetchResumeActivity","fetchConnections","fetchConsultations","resume","currentStats","storageStats","usedP","mostActiveProject","totalCounts","abstractImages","userAnnotations","jobs","jobAnnotations","selectedChartOption","chartOptions","fetchCurrentStats","fetchTotalCounts","fetchStorageStats","startOf","startUserCreation","userCollection","getRoleData","startUserEdition","enabled","lock","unlock","editedUser","refreshUsers","isAdminConfirmed","internalUser","editableFields","editionMode","selectedRole","roles","isChangingRoleToAdmin","adminConfirm","defaultRole","defaultLanguage","rolesWithIds","displayErrors","idRole","authority","currentRole","isNotAdmin","labelTranslation","defineRole","RoleCollection","switchUser","showProjects","showManagedProjects","UserModal","UserDetails","addUserModal","withRoles","trustedSources","startSourceCreation","filteredTrustedSources","startSourceEdition","deleteSourceDialog","editedSource","addSource","updateSource","fieldLabels","internalSource","formatSource","TrustedSourceModal","addSourceModal","ts","deleteSource","sources","TrustedSourceCollection","welcomeConfig","readingRole","startTagCreation","filteredTags","creatorName","startTagEdition","deleteTagDialog","editedTag","addTag","updateTag","internalTag","Tag","TagModal","addTagModal","deleteTag","currentTag","tabNames","AdminDashboard","AdminUsers","AdminConfiguration","AdminSoftware","AdminTags","softwareParameters","softwareParametersPerPage","parameter","canManageParameter","valueKey","commandLineFlag","SoftwareStatisticsChart","SoftwareParameterDetails","idSoftware","loadSoftware","fetchSoftware","fetchSoftwareParameters","Software","SoftwareParameterCollection","routes","GlobalDashboard","ListProjects","CytomineStorage","ListOntologies","ListSoftware","SoftwareInformation","AdvancedSearch","Account","CytomineProject","ProjectHome","ListImages","CytomineViewer","ImageInformation","ListAnnotations","ListJobs","ProjectActivity","MemberActivityDetails","ProjectInformation","ProjectConfiguration","PageNotFound","UserActivity","AdminPanel","redirect","VueRouter","linkActiveClass","tierSizeCalculation","urls","DEFAULT_TILE_SIZE","tierSizeInTiles","tileCountUpToTier","imageWidth","imageHeight","tileSizeForTierSizeCalculation","ii","createSource","ZoomifySource","attributions","cacheSize","crossOrigin","reprojectionErrorThreshold","urlTmpl","transition","tileUrlFunction","createFromTileUrlFunctions","createFromTemplate","setTileUrlFunction","createTileGrid","TileGrid","template","tileCoord","tileCoordZ","tileCoordX","tileCoordY","tileIndex","tileGrid","getTileSize","tileWidth","tileGroup","localContext","tileSource","plugin","installed","pick","Source","operation","lib","RasterSource","setOperation","hitTolerance","createInteraction","sourceIdent","makeIdent","$identityMap","INSTANCE_PROMISE_POOL","isFunction","isCollection","TranslateInteraction","mount","unmount","subscribeAll","subscribeToInteractionChanges","makeWatchers","hasInteraction","translateEvents","observableFromOlEvent","subscribeTo","Interaction","angle","RotateFeatureInteraction","isVectorSource","pixelTolerance","createStyleFunc","wrapX","getDefaultStyles","defaultStyles","mapValues","defaultEditStyle","createStyle","getServices","mergeDescriptors","stylesContainer","getStyleTarget","setStyle","_styles","scheduleRefresh","rotateEvents","getSegmentDataUid","segmentData","uid","getUid","compareIndexes","closestOnSegmentData","pointCoordinates","GeometryType","CIRCLE","getClosestPoint","closestOnSegment","segment","_ModifyInteractionBas","_classCallCheck","_callSuper","_inherits","_createClass","ignoreNextSingleClick_","willModifyFeatures_","vertex","dragSegments_","dragSegment","newVertex","getStride","POINT","MULTI_POINT","LINE_STRING","MULTI_LINE_STRING","POLYGON","MULTI_POLYGON","changingFeature_","setRadius","coordinateDistance","getCenter","setGeometryCoordinates_","createOrUpdateVertexFeature_","handlePointerAtPixel_","pixel","pixelCoordinate","getCoordinateFromPixel","modified_","vertexFeature","vertexFeature_","insertVertices","vertexExtent","boundingExtent","segmentDataMatches","rBush_","getInExtent","componentSegments","_ret","segmentDataMatch","closestVertex","coordinatesEqual","cid","segmentDataBbox","sd","otherVertices","coord","predicates","jj","insertVertexCondition_","vertexSegments_","insertVertex_","ModifyInteractionBase","condition","primaryAction","altKeyOnly","always","modifyEvents","RescaleFeatureInteraction","rescaleEvents","communicationError","openedTopMenu","nbActiveProjects","isSwitched","currentUserFullInfo","stopSwitchUser","realUser","openHotkeysModal","openAboutModal","openHotkeysModalShortcut","isActive","linkClasses","iconPack","classes","listPathes","activeElement","blur","immediate","closeProject","viewerPath","closeViewer","nbViewers","doCloseProject","filteredCategories","filteredShortcuts","shortcut","k","categories","version","CYTOMINE_COMMERCIAL_VERSION","deactivate","displayResults","activate","filteredProjects","subsetProjects","highlightedName","moreProjects","subsetImages","htmlImageName","moreImages","totalNbResults","fetchAllLight","blindIndication","NavbarDropdown","NavigationTree","CytomineSearcher","hotkeysModal","aboutModal","HotkeysModal","AboutCytomineModal","alert","forgotUsername","sendUsername","forgotPassword","resetPassword","registering","loginEnabled","allowedRegistration","success","register","Register","ifvisible","setIdleDuration","IDLE_DURATION","CytomineNavbar","Login","loginWithToken","ping","_yield$Cytomine$insta2","authenticated","PING_INTERVAL","settings","VueCookies","Buefy","defaultIconPack","Validator","extend","VeeValidate","i18nRootKey","i18n","Notifications","VTooltip","VueMoment","VueShortKey","prevent","VueHtml2Canvas","vClickOutside","VueLayers","RotateInteraction","RescaleInteraction","Chart","plugins","unregister","ChartZoom","helpers","merge","defaults","global","datalabels","anchor","align","clamp","productionTip","App","$mount","associatedTags","association","toUpperCase","removeTag","displayModal","addAssociations","notAssociatedTags","AddTagDomainAssociationModal","sortAssociatedTags","_tags$reduce","_tags$reduce2","existingTags","newTags","tagPromises","associationPromises","newAssocations","element","TagDomainAssociation","TagDomainAssociationCollection","arrayPath","getValue","fullPath","getMutationName","modulePath","optionsProp","selectedOptions","variableName","charAt","encodeURI","attachedFiles","downloadAttachedFile","selectedFile","attached","AttachedFile","AttachedFileModal","addAttachedFile","attachedFile","deleteAttachedFile","AttachedFileCollection","showBothNames","footer","escapedString","escapeRegExp","startTrackUpdate","confirmTrackDeletion","startTrackCreation","Track","createTrack","updateTrack","TrackModal","deleteTrack","filteredDomains","displayedProperty","domains","identifier","searchedProperty","selectedIds","editorOptions","expandedSpecialChars","specialCharacters","char","insertSpecialCharacter","quillEditor","toolbar","quill","getSelection","deleteText","insertText","setSelection","notEditedProperties","startPropEdition","addNewProp","editedProperties","saveProp","cancelPropEdition","newPropKey","newPropValue","showNewPropForm","editedIds","newProp","oldKey","oldValue"],"mappings":"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","file":"js/app.49cb31fe.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=30af6f9b&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageControlsShiftButtons.vue?vue&type=style&index=1&id=5eb6685e&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TermModal.vue?vue&type=style&index=0&id=5dc37d20&prod&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MembersActivity.vue?vue&type=style&index=0&id=63399df4&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobDetails.vue?vue&type=style&index=1&id=4eb4085b&prod&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserModal.vue?vue&type=style&index=0&id=faba5b5c&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetailsContainer.vue?vue&type=style&index=1&id=0d23ef15&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawTools.vue?vue&type=style&index=1&id=04a5c87e&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListProjects.vue?vue&type=style&index=1&id=719f2815&prod&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ontology-tree\",class:{selector: _vm.allowSelection, draggable: _vm.allowDrag, editable: _vm.allowEdition}},[_c('sl-vue-tree',{ref:\"tree\",attrs:{\"allowMultiselect\":false},on:{\"select\":_vm.select,\"drop\":_vm.drop},scopedSlots:_vm._u([{key:\"toggle\",fn:function({node}){return [(!node.data.hidden && !node.isLeaf && node.children.length > 0)?[_c('i',{class:['tree-toggle', 'fas', node.isExpanded ? 'fa-angle-down' : 'fa-angle-right']})]:_vm._e(),_c('div',{staticClass:\"sl-vue-tree-gap\"})]}},{key:\"title\",fn:function({node}){return [(!node.data.hidden)?_c('div',{staticClass:\"tree-selector\"},[(_vm.allowSelection)?_c('i',{staticClass:\"tree-checkbox\",class:_vm.classNames(node)}):_vm._e(),_c('cytomine-term',{attrs:{\"term\":node.data}})],1):_c('div')]}},{key:\"sidebar\",fn:function({node}){return [(!node.data.hidden)?_vm._t(\"custom-sidebar\",function(){return [(_vm.allowEdition)?_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.startTermUpdate(node)}}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-edit\"})])]),_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.confirmTermDeletion(node)}}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"far fa-trash-alt\"})])])]):_vm._e()]},{\"term\":node.data}):_vm._e()]}}],null,true),model:{value:(_vm.treeNodes),callback:function ($$v) {_vm.treeNodes=$$v},expression:\"treeNodes\"}}),(_vm.noResult)?_vm._t(\"no-result\",function(){return [_c('em',{staticClass:\"has-text-grey no-result\"},[_vm._v(_vm._s(_vm.$t('no-result')))])]}):_vm._e(),(_vm.allowEdition || _vm.allowNew)?_c('div',{staticClass:\"add-term-container\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.startTermCreation()}}},[_vm._v(_vm._s(_vm.$t('add-term')))])]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save()}}},[_c('cytomine-modal-card',{staticClass:\"term-modal\",attrs:{\"title\":_vm.$t(_vm.term ? 'update-term' : 'create-term')},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$parent.close()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-field',{attrs:{\"label\":_vm.$t('name'),\"type\":{'is-danger': _vm.errors.has('name')},\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('sketch-picker',{attrs:{\"presetColors\":_vm.presetColors},model:{value:(_vm.color),callback:function ($$v) {_vm.color=$$v},expression:\"color\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<form @submit.prevent=\"save()\">\r\n  <cytomine-modal-card :title=\"$t(term ? 'update-term' : 'create-term')\" class=\"term-modal\">\r\n    <b-field :label=\"$t('name')\" :type=\"{'is-danger': errors.has('name')}\" :message=\"errors.first('name')\">\r\n      <b-input v-model=\"name\" name=\"name\" v-validate=\"'required'\" />\r\n    </b-field>\r\n\r\n    <sketch-picker v-model=\"color\" :presetColors=\"presetColors\" />\r\n\r\n    <template #footer>\r\n      <button class=\"button\" type=\"button\" @click=\"$parent.close()\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n        {{$t('button-save')}}\r\n      </button>\r\n    </template>\r\n  </cytomine-modal-card>\r\n</form>\r\n</template>\r\n\r\n<script>\r\nimport {Term} from 'cytomine-client';\r\nimport {Sketch} from 'vue-color';\r\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\r\n\r\nexport default {\r\n  name: 'term-modal',\r\n  props: {\r\n    term: Object,\r\n    ontology: Object\r\n  },\r\n  components: {\r\n    'sketch-picker': Sketch,\r\n    CytomineModalCard\r\n  },\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      name: '',\r\n      color: null\r\n    };\r\n  },\r\n  computed: {\r\n    presetColors() {\r\n      return [\r\n        '#F44E3B',\r\n        '#FB9E00',\r\n        '#FCDC00',\r\n        '#68BC00',\r\n        '#16A5A5',\r\n        '#009CE0',\r\n        '#7B10D8',\r\n        '#F06292',\r\n        '#000',\r\n        '#777',\r\n        '#FFF'\r\n      ];\r\n    }\r\n  },\r\n  methods: {\r\n    randomColor() {\r\n      return '#' + (Math.random().toString(16) + '0000000').slice(2, 8);\r\n    },\r\n    async save() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      if(this.term) {\r\n        this.update();\r\n      }\r\n      else {\r\n        this.create();\r\n      }\r\n    },\r\n    async create() {\r\n      try {\r\n        let term = await new Term({name: this.name, color: this.color.hex, ontology: this.ontology.id}).save();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-term-creation')});\r\n        this.$emit('newTerm', term);\r\n        this.$parent.close();\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-term-creation')});\r\n      }\r\n    },\r\n    async update() {\r\n      let term = new Term(this.term);\r\n      term.color = this.color.hex;\r\n      term.name = this.name;\r\n      try {\r\n        await term.save();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-term-update')});\r\n        this.$emit('updateTerm', term);\r\n        this.$parent.close();\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-term-update')});\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.name = this.term ? this.term.name : '';\r\n    this.color = {hex: this.term ? this.term.color : this.randomColor()};\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.term-modal .vc-sketch {\r\n  width: auto;\r\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n}\r\n\r\n.term-modal .vc-sketch-active-color {\r\n  box-shadow: inset 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n}\r\n\r\n.term-modal .vc-sketch-saturation-wrap {\r\n  padding-bottom: 15vh;\r\n}\r\n\r\n/* hide alpha channel */\r\n.term-modal .vc-sketch-field--single:last-child {\r\n  display: none;\r\n}\r\n/* --- */\r\n\r\n.term-modal .vc-sketch-sliders {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.term-modal .vc-sketch-hue-wrap {\r\n  flex-grow: 1;\r\n}\r\n\r\n.term-modal .vc-sketch-alpha-wrap {\r\n  display: none;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TermModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TermModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TermModal.vue?vue&type=template&id=5dc37d20\"\nimport script from \"./TermModal.vue?vue&type=script&lang=js\"\nexport * from \"./TermModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./TermModal.vue?vue&type=style&index=0&id=5dc37d20&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"ontology-tree\" :class=\"{selector: allowSelection, draggable: allowDrag, editable: allowEdition}\">\r\n  <sl-vue-tree v-model=\"treeNodes\" :allowMultiselect=\"false\" @select=\"select\" @drop=\"drop\" ref=\"tree\">\r\n    <template #toggle=\"{node}\">\r\n      <template v-if=\"!node.data.hidden && !node.isLeaf && node.children.length > 0\">\r\n        <i :class=\"['tree-toggle', 'fas', node.isExpanded ? 'fa-angle-down' : 'fa-angle-right']\"></i>\r\n      </template>\r\n      <div class=\"sl-vue-tree-gap\"></div>\r\n    </template>\r\n\r\n    <template #title=\"{node}\">\r\n      <div v-if=\"!node.data.hidden\" class=\"tree-selector\">\r\n        <i class=\"tree-checkbox\"\r\n          v-if=\"allowSelection\"\r\n          :class=\"classNames(node)\">\r\n        </i>\r\n        <cytomine-term :term=\"node.data\" />\r\n      </div>\r\n      <div v-else></div>\r\n    </template>\r\n\r\n    <template #sidebar=\"{node}\">\r\n      <slot v-if=\"!node.data.hidden\" name=\"custom-sidebar\" :term=\"node.data\">\r\n        <div v-if=\"allowEdition\" class=\"buttons\">\r\n          <button class=\"button is-small\" @click=\"startTermUpdate(node)\">\r\n            <span class=\"icon is-small\">\r\n              <i class=\"fas fa-edit\"></i>\r\n            </span>\r\n          </button>\r\n          <button class=\"button is-small\" @click=\"confirmTermDeletion(node)\">\r\n            <span class=\"icon is-small\">\r\n              <i class=\"far fa-trash-alt\"></i>\r\n            </span>\r\n          </button>\r\n        </div>\r\n      </slot>\r\n    </template>\r\n  </sl-vue-tree>\r\n\r\n  <slot v-if=\"noResult\" name=\"no-result\">\r\n    <em class=\"has-text-grey no-result\">{{$t('no-result')}}</em>\r\n  </slot>\r\n\r\n  <div v-if=\"allowEdition || allowNew\" class=\"add-term-container\">\r\n    <button class=\"button is-small\" @click=\"startTermCreation()\">{{$t('add-term')}}</button>\r\n  </div>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport SlVueTree from 'sl-vue-tree';\r\nimport CytomineTerm from './CytomineTerm';\r\nimport TermModal from './TermModal';\r\nimport {Term} from 'cytomine-client';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\n\r\nexport default {\r\n  name: 'ontology-tree',\r\n  model: {\r\n    prop: 'selectedNodes',\r\n    event: 'setSelectedNodes'\r\n  },\r\n  props: {\r\n    ontology: {type: Object},\r\n    additionalNodes: {type: Array, default: () => []},\r\n    startWithAdditionalNodes: {type: Boolean, default: false},\r\n    searchString: {type: String, default: ''},\r\n    selectedNodes: {type: Array, default: () => []},\r\n    allowSelection: {type: Boolean, default: true},\r\n    multipleSelection: {type: Boolean, default: true},\r\n    allowDrag: {type: Boolean, default: false},\r\n    allowEdition: {type: Boolean, default: false},\r\n    allowNew: {type: Boolean, default: false},\r\n    hiddenNodes: {type: Array, default: () => []}\r\n  },\r\n  components: {\r\n    SlVueTree,\r\n    CytomineTerm\r\n  },\r\n  data() {\r\n    return {\r\n      treeNodes: [],\r\n      internalSelectedNodes: [],\r\n      editedNode: null\r\n    };\r\n  },\r\n  computed: {\r\n    regexp() {\r\n      return getWildcardRegexp(this.searchString);\r\n    },\r\n    noResult() {\r\n      return this.treeNodes.every(node => node.data.hidden);\r\n    }\r\n  },\r\n  watch: {\r\n    ontology() {\r\n      this.makeTree();\r\n    },\r\n    additionalNodes() {\r\n      this.makeTree();\r\n    },\r\n    selectedNodes() {\r\n      this.internalSelectedNodes = this.selectedNodes.slice();\r\n      this.refreshNodeSelection();\r\n    },\r\n    regexp() {\r\n      this.filter();\r\n    },\r\n    hiddenNodes() {\r\n      this.filter();\r\n    }\r\n  },\r\n  methods: {\r\n    makeTree() {\r\n      let nodes = (this.ontology) ? this.createSubTree(this.ontology.children.array.slice()) : [];\r\n      let additionalNodes = this.createSubTree(this.additionalNodes.slice());\r\n      this.treeNodes = this.startWithAdditionalNodes ? additionalNodes.concat(nodes) : nodes.concat(additionalNodes);\r\n\r\n      this.filter();\r\n    },\r\n\r\n    createSubTree(terms) {\r\n      return terms.map(term => this.createNode(term));\r\n    },\r\n\r\n    createNode(term) {\r\n      return {\r\n        title: term.name,\r\n        isLeaf: false, // all terms can be used as parent for drag and drop\r\n        isDraggable: this.allowDrag,\r\n        isExpanded: true,\r\n        isSelected: this.internalSelectedNodes.includes(term.id),\r\n        data: {\r\n          id: term.id,\r\n          name: term.name,\r\n          color: term.color,\r\n          parent: term.parent,\r\n          ontology: (this.ontology) ? this.ontology.id : null,\r\n          hidden: false\r\n        },\r\n        children: term.children && term.children.length > 0 ? this.createSubTree(term.children) : []\r\n      };\r\n    },\r\n\r\n    filter() {\r\n      this.applyToAllNodes(node => {\r\n        let match = this.regexp.test(node.title) && !this.hiddenNodes.includes(node.data.id);\r\n        if(node.children) {\r\n          let matchInChildren = node.children.some(child => !child.data.hidden); // OK because applyToAllNodes performs bottom-up operations\r\n          node.isExpanded = matchInChildren;\r\n          match = match || matchInChildren;\r\n        }\r\n        node.data.hidden = !match;\r\n      });\r\n    },\r\n\r\n    classNames(node) {\r\n      if(this.multipleSelection) {\r\n        return node.isSelected ? ['fas', 'fa-check-square'] : ['far', 'fa-square'];\r\n      }\r\n      else {\r\n        return node.isSelected ? ['fas', 'fa-dot-circle'] : ['far', 'fa-circle'];\r\n      }\r\n    },\r\n\r\n    select(nodes, event) {\r\n      if(!this.allowSelection) {\r\n        return;\r\n      }\r\n\r\n      if(this.clickOnTreeSelector(event.target)) {\r\n        nodes.forEach(node => {\r\n          if(this.multipleSelection) {\r\n            let indexSelected = this.internalSelectedNodes.indexOf(node.data.id);\r\n            if(indexSelected >= 0) {\r\n              this.internalSelectedNodes.splice(indexSelected, 1);\r\n              this.$emit('unselect', node.data.id);\r\n            }\r\n            else {\r\n              this.internalSelectedNodes.push(node.data.id);\r\n              this.$emit('select', node.data.id);\r\n            }\r\n          }\r\n          else {\r\n            if(this.internalSelectedNodes.includes(node.data.id)) this.internalSelectedNodes = [];\r\n            else this.internalSelectedNodes = [node.data.id];\r\n\r\n            this.$emit('select', node.data.id);\r\n          }\r\n        });\r\n        this.$emit('setSelectedNodes', this.internalSelectedNodes);\r\n      }\r\n\r\n      this.refreshNodeSelection();\r\n    },\r\n    refreshNodeSelection() {\r\n      if(!this.allowSelection) {\r\n        return;\r\n      }\r\n\r\n      this.applyToAllNodes(node => {\r\n        node.isSelected = this.internalSelectedNodes.some(id => id === node.data.id);\r\n      });\r\n    },\r\n    clickOnTreeSelector(elem) {\r\n      if(elem.classList.contains('tree-selector')) {\r\n        return true;\r\n      }\r\n      return elem.parentElement ? this.clickOnTreeSelector(elem.parentElement) : false;\r\n    },\r\n    applyToAllNodes(fct, nodes=this.treeNodes) {\r\n      nodes.forEach(node => {\r\n        if(node.children) {\r\n          this.applyToAllNodes(fct, node.children);\r\n        }\r\n        fct(node);\r\n      });\r\n    },\r\n\r\n    startTermCreation() {\r\n      this.editedNode = null;\r\n      this.openModal();\r\n    },\r\n    createTerm(term) {\r\n      this.treeNodes.push(this.createNode(term));\r\n      this.$emit('newTerm', term);\r\n    },\r\n\r\n    startTermUpdate(node) {\r\n      this.editedNode = node;\r\n      this.openModal();\r\n    },\r\n    updateTerm(term) {\r\n      this.$refs.tree.updateNode(this.editedNode.path, {data: {...term}});\r\n    },\r\n\r\n    openModal() {\r\n      this.$buefy.modal.open({\r\n        parent: this,\r\n        component: TermModal,\r\n        props: {\r\n          term: this.editedNode ? this.editedNode.data : null,\r\n          ontology: this.ontology\r\n        },\r\n        events: {\r\n          newTerm: this.createTerm,\r\n          updateTerm: this.updateTerm\r\n        },\r\n        hasModalCard: true\r\n      });\r\n    },\r\n\r\n    drop(nodes, position) {\r\n      nodes.forEach(async node => {\r\n        let idParent = (position.placement === 'inside') ? position.node.data.id : position.node.data.parent;\r\n        if(node.data.parent !== idParent) {\r\n          try {\r\n            await new Term(node.data).changeParent(idParent);\r\n            this.applyToAllNodes(tmp => {\r\n              if(tmp.data.id === node.data.id) {\r\n                tmp.data.parent = idParent;\r\n              }\r\n            });\r\n          }\r\n          catch(error) {\r\n            console.log(error);\r\n            this.$notify({type: 'error', text: this.$t('notif-error-ontology-tree-update')});\r\n          }\r\n        }\r\n        else {\r\n          this.$notify({type: 'warn', text: this.$t('notif-warn-ontology-tree-order-not-persisted')});\r\n        }\r\n      });\r\n    },\r\n\r\n    confirmTermDeletion(node) {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('confirm-deletion'),\r\n        message: this.$t('confirm-deletion-term', {name: node.data.name}),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.deleteTerm(node)\r\n      });\r\n    },\r\n    async deleteTerm(node) {\r\n      try {\r\n        await Term.delete(node.data.id);\r\n        this.$refs.tree.remove([node.path]);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-term-deletion')});\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.internalSelectedNodes = this.selectedNodes.slice();\r\n    this.makeTree();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.add-term-container {\r\n  text-align: center;\r\n  margin-top: 0.5em;\r\n  margin-bottom: 0.5em;\r\n}\r\n</style>\r\n\r\n\r\n<style>\r\n.ontology-tree {\r\n  padding: 0 0 2px 0;\r\n}\r\n\r\n.ontology-tree .tree-checkbox {\r\n  margin-right: 10px;\r\n  color: rgba(0, 0, 0, 0.2);\r\n  font-size: 1rem;\r\n}\r\n\r\n.ontology-tree.selector .sl-vue-tree-node-item:hover {\r\n  background: rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.ontology-tree.selector .sl-vue-tree-selected > .sl-vue-tree-node-item {\r\n  background: rgba(0, 0, 0, 0.05);\r\n  font-weight: 600;\r\n}\r\n\r\n.ontology-tree .sl-vue-tree-selected > .sl-vue-tree-node-item .tree-checkbox {\r\n  color: #61b2e8;\r\n}\r\n\r\n.ontology-tree.selector .sl-vue-tree-gap {\r\n  width: 24px;\r\n}\r\n\r\n.ontology-tree.selector .tree-selector {\r\n  cursor: pointer;\r\n  flex-grow: 1;\r\n}\r\n\r\n.ontology-tree .tree-selector {\r\n  min-width: 0; /* to allow correct handling of overflow-wrap */\r\n}\r\n\r\n.ontology-tree .tree-selector:hover .tree-checkbox {\r\n  color: #61b2e8;\r\n}\r\n\r\n.ontology-tree .no-result {\r\n  margin-left: 20px;\r\n  line-height: 1.5;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.ontology-tree .buttons, .ontology-tree .button {\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\n.ontology-tree.editable .sl-vue-tree-sidebar {\r\n  width: 100px;\r\n  padding-left: 20px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.ontology-tree.editable .sl-vue-tree-sidebar {\r\n  display: flex;\r\n  align-items: top;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyTree.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyTree.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./OntologyTree.vue?vue&type=template&id=4cca4912&scoped=true\"\nimport script from \"./OntologyTree.vue?vue&type=script&lang=js\"\nexport * from \"./OntologyTree.vue?vue&type=script&lang=js\"\nimport style0 from \"./OntologyTree.vue?vue&type=style&index=0&id=4cca4912&prod&scoped=true&lang=css\"\nimport style1 from \"./OntologyTree.vue?vue&type=style&index=1&id=4cca4912&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4cca4912\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotationSelector.vue?vue&type=style&index=1&id=3ef9c304&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTags.vue?vue&type=style&index=0&id=36bde01e&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineNavbar.vue?vue&type=style&index=0&id=69a1dd82&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawTools.vue?vue&type=style&index=0&id=04a5c87e&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserDetails.vue?vue&type=style&index=0&id=5bd2ab78&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTerm.vue?vue&type=style&index=0&id=23b57a24&prod&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/logo-cytomine-coop.4a5cd544.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFileStatus.vue?vue&type=style&index=0&id=3b65473a&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSourceModal.vue?vue&type=style&index=0&id=0a1b2893&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUIProject.vue?vue&type=style&index=0&id=740dcc38&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserActivity.vue?vue&type=style&index=0&id=0e92280e&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyPanel.vue?vue&type=style&index=0&id=2a725c86&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProject.vue?vue&type=style&index=0&id=56de602c&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareInformation.vue?vue&type=style&index=1&id=067d1ba2&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationPreview.vue?vue&type=style&index=0&id=a37d5e4e&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:['description-wrapper', _vm.loading ? 'loading' : '']},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[(_vm.description)?[_c('div',{staticClass:\"ql-snow\"},[_c('div',{staticClass:\"ql-editor\",domProps:{\"innerHTML\":_vm._s(_vm.previewDescription)}})]),_c('div',{staticClass:\"buttons are-small\"},[(_vm.croppedDescription)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.openModal(false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-full-text'))+\" \")]):_vm._e(),(_vm.canEdit)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.openModal(true)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-edit'))+\" \")]):_vm._e()])]:[_c('em',[_vm._v(_vm._s(_vm.$t('no-description')))]),(_vm.canEdit)?_c('button',{staticClass:\"button is-small margin\",on:{\"click\":function($event){return _vm.openModal(true)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")]):_vm._e()]]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('cytomine-modal-card',{staticClass:\"description-modal\",class:{expanded: _vm.expanded},attrs:{\"title\":_vm.$t('description')},on:{\"close\":function($event){return _vm.$parent.close()}},scopedSlots:_vm._u([{key:\"controls\",fn:function(){return [_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.expanded = !_vm.expanded}}},[_c('i',{class:['fas', _vm.expanded ? 'fa-compress' : 'fa-expand']})])]},proxy:true},(_vm.edit)?{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$parent.close()}}},[_vm._v(_vm._s(_vm.$t('button-cancel')))]),(_vm.edit)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.save()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")]):_vm._e()]},proxy:true}:null],null,true)},[(!_vm.edit)?_c('div',{staticClass:\"ql-snow\"},[_c('div',{staticClass:\"ql-editor preview\",domProps:{\"innerHTML\":_vm._s(_vm.descriptionWithoutKeywords)}})]):[_c('div',{staticClass:\"keyword-info\"},[_c('i',{staticClass:\"fas fa-info-circle\"}),_c('i18n',{attrs:{\"path\":\"info-keyword-stop-preview-description\"}},[_c('span',{staticClass:\"keyword\",attrs:{\"place\":\"keyword\"}},[_vm._v(\" \"+_vm._s(_vm.stopPreviewKeyword)+\" \")])])],1),_c('cytomine-quill-editor',{attrs:{\"placeholder\":_vm.$t('enter-description')},model:{value:(_vm.descriptionContent),callback:function ($$v) {_vm.descriptionContent=$$v},expression:\"descriptionContent\"}})]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<cytomine-modal-card\r\n  :title=\"$t('description')\"\r\n  class=\"description-modal\"\r\n  :class=\"{expanded: expanded}\"\r\n  @close=\"$parent.close()\"\r\n>\r\n  <template #controls>\r\n    <button class=\"button is-small\" @click=\"expanded = !expanded\">\r\n      <i :class=\"['fas', expanded ? 'fa-compress' : 'fa-expand']\"></i>\r\n    </button>\r\n  </template>\r\n\r\n  <div v-if=\"!edit\" class=\"ql-snow\">\r\n    <div class=\"ql-editor preview\" v-html=\"descriptionWithoutKeywords\"></div>\r\n  </div>\r\n\r\n  <template v-else>\r\n    <div class=\"keyword-info\">\r\n      <i class=\"fas fa-info-circle\"></i>\r\n      <i18n path=\"info-keyword-stop-preview-description\">\r\n        <span place=\"keyword\" class=\"keyword\"> {{ stopPreviewKeyword }} </span>\r\n      </i18n>\r\n    </div>\r\n\r\n    <cytomine-quill-editor v-model=\"descriptionContent\" :placeholder=\"$t('enter-description')\" />\r\n  </template>\r\n\r\n  <template v-if=\"edit\" #footer>\r\n    <button class=\"button\" @click=\"$parent.close()\">{{$t('button-cancel')}}</button>\r\n    <button v-if=\"edit\" class=\"button is-link\" @click=\"save()\"> {{ $t('button-save') }} </button>\r\n  </template>\r\n</cytomine-modal-card>\r\n</template>\r\n\r\n<script>\r\nimport CytomineQuillEditor from '@/components/form/CytomineQuillEditor';\r\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'cytomine-description-modal',\r\n  props: {\r\n    description: Object,\r\n    edit: Boolean\r\n  },\r\n  components: {\r\n    CytomineModalCard,\r\n    CytomineQuillEditor\r\n  },\r\n  data() {\r\n    return {\r\n      descriptionContent: '',\r\n      expanded: false\r\n    };\r\n  },\r\n  computed: {\r\n    descriptionWithoutKeywords() {\r\n      return this.description.data.replace(new RegExp(constants.STOP_PREVIEW_KEYWORD, 'g'), '');\r\n    },\r\n    stopPreviewKeyword() {\r\n      return constants.STOP_PREVIEW_KEYWORD;\r\n    }\r\n  },\r\n  methods: {\r\n    async save() {\r\n      let updatedDesc = this.description.clone();\r\n      try {\r\n        if(this.descriptionContent) {\r\n          updatedDesc.data = this.descriptionContent;\r\n          await updatedDesc.save();\r\n          this.$emit('change', updatedDesc);\r\n        }\r\n        else if(this.description.data) { // if description existed, and content was emptied by user, delete description model\r\n          await updatedDesc.delete();\r\n          this.$emit('change', null);\r\n        }\r\n        this.$parent.close();\r\n      }\r\n      catch(error) {\r\n        this.descriptionContent = this.description.data;\r\n        this.$notify({type: 'error', text: this.$t('notif-error-update-description')});\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.descriptionContent = this.description.data;\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.description-modal {\r\n  &.expanded, &.expanded .modal-card-body {\r\n    width: 90vw;\r\n    height: 90vh;\r\n    max-height: 90vh;\r\n  }\r\n\r\n  &:not(.expanded), &:not(.expanded) .modal-card-body {\r\n    width: 50vw;\r\n    height: 60vh;\r\n    max-height: 60vh;\r\n  }\r\n\r\n  .ql-editor.preview {\r\n    padding: 0 0 1em 0;\r\n    text-align: justify;\r\n    white-space: normal;\r\n  }\r\n\r\n  .modal-card-body {\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n  }\r\n\r\n  .keyword-info {\r\n    margin-bottom: 1em;\r\n\r\n    .fas {\r\n      margin-right: 0.75em;\r\n    }\r\n\r\n    .keyword {\r\n      font-weight: 600;\r\n    }\r\n  }\r\n\r\n  .cytomine-quill-editor {\r\n    flex: 1;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDescriptionModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDescriptionModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineDescriptionModal.vue?vue&type=template&id=c1872c3e\"\nimport script from \"./CytomineDescriptionModal.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineDescriptionModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./CytomineDescriptionModal.vue?vue&type=style&index=0&id=c1872c3e&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div :class=\"['description-wrapper', loading ? 'loading' : '']\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\r\n  <template v-if=\"!loading\">\r\n    <template v-if=\"description\">\r\n      <div class=\"ql-snow\">\r\n        <div class=\"ql-editor\" v-html=\"previewDescription\"></div> <!-- WARNING can lead to js injection -->\r\n      </div>\r\n      <div class=\"buttons are-small\">\r\n        <button class=\"button\" v-if=\"croppedDescription\" @click=\"openModal(false)\">\r\n          {{ $t('button-full-text') }}\r\n        </button>\r\n        <button class=\"button\" v-if=\"canEdit\" @click=\"openModal(true)\">\r\n          {{ $t('button-edit') }}\r\n        </button>\r\n      </div>\r\n    </template>\r\n    <template v-else>\r\n      <em>{{$t('no-description')}}</em>\r\n      <button v-if=\"canEdit\" class=\"button is-small margin\" @click=\"openModal(true)\">\r\n        {{$t('button-add')}}\r\n      </button>\r\n    </template>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {Description} from 'cytomine-client';\r\nimport DescriptionModal from './CytomineDescriptionModal';\r\n\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'cytomine-description',\r\n  props: {\r\n    object: {type: Object},\r\n    canEdit: {type: Boolean, default: true},\r\n    maxPreviewLength: {type: Number, default: 0} // if set to 0, the description preview is not limited unless stop preview keyword is present\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      description: null,\r\n      modalOpened: false\r\n    };\r\n  },\r\n  computed: {\r\n    previewDescription() {\r\n      let posStop = this.description.data.indexOf(constants.STOP_PREVIEW_KEYWORD);\r\n      if(posStop !== -1) {\r\n        return this.description.data.substring(0, posStop);\r\n      }\r\n      else if(this.maxPreviewLength && this.description.data.length > this.maxPreviewLength) {\r\n        return this.description.data.substring(0, this.maxPreviewLength) + '...';\r\n      }\r\n      else {\r\n        return this.description.data;\r\n      }\r\n    },\r\n    croppedDescription() {\r\n      return this.description.data.length !== this.previewDescription.length;\r\n    }\r\n  },\r\n  methods: {\r\n    openModal(edit) {\r\n      // required to use programmatic modal because the description is sometimes displayed in elements with a\r\n      // CSS transform (e.g. popover) that conflict with the fixed position of the modal\r\n      // (http://meyerweb.com/eric/thoughts/2011/09/12/un-fixing-fixed-elements-with-css-transforms/)\r\n\r\n      this.$buefy.modal.open({\r\n        parent: this,\r\n        component: DescriptionModal,\r\n        props: {\r\n          description: this.description || new Description({data: '', object: this.object}),\r\n          edit\r\n        },\r\n        hasModalCard: true,\r\n        events: {\r\n          change: newDesc => this.description = newDesc\r\n        }\r\n      });\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      this.description = await Description.fetch(this.object);\r\n    }\r\n    catch(err) {\r\n      // the error may make sense if the object has no description\r\n    }\r\n    this.loading = false;\r\n  }\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.description-wrapper {\r\n  position: relative;\r\n}\r\n\r\n.description-wrapper .ql-editor {\r\n  padding: 0;\r\n  white-space: normal;\r\n}\r\n\r\n.description-wrapper.loading {\r\n  min-height: 3em;\r\n}\r\n\r\n.button.margin {\r\n  margin-left: 0.5em;\r\n}\r\n\r\n.ql-snow {\r\n  margin-bottom: 0.5em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDescription.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDescription.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineDescription.vue?vue&type=template&id=2038f6b8&scoped=true\"\nimport script from \"./CytomineDescription.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineDescription.vue?vue&type=script&lang=js\"\nimport style0 from \"./CytomineDescription.vue?vue&type=style&index=0&id=2038f6b8&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2038f6b8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"annotation-details\"},[_c('table',{staticClass:\"table\"},[_c('tbody',[(_vm.showImageInfo)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('image')))])]),_c('td',[_c('router-link',{attrs:{\"to\":`/project/${_vm.annotation.project}/image/${_vm.annotation.image}`}},[_c('image-name',{attrs:{\"image\":_vm.image}})],1)],1)]):_vm._e(),(_vm.showChannelInfo)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('channel')))])]),_c('td',[_c('channel-name',{attrs:{\"channel\":_vm.sliceChannel}})],1)]):_vm._e(),(_vm.isPropDisplayed('geometry-info'))?[(_vm.annotation.area > 0)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('area')))])]),_c('td',[_vm._v(_vm._s(`${_vm.annotation.area.toFixed(3)} ${_vm.annotation.areaUnit}`))])]):_vm._e(),(_vm.annotation.perimeter > 0)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t(_vm.annotation.area > 0 ? 'perimeter' : 'length')))])]),_c('td',[_vm._v(_vm._s(`${_vm.annotation.perimeter.toFixed(3)} ${_vm.annotation.perimeterUnit}`))])]):_vm._e()]:_vm._e(),(_vm.isPropDisplayed('description'))?_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('h5',[_vm._v(_vm._s(_vm.$t('description')))]),_c('cytomine-description',{attrs:{\"object\":_vm.annotation,\"canEdit\":_vm.canEdit,\"maxPreviewLength\":300}})],1)]):_vm._e(),(_vm.isPropDisplayed('terms') && _vm.ontology)?_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('h5',[_vm._v(_vm._s(_vm.$t('terms')))]),_vm._l((_vm.associatedTerms),function({term, user}){return _c('b-tag',{key:term.id,attrs:{\"title\":_vm.$t('associated-by', {username: user.fullName})}},[_c('cytomine-term',{attrs:{\"term\":term}}),(_vm.canEditTerms)?_c('button',{staticClass:\"delete is-small\",attrs:{\"title\":_vm.$t('button-delete')},on:{\"click\":function($event){return _vm.removeTerm(term.id, user.id)}}}):_vm._e()],1)}),(_vm.canEditTerms)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(() => _vm.showTermSelector = false),expression:\"() => showTermSelector = false\"}],staticClass:\"add-term-wrapper\"},[_c('b-field',[_c('b-input',{attrs:{\"size\":\"is-small\",\"expanded\":\"\",\"placeholder\":_vm.$t('add-term')},on:{\"focus\":function($event){_vm.showTermSelector = true}},model:{value:(_vm.addTermString),callback:function ($$v) {_vm.addTermString=$$v},expression:\"addTermString\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTermSelector),expression:\"showTermSelector\"}],staticClass:\"ontology-tree-container\"},[_c('ontology-tree',{staticClass:\"ontology-tree\",attrs:{\"ontology\":_vm.ontology,\"searchString\":_vm.addTermString,\"selectedNodes\":_vm.associatedTermsIds,\"allowNew\":true},on:{\"newTerm\":_vm.newTerm,\"select\":_vm.addTerm,\"unselect\":_vm.removeTerm}})],1)],1):(!_vm.associatedTerms.length)?_c('em',[_vm._v(_vm._s(_vm.$t('no-term')))]):_vm._e()],2)]):_vm._e(),(_vm.isPropDisplayed('tracks') && _vm.maxRank > 1)?_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('h5',[_vm._v(_vm._s(_vm.$t('tracks')))]),_vm._l((_vm.associatedTracks),function({track}){return _c('b-tag',{key:track.id},[_c('cytomine-track',{attrs:{\"track\":track}}),(_vm.canEditTerms)?_c('button',{staticClass:\"delete is-small\",attrs:{\"title\":_vm.$t('button-delete')},on:{\"click\":function($event){return _vm.removeTrack(track.id)}}}):_vm._e()],1)}),(_vm.canEditTerms)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(() => _vm.showTrackSelector = false),expression:\"() => showTrackSelector = false\"}],staticClass:\"add-track-wrapper\"},[_c('b-field',[_c('b-input',{attrs:{\"size\":\"is-small\",\"expanded\":\"\",\"placeholder\":_vm.$t('add-track')},on:{\"focus\":function($event){_vm.showTrackSelector = true}},model:{value:(_vm.addTrackString),callback:function ($$v) {_vm.addTrackString=$$v},expression:\"addTrackString\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTrackSelector),expression:\"showTrackSelector\"}],staticClass:\"track-tree-container\"},[_c('track-tree',{staticClass:\"track-tree\",attrs:{\"tracks\":_vm.availableTracks,\"searchString\":_vm.addTrackString,\"selectedNodes\":_vm.associatedTracksIds,\"allowNew\":true,\"image\":_vm.image},on:{\"newTrack\":_vm.newTrack,\"select\":_vm.addTrack,\"unselect\":_vm.removeTrack}})],1)],1):(!_vm.associatedTracks.length)?_c('em',[_vm._v(_vm._s(_vm.$t('no-track')))]):_vm._e()],2)]):_vm._e(),(_vm.isPropDisplayed('tags'))?_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('h5',[_vm._v(_vm._s(_vm.$t('tags')))]),_c('cytomine-tags',{attrs:{\"object\":_vm.annotation,\"canEdit\":_vm.canEdit}})],1)]):_vm._e(),(_vm.isPropDisplayed('properties'))?_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('h5',[_vm._v(_vm._s(_vm.$t('properties')))]),_c('cytomine-properties',{attrs:{\"object\":_vm.annotation,\"canEdit\":_vm.canEdit,\"properties\":_vm.internalUseFilteredProperties},on:{\"deleted\":_vm.removeProp,\"added\":_vm.addProp,\"updateProperties\":function($event){return _vm.$emit('updateProperties')}}})],1)]):_vm._e(),(_vm.isPropDisplayed('attached-files'))?_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('h5',[_vm._v(_vm._s(_vm.$t('attached-files')))]),_c('attached-files',{attrs:{\"object\":_vm.annotation,\"canEdit\":_vm.canEdit}})],1)]):_vm._e(),(_vm.isPropDisplayed('creation-info'))?[_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('created-by')))])]),_c('td',[_vm._v(\" \"+_vm._s(_vm.creator.fullName)+\" \")])]),(!_vm.isReviewedAnnotation)?[_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('created-on')))])]),_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.annotation.created),'ll'))+\" \")])]),(_vm.isImageInReviewMode)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('reviewed-annotation-status')))])]),_c('td',[_c('span',{staticClass:\"tag is-danger\"},[_vm._v(\" \"+_vm._s(_vm.$t('reviewed-annotation-status-not-validated'))+\" \")])])]):_vm._e()]:[_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('reviewed-by')))])]),_c('td',[_vm._v(\" \"+_vm._s(_vm.reviewer.fullName)+\" \")])]),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('reviewed-on')))])]),_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.annotation.created),'ll'))+\" \")])]),(_vm.isImageInReviewMode)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('reviewed-annotation-status')))])]),_c('td',[_c('span',{staticClass:\"tag is-success\"},[_vm._v(\" \"+_vm._s(_vm.$t('reviewed-annotation-status-validated'))+\" \")])])]):_vm._e()]]:_vm._e(),(_vm.currentUser.isDeveloper)?[_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('id')))])]),_c('td',[_vm._v(_vm._s(_vm.annotation.id))])])]:_vm._e()],2)]),_c('div',{staticClass:\"actions\"},[(_vm.showImageInfo)?_c('router-link',{staticClass:\"button is-link is-small is-fullwidth\",attrs:{\"to\":_vm.annotationURL}},[_vm._v(\" \"+_vm._s(_vm.$t('button-view-in-image'))+\" \")]):_c('a',{staticClass:\"button is-link is-small is-fullwidth\",on:{\"click\":function($event){return _vm.$emit('centerView')}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-center-view-on-annot'))+\" \")]),_c('div',{staticClass:\"level\"},[_c('a',{staticClass:\"level-item button is-small\",on:{\"click\":function($event){return _vm.openCrop(_vm.annotation)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-view-crop'))+\" \")]),_c('button',{staticClass:\"level-item button is-small\",on:{\"click\":function($event){return _vm.copyURL()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-copy-url'))+\" \")]),(_vm.isPropDisplayed('comments') && _vm.comments)?_c('button',{staticClass:\"level-item button is-small\",on:{\"click\":function($event){return _vm.openCommentsModal()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-comments'))+\" (\"+_vm._s(_vm.comments.length)+\") \")]):_vm._e(),(_vm.canEdit)?_c('button',{staticClass:\"level-item button is-small is-danger\",on:{\"click\":function($event){return _vm.confirmDeletion()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")]):_vm._e()])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('cytomine-modal-card',{attrs:{\"title\":_vm.$t('annotation-comments')},on:{\"close\":function($event){return _vm.$parent.close()}}},[(!_vm.comments || !_vm.comments.length)?_c('div',[_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('no-annotation-comments'))+\" \")]),_c('hr')]):[_c('div',{staticClass:\"comments-wrapper\"},_vm._l((_vm.comments),function(comment){return _c('div',{key:comment.id},[_c('p',{staticClass:\"comment-sender is-size-7\"},[_c('strong',[_vm._v(_vm._s(comment.senderName))]),_c('span',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm._f(\"moment\")(Number(comment.created),'ll LT')))])]),_c('p',{staticClass:\"comment-content\"},[_vm._v(_vm._s(comment.comment))]),_c('hr')])}),0)],_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.addingComment),expression:\"!addingComment\"}],staticClass:\"has-text-centered\"},[(!_vm.currentUser.guestByNow)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){_vm.addingComment = true}}},[_vm._v(_vm._s(_vm.$t('button-add-comment')))]):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.addingComment),expression:\"addingComment\"}]},[_c('h2',[_vm._v(_vm._s(_vm.$t('add-new-comment')))]),_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('comment-will-be-sent-by-email'))+\" \")]),_c('b-field',[_c('b-radio',{attrs:{\"native-value\":true,\"disabled\":_vm.members.length == 0},model:{value:(_vm.sendToAllMembers),callback:function ($$v) {_vm.sendToAllMembers=$$v},expression:\"sendToAllMembers\"}},[_vm._v(\" \"+_vm._s(_vm.$t('send-to-all-project-members'))+\" \")])],1),_c('b-field',[_c('b-radio',{attrs:{\"native-value\":false},model:{value:(_vm.sendToAllMembers),callback:function ($$v) {_vm.sendToAllMembers=$$v},expression:\"sendToAllMembers\"}},[_vm._v(\" \"+_vm._s(_vm.$t('send-to-some-members'))+\" \")])],1),(!_vm.sendToAllMembers)?_c('b-field',{attrs:{\"type\":{'is-danger': _vm.errors.has('members')},\"message\":_vm.errors.first('members')}},[_c('domain-tag-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"domains\":_vm.members,\"placeholder\":\"search-user\",\"name\":\"members\",\"searchedProperty\":\"fullName\",\"displayedProperty\":\"fullName\"},model:{value:(_vm.selectedMembers),callback:function ($$v) {_vm.selectedMembers=$$v},expression:\"selectedMembers\"}})],1):_vm._e(),_c('b-field',{attrs:{\"type\":{'is-danger': _vm.errors.has('comment')},\"message\":_vm.errors.first('comment')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"type\":\"textarea\",\"placeholder\":_vm.$t('enter-comment'),\"rows\":\"2\",\"name\":\"comment\"},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1),_c('p',{staticClass:\"buttons is-right are-small\"},[_c('button',{staticClass:\"button\",attrs:{\"disabled\":_vm.loading},on:{\"click\":function($event){_vm.addingComment = false}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",class:{'is-loading': _vm.loading},attrs:{\"disabled\":_vm.loading || _vm.members.length == 0 || _vm.errors.any()},on:{\"click\":function($event){return _vm.share()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-share'))+\" \")])])],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<cytomine-modal-card :title=\"$t('annotation-comments')\" @close=\"$parent.close()\">\r\n  <div v-if=\"!comments || !comments.length\">\r\n    <em class=\"has-text-grey\">\r\n      {{$t('no-annotation-comments')}}\r\n    </em>\r\n    <hr>\r\n  </div>\r\n  <template v-else>\r\n    <div class=\"comments-wrapper\">\r\n      <div v-for=\"comment in comments\" :key=\"comment.id\">\r\n        <p class=\"comment-sender is-size-7\">\r\n          <strong>{{ comment.senderName }}</strong>\r\n          <span class=\"has-text-grey\">{{Number(comment.created) | moment('ll LT')}}</span>\r\n        </p>\r\n        <p class=\"comment-content\">{{comment.comment}}</p>\r\n        <hr>\r\n      </div>\r\n    </div>\r\n  </template>\r\n\r\n  <div v-show=\"!addingComment\" class=\"has-text-centered\">\r\n    <button class=\"button is-link\" v-if=\"!currentUser.guestByNow\" @click=\"addingComment = true\">{{$t('button-add-comment')}}</button>\r\n  </div>\r\n\r\n  <div v-show=\"addingComment\">\r\n    <h2>{{$t('add-new-comment')}}</h2>\r\n    <b-message type=\"is-info\" has-icon size=\"is-small\">\r\n      {{$t('comment-will-be-sent-by-email')}}\r\n    </b-message>\r\n    <b-field>\r\n      <b-radio v-model=\"sendToAllMembers\" :native-value=\"true\" :disabled=\"members.length == 0\">\r\n        {{$t('send-to-all-project-members')}}\r\n      </b-radio>\r\n    </b-field>\r\n    <b-field>\r\n      <b-radio v-model=\"sendToAllMembers\" :native-value=\"false\">\r\n        {{$t('send-to-some-members')}}\r\n      </b-radio>\r\n    </b-field>\r\n    <b-field v-if=\"!sendToAllMembers\" :type=\"{'is-danger': errors.has('members')}\" :message=\"errors.first('members')\">\r\n      <domain-tag-input v-model=\"selectedMembers\" :domains=\"members\" placeholder=\"search-user\" name=\"members\" v-validate=\"'required'\" searchedProperty=\"fullName\" displayedProperty=\"fullName\" />\r\n    </b-field>\r\n    <b-field :type=\"{'is-danger': errors.has('comment')}\" :message=\"errors.first('comment')\">\r\n      <b-input v-model=\"text\" type=\"textarea\" :placeholder=\"$t('enter-comment')\" rows=\"2\" name=\"comment\" v-validate=\"'required'\" />\r\n    </b-field>\r\n    <p class=\"buttons is-right are-small\">\r\n      <button class=\"button\" @click=\"addingComment = false\" :disabled=\"loading\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" :class=\"{'is-loading': loading}\"\r\n        :disabled=\"loading || members.length == 0 || errors.any()\" @click=\"share()\">\r\n        {{$t('button-share')}}\r\n      </button>\r\n    </p>\r\n  </div>\r\n</cytomine-modal-card>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {AnnotationComment} from 'cytomine-client';\r\nimport DomainTagInput from '@/components/utils/DomainTagInput';\r\n\r\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\r\nimport {fullName} from '@/utils/user-utils.js';\r\n\r\nexport default {\r\n  name: 'annotation-comments-modal',\r\n  components: {\r\n    DomainTagInput,\r\n    CytomineModalCard\r\n  },\r\n  $_veeValidate: {validator: 'new'},\r\n  props: {\r\n    annotation: Object,\r\n    comments: Array\r\n  },\r\n  data() {\r\n    return {\r\n      addingComment: false,\r\n      sendToAllMembers: true,\r\n      selectedMembers: [],\r\n      text: '',\r\n      loading: false\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    allMembers: get('currentProject/members'),\r\n    members() { // all project members except current user\r\n      return this.allMembers.filter(member => member.id !== this.currentUser.id);\r\n    },\r\n    annotationURL() {\r\n      let uri = `project/${this.annotation.project}/image/${this.annotation.image}/annotation/${this.annotation.id}`;\r\n      return `${window.location.origin}/#/${uri}`;\r\n    }\r\n  },\r\n  watch: {\r\n    addingComment() {\r\n      this.text = '';\r\n      this.selectedMembers = [];\r\n      this.$nextTick(() => {\r\n        this.sendToAllMembers = true;\r\n        this.$validator.reset();\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    async share() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      this.loading = true;\r\n      try {\r\n        let sender = fullName(this.currentUser);\r\n        let newComment = await new AnnotationComment({\r\n          annotation: this.annotation,\r\n          subject: `Cytomine: ${sender} commented an annotation`, // not translated because the content of the mail will be in english\r\n          from: sender,\r\n          receivers: (this.sendToAllMembers ? this.members : this.selectedMembers).map(m => m.id),\r\n          comment: this.text,\r\n          annotationURL: this.annotationURL,\r\n          shareAnnotationURL: this.annotationURL + '?action=comments'\r\n        }).save();\r\n        this.$emit('addComment', newComment);\r\n        this.$notify({type: 'success', text: this.$t('notif-success-new-comment')});\r\n        this.addingComment = false;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-new-comment')});\r\n      }\r\n      this.loading = false;\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n>>> .modal-card {\r\n  max-height: 80vh;\r\n}\r\n\r\n>>> .modal-card-body {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.comments-wrapper {\r\n  overflow: auto;\r\n  margin-bottom: 1em;\r\n  min-height: 5em;\r\n}\r\n\r\n.comment-sender strong {\r\n  margin-right: 0.5em;\r\n}\r\n\r\n.comment-content {\r\n  margin-top: 0.25em;\r\n  margin-bottom: 0.5em;\r\n}\r\n\r\n>>> textarea {\r\n  margin: 0.75em 0 0;\r\n}\r\n\r\nhr {\r\n  margin: 0.75em 0 !important;\r\n}\r\n\r\n>>> .dropdown-content {\r\n  max-height: 7em !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCommentsModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCommentsModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AnnotationCommentsModal.vue?vue&type=template&id=5fbb43ad&scoped=true\"\nimport script from \"./AnnotationCommentsModal.vue?vue&type=script&lang=js\"\nexport * from \"./AnnotationCommentsModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./AnnotationCommentsModal.vue?vue&type=style&index=0&id=5fbb43ad&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5fbb43ad\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"annotation-details\">\r\n  <table class=\"table\">\r\n    <tbody>\r\n      <tr v-if=\"showImageInfo\">\r\n        <td><strong>{{$t('image')}}</strong></td>\r\n        <td>\r\n          <router-link :to=\"`/project/${annotation.project}/image/${annotation.image}`\">\r\n            <image-name :image=\"image\" />\r\n          </router-link>\r\n        </td>\r\n      </tr>\r\n\r\n      <tr v-if=\"showChannelInfo\">\r\n        <td><strong>{{$t('channel')}}</strong></td>\r\n        <td>\r\n          <channel-name :channel=\"sliceChannel\" />\r\n        </td>\r\n      </tr>\r\n\r\n      <template v-if=\"isPropDisplayed('geometry-info')\">\r\n        <tr v-if=\"annotation.area > 0\">\r\n          <td><strong>{{$t('area')}}</strong></td>\r\n          <td>{{ `${annotation.area.toFixed(3)} ${annotation.areaUnit}` }}</td>\r\n        </tr>\r\n\r\n        <tr v-if=\"annotation.perimeter > 0\">\r\n          <td><strong>{{$t(annotation.area > 0 ? 'perimeter' : 'length')}}</strong></td>\r\n          <td>{{ `${annotation.perimeter.toFixed(3)} ${annotation.perimeterUnit}` }}</td>\r\n        </tr>\r\n      </template>\r\n\r\n      <tr v-if=\"isPropDisplayed('description')\">\r\n        <td colspan=\"2\">\r\n          <h5>{{$t('description')}}</h5>\r\n          <cytomine-description :object=\"annotation\" :canEdit=\"canEdit\" :maxPreviewLength=\"300\" />\r\n        </td>\r\n      </tr>\r\n\r\n      <!-- TERMS -->\r\n      <tr v-if=\"isPropDisplayed('terms') && ontology\">\r\n        <td colspan=\"2\">\r\n          <h5>{{$t('terms')}}</h5>\r\n          <b-tag v-for=\"{term, user} in associatedTerms\" :key=\"term.id\"\r\n          :title=\"$t('associated-by', {username: user.fullName})\">\r\n            <cytomine-term :term=\"term\" />\r\n            <button v-if=\"canEditTerms\" class=\"delete is-small\" :title=\"$t('button-delete')\"\r\n              @click=\"removeTerm(term.id, user.id)\">\r\n            </button>\r\n          </b-tag>\r\n          <div class=\"add-term-wrapper\" v-if=\"canEditTerms\" v-click-outside=\"() => showTermSelector = false\">\r\n            <b-field>\r\n              <b-input\r\n                size=\"is-small\"\r\n                expanded\r\n                :placeholder=\"$t('add-term')\"\r\n                v-model=\"addTermString\"\r\n                @focus=\"showTermSelector = true\"\r\n              />\r\n            </b-field>\r\n\r\n            <div class=\"ontology-tree-container\" v-show=\"showTermSelector\">\r\n              <ontology-tree\r\n                class=\"ontology-tree\"\r\n                :ontology=\"ontology\"\r\n                :searchString=\"addTermString\"\r\n                :selectedNodes=\"associatedTermsIds\"\r\n                :allowNew=\"true\"\r\n                @newTerm=\"newTerm\"\r\n                @select=\"addTerm\"\r\n                @unselect=\"removeTerm\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <em v-else-if=\"!associatedTerms.length\">{{$t('no-term')}}</em>\r\n        </td>\r\n      </tr>\r\n\r\n      <!-- TRACKS -->\r\n      <tr v-if=\"isPropDisplayed('tracks') && maxRank > 1\">\r\n        <td colspan=\"2\">\r\n          <h5>{{$t('tracks')}}</h5>\r\n          <b-tag v-for=\"{track} in associatedTracks\" :key=\"track.id\">\r\n            <cytomine-track :track=\"track\" />\r\n            <button v-if=\"canEditTerms\" class=\"delete is-small\" :title=\"$t('button-delete')\"\r\n                    @click=\"removeTrack(track.id)\">\r\n            </button>\r\n          </b-tag>\r\n          <div class=\"add-track-wrapper\" v-if=\"canEditTerms\" v-click-outside=\"() => showTrackSelector = false\">\r\n            <b-field>\r\n              <b-input\r\n                size=\"is-small\"\r\n                expanded\r\n                :placeholder=\"$t('add-track')\"\r\n                v-model=\"addTrackString\"\r\n                @focus=\"showTrackSelector = true\"\r\n              />\r\n            </b-field>\r\n\r\n            <div class=\"track-tree-container\" v-show=\"showTrackSelector\">\r\n              <track-tree\r\n                class=\"track-tree\"\r\n                :tracks=\"availableTracks\"\r\n                :searchString=\"addTrackString\"\r\n                :selectedNodes=\"associatedTracksIds\"\r\n                :allowNew=\"true\"\r\n                :image=\"image\"\r\n                @newTrack=\"newTrack\"\r\n                @select=\"addTrack\"\r\n                @unselect=\"removeTrack\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <em v-else-if=\"!associatedTracks.length\">{{$t('no-track')}}</em>\r\n        </td>\r\n      </tr>\r\n\r\n      <tr v-if=\"isPropDisplayed('tags')\">\r\n        <td colspan=\"2\">\r\n          <h5>{{$t('tags')}}</h5>\r\n          <cytomine-tags :object=\"annotation\" :canEdit=\"canEdit\" />\r\n        </td>\r\n      </tr>\r\n\r\n      <!-- PROPERTIES -->\r\n      <tr v-if=\"isPropDisplayed('properties')\">\r\n        <td colspan=\"2\">\r\n          <h5>{{$t('properties')}}</h5>\r\n          <cytomine-properties\r\n            :object=\"annotation\"\r\n            :canEdit=\"canEdit\"\r\n            :properties=\"internalUseFilteredProperties\"\r\n            @deleted=\"removeProp\"\r\n            @added=\"addProp\"\r\n            @updateProperties=\"$emit('updateProperties')\"\r\n             />\r\n        </td>\r\n      </tr>\r\n\r\n      <tr v-if=\"isPropDisplayed('attached-files')\">\r\n        <td colspan=\"2\">\r\n          <h5>{{$t('attached-files')}}</h5>\r\n          <attached-files :object=\"annotation\" :canEdit=\"canEdit\" />\r\n        </td>\r\n      </tr>\r\n\r\n      <template v-if=\"isPropDisplayed('creation-info')\">\r\n        <tr>\r\n          <td><strong>{{$t('created-by')}}</strong></td>\r\n          <td>\r\n            {{ creator.fullName }}\r\n          </td>\r\n        </tr>\r\n        <template v-if=\"!isReviewedAnnotation\">\r\n          <tr>\r\n            <td><strong>{{ $t('created-on') }}</strong></td>\r\n              <td> {{ Number(annotation.created) | moment('ll') }} </td>\r\n          </tr>\r\n          <tr v-if=\"isImageInReviewMode\">\r\n            <td><strong>{{ $t('reviewed-annotation-status') }}</strong></td>\r\n            <td> \r\n              <span class=\"tag is-danger\">\r\n                {{ $t('reviewed-annotation-status-not-validated') }}\r\n              </span>  \r\n            </td>\r\n          </tr>\r\n        </template>\r\n        <template v-else>\r\n          <tr>\r\n            <td><strong>{{$t('reviewed-by')}}</strong></td>\r\n            <td>\r\n              {{ reviewer.fullName }}\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td><strong>{{$t('reviewed-on')}}</strong></td>\r\n            <td> {{ Number(annotation.created) | moment('ll') }} </td>\r\n          </tr>\r\n          <tr v-if=\"isImageInReviewMode\">\r\n            <td><strong>{{ $t('reviewed-annotation-status') }}</strong></td>\r\n            <td>\r\n              <span class=\"tag is-success\">\r\n                {{ $t('reviewed-annotation-status-validated') }}\r\n              </span>\r\n            </td>\r\n          </tr>\r\n        </template>\r\n      </template>\r\n\r\n      <template v-if=\"currentUser.isDeveloper\">\r\n        <tr>\r\n          <td><strong>{{$t('id')}}</strong></td>\r\n          <td>{{annotation.id}}</td>\r\n        </tr>\r\n      </template>\r\n    </tbody>\r\n  </table>\r\n\r\n  <div class=\"actions\">\r\n    <router-link\r\n      v-if=\"showImageInfo\"\r\n      :to=\"annotationURL\"\r\n      class=\"button is-link is-small is-fullwidth\"\r\n    >\r\n      {{ $t('button-view-in-image') }}\r\n    </router-link>\r\n\r\n    <a v-else class=\"button is-link is-small is-fullwidth\" @click=\"$emit('centerView')\">\r\n      {{ $t('button-center-view-on-annot') }}\r\n    </a>\r\n\r\n    <div class=\"level\">\r\n      <a @click=\"openCrop(annotation)\" class=\"level-item button is-small\">\r\n        {{ $t('button-view-crop') }}\r\n      </a>\r\n\r\n      <button class=\"level-item button is-small\" @click=\"copyURL()\">\r\n        {{ $t('button-copy-url') }}\r\n      </button>\r\n\r\n      <button v-if=\"isPropDisplayed('comments') && comments\" class=\"level-item button is-small\"\r\n        @click=\"openCommentsModal()\"\r\n      >\r\n        {{ $t('button-comments') }} ({{comments.length}})\r\n      </button>\r\n\r\n      <button v-if=\"canEdit\" class=\"level-item button is-small is-danger\" @click=\"confirmDeletion()\">\r\n        {{ $t('button-delete') }}\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {AnnotationTerm, AnnotationType, AnnotationCommentCollection, AnnotationTrack} from 'cytomine-client';\r\nimport copyToClipboard from 'copy-to-clipboard';\r\nimport ImageName from '@/components/image/ImageName';\r\nimport CytomineDescription from '@/components/description/CytomineDescription';\r\nimport CytomineProperties from '@/components/property/CytomineProperties';\r\nimport CytomineTags from '@/components/tag/CytomineTags';\r\nimport CytomineTerm from '@/components/ontology/CytomineTerm';\r\nimport AttachedFiles from '@/components/attached-file/AttachedFiles';\r\nimport OntologyTree from '@/components/ontology/OntologyTree';\r\nimport TrackTree from '@/components/track/TrackTree';\r\nimport CytomineTrack from '@/components/track/CytomineTrack';\r\nimport AnnotationCommentsModal from './AnnotationCommentsModal';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\nimport ChannelName from '@/components/viewer/ChannelName';\r\nimport {PropertyCollection} from 'cytomine-client';\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'annotations-details',\r\n  components: {\r\n    ChannelName,\r\n    ImageName,\r\n    CytomineDescription,\r\n    CytomineTerm,\r\n    OntologyTree,\r\n    CytomineTags,\r\n    CytomineProperties,\r\n    AttachedFiles,\r\n    AnnotationCommentsModal,\r\n    TrackTree,\r\n    CytomineTrack\r\n  },\r\n  props: {\r\n    annotation: {type: Object},\r\n    terms: {type: Array},\r\n    tracks: {type: Array},\r\n    users: {type: Array},\r\n    images: {type: Array},\r\n    slices: {type: Array, default: () => []},\r\n    showImageInfo: {type: Boolean, default: true},\r\n    showChannelInfo: {type: Boolean, default: false},\r\n    showComments: {type: Boolean, default: false}\r\n  },\r\n  data() {\r\n    return {\r\n      addTermString: '',\r\n      addTrackString: '',\r\n      showTermSelector: false,\r\n      showTrackSelector: false,\r\n      comments: null,\r\n      revTerms: 0,\r\n      revTracks: 0,\r\n      properties: [],\r\n      loadPropertiesError: false\r\n    };\r\n  },\r\n  computed: {\r\n    configUI: get('currentProject/configUI'),\r\n    ontology: get('currentProject/ontology'),\r\n    currentUser: get('currentUser/user'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    creator() {\r\n      return this.users.find(user => user.id === this.annotation.user) || {};\r\n    },\r\n    isReviewedAnnotation() {\r\n      return this.annotation.type === AnnotationType.REVIEWED;\r\n    },\r\n    reviewer() {\r\n      if(this.isReviewedAnnotation) {\r\n        return this.users.find(user => user.id === this.annotation.reviewUser) || {};\r\n      }\r\n      return null;\r\n    },\r\n    canEdit() {\r\n      return this.$store.getters['currentProject/canEditAnnot'](this.annotation);\r\n    },\r\n    canEditTerms() {\r\n      // HACK: because core prevents from modifying term of algo annot (https://github.com/cytomine/Cytomine-core/issues/1138 & 1139)\r\n      // + term modification forbidden for reviewed annotation\r\n      return this.canEdit && this.annotation.type === AnnotationType.USER;\r\n    },\r\n    image() {\r\n      return this.images.find(image => image.id === this.annotation.image) ||\r\n        {'id': this.annotation.image, 'instanceFilename': this.annotation.instanceFilename};\r\n    },\r\n    isImageInReviewMode() {\r\n      return this.image.inReview;\r\n    },\r\n    sliceChannel() {\r\n      return this.slices.find(slice => slice.id === this.annotation.slice) || {};\r\n    },\r\n    maxRank() {\r\n      return this.image.depth * this.image.duration * this.image.channels;\r\n    },\r\n    annotationURL() {\r\n      return `/project/${this.annotation.project}/image/${this.annotation.image}/annotation/${this.annotation.id}`;\r\n    },\r\n    associatedTerms() {\r\n      if(this.annotation.userByTerm) {\r\n        return this.annotation.userByTerm.map(ubt => {\r\n          let term = this.terms.find(term => ubt.term === term.id);\r\n          let user = this.users.find(user => user.id === ubt.user[0]) || {}; // QUESTION: can we have several users?\r\n          return {term, user};\r\n        });\r\n      }\r\n      else {\r\n        return [];\r\n      }\r\n    },\r\n    associatedTermsIds() {\r\n      this.revTerms;\r\n      return this.associatedTerms.map(({term}) => term.id);\r\n    },\r\n    associatedTracks() {\r\n      if(this.annotation.annotationTrack) {\r\n        return this.annotation.annotationTrack.map(at => {\r\n          let track = this.tracks.find(track => at.track === track.id);\r\n          return {track};\r\n        });\r\n      }\r\n      else {\r\n        return [];\r\n      }\r\n    },\r\n    associatedTracksIds() {\r\n      this.revTracks;\r\n      return this.associatedTracks.map(({track}) => track.id);\r\n    },\r\n    availableTracks() {\r\n      return this.tracks.filter(track => track.image === this.annotation.image);\r\n    },\r\n    isPoint() {\r\n      return this.annotation.location && this.annotation.location.includes('POINT');\r\n    },\r\n    internalUseFilteredProperties() {\r\n      return this.properties.filter(prop => !prop.key.startsWith(constants.PREFIX_HIDDEN_PROPERTY_KEY));\r\n    },\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    isPropDisplayed(prop) {\r\n      return this.configUI[`project-explore-annotation-${prop}`];\r\n    },\r\n    openCrop(annotation) {\r\n      window.location.assign(appendShortTermToken(annotation.url + '?draw=true&complete=true&increaseArea=1.25', this.shortTermToken), '_blank');\r\n    },\r\n    copyURL() {\r\n      copyToClipboard(window.location.origin + '/#' + this.annotationURL);\r\n      this.$notify({type: 'success', text: this.$t('notif-success-annot-URL-copied')});\r\n    },\r\n\r\n    async newTerm(term) { // a new term was added to the ontology\r\n      this.$emit('addTerm', term);\r\n      this.$store.dispatch('currentProject/fetchOntology');\r\n      this.addTerm(term.id);\r\n    },\r\n\r\n    async addTerm(idTerm) {\r\n      if(idTerm) {\r\n        try {\r\n          // TODO: fix issue with AlgoAnnotation https://github.com/cytomine/Cytomine-core/issues/1139\r\n          await new AnnotationTerm({annotation: this.annotation.id, term: idTerm}).save();\r\n          this.$emit('updateTerms');\r\n          this.showTermSelector = false;\r\n        }\r\n        catch(error) {\r\n          this.$notify({type: 'error', text: this.$t('notif-error-add-term')});\r\n          this.revTerms++;\r\n        }\r\n        finally {\r\n          this.addTermString = '';\r\n        }\r\n      }\r\n    },\r\n    async removeTerm(idTerm, idUser) {\r\n      idUser = idUser || this.findUserByTerm(idTerm); // if term removed from ontology tree, idUser not set => find it manually\r\n      if(!idUser) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // TODO fix issue with AlgoAnnotationTerm: https://github.com/cytomine/Cytomine-core/issues/1138\r\n        await AnnotationTerm.delete(this.annotation.id, idTerm, Number(idUser));\r\n        this.$emit('updateTerms');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-remove-term')});\r\n        this.revTerms++;\r\n      }\r\n    },\r\n    findUserByTerm(idTerm) {\r\n      if(this.annotation.userByTerm) {\r\n        let match = this.annotation.userByTerm.find(ubt => ubt.term === idTerm);\r\n        if(match) {\r\n          return match.user[0];\r\n        }\r\n      }\r\n    },\r\n\r\n    async newTrack(track) {\r\n      this.$emit('addTrack', track);\r\n      this.addTrack(track.id);\r\n    },\r\n    async addTrack(idTrack) {\r\n      if(idTrack) {\r\n        try {\r\n          await new AnnotationTrack({annotation: this.annotation.id, track: idTrack}).save();\r\n          this.$emit('updateTracks');\r\n          this.showTrackSelector = false;\r\n        }\r\n        catch(error) {\r\n          this.$notify({type: 'error', text: this.$t('notif-error-add-track')});\r\n          this.revTracks++;\r\n        }\r\n        finally {\r\n          this.addTrackString = '';\r\n        }\r\n      }\r\n    },\r\n    async removeTrack(idTrack) {\r\n      if(idTrack) {\r\n        try {\r\n          await AnnotationTrack.delete(this.annotation.id, idTrack);\r\n          this.$emit('updateTracks');\r\n        }\r\n        catch(error) {\r\n          this.$notify({type: 'error', text: this.$t('notif-error-remove-track')});\r\n          this.revTracks++;\r\n        }\r\n        finally {\r\n          this.addTrackString = '';\r\n        }\r\n      }\r\n    },\r\n\r\n    openCommentsModal() {\r\n      this.$buefy.modal.open({\r\n        parent: this,\r\n        component: AnnotationCommentsModal,\r\n        props: {annotation: this.annotation, comments: this.comments},\r\n        hasModalCard: true,\r\n        events: {'addComment': this.addComment}\r\n      });\r\n    },\r\n\r\n    addComment(comment) {\r\n      this.comments.unshift(comment);\r\n    },\r\n\r\n    confirmDeletion() {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('confirm-deletion'),\r\n        message: this.$t('confirm-deletion-annotation'),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.deleteAnnot()\r\n      });\r\n    },\r\n\r\n    async deleteAnnot() {\r\n      try {\r\n        await this.annotation.delete();\r\n        this.$emit('deletion');\r\n      }\r\n      catch(err) {\r\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-deletion')});\r\n      }\r\n    },\r\n    removeProp(prop) {\r\n      this.properties = this.properties.filter(p => p.id !== prop.id);\r\n    },\r\n    addProp(prop) {\r\n      this.properties.push(prop);\r\n    }\r\n  },\r\n  async created() {\r\n    if(this.isPropDisplayed('comments') && [AnnotationType.ALGO, AnnotationType.USER].includes(this.annotation.type)) {\r\n      try {\r\n        this.comments = (await AnnotationCommentCollection.fetchAll({annotation: this.annotation})).array;\r\n        if(this.showComments) {\r\n          this.openCommentsModal();\r\n        }\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-fetch-annotation-comments')});\r\n      }\r\n    }\r\n\r\n    try {\r\n      this.properties = (await PropertyCollection.fetchAll({ object: this.annotation })).array;\r\n    }\r\n    catch (error) {\r\n      this.loadPropertiesError = true;\r\n      console.log(error);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.annotation-details {\r\n  position: relative;\r\n  font-size: 0.85rem;\r\n}\r\n\r\n.table {\r\n  width: 100%;\r\n  margin-bottom: 0.7em !important;\r\n  background: transparent;\r\n}\r\n\r\n.table th, .table td {\r\n  vertical-align: middle;\r\n}\r\n\r\nh5 {\r\n  font-weight: 600;\r\n  margin-bottom: 0.6em;\r\n}\r\n\r\n.actions {\r\n  margin-bottom: 0.5em;\r\n}\r\n\r\n.actions .button {\r\n  margin: 3px;\r\n  box-sizing: border-box;\r\n}\r\n\r\na.is-fullwidth {\r\n  width: auto;\r\n}\r\n\r\n.add-term-wrapper, .add-track-wrapper {\r\n  position: relative;\r\n}\r\n\r\n.ontology-tree-container, .track-tree-container {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  z-index: 500;\r\n  padding-top: 5px;\r\n  background: white;\r\n  width: 100%;\r\n  max-height: 30vh;\r\n  overflow: auto;\r\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n  border-radius: 4px;\r\n  margin-top: 4px;\r\n}\r\n\r\n/**\r\n* https://stackoverflow.com/a/55368933\r\n* Since the project is using Sass and Vue 2.6.10, use `::v-deep` instead of `>>>` so it doesn't break validation.\r\n* Note that it's deprecated but will in Vue 3.\r\n* TODO: update >>> and ::v-deep using the unified :deep() selector when using the latest Vue.\r\n*/\r\n::v-deep .sl-vue-tree-node-item {\r\n  font-size: 0.9em;\r\n}\r\n\r\n::v-deep .tag {\r\n    margin-right: 5px;\r\n    margin-bottom: 5px !important;\r\n    background-color: rgba(0, 0, 0, 0.04);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetails.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetails.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AnnotationDetails.vue?vue&type=template&id=67b2b09b&scoped=true\"\nimport script from \"./AnnotationDetails.vue?vue&type=script&lang=js\"\nexport * from \"./AnnotationDetails.vue?vue&type=script&lang=js\"\nimport style0 from \"./AnnotationDetails.vue?vue&type=style&index=0&id=67b2b09b&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67b2b09b\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainTagInput.vue?vue&type=style&index=0&id=45831b03&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareInformation.vue?vue&type=style&index=0&id=067d1ba2&prod&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/philips.11891926.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineStorage.vue?vue&type=style&index=1&id=ffdbda6e&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetailsContainer.vue?vue&type=style&index=0&id=0d23ef15&prod&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/hamamatsu.d2b568a4.jpg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDescriptionModal.vue?vue&type=style&index=0&id=c1872c3e&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivity.vue?vue&type=style&index=0&id=77d5a06f&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddImageModal.vue?vue&type=style&index=0&id=48f99de6&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineStorage.vue?vue&type=style&index=0&id=ffdbda6e&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectMembers.vue?vue&type=style&index=1&id=6e85a606&prod&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.track)?_c('span',[(_vm.track.color)?_c('i',{staticClass:\"far fa-square color-preview\",style:({color: _vm.track.color})}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.track.name)+\" \"),(_vm.currentUser.isDeveloper && _vm.track.id > 0)?_c('span',[_vm._v(\" (\"+_vm._s(_vm.$t('id'))+\": \"+_vm._s(_vm.track.id)+\")\")]):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<span v-if=\"track\">\r\n  <i class=\"far fa-square color-preview\" v-if=\"track.color\" :style=\"{color: track.color}\"></i>\r\n  {{track.name}}\r\n  <span v-if=\"currentUser.isDeveloper && track.id > 0\"> ({{$t('id')}}: {{track.id}})</span>\r\n</span>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nexport default {\r\n  name: 'cytomine-track',\r\n  props: {\r\n    track: Object\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .color-preview {\r\n    margin-right: 0.25em;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTrack.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTrack.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineTrack.vue?vue&type=template&id=62ec5aa4&scoped=true\"\nimport script from \"./CytomineTrack.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineTrack.vue?vue&type=script&lang=js\"\nimport style0 from \"./CytomineTrack.vue?vue&type=style&index=0&id=62ec5aa4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62ec5aa4\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyDetails.vue?vue&type=style&index=0&id=e68b0e42&prod&lang=css\"","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-ps\": \"4c98\",\n\t\"./ar-ps.js\": \"4c98\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d833\",\n\t\"./ar-tn.js\": \"6d833\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku-kmr\": \"7558\",\n\t\"./ku-kmr.js\": \"7558\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a391\",\n\t\"./ne.js\": \"3a391\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityCharts.vue?vue&type=style&index=0&id=a5f175d8&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectMembers.vue?vue&type=style&index=0&id=6e85a606&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.term)?_c('span',[(_vm.term.color)?_c('div',{staticClass:\"color-preview\",style:({background: _vm.term.color})}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.term.name)+\" \"),(_vm.currentUser.isDeveloper && _vm.term.id > 0)?_c('span',[_vm._v(\" (\"+_vm._s(_vm.$t('id'))+\": \"+_vm._s(_vm.term.id)+\")\")]):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<span v-if=\"term\">\r\n  <div class=\"color-preview\" v-if=\"term.color\" :style=\"{background: term.color}\"></div>\r\n  {{term.name}}\r\n  <span v-if=\"currentUser.isDeveloper && term.id > 0\"> ({{$t('id')}}: {{term.id}})</span>\r\n</span>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nexport default {\r\n  name: 'cytomine-term',\r\n  props: {\r\n    term: Object\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.color-preview {\r\n  width: 1em;\r\n  height: 1em;\r\n  display: inline-block;\r\n  margin-right: 0.25em;\r\n  border-radius: 0.25em;\r\n  box-shadow: 0 0 1px #777;\r\n  position: relative;\r\n  top: 0.2em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTerm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTerm.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineTerm.vue?vue&type=template&id=23b57a24&scoped=true\"\nimport script from \"./CytomineTerm.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineTerm.vue?vue&type=script&lang=js\"\nimport style0 from \"./CytomineTerm.vue?vue&type=style&index=0&id=23b57a24&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23b57a24\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageDetails.vue?vue&type=style&index=0&id=6cc541f6&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotationSelector.vue?vue&type=style&index=0&id=3ef9c304&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListProjects.vue?vue&type=style&index=0&id=719f2815&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProperties.vue?vue&type=style&index=0&id=fa6ad84e&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetails.vue?vue&type=style&index=0&id=4c41cfd4&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineImage.vue?vue&type=style&index=0&id=413cb7c5&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareSourceButtons.vue?vue&type=style&index=0&id=470ead4b&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityLogs.vue?vue&type=style&index=0&id=37261b9d&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading},on:{\"update:active\":function($event){_vm.loading=$event}}}),(!_vm.loading)?[(_vm.welcomeMessage)?_c('div',{staticClass:\"box\",domProps:{\"innerHTML\":_vm._s(_vm.welcomeMessage)}}):_vm._e(),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-two-thirds\"},[_c('div',{staticClass:\"box\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('recently-opened'))+\" \")]),(!_vm.recentProjects)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('failed-fetch-recent-projects'))+\" \")]):_c('b-table',{attrs:{\"data\":_vm.recentProjects},scopedSlots:_vm._u([{key:\"default\",fn:function({row: project}){return [_c('b-table-column',{attrs:{\"label\":_vm.$t('project'),\"width\":\"100\",\"centered\":\"\"}},[_c('router-link',{staticClass:\"project-name\",attrs:{\"to\":`/project/${project.id}`}},[_vm._v(\" \"+_vm._s(project.name)+\" \")])],1),_c('b-table-column',{attrs:{\"label\":_vm.$t('images'),\"width\":\"400\"}},[_c('list-images-preview',{attrs:{\"project\":project}})],1)]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-recent-project')))])])]},proxy:true}],null,false,4264962988)}),_c('p',{staticClass:\"has-text-centered all-projects\"},[_c('router-link',{staticClass:\"button is-link\",attrs:{\"to\":\"/projects\"}},[_vm._v(_vm._s(_vm.$t('view-all-projects')))])],1)],1)]),_c('div',{staticClass:\"column right-column\"},[_c('div',{staticClass:\"box stats\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('statistics'))+\" \")]),_c('table',{staticClass:\"table is-fullwidth\"},[_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.projects ? _vm.projects.length : \"?\"))]),_c('td',[_vm._v(_vm._s(_vm.$t('projects')))]),_c('td',[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t('number-projects-info-message')))])]},proxy:true}],null,false,2258136266)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.nbImages != null ? _vm.nbImages : \"?\"))]),_c('td',[_vm._v(_vm._s(_vm.$t('images')))]),_c('td',[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t('number-images-info-message')))])]},proxy:true}],null,false,2856895864)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.nbUserAnnots != null ? _vm.nbUserAnnots : \"?\"))]),_c('td',[_vm._v(_vm._s(_vm.$t('user-annotations')))]),_c('td',[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t('number-annotations-info-message')))])]},proxy:true}],null,false,3793819640)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.nbReviewed != null ? _vm.nbReviewed : \"?\"))]),_c('td',[_vm._v(_vm._s(_vm.$t('reviewed-annotations')))]),_c('td',[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t('number-reviewed-annotations-info-message')))])]},proxy:true}],null,false,4053539854)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)])])])]),_c('div',{staticClass:\"box\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('last-opened-image'))+\" \")]),(_vm.lastOpenedImage)?_c('image-preview',{attrs:{\"image\":_vm.lastOpenedImage,\"fullHeightCard\":false,\"showProject\":true,\"blindMode\":_vm.lastOpenedImage.blindMode}}):_c('div',{staticClass:\"has-text-grey has-text-centered\"},[_vm._v(\" \"+_vm._s(_vm.$t('no-recent-image'))+\" \")])],1)])])]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.images && _vm.images.length)?_c('div',{staticClass:\"columns\"},[_vm._l((_vm.images),function(image){return _c('div',{key:image.image,staticClass:\"column\"},[_c('image-preview',{attrs:{\"image\":image,\"blindMode\":_vm.project.blindMode}})],1)}),_c('div',{staticClass:\"column is-narrow vertical-center\"},[_c('router-link',{staticClass:\"button\",attrs:{\"to\":`/project/${this.project.id}/images`}},[_vm._v(_vm._s(_vm.$t('button-view-all')))])],1)],2):_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('no-image-recently-opened'))+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card\",class:{'full-height-card': _vm.fullHeightCard}},[_c('router-link',{staticClass:\"card-image recent-image\",attrs:{\"to\":`/project/${_vm.idProject}/image/${_vm.idImage}`}},[_c('figure',{staticClass:\"image is-5by3\",style:(_vm.figureStyle)})]),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('p',[_c('router-link',{attrs:{\"to\":`/project/${_vm.idProject}/image/${_vm.idImage}`}},[(_vm.isBlindMode)?_c('span',{staticClass:\"blind-indication\"},[_vm._v(\"[\"+_vm._s(this.$t('blinded-name-indication'))+\"]\")]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.image.blindedName || _vm.image.instanceFilename || _vm.image.imageName)+\" \"),(_vm.showProject)?_c('span',{staticClass:\"in-project\"},[_vm._v(\"(\"+_vm._s(_vm.$t('in-project', {projectName: _vm.image.projectName}))+\")\")]):_vm._e()])],1),_vm._t(\"default\")],2)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nfunction isWebPSupported() {\r\n  let elem = document.createElement('canvas');\r\n  if (elem.getContext && elem.getContext('2d')) {\r\n    return elem.toDataURL('image/webp').indexOf('data:image/webp') === 0;\r\n  }\r\n\r\n  // very old browser like IE 8, canvas not supported\r\n  return false;\r\n}\r\n\r\nexport const SUPPORT_WEBP = isWebPSupported();\r\nexport const IMAGE_FORMAT = (SUPPORT_WEBP) ? 'webp' : 'jpg';\r\n\r\nexport function splitImageUrl(rawUrl) {\r\n  let url = new URL(rawUrl);\r\n  let pathname = url.pathname.split('.')[0];\r\n  let params = url.searchParams;\r\n\r\n  return {\r\n    host: `${url.protocol}//${url.host}`,\r\n    pathname: pathname,\r\n    params: params\r\n  };\r\n}\r\n\r\nexport function combineImageUrl({host, pathname, format, params}) {\r\n  if (!(params instanceof URLSearchParams)) {\r\n    params = new URLSearchParams(params);\r\n  }\r\n  let formattedParams = params.toString();\r\n  let sep = (formattedParams.length > 0) ? '?' : '';\r\n  return `${host}${pathname}.${format}${sep}${formattedParams}`;\r\n}\r\n\r\n\r\nexport function changeImageUrlFormat(url, newFormat=IMAGE_FORMAT) {\r\n  return combineImageUrl({format: newFormat, ...splitImageUrl(url)});\r\n}\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"card\" :class=\"{'full-height-card': fullHeightCard}\">\r\n  <router-link class=\"card-image recent-image\" :to=\"`/project/${idProject}/image/${idImage}`\">\r\n    <figure class=\"image is-5by3\" :style=\"figureStyle\">\r\n    </figure>\r\n  </router-link>\r\n  <div class=\"card-content\">\r\n    <div class=\"content\">\r\n      <p>\r\n        <router-link :to=\"`/project/${idProject}/image/${idImage}`\">\r\n          <span v-if=\"isBlindMode\" class=\"blind-indication\">[{{this.$t('blinded-name-indication')}}]</span>\r\n          {{ image.blindedName || image.instanceFilename || image.imageName }}\r\n          <span v-if=\"showProject\" class=\"in-project\">({{$t('in-project', {projectName: image.projectName})}})</span>\r\n        </router-link>\r\n      </p>\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {changeImageUrlFormat} from '@/utils/image-utils';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\n\r\nexport default {\r\n  name: 'image-preview',\r\n  props: {\r\n    image: {type: Object},\r\n    project: {type: Object, default: null},\r\n    fullHeightCard: {type: Boolean, default: true},\r\n    showProject: {type: Boolean, default: false},\r\n    blindMode: {type: Boolean, default: false},\r\n    shortTermToken: {type: String, default: null}\r\n  },\r\n  computed: {\r\n    idImage() {\r\n      return this.image.image || this.image.id; // if provided object is image consultation, image.image\r\n    },\r\n    idProject() {\r\n      return (this.project) ? this.project.id : this.image.project;\r\n    },\r\n    isBlindMode() {\r\n      return (this.project) ? this.project.blindMode : this.blindMode;\r\n    },\r\n    rawPreviewUrl() {\r\n      return this.image.thumb || this.image.imageThumb;\r\n    },\r\n    previewUrl() {\r\n      return changeImageUrlFormat(this.rawPreviewUrl);\r\n    },\r\n    figureStyle() {\r\n      return {backgroundImage: `url(\"${appendShortTermToken(this.previewUrl, this.shortTermToken)}\")`};\r\n    }\r\n  },\r\n  created() {\r\n    this.shortTermToken = this.$store.getters['currentUser/currentShortTermToken'];\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.image {\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  background-size: cover;\r\n  position: relative;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.card.full-height-card {\r\n  height: 100%;\r\n}\r\n\r\n.card-content {\r\n  padding: 1.5rem;\r\n  overflow-wrap: break-word;\r\n}\r\n\r\n.card-content a {\r\n  font-weight: 600;\r\n}\r\n\r\n.blind-indication {\r\n  font-size: 0.9em;\r\n  text-transform: uppercase;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImagePreview.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImagePreview.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ImagePreview.vue?vue&type=template&id=1af6021b&scoped=true\"\nimport script from \"./ImagePreview.vue?vue&type=script&lang=js\"\nexport * from \"./ImagePreview.vue?vue&type=script&lang=js\"\nimport style0 from \"./ImagePreview.vue?vue&type=style&index=0&id=1af6021b&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1af6021b\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"columns\" v-if=\"images && images.length\">\r\n  <div class=\"column\" v-for=\"image in images\" :key=\"image.image\">\r\n    <image-preview :image=\"image\" :blindMode=\"project.blindMode\" />\r\n  </div>\r\n  <div class=\"column is-narrow vertical-center\">\r\n    <router-link class=\"button\" :to=\"`/project/${this.project.id}/images`\">{{$t('button-view-all')}}</router-link>\r\n  </div>\r\n</div>\r\n<div v-else>\r\n  {{$t('no-image-recently-opened')}}\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {ImageInstanceCollection} from 'cytomine-client';\r\n\r\nimport ImagePreview from './ImagePreview';\r\n\r\nexport default {\r\n  name: 'list-images-preview',\r\n  components: {ImagePreview},\r\n  props: {\r\n    project: Object,\r\n    nbRecent: {\r\n      type: Number,\r\n      default: 3\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      images: []\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user')\r\n  },\r\n  async created() {\r\n    this.images = await ImageInstanceCollection.fetchLastOpened({\r\n      max: this.nbRecent,\r\n      project: this.project.id,\r\n      user: this.currentUser.id\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.column:not(.is-narrow) {\r\n  max-width: 12.5rem;\r\n  min-width: 12.5rem;\r\n}\r\n\r\n.vertical-center {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListImagesPreview.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListImagesPreview.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ListImagesPreview.vue?vue&type=template&id=2744f546&scoped=true\"\nimport script from \"./ListImagesPreview.vue?vue&type=script&lang=js\"\nexport * from \"./ListImagesPreview.vue?vue&type=script&lang=js\"\nimport style0 from \"./ListImagesPreview.vue?vue&type=style&index=0&id=2744f546&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2744f546\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"content-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active.sync=\"loading\" />\r\n\r\n  <template v-if=\"!loading\">\r\n    <div v-if=\"welcomeMessage\" class=\"box\" v-html=\"welcomeMessage\"></div>\r\n\r\n    <div class=\"columns\">\r\n      <div class=\"column is-two-thirds\">\r\n        <div class=\"box\">\r\n          <h2> {{ $t('recently-opened') }} </h2>\r\n          <b-message v-if=\"!recentProjects\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n            {{$t('failed-fetch-recent-projects')}}\r\n          </b-message>\r\n          <b-table v-else :data=\"recentProjects\">\r\n\r\n            <template #default=\"{row: project}\">\r\n              <b-table-column :label=\"$t('project')\" width=\"100\" centered>\r\n                <router-link class=\"project-name\" :to=\"`/project/${project.id}`\">\r\n                  {{ project.name }}\r\n                </router-link>\r\n              </b-table-column>\r\n\r\n              <b-table-column :label=\"$t('images')\" width=\"400\">\r\n                <list-images-preview :project=\"project\" />\r\n              </b-table-column>\r\n            </template>\r\n\r\n            <template #empty>\r\n              <div class=\"content has-text-grey has-text-centered\">\r\n                <p>{{$t('no-recent-project')}}</p>\r\n              </div>\r\n            </template>\r\n          </b-table>\r\n\r\n          <p class=\"has-text-centered all-projects\">\r\n            <router-link class=\"button is-link\" to=\"/projects\">{{$t('view-all-projects')}}</router-link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"column right-column\">\r\n        <div class=\"box stats\">\r\n          <h2> {{ $t('statistics') }} </h2>\r\n          <table class=\"table is-fullwidth\">\r\n            <tbody>\r\n              <tr>\r\n                <td>{{projects ? projects.length : \"?\"}}</td>\r\n                <td>{{$t('projects')}}</td>\r\n                <td>\r\n                  <v-popover>\r\n                    <i class=\"fas fa-info-circle\"></i>\r\n                    <template #popover>\r\n                      <p>{{$t('number-projects-info-message')}}</p>\r\n                    </template>\r\n                  </v-popover>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>{{nbImages != null ? nbImages : \"?\"}}</td>\r\n                <td>{{$t('images')}}</td>\r\n                <td>\r\n                  <v-popover>\r\n                    <i class=\"fas fa-info-circle\"></i>\r\n                    <template #popover>\r\n                      <p>{{$t('number-images-info-message')}}</p>\r\n                    </template>\r\n                  </v-popover>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>{{nbUserAnnots != null ? nbUserAnnots : \"?\"}}</td>\r\n                <td>{{$t('user-annotations')}}</td>\r\n                <td>\r\n                  <v-popover>\r\n                    <i class=\"fas fa-info-circle\"></i>\r\n                    <template #popover>\r\n                      <p>{{$t('number-annotations-info-message')}}</p>\r\n                    </template>\r\n                  </v-popover>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>{{nbReviewed != null ? nbReviewed : \"?\"}}</td>\r\n                <td>{{$t('reviewed-annotations')}}</td>\r\n                <td>\r\n                  <v-popover>\r\n                    <i class=\"fas fa-info-circle\"></i>\r\n                    <template #popover>\r\n                      <p>{{$t('number-reviewed-annotations-info-message')}}</p>\r\n                    </template>\r\n                  </v-popover>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <div class=\"box\">\r\n          <h2> {{ $t('last-opened-image') }} </h2>\r\n          <image-preview\r\n            v-if=\"lastOpenedImage\"\r\n            :image=\"lastOpenedImage\"\r\n            :fullHeightCard=\"false\"\r\n            :showProject=\"true\"\r\n            :blindMode=\"lastOpenedImage.blindMode\"\r\n          />\r\n          <div class=\"has-text-grey has-text-centered\" v-else>\r\n            {{$t('no-recent-image')}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport ListImagesPreview from '@/components/image/ListImagesPreview';\r\nimport ImagePreview from '@/components/image/ImagePreview';\r\n\r\nimport {ImageInstanceCollection, ProjectCollection, Configuration} from 'cytomine-client';\r\n\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'global-dashboard',\r\n  components: {\r\n    ListImagesPreview,\r\n    ImagePreview\r\n  },\r\n  props: {\r\n    nbRecent: {\r\n      type: Number,\r\n      default: 3\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      projects: null,\r\n      recentProjectsId: null,\r\n      recentImages: [],\r\n      nbUserAnnots: null,\r\n      nbReviewed: null,\r\n      welcomeMessage: null,\r\n      loading: true\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n\r\n    nbImages() {\r\n      if(!this.projects) {\r\n        return;\r\n      }\r\n\r\n      return this.projects.array.reduce((count, project) => {\r\n        return count + project.numberOfImages;\r\n      }, 0);\r\n    },\r\n    recentProjects() {\r\n      if(!this.recentProjectsId || !this.projects) {\r\n        return;\r\n      }\r\n\r\n      let array = [];\r\n      this.recentProjectsId.forEach(id => {\r\n        let project = this.projects.array.find(project => project.id === id);\r\n        if(project) {\r\n          array.push(project);\r\n        }\r\n      });\r\n      return array;\r\n    },\r\n    lastOpenedImage() {\r\n      if(this.recentImages && this.recentImages.length > 0 && this.projects) {\r\n        let lastOpened = this.recentImages[0];\r\n        let project = this.projects.array.find(project => project.id === lastOpened.project);\r\n        if(project) {\r\n          lastOpened.projectName = project.name;\r\n          lastOpened.blindMode = project.blindMode;\r\n        }\r\n        return lastOpened;\r\n      }\r\n      return false;\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchProjects() {\r\n      this.projects = await ProjectCollection.fetchAll();\r\n    },\r\n    async fetchNbAnnots() {\r\n      this.nbUserAnnots = await this.currentUser.fetchNbAnnotations();\r\n    },\r\n    async fetchNbReviewedAnnots() {\r\n      this.nbReviewed = await this.currentUser.fetchNbAnnotations(true);\r\n    },\r\n    async fetchRecentProjectsId() {\r\n      let listRecent = await ProjectCollection.fetchLastOpened(this.nbRecent);\r\n      this.recentProjectsId = listRecent.map(recent => recent.id);\r\n    },\r\n    async fetchRecentImages() {\r\n      this.recentImages = await ImageInstanceCollection.fetchLastOpened({max: 1});\r\n    },\r\n    async fetchWelcomeMessage() {\r\n      try {\r\n        this.welcomeMessage = (await Configuration.fetch(constants.CONFIG_KEY_WELCOME)).value;\r\n      }\r\n      catch(error) {\r\n        // no welcome message defined\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    await Promise.all([\r\n      this.fetchProjects(),\r\n      this.fetchNbAnnots(),\r\n      this.fetchNbReviewedAnnots(),\r\n      this.fetchRecentProjectsId(),\r\n      this.fetchRecentImages(),\r\n      this.fetchWelcomeMessage()\r\n    ].map(p => p.catch(e => console.log(e)))); // ignore errors (handled in template) and ensure all promises finish, even if some errors occur in the process\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ntd {\r\n  vertical-align: middle !important;\r\n}\r\n\r\na.project-name {\r\n  font-weight: 600;\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.all-projects {\r\n  margin-top: 1rem;\r\n}\r\n\r\n.right-column {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.stats {\r\n  padding-bottom: 2.5rem;\r\n}\r\n\r\ntd:first-child {\r\n  font-weight: 600;\r\n  text-align: right;\r\n  width: 25%;\r\n}\r\n\r\n.fas.fa-info-circle {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalDashboard.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalDashboard.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./GlobalDashboard.vue?vue&type=template&id=bbd1f22e&scoped=true\"\nimport script from \"./GlobalDashboard.vue?vue&type=script&lang=js\"\nexport * from \"./GlobalDashboard.vue?vue&type=script&lang=js\"\nimport style0 from \"./GlobalDashboard.vue?vue&type=style&index=0&id=bbd1f22e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bbd1f22e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"list-projects-wrapper content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('unexpected-error-info-message')))])]):(!_vm.loading)?_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('projects'))+\" \"),(!_vm.currentUser.guestByNow)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){_vm.creationModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('new-project'))+\" \")]):_vm._e()]),_c('div',{staticClass:\"panel-block\"},[_c('div',{staticClass:\"search-block\"},[_c('b-input',{staticClass:\"search-projects\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.toggleFilterDisplay()}}},[_vm._m(0),_c('span',[_vm._v(\" \"+_vm._s(_vm.filtersOpened ? _vm.$t('button-hide-filters') : _vm.$t('button-show-filters'))+\" \")]),(_vm.nbActiveFilters)?_c('span',{staticClass:\"nb-active-filters\"},[_vm._v(\" \"+_vm._s(_vm.nbActiveFilters)+\" \")]):_vm._e()])],1),_c('b-collapse',{attrs:{\"open\":_vm.filtersOpened}},[_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('ontology'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableOntologies,\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"allPlaceholder\":_vm.$t('all-ontologies')},model:{value:(_vm.selectedOntologies),callback:function ($$v) {_vm.selectedOntologies=$$v},expression:\"selectedOntologies\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('my-role'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableRoles,\"multiple\":\"\",\"searchable\":false},model:{value:(_vm.selectedRoles),callback:function ($$v) {_vm.selectedRoles=$$v},expression:\"selectedRoles\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('tags'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableTags,\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"allPlaceholder\":_vm.$t('all')},model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})],1)])]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('members'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbMembers},model:{value:(_vm.boundsMembers),callback:function ($$v) {_vm.boundsMembers=$$v},expression:\"boundsMembers\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('images'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbImages},model:{value:(_vm.boundsImages),callback:function ($$v) {_vm.boundsImages=$$v},expression:\"boundsImages\"}})],1)]),_c('div',{staticClass:\"column\"})]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('user-annotations'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbUserAnnotations},model:{value:(_vm.boundsUserAnnotations),callback:function ($$v) {_vm.boundsUserAnnotations=$$v},expression:\"boundsUserAnnotations\"}})],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.algoEnabled),expression:\"algoEnabled\"}],staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('analysis-annotations'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbJobAnnotations},model:{value:(_vm.boundsJobAnnotations),callback:function ($$v) {_vm.boundsJobAnnotations=$$v},expression:\"boundsJobAnnotations\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('reviewed-annotations'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbReviewedAnnotations},model:{value:(_vm.boundsReviewedAnnotations),callback:function ($$v) {_vm.boundsReviewedAnnotations=$$v},expression:\"boundsReviewedAnnotations\"}})],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.algoEnabled),expression:\"!algoEnabled\"}],staticClass:\"column\"})])])]),_c('cytomine-table',{staticClass:\"table-projects\",attrs:{\"collection\":_vm.projectCollection,\"is-empty\":_vm.nbEmptyFilters > 0,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"openedDetailed\":_vm.openedDetails,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function({row: project}){return [_c('b-table-column',{attrs:{\"field\":\"currentUserRole\",\"label\":\"\",\"centered\":\"\",\"width\":\"1\",\"sortable\":\"\"}},[_c('icon-project-member-role',{attrs:{\"is-manager\":project.currentUserRoles.admin,\"is-representative\":project.currentUserRoles.representative}})],1),_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"250\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}`}},[_vm._v(\" \"+_vm._s(project.name)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"membersCount\",\"label\":_vm.$t('members'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(project.membersCount)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"numberOfImages\",\"label\":_vm.$t('images'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}/images`}},[_vm._v(_vm._s(project.numberOfImages))])],1),_c('b-table-column',{attrs:{\"field\":\"numberOfAnnotations\",\"label\":_vm.$t('user-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}/annotations?type=user`}},[_vm._v(\" \"+_vm._s(project.numberOfAnnotations)+\" \")])],1),(_vm.algoEnabled)?_c('b-table-column',{attrs:{\"field\":\"numberOfJobAnnotations\",\"label\":_vm.$t('analysis-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}/annotations?type=algo`}},[_vm._v(\" \"+_vm._s(project.numberOfJobAnnotations)+\" \")])],1):_vm._e(),_c('b-table-column',{attrs:{\"field\":\"numberOfReviewedAnnotations\",\"label\":_vm.$t('reviewed-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}/annotations?type=reviewed`}},[_vm._v(\" \"+_vm._s(project.numberOfReviewedAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"lastActivity\",\"label\":_vm.$t('last-activity'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"180\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(project.lastActivity),'ll'))+\" \")]),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\",\"width\":\"150\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":`/project/${project.id}`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-open'))+\" \")])],1)]}},{key:\"detail\",fn:function({row: project}){return [_c('project-details',{attrs:{\"project\":project,\"excluded-properties\":_vm.excludedProperties,\"editable\":\"\"},on:{\"update\":function($event){return _vm.updateProject()},\"delete\":function($event){return _vm.deleteProject(project)}}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-project')))])])]},proxy:true}])}),_c('div',{staticClass:\"legend\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('legend')))]),_c('p',[_c('icon-project-member-role'),_vm._v(\" : \"+_vm._s(_vm.$t('contributor-icon-label')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('manager-icon-label')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true,\"is-representative\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('representative-icon-label')))],1)])],1)]):_vm._e(),_c('add-project-modal',{attrs:{\"active\":_vm.creationModal,\"ontologies\":_vm.ontologies},on:{\"update:active\":function($event){_vm.creationModal=$event}}})],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-filter\"})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._t(\"error\",function(){return [_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]})],2):_c('div',{staticClass:\"cytomine-table-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":!_vm.data}}),(_vm.data)?_c('b-table',{attrs:{\"data\":_vm.data,\"loading\":_vm.loading,\"paginated\":\"\",\"backend-pagination\":\"\",\"total\":_vm.total,\"per-page\":_vm.internalPerPage,\"current-page\":_vm.internalCurrentPage,\"pagination-size\":\"is-small\",\"detailed\":_vm.detailed,\"detail-key\":_vm.detailKey,\"opened-detailed\":_vm.openedDetailed.slice(),\"backend-sorting\":\"\",\"default-sort\":_vm.sort,\"default-sort-direction\":_vm.order,\"checkable\":_vm.checkable,\"checked-rows\":_vm.internalCheckedRows,\"is-row-checkable\":_vm.isRowCheckable},on:{\"update:currentPage\":function($event){_vm.internalCurrentPage=$event},\"update:current-page\":function($event){_vm.internalCurrentPage=$event},\"update:openedDetailed\":function($event){return _vm.$emit('update:openedDetailed', $event)},\"update:checkedRows\":function($event){_vm.internalCheckedRows=$event},\"update:checked-rows\":function($event){_vm.internalCheckedRows=$event},\"sort\":_vm.updateSort},scopedSlots:_vm._u([{key:\"header\",fn:function({column}){return [_vm._t(\"header\",function(){return [_vm._v(\" \"+_vm._s(column.label)+\" \")]},{\"column\":column,\"index\":_vm.index})]}},{key:\"default\",fn:function({row, index}){return [_vm._t(\"default\",null,{\"row\":row,\"index\":index})]}},{key:\"detail\",fn:function({row, index}){return [_vm._t(\"detail\",null,{\"row\":row,\"index\":index})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_vm._t(\"empty\",function(){return [_vm._v(\" \"+_vm._s(_vm.$t('no-result'))+\" \")]},{\"row\":_vm.row,\"index\":_vm.index})],2)]},proxy:true},{key:\"footer\",fn:function(){return [_vm._t(\"footer\")]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.internalPerPage),callback:function ($$v) {_vm.internalPerPage=$$v},expression:\"internalPerPage\"}},_vm._l((_vm.perPageOptions),function(option){return _c('option',{key:option,domProps:{\"value\":option}},[_vm._v(\" \"+_vm._s(_vm.$t('count-per-page', {count: option}))+\" \")])}),0)]},proxy:true}],null,true)}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n\r\n<template>\r\n<b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n  <slot name=\"error\">\r\n    <h2> {{ $t('error') }} </h2>\r\n    <p> {{ $t('unexpected-error-info-message') }} </p>\r\n  </slot>\r\n</b-message>\r\n<div v-else class=\"cytomine-table-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"!data\" />\r\n  <b-table\r\n    v-if=\"data\"\r\n    :data=\"data\"\r\n    :loading=\"loading\"\r\n    paginated\r\n    backend-pagination\r\n    :total=\"total\"\r\n    :per-page=\"internalPerPage\"\r\n    :current-page.sync=\"internalCurrentPage\"\r\n    pagination-size=\"is-small\"\r\n    :detailed=\"detailed\"\r\n    :detail-key=\"detailKey\"\r\n    :opened-detailed=\"openedDetailed.slice()\" @update:openedDetailed=\"$emit('update:openedDetailed', $event)\"\r\n    backend-sorting\r\n    :default-sort=\"sort\"\r\n    :default-sort-direction=\"order\"\r\n    :checkable=\"checkable\"\r\n    :checked-rows.sync=\"internalCheckedRows\"\r\n    :is-row-checkable=\"isRowCheckable\"\r\n    @sort=\"updateSort\"\r\n  >\r\n    <template #header=\"{column}\">\r\n      <slot name=\"header\" :column=\"column\" :index=\"index\">\r\n        {{ column.label }}\r\n      </slot>\r\n    </template>\r\n\r\n    <template #default=\"{row, index}\">\r\n      <slot :row=\"row\" :index=\"index\"></slot>\r\n    </template>\r\n\r\n    <template #detail=\"{row, index}\">\r\n      <slot name=\"detail\" :row=\"row\" :index=\"index\"></slot>\r\n    </template>\r\n\r\n    <template #empty>\r\n      <div class=\"content has-text-grey has-text-centered\">\r\n        <slot name=\"empty\" :row=\"row\" :index=\"index\">\r\n          {{$t('no-result')}}\r\n        </slot>\r\n      </div>\r\n    </template>\r\n\r\n    <template #footer>\r\n      <slot name=\"footer\"></slot>\r\n    </template>\r\n\r\n    <template #bottom-left>\r\n      <b-select v-model=\"internalPerPage\" size=\"is-small\">\r\n        <option v-for=\"option in perPageOptions\" :key=\"option\" :value=\"option\">\r\n          {{$t('count-per-page', {count: option})}}\r\n        </option>\r\n      </b-select>\r\n    </template>\r\n  </b-table>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'cytomine-table',\r\n  props: {\r\n    collection: Object,\r\n    isEmpty: {type: Boolean, default: false},\r\n    perPageOptions: {type: Array, default: () => [5, 10, 25, 50, 100]},\r\n    perPage: {type: Number, default: 25},\r\n    currentPage: {type: Number, default: 1},\r\n    detailed: {type: Boolean, default: true},\r\n    detailKey: {type: String, default: 'id'},\r\n    openedDetailed: {type: Array, default: () => []},\r\n    sort: {type: String},\r\n    order: {type: String, default: 'asc'},\r\n    revision: Number, // updating this value will result in update of table data\r\n    refreshInterval: {type: Number, default: 0}, // if > 0, table data will be refreshed according to refreshInterval (expressed in ms)\r\n    checkable: {type: Boolean, default: false},\r\n    checkedRows: {type: Array, default: () => []},\r\n    isRowCheckable: { type: Function }\r\n  },\r\n  data() {\r\n    return {\r\n      index: 0,\r\n      row: null,\r\n\r\n      data: null,\r\n      error: false,\r\n      loading: true,\r\n      total: 0,\r\n      internalCheckedRows: [],\r\n      internalCurrentPage: null,\r\n      internalPerPage: null,\r\n      internalSort: null,\r\n      internalOrder: null,\r\n      timeout: null\r\n    };\r\n  },\r\n  computed: {\r\n    internalCollection() {\r\n      let collection = this.collection.clone();\r\n      collection.max = this.internalPerPage;\r\n      collection.sort = this.internalSort;\r\n      collection.order = this.internalOrder;\r\n      return collection;\r\n    }\r\n  },\r\n  watch: {\r\n    internalCollection() {\r\n      this.fetchPage(true);\r\n    },\r\n    internalCurrentPage(page, previousValue) {\r\n      if(previousValue) { // do not trigger change for value initialization\r\n        this.$emit('update:currentPage', page);\r\n        this.fetchPage(true);\r\n      }\r\n    },\r\n    internalCheckedRows(chckedRows) {\r\n      this.$emit('update:checkedRows', chckedRows);\r\n    },\r\n    internalPerPage(perPage) {\r\n      this.$emit('update:perPage', perPage);\r\n    },\r\n    revision() {\r\n      this.fetchPage();\r\n    },\r\n    refreshInterval(value) {\r\n      if(value === 0) {\r\n        clearTimeout(this.timeout);\r\n        this.timeout = null;\r\n      }\r\n      else if(!this.timeout) { // user provided a valid refresh interval, and no fetch page planned => relaunch fetch page\r\n        this.fetchPage();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    updateSort(sort, order) {\r\n      this.internalSort = sort;\r\n      this.internalOrder = order;\r\n      this.$emit('update:sort', sort);\r\n      this.$emit('update:order', order);\r\n    },\r\n    async fetchPage(showLoading=false) {\r\n      if(showLoading) {\r\n        this.loading = true;\r\n      }\r\n\r\n      try {\r\n        let data = {array: [], totalNbItems: 0};\r\n        if (this.isEmpty) {\r\n          this.internalCurrentPage = 1;\r\n        }\r\n        else {\r\n          data = await this.internalCollection.fetchPage(this.internalCurrentPage - 1);\r\n        }\r\n\r\n        this.data = data.array;\r\n        this.total = data.totalNbItems;\r\n\r\n        //as data is refetched, we need to update the selected rows\r\n        this.internalCheckedRows = this.data.filter(member => {\r\n          return this.internalCheckedRows.map(u => u.id).includes(member.id);\r\n        });\r\n\r\n        this.$emit('update:checkedRows', this.internalCheckedRows);\r\n        this.$emit('update:data', data);\r\n      }\r\n      catch(error) {\r\n        if(this.internalCurrentPage > 1) { // error may be due to the page number (not enough elements) => retry on first page\r\n          this.internalCurrentPage = 1;\r\n          return;\r\n        }\r\n\r\n        console.log(error);\r\n        this.error = true;\r\n        return;\r\n      }\r\n\r\n      this.loading = false;\r\n\r\n      clearTimeout(this.timeout);\r\n      if(this.refreshInterval) {\r\n        this.timeout = setTimeout(this.fetchPage, this.refreshInterval);\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.internalCurrentPage = this.currentPage;\r\n    this.internalPerPage = this.perPage;\r\n    this.internalSort = this.sort;\r\n    this.internalOrder = this.order;\r\n    this.internalCheckedRows = this.checkedRows;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.cytomine-table-wrapper {\r\n  min-height: 10em;\r\n  position: relative;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTable.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTable.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineTable.vue?vue&type=template&id=0fa69708&scoped=true\"\nimport script from \"./CytomineTable.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineTable.vue?vue&type=script&lang=js\"\nimport style0 from \"./CytomineTable.vue?vue&type=style&index=0&id=0fa69708&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0fa69708\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('multiselect',{attrs:{\"value\":_vm.value,\"label\":_vm.label,\"track-by\":_vm.trackBy,\"group-label\":_vm.groupLabel,\"group-values\":_vm.groupValues,\"group-select\":true,\"options\":_vm.options,\"optionHeight\":30,\"showLabels\":false,\"multiple\":_vm.multiple,\"close-on-select\":_vm.internalCloseOnSelect,\"searchable\":_vm.searchable,\"clear-on-select\":_vm.multiple ? false : true,\"showPointer\":false,\"placeholder\":_vm.$t('select-options'),\"allow-empty\":_vm.allowEmpty,\"disabled\":_vm.disabled},on:{\"input\":function($event){return _vm.$emit('input', $event)}},scopedSlots:_vm._u([(_vm.multiple && _vm.options.length > 0 && _vm.selectAllAvailable)?{key:\"beforeList\",fn:function(){return [_c('li',{staticClass:\"multiselect__element multiselect__select-all\",on:{\"click\":function($event){return _vm.selectAll()}}},[_c('span',{class:['multiselect__option', _vm.allSelected ? 'multiselect__option--selected' : '']},[_vm._v(\" \"+_vm._s(_vm.$t('select-all'))+\" \")])])]},proxy:true}:null,(_vm.multiple && _vm.options.length > 0)?{key:\"selection\",fn:function({isOpen}){return [(!isOpen)?_c('div',{staticClass:\"multiselect__tags-wrap\"},[(_vm.allSelected)?_c('strong',[_vm._v(\" \"+_vm._s(_vm.allPlaceholder || _vm.$t('all'))+\" \")]):[_vm._l((_vm.displayedOptions),function(option,index){return _c('span',{key:option[_vm.trackBy]},[_vm._v(\" \"+_vm._s(_vm.label ? option[_vm.label] : option)),(index < _vm.displayedOptions.length - 1)?[_vm._v(\",\")]:_vm._e()],2)}),(_vm.countNotDisplayed > 0)?_c('strong',[_vm._v(\" \"+_vm._s(_vm.$tc(\"and-count-others\", _vm.countNotDisplayed, {count: _vm.countNotDisplayed}))+\" \")]):_vm._e()]],2):_c('div')]}}:null,{key:\"option\",fn:function({option}){return [_vm._t(\"option\",null,{\"option\":option})]}}],null,true)})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<multiselect\r\n  :value=\"value\" @input=\"$emit('input', $event)\"\r\n  :label=\"label\"\r\n  :track-by=\"trackBy\"\r\n  :group-label=\"groupLabel\"\r\n  :group-values=\"groupValues\"\r\n  :group-select=\"true\"\r\n  :options=\"options\"\r\n  :optionHeight=\"30\"\r\n  :showLabels=\"false\"\r\n  :multiple=\"multiple\"\r\n  :close-on-select=\"internalCloseOnSelect\"\r\n  :searchable=\"searchable\"\r\n  :clear-on-select=\"multiple ? false : true\"\r\n  :showPointer=\"false\"\r\n  :placeholder=\"$t('select-options')\"\r\n  :allow-empty=\"allowEmpty\"\r\n  :disabled=\"disabled\"\r\n>\r\n\r\n  <template #beforeList v-if=\"multiple && options.length > 0 && selectAllAvailable\">\r\n    <li class=\"multiselect__element multiselect__select-all\" @click=\"selectAll()\">\r\n      <span :class=\"['multiselect__option', allSelected ? 'multiselect__option--selected' : '']\">\r\n        {{$t('select-all')}}\r\n      </span>\r\n    </li>\r\n  </template>\r\n\r\n  <template #selection=\"{isOpen}\" v-if=\"multiple && options.length > 0\">\r\n    <div class=\"multiselect__tags-wrap\" v-if=\"!isOpen\">\r\n      <strong v-if=\"allSelected\"> {{allPlaceholder || $t('all')}} </strong>\r\n      <template v-else>\r\n        <span v-for=\"(option, index) in displayedOptions\" :key=\"option[trackBy]\">\r\n          {{label ? option[label] : option}}<template v-if=\"index < displayedOptions.length - 1\">,</template>\r\n        </span>\r\n        <strong v-if=\"countNotDisplayed > 0\">\r\n          {{ $tc(\"and-count-others\", countNotDisplayed, {count: countNotDisplayed}) }}\r\n        </strong>\r\n      </template>\r\n    </div>\r\n    <div v-else></div>\r\n  </template>\r\n\r\n  <template #option=\"{option}\">\r\n    <slot name=\"option\" :option=\"option\"></slot>\r\n  </template>\r\n\r\n</multiselect>\r\n</template>\r\n\r\n<script>\r\nimport Multiselect from 'vue-multiselect';\r\n\r\nexport default {\r\n  name: 'cytomine-multiselect',\r\n  components: {Multiselect},\r\n  props: {\r\n    value: {type: null},\r\n    options: {type: null},\r\n    label: {type: String},\r\n    trackBy: {type: String},\r\n    groupLabel: {type: String},\r\n    groupValues: {type: String},\r\n    multiple: {type: Boolean, default: false},\r\n    closeOnSelect: {type: Boolean, default: null},\r\n    selectAllAvailable: {type: Boolean, default: true},\r\n    searchable: {type: Boolean, default: true},\r\n    allowEmpty: {type: Boolean, default: true},\r\n    disabled: {type: Boolean, default: false},\r\n    allPlaceholder: {type: String}\r\n  },\r\n  data() {\r\n    return {\r\n      maxNbDisplayed: 3\r\n    };\r\n  },\r\n  computed: {\r\n    allSelected() {\r\n      if(!this.multiple) {\r\n        return false;\r\n      }\r\n\r\n      return this.options.every(opt => this.value.includes(opt));\r\n    },\r\n    displayedOptions() {\r\n      return this.value.slice(0, this.maxNbDisplayed);\r\n    },\r\n    countNotDisplayed() {\r\n      return this.value.length - this.maxNbDisplayed;\r\n    },\r\n    internalCloseOnSelect() {\r\n      return (this.closeOnSelect === null) ? (!this.multiple) : this.closeOnSelect;\r\n    }\r\n  },\r\n  methods: {\r\n    selectAll() {\r\n      let newValue = this.allSelected ? [] : this.options;\r\n      this.$emit('input', newValue);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '~vue-multiselect/dist/vue-multiselect.min.css';\r\n@import '~bulma/sass/utilities/initial-variables.sass';\r\n\r\n.multiselect--active, .multiselect__content-wrapper {\r\n  z-index: 50 !important;\r\n}\r\n\r\n.multiselect__option--selected {\r\n  font-weight: 600 !important;\r\n}\r\n\r\n.multiselect__option--selected::before {\r\n  content: \"\\f00c\";\r\n  font-family: 'Font Awesome 5 Free';\r\n  font-size: 10px;\r\n  position: absolute;\r\n  left: 10px;\r\n}\r\n\r\n.multiselect__option {\r\n  padding: 6px 5px 5px 30px !important;\r\n  font-size: 1rem !important;\r\n  min-height: 30px !important;\r\n}\r\n\r\n.multiselect__option:hover {\r\n  background: #61b2e8 !important;\r\n  color: white;\r\n}\r\n\r\n.multiselect__select-all {\r\n  border-bottom: 1px solid #eee;\r\n  display: inline-block;\r\n  width: 100%;\r\n  height:100%;\r\n}\r\n\r\n.multiselect__placeholder, .multiselect__tags-wrap, .multiselect__single {\r\n  margin-bottom: 8px;\r\n  line-height: 20px;\r\n  vertical-align: top;\r\n  font-size: 1rem;\r\n}\r\n\r\n.multiselect__tags-wrap :first-child {\r\n  margin-left: 5px;\r\n}\r\n\r\n.multiselect__placeholder, .multiselect__single {\r\n  padding-left: 5px;\r\n  position: relative;\r\n  padding-top: 0 !important;\r\n}\r\n\r\n.multiselect__input {\r\n  font-size: 1rem !important;\r\n}\r\n\r\n.is-danger .multiselect__tags {\r\n  border-color: $red;\r\n}\r\n\r\n.is-danger .multiselect__select::before {\r\n  border-color: $red transparent transparent;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineMultiselect.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineMultiselect.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineMultiselect.vue?vue&type=template&id=1187e655\"\nimport script from \"./CytomineMultiselect.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineMultiselect.vue?vue&type=script&lang=js\"\nimport style0 from \"./CytomineMultiselect.vue?vue&type=style&index=0&id=1187e655&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('vue-slider',{class:[\r\n    {'vue-slider-margin-for-tooltip': _vm.tooltip && _vm.isArray && !_vm.smartTooltipPosition},\r\n    _vm.size\r\n  ],attrs:{\"value\":_vm.value,\"min\":_vm.min,\"max\":_vm.max,\"tooltip\":(_vm.tooltip) ? 'always' : 'none',\"interval\":_vm.interval,\"tooltip-placement\":_vm.tooltipPlacement,\"lazy\":_vm.lazy,\"dot-size\":_vm.dotSize,\"contained\":_vm.contained,\"enable-cross\":false},on:{\"change\":function($event){return _vm.$emit('input', $event)},\"dragging\":function($event){_vm.internalValue = $event}},scopedSlots:_vm._u([(_vm.tooltip)?{key:\"tooltip\",fn:function({value, index}){return [_c('div',{class:[\r\n        'vue-slider-dot-tooltip-inner',\r\n        `vue-slider-dot-tooltip-inner-${_vm.tooltipPlacement[index]}`,\r\n        _vm.size\r\n        ],on:{\"mousedown\":function($event){$event.stopPropagation();},\"click\":function($event){$event.stopPropagation();return _vm.startEdition(index)}}},[(_vm.indexEdited !== index)?[_vm._t(\"default\",function(){return [_vm._v(\" \"+_vm._s(Math.round(value * 1000)/1000)+\" \")]},{\"value\":value})]:_c('b-input',{ref:\"inputSlider\",attrs:{\"type\":\"text\",\"size\":_vm.size},on:{\"hook:mounted\":function($event){return _vm.focus()},\"blur\":function($event){return _vm.stopEdition(index)}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.stopEdition(index)}},model:{value:(_vm.editedValue),callback:function ($$v) {_vm.editedValue=$$v},expression:\"editedValue\"}})],2)]}}:null],null,true)})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<vue-slider\r\n  :value=\"value\" @change=\"$emit('input', $event)\"\r\n  :min=\"min\"\r\n  :max=\"max\"\r\n  :tooltip=\"(tooltip) ? 'always' : 'none'\"\r\n  :interval=\"interval\"\r\n  :tooltip-placement=\"tooltipPlacement\"\r\n  :lazy=\"lazy\"\r\n  :dot-size=\"dotSize\"\r\n  :contained=\"contained\"\r\n  :enable-cross=\"false\"\r\n  @dragging=\"internalValue = $event\"\r\n  :class=\"[\r\n    {'vue-slider-margin-for-tooltip': tooltip && isArray && !smartTooltipPosition},\r\n    size\r\n  ]\"\r\n>\r\n  <template #tooltip=\"{value, index}\" v-if=\"tooltip\">\r\n    <div\r\n      :class=\"[\r\n        'vue-slider-dot-tooltip-inner',\r\n        `vue-slider-dot-tooltip-inner-${tooltipPlacement[index]}`,\r\n        size\r\n        ]\"\r\n      @mousedown.stop\r\n      @click.stop=\"startEdition(index)\"\r\n    >\r\n        <template v-if=\"indexEdited !== index\">\r\n          <slot name=\"default\" :value=\"value\" >\r\n            {{Math.round(value * 1000)/1000}}\r\n          </slot>\r\n        </template>\r\n        <b-input\r\n          v-else\r\n          type=\"text\"\r\n          ref=\"inputSlider\"\r\n          v-model=\"editedValue\"\r\n          @hook:mounted=\"focus()\"\r\n          @blur=\"stopEdition(index)\"\r\n          @keyup.enter.native=\"stopEdition(index)\"\r\n          :size=\"size\"\r\n        />\r\n    </div>\r\n  </template>\r\n</vue-slider>\r\n</template>\r\n\r\n<script>\r\nimport VueSlider from 'vue-slider-component';\r\n\r\nexport default {\r\n  name: 'cytomine-slider',\r\n  components: {VueSlider},\r\n  props: {\r\n    value: {type: null},\r\n    min: {type: Number, default: 0},\r\n    max: {type: Number, default: 100},\r\n    interval: {type: Number},\r\n    integerOnly: {type: Boolean, default: true},\r\n    lazy: {type: Boolean, default: true},\r\n    tooltip: {type: Boolean, default: true},\r\n    size: {type: String, default: 'is-normal'}, // is-small, is-normal\r\n    contained: {type: Boolean, default: false}, // Whether the slider should be fully contained within its containing element.\r\n    smartTooltipPosition: {type: Boolean, default: false}\r\n  },\r\n  data() {\r\n    return {\r\n      indexEdited: null,\r\n      editedValue: 0,\r\n      internalValue: 0, // Bypass slider lazy update\r\n    };\r\n  },\r\n  computed: {\r\n    isArray() {\r\n      return Array.isArray(this.value);\r\n    },\r\n    range() {\r\n      return this.max - this.min;\r\n    },\r\n    middle() {\r\n      return this.range / 2;\r\n    },\r\n    tooltipPlacement() {\r\n      if (this.isArray) {\r\n        if (this.smartTooltipPosition) {\r\n          const n = this.value.length + 1;\r\n          const values = (Array.isArray(this.internalValue)) ? this.internalValue : this.value;\r\n          return values.map((v, i) => (v >= this.range * (i+1)/n) ? 'left' : 'right');\r\n        }\r\n        return this.value.map((_, i) => (i === 0) ? 'left' : 'right');\r\n      }\r\n\r\n      if (this.internalValue >= this.middle)\r\n        return ['left'];\r\n\r\n      return ['right'];\r\n    },\r\n    dotSize() {\r\n      switch (this.size) {\r\n        case 'is-small':\r\n          return 10.5;\r\n        default:\r\n          return 14;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    value() {\r\n      this.internalValue = this.value;\r\n    }\r\n  },\r\n  methods: {\r\n    startEdition(index) {\r\n      if(this.indexEdited !== index) {\r\n        this.editedValue = this.isArray ? this.value[index] : this.value;\r\n        this.indexEdited = index;\r\n      }\r\n    },\r\n    stopEdition(index=0) {\r\n      if(this.indexEdited === index) {\r\n        this.indexEdited = null;\r\n\r\n        if(!this.editedValue || isNaN(this.editedValue)) {\r\n          return; // if entered value is not a number, ignore\r\n        }\r\n\r\n        let parsedValue = this.integerOnly ? parseInt(this.editedValue) : Number(this.editedValue);\r\n        parsedValue = Math.min(parsedValue, this.max);\r\n        parsedValue = Math.max(parsedValue, this.min);\r\n\r\n        if(this.isArray) {\r\n          let newVal = this.value.slice();\r\n          newVal[index] = parsedValue;\r\n          if(newVal[0] > newVal[1]) { // reorder bounds if needed\r\n            newVal.reverse();\r\n          }\r\n          this.$emit('input', newVal);\r\n        }\r\n        else {\r\n          this.$emit('input', parsedValue);\r\n        }\r\n      }\r\n    },\r\n    focus() {\r\n      this.$refs.inputSlider.focus();\r\n    }\r\n  },\r\n  created() {\r\n    this.internalValue = this.value;\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '~vue-slider-component/theme/default.css';\r\n\r\n.vue-slider-dot-tooltip-inner {\r\n  font-size: 0.9rem !important;\r\n}\r\n\r\n.vue-slider-dot-tooltip-inner .control {\r\n  font-size: inherit;\r\n}\r\n\r\n.vue-slider-dot-tooltip-inner input {\r\n  width: 4rem;\r\n  height: 1.5rem;\r\n  font-size: 0.8rem;\r\n}\r\n\r\n.vue-slider-dot-tooltip-inner.is-small {\r\n  font-size: 0.7rem !important;\r\n  padding: 1px 3px;\r\n  min-width: 10px;\r\n  border-radius: 3px;\r\n}\r\n.vue-slider-dot-tooltip-inner.is-small input {\r\n  width: 2rem;\r\n  height: 1rem;\r\n  font-size: 0.6rem;\r\n}\r\n\r\n.vue-slider-margin-for-tooltip {\r\n  margin-left: 4rem;\r\n  margin-right: 6rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineSlider.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineSlider.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineSlider.vue?vue&type=template&id=3416f5aa\"\nimport script from \"./CytomineSlider.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineSlider.vue?vue&type=script&lang=js\"\nimport style0 from \"./CytomineSlider.vue?vue&type=style&index=0&id=3416f5aa&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\",\"size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):_c('table',{staticClass:\"table\"},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('tbody',[(_vm.isPropDisplayed('id') && _vm.currentUser.isDeveloper)?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('id')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(_vm._s(_vm.project.id))])]):_vm._e(),(_vm.isPropDisplayed('name'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('name')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(\" \"+_vm._s(_vm.project.name)+\" \")])]):_vm._e(),(_vm.isPropDisplayed('numberOfImages'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('images')))]),_c('td',{staticClass:\"prop-content\"},[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}/images`}},[_vm._v(_vm._s(_vm.project.numberOfImages))])],1)]):_vm._e(),(_vm.isPropDisplayed('membersCount'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('members')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(\" \"+_vm._s(this.members.length)+\" \")])]):_vm._e(),(_vm.isPropDisplayed('numberOfAnnotations'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('user-annotations')))]),_c('td',{staticClass:\"prop-content\"},[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}/annotations?type=user`}},[_vm._v(\" \"+_vm._s(_vm.project.numberOfAnnotations)+\" \")])],1)]):_vm._e(),(_vm.isPropDisplayed('numberOfJobAnnotations'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('analysis-annotations')))]),_c('td',{staticClass:\"prop-content\"},[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}/annotations?type=algo`}},[_vm._v(\" \"+_vm._s(_vm.project.numberOfJobAnnotations)+\" \")])],1)]):_vm._e(),(_vm.isPropDisplayed('numberOfReviewedAnnotations'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('reviewed-annotations')))]),_c('td',{staticClass:\"prop-content\"},[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}/annotations?type=reviewed`}},[_vm._v(\" \"+_vm._s(_vm.project.numberOfReviewedAnnotations)+\" \")])],1)]):_vm._e(),(_vm.isPropDisplayed('description'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('description')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-description',{attrs:{\"object\":_vm.project,\"canEdit\":_vm.canManageProject}})],1)]):_vm._e(),(_vm.isPropDisplayed('tags'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('tags')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-tags',{attrs:{\"object\":_vm.project,\"canEdit\":_vm.canManageProject}})],1)]):_vm._e(),(_vm.isPropDisplayed('properties'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('properties')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-properties',{attrs:{\"object\":_vm.project,\"canEdit\":_vm.canManageProject,\"properties\":_vm.internalUseFilteredProperties},on:{\"deleted\":_vm.removeProp,\"added\":_vm.addProp}})],1)]):_vm._e(),(_vm.isPropDisplayed('attachedFiles'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('attached-files')))]),_c('td',{staticClass:\"prop-content\"},[_c('attached-files',{attrs:{\"object\":_vm.project,\"canEdit\":_vm.canManageProject}})],1)]):_vm._e(),(_vm.isPropDisplayed('ontology'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('ontology')))]),_c('td',{staticClass:\"prop-content\"},[(_vm.project.ontology)?_c('router-link',{attrs:{\"to\":`/ontology/${_vm.project.ontology}`}},[_vm._v(\" \"+_vm._s(_vm.project.ontologyName)+\" \")]):_c('em',[_vm._v(_vm._s(_vm.$t('no-ontology')))])],1)]):_vm._e(),(_vm.isPropDisplayed('created'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('created-on')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.project.created),'ll'))+\" \")])]):_vm._e(),(_vm.isPropDisplayed('creator'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('creator')))]),_c('td',{staticClass:\"prop-content\"},[_c('list-usernames',{attrs:{\"users\":[_vm.creator],\"onlines\":_vm.onlines}})],1)]):_vm._e(),(_vm.isPropDisplayed('representatives'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('representatives'))+\" (\"+_vm._s(_vm.representatives.length)+\")\")]),_c('td',{staticClass:\"prop-content\"},[_c('list-usernames',{attrs:{\"users\":_vm.representatives,\"onlines\":_vm.onlines}})],1)]):_vm._e(),(_vm.isPropDisplayed('managers'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('managers'))+\" (\"+_vm._s(_vm.managers.length)+\")\")]),_c('td',{staticClass:\"prop-content\"},[_c('list-usernames',{attrs:{\"users\":_vm.managers,\"onlines\":_vm.onlines}})],1)]):_vm._e(),(_vm.isPropDisplayed('contributors'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('contributors'))+\" (\"+_vm._s(_vm.contributors.length)+\")\")]),_c('td',{staticClass:\"prop-content\"},[_c('list-usernames',{attrs:{\"users\":_vm.contributors,\"onlines\":_vm.onlines}})],1)]):_vm._e(),(_vm.isPropDisplayed('imagesPreview'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('images')))]),_c('td',{staticClass:\"prop-content\"},[_c('list-images-preview',{attrs:{\"project\":_vm.project}})],1)]):_vm._e(),(_vm.canManageProject)?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('actions')))]),_c('td',{staticClass:\"prop-content\"},[_c('project-actions',{attrs:{\"project\":_vm.project},on:{\"update\":function($event){return _vm.$emit('update', $event)},\"delete\":function($event){return _vm.$emit('delete')}}})],1)]):_vm._e()]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.filteredUsers.length)?_c('span',[_vm._l((_vm.usersToDisplay),function(user,index){return _c('span',{key:user.id},[_c('username',{attrs:{\"user\":user,\"online\":_vm.isOnline(user.id)}}),(index < _vm.usersToDisplay.length - 1)?[_vm._v(\", \")]:_vm._e()],2)}),(_vm.tooManyUsers)?_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.expanded=!_vm.expanded}}},[_vm._v(\" \"+_vm._s(_vm.expanded ? _vm.$t('button-less') : _vm.$t('button-more'))+\" \")]):_vm._e()],2):_c('span',[_vm._v(\" - \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.resolvedUser)?_c('span',[(_vm.online !== null)?_c('span',{class:[_vm.online ? 'online-dot' : 'offline-dot']}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.displayFullName ? _vm.fullName : _vm.resolvedUser.username))]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<span v-if=\"resolvedUser\">\r\n  <span :class=\"[online ? 'online-dot' : 'offline-dot']\" v-if=\"online !== null\"></span>\r\n  {{displayFullName ? fullName : resolvedUser.username}}</span></template>\r\n\r\n<script>\r\nimport {User} from 'cytomine-client';\r\nimport {fullName} from '@/utils/user-utils.js';\r\n\r\nexport default {\r\n  name: 'username',\r\n  props: {\r\n    user: Object,\r\n    id: Number, // if user not set, the user corresponding to the provided id will be fetched\r\n    online: {type: Boolean, default: null},\r\n    displayFullName: {type: Boolean, default: true}\r\n  },\r\n  data() {\r\n    return {\r\n      fetchedUser: {}\r\n    };\r\n  },\r\n  computed: {\r\n    resolvedUser() {\r\n      return this.user || this.fetchedUser;\r\n    },\r\n    fullName() {\r\n      return fullName(this.resolvedUser);\r\n    }\r\n  },\r\n  async created() {\r\n    if(!this.user && this.id) {\r\n      this.fetchedUser = await User.fetch(this.id);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.online-dot, .offline-dot {\r\n  height: 0.8em;\r\n  width: 0.8em;\r\n  border-radius: 50%;\r\n  display: inline-block;\r\n  margin-right: 0.2em;\r\n}\r\n\r\n.online-dot {\r\n  background: limegreen;\r\n}\r\n\r\n.offline-dot {\r\n  background: lightgrey;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Username.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Username.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Username.vue?vue&type=template&id=48b343f5&scoped=true\"\nimport script from \"./Username.vue?vue&type=script&lang=js\"\nexport * from \"./Username.vue?vue&type=script&lang=js\"\nimport style0 from \"./Username.vue?vue&type=style&index=0&id=48b343f5&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48b343f5\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<span v-if=\"filteredUsers.length\">\r\n  <span v-for=\"(user, index) in usersToDisplay\" :key=\"user.id\">\r\n    <username :user=\"user\" :online=\"isOnline(user.id)\" /><template v-if=\"index < usersToDisplay.length - 1\">, </template>\r\n  </span>\r\n  <button class=\"button is-small\" @click=\"expanded=!expanded\" v-if=\"tooManyUsers\">\r\n    {{ expanded ? $t('button-less') : $t('button-more')}}\r\n  </button>\r\n</span>\r\n<span v-else>\r\n  -\r\n</span>\r\n</template>\r\n\r\n<script>\r\nimport Username from './Username';\r\nexport default {\r\n  name: 'list-usernames',\r\n  components: {Username},\r\n  props: {\r\n    users: Array,\r\n    onlines: Array,\r\n    nbDisplayed: {\r\n      type: Number,\r\n      default: 5\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      expanded: false\r\n    };\r\n  },\r\n  computed: {\r\n    filteredUsers() {\r\n      return this.users.filter(user => user); // Filter null users\r\n    },\r\n    tooManyUsers() {\r\n      return this.filteredUsers && this.filteredUsers.length > this.nbDisplayed;\r\n    },\r\n    usersToDisplay() {\r\n      if(!this.tooManyUsers || this.expanded || this.nbDisplayed === 0) {\r\n        return this.filteredUsers;\r\n      }\r\n      else {\r\n        return this.filteredUsers.slice(0, this.nbDisplayed);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    isOnline(id) {\r\n      if(!this.onlines) {\r\n        return null;\r\n      }\r\n\r\n      return this.onlines.some(online => online.id === id);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.button {\r\n  line-height: initial;\r\n  height: initial;\r\n  margin-left: 0.5em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListUsernames.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListUsernames.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ListUsernames.vue?vue&type=template&id=2e92ce16&scoped=true\"\nimport script from \"./ListUsernames.vue?vue&type=script&lang=js\"\nexport * from \"./ListUsernames.vue?vue&type=script&lang=js\"\nimport style0 from \"./ListUsernames.vue?vue&type=style&index=0&id=2e92ce16&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e92ce16\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"project-actions-wrapper\"},[_c('rename-modal',{attrs:{\"title\":_vm.$t('rename-project'),\"currentName\":_vm.project.name,\"active\":_vm.isRenameModalActive},on:{\"update:active\":function($event){_vm.isRenameModalActive=$event},\"rename\":_vm.rename}}),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.saveOntology()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.isOntologyModalActive,\"title\":_vm.$t('change-ontology')},on:{\"close\":function($event){_vm.isOntologyModalActive = false}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\",\"disabled\":_vm.savingOntology},on:{\"click\":function($event){_vm.isOntologyModalActive = false}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),(!_vm.errorOntologies)?_c('button',{staticClass:\"button is-link\",class:{'is-loading': _vm.savingOntology},attrs:{\"disabled\":_vm.loadingOntologies || _vm.savingOntology}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")]):_vm._e()]},proxy:true}])},[(_vm.errorOntologies)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[(_vm.project.ontology)?_c('b-message',{attrs:{\"type\":\"is-warning\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('change-ontology-warning-message'))+\" \")]):_vm._e(),_c('b-field',{attrs:{\"label\":_vm.$t('ontology')}},[_c('b-select',{attrs:{\"placeholder\":_vm.$t('no-ontology'),\"disabled\":_vm.loadingOntologies,\"loading\":_vm.loadingOntologies},model:{value:(_vm.selectedOntology),callback:function ($$v) {_vm.selectedOntology=$$v},expression:\"selectedOntology\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\" \"+_vm._s(_vm.$t('no-ontology'))+\" \")]),_vm._l((_vm.ontologies),function(ontology){return _c('option',{key:ontology.id,domProps:{\"value\":ontology.id}},[_vm._v(\" \"+_vm._s(ontology.name)+\" \")])})],2)],1)]],2)],1),_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",class:_vm.size,on:{\"click\":function($event){_vm.isRenameModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-rename'))+\" \")]),_c('button',{staticClass:\"button\",class:_vm.size,attrs:{\"disabled\":_vm.cannotDeleteOntology},on:{\"click\":function($event){_vm.isOntologyModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-change-ontology'))+\" \")]),_c('button',{staticClass:\"button is-danger\",class:_vm.size,on:{\"click\":function($event){return _vm.deleteProject()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-modal',{attrs:{\"active\":_vm.active,\"has-modal-card\":\"\"},on:{\"close\":function($event){return _vm.close()}}},[_c('cytomine-modal-card',{attrs:{\"title\":_vm.title},on:{\"close\":function($event){return _vm.close()}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_vm._t(\"footer\")]},proxy:true}],null,true)},[_vm._t(\"default\")],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n\r\n<template>\r\n<b-modal :active=\"active\" @close=\"close()\" has-modal-card>\r\n  <cytomine-modal-card :title=\"title\" @close=\"close()\">\r\n    <slot></slot>\r\n    <template #footer>\r\n      <slot name=\"footer\"></slot>\r\n    </template>\r\n  </cytomine-modal-card>\r\n</b-modal>\r\n</template>\r\n\r\n<script>\r\nimport CytomineModalCard from './CytomineModalCard';\r\n\r\nexport default {\r\n  name: 'cytomine-modal',\r\n  props: {\r\n    active: Boolean,\r\n    title: String\r\n  },\r\n  components: {CytomineModalCard},\r\n  methods: {\r\n    close() {\r\n      this.$emit('close');\r\n      this.$emit('update:active', false);\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineModal.vue?vue&type=template&id=77000052\"\nimport script from \"./CytomineModal.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.rename()}}},[_c('cytomine-modal',{attrs:{\"title\":_vm.title,\"active\":_vm.active},on:{\"close\":function($event){return _vm.close()}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.close()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-field',{attrs:{\"label\":_vm.$t('new-name'),\"type\":{'is-danger': _vm.errors.has('name')},\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"name\"},model:{value:(_vm.newName),callback:function ($$v) {_vm.newName=$$v},expression:\"newName\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<form @submit.prevent=\"rename()\">\r\n  <cytomine-modal :title=\"title\" :active=\"active\" @close=\"close()\">\r\n    <b-field :label=\"$t('new-name')\" :type=\"{'is-danger': errors.has('name')}\" :message=\"errors.first('name')\">\r\n      <b-input v-model=\"newName\" name=\"name\" v-validate=\"'required'\" />\r\n    </b-field>\r\n    <template #footer>\r\n      <button class=\"button\" type=\"button\" @click=\"close()\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n        {{$t('button-save')}}\r\n      </button>\r\n    </template>\r\n  </cytomine-modal>\r\n</form>\r\n</template>\r\n\r\n<script>\r\nimport CytomineModal from './CytomineModal';\r\n\r\nexport default {\r\n  name: 'rename-modal',\r\n  extends: CytomineModal,\r\n  props: {\r\n    currentName: String,\r\n    title: String\r\n  },\r\n  components: {CytomineModal},\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      newName: ''\r\n    };\r\n  },\r\n  watch: {\r\n    active(active) {\r\n      if(active) {\r\n        this.newName = this.currentName;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async rename() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n      this.$emit('rename', this.newName);\r\n      this.$emit('update:active', false);\r\n    }\r\n  },\r\n  async created() {\r\n    this.newName = this.currentName;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n>>> input[type=text] {\r\n  width: 26em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenameModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenameModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RenameModal.vue?vue&type=template&id=7aaff35b&scoped=true\"\nimport script from \"./RenameModal.vue?vue&type=script&lang=js\"\nexport * from \"./RenameModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./RenameModal.vue?vue&type=style&index=0&id=7aaff35b&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7aaff35b\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"project-actions-wrapper\">\r\n  <rename-modal\r\n    :title=\"$t('rename-project')\"\r\n    :currentName=\"project.name\"\r\n    :active.sync=\"isRenameModalActive\"\r\n    @rename=\"rename\"\r\n  />\r\n\r\n  <form @submit.prevent=\"saveOntology()\">\r\n    <cytomine-modal :active=\"isOntologyModalActive\" :title=\"$t('change-ontology')\" @close=\"isOntologyModalActive = false\">\r\n      <b-message v-if=\"errorOntologies\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n        <h2> {{ $t('error') }} </h2>\r\n        <p> {{ $t('unexpected-error-info-message') }} </p>\r\n      </b-message>\r\n      <template v-else>\r\n        <b-message v-if=\"project.ontology\" type=\"is-warning\" has-icon icon-size=\"is-small\">\r\n          {{$t('change-ontology-warning-message')}}\r\n        </b-message>\r\n        <b-field :label=\"$t('ontology')\">\r\n          <b-select\r\n            v-model=\"selectedOntology\"\r\n            :placeholder=\"$t('no-ontology')\"\r\n            :disabled=\"loadingOntologies\"\r\n            :loading=\"loadingOntologies\"\r\n          >\r\n            <option :value=\"null\">\r\n              {{$t('no-ontology')}}\r\n            </option>\r\n            <option v-for=\"ontology in ontologies\" :value=\"ontology.id\" :key=\"ontology.id\">\r\n              {{ontology.name}}\r\n            </option>\r\n          </b-select>\r\n        </b-field>\r\n      </template>\r\n\r\n      <template #footer>\r\n        <button\r\n          class=\"button\"\r\n          type=\"button\"\r\n          @click=\"isOntologyModalActive = false\"\r\n          :disabled=\"savingOntology\"\r\n        >\r\n          {{$t('button-cancel')}}\r\n        </button>\r\n        <button\r\n          v-if=\"!errorOntologies\"\r\n          class=\"button is-link\"\r\n          :class=\"{'is-loading': savingOntology}\"\r\n          :disabled=\"loadingOntologies || savingOntology\"\r\n        >\r\n          {{$t('button-save')}}\r\n        </button>\r\n      </template>\r\n    </cytomine-modal>\r\n  </form>\r\n\r\n  <div class=\"buttons\">\r\n    <button class=\"button\" :class=\"size\" @click=\"isRenameModalActive = true\">\r\n      {{$t('button-rename')}}\r\n    </button>\r\n    <button class=\"button\" :class=\"size\" @click=\"isOntologyModalActive = true\" :disabled=\"cannotDeleteOntology\">\r\n      {{$t('button-change-ontology')}}\r\n    </button>\r\n    <button class=\"button is-danger\" :class=\"size\" @click=\"deleteProject()\">\r\n      {{$t('button-delete')}}\r\n    </button>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {OntologyCollection} from 'cytomine-client';\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\nimport RenameModal from '@/components/utils/RenameModal';\r\n\r\nexport default {\r\n  name: 'project-actions',\r\n  props: {\r\n    project: {type: Object},\r\n    size: {type: String, default: 'is-small'}\r\n  },\r\n  components: {\r\n    CytomineModal,\r\n    RenameModal\r\n  },\r\n  data() {\r\n    return {\r\n      isRenameModalActive: false,\r\n      isOntologyModalActive: false,\r\n      loadingOntologies: true,\r\n      errorOntologies: false,\r\n      ontologies: null,\r\n      selectedOntology: null,\r\n      cannotDeleteOntology: false,\r\n      savingOntology: false\r\n    };\r\n  },\r\n  watch: {\r\n    async isOntologyModalActive(val) {\r\n      if(val) {\r\n        if(this.loadingOntologies) { // first opening of the ontology modal => load ontologies\r\n          try {\r\n            this.ontologies = (await OntologyCollection.fetchAll({light: true})).array;\r\n            this.ontologies.sort((a, b) => a.name.localeCompare(b.name));\r\n            this.loadingOntologies = false;\r\n          }\r\n          catch(error) {\r\n            console.log(error);\r\n            this.errorOntologies = true;\r\n          }\r\n        }\r\n\r\n        // preselect the ontology of the project\r\n        this.selectedOntology = this.project.ontology;\r\n        this.savingOntology = false;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async rename(newName) {\r\n      let updatedProject = this.project.clone();\r\n      try {\r\n        updatedProject.name = newName;\r\n        await updatedProject.save();\r\n        this.$emit('update', updatedProject);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-project-rename', {projectName: updatedProject.name})\r\n        });\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-project-rename', {projectName: this.project.name})\r\n        });\r\n      }\r\n      this.isRenameModalActive = false;\r\n    },\r\n\r\n    async saveOntology(forceOntologyUpdate=false) {\r\n      this.savingOntology = true; // possibly long operation => give user visual indication that it is in progress\r\n      let updatedProject = this.project.clone();\r\n      try {\r\n        updatedProject.ontology = this.selectedOntology;\r\n        updatedProject.forceOntologyUpdate = forceOntologyUpdate; // to delete annotationterms if some exist\r\n        await updatedProject.save();\r\n        this.$emit('update', updatedProject);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-project-ontology-change', {projectName: this.project.name})\r\n        });\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        if(error.response && error.response.data.errorValues) {\r\n          let counts = error.response.data.errorValues;\r\n\r\n          // if the only terms associations are performed by users, ask confirmation and delete them\r\n          if(counts.algoAssociatedTermsCount === 0 && counts.reviewedAssociatedTermsCount === 0) {\r\n            this.$buefy.dialog.confirm({\r\n              title: this.$t('confirm-ontology-change'),\r\n              message: this.$t('confirm-ontology-change-delete-user-terms', {count: counts.userAssociatedTermsCount}),\r\n              type: 'is-danger',\r\n              confirmText: this.$t('button-confirm'),\r\n              cancelText: this.$t('button-cancel'),\r\n              onConfirm: () => this.saveOntology(true)\r\n            });\r\n          }\r\n          else { // otherwise, backend does not allow automatic deletion => notify of error\r\n            this.cannotDeleteOntology = true;\r\n            this.$notify({\r\n              type: 'error',\r\n              text: this.$t('notif-error-project-ontology-change-' +\r\n                                (counts.algoAssociatedTermsCount ? 'job-terms' : 'reviewed-terms'))\r\n            });\r\n          }\r\n        }\r\n        else {\r\n          this.$notify({\r\n            type: 'error',\r\n            text: this.$t('notif-error-project-ontology-change', {projectName: this.project.name})\r\n          });\r\n        }\r\n      }\r\n      this.savingOntology = false;\r\n      this.isOntologyModalActive = false;\r\n    },\r\n\r\n    deleteProject() {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('delete-project'),\r\n        message: this.$t('delete-project-confirmation-message', {projectName: this.project.name}),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.$emit('delete')\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActions.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActions.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProjectActions.vue?vue&type=template&id=aa5bf276\"\nimport script from \"./ProjectActions.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectActions.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\" size=\"is-small\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p> {{ $t('unexpected-error-info-message') }} </p>\r\n</b-message>\r\n<table v-else class=\"table\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\r\n  <tbody v-if=\"!loading\">\r\n    <tr v-if=\"isPropDisplayed('id') && currentUser.isDeveloper\">\r\n      <td class=\"prop-label\">{{$t('id')}}</td>\r\n      <td class=\"prop-content\">{{project.id}}</td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('name')\">\r\n      <td class=\"prop-label\">{{$t('name')}}</td>\r\n      <td class=\"prop-content\">\r\n        {{project.name}}\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('numberOfImages')\">\r\n      <td class=\"prop-label\">{{$t('images')}}</td>\r\n      <td class=\"prop-content\">\r\n        <router-link :to=\"`/project/${project.id}/images`\">{{project.numberOfImages}}</router-link>\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('membersCount')\">\r\n      <td class=\"prop-label\">{{$t('members')}}</td>\r\n      <td class=\"prop-content\">\r\n        {{this.members.length}}\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('numberOfAnnotations')\">\r\n      <td class=\"prop-label\">{{$t('user-annotations')}}</td>\r\n      <td class=\"prop-content\">\r\n        <router-link :to=\"`/project/${project.id}/annotations?type=user`\">\r\n          {{ project.numberOfAnnotations }}\r\n        </router-link>\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('numberOfJobAnnotations')\">\r\n      <td class=\"prop-label\">{{$t('analysis-annotations')}}</td>\r\n      <td class=\"prop-content\">\r\n        <router-link :to=\"`/project/${project.id}/annotations?type=algo`\">\r\n          {{ project.numberOfJobAnnotations }}\r\n        </router-link>\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('numberOfReviewedAnnotations')\">\r\n      <td class=\"prop-label\">{{$t('reviewed-annotations')}}</td>\r\n      <td class=\"prop-content\">\r\n        <router-link :to=\"`/project/${project.id}/annotations?type=reviewed`\">\r\n          {{project.numberOfReviewedAnnotations}}\r\n        </router-link>\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('description')\">\r\n      <td class=\"prop-label\">{{$t('description')}}</td>\r\n      <td class=\"prop-content\">\r\n        <cytomine-description :object=\"project\" :canEdit=\"canManageProject\" />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('tags')\">\r\n      <td class=\"prop-label\">{{$t('tags')}}</td>\r\n      <td class=\"prop-content\">\r\n        <cytomine-tags :object=\"project\" :canEdit=\"canManageProject\" />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('properties')\">\r\n      <td class=\"prop-label\">{{$t('properties')}}</td>\r\n      <td class=\"prop-content\">\r\n        <cytomine-properties\r\n          :object=\"project\"\r\n          :canEdit=\"canManageProject\"\r\n          :properties=\"internalUseFilteredProperties\"\r\n          @deleted=\"removeProp\"\r\n          @added=\"addProp\"\r\n        />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('attachedFiles')\">\r\n      <td class=\"prop-label\">{{$t('attached-files')}}</td>\r\n      <td class=\"prop-content\">\r\n        <attached-files :object=\"project\" :canEdit=\"canManageProject\" />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('ontology')\">\r\n      <td class=\"prop-label\">{{$t('ontology')}}</td>\r\n      <td class=\"prop-content\">\r\n        <router-link v-if=\"project.ontology\" :to=\"`/ontology/${project.ontology}`\">\r\n          {{project.ontologyName}}\r\n        </router-link>\r\n        <em v-else>{{$t('no-ontology')}}</em>\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('created')\">\r\n      <td class=\"prop-label\">{{$t('created-on')}}</td>\r\n      <td class=\"prop-content\">\r\n        {{ Number(project.created) | moment('ll') }}\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('creator')\">\r\n      <td class=\"prop-label\">{{$t('creator')}}</td>\r\n      <td class=\"prop-content\">\r\n        <list-usernames :users=\"[creator]\" :onlines=\"onlines\" />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('representatives')\">\r\n      <td class=\"prop-label\">{{$t('representatives')}} ({{representatives.length}})</td>\r\n      <td class=\"prop-content\">\r\n        <list-usernames :users=\"representatives\" :onlines=\"onlines\" />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('managers')\">\r\n      <td class=\"prop-label\">{{$t('managers')}} ({{managers.length}})</td>\r\n      <td class=\"prop-content\">\r\n        <list-usernames :users=\"managers\" :onlines=\"onlines\" />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('contributors')\">\r\n      <td class=\"prop-label\">{{$t('contributors')}} ({{contributors.length}})</td>\r\n      <td class=\"prop-content\">\r\n        <list-usernames :users=\"contributors\" :onlines=\"onlines\" />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('imagesPreview')\">\r\n      <td class=\"prop-label\">{{$t('images')}}</td>\r\n      <td class=\"prop-content\">\r\n        <list-images-preview :project=\"project\" />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"canManageProject\">\r\n      <td class=\"prop-label\">{{$t('actions')}}</td>\r\n      <td class=\"prop-content\">\r\n        <project-actions :project=\"project\" @update=\"$emit('update', $event)\" @delete=\"$emit('delete')\" />\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport ListImagesPreview from '@/components/image/ListImagesPreview';\r\nimport ListUsernames from '@/components/user/ListUsernames';\r\nimport ProjectActions from './ProjectActions';\r\nimport CytomineDescription from '@/components/description/CytomineDescription';\r\nimport CytomineProperties from '../property/CytomineProperties';\r\nimport CytomineTags from '@/components/tag/CytomineTags';\r\nimport AttachedFiles from '@/components/attached-file/AttachedFiles';\r\nimport {PropertyCollection} from 'cytomine-client';\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'project-details',\r\n  components: {\r\n    ListImagesPreview,\r\n    ListUsernames,\r\n    ProjectActions,\r\n    CytomineDescription,\r\n    CytomineProperties,\r\n    CytomineTags,\r\n    AttachedFiles\r\n  },\r\n  props: {\r\n    project: {type: Object},\r\n    excludedProperties: {type: Array, default: () => []},\r\n    editable: {type: Boolean, default: false}\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      creator: null,\r\n      managers: [],\r\n      members: [],\r\n      onlines: [],\r\n      representatives: [],\r\n      properties: [],\r\n      loadPropertiesError: false\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    blindMode() {\r\n      return ((this.project || {}).blindMode) || false;\r\n    },\r\n    canManageProject() {\r\n      return this.editable && (this.currentUser.adminByNow || this.managersIds.includes(this.currentUser.id));\r\n    },\r\n    managersIds() {\r\n      return this.managers.map(manager => manager.id);\r\n    },\r\n    contributors() {\r\n      return this.members.filter(member => !this.managersIds.includes(member.id));\r\n    },\r\n    internalUseFilteredProperties() {\r\n      return this.properties.filter(prop => !prop.key.startsWith(constants.PREFIX_HIDDEN_PROPERTY_KEY));\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchCreator() {\r\n      this.creator = await this.project.fetchCreator();\r\n    },\r\n    async fetchManagers() {\r\n      this.managers = (await this.project.fetchAdministrators()).array;\r\n    },\r\n    async fetchRepresentatives() {\r\n      this.representatives = (await this.project.fetchRepresentatives()).array;\r\n    },\r\n    async fetchMembers() {\r\n      this.members = (await this.project.fetchUsers()).array;\r\n    },\r\n    async fetchOnlines() {\r\n      this.onlines = await this.project.fetchConnectedUsers();\r\n    },\r\n\r\n    isPropDisplayed(prop) {\r\n      return !this.excludedProperties.includes(prop);\r\n    },\r\n\r\n    deleteProject() {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('delete-project'),\r\n        message: this.$t('delete-project-confirmation-message', {projectName: this.project.name}),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.$emit('delete')\r\n      });\r\n    },\r\n    removeProp(prop) {\r\n      this.properties = this.properties.filter(p => p.id !== prop.id);\r\n    },\r\n    addProp(prop) {\r\n      this.properties.push(prop);\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      await Promise.all([\r\n        this.fetchCreator(),\r\n        this.fetchManagers(),\r\n        this.fetchRepresentatives(),\r\n        this.fetchMembers(),\r\n        this.fetchOnlines()\r\n      ]);\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n    try {\r\n      this.properties = (await PropertyCollection.fetchAll({ object: this.project })).array;\r\n    }\r\n    catch (error) {\r\n      this.loadPropertiesError = true;\r\n      console.log(error);\r\n    }\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n  background: none;\r\n  position: relative;\r\n  height: 3em;\r\n}\r\n\r\ntd.prop-label {\r\n  white-space: nowrap;\r\n  font-weight: 600;\r\n}\r\n\r\ntd.prop-content {\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetails.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetails.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProjectDetails.vue?vue&type=template&id=4c41cfd4&scoped=true\"\nimport script from \"./ProjectDetails.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectDetails.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProjectDetails.vue?vue&type=style&index=0&id=4c41cfd4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c41cfd4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createProject()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('create-project')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-field',{attrs:{\"label\":_vm.$t('name'),\"type\":{'is-danger': _vm.errors.has('name')},\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('ontology')}},[_c('b-radio',{attrs:{\"native-value\":\"NEW\"},model:{value:(_vm.ontology),callback:function ($$v) {_vm.ontology=$$v},expression:\"ontology\"}},[_vm._v(\" \"+_vm._s(_vm.$t('create-ontology-for-project'))+\" \")])],1),_c('b-field',[_c('b-radio',{attrs:{\"native-value\":\"EXISTING\"},model:{value:(_vm.ontology),callback:function ($$v) {_vm.ontology=$$v},expression:\"ontology\"}},[_vm._v(\" \"+_vm._s(_vm.$t('use-existing-ontology'))+\" \")])],1),_c('b-field',[_c('b-radio',{attrs:{\"native-value\":\"NO\"},model:{value:(_vm.ontology),callback:function ($$v) {_vm.ontology=$$v},expression:\"ontology\"}},[_vm._v(\" \"+_vm._s(_vm.$t('no-ontology'))+\" \")])],1),(_vm.ontology === 'EXISTING')?[_c('b-field',{attrs:{\"type\":{'is-danger': _vm.errors.has('ontology')},\"message\":_vm.errors.first('ontology')}},[_c('b-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"size\":\"is-small\",\"placeholder\":_vm.$t('select-ontology'),\"name\":\"ontology\"},model:{value:(_vm.selectedOntology),callback:function ($$v) {_vm.selectedOntology=$$v},expression:\"selectedOntology\"}},_vm._l((_vm.ontologies),function(ontology){return _c('option',{key:ontology.id,domProps:{\"value\":ontology.id}},[_vm._v(\" \"+_vm._s(ontology.name)+\" \")])}),0)],1)]:_vm._e()],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<form @submit.prevent=\"createProject()\">\r\n  <cytomine-modal :active=\"active\" :title=\"$t('create-project')\" @close=\"$emit('update:active', false)\">\r\n    <b-field :label=\"$t('name')\" :type=\"{'is-danger': errors.has('name')}\" :message=\"errors.first('name')\">\r\n      <b-input v-model=\"name\" name=\"name\" v-validate=\"'required'\" />\r\n    </b-field>\r\n\r\n    <b-field :label=\"$t('ontology')\">\r\n      <b-radio v-model=\"ontology\" native-value=\"NEW\">\r\n        {{$t('create-ontology-for-project')}}\r\n      </b-radio>\r\n    </b-field>\r\n    <b-field>\r\n      <b-radio v-model=\"ontology\" native-value=\"EXISTING\">\r\n        {{$t('use-existing-ontology')}}\r\n      </b-radio>\r\n    </b-field>\r\n    <b-field>\r\n      <b-radio v-model=\"ontology\" native-value=\"NO\">\r\n        {{$t('no-ontology')}}\r\n      </b-radio>\r\n    </b-field>\r\n\r\n    <template v-if=\"ontology === 'EXISTING'\">\r\n      <b-field :type=\"{'is-danger': errors.has('ontology')}\" :message=\"errors.first('ontology')\">\r\n        <b-select\r\n          size=\"is-small\"\r\n          v-model=\"selectedOntology\"\r\n          :placeholder=\"$t('select-ontology')\"\r\n          name=\"ontology\"\r\n          v-validate=\"'required'\"\r\n        >\r\n          <option v-for=\"ontology in ontologies\" :value=\"ontology.id\" :key=\"ontology.id\">\r\n            {{ontology.name}}\r\n          </option>\r\n        </b-select>\r\n      </b-field>\r\n    </template>\r\n\r\n    <template #footer>\r\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n        {{$t('button-save')}}\r\n      </button>\r\n    </template>\r\n  </cytomine-modal>\r\n</form>\r\n</template>\r\n\r\n<script>\r\nimport {Project, Ontology} from 'cytomine-client';\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\n\r\nexport default {\r\n  name: 'add-project-modal',\r\n  props: {\r\n    active: Boolean,\r\n    ontologies: Array\r\n  },\r\n  components: {CytomineModal},\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      name: '',\r\n      ontology: 'NEW',\r\n      selectedOntology: null\r\n    };\r\n  },\r\n  watch: {\r\n    active(val) {\r\n      if(val) {\r\n        this.name = '';\r\n        this.ontology = 'NEW';\r\n        this.selectedOntology = null;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async createProject() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        let idOntology;\r\n        if(this.ontology === 'NEW') {\r\n          let ontology = await new Ontology({name: this.name}).save();\r\n          idOntology = ontology.id;\r\n        }\r\n        else if(this.ontology === 'EXISTING') {\r\n          idOntology = this.selectedOntology;\r\n        }\r\n\r\n        let project = await new Project({name: this.name, ontology: idOntology}).save();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-project-creation')});\r\n        this.$router.push(`/project/${project.id}/configuration`);\r\n      }\r\n      catch(error) {\r\n        if(error.response.status == 409) {\r\n          this.$notify({type: 'error', text: this.$t('notif-error-project-already-exists')});\r\n        }\r\n        else {\r\n          this.$notify({type: 'error', text: this.$t('notif-error-project-creation')});\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddProjectModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddProjectModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AddProjectModal.vue?vue&type=template&id=a3cc1c1e\"\nimport script from \"./AddProjectModal.vue?vue&type=script&lang=js\"\nexport * from \"./AddProjectModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('i',{staticClass:\"fas fa-user-cog\",class:{disabled: !_vm.isManager, editable: _vm.editable},attrs:{\"title\":_vm.$t(_vm.label)},on:{\"click\":function($event){return _vm.$emit('toggleManager')}}}),((!_vm.editable && _vm.isRepresentative))?_c('i',{staticClass:\"superscript fas fa-flag\"}):((_vm.editable && _vm.isManager))?_c('i',{staticClass:\"superscript fas fa-flag editable\",class:{disabled: !_vm.isRepresentative},on:{\"click\":function($event){return _vm.$emit('toggleRepresentative')}}}):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div>\r\n    <i\r\n      class=\"fas fa-user-cog\"\r\n      :class=\"{disabled: !isManager, editable: editable}\"\r\n      :title=\"$t(label)\"\r\n      @click=\"$emit('toggleManager')\"\r\n    >\r\n    </i>\r\n    <i v-if=\"(!editable && isRepresentative)\" class=\"superscript fas fa-flag\"></i>\r\n    <i v-else-if=\"(editable && isManager)\"\r\n       class=\"superscript fas fa-flag editable\"\r\n       :class=\"{disabled: !isRepresentative}\"\r\n       @click=\"$emit('toggleRepresentative')\"\r\n    ></i>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'IconProjectMemberRole',\r\n  props: {\r\n    isManager: {type: Boolean, default: false},\r\n    isRepresentative: {type: Boolean, default: false},\r\n    editable: {type: Boolean, default: false}\r\n  },\r\n  computed: {\r\n    label() {\r\n      if (this.editable) {\r\n        return '';\r\n      }\r\n      if (this.isRepresentative) {\r\n        return 'representative-icon-label';\r\n      }\r\n      if (this.isManager) {\r\n        return 'manager-icon-label';\r\n      }\r\n      return 'contributor-icon-label';\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .fas.fa-user-cog {\r\n    width: 20px;\r\n    position: relative;\r\n    text-align: center;\r\n  }\r\n\r\n  .superscript {\r\n    font-size: 8px;\r\n    position: relative;\r\n    top: -8px;\r\n    left: -8px;\r\n    right: 0;\r\n  }\r\n\r\n  .fas.disabled, .disabled .fas {\r\n    color: rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  .editable:hover {\r\n    color: #2778ad !important;\r\n    cursor: pointer;\r\n  }\r\n\r\n  div {\r\n    width: 30px;\r\n    text-align: left;\r\n    display: inline-block;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconProjectMemberRole.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconProjectMemberRole.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./IconProjectMemberRole.vue?vue&type=template&id=2f080369&scoped=true\"\nimport script from \"./IconProjectMemberRole.vue?vue&type=script&lang=js\"\nexport * from \"./IconProjectMemberRole.vue?vue&type=script&lang=js\"\nimport style0 from \"./IconProjectMemberRole.vue?vue&type=style&index=0&id=2f080369&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f080369\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"list-projects-wrapper content-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <div class=\"box error\" v-if=\"error\">\r\n    <h2> {{ $t('error') }} </h2>\r\n    <p>{{ $t('unexpected-error-info-message') }}</p>\r\n  </div>\r\n  <div v-else-if=\"!loading\" class=\"panel\">\r\n    <p class=\"panel-heading\">\r\n      {{$t('projects')}}\r\n      <button v-if=\"!currentUser.guestByNow\" class=\"button is-link\" @click=\"creationModal = true\">\r\n        {{$t('new-project')}}\r\n      </button>\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <div class=\"search-block\">\r\n        <b-input\r\n          class=\"search-projects\"\r\n          v-model=\"searchString\"\r\n          :placeholder=\"$t('search-placeholder')\"\r\n          type=\"search\" icon=\"search\"\r\n        />\r\n        <button class=\"button\" @click=\"toggleFilterDisplay()\">\r\n          <span class=\"icon\">\r\n            <i class=\"fas fa-filter\"></i>\r\n          </span>\r\n          <span>\r\n            {{filtersOpened ? $t('button-hide-filters') : $t('button-show-filters')}}\r\n          </span>\r\n          <span v-if=\"nbActiveFilters\" class=\"nb-active-filters\">\r\n            {{nbActiveFilters}}\r\n          </span>\r\n        </button>\r\n      </div>\r\n\r\n      <b-collapse :open=\"filtersOpened\">\r\n        <div class=\"filters\">\r\n          <div class=\"columns\">\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('ontology')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-multiselect v-model=\"selectedOntologies\" :options=\"availableOntologies\"\r\n                  label=\"name\" track-by=\"id\" :multiple=\"true\" :allPlaceholder=\"$t('all-ontologies')\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('my-role')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-multiselect v-model=\"selectedRoles\" :options=\"availableRoles\" multiple :searchable=\"false\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('tags')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-multiselect v-model=\"selectedTags\" :options=\"availableTags\"\r\n                  label=\"name\" track-by=\"id\" :multiple=\"true\" :allPlaceholder=\"$t('all')\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"columns\">\r\n              <div class=\"column filter\">\r\n                <div class=\"filter-label\">\r\n                  {{$t('members')}}\r\n                </div>\r\n                <div class=\"filter-body\">\r\n                  <cytomine-slider v-model=\"boundsMembers\" :max=\"maxNbMembers\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"column filter\">\r\n                <div class=\"filter-label\">\r\n                  {{$t('images')}}\r\n                </div>\r\n                <div class=\"filter-body\">\r\n                  <cytomine-slider v-model=\"boundsImages\" :max=\"maxNbImages\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"column\"></div>\r\n          </div>\r\n\r\n          <div class=\"columns\">\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('user-annotations')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-slider v-model=\"boundsUserAnnotations\" :max=\"maxNbUserAnnotations\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div v-show=\"algoEnabled\" class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('analysis-annotations')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-slider v-model=\"boundsJobAnnotations\" :max=\"maxNbJobAnnotations\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('reviewed-annotations')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-slider v-model=\"boundsReviewedAnnotations\" :max=\"maxNbReviewedAnnotations\" />\r\n              </div>\r\n            </div>\r\n            <div v-show=\"!algoEnabled\" class=\"column\"></div>\r\n          </div>\r\n        </div>\r\n      </b-collapse>\r\n\r\n      <cytomine-table\r\n        :collection=\"projectCollection\"\r\n        :is-empty=\"nbEmptyFilters > 0\"\r\n        class=\"table-projects\"\r\n        :currentPage.sync=\"currentPage\"\r\n        :perPage.sync=\"perPage\"\r\n        :openedDetailed.sync=\"openedDetails\"\r\n        :sort.sync=\"sortField\"\r\n        :order.sync=\"sortOrder\"\r\n        :revision=\"revision\"\r\n      >\r\n        <template #default=\"{row: project}\">\r\n          <b-table-column field=\"currentUserRole\" label=\"\" centered width=\"1\" sortable>\r\n            <icon-project-member-role\r\n              :is-manager=\"project.currentUserRoles.admin\"\r\n              :is-representative=\"project.currentUserRoles.representative\"\r\n            />\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"name\" :label=\"$t('name')\" sortable width=\"250\">\r\n            <router-link :to=\"`/project/${project.id}`\">\r\n              {{ project.name }}\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"membersCount\" :label=\"$t('members')\" centered sortable width=\"150\">\r\n            {{ project.membersCount }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"numberOfImages\" :label=\"$t('images')\" centered sortable width=\"150\">\r\n            <router-link :to=\"`/project/${project.id}/images`\">{{ project.numberOfImages }}</router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"numberOfAnnotations\" :label=\"$t('user-annotations')\" centered sortable width=\"150\">\r\n            <router-link :to=\"`/project/${project.id}/annotations?type=user`\">\r\n              {{ project.numberOfAnnotations }}\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column v-if=\"algoEnabled\" field=\"numberOfJobAnnotations\" :label=\"$t('analysis-annotations')\" centered sortable width=\"150\">\r\n            <router-link :to=\"`/project/${project.id}/annotations?type=algo`\">\r\n              {{ project.numberOfJobAnnotations }}\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"numberOfReviewedAnnotations\" :label=\"$t('reviewed-annotations')\" centered sortable width=\"150\">\r\n            <router-link :to=\"`/project/${project.id}/annotations?type=reviewed`\">\r\n              {{ project.numberOfReviewedAnnotations }}\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"lastActivity\" :label=\"$t('last-activity')\" centered sortable width=\"180\">\r\n            {{ Number(project.lastActivity) | moment('ll') }}\r\n          </b-table-column>\r\n\r\n          <b-table-column label=\" \" centered width=\"150\">\r\n            <router-link :to=\"`/project/${project.id}`\" class=\"button is-small is-link\">\r\n              {{$t('button-open')}}\r\n            </router-link>\r\n          </b-table-column>\r\n        </template>\r\n\r\n        <template #detail=\"{row: project}\">\r\n          <project-details\r\n            :project=\"project\"\r\n            :excluded-properties=\"excludedProperties\"\r\n            editable\r\n            @update=\"updateProject()\"\r\n            @delete=\"deleteProject(project)\"\r\n          />\r\n        </template>\r\n\r\n        <template #empty>\r\n          <div class=\"content has-text-grey has-text-centered\">\r\n            <p>{{$t('no-project')}}</p>\r\n          </div>\r\n        </template>\r\n      </cytomine-table>\r\n\r\n      <div class=\"legend\">\r\n          <h2>{{$t('legend')}}</h2>\r\n          <p><icon-project-member-role /> : {{$t('contributor-icon-label')}}</p>\r\n          <p><icon-project-member-role :is-manager=\"true\" /> : {{$t('manager-icon-label')}}</p>\r\n          <p><icon-project-member-role :is-manager=\"true\" :is-representative=\"true\" /> : {{$t('representative-icon-label')}}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <add-project-modal :active.sync=\"creationModal\" :ontologies=\"ontologies\" />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport CytomineTable from '@/components/utils/CytomineTable';\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport CytomineSlider from '@/components/form/CytomineSlider';\r\nimport ProjectDetails from './ProjectDetails';\r\nimport AddProjectModal from './AddProjectModal';\r\n\r\nimport {get, sync, syncBoundsFilter, syncMultiselectFilter} from '@/utils/store-helpers';\r\n\r\nimport {ProjectCollection, OntologyCollection, TagCollection} from 'cytomine-client';\r\nimport IconProjectMemberRole from '@/components/icons/IconProjectMemberRole';\r\nimport constants from '@/utils/constants.js';\r\nexport default {\r\n  name: 'list-projects',\r\n  components: {\r\n    IconProjectMemberRole,\r\n    CytomineTable,\r\n    ProjectDetails,\r\n    AddProjectModal,\r\n    CytomineMultiselect,\r\n    CytomineSlider\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      projects: [],\r\n      ontologies: [],\r\n      availableTags:[],\r\n\r\n      contributorLabel: this.$t('contributor'),\r\n      managerLabel: this.$t('manager'),\r\n\r\n      creationModal: false,\r\n\r\n      excludedProperties: [\r\n        'name',\r\n        'membersCount',\r\n        'numberOfImages',\r\n        'numberOfAnnotations',\r\n        'numberOfJobAnnotations',\r\n        'numberOfReviewedAnnotations',\r\n        'lastActivity'\r\n      ],\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      maxNbMembers: 10,\r\n      maxNbImages: 10,\r\n      maxNbUserAnnotations: 100,\r\n      maxNbJobAnnotations: 100,\r\n      maxNbReviewedAnnotations: 100,\r\n\r\n      revision: 0\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n\r\n    searchString: sync('listProjects/searchString', {debounce: 500}),\r\n    filtersOpened: sync('listProjects/filtersOpened'),\r\n\r\n    availableRoles() {\r\n      return [this.contributorLabel, this.managerLabel];\r\n    },\r\n    availableOntologies() {\r\n      return [{id: 'null', name: this.$t('no-ontology')}, ...this.ontologies];\r\n    },\r\n\r\n    querySearchTags() {\r\n      return this.$route.query.tags;\r\n    },\r\n    selectedOntologies: syncMultiselectFilter('listProjects', 'selectedOntologies', 'availableOntologies'),\r\n    selectedRoles: syncMultiselectFilter('listProjects', 'selectedRoles', 'availableRoles'),\r\n    selectedTags: syncMultiselectFilter('listProjects', 'selectedTags', 'availableTags'),\r\n    boundsMembers: syncBoundsFilter('listProjects', 'boundsMembers', 'maxNbMembers'),\r\n    boundsImages: syncBoundsFilter('listProjects', 'boundsImages', 'maxNbImages'),\r\n    boundsUserAnnotations: syncBoundsFilter('listProjects', 'boundsUserAnnotations', 'maxNbUserAnnotations'),\r\n    boundsJobAnnotations: syncBoundsFilter('listProjects', 'boundsJobAnnotations', 'maxNbJobAnnotations'),\r\n    boundsReviewedAnnotations: syncBoundsFilter('listProjects', 'boundsReviewedAnnotations', 'maxNbReviewedAnnotations'),\r\n\r\n    nbActiveFilters() {\r\n      return this.$store.getters['listProjects/nbActiveFilters'];\r\n    },\r\n    nbEmptyFilters() {\r\n      return this.$store.getters['listProjects/nbEmptyFilters'];\r\n    },\r\n\r\n    selectedOntologiesIds() {\r\n      return this.selectedOntologies.map(ontology => ontology.id);\r\n    },\r\n\r\n    boundsFilters() {\r\n      return [\r\n        {prop: 'numberOfImages', bounds: this.boundsImages, max: this.maxNbImages},\r\n        {prop: 'membersCount', bounds: this.boundsMembers, max: this.maxNbMembers},\r\n        {prop: 'numberOfAnnotations', bounds: this.boundsUserAnnotations, max: this.maxNbUserAnnotations},\r\n        {prop: 'numberOfJobAnnotations', bounds: this.boundsJobAnnotations, max: this.maxNbJobAnnotations},\r\n        {prop: 'numberOfReviewedAnnotations', bounds: this.boundsReviewedAnnotations, max: this.maxNbReviewedAnnotations},\r\n      ];\r\n    },\r\n\r\n    projectCollection() {\r\n      let collection = new ProjectCollection({\r\n        withMembersCount: true,\r\n        withLastActivity: true,\r\n        withCurrentUserRoles: true\r\n      });\r\n      if(this.selectedOntologiesIds.length > 0 && this.selectedOntologiesIds.length < this.availableOntologies.length){\r\n        collection['ontology'] = {\r\n          in: this.selectedOntologiesIds.join()\r\n        };\r\n      }\r\n      if(this.selectedRoles.length > 0){\r\n        collection['currentUserRole'] = {\r\n          in: this.selectedRoles.join().toLowerCase()\r\n        };\r\n      }\r\n      if(this.searchString) {\r\n        collection['name'] = {\r\n          ilike: encodeURIComponent(this.searchString)\r\n        };\r\n      }\r\n      if(this.selectedTags.length > 0 && this.selectedTags.length < this.availableTags.length){\r\n        collection['tag'] = {\r\n          in: this.selectedTags.map(t => t.id).join()\r\n        };\r\n      }\r\n      for(let {prop, bounds, max} of this.boundsFilters) {\r\n        collection[prop] = {};\r\n        if (bounds[1]!==max) {\r\n          // if max bounds is the max possible value, do not set the filter in the request\r\n          // so that if an event (ex: algo creates an annotation) happens between the bounds request and the query request\r\n          // the image will not be skipped from the result\r\n          collection[prop] = {\r\n            lte: bounds[1]\r\n          };\r\n        }\r\n        if(bounds[0] > 0) collection[prop]['gte'] = bounds[0];\r\n      }\r\n      return collection;\r\n    },\r\n\r\n    currentPage: sync('listProjects/currentPage'),\r\n    perPage: sync('listProjects/perPage'),\r\n    sortField: sync('listProjects/sortField'),\r\n    sortOrder: sync('listProjects/sortOrder'),\r\n    openedDetails: sync('listProjects/openedDetails')\r\n  },\r\n  watch: {\r\n    revision() {\r\n      this.fetchOntologies();\r\n      this.fetchMaxFilters();\r\n    },\r\n    querySearchTags(values) {\r\n      if(values) {\r\n        this.selectedTags = [];\r\n        let queriedTags = this.availableTags.filter(tag => values.split(',').includes(tag.name));\r\n        if(queriedTags) {\r\n          this.selectedTags = queriedTags;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchOntologies() {\r\n      let ontologies = (await OntologyCollection.fetchAll({light: true})).array;\r\n      ontologies.sort((a, b) => a.name.localeCompare(b.name));\r\n      this.ontologies = ontologies;\r\n    },\r\n    async fetchMaxFilters() {\r\n      let stats = await new ProjectCollection.fetchBounds({withMembersCount:true});\r\n\r\n      this.maxNbMembers = Math.max(10, stats.members.max);\r\n      this.maxNbImages = Math.max(10, stats.numberOfImages.max);\r\n      this.maxNbUserAnnotations = Math.max(100, stats.numberOfAnnotations.max);\r\n      this.maxNbJobAnnotations = Math.max(100, stats.numberOfJobAnnotations.max);\r\n      this.maxNbReviewedAnnotations = Math.max(100, stats.numberOfReviewedAnnotations.max);\r\n    },\r\n    async fetchTags() {\r\n      this.availableTags = [{id: 'null', name: this.$t('no-tag')}, ...(await TagCollection.fetchAll()).array];\r\n    },\r\n    toggleFilterDisplay() {\r\n      this.filtersOpened = !this.filtersOpened;\r\n    },\r\n    updateProject() {\r\n      this.revision++;\r\n    },\r\n    async deleteProject(projectToDelete) {\r\n      try {\r\n        await projectToDelete.delete();\r\n        this.revision++;\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-project-deletion', {projectName: projectToDelete.name})\r\n        });\r\n      }\r\n      catch(error) {\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-project-deletion', {projectName: projectToDelete.name})\r\n        });\r\n        return;\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      await Promise.all([\r\n        this.fetchOntologies(),\r\n        this.fetchMaxFilters(),\r\n        this.fetchTags()\r\n      ]);\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n    if(this.$route.query.tags) {\r\n      let queriedTags = this.availableTags.filter(tag => this.$route.query.tags.split(',').includes(tag.name));\r\n      if(queriedTags) {\r\n        this.selectedTags = queriedTags;\r\n      }\r\n    }\r\n\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.panel-block {\r\n  padding-top: 0.8em;\r\n}\r\n\r\n.panel-heading {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.search-block {\r\n  display: flex;\r\n}\r\n\r\n.legend {\r\n  margin-top: 0.8rem;\r\n  margin-bottom: 1rem;\r\n  border-radius: 10px;\r\n  padding: 1rem 1.5em;\r\n  background: #f8f8f8;\r\n}\r\n\r\n.legend p:not(:last-child) {\r\n  margin-bottom: 0.4em;\r\n}\r\n</style>\r\n\r\n<style>\r\n.search-projects {\r\n  max-width: 25em;\r\n  margin-right: 1em;\r\n}\r\n\r\n.table-projects {\r\n  margin-top: 1rem;\r\n}\r\n\r\n.list-projects-wrapper td, .list-projects-wrapper th {\r\n  vertical-align: middle !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListProjects.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListProjects.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ListProjects.vue?vue&type=template&id=719f2815&scoped=true\"\nimport script from \"./ListProjects.vue?vue&type=script&lang=js\"\nexport * from \"./ListProjects.vue?vue&type=script&lang=js\"\nimport style0 from \"./ListProjects.vue?vue&type=style&index=0&id=719f2815&prod&scoped=true&lang=css\"\nimport style1 from \"./ListProjects.vue?vue&type=style&index=1&id=719f2815&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"719f2815\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"storage-wrapper content-wrapper\"},[_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('upload'))+\" \")]),(_vm.newUploadError)?_c('div',{staticClass:\"panel-block\"},[_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('error-cannot-upload'))+\" \")])],1):_c('div',{staticClass:\"panel-block\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(_vm._s(_vm.$t('important-notes')))]),_c('ul',{staticClass:\"small-text\"},[_c('li',[_vm._v(\" \"+_vm._s(_vm.$t('allowed-formats-upload-info'))+\" \"),(_vm.formatInfos.length)?_vm._l((_vm.formatInfos),function(format,index){return _c('span',{key:format.id},[_vm._v(\" \"+_vm._s(format.name)),(format.remarks)?_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(format.remarks))])]},proxy:true}],null,true)},[_c('i',{staticClass:\"fas fa-info-circle\"})]):_vm._e(),(index < _vm.formatInfos.length - 1)?[_vm._v(\", \")]:_vm._e()],2)}):_vm._e()],2),_c('li',[_vm._v(_vm._s(_vm.$t('drag-drop-upload-info', {labelButton: _vm.$t('add-files')})))]),_c('li',[_vm._v(_vm._s(_vm.$t('link-to-project-upload-info')))])])]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter has-text-right\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('storage')))])]),_c('div',{staticClass:\"column is-half\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.storages,\"label\":\"extendedName\",\"track-by\":\"id\",\"allow-empty\":false},scopedSlots:_vm._u([{key:\"option\",fn:function({option}){return [_vm._v(\" \"+_vm._s(option.extendedName)+\" \"),(_vm.currentUser.isDeveloper)?[_vm._v(\" (\"+_vm._s(_vm.$t('id'))+\": \"+_vm._s(option.id)+\") \")]:_vm._e()]}}]),model:{value:(_vm.selectedStorage),callback:function ($$v) {_vm.selectedStorage=$$v},expression:\"selectedStorage\"}})],1)]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter has-text-right\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('link-with-project')))])]),_c('div',{staticClass:\"column is-half\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.projects,\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"close-on-select\":true},model:{value:(_vm.selectedProjects),callback:function ($$v) {_vm.selectedProjects=$$v},expression:\"selectedProjects\"}})],1)]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter has-text-right\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('files')))])]),_c('div',{staticClass:\"column is-half\"},[(_vm.dropFiles.length > 0)?_c('table',{staticClass:\"table is-fullwidth upload-table\"},[_c('tbody',_vm._l((_vm.dropFiles),function(wrapper,idx){return _c('tr',{key:idx},[_c('td',[_vm._v(_vm._s(wrapper.file.name))]),_c('td',[_vm._v(_vm._s(_vm.filesize(wrapper.file.size)))]),(wrapper.uploadedFile === null)?[_c('td',[_c('progress',{staticClass:\"progress is-info\",attrs:{\"max\":\"100\"},domProps:{\"value\":wrapper.progress}},[_vm._v(\" \"+_vm._s(wrapper.progress)+\"% \")])]),_c('td',[_c('div',{staticClass:\"field is-grouped\"},[_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.startUpload(wrapper)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-start'))+\" \")])]),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.cancelUpload(idx)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")])])])])]:[_c('td',[(wrapper.uploadedFile)?_c('uploaded-file-status',{attrs:{\"file\":wrapper.uploadedFile}}):_c('span',{staticClass:\"tag is-danger\"},[_vm._v(\" \"+_vm._s(_vm.$t('upload-error'))+\" \")])],1),_c('td',[_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.cancelUpload(idx)}}},[_vm._v(_vm._s(_vm.$t('button-hide')))])])])]],2)}),0)]):_c('em',{staticClass:\"first-child-like has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-file')))])])]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-half flex-column is-offset-one-quarter\"},[(_vm.ongoingUpload)?_c('progress',{staticClass:\"progress is-success\",attrs:{\"max\":\"100\"},domProps:{\"value\":_vm.overallProgress}},[_vm._v(\" \"+_vm._s(_vm.overallProgress)+\"% \")]):_vm._e(),_c('div',{staticClass:\"buttons\"},[_c('b-upload',{attrs:{\"value\":_vm.plainFiles,\"type\":\"is-link\",\"multiple\":\"\",\"drag-drop\":\"\"},on:{\"input\":_vm.filesChange}},[_c('a',{staticClass:\"button is-success\"},[_vm._v(_vm._s(_vm.$t('add-files')))])]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":!_vm.filesPendingUpload},on:{\"click\":function($event){return _vm.startAll()}}},[_vm._v(\" \"+_vm._s(_vm.$t('start-upload'))+\" \")]),_c('button',{staticClass:\"button\",attrs:{\"disabled\":!_vm.filesPendingUpload && !_vm.ongoingUpload},on:{\"click\":function($event){return _vm.cancelAll()}}},[_vm._v(\" \"+_vm._s(_vm.$t('cancel-upload'))+\" \")]),(_vm.filesFinishedUpload)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.hideFinished()}}},[_vm._v(\" \"+_vm._s(_vm.$t('hide-successful-upload'))+\" \")]):_vm._e()],1)])])],1)]),_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('storage'))+\" \")]),_c('div',{staticClass:\"panel-block storage\"},[_c('b-input',{staticClass:\"search-uploaded-file\",attrs:{\"value\":_vm.searchString,\"placeholder\":_vm.$t('search-placeholder'),\"icon\":\"search\"},on:{\"input\":_vm.debounceSearchString}}),_c('cytomine-table',{attrs:{\"collection\":_vm.uploadedFileCollection,\"sort\":\"created\",\"order\":\"desc\",\"revision\":_vm.revision,\"refreshInterval\":_vm.tableRefreshInterval,\"openedDetailed\":_vm.openedDetails},on:{\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function({row: uFile}){return [_c('b-table-column',{staticClass:\"image-overview\",attrs:{\"label\":_vm.$t('preview'),\"width\":\"80\"}},[(uFile.thumbURL)?_c('image-thumbnail',{key:uFile.thumbURL,attrs:{\"url\":uFile.thumbURL,\"size\":128,\"extra-parameters\":{Authorization: 'Bearer ' + _vm.shortTermToken }}}):_c('div',{staticClass:\"is-size-7 has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-preview-available')))])],1),_c('b-table-column',{attrs:{\"field\":\"originalFilename\",\"label\":_vm.$t('filename'),\"sortable\":\"\",\"width\":\"200\"}},[_vm._v(\" \"+_vm._s(uFile.originalFilename)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"created\",\"label\":_vm.$t('created'),\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(uFile.created),'lll'))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"size\",\"label\":_vm.$t('size'),\"sortable\":\"\",\"width\":\"80\"}},[_vm._v(\" \"+_vm._s(_vm.filesize(uFile.size))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"status\",\"label\":_vm.$t('status'),\"sortable\":\"\",\"width\":\"80\"}},[_c('uploaded-file-status',{attrs:{\"file\":uFile}})],1)]}},{key:\"detail\",fn:function({row: uFile}){return [_c('uploaded-file-details',{key:uFile.id,attrs:{\"file\":uFile},on:{\"update\":function($event){return _vm.updatedTree()}}})]}},{key:\"empty\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t('no-uploaded-file')))])]},proxy:true}])})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.iconOnly)?_c('div',[(!_vm.isSuccessful || _vm.file.nbChildren === undefined)?_c('span',{staticClass:\"tag\",class:_vm.tagClass},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.labels[_vm.file.status]))+\" \")]):_c('div',{staticClass:\"tags has-addons\"},[_c('span',{staticClass:\"tag\",class:_vm.tagClass},[_vm._v(_vm._s(_vm.$t(_vm.labels[_vm.file.status])))]),_c('span',{staticClass:\"tag is-light\"},[_vm._v(_vm._s(_vm.$tc(\"count-files\", _vm.file.nbChildren + 1, {count: _vm.file.nbChildren + 1})))])])]):_c('span',{class:['icon', _vm.textClass]},[_c('i',{class:['fas', _vm.iconClass],attrs:{\"title\":_vm.$t(_vm.labels[_vm.file.status])}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2019. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div v-if=\"!iconOnly\">\r\n  <span v-if=\"!isSuccessful || file.nbChildren === undefined\" class=\"tag\" :class=\"tagClass\">\r\n    {{$t(labels[file.status])}}\r\n  </span>\r\n  <div v-else class=\"tags has-addons\">\r\n    <span class=\"tag\" :class=\"tagClass\">{{$t(labels[file.status])}}</span>\r\n    <span class=\"tag is-light\">{{$tc(\"count-files\", file.nbChildren + 1, {count: file.nbChildren + 1})}}</span>\r\n  </div>\r\n</div>\r\n<span v-else :class=\"['icon', textClass]\">\r\n  <i :class=\"['fas', iconClass]\" :title=\"$t(labels[file.status])\"></i>\r\n</span>\r\n</template>\r\n\r\n<script>\r\nimport {UploadedFileStatus} from 'cytomine-client';\r\n\r\nexport default {\r\n  name: 'uploaded-file-status',\r\n  props: {\r\n    file: Object,\r\n    iconOnly: {type: Boolean, default: false}\r\n  },\r\n  computed: {\r\n    isSuccessful() {\r\n      return this.file.status === UploadedFileStatus.CONVERTED || this.file.status === UploadedFileStatus.DEPLOYED;\r\n    },\r\n    labels() {\r\n      return {\r\n        [UploadedFileStatus.UPLOADED]: 'uploaded',\r\n        [UploadedFileStatus.CONVERTED]: 'converted',\r\n        [UploadedFileStatus.DEPLOYED]: 'deployed',\r\n        [UploadedFileStatus.ERROR_FORMAT]: 'error-format',\r\n        [UploadedFileStatus.ERROR_CONVERSION]: 'error-convert',\r\n        [UploadedFileStatus.EXTRACTED]: 'uncompressed',\r\n        [UploadedFileStatus.ERROR_DEPLOYMENT]: 'error-deployment',\r\n        [UploadedFileStatus.DETECTING_FORMAT]: 'detecting-format',\r\n        [UploadedFileStatus.EXTRACTING_DATA]: 'extracting-data',\r\n        [UploadedFileStatus.ERROR_EXTRACTION]: 'error-extraction',\r\n        [UploadedFileStatus.CONVERTING]: 'converting',\r\n        [UploadedFileStatus.DEPLOYING]: 'deploying',\r\n        50: 'unpacking',\r\n        51: 'error-unpacking',\r\n        60: 'checking-integrity',\r\n        61: 'error-integrity',\r\n        106: 'unpacked'\r\n      };\r\n    },\r\n    // eslint-disable-next-line vue/return-in-computed-property\r\n    result() {\r\n      switch(this.file.status) {\r\n        case UploadedFileStatus.UPLOADED:\r\n        case UploadedFileStatus.DETECTING_FORMAT:\r\n        case UploadedFileStatus.EXTRACTING_DATA:\r\n        case UploadedFileStatus.CONVERTING:\r\n        case UploadedFileStatus.DEPLOYING:\r\n        case UploadedFileStatus.EXTRACTED:\r\n        case 50:\r\n        case 60:\r\n          return 'info';\r\n        case UploadedFileStatus.CONVERTED:\r\n        case UploadedFileStatus.DEPLOYED:\r\n        case 106:\r\n          return 'success';\r\n        case UploadedFileStatus.ERROR_FORMAT:\r\n        case UploadedFileStatus.ERROR_CONVERSION:\r\n        case UploadedFileStatus.ERROR_DEPLOYMENT:\r\n        case UploadedFileStatus.ERROR_EXTRACTION:\r\n        case 51:\r\n        case 61:\r\n          return 'danger';\r\n        default:\r\n          return null;\r\n      }\r\n    },\r\n    tagClass() {\r\n      return 'is-' + this.result;\r\n    },\r\n    textClass() {\r\n      return 'has-text-' + this.result;\r\n    },\r\n    // eslint-disable-next-line vue/return-in-computed-property\r\n    iconClass() {\r\n      switch(this.result) {\r\n        case 'info':\r\n          return 'fa-spinner';\r\n        case 'success':\r\n          return 'fa-check-square';\r\n        case 'danger':\r\n          return 'fa-times-circle';\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.fas {\r\n  font-size: 1.3em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFileStatus.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFileStatus.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UploadedFileStatus.vue?vue&type=template&id=3b65473a&scoped=true\"\nimport script from \"./UploadedFileStatus.vue?vue&type=script&lang=js\"\nexport * from \"./UploadedFileStatus.vue?vue&type=script&lang=js\"\nimport style0 from \"./UploadedFileStatus.vue?vue&type=style&index=0&id=3b65473a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b65473a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('file-tree'))+\" \")]),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\",\"size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):_c('sl-vue-tree',{attrs:{\"allowMultiselect\":false},scopedSlots:_vm._u([{key:\"toggle\",fn:function({node}){return [(!node.isLeaf)?[_c('i',{class:['tree-toggle', 'fas', node.isExpanded ? 'fa-angle-down' : 'fa-angle-right']})]:_vm._e()]}},{key:\"title\",fn:function({node}){return [_c('p',{class:{'target-element': node.data.id === _vm.file.id}},[_vm._v(_vm._s(node.title))])]}},{key:\"sidebar\",fn:function({node}){return [_c('div',{staticClass:\"filesize\"},[_vm._v(\" \"+_vm._s(_vm.filesize(node.data.size))+\" \")]),_c('div',{staticClass:\"status\"},[_c('uploaded-file-status',{attrs:{\"file\":node.data,\"iconOnly\":true}})],1),_c('div',{staticClass:\"buttons\"},[_c('a',{staticClass:\"button is-small is-link\",on:{\"click\":function($event){return _vm.download(node.data)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-download'))+\" \")]),_c('button',{staticClass:\"button is-small is-danger\",on:{\"click\":function($event){return _vm.confirmDeletion(node.data)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")])]),_c('p',{staticClass:\"preview\"},[(node.data.thumbURL)?_c('a',{on:{\"click\":function($event){_vm.samplePreview = node.data}}},[_vm._v(\" \"+_vm._s(_vm.$t('sample-preview'))+\" \")]):_vm._e(),(node.data.thumbURL && node.data.macroURL)?_c('span',[_vm._v(\"/\")]):_vm._e(),(node.data.macroURL)?_c('a',{on:{\"click\":function($event){_vm.slidePreview = node.data}}},[_vm._v(\" \"+_vm._s(_vm.$t('slide-preview'))+\" \")]):_vm._e()])]}}]),model:{value:(_vm.nodes),callback:function ($$v) {_vm.nodes=$$v},expression:\"nodes\"}}),(_vm.nbUploadedFiles > 10)?[_c('div',{staticClass:\"level\"},[_c('b-select',{staticClass:\"level-left\",attrs:{\"size\":\"is-small\"},model:{value:(_vm.nbPerPage),callback:function ($$v) {_vm.nbPerPage=$$v},expression:\"nbPerPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])]),_c('b-pagination',{staticClass:\"level-right\",attrs:{\"total\":_vm.nbUploadedFiles,\"current\":_vm.currentPage,\"size\":\"is-small\",\"per-page\":_vm.nbPerPage},on:{\"update:current\":function($event){_vm.currentPage=$event}}})],1)]:_vm._e(),(_vm.samplePreview)?[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('sample-preview-of', {filename: _vm.samplePreview.originalFilename}))+\" \"),_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.samplePreview = null}}},[_vm._v(_vm._s(_vm.$t('button-hide')))])]),_c('image-thumbnail',{key:_vm.samplePreview.thumbURL,attrs:{\"url\":_vm.samplePreview.thumbURL,\"size\":512,\"extra-parameters\":{Authorization: 'Bearer ' + _vm.shortTermToken }}})]:(_vm.slidePreview)?[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('slide-preview-of', {filename: _vm.slidePreview.originalFilename}))+\" \"),_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.slidePreview = null}}},[_vm._v(_vm._s(_vm.$t('button-hide')))])]),_c('image-thumbnail',{key:_vm.slidePreview.macroURL,attrs:{\"url\":_vm.slidePreview.macroURL,\"size\":512,\"macro\":true,\"extra-parameters\":{Authorization: 'Bearer ' + _vm.shortTermToken }}})]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('picture',[_c('source',{attrs:{\"srcset\":_vm.webpSrc,\"type\":\"image/webp\"}}),_c('source',{attrs:{\"srcset\":_vm.jpegSrc,\"type\":\"image/jpeg\"}}),_c('img',{staticClass:\"image-thumbnail\",attrs:{\"src\":_vm.jpegSrc,\"alt\":\"\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <picture>\r\n    <source :srcset=\"webpSrc\" type=\"image/webp\">\r\n    <source :srcset=\"jpegSrc\" type=\"image/jpeg\">\r\n    <img :src=\"jpegSrc\" alt=\"\" class=\"image-thumbnail\">\r\n  </picture>\r\n</template>\r\n\r\n<script>\r\nimport {combineImageUrl, splitImageUrl} from '@/utils/image-utils';\r\n\r\nexport default {\r\n  name: 'ImageThumbnail',\r\n  props: {\r\n    image: {type: Object, default: () => {}},\r\n    macro: {type: Boolean, default: false}, // Ignored if URL is used\r\n    url: {type: String, default: null}, // Cannot be null if image is null or empty\r\n    size: {type: Number},\r\n    extraParameters: {type: Object, default: () => {}}\r\n  },\r\n  computed: {\r\n    jpegSrc() {\r\n      return this.formatSrc('jpg');\r\n    },\r\n    webpSrc() {\r\n      return this.formatSrc('webp');\r\n    },\r\n    splitURL() {\r\n      if (this.url === null) {\r\n        return [];\r\n      }\r\n\r\n      let urlParts = splitImageUrl(this.url);\r\n      urlParts.params.set('maxSize', this.size.toString());\r\n      if (this.extraParameters) {\r\n        for (const [key, value] of Object.entries(this.extraParameters)) {\r\n          urlParts.params.set(key, value.toString());\r\n        }\r\n      }\r\n      return urlParts;\r\n    }\r\n  },\r\n  methods: {\r\n    combineURL({host, pathname, format, params}) {\r\n      return combineImageUrl({host, pathname, format, params});\r\n    },\r\n    formatSrc(format) {\r\n      if (this.url !== null) {\r\n        return this.combineURL({format, ...this.splitURL});\r\n      }\r\n      if (this.macro) {\r\n        return this.image.associatedImageURL('macro', this.size, format, this.extraParameters);\r\n      }\r\n      return this.image.thumbURL(this.size, format, this.extraParameters);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageThumbnail.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageThumbnail.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ImageThumbnail.vue?vue&type=template&id=bcf10388&scoped=true\"\nimport script from \"./ImageThumbnail.vue?vue&type=script&lang=js\"\nexport * from \"./ImageThumbnail.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bcf10388\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <h2>\r\n    {{$t('file-tree')}}\r\n  </h2>\r\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\" size=\"is-small\">\r\n    <h2> {{ $t('error') }} </h2>\r\n    <p> {{ $t('unexpected-error-info-message') }} </p>\r\n  </b-message>\r\n  <sl-vue-tree v-else v-model=\"nodes\" :allowMultiselect=\"false\">\r\n    <template #toggle=\"{node}\">\r\n      <template v-if=\"!node.isLeaf\">\r\n        <i :class=\"['tree-toggle', 'fas', node.isExpanded ? 'fa-angle-down' : 'fa-angle-right']\"></i>\r\n      </template>\r\n    </template>\r\n\r\n    <template #title=\"{node}\">\r\n      <p :class=\"{'target-element': node.data.id === file.id}\">{{node.title}}</p>\r\n    </template>\r\n\r\n    <template #sidebar=\"{node}\">\r\n      <div class=\"filesize\">\r\n        {{filesize(node.data.size)}}\r\n      </div>\r\n      <div class=\"status\">\r\n        <uploaded-file-status :file=\"node.data\" :iconOnly=\"true\" />\r\n      </div>\r\n      <div class=\"buttons\">\r\n        <a class=\"button is-small is-link\" @click=\"download(node.data)\">\r\n          {{$t('button-download')}}\r\n        </a>\r\n        <button class=\"button is-small is-danger\" @click=\"confirmDeletion(node.data)\">\r\n          {{$t('button-delete')}}\r\n        </button>\r\n      </div>\r\n      <p class=\"preview\">\r\n        <a v-if=\"node.data.thumbURL\" @click=\"samplePreview = node.data\">\r\n          {{$t('sample-preview')}}\r\n        </a>\r\n        <span v-if=\"node.data.thumbURL && node.data.macroURL\">/</span>\r\n        <a v-if=\"node.data.macroURL\" @click=\"slidePreview = node.data\">\r\n          {{$t('slide-preview')}}\r\n        </a>\r\n      </p>\r\n    </template>\r\n  </sl-vue-tree>\r\n\r\n  <template v-if=\"nbUploadedFiles > 10\">\r\n    <div class=\"level\">\r\n      <b-select v-model=\"nbPerPage\" size=\"is-small\" class=\"level-left\">\r\n        <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n        <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n        <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n        <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n      </b-select>\r\n\r\n      <b-pagination\r\n        class=\"level-right\"\r\n        :total=\"nbUploadedFiles\"\r\n        :current.sync=\"currentPage\"\r\n        size=\"is-small\"\r\n        :per-page=\"nbPerPage\"\r\n      />\r\n    </div>\r\n  </template>\r\n\r\n  <template v-if=\"samplePreview\">\r\n    <h2>\r\n      {{$t('sample-preview-of', {filename: samplePreview.originalFilename})}}\r\n      <button class=\"button is-small\" @click=\"samplePreview = null\">{{$t('button-hide')}}</button>\r\n    </h2>\r\n    <image-thumbnail :url=\"samplePreview.thumbURL\" :size=\"512\" :key=\"samplePreview.thumbURL\" :extra-parameters=\"{Authorization: 'Bearer ' + shortTermToken }\" />\r\n  </template>\r\n  <template v-else-if=\"slidePreview\">\r\n    <h2>\r\n      {{$t('slide-preview-of', {filename: slidePreview.originalFilename})}}\r\n      <button class=\"button is-small\" @click=\"slidePreview = null\">{{$t('button-hide')}}</button>\r\n    </h2>\r\n    <image-thumbnail :url=\"slidePreview.macroURL\" :size=\"512\" :key=\"slidePreview.macroURL\" :macro=\"true\" :extra-parameters=\"{Authorization: 'Bearer ' + shortTermToken }\"/>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport SlVueTree from 'sl-vue-tree';\r\nimport {UploadedFile, UploadedFileCollection, AbstractImage, UploadedFileStatus as UFStatus} from 'cytomine-client';\r\nimport UploadedFileStatus from './UploadedFileStatus';\r\nimport filesize from 'filesize';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\nimport {get} from '@/utils/store-helpers.js';\r\nimport ImageThumbnail from '@/components/image/ImageThumbnail';\r\n\r\nexport default {\r\n  name: 'uploaded-file-details',\r\n  components: {\r\n    ImageThumbnail,\r\n    SlVueTree,\r\n    UploadedFileStatus\r\n  },\r\n  props: {\r\n    file: Object // WARNING: the root of the tree must be the file or its direct parent\r\n  },\r\n  data() {\r\n    return {\r\n      rootId: null,\r\n      uploadedFiles: [],\r\n      nodes: [],\r\n      image: null,\r\n      slidePreview: null,\r\n      samplePreview: null,\r\n      error: false,\r\n\r\n      nbUploadedFiles: 0,\r\n      currentPage: 1,\r\n      nbPerPage: 10,\r\n    };\r\n  },\r\n  computed: {\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    collection() {\r\n      return new UploadedFileCollection({\r\n        root: this.rootId,\r\n        max: this.nbPerPage\r\n      });\r\n    },\r\n  },\r\n  watch: {\r\n    async file() {\r\n      this.findRoot();\r\n      await Promise.all([this.fetchAbstractImage(), this.makeTree()]);\r\n    },\r\n    async currentPage() {\r\n      this.findRoot();\r\n      await this.makeTree();\r\n    },\r\n    async collection() {\r\n      await this.makeTree();\r\n    },\r\n    slidePreview(val) {\r\n      if(val) {\r\n        this.samplePreview = null; // if slide preview enabled, disable sample preview\r\n      }\r\n    },\r\n    samplePreview(val) {\r\n      if(val) {\r\n        this.slidePreview = null; // if sample preview enabled, disable slide preview\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    findRoot() {\r\n      this.rootId = this.file.root || this.file.id;\r\n    },\r\n    async fetchAbstractImage() {\r\n      if (this.file.image && (this.file.status === UFStatus.CONVERTED || this.file.status === UFStatus.DEPLOYED)) {\r\n        try {\r\n          this.image = await AbstractImage.fetch(this.file.image);\r\n        }\r\n        catch(error) {\r\n          console.log(error);\r\n          this.error = true;\r\n        }\r\n      }\r\n    },\r\n    async makeTree() {\r\n      try {\r\n        let data = (await this.collection.fetchPage(this.currentPage - 1));\r\n        this.uploadedFiles = data.array;\r\n        this.nbUploadedFiles = data.totalNbItems;\r\n        this.nodes = (await this.createNodes(null));\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n      }\r\n    },\r\n    async createNodes(idParent) {\r\n      let directChildren = this.uploadedFiles.filter(file => file.parent === idParent);\r\n\r\n      if (directChildren.length === 0 && idParent === null) {\r\n        let missingIds = this.uploadedFiles[0].lTree.split('.');\r\n        await Promise.all(missingIds.slice(0, missingIds.length - 1).map(async id => {\r\n          this.uploadedFiles.unshift((await UploadedFile.fetch(id)));\r\n        }));\r\n        return this.createNodes(null);\r\n      }\r\n\r\n      return await Promise.all(directChildren.map(async file => {\r\n        let children = await this.createNodes(file.id);\r\n        return {\r\n          title: file.originalFilename,\r\n          isLeaf: children.length === 0,\r\n          isDraggable: false,\r\n          isExpanded: true,\r\n          data: {downloadURL: file.downloadURL, ...file}, // data converted to object by sl-vue-tree => need to define downloadURL as property\r\n          children\r\n        };\r\n      }));\r\n    },\r\n    filesize(size) {\r\n      return filesize(size, {base: 10});\r\n    },\r\n    confirmDeletion(file) {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('confirm-deletion'),\r\n        message: this.$t('confirm-deletion-file'),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.deleteFile(file)\r\n      });\r\n    },\r\n    async deleteFile(file) {\r\n      try {\r\n        await UploadedFile.delete(file.id);\r\n        this.$emit('update');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        let errorValues = error.response.data.errorValues;\r\n        let text;\r\n        if(errorValues && errorValues.projectNames && errorValues.imageNames) {\r\n          text = this.$t('notif-error-delete-used-uploaded-file', {\r\n            projects: errorValues.projectNames.join(', '),\r\n            names: errorValues.imageNames.join(', ')\r\n          });\r\n        }\r\n        else {\r\n          text = this.$t('notif-error-delete-uploaded-file');\r\n        }\r\n        this.$notify({type: 'error', text});\r\n      }\r\n    },\r\n    download(data) {\r\n      window.location.assign(appendShortTermToken(data.downloadURL, this.shortTermToken));\r\n    }\r\n  },\r\n  created() {\r\n    this.findRoot();\r\n    this.fetchAbstractImage();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.target-element {\r\n  font-weight: 600;\r\n  min-width: 0; /* to allow correct handling of overflow-wrap */\r\n}\r\n\r\n.filesize {\r\n  width: 8em;\r\n  margin-left: 1em;\r\n}\r\n\r\n.status {\r\n  width: 5em;\r\n}\r\n\r\n.preview {\r\n  width: 20em;\r\n}\r\n\r\n.buttons {\r\n  margin-right: 2em;\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\n.buttons .button {\r\n  margin-bottom: 0.5em !important;\r\n  margin-top: 0.2em !important;\r\n}\r\n\r\nh2:not(:first-child) {\r\n  margin-top: 1em;\r\n  /*border-bottom: 2px solid #ddd;*/\r\n}\r\n\r\nh2 .button {\r\n  position: relative;\r\n  bottom: 3px;\r\n  margin-left: 0.8em;\r\n  text-transform: none;\r\n}\r\n\r\n>>> .sl-vue-tree-sidebar {\r\n  display: flex;\r\n  align-items: top;\r\n  justify-content: flex-end;\r\n}\r\n\r\n>>> .sl-vue-tree-gap {\r\n  border: 0 dotted #bbb;\r\n  border-left-width: 1px;\r\n  position: relative;\r\n  right: 0.95em;\r\n  bottom: 1.25em;\r\n}\r\n\r\n>>> .sl-vue-tree-toggle {\r\n  background: #fafafa;\r\n  z-index: 1;\r\n}\r\n\r\n>>> .sl-vue-tree-gap:nth-last-child(3) {\r\n  border-width: 0 0 1px 1px !important;\r\n}\r\n\r\n>>> ul.pagination-list {\r\n  justify-content: flex-end;\r\n}\r\n\r\n.level {\r\n  padding-bottom: 0.5rem !important;\r\n}\r\n\r\n.table {\r\n  /*background: none;*/\r\n  position: relative;\r\n  height: 3em;\r\n}\r\n\r\ntd.prop-label {\r\n  white-space: nowrap;\r\n  font-weight: 600;\r\n}\r\n\r\ntd.prop-content {\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFileDetails.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFileDetails.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UploadedFileDetails.vue?vue&type=template&id=030ffa62&scoped=true\"\nimport script from \"./UploadedFileDetails.vue?vue&type=script&lang=js\"\nexport * from \"./UploadedFileDetails.vue?vue&type=script&lang=js\"\nimport style0 from \"./UploadedFileDetails.vue?vue&type=style&index=0&id=030ffa62&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"030ffa62\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"storage-wrapper content-wrapper\">\r\n  <div class=\"panel\">\r\n    <p class=\"panel-heading\">\r\n      {{ $t('upload') }}\r\n    </p>\r\n    <div class=\"panel-block\" v-if=\"newUploadError\">\r\n      <b-message type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n        {{ $t('error-cannot-upload') }}\r\n      </b-message>\r\n    </div>\r\n    <div class=\"panel-block\" v-else>\r\n      <b-message type=\"is-info\" has-icon icon-size=\"is-small\">\r\n        <h2>{{$t('important-notes')}}</h2>\r\n        <ul class=\"small-text\">\r\n<!--          <li>{{$t('max-size-upload-info')}}</li>-->\r\n          <li>\r\n            {{$t('allowed-formats-upload-info')}}\r\n            <template v-if=\"formatInfos.length\">\r\n            <span v-for=\"(format, index) in formatInfos\" :key=\"format.id\">\r\n              {{format.name}}<v-popover v-if=\"format.remarks\">\r\n                <i class=\"fas fa-info-circle\"></i>\r\n                <template #popover>\r\n                  <p>{{format.remarks}}</p>\r\n                </template>\r\n              </v-popover><template v-if=\"index < formatInfos.length - 1\">, </template>\r\n            </span>\r\n            </template>\r\n          </li>\r\n          <li>{{$t('drag-drop-upload-info', {labelButton: $t('add-files')})}}</li>\r\n          <li>{{$t('link-to-project-upload-info')}}</li>\r\n\r\n        </ul>\r\n      </b-message>\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column is-one-quarter has-text-right\">\r\n          <strong>{{$t('storage')}}</strong>\r\n        </div>\r\n        <div class=\"column is-half\">\r\n          <cytomine-multiselect v-model=\"selectedStorage\" :options=\"storages\" label=\"extendedName\" track-by=\"id\" :allow-empty=\"false\">\r\n            <template #option=\"{option}\">\r\n              {{option.extendedName}}\r\n              <template v-if=\"currentUser.isDeveloper\">\r\n                 ({{$t('id')}}: {{option.id}})\r\n              </template>\r\n            </template>\r\n          </cytomine-multiselect>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column is-one-quarter has-text-right\">\r\n          <strong>{{$t('link-with-project')}}</strong>\r\n        </div>\r\n        <div class=\"column is-half\">\r\n          <cytomine-multiselect\r\n            v-model=\"selectedProjects\"\r\n            :options=\"projects\"\r\n            label=\"name\"\r\n            track-by=\"id\"\r\n            :multiple=\"true\"\r\n            :close-on-select=\"true\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column is-one-quarter has-text-right\">\r\n          <strong>{{$t('files')}}</strong>\r\n        </div>\r\n        <div class=\"column is-half\">\r\n          <table v-if=\"dropFiles.length > 0\" class=\"table is-fullwidth upload-table\">\r\n            <tbody>\r\n              <tr v-for=\"(wrapper, idx) in dropFiles\" :key=\"idx\">\r\n                <td>{{wrapper.file.name}}</td>\r\n                <td>{{filesize(wrapper.file.size)}}</td>\r\n                <template v-if=\"wrapper.uploadedFile === null\">\r\n                  <td>\r\n                    <progress class=\"progress is-info\" :value=\"wrapper.progress\" max=\"100\">\r\n                      {{wrapper.progress}}%\r\n                    </progress>\r\n                  </td>\r\n                  <td>\r\n                    <div class=\"field is-grouped\">\r\n                      <p class=\"control\">\r\n                        <button class=\"button is-link\" @click=\"startUpload(wrapper)\">\r\n                          {{$t('button-start')}}\r\n                        </button>\r\n                      </p>\r\n                      <p class=\"control\">\r\n                        <button class=\"button\" @click=\"cancelUpload(idx)\">\r\n                          {{$t('button-cancel')}}\r\n                        </button>\r\n                      </p>\r\n                    </div>\r\n                  </td>\r\n                </template>\r\n                <template v-else>\r\n                  <td>\r\n                    <uploaded-file-status v-if=\"wrapper.uploadedFile\" :file=\"wrapper.uploadedFile\" />\r\n                    <span v-else class=\"tag is-danger\">\r\n                      {{$t('upload-error')}}\r\n                    </span>\r\n                  </td>\r\n                  <td>\r\n                    <p class=\"control\">\r\n                      <button class=\"button\" @click=\"cancelUpload(idx)\">{{$t('button-hide')}}</button>\r\n                    </p>\r\n                  </td>\r\n                </template>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <em v-else class=\"first-child-like has-text-grey\">{{$t('no-file')}}</em>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column is-half flex-column is-offset-one-quarter\">\r\n          <progress v-if=\"ongoingUpload\" class=\"progress is-success\" :value=\"overallProgress\" max=\"100\">\r\n            {{overallProgress}}%\r\n          </progress>\r\n\r\n          <div class=\"buttons\">\r\n            <b-upload :value=\"plainFiles\" type=\"is-link\" multiple drag-drop @input=\"filesChange\">\r\n              <a class=\"button is-success\">{{$t('add-files')}}</a>\r\n            </b-upload>\r\n            <button class=\"button is-link\" @click=\"startAll()\" :disabled=\"!filesPendingUpload\">\r\n              {{$t('start-upload')}}\r\n            </button>\r\n            <button class=\"button\" @click=\"cancelAll()\" :disabled=\"!filesPendingUpload && !ongoingUpload\">\r\n              {{$t('cancel-upload')}}\r\n            </button>\r\n            <button class=\"button\" @click=\"hideFinished()\" v-if=\"filesFinishedUpload\">\r\n              {{$t('hide-successful-upload')}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"panel\">\r\n    <p class=\"panel-heading\">\r\n      {{ $t('storage') }}\r\n    </p>\r\n    <div class=\"panel-block storage\">\r\n      <b-input\r\n        :value=\"searchString\"\r\n        @input=\"debounceSearchString\"\r\n        class=\"search-uploaded-file\"\r\n        :placeholder=\"$t('search-placeholder')\"\r\n        icon=\"search\"\r\n      />\r\n\r\n      <cytomine-table\r\n        :collection=\"uploadedFileCollection\"\r\n        sort=\"created\" order=\"desc\"\r\n        :revision=\"revision\"\r\n        :refreshInterval=\"tableRefreshInterval\"\r\n        :openedDetailed.sync=\"openedDetails\"\r\n      >\r\n        <template #default=\"{row: uFile}\">\r\n          <b-table-column :label=\"$t('preview')\" width=\"80\" class=\"image-overview\">\r\n            <image-thumbnail v-if=\"uFile.thumbURL\" :url=\"uFile.thumbURL\" :size=\"128\" :key=\"uFile.thumbURL\" :extra-parameters=\"{Authorization: 'Bearer ' + shortTermToken }\"/>\r\n            <div v-else class=\"is-size-7 has-text-grey\">{{$t('no-preview-available')}}</div>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"originalFilename\" :label=\"$t('filename')\" sortable width=\"200\">\r\n            {{ uFile.originalFilename }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"created\" :label=\"$t('created')\" sortable width=\"150\">\r\n            {{ Number(uFile.created) | moment('lll') }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"size\" :label=\"$t('size')\" sortable width=\"80\">\r\n            {{ filesize(uFile.size) }}\r\n          </b-table-column>\r\n\r\n<!--          <b-table-column field=\"globalSize\" :label=\"$t('global-size')\" sortable width=\"80\">-->\r\n<!--            {{ filesize(uFile.globalSize) }}-->\r\n<!--          </b-table-column>-->\r\n\r\n          <b-table-column field=\"status\" :label=\"$t('status')\" sortable width=\"80\">\r\n            <uploaded-file-status :file=\"uFile\" />\r\n          </b-table-column>\r\n\r\n          <!--<b-table-column field=\"parentFilename\" :label=\"$t('from-file')\" sortable width=\"150\">-->\r\n            <!--{{ uFile.parentFilename ? uFile.parentFilename : \"-\" }}-->\r\n          <!--</b-table-column>-->\r\n        </template>\r\n\r\n        <template #detail=\"{row: uFile}\">\r\n          <uploaded-file-details :file=\"uFile\" :key=\"uFile.id\" @update=\"updatedTree()\" />\r\n        </template>\r\n\r\n        <template #empty>\r\n          <p>{{$t('no-uploaded-file')}}</p>\r\n        </template>\r\n      </cytomine-table>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {Cytomine, StorageCollection, ProjectCollection, UploadedFileCollection, UploadedFile, UploadedFileStatus} from 'cytomine-client';\r\nimport axios from 'axios';\r\nimport filesize from 'filesize';\r\nimport _ from 'lodash';\r\nimport constants from '@/utils/constants.js';\r\n\r\nimport UploadedFileStatusComponent from './UploadedFileStatus';\r\nimport UploadedFileDetails from './UploadedFileDetails';\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport CytomineTable from '@/components/utils/CytomineTable';\r\nimport ImageThumbnail from '@/components/image/ImageThumbnail';\r\n\r\nexport default {\r\n  name: 'cytomine-storage',\r\n  components: {\r\n    ImageThumbnail,\r\n    CytomineMultiselect,\r\n    'uploaded-file-status': UploadedFileStatusComponent,\r\n    UploadedFileDetails,\r\n    CytomineTable\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      newUploadError: false,\r\n      timeoutRefreshSessionUploads: null,\r\n      tableRefreshInterval: constants.STORAGE_REFRESH_INTERVAL,\r\n\r\n      storages: [],\r\n      selectedStorage: null,\r\n      projects: [],\r\n      selectedProjects: [],\r\n      formatInfos: [],\r\n\r\n      searchString: '',\r\n      openedDetails: [],\r\n\r\n      dropFiles: [],\r\n\r\n      signature: '',\r\n      signatureDate: '',\r\n\r\n      revision: 0\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    finishedStatus() {\r\n      return [\r\n        UploadedFileStatus.CONVERTED,\r\n        UploadedFileStatus.DEPLOYED\r\n      ];\r\n    },\r\n    ongoingUpload() {\r\n      return this.dropFiles.some(wrapper => wrapper.uploading);\r\n    },\r\n    filesPendingUpload() {\r\n      return this.dropFiles.some(wrapper => !wrapper.uploading && wrapper.uploadedFile === null);\r\n    },\r\n    filesFinishedUpload() {\r\n      return this.dropFiles.some(wrapper => !wrapper.uploading && wrapper.uploadedFile !== null\r\n        && this.finishedStatus.includes(wrapper.uploadedFile.status));\r\n    },\r\n    overallProgress() {\r\n      let nbUploads = 0;\r\n      let totalProgress = 0;\r\n      this.dropFiles.forEach(wrapper => {\r\n        if(wrapper.uploading) {\r\n          nbUploads++;\r\n          totalProgress += wrapper.progress;\r\n        }\r\n      });\r\n      return Math.floor(totalProgress / nbUploads);\r\n    },\r\n    uri() {\r\n      return '/upload';\r\n    },\r\n    queryString() {\r\n      let str = `cytomine=${constants.CYTOMINE_CORE_HOST}`;\r\n      if(this.selectedStorage) {\r\n        str += `&idStorage=${this.selectedStorage.id}`;\r\n      }\r\n      if(this.selectedProjects) {\r\n        str += `&idProject=${this.selectedProjects.map(project => project.id).join(',')}`;\r\n      }\r\n      return str;\r\n    },\r\n    plainFiles() {\r\n      return this.dropFiles.map(wrapper => wrapper.file);\r\n    },\r\n    uploadedFileCollection() {\r\n      return new UploadedFileCollection({\r\n        onlyRootsWithDetails: true,\r\n        originalFilename: {ilike: encodeURIComponent(this.searchString)}\r\n      });\r\n    }\r\n  },\r\n  watch: {\r\n    async queryString() {\r\n      this.signatureDate = new Date().toISOString();\r\n      try {\r\n        this.signature = await Cytomine.instance.fetchSignature({\r\n          uri: this.uri,\r\n          queryString: this.queryString,\r\n          method: 'POST',\r\n          date: this.signatureDate\r\n        });\r\n      }\r\n      catch(error) {\r\n        this.newUploadError = true;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchStorages() {\r\n      try {\r\n        this.storages = (await StorageCollection.fetchAll()).array;\r\n        this.storages.forEach(v => {\r\n          v.extendedName = v.name;\r\n          if(this.currentUser.isDeveloper) v.extendedName +=' '+this.$t('id')+': '+v.id;\r\n        });\r\n\r\n        this.selectedStorage = this.storages.find(storage => storage.user === this.currentUser.id);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.newUploadError = true;\r\n      }\r\n    },\r\n    async fetchProjects() {\r\n      try {\r\n        this.projects = (await ProjectCollection.fetchAll()).array;\r\n      }\r\n      catch(error) {\r\n        console.log(error); // not mandatory for upload => only log error, no other action\r\n      }\r\n    },\r\n    async fetchFormatInfos() {\r\n      try {\r\n        this.formatInfos = (await Cytomine.instance.api.get('imageserver/format.json')).data.collection;\r\n      }\r\n      catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    async refreshStatusSessionUploads() {\r\n      let pendingStatus = [\r\n        UploadedFileStatus.UPLOADED,\r\n        UploadedFileStatus.DETECTING_FORMAT,\r\n        UploadedFileStatus.EXTRACTING_DATA,\r\n        UploadedFileStatus.CONVERTING,\r\n        UploadedFileStatus.DEPLOYING,\r\n        50,\r\n        60\r\n      ];\r\n\r\n      let unfinishedConversions = false;\r\n      let statusChange = false;\r\n\r\n      try {\r\n        await Promise.all(this.dropFiles.map(async wrapper => {\r\n          if(wrapper.uploadedFile) {\r\n            let oldStatus = wrapper.uploadedFile.status;\r\n            if(!pendingStatus.includes(oldStatus)) {\r\n              return;\r\n            }\r\n\r\n            await wrapper.uploadedFile.fetch();\r\n            let status = wrapper.uploadedFile.status;\r\n            if(status !== oldStatus) {\r\n              statusChange = true;\r\n            }\r\n            if(pendingStatus.includes(status)) {\r\n              unfinishedConversions = true;\r\n            }\r\n          }\r\n        }));\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        return;\r\n      }\r\n\r\n      if(statusChange) {\r\n        this.revision++;\r\n      }\r\n\r\n      if(unfinishedConversions) {\r\n        clearTimeout(this.timeoutRefreshSessionUploads);\r\n        this.timeoutRefreshSessionUploads = setTimeout(this.refreshStatusSessionUploads, constants.ONGOING_UPLOAD_REFRESH_INTERVAL);\r\n      }\r\n    },\r\n\r\n    filesChange(files) {\r\n      files.forEach(file => {\r\n        if(!file.processed) {\r\n          file.processed = true;\r\n          this.dropFiles.push({\r\n            file,\r\n            uploading: false,\r\n            progress: 0,\r\n            uploadedFile: null, // null if upload not finished, false if upload failed, UploadedFile instance if upload successful\r\n            cancelToken: null\r\n          });\r\n        }\r\n      });\r\n    },\r\n    filesize(size) {\r\n      return (size) ? filesize(size, {base: 10}) : null;\r\n    },\r\n\r\n    startUpload(fileWrapper) {\r\n      if(fileWrapper.uploading || fileWrapper.uploadedFile !== null) {\r\n        return;\r\n      }\r\n\r\n      let formData = new FormData();\r\n      formData.append('files[]', fileWrapper.file);\r\n      fileWrapper.cancelToken = axios.CancelToken.source();\r\n      fileWrapper.uploading = true;\r\n      axios.post(\r\n        constants.CYTOMINE_UPLOAD_HOST + this.uri + '?' + this.queryString,\r\n        formData,\r\n        {\r\n          headers: {\r\n            'authorization': `CYTOMINE ${this.currentUser.publicKey}:${this.signature}`,\r\n            'dateFull': this.signatureDate, // will replace actual date value, so that signature is valid\r\n            'content-type-full': 'null' // will erase actual content-type value, so that signature is valid\r\n          },\r\n          onUploadProgress: progress => {\r\n            fileWrapper.progress = Math.floor((progress.loaded * 100) / progress.total);\r\n          },\r\n          cancelToken: fileWrapper.cancelToken.token\r\n        }\r\n      ).then(response => {\r\n        fileWrapper.uploadedFile = new UploadedFile(response.data[0].uploadedFile);\r\n        this.refreshStatusSessionUploads();\r\n        this.revision++;\r\n      }).catch(error => {\r\n        if(!axios.isCancel(error)) {\r\n          console.log(error);\r\n          fileWrapper.uploadedFile = false;\r\n        }\r\n      }).finally(() => fileWrapper.uploading = false);\r\n    },\r\n    startAll() {\r\n      this.dropFiles.forEach(wrapper => this.startUpload(wrapper));\r\n    },\r\n\r\n    cancelUpload(index) {\r\n      let fileWrapper = this.dropFiles[index];\r\n      if(fileWrapper.cancelToken) {\r\n        fileWrapper.cancelToken.cancel();\r\n      }\r\n      this.dropFiles.splice(index, 1);\r\n    },\r\n    cancelAll() {\r\n      let nbFiles = this.dropFiles.length;\r\n      let idx = 0;\r\n      for(let i = 0; i < nbFiles; i++) {\r\n        if(this.dropFiles[idx].uploadedFile !== null) {\r\n          idx++;\r\n        }\r\n        else {\r\n          this.cancelUpload(idx);\r\n        }\r\n      }\r\n    },\r\n\r\n    hideFinished() {\r\n      let nbFiles = this.dropFiles.length;\r\n      let idx = 0;\r\n      for(let i = 0; i < nbFiles; i++) {\r\n        let uploadedFile = this.dropFiles[idx].uploadedFile;\r\n        if (uploadedFile !== null && this.finishedStatus.includes(uploadedFile.status)) {\r\n          this.cancelUpload(idx);\r\n        }\r\n        else {\r\n          idx++;\r\n        }\r\n      }\r\n    },\r\n\r\n    updatedTree() {\r\n      this.revision++; // updating the table will result in new files objects => the uf details will also be updated\r\n    },\r\n\r\n    debounceSearchString: _.debounce(async function(value) {\r\n      this.searchString = value;\r\n    }, 500)\r\n  },\r\n  activated() {\r\n    this.fetchStorages();\r\n    this.fetchProjects();\r\n    this.fetchFormatInfos();\r\n    this.refreshStatusSessionUploads();\r\n    this.tableRefreshInterval = constants.STORAGE_REFRESH_INTERVAL;\r\n  },\r\n  deactivated() {\r\n    clearTimeout(this.timeoutRefreshSessionUploads);\r\n    this.tableRefreshInterval = 0;\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.small-text {\r\n  font-size: 0.9em;\r\n}\r\n\r\n.upload-table  {\r\n  position: relative;\r\n  bottom: 0.4em;\r\n}\r\n\r\n.upload-table td {\r\n  vertical-align: middle !important;\r\n}\r\n\r\n.upload-table td:first-child {\r\n  width: 20vw;\r\n}\r\n\r\n.upload-table td:nth-child(2) {\r\n  width: 10em;\r\n}\r\n\r\n.upload-table td:nth-child(3) {\r\n  width: 15vw;\r\n}\r\n\r\n.upload-table td:last-child .field {\r\n  justify-content: flex-end;\r\n}\r\n\r\n.upload-table td:last-child .control {\r\n  text-align: right;\r\n}\r\n\r\n.column.flex-column {\r\n  flex-direction: column;\r\n}\r\n\r\n.progress:not(:last-child) {\r\n  margin-bottom: 0.75em;\r\n}\r\n\r\n.column:first-child {\r\n  padding-top: 1.25em;\r\n}\r\n\r\n.first-child-like {\r\n  display: block;\r\n  padding-top: 0.5em;\r\n}\r\n\r\n.image-overview >>> .image-thumbnail {\r\n  max-height: 4em;\r\n  max-width: 6em;\r\n}\r\n\r\n.panel-block.storage {\r\n  min-height: 20vh;\r\n  position: relative;\r\n}\r\n</style>\r\n\r\n<style>\r\n.storage-wrapper .upload-draggable .button {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.storage-wrapper .upload-draggable {\r\n  margin-right: 0.75em;\r\n  position: relative;\r\n  bottom: 4px;\r\n}\r\n\r\n.search-uploaded-file {\r\n  max-width: 25em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineStorage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineStorage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineStorage.vue?vue&type=template&id=ffdbda6e&scoped=true\"\nimport script from \"./CytomineStorage.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineStorage.vue?vue&type=script&lang=js\"\nimport style0 from \"./CytomineStorage.vue?vue&type=style&index=0&id=ffdbda6e&prod&scoped=true&lang=css\"\nimport style1 from \"./CytomineStorage.vue?vue&type=style&index=1&id=ffdbda6e&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ffdbda6e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[(!_vm.ontologies)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('unexpected-error-info-message')))])]):(_vm.ontologies.length > 0)?_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('ontologies'))+\" \"),(!_vm.currentUser.guestByNow)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){_vm.creationModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('new-ontology'))+\" \")]):_vm._e()]),_c('div',{staticClass:\"panel-block\"},[_c('b-input',{attrs:{\"size\":\"is-small\",\"type\":\"search\",\"icon\":\"search\",\"placeholder\":_vm.$t('search-placeholder')},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('div',{staticClass:\"panel-main-content\"},_vm._l((_vm.filteredOntologies),function(ontology){return _c('a',{key:ontology.id,staticClass:\"panel-block\",class:{'is-active': _vm.isSelected(ontology)},on:{\"click\":function($event){return _vm.selectOntology(ontology)}}},[_c('span',{staticClass:\"panel-icon\"},[(_vm.isSelected(ontology))?_c('i',{staticClass:\"fas fa-caret-right\",attrs:{\"aria-hidden\":\"true\"}}):_vm._e()]),_vm._v(\" \"+_vm._s(ontology.name)+\" \")])}),0)])]),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.selectedOntology ? _vm.selectedOntology.name : _vm.$t('not-found'))+\" \")]),_c('div',{staticClass:\"panel-block panel-main-content\"},[(_vm.selectedOntology)?_c('ontology-details',{attrs:{\"ontology\":_vm.selectedOntology},on:{\"delete\":function($event){return _vm.deleteOntology()},\"rename\":_vm.renameOntology}}):_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('not-found-error'))+\" \")])],1)])])]):_c('div',{staticClass:\"box error\"},[_c('div',{staticClass:\"columns\"},[_c('p',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t('dont-have-access-to-any-ontology')))]),_c('p',{staticClass:\"column has-text-right\"},[(!_vm.currentUser.guestByNow)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){_vm.creationModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('new-ontology'))+\" \")]):_vm._e()])])])]:_vm._e(),_c('add-ontology-modal',{attrs:{\"active\":_vm.creationModal},on:{\"update:active\":function($event){_vm.creationModal=$event},\"newOntology\":_vm.addOntology}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")]):(!_vm.loading)?_c('div',{staticClass:\"ontology-details-wrapper\"},[_c('table',{staticClass:\"table is-fullwidth\"},[_c('tbody',[_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('strong',[_vm._v(_vm._s(_vm.$t('terms')))]),_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('hierarchical-drag-drop-term'))+\" \")]),_c('ontology-tree',{attrs:{\"ontology\":_vm.fullOntology,\"allowSelection\":false,\"allowDrag\":_vm.canEdit,\"allowEdition\":_vm.canEdit},scopedSlots:_vm._u([{key:\"no-result\",fn:function(){return [_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-term')))])]},proxy:true}])})],1)]),(_vm.currentUser.isDeveloper)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('id')))])]),_c('td',[_vm._v(_vm._s(_vm.ontology.id))])]):_vm._e(),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('projects')))])]),_c('td',[(_vm.projects.length)?_vm._l((_vm.projects),function(project,index){return _c('span',{key:project.id},[_c('router-link',{attrs:{\"to\":`/project/${project.id}`}},[_vm._v(_vm._s(project.name))]),(index < _vm.projects.length - 1)?_c('span',[_vm._v(\", \")]):_vm._e()],1)}):(_vm.nbProjects > 0)?_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('used-in-project-no-access'))+\" \")]):_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('not-used-in-any-project'))+\" \")])],2)]),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('creator')))])]),_c('td',[_vm._v(\" \"+_vm._s(_vm.creatorFullname || _vm.$t('unknown'))+\" \")])]),(_vm.canEdit)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('actions')))])]),_c('td',[_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.isRenameModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-rename'))+\" \")]),_c('button',{staticClass:\"button is-danger\",attrs:{\"disabled\":_vm.nbProjects > 0,\"title\":_vm.nbProjects ? _vm.$t('cannot-delete-ontology-with-projects') : ''},on:{\"click\":function($event){return _vm.confirmDeletion()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")])])])]):_vm._e()])]),_c('rename-modal',{attrs:{\"title\":_vm.$t('rename-ontology'),\"currentName\":_vm.ontology.name,\"active\":_vm.isRenameModalActive},on:{\"update:active\":function($event){_vm.isRenameModalActive=$event},\"rename\":_vm.rename}})],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div>\r\n    <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n    <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n      {{$t('unexpected-error-info-message')}}\r\n    </b-message>\r\n    <div v-else-if=\"!loading\" class=\"ontology-details-wrapper\">\r\n      <table class=\"table is-fullwidth\">\r\n        <tbody>\r\n        <tr>\r\n          <td colspan=\"2\">\r\n            <strong>{{$t('terms')}}</strong>\r\n            <b-message type=\"is-info\" has-icon icon-size=\"is-small\">\r\n            {{$t('hierarchical-drag-drop-term')}}\r\n          </b-message>\r\n          <ontology-tree :ontology=\"fullOntology\" :allowSelection=\"false\" :allowDrag=\"canEdit\" :allowEdition=\"canEdit\">\r\n              <template #no-result>\r\n                <em class=\"has-text-grey\">{{$t('no-term')}}</em>\r\n              </template>\r\n            </ontology-tree>\r\n          </td>\r\n        </tr>\r\n        <tr v-if=\"currentUser.isDeveloper\">\r\n          <td><strong>{{$t('id')}}</strong></td>\r\n          <td>{{ontology.id}}</td>\r\n        </tr>\r\n        <tr>\r\n          <td><strong>{{$t('projects')}}</strong></td>\r\n          <td>\r\n            <template v-if=\"projects.length\">\r\n            <span v-for=\"(project, index) in projects\" :key=\"project.id\">\r\n              <router-link :to=\"`/project/${project.id}`\">{{project.name}}</router-link>\r\n              <span v-if=\"index < projects.length - 1\">, </span>\r\n            </span>\r\n            </template>\r\n            <em class=\"has-text-grey\" v-else-if=\"nbProjects > 0\">\r\n              {{$t('used-in-project-no-access')}}\r\n            </em>\r\n            <em class=\"has-text-grey\" v-else>\r\n              {{$t('not-used-in-any-project')}}\r\n            </em>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td><strong>{{$t('creator')}}</strong></td>\r\n          <td>\r\n            {{creatorFullname || $t('unknown')}}\r\n          </td>\r\n        </tr>\r\n        <tr v-if=\"canEdit\">\r\n          <td><strong>{{$t('actions')}}</strong></td>\r\n          <td>\r\n            <div class=\"buttons\">\r\n              <button class=\"button\" @click=\"isRenameModalActive = true\">\r\n                {{$t('button-rename')}}\r\n              </button>\r\n              <button\r\n                  class=\"button is-danger\"\r\n                  @click=\"confirmDeletion()\"\r\n                  :disabled=\"nbProjects > 0\"\r\n                  :title=\"nbProjects ? $t('cannot-delete-ontology-with-projects') : ''\"\r\n              >\r\n                {{$t('button-delete')}}\r\n              </button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n      <rename-modal\r\n          :title=\"$t('rename-ontology')\"\r\n          :currentName=\"ontology.name\"\r\n          :active.sync=\"isRenameModalActive\"\r\n          @rename=\"rename\"\r\n      />\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {Ontology, User, ProjectCollection} from 'cytomine-client';\r\nimport OntologyTree from './OntologyTree';\r\nimport RenameModal from '@/components/utils/RenameModal';\r\nimport {fullName} from '@/utils/user-utils.js';\r\n\r\nexport default {\r\n  name: 'ontology-details',\r\n  props: {\r\n    ontology: Object\r\n  },\r\n  components: {\r\n    OntologyTree,\r\n    RenameModal\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      fullOntology: {},\r\n      projects: [],\r\n      managedProjects: [],\r\n      creatorFullname: null,\r\n\r\n      isRenameModalActive: false\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    canEdit() {\r\n      return !this.currentUser.guestByNow && (this.currentUser.adminByNow || this.currentUser.id === this.fullOntology.user ||\r\n        (this.hasAccessToAllProjects && (this.allProjectsAreCollaborative || this.manageAllProjects)));\r\n    },\r\n    nbProjects() {\r\n      return this.fullOntology.projects.length;\r\n    },\r\n    hasAccessToAllProjects() {\r\n      return this.nbProjects === this.projects.length;\r\n    },\r\n    allProjectsAreCollaborative() {\r\n      return !this.projects.some(p => p.isRestricted || p.isReadOnly);\r\n    },\r\n    manageAllProjects() {\r\n      return !this.projects.some(p => !this.managedProjects.find(mp => mp.id === p.id));\r\n    }\r\n  },\r\n  watch: {\r\n    ontology() {\r\n      this.fetchOntology();\r\n    },\r\n  },\r\n  methods: {\r\n    async fetchOntology() {\r\n      this.loading = true;\r\n      this.error = false;\r\n\r\n      try {\r\n        this.fullOntology = await Ontology.fetch(this.ontology.id);\r\n\r\n        // projects prop of ontology contains all projects, including those that the current user cannot see => need to refetch the collection\r\n        this.projects = (await ProjectCollection.fetchAll({filterKey: 'ontology', filterValue: this.ontology.id})).array;\r\n        // ---\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n      }\r\n\r\n      this.fetchManagedProjects();\r\n\r\n      try {\r\n        let creator = await User.fetch(this.fullOntology.user);\r\n        this.creatorFullname = fullName(creator);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n      }\r\n\r\n      this.loading = false;\r\n    },\r\n    async fetchManagedProjects() {\r\n      this.managedProjects = (await ProjectCollection.fetchAll({\r\n        filterKey: 'user',\r\n        filterValue: this.currentUser.id,\r\n        light: true,\r\n        admin: true\r\n      })).array;\r\n    },\r\n\r\n    async rename(newName) {\r\n      let oldName = this.ontology.name;\r\n      try {\r\n        this.fullOntology.name = newName;\r\n        await this.fullOntology.save();\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-ontology-rename', {name: this.fullOntology.name})\r\n        });\r\n        this.$emit('rename', newName);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-ontology-rename', {name: oldName})\r\n        });\r\n      }\r\n      this.isRenameModalActive = false;\r\n    },\r\n\r\n    confirmDeletion() {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('confirm-deletion'),\r\n        message: this.$t('confirm-deletion-ontology', {name: this.ontology.name}),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.$emit('delete')\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchOntology();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.ontology-details-wrapper .ontology-tree {\r\n  max-width: 40em;\r\n}\r\n\r\n.ontology-details-wrapper td:first-child {\r\n  width: 8em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyDetails.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyDetails.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./OntologyDetails.vue?vue&type=template&id=e68b0e42\"\nimport script from \"./OntologyDetails.vue?vue&type=script&lang=js\"\nexport * from \"./OntologyDetails.vue?vue&type=script&lang=js\"\nimport style0 from \"./OntologyDetails.vue?vue&type=style&index=0&id=e68b0e42&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createOntology()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('create-ontology')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-field',{attrs:{\"label\":_vm.$t('name'),\"type\":{'is-danger': _vm.errors.has('name')},\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<form @submit.prevent=\"createOntology()\">\r\n  <cytomine-modal :active=\"active\" :title=\"$t('create-ontology')\" @close=\"$emit('update:active', false)\">\r\n    <b-field :label=\"$t('name')\" :type=\"{'is-danger': errors.has('name')}\" :message=\"errors.first('name')\">\r\n      <b-input v-model=\"name\" name=\"name\" v-validate=\"'required'\" />\r\n    </b-field>\r\n\r\n    <template #footer>\r\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n        {{$t('button-save')}}\r\n      </button>\r\n    </template>\r\n  </cytomine-modal>\r\n</form>\r\n</template>\r\n\r\n<script>\r\nimport {Ontology} from 'cytomine-client';\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\n\r\nexport default {\r\n  name: 'add-ontology-modal',\r\n  props: {\r\n    active: Boolean\r\n  },\r\n  components: {CytomineModal},\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      name: ''\r\n    };\r\n  },\r\n  watch: {\r\n    active(val) {\r\n      if(val) {\r\n        this.name = '';\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async createOntology() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        let ontology = await new Ontology({name: this.name}).save();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-ontology-creation')});\r\n        this.$emit('newOntology', ontology);\r\n        this.$emit('update:active', false);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-ontology-creation')});\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddOntologyModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddOntologyModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AddOntologyModal.vue?vue&type=template&id=1858a392\"\nimport script from \"./AddOntologyModal.vue?vue&type=script&lang=js\"\nexport * from \"./AddOntologyModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"content-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n\r\n  <template v-if=\"!loading\">\r\n    <div class=\"box error\" v-if=\"!ontologies\">\r\n      <h2> {{ $t('error') }} </h2>\r\n      <p>{{ $t('unexpected-error-info-message') }}</p>\r\n    </div>\r\n\r\n    <div v-else-if=\"ontologies.length > 0\" class=\"columns\">\r\n      <div class=\"column is-one-quarter\">\r\n        <div class=\"panel\">\r\n            <p class=\"panel-heading\">\r\n              {{$t('ontologies')}}\r\n              <button class=\"button is-link\" @click=\"creationModal = true\" v-if=\"!currentUser.guestByNow\">\r\n                {{$t('new-ontology')}}\r\n              </button>\r\n            </p>\r\n            <div class=\"panel-block\">\r\n              <b-input\r\n                size=\"is-small\"\r\n                v-model=\"searchString\"\r\n                type=\"search\"\r\n                icon=\"search\"\r\n                :placeholder=\"$t('search-placeholder')\"\r\n              />\r\n            </div>\r\n            <div class=\"panel-main-content\">\r\n              <a\r\n                v-for=\"ontology in filteredOntologies\"\r\n                :key=\"ontology.id\"\r\n                @click=\"selectOntology(ontology)\"\r\n                class=\"panel-block\"\r\n                :class=\"{'is-active': isSelected(ontology)}\"\r\n              >\r\n                <span class=\"panel-icon\">\r\n                  <i v-if=\"isSelected(ontology)\" class=\"fas fa-caret-right\" aria-hidden=\"true\"></i>\r\n                </span>\r\n                {{ontology.name}}\r\n              </a>\r\n            </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"column\">\r\n        <div class=\"panel\">\r\n          <p class=\"panel-heading\">\r\n            {{selectedOntology ? selectedOntology.name : $t('not-found')}}\r\n          </p>\r\n          <div class=\"panel-block panel-main-content\">\r\n            <ontology-details\r\n              v-if=\"selectedOntology\"\r\n              :ontology=\"selectedOntology\"\r\n              @delete=\"deleteOntology()\"\r\n              @rename=\"renameOntology\"\r\n            />\r\n            <b-message type=\"is-danger\" has-icon icon-size=\"is-small\" v-else>\r\n              {{ $t('not-found-error') }}\r\n            </b-message>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"box error\" v-else>\r\n      <div class=\"columns\">\r\n        <p class=\"column\">{{$t('dont-have-access-to-any-ontology')}}</p>\r\n        <p class=\"column has-text-right\">\r\n          <button class=\"button is-link\" @click=\"creationModal = true\" v-if=\"!currentUser.guestByNow\">\r\n            {{$t('new-ontology')}}\r\n          </button>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </template>\r\n\r\n  <add-ontology-modal :active.sync=\"creationModal\" @newOntology=\"addOntology\" />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get, sync} from '@/utils/store-helpers';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\n\r\nimport {OntologyCollection} from 'cytomine-client';\r\nimport OntologyDetails from './OntologyDetails';\r\nimport AddOntologyModal from './AddOntologyModal';\r\n\r\nexport default {\r\n  name: 'list-ontologies',\r\n  components: {\r\n    OntologyDetails,\r\n    AddOntologyModal\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      ontologies: null,\r\n      selectedOntology: null,\r\n      creationModal: false\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    idTargetOntology() {\r\n      return Number(this.$route.params.idOntology) || this.$store.state.ontologies.selectedOntology;\r\n    },\r\n    filteredOntologies() {\r\n      if(this.searchString.length > 0) {\r\n        let regexp = getWildcardRegexp(this.searchString);\r\n        return this.ontologies.filter(ontology => regexp.test(ontology.name));\r\n      }\r\n      return this.ontologies;\r\n    },\r\n    searchString: sync('ontologies/searchString')\r\n  },\r\n  watch: {\r\n    idTargetOntology() {\r\n      if(!this.idTargetOntology) {\r\n        this.selectedOntology = this.ontologies[0];\r\n        return;\r\n      }\r\n      if(this.selectedOntology && this.selectedOntology.id === this.idTargetOntology) {\r\n        return;\r\n      }\r\n      this.selectTargetOntology();\r\n    },\r\n    selectedOntology(ontology) {\r\n      if (ontology) {\r\n        this.$store.commit('ontologies/setSelectedOntology', ontology.id);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    selectOntology(ontology) {\r\n      this.selectedOntology = ontology;\r\n      this.$router.push(`/ontology/${this.selectedOntology.id}`);\r\n    },\r\n    selectTargetOntology() {\r\n      this.selectedOntology = this.ontologies.find(ontology => ontology.id === this.idTargetOntology);\r\n    },\r\n    isSelected(ontology) {\r\n      return this.selectedOntology && this.selectedOntology.id === ontology.id;\r\n    },\r\n    sortOntologies() {\r\n      this.ontologies.sort((a, b) => a.name.localeCompare(b.name));\r\n    },\r\n    addOntology(ontology) {\r\n      this.ontologies.push(ontology);\r\n      this.sortOntologies();\r\n      this.selectedOntology = ontology;\r\n    },\r\n    renameOntology(newName) {\r\n      this.selectedOntology.name = newName;\r\n      this.sortOntologies();\r\n    },\r\n    async deleteOntology() {\r\n      let index = this.ontologies.findIndex(ontology => ontology.id === this.selectedOntology.id);\r\n      try {\r\n        await this.selectedOntology.delete();\r\n        this.ontologies.splice(index, 1);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-ontology-deletion', {name: this.selectedOntology.name})\r\n        });\r\n        this.selectedOntology = this.ontologies[0];\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-ontology-deletion')});\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      this.ontologies = (await OntologyCollection.fetchAll({light: true})).array;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.loading = false;\r\n      return;\r\n    }\r\n    this.sortOntologies();\r\n\r\n    if(this.idTargetOntology) {\r\n      this.selectTargetOntology();\r\n    }\r\n    else {\r\n      this.selectedOntology = this.ontologies[0];\r\n    }\r\n\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.content-wrapper {\r\n  height: 100%;\r\n}\r\n\r\n.columns {\r\n  height: 100%;\r\n}\r\n\r\n.panel {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.panel-heading {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.panel-icon {\r\n  font-size: 1.2em;\r\n}\r\n\r\n.panel-main-content {\r\n  overflow: auto;\r\n  flex-grow: 1;\r\n}\r\n\r\n.box.error .columns {\r\n  align-items: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListOntologies.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListOntologies.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ListOntologies.vue?vue&type=template&id=efcc5a5e&scoped=true\"\nimport script from \"./ListOntologies.vue?vue&type=script&lang=js\"\nexport * from \"./ListOntologies.vue?vue&type=script&lang=js\"\nimport style0 from \"./ListOntologies.vue?vue&type=style&index=0&id=efcc5a5e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"efcc5a5e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"list-software-wrapper content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('unexpected-error-info-message')))])]):(!_vm.loading)?_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('algorithms'))+\" \")]),_c('div',{staticClass:\"panel-block\"},[_c('div',{staticClass:\"search-block\"},[_c('b-input',{staticClass:\"search-softwares\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.toggleFilterDisplay()}}},[_vm._m(0),_c('span',[_vm._v(\" \"+_vm._s(_vm.filtersOpened ? _vm.$t('button-hide-filters') : _vm.$t('button-show-filters'))+\" \")]),(_vm.nbActiveFilters)?_c('span',{staticClass:\"nb-active-filters\"},[_vm._v(\" \"+_vm._s(_vm.nbActiveFilters)+\" \")]):_vm._e()])],1),_c('b-collapse',{attrs:{\"open\":_vm.filtersOpened}},[_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('nb-jobs'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbJobs},model:{value:(_vm.boundsJobs),callback:function ($$v) {_vm.boundsJobs=$$v},expression:\"boundsJobs\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('nb-success-jobs'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbSuccessJobs},model:{value:(_vm.boundsSuccessJobs),callback:function ($$v) {_vm.boundsSuccessJobs=$$v},expression:\"boundsSuccessJobs\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('only-last-release'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('b-switch',{staticClass:\"switch\",model:{value:(_vm.onlyLastReleases),callback:function ($$v) {_vm.onlyLastReleases=$$v},expression:\"onlyLastReleases\"}},[(_vm.onlyLastReleases)?[_vm._v(_vm._s(_vm.$t('yes')))]:[_vm._v(_vm._s(_vm.$t('no')))]],2)],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('only-UI-runnable'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('b-switch',{staticClass:\"switch\",model:{value:(_vm.onlyExecutables),callback:function ($$v) {_vm.onlyExecutables=$$v},expression:\"onlyExecutables\"}},[(_vm.onlyExecutables)?[_vm._v(_vm._s(_vm.$t('yes')))]:[_vm._v(_vm._s(_vm.$t('no')))]],2)],1)])])])]),_c('b-table',{staticClass:\"table-softwares\",attrs:{\"data\":_vm.filteredSoftwares,\"paginated\":true,\"current-page\":_vm.currentPage,\"per-page\":_vm.perPage,\"pagination-size\":\"is-small\",\"detailed\":\"\",\"detail-key\":\"id\",\"opened-detailed\":_vm.openedDetails,\"default-sort\":_vm.sort.field,\"default-sort-direction\":_vm.sort.order},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event},\"sort\":_vm.updateSort},scopedSlots:_vm._u([{key:\"default\",fn:function({row: software}){return [_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"250\"}},[_c('router-link',{attrs:{\"to\":`/algorithm/${software.id}`}},[_vm._v(\" \"+_vm._s(software.fullName)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"softwareStatus\",\"label\":_vm.$t('version'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\",\"custom-sort\":_vm.sortBySoftwareStatus}},[_c('software-status',{attrs:{\"software\":software}})],1),_c('b-table-column',{attrs:{\"field\":\"executable\",\"label\":_vm.$t('ui-runnable'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('boolean-item',{attrs:{\"value\":software.executable}})],1),_c('b-table-column',{attrs:{\"field\":\"numberOfJob\",\"label\":_vm.$t('number-jobs'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(software.numberOfJob)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"numberOfSuccess\",\"label\":_vm.$t('number-success'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(software.numberOfSuccess)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"created\",\"label\":_vm.$t('creation-date'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"180\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(software.created),'ll'))+\" \")]),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\",\"width\":\"150\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":`/algorithm/${software.id}`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-open'))+\" \")])],1)]}},{key:\"detail\",fn:function({row: software}){return [_c('software-details',{attrs:{\"software\":software,\"excluded-properties\":_vm.excludedProperties},on:{\"update\":_vm.updateSoftware,\"delete\":function($event){return _vm.deleteSoftware(software)}}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-software')))])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}])})],1)]):_vm._e()],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-filter\"})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"tag\",class:_vm.tagClass},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.label))+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<span class=\"tag\" :class=\"tagClass\">\r\n  {{$t(label)}}\r\n</span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'software-status',\r\n  props: {\r\n    software: Object\r\n  },\r\n  computed: {\r\n    tagClass() {\r\n      if(!this.software.softwareVersion) {\r\n        return 'is-white';\r\n      }\r\n      if(this.software.deprecated) {\r\n        return 'is-dark';\r\n      }\r\n      return 'is-info';\r\n    },\r\n    label() {\r\n      if(!this.software.softwareVersion) {\r\n        return 'no-info';\r\n      }\r\n      if(this.software.deprecated) {\r\n        return 'deprecated';\r\n      }\r\n      return 'last-release';\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareStatus.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareStatus.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SoftwareStatus.vue?vue&type=template&id=c02fdad2&scoped=true\"\nimport script from \"./SoftwareStatus.vue?vue&type=script&lang=js\"\nexport * from \"./SoftwareStatus.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c02fdad2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.value)?_c('span',{staticClass:\"tag is-success\"},[_c('i',{staticClass:\"fas fa-check\"}),_vm._v(\"\"+_vm._s(_vm.$t('yes'))+\" \")]):_c('span',{staticClass:\"tag is-danger\"},[_c('i',{staticClass:\"fas fa-times\"}),_vm._v(\"\"+_vm._s(_vm.$t('no'))+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <span v-if=\"value\" class=\"tag is-success\">\r\n    <i class=\"fas fa-check\"></i>&nbsp;{{$t('yes')}}\r\n  </span>\r\n  <span v-else class=\"tag is-danger\">\r\n    <i class=\"fas fa-times\"></i>&nbsp;{{$t('no')}}\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'boolean-item',\r\n  props: {\r\n    value: Boolean\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BooleanItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BooleanItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./BooleanItem.vue?vue&type=template&id=00684474&scoped=true\"\nimport script from \"./BooleanItem.vue?vue&type=script&lang=js\"\nexport * from \"./BooleanItem.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00684474\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\",\"size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):_c('table',{staticClass:\"table\"},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('tbody',[(_vm.isPropDisplayed('id') && _vm.currentUser.isDeveloper)?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('id')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(_vm._s(_vm.software.id))])]):_vm._e(),(_vm.isPropDisplayed('name'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('name')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(\" \"+_vm._s(_vm.software.fullName)+\" \")])]):_vm._e(),(_vm.isPropDisplayed('projects'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('projects')))]),_c('td',{staticClass:\"prop-content\"},[(_vm.projects.length)?_vm._l((_vm.projects),function(project,index){return _c('span',{key:project.id},[_c('router-link',{attrs:{\"to\":`/project/${project.id}`}},[_vm._v(_vm._s(project.name))]),(index < _vm.projects.length - 1)?_c('span',[_vm._v(\", \")]):_vm._e()],1)}):(_vm.nbProjects > 0)?_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('used-in-project-no-access'))+\" \")]):_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('not-used-in-any-project'))+\" \")])],2)]):_vm._e(),(_vm.isPropDisplayed('trustedSource'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('trusted-source')))]),_c('td',{staticClass:\"prop-content\"},[_c('software-source',{attrs:{\"source\":_vm.source}})],1)]):_vm._e(),(_vm.isPropDisplayed('description'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('description')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-description',{attrs:{\"object\":_vm.software,\"canEdit\":_vm.canManageSoftware}})],1)]):_vm._e(),(_vm.isPropDisplayed('attachedFiles'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('attached-files')))]),_c('td',{staticClass:\"prop-content\"},[_c('attached-files',{attrs:{\"object\":_vm.software,\"canEdit\":_vm.canManageSoftware}})],1)]):_vm._e(),(_vm.isPropDisplayed('status'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('status')))]),_c('td',{staticClass:\"prop-content\"},[_c('software-status',{attrs:{\"software\":_vm.software}})],1)]):_vm._e(),(_vm.isPropDisplayed('executable'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('ui-runnable')))]),_c('td',{staticClass:\"prop-content\"},[_c('boolean-item',{attrs:{\"value\":_vm.software.executable}})],1)]):_vm._e(),(_vm.isPropDisplayed('created'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('created-on')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.software.created),'ll'))+\" \")])]):_vm._e(),(_vm.isPropDisplayed('executeCommand'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('execute-command')))]),_c('td',{staticClass:\"prop-content\"},[_c('code',[_vm._v(_vm._s(_vm.software.executeCommand))])])]):_vm._e(),(_vm.isPropDisplayed('pullingCommand'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('pulling-command')))]),_c('td',{staticClass:\"prop-content\"},[_c('code',[_vm._v(_vm._s(_vm.software.pullingCommand))])])]):_vm._e(),(_vm.source)?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('actions')))]),_c('td',{staticClass:\"prop-content\"},[_c('software-source-buttons',{attrs:{\"source\":_vm.source,\"software\":_vm.software}})],1)]):_vm._e()]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',[(!this.source)?[_c('em',[_vm._v(_vm._s(_vm.$t('no-trusted-source')))])]:[(_vm.sourceCodeProviderIcon)?_c('i',{class:_vm.sourceCodeProviderIcon}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"is-capitalized\"},[_vm._v(\" \"+_vm._s(_vm.sourceCodeProvider))]),_vm._v(\" [\"+_vm._s(_vm.source.username)+\"] \"),(_vm.source.prefix)?[_vm._v(\" (with prefix \\\"\"+_vm._s(_vm.source.prefix)+\"\\\") \")]:_vm._e(),_c('br'),(_vm.environmentProviderIcon)?_c('i',{class:_vm.environmentProviderIcon}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"is-capitalized\"},[_vm._v(\" \"+_vm._s(_vm.environmentProvider))]),_vm._v(\" [\"+_vm._s(_vm.source.dockerUsername)+\"] \")]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <span>\r\n    <template v-if=\"!this.source\">\r\n      <em>{{$t('no-trusted-source')}}</em>\r\n    </template>\r\n    <template v-else>\r\n      <i v-if=\"sourceCodeProviderIcon\" :class=\"sourceCodeProviderIcon\"></i> <span class=\"is-capitalized\"> {{sourceCodeProvider}}</span> [{{source.username}}]\r\n      <template v-if=\"source.prefix\"> (with prefix \"{{source.prefix}}\") </template>\r\n      <br><i v-if=\"environmentProviderIcon\" :class=\"environmentProviderIcon\"></i> <span class=\"is-capitalized\"> {{environmentProvider}}</span> [{{source.dockerUsername}}]\r\n    </template>\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'software-source',\r\n  props: {\r\n    source: {type: Object, default: null},\r\n  },\r\n  data() {\r\n    return {\r\n      supportedProviders: ['github', 'bitbucket', 'gitlab', 'docker']\r\n    };\r\n  },\r\n  computed: {\r\n    sourceCodeProvider() {\r\n      let provider = (this.source) ? this.formatProvider(this.source.provider) : null;\r\n      return provider ? provider : this.$t('unknown');\r\n    },\r\n    sourceCodeProviderIcon() {\r\n      let provider = (this.source) ? this.formatProvider(this.source.provider) : null;\r\n      return provider ? `fab fa-${provider} fa-fw` : null;\r\n    },\r\n    environmentProvider() {\r\n      let provider = (this.source) ? this.formatProvider(this.source.environmentProvider || 'docker') : null;\r\n      return provider ? provider : this.$t('unknown');\r\n    },\r\n    environmentProviderIcon() {\r\n      let provider = (this.source) ? this.formatProvider(this.source.environmentProvider || 'docker') : null;\r\n      return provider ? `fab fa-${provider} fa-fw` : null;\r\n    }\r\n  },\r\n  methods: {\r\n    formatProvider(provider) {\r\n      provider = provider.toLowerCase();\r\n      return this.supportedProviders.includes(provider) ? provider : null;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareSource.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareSource.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SoftwareSource.vue?vue&type=template&id=d9624584&scoped=true\"\nimport script from \"./SoftwareSource.vue?vue&type=script&lang=js\"\nexport * from \"./SoftwareSource.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d9624584\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"buttons are-small\"},[_c('a',{staticClass:\"button\",attrs:{\"href\":_vm.sourceCodeProviderLink,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-external-link-alt fa-fw\"}),_vm._v(\" \"+_vm._s(_vm.$t('see-source-code-on'))+\" \"),_c('span',{staticClass:\"is-capitalized\"},[_vm._v(\"\"+_vm._s(_vm.sourceCodeProvider))])]),_c('a',{staticClass:\"button\",attrs:{\"href\":_vm.environmentProviderLink,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-external-link-alt fa-fw\"}),_vm._v(\" \"+_vm._s(_vm.$t('see-environment-on'))+\" \"),_c('span',{staticClass:\"is-capitalized\"},[_vm._v(\"\"+_vm._s(_vm.environmentProvider))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div class=\"buttons are-small\">\r\n    <a :href=\"sourceCodeProviderLink\" class=\"button\" target=\"_blank\">\r\n      <i class=\"fas fa-external-link-alt fa-fw\"></i> {{$t('see-source-code-on')}}\r\n      <span class=\"is-capitalized\">&nbsp;{{sourceCodeProvider}}</span>\r\n    </a>\r\n    <a :href=\"environmentProviderLink\" class=\"button\" target=\"_blank\">\r\n      <i class=\"fas fa-external-link-alt fa-fw\"></i> {{$t('see-environment-on')}}\r\n      <span class=\"is-capitalized\">&nbsp;{{environmentProvider}}</span>\r\n    </a>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'software-source-buttons',\r\n  props: {\r\n    source: Object,\r\n    software: Object\r\n  },\r\n  data() {\r\n    return {\r\n      supportedProviders: ['github', 'bitbucket', 'gitlab', 'docker']\r\n    };\r\n  },\r\n  computed: {\r\n    sourceCodeProvider() {\r\n      let provider = this.formatProvider(this.source.provider);\r\n      return provider ? provider : this.$t('unknown');\r\n    },\r\n    sourceCodeProviderIcon() {\r\n      let provider = this.formatProvider(this.source.provider);\r\n      return provider ? `fab fa-${provider} fa-fw` : null;\r\n    },\r\n    sourceCodeProviderLink() {\r\n      let provider = this.formatProvider(this.source.provider);\r\n      return `https://${provider}.com/${this.source.username}/${this.source.prefix}${this.software.name}/tree/${this.software.softwareVersion}`;\r\n    },\r\n    environmentProvider() {\r\n      let provider = this.formatProvider(this.source.environmentProvider || 'docker');\r\n      return provider ? provider : this.$t('unknown');\r\n    },\r\n    environmentProviderIcon() {\r\n      let provider = this.formatProvider(this.source.environmentProvider || 'docker');\r\n      return provider ? `fab fa-${provider} fa-fw` : null;\r\n    },\r\n    environmentProviderLink() {\r\n      let provider = this.formatProvider(this.source.environmentProvider || 'docker');\r\n      if (provider === 'docker') {\r\n        return `https://hub.docker.com/r/${this.source.dockerUsername}/${this.source.prefix.toLowerCase()}${this.software.name.toLowerCase()}`;\r\n      }\r\n\r\n      return '';\r\n    }\r\n  },\r\n  methods: {\r\n    formatProvider(provider) {\r\n      provider = provider.toLowerCase();\r\n      return this.supportedProviders.includes(provider) ? provider : null;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.fa-fw {\r\n  margin-right: 5px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareSourceButtons.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareSourceButtons.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SoftwareSourceButtons.vue?vue&type=template&id=470ead4b&scoped=true\"\nimport script from \"./SoftwareSourceButtons.vue?vue&type=script&lang=js\"\nexport * from \"./SoftwareSourceButtons.vue?vue&type=script&lang=js\"\nimport style0 from \"./SoftwareSourceButtons.vue?vue&type=style&index=0&id=470ead4b&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"470ead4b\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\" size=\"is-small\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p> {{ $t('unexpected-error-info-message') }} </p>\r\n</b-message>\r\n<table v-else class=\"table\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\r\n  <tbody v-if=\"!loading\">\r\n  <tr v-if=\"isPropDisplayed('id') && currentUser.isDeveloper\">\r\n    <td class=\"prop-label\">{{$t('id')}}</td>\r\n    <td class=\"prop-content\">{{software.id}}</td>\r\n  </tr>\r\n  <tr v-if=\"isPropDisplayed('name')\">\r\n    <td class=\"prop-label\">{{$t('name')}}</td>\r\n    <td class=\"prop-content\">\r\n      {{software.fullName}}\r\n    </td>\r\n  </tr>\r\n  <tr v-if=\"isPropDisplayed('projects')\">\r\n    <td class=\"prop-label\">{{$t('projects')}}</td>\r\n    <td class=\"prop-content\">\r\n      <template v-if=\"projects.length\">\r\n            <span v-for=\"(project, index) in projects\" :key=\"project.id\">\r\n              <router-link :to=\"`/project/${project.id}`\">{{project.name}}</router-link>\r\n              <span v-if=\"index < projects.length - 1\">, </span>\r\n            </span>\r\n      </template>\r\n      <em class=\"has-text-grey\" v-else-if=\"nbProjects > 0\">\r\n        {{$t('used-in-project-no-access')}}\r\n      </em>\r\n      <em class=\"has-text-grey\" v-else>\r\n        {{$t('not-used-in-any-project')}}\r\n      </em>\r\n    </td>\r\n  </tr>\r\n  <tr v-if=\"isPropDisplayed('trustedSource')\">\r\n    <td class=\"prop-label\">{{$t('trusted-source')}}</td>\r\n    <td class=\"prop-content\">\r\n      <software-source :source=\"source\" />\r\n    </td>\r\n  </tr>\r\n  <tr v-if=\"isPropDisplayed('description')\">\r\n    <td class=\"prop-label\">{{$t('description')}}</td>\r\n    <td class=\"prop-content\">\r\n      <cytomine-description :object=\"software\" :canEdit=\"canManageSoftware\" />\r\n    </td>\r\n  </tr>\r\n  <!-- I think software is disabled in general for now\r\n  <tr v-if=\"isPropDisplayed('properties')\">\r\n    <td class=\"prop-label\">{{$t('properties')}}</td>\r\n    <td class=\"prop-content\">\r\n      <cytomine-properties :object=\"software\" :canEdit=\"canManageSoftware\" />\r\n    </td>\r\n  </tr>\r\n   -->\r\n  <tr v-if=\"isPropDisplayed('attachedFiles')\">\r\n    <td class=\"prop-label\">{{$t('attached-files')}}</td>\r\n    <td class=\"prop-content\">\r\n      <attached-files :object=\"software\" :canEdit=\"canManageSoftware\" />\r\n    </td>\r\n  </tr>\r\n  <tr v-if=\"isPropDisplayed('status')\">\r\n    <td class=\"prop-label\">{{$t('status')}}</td>\r\n    <td class=\"prop-content\">\r\n      <software-status :software=\"software\" />\r\n    </td>\r\n  </tr>\r\n  <tr v-if=\"isPropDisplayed('executable')\">\r\n    <td class=\"prop-label\">{{$t('ui-runnable')}}</td>\r\n    <td class=\"prop-content\">\r\n      <boolean-item :value=\"software.executable\" />\r\n    </td>\r\n  </tr>\r\n  <tr v-if=\"isPropDisplayed('created')\">\r\n    <td class=\"prop-label\">{{$t('created-on')}}</td>\r\n    <td class=\"prop-content\">\r\n      {{ Number(software.created) | moment('ll') }}\r\n    </td>\r\n  </tr>\r\n  <tr v-if=\"isPropDisplayed('executeCommand')\">\r\n    <td class=\"prop-label\">{{$t('execute-command')}}</td>\r\n    <td class=\"prop-content\">\r\n      <code>{{software.executeCommand}}</code>\r\n    </td>\r\n  </tr>\r\n  <tr v-if=\"isPropDisplayed('pullingCommand')\">\r\n    <td class=\"prop-label\">{{$t('pulling-command')}}</td>\r\n    <td class=\"prop-content\">\r\n      <code>{{software.pullingCommand}}</code>\r\n    </td>\r\n  </tr>\r\n  <tr v-if=\"source\">\r\n    <td class=\"prop-label\">{{$t('actions')}}</td>\r\n    <td class=\"prop-content\">\r\n      <software-source-buttons :source=\"source\" :software=\"software\" />\r\n    </td>\r\n  </tr>\r\n  </tbody>\r\n</table>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {ProjectCollection, TrustedSource} from 'cytomine-client';\r\n\r\nimport CytomineDescription from '@/components/description/CytomineDescription';\r\nimport CytomineProperties from '@/components/property/CytomineProperties';\r\nimport AttachedFiles from '@/components/attached-file/AttachedFiles';\r\nimport SoftwareStatus from '@/components/software/SoftwareStatus';\r\nimport BooleanItem from '@/components/utils/BooleanItem';\r\nimport SoftwareSource from '@/components/software/SoftwareSource';\r\nimport SoftwareSourceButtons from '@/components/software/SoftwareSourceButtons';\r\n\r\nexport default {\r\n  name: 'software-details',\r\n  props: {\r\n    software: Object,\r\n    excludedProperties: {type: Array, default: () => []}\r\n  },\r\n  components: {\r\n    SoftwareSourceButtons,\r\n    SoftwareSource,\r\n    BooleanItem,\r\n    SoftwareStatus,\r\n    CytomineDescription,\r\n    CytomineProperties,\r\n    AttachedFiles\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      projects: [],\r\n      source: null\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    canManageSoftware() {\r\n      return this.currentUser.adminByNow;\r\n    },\r\n    nbProjects() {\r\n      return this.projects.length;\r\n    }\r\n  },\r\n  watch: {\r\n    async excludedProperties() {\r\n      await this.fetchData();\r\n    }\r\n  },\r\n  methods: {\r\n    isPropDisplayed(prop) {\r\n      return !this.excludedProperties.includes(prop);\r\n    },\r\n    async fetchData() {\r\n      let promises = [];\r\n      if (this.isPropDisplayed('projects')) {\r\n        promises.push(this.fetchProjects());\r\n      }\r\n\r\n      if (this.isPropDisplayed('trustedSource')) {\r\n        promises.push(this.fetchSource());\r\n      }\r\n\r\n      this.loading = true;\r\n      this.error = false;\r\n\r\n      try {\r\n        await Promise.all(promises);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n      }\r\n\r\n      this.loading = false;\r\n    },\r\n    async fetchProjects() {\r\n      this.projects = (await ProjectCollection.fetchAll({filterKey: 'software', filterValue: this.software.id})).array;\r\n    },\r\n    async fetchSource() {\r\n      this.source = (this.software.softwareUserRepository) ? await TrustedSource.fetch(this.software.softwareUserRepository) : null;\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchData();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .table {\r\n    background: none;\r\n    position: relative;\r\n    height: 3em;\r\n  }\r\n\r\n  td.prop-label {\r\n    white-space: nowrap;\r\n    font-weight: 600;\r\n  }\r\n\r\n  td.prop-content {\r\n    width: 100%;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareDetails.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareDetails.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SoftwareDetails.vue?vue&type=template&id=14cd0d56&scoped=true\"\nimport script from \"./SoftwareDetails.vue?vue&type=script&lang=js\"\nexport * from \"./SoftwareDetails.vue?vue&type=script&lang=js\"\nimport style0 from \"./SoftwareDetails.vue?vue&type=style&index=0&id=14cd0d56&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14cd0d56\",\n  null\n  \n)\n\nexport default component.exports","export function isBetweenBounds(val, bounds) {\r\n  return val >= bounds[0] && val <= bounds[1];\r\n}\r\n\r\nexport function isBoundsFilterActive(bounds, max) {\r\n  return bounds[0] !== 0 || bounds[1] !== max;\r\n}\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"list-software-wrapper content-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n\r\n  <div class=\"box error\" v-if=\"error\">\r\n    <h2> {{ $t('error') }} </h2>\r\n    <p>{{ $t('unexpected-error-info-message') }}</p>\r\n  </div>\r\n  <div v-else-if=\"!loading\" class=\"panel\">\r\n    <p class=\"panel-heading\">\r\n      {{$t('algorithms')}}\r\n<!--      <button v-if=\"!currentUser.guestByNow\" class=\"button is-link\" @click=\"creationModal = true\">-->\r\n<!--        {{$t('new-algorithm')}}-->\r\n<!--      </button>-->\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <div class=\"search-block\">\r\n        <b-input\r\n          class=\"search-softwares\"\r\n          v-model=\"searchString\"\r\n          :placeholder=\"$t('search-placeholder')\"\r\n          type=\"search\" icon=\"search\"\r\n        />\r\n        <button class=\"button\" @click=\"toggleFilterDisplay()\">\r\n          <span class=\"icon\">\r\n            <i class=\"fas fa-filter\"></i>\r\n          </span>\r\n          <span>\r\n            {{filtersOpened ? $t('button-hide-filters') : $t('button-show-filters')}}\r\n          </span>\r\n          <span v-if=\"nbActiveFilters\" class=\"nb-active-filters\">\r\n            {{nbActiveFilters}}\r\n          </span>\r\n        </button>\r\n      </div>\r\n\r\n      <b-collapse :open=\"filtersOpened\">\r\n        <div class=\"filters\">\r\n          <div class=\"columns\">\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('nb-jobs')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-slider v-model=\"boundsJobs\" :max=\"maxNbJobs\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('nb-success-jobs')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-slider v-model=\"boundsSuccessJobs\" :max=\"maxNbSuccessJobs\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('only-last-release')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <b-switch v-model=\"onlyLastReleases\" class=\"switch\">\r\n                  <template v-if=\"onlyLastReleases\">{{$t('yes')}}</template>\r\n                  <template v-else>{{$t('no')}}</template>\r\n                </b-switch>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('only-UI-runnable')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <b-switch v-model=\"onlyExecutables\" class=\"switch\">\r\n                  <template v-if=\"onlyExecutables\">{{$t('yes')}}</template>\r\n                  <template v-else>{{$t('no')}}</template>\r\n                </b-switch>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </b-collapse>\r\n\r\n\r\n      <b-table\r\n        :data=\"filteredSoftwares\"\r\n        class=\"table-softwares\"\r\n        :paginated=\"true\"\r\n        :current-page.sync=\"currentPage\"\r\n        :per-page=\"perPage\"\r\n        pagination-size=\"is-small\"\r\n        detailed\r\n        detail-key=\"id\"\r\n        :opened-detailed.sync=\"openedDetails\"\r\n        :default-sort=\"sort.field\"\r\n        :default-sort-direction=\"sort.order\"\r\n        @sort=\"updateSort\"\r\n      >\r\n        <template #default=\"{row: software}\">\r\n          <b-table-column field=\"name\" :label=\"$t('name')\" sortable width=\"250\">\r\n            <router-link :to=\"`/algorithm/${software.id}`\">\r\n              {{ software.fullName }}\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"softwareStatus\" :label=\"$t('version')\" centered sortable width=\"150\" :custom-sort=\"sortBySoftwareStatus\">\r\n            <software-status :software=\"software\" />\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"executable\" :label=\"$t('ui-runnable')\" centered sortable width=\"150\">\r\n            <boolean-item :value=\"software.executable\" />\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"numberOfJob\" :label=\"$t('number-jobs')\" centered sortable width=\"150\">\r\n            {{ software.numberOfJob }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"numberOfSuccess\" :label=\"$t('number-success')\" centered sortable width=\"150\">\r\n            {{ software.numberOfSuccess }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"created\" :label=\"$t('creation-date')\" centered sortable width=\"180\">\r\n            {{ Number(software.created) | moment('ll') }}\r\n          </b-table-column>\r\n\r\n          <b-table-column label=\" \" centered width=\"150\">\r\n            <router-link :to=\"`/algorithm/${software.id}`\" class=\"button is-small is-link\">\r\n              {{$t('button-open')}}\r\n            </router-link>\r\n          </b-table-column>\r\n        </template>\r\n\r\n        <template #detail=\"{row: software}\">\r\n          <software-details\r\n            :software=\"software\"\r\n            :excluded-properties=\"excludedProperties\"\r\n            @update=\"updateSoftware\"\r\n            @delete=\"deleteSoftware(software)\"\r\n          />\r\n        </template>\r\n\r\n        <template #empty>\r\n          <div class=\"content has-text-grey has-text-centered\">\r\n            <p>{{$t('no-software')}}</p>\r\n          </div>\r\n        </template>\r\n\r\n        <template #bottom-left>\r\n          <b-select v-model=\"perPage\" size=\"is-small\">\r\n            <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n            <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n            <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n            <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n          </b-select>\r\n        </template>\r\n      </b-table>\r\n    </div>\r\n  </div>\r\n\r\n<!--  <add-software-modal :active.sync=\"creationModal\" />-->\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport CytomineSlider from '@/components/form/CytomineSlider';\r\nimport SoftwareStatus from '@/components/software/SoftwareStatus';\r\nimport BooleanItem from '@/components/utils/BooleanItem';\r\nimport SoftwareDetails from '@/components/software/SoftwareDetails';\r\n\r\nimport {isBetweenBounds} from '@/utils/bounds';\r\nimport {get, sync, syncFilter, syncBoundsFilter} from '@/utils/store-helpers';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\n\r\nimport {SoftwareCollection} from 'cytomine-client';\r\n\r\n\r\nexport default {\r\n  name: 'list-software',\r\n  components: {\r\n    BooleanItem,\r\n    SoftwareStatus,\r\n    CytomineSlider,\r\n    SoftwareDetails\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n      creationModal: false,\r\n\r\n      softwares: [],\r\n\r\n      excludedProperties: [\r\n        'name',\r\n        'created',\r\n        'executable',\r\n        'status',\r\n        'pullingCommand',\r\n        'executeCommand'\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n\r\n    searchString: sync('listSoftware/searchString'),\r\n    filtersOpened: sync('listSoftware/filtersOpened'),\r\n\r\n    maxNbJobs() {\r\n      return Math.max(10, ...this.softwares.map(software => software.numberOfJob));\r\n    },\r\n\r\n    maxNbSuccessJobs() {\r\n      return Math.max(10, ...this.softwares.map(software => software.numberOfSuccess));\r\n    },\r\n\r\n    boundsJobs: syncBoundsFilter('listSoftware', 'boundsJobs', 'maxNbJobs'),\r\n    boundsSuccessJobs: syncBoundsFilter('listSoftware', 'boundsSuccessJobs', 'maxNbSuccessJobs'),\r\n    onlyLastReleases: syncFilter('listSoftware', 'onlyLastReleases'),\r\n    onlyExecutables: syncFilter('listSoftware', 'onlyExecutables'),\r\n\r\n    nbActiveFilters() {\r\n      return this.$store.getters['listSoftware/nbActiveFilters'];\r\n    },\r\n\r\n    regexp() {\r\n      return getWildcardRegexp(this.searchString);\r\n    },\r\n    filteredSoftwares() {\r\n      let filtered = this.softwares;\r\n\r\n      if(this.searchString) {\r\n        filtered = filtered.filter(software => this.regexp.test(software.name));\r\n      }\r\n\r\n      filtered = filtered.filter(software => {\r\n        return isBetweenBounds(software.numberOfJob, this.boundsJobs) &&\r\n          isBetweenBounds(software.numberOfSuccess, this.boundsSuccessJobs) &&\r\n          ((this.onlyLastReleases && software.softwareVersion && !software.deprecated) || !this.onlyLastReleases) &&\r\n          ((this.onlyExecutables && software.executable) || !this.onlyExecutables);\r\n      });\r\n\r\n      return filtered;\r\n    },\r\n\r\n    currentPage: sync('listSoftware/currentPage'),\r\n    perPage: sync('listSoftware/perPage'),\r\n    sort: sync('listSoftware/sort'),\r\n    openedDetails: { // HACK cannot use sync because buefy modifies the property => vuex warning because modif outside store\r\n      get() {\r\n        return this.$store.state.listSoftware.openedDetails.slice();\r\n      },\r\n      set(value) {\r\n        this.$store.commit('listSoftware/setOpenedDetails', value);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    toggleFilterDisplay() {\r\n      this.filtersOpened = !this.filtersOpened;\r\n    },\r\n    updateSort(field, order) {\r\n      this.sort = {field, order};\r\n    },\r\n    sortBySoftwareStatus(a, b, asc) {\r\n      return ((asc) ? 1 : -1) * (this.getSoftwareStatusValue(a) - this.getSoftwareStatusValue(b));\r\n    },\r\n    getSoftwareStatusValue(software) {\r\n      if (!software.softwareVersion) return 0;\r\n      if (software.deprecated) return 1;\r\n      return 2;\r\n    },\r\n    updateSoftware(updatedSoftware) {\r\n      let software = this.softwares.find(software => software.id === updatedSoftware.id);\r\n      if(software) {\r\n        software.populate({...updatedSoftware});\r\n      }\r\n    },\r\n    async deleteSoftware(softwareToDelete) {\r\n      try {\r\n        await softwareToDelete.delete();\r\n        this.softwares = this.softwares.filter(software => software.id !== softwareToDelete.id);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-algorithm-deletion', {softwareName: softwareToDelete.name})\r\n        });\r\n      }\r\n      catch(error) {\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-algorithm-deletion', {softwareName: softwareToDelete.name})\r\n        });\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      let softwares = await SoftwareCollection.fetchAll();\r\n\r\n      this.softwares = softwares.array;\r\n\r\n      // if a software was deleted, the currentPage value might not be valid => reinitialize it\r\n      if((this.currentPage - 1)*this.perPage >= this.filteredSoftwares.length) {\r\n        this.currentPage = 1;\r\n      }\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.panel-block {\r\n  padding-top: 0.8em;\r\n}\r\n\r\n.panel-heading {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.search-block {\r\n  display: flex;\r\n}\r\n\r\n.switch {\r\n  margin-left: 1em;\r\n}\r\n</style>\r\n\r\n<style>\r\n.search-softwares {\r\n  max-width: 25em;\r\n  margin-right: 1em;\r\n}\r\n\r\n.table-softwares {\r\n  margin-top: 1rem;\r\n}\r\n\r\n.list-software-wrapper td, .list-software-wrapper th {\r\n  vertical-align: middle !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListSoftware.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListSoftware.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ListSoftware.vue?vue&type=template&id=3fd487a5&scoped=true\"\nimport script from \"./ListSoftware.vue?vue&type=script&lang=js\"\nexport * from \"./ListSoftware.vue?vue&type=script&lang=js\"\nimport style0 from \"./ListSoftware.vue?vue&type=style&index=0&id=3fd487a5&prod&scoped=true&lang=css\"\nimport style1 from \"./ListSoftware.vue?vue&type=style&index=1&id=3fd487a5&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3fd487a5\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.configUI['project-images-tab'])?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):(_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('unexpected-error-info-message')))])]):_c('div',{staticClass:\"content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('images'))+\" \"),(_vm.canAddImage)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){_vm.addImageModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add-image'))+\" \")]):_vm._e()]),_c('div',{staticClass:\"panel-block\"},[_c('div',{staticClass:\"search-block\"},[_c('b-input',{staticClass:\"search-images\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.toggleFilterDisplay()}}},[_vm._m(0),_c('span',[_vm._v(\" \"+_vm._s(_vm.filtersOpened ? _vm.$t('button-hide-filters') : _vm.$t('button-show-filters'))+\" \")]),(_vm.nbActiveFilters)?_c('span',{staticClass:\"nb-active-filters\"},[_vm._v(\" \"+_vm._s(_vm.nbActiveFilters)+\" \")]):_vm._e()])],1),_c('b-collapse',{attrs:{\"open\":_vm.filtersOpened}},[_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter is-one-quarter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('format'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableFormats,\"multiple\":\"\"},model:{value:(_vm.selectedFormats),callback:function ($$v) {_vm.selectedFormats=$$v},expression:\"selectedFormats\"}})],1)]),_c('div',{staticClass:\"column filter is-one-quarter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('vendor'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableVendors,\"multiple\":true,\"label\":\"label\",\"track-by\":\"value\"},model:{value:(_vm.selectedVendors),callback:function ($$v) {_vm.selectedVendors=$$v},expression:\"selectedVendors\"}})],1)]),_c('div',{staticClass:\"column filter is-one-quarter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('tags'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableTags,\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"allPlaceholder\":_vm.$t('all')},model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})],1)])]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('magnification'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableMagnifications,\"multiple\":true,\"searchable\":false,\"label\":\"label\",\"track-by\":\"value\"},model:{value:(_vm.selectedMagnifications),callback:function ($$v) {_vm.selectedMagnifications=$$v},expression:\"selectedMagnifications\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('resolution'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableResolutions,\"multiple\":true,\"searchable\":false,\"label\":\"label\",\"track-by\":\"value\"},model:{value:(_vm.selectedResolutions),callback:function ($$v) {_vm.selectedResolutions=$$v},expression:\"selectedResolutions\"}})],1)]),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('width'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxWidth},model:{value:(_vm.boundsWidth),callback:function ($$v) {_vm.boundsWidth=$$v},expression:\"boundsWidth\"}})],1)]),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('height'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxHeight},model:{value:(_vm.boundsHeight),callback:function ($$v) {_vm.boundsHeight=$$v},expression:\"boundsHeight\"}})],1)])]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('user-annotations'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbUserAnnotations},model:{value:(_vm.boundsUserAnnotations),callback:function ($$v) {_vm.boundsUserAnnotations=$$v},expression:\"boundsUserAnnotations\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('analysis-annotations'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbJobAnnotations},model:{value:(_vm.boundsJobAnnotations),callback:function ($$v) {_vm.boundsJobAnnotations=$$v},expression:\"boundsJobAnnotations\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('reviewed-annotations'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbReviewedAnnotations},model:{value:(_vm.boundsReviewedAnnotations),callback:function ($$v) {_vm.boundsReviewedAnnotations=$$v},expression:\"boundsReviewedAnnotations\"}})],1)]),_c('div',{staticClass:\"column filter\"})])])]),_c('cytomine-table',{attrs:{\"collection\":_vm.imageCollection,\"is-empty\":_vm.nbEmptyFilters > 0,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"openedDetailed\":_vm.openedDetails,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function({row: image}){return [_c('b-table-column',{attrs:{\"label\":_vm.$t('overview'),\"width\":\"100\",\"visible\":_vm.isPropDisplayed('overview')}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/image/${image.id}`}},[_c('image-thumbnail',{key:`${image.id}-thumb-128`,attrs:{\"image\":image,\"size\":128,\"extra-parameters\":{Authorization: 'Bearer ' + _vm.shortTermToken }}})],1)],1),_c('b-table-column',{attrs:{\"field\":_vm.blindMode ? 'blindedName' : 'instanceFilename',\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"400\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/image/${image.id}`}},[_c('image-name',{attrs:{\"image\":image,\"showBothNames\":\"\"}})],1)],1),_c('b-table-column',{attrs:{\"field\":\"magnification\",\"label\":_vm.$t('magnification'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_vm._v(\" \"+_vm._s(image.magnification || _vm.$t('unknown'))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"numberOfAnnotations\",\"label\":_vm.$t('user-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/annotations?image=${image.id}&type=user`}},[_vm._v(\" \"+_vm._s(image.numberOfAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"numberOfJobAnnotations\",\"label\":_vm.$t('analysis-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/annotations?image=${image.id}&type=algo`}},[_vm._v(\" \"+_vm._s(image.numberOfJobAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"numberOfReviewedAnnotations\",\"label\":_vm.$t('reviewed-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/annotations?image=${image.id}&type=reviewed`}},[_vm._v(\" \"+_vm._s(image.numberOfReviewedAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\",\"width\":\"150\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":`/project/${image.project}/image/${image.id}`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-open'))+\" \")])],1)]}},{key:\"detail\",fn:function({row: image}){return [_c('image-details',{attrs:{\"image\":image,\"excludedProperties\":_vm.excludedProperties,\"editable\":\"\"},on:{\"delete\":_vm.refreshData,\"setResolution\":_vm.refreshData,\"setMagnification\":_vm.refreshData}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-image')))])])]},proxy:true}],null,false,274706155)})],1),_c('add-image-modal',{attrs:{\"active\":_vm.addImageModal},on:{\"update:active\":function($event){_vm.addImageModal=$event},\"addImage\":_vm.refreshData}})],1):_vm._e()],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-filter\"})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"image-details-wrapper\"},[_c('table',{staticClass:\"table\"},[_c('tbody',[(_vm.isPropDisplayed('overview'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('overview')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('router-link',{attrs:{\"to\":`/project/${_vm.image.project}/image/${_vm.image.id}`}},[_c('image-thumbnail',{key:`${_vm.image.id}-thumb-256`,attrs:{\"image\":_vm.image,\"size\":256,\"extra-parameters\":{Authorization: 'Bearer ' + _vm.shortTermToken }}})],1)],1)]):_vm._e(),(_vm.isPropDisplayed('id') && _vm.currentUser.isDeveloper)?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('id')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_vm._v(_vm._s(_vm.image.id))])]):_vm._e(),(_vm.isPropDisplayed('status'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('status')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('image-status',{attrs:{\"image\":_vm.image}})],1)]):_vm._e(),(_vm.isPropDisplayed('numberOfAnnotations'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('user-annotations')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('router-link',{attrs:{\"to\":`/project/${_vm.image.project}/annotations?image=${_vm.image.id}&type=user`}},[_vm._v(\" \"+_vm._s(_vm.image.numberOfAnnotations)+\" \")])],1)]):_vm._e(),(_vm.isPropDisplayed('numberOfJobAnnotations'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('analysis-annotations')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('router-link',{attrs:{\"to\":`/project/${_vm.image.project}/annotations?image=${_vm.image.id}&type=algo`}},[_vm._v(\" \"+_vm._s(_vm.image.numberOfJobAnnotations)+\" \")])],1)]):_vm._e(),(_vm.isPropDisplayed('numberOfReviewedAnnotations'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('reviewed-annotations')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('router-link',{attrs:{\"to\":`/project/${_vm.image.project}/annotations?image=${_vm.image.id}&type=reviewed`}},[_vm._v(\" \"+_vm._s(_vm.image.numberOfReviewedAnnotations)+\" \")])],1)]):_vm._e(),(_vm.isPropDisplayed('description'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('description')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('cytomine-description',{attrs:{\"object\":_vm.image,\"canEdit\":_vm.canEdit}})],1)]):_vm._e(),(_vm.isPropDisplayed('tags'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('tags')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('cytomine-tags',{attrs:{\"object\":_vm.image,\"canEdit\":_vm.canEdit}})],1)]):_vm._e(),(_vm.isPropDisplayed('properties'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('properties')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('cytomine-properties',{attrs:{\"object\":_vm.image,\"error\":_vm.loadPropertiesError,\"canEdit\":_vm.canEdit,\"properties\":_vm.metadataFilteredProperties},on:{\"deleted\":_vm.removeProp,\"added\":_vm.addProp}})],1)]):_vm._e(),(_vm.isPropDisplayed('attached-files'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('attached-files')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('attached-files',{attrs:{\"object\":_vm.image,\"canEdit\":_vm.canEdit}})],1)]):_vm._e(),(_vm.isPropDisplayed('slide-preview'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('slide-preview')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[(_vm.image.macroURL && !_vm.isBlindModeAndContributor)?_c('a',{on:{\"click\":function($event){_vm.isMetadataModalActive = true}}},[_c('image-thumbnail',{key:`${_vm.image.id}-macro-256`,attrs:{\"image\":_vm.image,\"macro\":true,\"size\":256,\"extra-parameters\":{Authorization: 'Bearer ' + _vm.shortTermToken }}})],1):_c('em',[_vm._v(\" \"+_vm._s(_vm.$t('slide-preview-not-available'))+\" \")])])]):_vm._e(),(_vm.isPropDisplayed('original-filename') && (!_vm.blindMode || _vm.canManageProject))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('originalFilename')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_vm._v(\" \"+_vm._s(_vm.image.originalFilename)+\" \")])]):_vm._e(),(_vm.isPropDisplayed('format'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('format')))]),_c('td',{staticClass:\"prop-content format\",attrs:{\"colspan\":\"3\"}},[_vm._v(\" \"+_vm._s(_vm.image.contentType)+\" \")])]):_vm._e(),(_vm.isPropDisplayed('vendor'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('vendor')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[(_vm.vendor)?_c('img',{staticClass:\"vendor-img\",attrs:{\"src\":_vm.vendor.imgPath,\"alt\":_vm.vendor.name,\"title\":_vm.vendor.name}}):[_vm._v(_vm._s(_vm.$t('unknown')))]],2)]):_vm._e(),(_vm.isPropDisplayed('width') || _vm.isPropDisplayed('physicalSizeX'))?_c('tr',[(_vm.isPropDisplayed('width'))?[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t(\"image-width\")))]),_c('td',{staticClass:\"prop-content-half\",attrs:{\"colspan\":_vm.isPropDisplayed('physicalSizeX') ? 1 : 3}},[_vm._v(\" \"+_vm._s(_vm.image.width)+\" \"+_vm._s(_vm.$t(\"pixels\"))+\" \"),(_vm.image.physicalSizeX)?[_vm._v(\"(\"+_vm._s((_vm.image.width * _vm.image.physicalSizeX).toFixed(3))+\" \"+_vm._s(_vm.$t(\"um\"))+\")\")]:_vm._e()],2)]:_vm._e(),(_vm.isPropDisplayed('physicalSizeX'))?[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t(\"x-y-resolution\")))]),_c('td',{staticClass:\"prop-content-half\",attrs:{\"colspan\":_vm.isPropDisplayed('width') ? 1 : 3}},[(_vm.image.physicalSizeX)?[_vm._v(_vm._s(_vm.image.physicalSizeX.toFixed(3))+\" \"+_vm._s(_vm.$t(\"um-per-pixel\")))]:[_vm._v(_vm._s(_vm.$t(\"unknown\")))]],2)]:_vm._e()],2):_vm._e(),(_vm.isPropDisplayed('height') || _vm.isPropDisplayed('physicalSizeY'))?_c('tr',[(_vm.isPropDisplayed('height'))?[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t(\"image-height\")))]),_c('td',{staticClass:\"prop-content-half\",attrs:{\"colspan\":_vm.isPropDisplayed('physicalSizeY') ? 1 : 3}},[_vm._v(\" \"+_vm._s(_vm.image.height)+\" \"+_vm._s(_vm.$t(\"pixels\"))+\" \"),(_vm.image.physicalSizeY)?[_vm._v(\"(\"+_vm._s((_vm.image.height * _vm.image.physicalSizeY).toFixed(3))+\" \"+_vm._s(_vm.$t(\"um\"))+\")\")]:_vm._e()],2)]:_vm._e(),(_vm.isPropDisplayed('physicalSizeY'))?[_c('td',{staticClass:\"prop-label\"}),_c('td',{staticClass:\"prop-content-half\",attrs:{\"colspan\":_vm.isPropDisplayed('height') ? 1 : 3}})]:_vm._e()],2):_vm._e(),(_vm.isPropDisplayed('depth') || _vm.isPropDisplayed('physicalSizeZ'))?_c('tr',[(_vm.isPropDisplayed('depth'))?[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t(\"image-depth\")))]),_c('td',{staticClass:\"prop-content-half\",attrs:{\"colspan\":_vm.isPropDisplayed('physicalSizeZ') ? 1 : 3}},[_vm._v(\" \"+_vm._s(_vm.$tc(\"count-slices\", _vm.image.depth, {count: _vm.image.depth}))+\" \"),(_vm.image.physicalSizeZ)?[_vm._v(\"(\"+_vm._s((_vm.image.depth * _vm.image.physicalSizeZ).toFixed(3))+\" \"+_vm._s(_vm.$t(\"um\"))+\")\")]:_vm._e()],2)]:_vm._e(),(_vm.isPropDisplayed('physicalSizeZ'))?[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t(\"z-resolution\")))]),_c('td',{staticClass:\"prop-content-half\",attrs:{\"colspan\":_vm.isPropDisplayed('depth') ? 1 : 3}},[(_vm.image.physicalSizeZ)?[_vm._v(_vm._s(_vm.image.physicalSizeZ.toFixed(3))+\" \"+_vm._s(_vm.$t(\"um-per-slice\")))]:(_vm.image.depth < 2)?[_vm._v(\"-\")]:[_vm._v(_vm._s(_vm.$t(\"unknown\")))]],2)]:_vm._e()],2):_vm._e(),(_vm.isPropDisplayed('time') || _vm.isPropDisplayed('fps'))?_c('tr',[(_vm.isPropDisplayed('time'))?[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t(\"image-time\")))]),_c('td',{staticClass:\"prop-content-half\",attrs:{\"colspan\":_vm.isPropDisplayed('fps') ? 1 : 3}},[_vm._v(\" \"+_vm._s(_vm.$tc(\"count-frames\", _vm.image.duration, {count: _vm.image.duration}))+\" \"),(_vm.image.fps && _vm.image.duration > 0)?[_vm._v(\" (\"+_vm._s(_vm.formatMinutesSeconds(_vm.image.duration / _vm.image.fps))+\") \")]:_vm._e()],2)]:_vm._e(),(_vm.isPropDisplayed('fps'))?[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t(\"frame-rate\")))]),_c('td',{staticClass:\"prop-content-half\",attrs:{\"colspan\":_vm.isPropDisplayed('time') ? 1 : 3}},[(_vm.image.fps)?[_vm._v(_vm._s(_vm.image.fps.toFixed(3))+\" \"+_vm._s(_vm.$t(\"frame-per-second\")))]:(_vm.image.time < 2)?[_vm._v(\"-\")]:[_vm._v(_vm._s(_vm.$t(\"unknown\")))]],2)]:_vm._e()],2):_vm._e(),(_vm.isPropDisplayed('channels'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t(\"image-channels\")))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_vm._v(\" \"+_vm._s(_vm.$tc(\"count-bands\", _vm.image.apparentChannels, {count: _vm.image.apparentChannels}))+\" (\"+_vm._s(_vm.image.channels)+\" x \"+_vm._s(_vm.image.samplePerPixel)+\") \")])]):_vm._e(),(_vm.isPropDisplayed('size'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('image-size')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_vm._v(\" \"+_vm._s(`${_vm.image.width} x ${_vm.image.height} ${_vm.$t('pixels')}`)+\" \")])]):_vm._e(),(_vm.isPropDisplayed('magnification'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('magnification')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[(_vm.image.magnification)?[_vm._v(_vm._s(_vm.image.magnification))]:[_vm._v(_vm._s(_vm.$t('unknown')))]],2)]):_vm._e(),_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('actions')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('div',{staticClass:\"buttons are-small\"},[(_vm.isPropDisplayed('metadata') && !_vm.isBlindModeAndContributor)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.isMetadataModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-metadata'))+\" \")]):_vm._e(),(_vm.canEdit)?[(!_vm.image.reviewed && !_vm.image.inReview)?_c('router-link',{staticClass:\"button\",attrs:{\"to\":`/project/${_vm.image.project}/image/${_vm.image.id}?action=review`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-start-review'))+\" \")]):(_vm.image.reviewUser === _vm.currentUser.id)?[(_vm.image.reviewed)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.cancelReview()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-unvalidate-review'))+\" \")]):[_c('router-link',{staticClass:\"button\",attrs:{\"to\":`/project/${_vm.image.project}/image/${_vm.image.id}?action=review`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-continue-review'))+\" \")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.cancelReview()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel-review'))+\" \")])]]:_vm._e(),(!_vm.blindMode || _vm.canManageProject)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.isRenameModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-rename'))+\" \")]):_vm._e(),_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.isCalibrationModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-set-calibration'))+\" \")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.isMagnificationModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-set-magnification'))+\" \")])]:_vm._e(),(_vm.canDownloadImages || _vm.canManageProject)?_c('a',{staticClass:\"button\",on:{\"click\":function($event){return _vm.download(_vm.image)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-download'))+\" \")]):_vm._e(),(_vm.canEdit)?[_c('button',{staticClass:\"button is-danger\",on:{\"click\":function($event){return _vm.confirmDeletion()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")])]:_vm._e()],2)])])])]),_c('rename-modal',{attrs:{\"title\":_vm.$t('rename-image'),\"currentName\":_vm.image.instanceFilename,\"active\":_vm.isRenameModalActive},on:{\"update:active\":function($event){_vm.isRenameModalActive=$event},\"rename\":_vm.rename}}),_c('magnification-modal',{attrs:{\"image\":_vm.image,\"active\":_vm.isMagnificationModalActive},on:{\"update:active\":function($event){_vm.isMagnificationModalActive=$event},\"setMagnification\":(event) => _vm.$emit('setMagnification', event)}}),_c('calibration-modal',{attrs:{\"image\":_vm.image,\"active\":_vm.isCalibrationModalActive},on:{\"update:active\":function($event){_vm.isCalibrationModalActive=$event},\"setResolution\":(event) => _vm.$emit('setResolution', event)}}),_c('image-metadata-modal',{attrs:{\"active\":_vm.isMetadataModalActive,\"image\":_vm.image,\"properties\":_vm.onlyMetadataProperties,\"error\":_vm.loadPropertiesError},on:{\"update:active\":function($event){_vm.isMetadataModalActive=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.setMagnification()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('set-magnification')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-message',{attrs:{\"type\":\"is-warning\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('warning-change-applies-in-project-only'))+\" \")]),_c('b-field',{attrs:{\"label\":_vm.$t('magnification'),\"type\":_vm.fieldType,\"message\":_vm.errors.first('magnification')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('decimal|positive'),expression:\"'decimal|positive'\"}],attrs:{\"name\":\"magnification\"},model:{value:(_vm.newMagnification),callback:function ($$v) {_vm.newMagnification=$$v},expression:\"newMagnification\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<form @submit.prevent=\"setMagnification()\">\r\n  <cytomine-modal :active=\"active\" :title=\"$t('set-magnification')\" @close=\"$emit('update:active', false)\">\r\n    <b-message type=\"is-warning\" has-icon icon-size=\"is-small\">\r\n      {{ $t('warning-change-applies-in-project-only') }}\r\n    </b-message>\r\n\r\n    <b-field :label=\"$t('magnification')\" :type=\"fieldType\" :message=\"errors.first('magnification')\">\r\n      <b-input v-model=\"newMagnification\" name=\"magnification\" v-validate=\"'decimal|positive'\" />\r\n    </b-field>\r\n\r\n    <template #footer>\r\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n        {{$t('button-save')}}\r\n      </button>\r\n    </template>\r\n  </cytomine-modal>\r\n</form>\r\n</template>\r\n\r\n<script>\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\n\r\nexport default {\r\n  name: 'magnification-modal',\r\n  props: {\r\n    active: {type: Boolean},\r\n    image: {type: Object}\r\n  },\r\n  components: {CytomineModal},\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      newMagnification: ''\r\n    };\r\n  },\r\n  computed: {\r\n    blindMode() {\r\n      return this.$store.state.currentProject.project.blindMode;\r\n    },\r\n    fieldType() {\r\n      return {'is-danger': this.errors.has('magnification')};\r\n    }\r\n  },\r\n  watch: {\r\n    active(val) {\r\n      if(val) {\r\n        this.newMagnification = this.image.magnification;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async setMagnification() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      let imageName = this.blindMode ? this.image.blindedName : this.image.instanceFilename;\r\n      try {\r\n        let updateImage = this.image.clone();\r\n        updateImage.magnification = this.newMagnification;\r\n        await updateImage.save();\r\n\r\n        this.$emit('setMagnification', updateImage.magnification);\r\n\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-magnification-update', {imageName})\r\n        });\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-magnification-update', {imageName})\r\n        });\r\n      }\r\n      this.$emit('update:active', false);\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MagnificationModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MagnificationModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MagnificationModal.vue?vue&type=template&id=2771b0ad\"\nimport script from \"./MagnificationModal.vue?vue&type=script&lang=js\"\nexport * from \"./MagnificationModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.setResolution()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('calibrate-image')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-message',{attrs:{\"type\":\"is-warning\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('warning-change-applies-in-project-only'))+\" \")]),_c('b-field',{attrs:{\"label\":_vm.$t('resolution'),\"type\":{'is-danger': this.errors.has('resolution')},\"message\":_vm.errors.first('resolution')}},[_c('b-field',{attrs:{\"type\":{'is-danger': this.errors.has('resolution')}}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|decimal|positive'),expression:\"'required|decimal|positive'\"}],attrs:{\"name\":\"resolution\",\"expanded\":\"\"},model:{value:(_vm.calibrationFieldX),callback:function ($$v) {_vm.calibrationFieldX=$$v},expression:\"calibrationFieldX\"}}),_c('b-select',{model:{value:(_vm.calibrationFactorX),callback:function ($$v) {_vm.calibrationFactorX=$$v},expression:\"calibrationFactorX\"}},[_c('option',{domProps:{\"value\":0.001}},[_vm._v(\" \"+_vm._s(_vm.$t('nm-per-pixel')))]),_c('option',{domProps:{\"value\":1}},[_vm._v(_vm._s(_vm.$t('um-per-pixel')))]),_c('option',{domProps:{\"value\":1000}},[_vm._v(_vm._s(_vm.$t('mm-per-pixel')))])])],1)],1),(this.image.depth > 1)?_c('b-field',{attrs:{\"label\":_vm.$t('z-resolution'),\"type\":{'is-danger': this.errors.has('resolution-z')},\"message\":_vm.errors.first('resolution-z')}},[_c('b-field',{attrs:{\"type\":{'is-danger': this.errors.has('resolution-z')}}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|decimal|positive'),expression:\"'required|decimal|positive'\"}],attrs:{\"name\":\"resolution-z\",\"expanded\":\"\"},model:{value:(_vm.calibrationFieldZ),callback:function ($$v) {_vm.calibrationFieldZ=$$v},expression:\"calibrationFieldZ\"}}),_c('b-select',{model:{value:(_vm.calibrationFactorZ),callback:function ($$v) {_vm.calibrationFactorZ=$$v},expression:\"calibrationFactorZ\"}},[_c('option',{domProps:{\"value\":0.001}},[_vm._v(\" \"+_vm._s(_vm.$t('nm-per-slice')))]),_c('option',{domProps:{\"value\":1}},[_vm._v(_vm._s(_vm.$t('um-per-slice')))]),_c('option',{domProps:{\"value\":1000}},[_vm._v(_vm._s(_vm.$t('mm-per-slice')))])])],1)],1):_vm._e(),(this.image.duration > 1)?_c('b-field',{attrs:{\"label\":_vm.$t('frame-rate'),\"type\":{'is-danger': this.errors.has('resolution-t')},\"message\":_vm.errors.first('resolution-t')}},[_c('b-field',{attrs:{\"type\":{'is-danger': this.errors.has('resolution-t')}}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|decimal|positive'),expression:\"'required|decimal|positive'\"}],attrs:{\"name\":\"resolution-t\",\"expanded\":\"\"},model:{value:(_vm.calibrationFieldT),callback:function ($$v) {_vm.calibrationFieldT=$$v},expression:\"calibrationFieldT\"}}),_c('p',{staticClass:\"control\"},[_c('span',{staticClass:\"button is-static\"},[_vm._v(_vm._s(_vm.$t('frame-per-second')))])])],1)],1):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<form @submit.prevent=\"setResolution()\">\r\n  <cytomine-modal :active=\"active\" :title=\"$t('calibrate-image')\" @close=\"$emit('update:active', false)\">\r\n    <b-message type=\"is-warning\" has-icon icon-size=\"is-small\">\r\n      {{ $t('warning-change-applies-in-project-only') }}\r\n    </b-message>\r\n\r\n    <b-field :label=\"$t('resolution')\" :type=\"{'is-danger': this.errors.has('resolution')}\" :message=\"errors.first('resolution')\">\r\n      <b-field :type=\"{'is-danger': this.errors.has('resolution')}\">\r\n        <b-input v-model=\"calibrationFieldX\" name=\"resolution\" v-validate=\"'required|decimal|positive'\" expanded />\r\n        <b-select v-model=\"calibrationFactorX\">\r\n          <option :value=\"0.001\"> {{ $t('nm-per-pixel') }}</option>\r\n          <option :value=\"1\">{{ $t('um-per-pixel') }}</option>\r\n          <option :value=\"1000\">{{ $t('mm-per-pixel') }}</option>\r\n        </b-select>\r\n      </b-field>\r\n    </b-field>\r\n\r\n    <b-field v-if=\"this.image.depth > 1\" :label=\"$t('z-resolution')\"\r\n             :type=\"{'is-danger': this.errors.has('resolution-z')}\" :message=\"errors.first('resolution-z')\">\r\n      <b-field :type=\"{'is-danger': this.errors.has('resolution-z')}\">\r\n        <b-input v-model=\"calibrationFieldZ\" name=\"resolution-z\" v-validate=\"'required|decimal|positive'\" expanded />\r\n        <b-select v-model=\"calibrationFactorZ\">\r\n          <option :value=\"0.001\"> {{ $t('nm-per-slice') }}</option>\r\n          <option :value=\"1\">{{ $t('um-per-slice') }}</option>\r\n          <option :value=\"1000\">{{ $t('mm-per-slice') }}</option>\r\n        </b-select>\r\n      </b-field>\r\n    </b-field>\r\n\r\n    <b-field v-if=\"this.image.duration > 1\" :label=\"$t('frame-rate')\"\r\n             :type=\"{'is-danger': this.errors.has('resolution-t')}\" :message=\"errors.first('resolution-t')\">\r\n      <b-field :type=\"{'is-danger': this.errors.has('resolution-t')}\">\r\n        <b-input v-model=\"calibrationFieldT\" name=\"resolution-t\" v-validate=\"'required|decimal|positive'\" expanded />\r\n        <p class=\"control\">\r\n          <span class=\"button is-static\">{{$t('frame-per-second')}}</span>\r\n        </p>\r\n      </b-field>\r\n    </b-field>\r\n\r\n    <template #footer>\r\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n        {{$t('button-save')}}\r\n      </button>\r\n    </template>\r\n  </cytomine-modal>\r\n</form>\r\n</template>\r\n\r\n<script>\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\n\r\nexport default {\r\n  name: 'calibration-modal',\r\n  props: {\r\n    active: {type: Boolean},\r\n    image: {type: Object}\r\n  },\r\n  components: {CytomineModal},\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      calibrationFieldX: '',\r\n      calibrationFactorX: 1,\r\n      calibrationFieldZ: '',\r\n      calibrationFactorZ: 1,\r\n      calibrationFieldT: ''\r\n    };\r\n  },\r\n  computed: {\r\n    blindMode() {\r\n      return this.$store.state.currentProject.project.blindMode;\r\n    },\r\n  },\r\n  watch: {\r\n    active(val) {\r\n      if(val) {\r\n        this.calibrationFieldX = this.image.physicalSizeX;\r\n        this.calibrationFieldZ = this.image.physicalSizeZ;\r\n        this.calibrationFieldT = this.image.fps;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async setResolution() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      let imageName = this.blindMode ? this.image.blindedName : this.image.instanceFilename;\r\n      try {\r\n        let updateImage = this.image.clone();\r\n        updateImage.physicalSizeX = Number(this.calibrationFieldX)*this.calibrationFactorX;\r\n        updateImage.physicalSizeY = Number(this.calibrationFieldX)*this.calibrationFactorX;\r\n        if (this.image.depth > 1) {\r\n          updateImage.physicalSizeZ = Number(this.calibrationFieldZ)*this.calibrationFactorZ;\r\n        }\r\n        if (this.image.duration > 1) {\r\n          updateImage.fps = Number(this.calibrationFieldT);\r\n        }\r\n        await updateImage.save();\r\n\r\n        this.$emit('setResolution', {\r\n          x: updateImage.physicalSizeX,\r\n          y: updateImage.physicalSizeY,\r\n          z: updateImage.physicalSizeZ,\r\n          t: updateImage.fps\r\n        });\r\n\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-image-calibration', {imageName})\r\n        });\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-image-calibration', {imageName})\r\n        });\r\n      }\r\n      this.$emit('update:active', false);\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalibrationModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalibrationModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CalibrationModal.vue?vue&type=template&id=5b66b512\"\nimport script from \"./CalibrationModal.vue?vue&type=script&lang=js\"\nexport * from \"./CalibrationModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('image-metadata')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-close'))+\" \")])]},proxy:true}])},[(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[(_vm.image && _vm.image.macroURL)?[_c('p',{staticClass:\"image-preview\",style:(_vm.styleImagePreview)},[_c('img',{ref:\"image\",class:'rotate-' + _vm.rotationAngle,attrs:{\"src\":_vm.appendShortTermToken(_vm.image.associatedImageURL('macro', 256, 'jpg'), _vm.shortTermToken)}})]),_c('div',{staticClass:\"buttons is-centered are-small\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.rotate(-90)}}},[_c('i',{staticClass:\"fas fa-undo\"})]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.rotate(90)}}},[_c('i',{staticClass:\"fas fa-undo mirror\"})])])]:_vm._e(),_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\",\"size\":\"is-small\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('ul',_vm._l((_vm.filteredProps),function(prop){return _c('li',{key:prop.id},[_c('strong',[_vm._v(_vm._s(prop.key))]),_vm._v(\": \"+_vm._s(prop.value)+\" \")])}),0)]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<cytomine-modal :active=\"active\" :title=\"$t('image-metadata')\" @close=\"$emit('update:active', false)\">\r\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n    <h2> {{ $t('error') }} </h2>\r\n    <p> {{ $t('unexpected-error-info-message') }} </p>\r\n  </b-message>\r\n  <template v-else>\r\n    <template v-if=\"image && image.macroURL\">\r\n      <p :style=\"styleImagePreview\" class=\"image-preview\">\r\n        <img :class=\"'rotate-' + rotationAngle\" :src=\"appendShortTermToken(image.associatedImageURL('macro', 256, 'jpg'), shortTermToken)\" ref=\"image\">\r\n      </p>\r\n      <div class=\"buttons is-centered are-small\">\r\n        <button class=\"button\" @click=\"rotate(-90)\"><i class=\"fas fa-undo\"></i></button>\r\n        <button class=\"button\" @click=\"rotate(90)\"><i class=\"fas fa-undo mirror\"></i></button>\r\n      </div>\r\n    </template>\r\n\r\n    <b-input\r\n      v-model=\"searchString\"\r\n      :placeholder=\"$t('search-placeholder')\"\r\n      type=\"search\"\r\n      icon=\"search\"\r\n      size=\"is-small\"\r\n    />\r\n    <ul>\r\n      <li v-for=\"prop in filteredProps\" :key=\"prop.id\">\r\n        <strong>{{prop.key}}</strong>: {{prop.value}}\r\n      </li>\r\n    </ul>\r\n  </template>\r\n\r\n  <template #footer>\r\n    <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\r\n      {{$t('button-close')}}\r\n    </button>\r\n  </template>\r\n</cytomine-modal>\r\n</template>\r\n\r\n<script>\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nexport default {\r\n  name: 'image-metadata-modal',\r\n  props: {\r\n    active: Boolean,\r\n    image: Object,\r\n    properties: {type: Array},\r\n    error: {type: Boolean, default: false}\r\n  },\r\n  components: {CytomineModal},\r\n  data() {\r\n    return {\r\n      searchString: '',\r\n      rotationAngle: 0\r\n    };\r\n  },\r\n  computed: {\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    filteredProps() {\r\n      if(!this.searchString) {\r\n        return this.properties;\r\n      }\r\n      let regexp = getWildcardRegexp(this.searchString);\r\n      return this.properties.filter(prop => regexp.test(prop.key) || regexp.test(prop.value));\r\n    },\r\n    styleImagePreview() {\r\n      this.rotationAngle; // to force re-evaluation each time rotationAngle changes\r\n      if(!this.$refs.image) {\r\n        return;\r\n      }\r\n\r\n      let reverse = (this.rotationAngle === 90 || this.rotationAngle === 270);\r\n      let width = this.$refs.image.clientWidth + 'px';\r\n      let height = this.$refs.image.clientHeight + 'px';\r\n      return {\r\n        width: reverse ? height : width,\r\n        height: reverse ? width : height\r\n      };\r\n    },\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    async rotate(val) {\r\n      this.rotationAngle = (this.rotationAngle + val + 360) % 360;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n/deep/ .modal-card, /deep/ .modal-card-body {\r\n  width: 800px;\r\n  max-width: 100%;\r\n}\r\n\r\n.image-preview {\r\n  margin: auto;\r\n  overflow: hidden;\r\n  margin-bottom: 0.5em;\r\n  text-align: center;\r\n}\r\n\r\nimg {\r\n  transform-origin: top left;\r\n  max-width: initial;\r\n\r\n  &.rotate-90 {\r\n    transform: rotate(90deg) translateY(-100%);\r\n  }\r\n\r\n  &.rotate-180 {\r\n    transform: rotate(180deg) translate(-100%,-100%);\r\n  }\r\n\r\n  &.rotate-270 {\r\n    transform: rotate(270deg) translateX(-100%);\r\n  }\r\n}\r\n\r\n.mirror {\r\n  transform: scale(-1, 1);\r\n}\r\n\r\ninput {\r\n  max-width: 30em;\r\n  margin-bottom: 1em;\r\n}\r\n\r\nli {\r\n  overflow-wrap: break-word;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageMetadataModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageMetadataModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ImageMetadataModal.vue?vue&type=template&id=3735e86c&scoped=true\"\nimport script from \"./ImageMetadataModal.vue?vue&type=script&lang=js\"\nexport * from \"./ImageMetadataModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./ImageMetadataModal.vue?vue&type=style&index=0&id=3735e86c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3735e86c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"tag\",class:_vm.tagClass},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.label))+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<span class=\"tag\" :class=\"tagClass\">\r\n  {{$t(label)}}\r\n</span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    image: Object\r\n  },\r\n  computed: {\r\n    tagClass() {\r\n      if(this.image.reviewed) {\r\n        return 'is-success';\r\n      }\r\n      if(this.image.inReview) {\r\n        return 'is-info';\r\n      }\r\n      return 'is-light';\r\n    },\r\n    label() {\r\n      if(this.image.reviewed) {\r\n        return 'reviewed';\r\n      }\r\n      if(this.image.inReview) {\r\n        return 'in-review';\r\n      }\r\n      return 'none';\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageStatus.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageStatus.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ImageStatus.vue?vue&type=template&id=1b81341a\"\nimport script from \"./ImageStatus.vue?vue&type=script&lang=js\"\nexport * from \"./ImageStatus.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export function formatMinutesSeconds(time) {\r\n  let minutes = Math.floor(time / 60);\r\n  let remainder = time - minutes * 60;\r\n  let seconds = Math.floor(remainder);\r\n  let milliseconds = Math.floor((remainder - seconds) * 1000);\r\n  return [\r\n    minutes.toString().padStart(2, '0'),\r\n    seconds.toString().padStart(2, '0'),\r\n    milliseconds.toString().padStart(3, '0')\r\n  ].join(':');\r\n}\r\n\r\nexport function slicePositionToRank({channel, zStack, time}, image) {\r\n  return channel + image.channels * (zStack + image.depth * time);\r\n}\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nlet vendors = {\r\n  hamamatsu: {\r\n    imgPath: require('@/assets/brands/hamamatsu.jpg'),\r\n    name: 'Hamamatsu Photonics'\r\n  },\r\n  '3dh': {\r\n    imgPath: require('@/assets/brands/3dh.png'),\r\n    name: '3DHISTECH Ltd.'\r\n  },\r\n  aperio: {\r\n    imgPath: require('@/assets/brands/aperio.jpg'),\r\n    name: 'Aperio'\r\n  },\r\n  leica: {\r\n    imgPath: require('@/assets/brands/leica.png'),\r\n    name: 'Leica Biosystems'\r\n  },\r\n  roche: {\r\n    imgPath: require('@/assets/brands/roche.gif'),\r\n    name: 'La Roche Ltd.'\r\n  },\r\n  philips: {\r\n    imgPath: require('@/assets/brands/philips.svg'),\r\n    name: 'Philips'\r\n  }\r\n};\r\n\r\nexport default function vendorFromFormat(format) {\r\n  switch(format) {\r\n    case 'NDPI':\r\n    case 'VMS':\r\n      return vendors['hamamatsu'];\r\n    case 'MRXS':\r\n      return vendors['3dh'];\r\n    case 'SVS':\r\n      return vendors['aperio'];\r\n    case 'SCN':\r\n      return vendors['leica'];\r\n    case 'VENTANA':\r\n    case 'BIF':\r\n      return vendors['roche'];\r\n    case 'PHILIPS':\r\n      return vendors['philips'];\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"image-details-wrapper\">\r\n  <table class=\"table\">\r\n    <tbody>\r\n      <tr v-if=\"isPropDisplayed('overview')\">\r\n        <td class=\"prop-label\">{{$t('overview')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <router-link :to=\"`/project/${image.project}/image/${image.id}`\">\r\n            <image-thumbnail :image=\"image\" :size=\"256\" :key=\"`${image.id}-thumb-256`\" :extra-parameters=\"{Authorization: 'Bearer ' + shortTermToken }\"/>\r\n          </router-link>\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('id') && currentUser.isDeveloper\">\r\n        <td class=\"prop-label\">{{$t('id')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">{{image.id}}</td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('status')\">\r\n        <td class=\"prop-label\">{{$t('status')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <image-status :image=\"image\" />\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('numberOfAnnotations')\">\r\n        <td class=\"prop-label\">{{$t('user-annotations')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=user`\">\r\n            {{ image.numberOfAnnotations }}\r\n          </router-link>\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('numberOfJobAnnotations')\">\r\n        <td class=\"prop-label\">{{$t('analysis-annotations')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=algo`\">\r\n            {{ image.numberOfJobAnnotations }}\r\n          </router-link>\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('numberOfReviewedAnnotations')\">\r\n        <td class=\"prop-label\">{{$t('reviewed-annotations')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=reviewed`\">\r\n            {{ image.numberOfReviewedAnnotations }}\r\n          </router-link>\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('description')\">\r\n        <td class=\"prop-label\">{{$t('description')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <cytomine-description :object=\"image\" :canEdit=\"canEdit\" />\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('tags')\">\r\n        <td class=\"prop-label\">{{$t('tags')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <cytomine-tags :object=\"image\" :canEdit=\"canEdit\" />\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('properties')\">\r\n        <td class=\"prop-label\">{{$t('properties')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <cytomine-properties \r\n            :object=\"image\"\r\n            :error=\"loadPropertiesError\"\r\n            :canEdit=\"canEdit\"\r\n            :properties=\"metadataFilteredProperties\"\r\n            @deleted=\"removeProp\"\r\n            @added=\"addProp\"\r\n          />\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('attached-files')\">\r\n        <td class=\"prop-label\">{{$t('attached-files')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <attached-files :object=\"image\" :canEdit=\"canEdit\" />\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('slide-preview')\">\r\n        <td class=\"prop-label\">{{$t('slide-preview')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <a v-if=\"image.macroURL && !isBlindModeAndContributor\" @click=\"isMetadataModalActive = true\">\r\n            <image-thumbnail :image=\"image\" :macro=\"true\" :size=\"256\" :key=\"`${image.id}-macro-256`\" :extra-parameters=\"{Authorization: 'Bearer ' + shortTermToken }\"/>\r\n          </a>\r\n          <em v-else>\r\n            {{$t('slide-preview-not-available')}}\r\n          </em>\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('original-filename') && (!blindMode || canManageProject)\">\r\n        <td class=\"prop-label\">{{$t('originalFilename')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          {{image.originalFilename}}\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('format')\">\r\n        <td class=\"prop-label\">{{$t('format')}}</td>\r\n        <td class=\"prop-content format\" colspan=\"3\">\r\n          {{image.contentType}}\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('vendor')\">\r\n        <td class=\"prop-label\">{{$t('vendor')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <img v-if=\"vendor\" :src=\"vendor.imgPath\" :alt=\"vendor.name\" :title=\"vendor.name\" class=\"vendor-img\">\r\n          <template v-else>{{$t('unknown')}}</template>\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('width') || isPropDisplayed('physicalSizeX')\">\r\n        <template v-if=\"isPropDisplayed('width')\">\r\n          <td class=\"prop-label\">{{$t(\"image-width\")}}</td>\r\n          <td class=\"prop-content-half\" :colspan=\"isPropDisplayed('physicalSizeX') ? 1 : 3\">\r\n            {{image.width}} {{$t(\"pixels\")}}\r\n            <template v-if=\"image.physicalSizeX\">({{(image.width * image.physicalSizeX).toFixed(3)}} {{$t(\"um\")}})</template>\r\n          </td>\r\n        </template>\r\n        <template v-if=\"isPropDisplayed('physicalSizeX')\">\r\n          <td class=\"prop-label\">{{$t(\"x-y-resolution\")}}</td>\r\n          <td class=\"prop-content-half\" :colspan=\"isPropDisplayed('width') ? 1 : 3\">\r\n            <template v-if=\"image.physicalSizeX\">{{image.physicalSizeX.toFixed(3)}} {{$t(\"um-per-pixel\")}}</template>\r\n            <template v-else>{{$t(\"unknown\")}}</template>\r\n          </td>\r\n        </template>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('height') || isPropDisplayed('physicalSizeY')\">\r\n        <template v-if=\"isPropDisplayed('height')\">\r\n          <td class=\"prop-label\">{{$t(\"image-height\")}}</td>\r\n          <td class=\"prop-content-half\" :colspan=\"isPropDisplayed('physicalSizeY') ? 1 : 3\">\r\n            {{image.height}} {{$t(\"pixels\")}}\r\n            <template v-if=\"image.physicalSizeY\">({{(image.height * image.physicalSizeY).toFixed(3)}} {{$t(\"um\")}})</template>\r\n          </td>\r\n        </template>\r\n        <template v-if=\"isPropDisplayed('physicalSizeY')\">\r\n          <!-- We don't support diff X&Y yet in some components uncomment to bring back -->\r\n          <!-- <td class=\"prop-label\">{{$t(\"y-resolution\")}}</td> -->\r\n          <td class=\"prop-label\"></td>\r\n          <td class=\"prop-content-half\" :colspan=\"isPropDisplayed('height') ? 1 : 3\">\r\n            <!-- <template v-if=\"image.physicalSizeY\">{{image.physicalSizeY.toFixed(3)}} {{$t(\"um-per-pixel\")}}</template>\r\n            <template v-else>{{$t(\"unknown\")}}</template> -->\r\n          </td>\r\n        </template>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('depth') || isPropDisplayed('physicalSizeZ')\">\r\n        <template v-if=\"isPropDisplayed('depth')\">\r\n          <td class=\"prop-label\">{{$t(\"image-depth\")}}</td>\r\n          <td class=\"prop-content-half\" :colspan=\"isPropDisplayed('physicalSizeZ') ? 1 : 3\">\r\n            {{$tc(\"count-slices\", image.depth, {count: image.depth})}}\r\n            <template v-if=\"image.physicalSizeZ\">({{(image.depth * image.physicalSizeZ).toFixed(3)}} {{$t(\"um\")}})</template>\r\n          </td>\r\n        </template>\r\n        <template v-if=\"isPropDisplayed('physicalSizeZ')\">\r\n          <td class=\"prop-label\">{{$t(\"z-resolution\")}}</td>\r\n          <td class=\"prop-content-half\" :colspan=\"isPropDisplayed('depth') ? 1 : 3\">\r\n            <template v-if=\"image.physicalSizeZ\">{{image.physicalSizeZ.toFixed(3)}} {{$t(\"um-per-slice\")}}</template>\r\n            <template v-else-if=\"image.depth < 2\">-</template>\r\n            <template v-else>{{$t(\"unknown\")}}</template>\r\n          </td>\r\n        </template>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('time') || isPropDisplayed('fps')\">\r\n        <template v-if=\"isPropDisplayed('time')\">\r\n          <td class=\"prop-label\">{{$t(\"image-time\")}}</td>\r\n          <td class=\"prop-content-half\" :colspan=\"isPropDisplayed('fps') ? 1 : 3\">\r\n            {{$tc(\"count-frames\", image.duration, {count: image.duration})}}\r\n            <template v-if=\"image.fps && image.duration > 0\">\r\n              ({{formatMinutesSeconds(image.duration / image.fps)}})\r\n            </template>\r\n          </td>\r\n        </template>\r\n        <template v-if=\"isPropDisplayed('fps')\">\r\n          <td class=\"prop-label\">{{$t(\"frame-rate\")}}</td>\r\n          <td class=\"prop-content-half\" :colspan=\"isPropDisplayed('time') ? 1 : 3\">\r\n            <template v-if=\"image.fps\">{{image.fps.toFixed(3)}} {{$t(\"frame-per-second\")}}</template>\r\n            <template v-else-if=\"image.time < 2\">-</template>\r\n            <template v-else>{{$t(\"unknown\")}}</template>\r\n          </td>\r\n        </template>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('channels')\">\r\n        <td class=\"prop-label\">{{$t(\"image-channels\")}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          {{$tc(\"count-bands\", image.apparentChannels, {count: image.apparentChannels})}}\r\n          ({{image.channels}} x {{image.samplePerPixel}})\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('size')\">\r\n        <td class=\"prop-label\">{{$t('image-size')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          {{`${image.width} x ${image.height} ${$t('pixels')}`}}\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('magnification')\">\r\n        <td class=\"prop-label\">{{$t('magnification')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <template v-if=\"image.magnification\">{{image.magnification}}</template>\r\n          <template v-else>{{$t('unknown')}}</template>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td class=\"prop-label\">{{$t('actions')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <div class=\"buttons are-small\">\r\n            <button v-if=\"isPropDisplayed('metadata') && !isBlindModeAndContributor\" class=\"button\" @click=\"isMetadataModalActive = true\">\r\n              {{$t('button-metadata')}}\r\n            </button>\r\n            <template v-if=\"canEdit\">\r\n\r\n              <router-link\r\n                v-if=\"!image.reviewed && !image.inReview\"\r\n                :to=\"`/project/${image.project}/image/${image.id}?action=review`\"\r\n                class=\"button\"\r\n              >\r\n                {{$t('button-start-review')}}\r\n              </router-link>\r\n\r\n              <template v-else-if=\"image.reviewUser === currentUser.id\">\r\n                <button v-if=\"image.reviewed\" class=\"button\" @click=\"cancelReview()\">\r\n                  {{$t('button-unvalidate-review')}}\r\n                </button>\r\n                <template v-else>\r\n                  <router-link :to=\"`/project/${image.project}/image/${image.id}?action=review`\" class=\"button\">\r\n                    {{$t('button-continue-review')}}\r\n                  </router-link>\r\n                  <button class=\"button\" @click=\"cancelReview()\">\r\n                    {{$t('button-cancel-review')}}\r\n                  </button>\r\n                </template>\r\n              </template>\r\n\r\n              <button v-if=\"!blindMode || canManageProject\" class=\"button\" @click=\"isRenameModalActive = true\">\r\n                {{$t('button-rename')}}\r\n              </button>\r\n              <button class=\"button\" @click=\"isCalibrationModalActive = true\">\r\n                {{$t('button-set-calibration')}}\r\n              </button>\r\n              <button class=\"button\" @click=\"isMagnificationModalActive = true\">\r\n                {{$t('button-set-magnification')}}\r\n              </button>\r\n            </template>\r\n            <a class=\"button\" v-if=\"canDownloadImages || canManageProject\" @click=\"download(image)\">\r\n              {{$t('button-download')}}\r\n            </a>\r\n            <template v-if=\"canEdit\">\r\n              <button class=\"button is-danger\" @click=\"confirmDeletion()\">\r\n                {{$t('button-delete')}}\r\n              </button>\r\n            </template>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n  <rename-modal\r\n    :title=\"$t('rename-image')\"\r\n    :currentName=\"image.instanceFilename\"\r\n    :active.sync=\"isRenameModalActive\"\r\n    @rename=\"rename\"\r\n  />\r\n\r\n  <magnification-modal\r\n    :image=\"image\"\r\n    :active.sync=\"isMagnificationModalActive\"\r\n    @setMagnification=\"(event) => $emit('setMagnification', event)\"\r\n  />\r\n\r\n  <calibration-modal\r\n    :image=\"image\"\r\n    :active.sync=\"isCalibrationModalActive\"\r\n    @setResolution=\"(event) => $emit('setResolution', event)\"\r\n  />\r\n\r\n  <image-metadata-modal\r\n    :active.sync=\"isMetadataModalActive\"\r\n    :image=\"image\"\r\n    :properties=\"onlyMetadataProperties\"\r\n    :error=\"loadPropertiesError\"\r\n  />\r\n</div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport CytomineDescription from '@/components/description/CytomineDescription';\r\nimport CytomineProperties from '@/components/property/CytomineProperties';\r\nimport CytomineTags from '@/components/tag/CytomineTags';\r\nimport AttachedFiles from '@/components/attached-file/AttachedFiles';\r\nimport MagnificationModal from './MagnificationModal';\r\nimport CalibrationModal from './CalibrationModal';\r\nimport ImageMetadataModal from './ImageMetadataModal';\r\nimport ImageStatus from './ImageStatus';\r\nimport RenameModal from '@/components/utils/RenameModal';\r\nimport ImageThumbnail from '@/components/image/ImageThumbnail';\r\n\r\nimport {formatMinutesSeconds} from '@/utils/slice-utils.js';\r\n\r\nimport {ImageInstance} from 'cytomine-client';\r\n\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\n\r\nimport vendorFromFormat from '@/utils/vendor';\r\nimport {PropertyCollection} from 'cytomine-client';\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'image-details',\r\n  components: {\r\n    ImageThumbnail,\r\n    CytomineDescription,\r\n    CytomineTags,\r\n    CytomineProperties,\r\n    AttachedFiles,\r\n    MagnificationModal,\r\n    CalibrationModal,\r\n    ImageMetadataModal,\r\n    ImageStatus,\r\n    RenameModal\r\n  },\r\n  props: {\r\n    image: {type: Object},\r\n    excludedProperties: {type: Array, default: () => []},\r\n    editable: {type: Boolean, default: false}\r\n  },\r\n  data() {\r\n    return {\r\n      isRenameModalActive: false,\r\n      isCalibrationModalActive: false,\r\n      isMagnificationModalActive: false,\r\n      isMetadataModalActive: false,\r\n      properties: [],\r\n      loadPropertiesError: false\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    configUI: get('currentProject/configUI'),\r\n    project: get('currentProject/project'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    blindMode() {\r\n      return ((this.project || {}).blindMode) || false;\r\n    },\r\n    canDownloadImages() {\r\n      // Virtual images (null path) cannot be downloaded.\r\n      return this.image.path !== null && (\r\n        this.canManageProject ||\r\n        ((this.project || {}).areImagesDownloadable) || false\r\n      );\r\n    },\r\n    canManageProject() {\r\n      return this.$store.getters['currentProject/canManageProject'];\r\n    },\r\n    canEdit() {\r\n      return this.editable && this.$store.getters['currentProject/canEditImage'](this.image);\r\n    },\r\n    imageNameNotif() {\r\n      return this.blindMode ? this.image.blindedName : this.image.instanceFilename;\r\n    },\r\n    vendor() {\r\n      return vendorFromFormat(this.image.contentType);\r\n    },\r\n    internalUseFilteredProperties() {\r\n      return this.properties.filter(prop => !prop.key.startsWith(constants.PREFIX_HIDDEN_PROPERTY_KEY));\r\n    },\r\n    metadataFilteredProperties() {\r\n      let props = this.internalUseFilteredProperties.filter(prop => {\r\n        for (const key in constants.METADATA_PREFIXES) {\r\n          if (prop.key.startsWith(constants.METADATA_PREFIXES[key])) {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      });\r\n      return props\r\n    },\r\n    onlyMetadataProperties() {\r\n      let props = this.internalUseFilteredProperties.filter(prop => {\r\n        for (const key in constants.METADATA_PREFIXES) {\r\n          if (prop.key.startsWith(constants.METADATA_PREFIXES[key])) {\r\n            return true;\r\n          }\r\n        }\r\n        return false;\r\n      });\r\n      // We sort the properties to improve ease of use in the metadata modal\r\n      return props.sort((a, b) => a.key.localeCompare(b.key));\r\n    },\r\n    /**\r\n     * BLIND   MANAGER    RESULT\r\n     * 0       0          1\r\n     * 0       1          1\r\n     * 1       0          0\r\n     * 1       1          1\r\n     */\r\n    isBlindModeAndContributor() {\r\n      return this.blindMode && !this.canManageProject; \r\n    }\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    isPropDisplayed(prop) {\r\n      return !this.excludedProperties.includes(prop) && (this.configUI[`project-explore-image-${prop}`] == null || this.configUI[`project-explore-image-${prop}`]);\r\n    },\r\n    download(image) {\r\n      window.location.assign(appendShortTermToken(image.downloadURL, this.shortTermToken), '_blank');\r\n    },\r\n    async cancelReview() {\r\n      let errorLabel = this.image.reviewed ? 'notif-error-unvalidate-review' : 'notif-error-cancel-review';\r\n      try {\r\n        await this.image.stopReview(true);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t(errorLabel)});\r\n      }\r\n    },\r\n\r\n    async rename(newName) {\r\n      let oldName = this.image.instanceFilename;\r\n      try {\r\n        this.image.instanceFilename = newName;\r\n        await this.image.save();\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-image-rename', {imageName: this.image.instanceFilename})\r\n        });\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-image-rename', {imageName: oldName})\r\n        });\r\n      }\r\n      this.isRenameModalActive = false;\r\n    },\r\n\r\n    confirmDeletion() {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('delete-image'),\r\n        message: this.$t('delete-image-confirmation-message', {imageName: this.imageNameNotif}),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: this.deleteImage\r\n      });\r\n    },\r\n    async deleteImage() {\r\n      try {\r\n        await ImageInstance.delete(this.image.id);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-image-deletion', {imageName: this.imageNameNotif})\r\n        });\r\n        this.$emit('delete');\r\n\r\n        let updatedProject = this.project.clone();\r\n        updatedProject.numberOfImages--;\r\n        this.$store.dispatch('currentProject/updateProject', updatedProject);\r\n      }\r\n      catch(err) {\r\n        console.log(err);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-image-deletion', {imageName: this.imageNameNotif})\r\n        });\r\n      }\r\n    },\r\n    formatMinutesSeconds(time) {\r\n      return formatMinutesSeconds(time);\r\n    },\r\n    removeProp(prop) {\r\n      this.properties = this.properties.filter(p => p.id !== prop.id);\r\n    },\r\n    addProp(prop) {\r\n      this.properties.push(prop);\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      this.properties = (await PropertyCollection.fetchAll({ object: this.image })).array;\r\n    }\r\n    catch (error) {\r\n      this.loadPropertiesError = true;\r\n      console.log(error);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n  background: none;\r\n  position: relative;\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\ntd.prop-label {\r\n  white-space: nowrap;\r\n  font-weight: 600;\r\n}\r\n\r\ntd.prop-content {\r\n  width: 100%;\r\n}\r\n\r\ntd.prop-content-half {\r\n  width: 50%;\r\n}\r\n\r\n.format {\r\n  text-transform: uppercase;\r\n}\r\n\r\n.vendor-img {\r\n  max-height: 4rem;\r\n  max-width: 12rem;\r\n}\r\n\r\n::v-deep .image-thumbnail {\r\n  max-height: 18rem;\r\n  max-width: 50vw;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageDetails.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageDetails.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ImageDetails.vue?vue&type=template&id=6cc541f6&scoped=true\"\nimport script from \"./ImageDetails.vue?vue&type=script&lang=js\"\nexport * from \"./ImageDetails.vue?vue&type=script&lang=js\"\nimport style0 from \"./ImageDetails.vue?vue&type=style&index=0&id=6cc541f6&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6cc541f6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('add-images')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}}},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[[_c('b-input',{staticClass:\"search-images\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('cytomine-table',{attrs:{\"collection\":_vm.imageCollection,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"detailed\":false},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function({row: image}){return [_c('b-table-column',{attrs:{\"label\":_vm.$t('overview')}},[_c('image-thumbnail',{key:`${image.id}-thumb-128`,attrs:{\"image\":image,\"size\":128,\"extra-parameters\":{Authorization: 'Bearer ' + _vm.shortTermToken }}})],1),_c('b-table-column',{attrs:{\"field\":\"originalFilename\",\"label\":_vm.$t('name'),\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(image.originalFilename)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"created\",\"label\":_vm.$t('created-on'),\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(image.created),'ll LT'))+\" \")]),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\"}},[(_vm.wasAdded(image))?_c('button',{staticClass:\"button is-small is-link\",attrs:{\"disabled\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('button-added'))+\" \")]):(_vm.isInProject(image))?_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('already-in-project'))+\" \")]):_c('button',{staticClass:\"button is-small is-link\",on:{\"click\":function($event){return _vm.addImage(image)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")])])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-image')))])])]},proxy:true}],null,false,936165728)})]]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<cytomine-modal :active=\"active\" :title=\"$t('add-images')\" @close=\"$emit('update:active', false)\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\r\n  <template v-if=\"!loading\">\r\n    <template>\r\n      <b-input class=\"search-images\" v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\"\r\n      type=\"search\" icon=\"search\" />\r\n\r\n      <cytomine-table\r\n        :collection=\"imageCollection\"\r\n        :currentPage.sync=\"currentPage\"\r\n        :perPage.sync=\"perPage\"\r\n        :sort.sync=\"sortField\"\r\n        :order.sync=\"sortOrder\"\r\n        :detailed=\"false\"\r\n      >\r\n        <template #default=\"{row: image}\">\r\n          <b-table-column :label=\"$t('overview')\">\r\n            <image-thumbnail :image=\"image\" :size=\"128\" :key=\"`${image.id}-thumb-128`\" :extra-parameters=\"{Authorization: 'Bearer ' + shortTermToken }\"/>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"originalFilename\" :label=\"$t('name')\" sortable>\r\n            {{ image.originalFilename }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"created\" :label=\"$t('created-on')\" sortable>\r\n            {{ Number(image.created) | moment('ll LT') }}\r\n          </b-table-column>\r\n\r\n          <b-table-column label=\" \" centered>\r\n            <button v-if=\"wasAdded(image)\" class=\"button is-small is-link\" disabled>\r\n              {{$t('button-added')}}\r\n            </button>\r\n            <span v-else-if=\"isInProject(image)\">\r\n              {{$t('already-in-project')}}\r\n            </span>\r\n            <button v-else class=\"button is-small is-link\" @click=\"addImage(image)\">\r\n              {{$t('button-add')}}\r\n            </button>\r\n          </b-table-column>\r\n        </template>\r\n\r\n        <template #empty>\r\n          <div class=\"content has-text-grey has-text-centered\">\r\n            <p>{{$t('no-image')}}</p>\r\n          </div>\r\n        </template>\r\n      </cytomine-table>\r\n    </template>\r\n  </template>\r\n</cytomine-modal>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {AbstractImageCollection, ImageInstance} from 'cytomine-client';\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\nimport CytomineTable from '@/components/utils/CytomineTable';\r\nimport ImageThumbnail from '@/components/image/ImageThumbnail';\r\n\r\nexport default {\r\n  name: 'add-image-modal',\r\n  props: {\r\n    active: Boolean,\r\n  },\r\n  components: {\r\n    ImageThumbnail,\r\n    CytomineTable,\r\n    CytomineModal\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      perPage: 10,\r\n      searchString: '',\r\n      idsAddedImages: [],\r\n      currentPage: 1,\r\n      sortField: 'created',\r\n      sortOrder: 'desc',\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    imageCollection() {\r\n      let collection = new AbstractImageCollection({\r\n        project: this.project.id,\r\n      });\r\n      if(this.searchString) {\r\n        collection['originalFilename'] = {\r\n          ilike: encodeURIComponent(this.searchString)\r\n        };\r\n      }\r\n\r\n      return collection;\r\n    },\r\n  },\r\n  watch: {\r\n    active(val) {\r\n      if(val) {\r\n        this.idsAddedImages = [];\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async addImage(abstractImage) {\r\n      let propsTranslation = {imageName: abstractImage.originalFilename, projectName: this.project.name};\r\n      try {\r\n        let image = await new ImageInstance({baseImage: abstractImage.id, project: this.project.id}).save();\r\n        this.idsAddedImages.push(abstractImage.id);\r\n        this.$emit('addImage', image);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-add-image', propsTranslation)\r\n        });\r\n\r\n        let updatedProject = this.project.clone();\r\n        updatedProject.numberOfImages++;\r\n        this.$store.dispatch('currentProject/updateProject', updatedProject);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-add-image', propsTranslation)\r\n        });\r\n      }\r\n    },\r\n    isInProject(image) {\r\n      return image.inProject;\r\n    },\r\n    wasAdded(image) {\r\n      return this.idsAddedImages.includes(image.id);\r\n    }\r\n  },\r\n  async created() {\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n>>> .animation-content {\r\n  max-width: 60% !important;\r\n  width: 60%;\r\n}\r\n\r\n>>> .modal-card {\r\n  width: 100%;\r\n  height: 80vh;\r\n}\r\n\r\n>>> .image-thumbnail {\r\n  max-height: 4rem;\r\n  max-width: 10rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddImageModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddImageModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AddImageModal.vue?vue&type=template&id=48f99de6&scoped=true\"\nimport script from \"./AddImageModal.vue?vue&type=script&lang=js\"\nexport * from \"./AddImageModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./AddImageModal.vue?vue&type=style&index=0&id=48f99de6&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48f99de6\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box error\" v-if=\"!configUI['project-images-tab']\">\r\n  <h2> {{ $t('access-denied') }} </h2>\r\n  <p>{{ $t('insufficient-permission') }}</p>\r\n</div>\r\n<div class=\"box error\" v-else-if=\"error\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p>{{ $t('unexpected-error-info-message') }}</p>\r\n</div>\r\n<div v-else class=\"content-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <div v-if=\"!loading\" class=\"panel\">\r\n    <p class=\"panel-heading\">\r\n      {{$t('images')}}\r\n      <button v-if=\"canAddImage\" class=\"button is-link\" @click=\"addImageModal = true\">\r\n        {{$t('button-add-image')}}\r\n      </button>\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <div class=\"search-block\">\r\n        <b-input\r\n          class=\"search-images\"\r\n          v-model=\"searchString\"\r\n          :placeholder=\"$t('search-placeholder')\"\r\n          type=\"search\" icon=\"search\"\r\n        />\r\n        <button class=\"button\" @click=\"toggleFilterDisplay()\">\r\n          <span class=\"icon\">\r\n            <i class=\"fas fa-filter\"></i>\r\n          </span>\r\n          <span>\r\n            {{filtersOpened ? $t('button-hide-filters') : $t('button-show-filters')}}\r\n          </span>\r\n          <span v-if=\"nbActiveFilters\" class=\"nb-active-filters\">\r\n            {{nbActiveFilters}}\r\n          </span>\r\n        </button>\r\n      </div>\r\n\r\n      <b-collapse :open=\"filtersOpened\">\r\n        <div class=\"filters\">\r\n          <div class=\"columns\">\r\n            <div class=\"column filter is-one-quarter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('format')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-multiselect v-model=\"selectedFormats\" :options=\"availableFormats\" multiple />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column filter is-one-quarter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('vendor')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-multiselect v-model=\"selectedVendors\" :options=\"availableVendors\"\r\n                    :multiple=\"true\" label=\"label\" track-by=\"value\"/>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column filter is-one-quarter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('tags')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-multiselect v-model=\"selectedTags\" :options=\"availableTags\"\r\n                  label=\"name\" track-by=\"id\" :multiple=\"true\" :allPlaceholder=\"$t('all')\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"columns\">\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('magnification')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-multiselect v-model=\"selectedMagnifications\" :options=\"availableMagnifications\"\r\n                    :multiple=\"true\" :searchable=\"false\" label=\"label\" track-by=\"value\"/>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('resolution')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-multiselect v-model=\"selectedResolutions\" :options=\"availableResolutions\"\r\n                    :multiple=\"true\" :searchable=\"false\" label=\"label\" track-by=\"value\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column\">\r\n              <div class=\"filter-label\">\r\n                {{$t('width')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-slider v-model=\"boundsWidth\" :max=\"maxWidth\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column\">\r\n              <div class=\"filter-label\">\r\n                {{$t('height')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-slider v-model=\"boundsHeight\" :max=\"maxHeight\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"columns\">\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('user-annotations')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-slider v-model=\"boundsUserAnnotations\" :max=\"maxNbUserAnnotations\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('analysis-annotations')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-slider v-model=\"boundsJobAnnotations\" :max=\"maxNbJobAnnotations\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('reviewed-annotations')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-slider v-model=\"boundsReviewedAnnotations\" :max=\"maxNbReviewedAnnotations\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column filter\"></div>\r\n          </div>\r\n        </div>\r\n      </b-collapse>\r\n\r\n      <cytomine-table\r\n        :collection=\"imageCollection\"\r\n        :is-empty=\"nbEmptyFilters > 0\"\r\n        :currentPage.sync=\"currentPage\"\r\n        :perPage.sync=\"perPage\"\r\n        :openedDetailed.sync=\"openedDetails\"\r\n        :sort.sync=\"sortField\"\r\n        :order.sync=\"sortOrder\"\r\n        :revision=\"revision\"\r\n      >\r\n        <template #default=\"{row: image}\">\r\n          <b-table-column :label=\"$t('overview')\" width=\"100\" :visible=\"isPropDisplayed('overview')\">\r\n            <router-link :to=\"`/project/${image.project}/image/${image.id}`\">\r\n              <image-thumbnail :image=\"image\" :size=\"128\" :key=\"`${image.id}-thumb-128`\" :extra-parameters=\"{Authorization: 'Bearer ' + shortTermToken }\"/>\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column\r\n            :field=\"blindMode ? 'blindedName' : 'instanceFilename'\"\r\n            :label=\"$t('name')\"\r\n            sortable\r\n            width=\"400\"\r\n          >\r\n            <router-link :to=\"`/project/${image.project}/image/${image.id}`\">\r\n              <image-name :image=\"image\" showBothNames />\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"magnification\" :label=\"$t('magnification')\" centered sortable width=\"100\">\r\n            {{ image.magnification || $t('unknown') }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"numberOfAnnotations\" :label=\"$t('user-annotations')\" centered sortable width=\"100\">\r\n            <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=user`\">\r\n              {{ image.numberOfAnnotations }}\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"numberOfJobAnnotations\" :label=\"$t('analysis-annotations')\" centered sortable width=\"100\">\r\n            <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=algo`\">\r\n              {{ image.numberOfJobAnnotations }}\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"numberOfReviewedAnnotations\" :label=\"$t('reviewed-annotations')\" centered sortable width=\"100\">\r\n            <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=reviewed`\">\r\n              {{ image.numberOfReviewedAnnotations }}\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column label=\" \" centered width=\"150\">\r\n            <router-link :to=\"`/project/${image.project}/image/${image.id}`\" class=\"button is-small is-link\">\r\n              {{$t('button-open')}}\r\n            </router-link>\r\n          </b-table-column>\r\n        </template>\r\n\r\n        <template #detail=\"{row: image}\">\r\n          <image-details\r\n            :image=\"image\"\r\n            :excludedProperties=\"excludedProperties\"\r\n            editable\r\n            @delete=\"refreshData\"\r\n            @setResolution=\"refreshData\"\r\n            @setMagnification=\"refreshData\"\r\n          />\r\n        </template>\r\n\r\n        <template #empty>\r\n          <div class=\"content has-text-grey has-text-centered\">\r\n            <p>{{$t('no-image')}}</p>\r\n          </div>\r\n        </template>\r\n      </cytomine-table>\r\n    </div>\r\n\r\n    <add-image-modal :active.sync=\"addImageModal\" @addImage=\"refreshData\" />\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get, sync, syncMultiselectFilter, syncBoundsFilter} from '@/utils/store-helpers';\r\n\r\nimport CytomineTable from '@/components/utils/CytomineTable';\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport CytomineSlider from '@/components/form/CytomineSlider';\r\nimport ImageName from './ImageName';\r\nimport ImageDetails from './ImageDetails';\r\nimport AddImageModal from './AddImageModal';\r\nimport vendorFromFormat from '@/utils/vendor';\r\n\r\nimport {ImageInstanceCollection, TagCollection} from 'cytomine-client';\r\nimport ImageThumbnail from '@/components/image/ImageThumbnail';\r\n\r\n// store options to use with store helpers to target projects/currentProject/listImages module\r\nconst storeOptions = {rootModuleProp: 'storeModule'};\r\n// redefine helpers to use storeOptions and correct module path\r\nconst localSyncMultiselectFilter = (filterName, options) => syncMultiselectFilter(null, filterName, options, storeOptions);\r\nconst localSyncBoundsFilter = (filterName, maxProp) => syncBoundsFilter(null, filterName, maxProp, storeOptions);\r\n\r\nexport default {\r\n  name: 'list-images',\r\n  components: {\r\n    ImageThumbnail,\r\n    ImageName,\r\n    ImageDetails,\r\n    CytomineTable,\r\n    CytomineMultiselect,\r\n    CytomineSlider,\r\n    AddImageModal\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n      images: [],\r\n      addImageModal: false,\r\n      excludedProperties: [\r\n        'overview',\r\n        'instanceFilename',\r\n        'magnification',\r\n        'numberOfAnnotations',\r\n        'numberOfJobAnnotations',\r\n        'numberOfReviewedAnnotations',\r\n        'size'\r\n      ],\r\n      availableFormats: [],\r\n      availableVendors: [],\r\n      availableMagnifications: [],\r\n      availableResolutions: [],\r\n      availableTags:[],\r\n      maxWidth: 100,\r\n      maxHeight: 100,\r\n      maxNbUserAnnotations: 100,\r\n      maxNbJobAnnotations: 100,\r\n      maxNbReviewedAnnotations: 100,\r\n      revision: 0\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    configUI: get('currentProject/configUI'),\r\n    project: get('currentProject/project'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    blindMode() {\r\n      return this.project.blindMode;\r\n    },\r\n    canManageProject() {\r\n      return this.$store.getters['currentProject/canManageProject'];\r\n    },\r\n    canAddImage() {\r\n      return !this.currentUser.guestByNow && (this.canManageProject || !this.project.isReadOnly);\r\n    },\r\n\r\n    storeModule() { // path to the vuex module in which state of this component is stored (projects/currentProject/listImages)\r\n      return this.$store.getters['currentProject/currentProjectModule'] + 'listImages';\r\n    },\r\n\r\n    searchString: sync('searchString', {...storeOptions, debounce: 500}),\r\n    filtersOpened: sync('filtersOpened', storeOptions),\r\n\r\n    querySearchTags() {\r\n      return this.$route.query.tags;\r\n    },\r\n    selectedFormats: localSyncMultiselectFilter('formats', 'availableFormats'),\r\n    selectedVendors: localSyncMultiselectFilter('vendors', 'availableVendors'),\r\n    selectedTags: localSyncMultiselectFilter('selectedTags', 'availableTags'),\r\n    selectedMagnifications: localSyncMultiselectFilter('magnifications', 'availableMagnifications'),\r\n    selectedResolutions: localSyncMultiselectFilter('resolutions', 'availableResolutions'),\r\n    boundsWidth: localSyncBoundsFilter('boundsWidth', 'maxWidth'),\r\n    boundsHeight: localSyncBoundsFilter('boundsHeight', 'maxHeight'),\r\n    boundsUserAnnotations: localSyncBoundsFilter('boundsUserAnnotations', 'maxNbUserAnnotations'),\r\n    boundsJobAnnotations: localSyncBoundsFilter('boundsJobAnnotations', 'maxNbJobAnnotations'),\r\n    boundsReviewedAnnotations: localSyncBoundsFilter('boundsReviewedAnnotations', 'maxNbReviewedAnnotations'),\r\n\r\n    multiSelectFilters() {\r\n      return [\r\n        {prop: 'contentType', selected: this.selectedContentTypes, total: this.availableFormats.length},\r\n        {prop: 'magnification', selected: this.selectedMagnifications.map(option => option.value), total: this.availableMagnifications.length},\r\n        {prop: 'physicalSizeX', selected: this.selectedResolutions.map(option => option.value), total: this.availableResolutions.length},\r\n        {prop: 'tag', selected: this.selectedTags.map(option => option.id), total: this.availableTags.length}\r\n      ];\r\n    },\r\n\r\n    selectedContentTypes() {\r\n      let selectedVendors = this.selectedVendors.map(option => option.value);\r\n      let availableVendors = this.availableVendors.map(option => option.value);\r\n      let allowUnknown = selectedVendors.includes('null');\r\n      return this.selectedFormats.filter(ct => (availableVendors.includes(ct)) ? selectedVendors.includes(ct) : allowUnknown);\r\n    },\r\n\r\n    boundsFilters() {\r\n      return [\r\n        {prop: 'width', bounds: this.boundsWidth, max: this.maxWidth},\r\n        {prop: 'height', bounds: this.boundsHeight, max: this.maxHeight},\r\n        {prop: 'numberOfAnnotations', bounds: this.boundsUserAnnotations, max: this.maxNbUserAnnotations},\r\n        {prop: 'numberOfJobAnnotations', bounds: this.boundsJobAnnotations, max: this.maxNbJobAnnotations},\r\n        {prop: 'numberOfReviewedAnnotations', bounds: this.boundsReviewedAnnotations, max: this.maxNbReviewedAnnotations},\r\n      ];\r\n    },\r\n\r\n    imageCollection() {\r\n      let collection = new ImageInstanceCollection({\r\n        filterKey: 'project',\r\n        filterValue: this.project.id,\r\n      });\r\n      if(this.searchString) {\r\n        collection['name'] = {\r\n          ilike: encodeURIComponent(this.searchString)\r\n        };\r\n      }\r\n      for(let {prop, bounds, max} of this.boundsFilters) {\r\n        collection[prop] = {};\r\n        if (bounds[1]!==max) {\r\n          // if max bounds is the max possible value, do not set the filter in the request\r\n          // so that if an event (ex: algo creates an annotation) happens between the bounds request and the query request\r\n          // the image will not be skipped from the result\r\n          collection[prop] = {\r\n            lte: bounds[1]\r\n          };\r\n        }\r\n        if(bounds[0] > 0) collection[prop]['gte'] = bounds[0];\r\n      }\r\n      for(let {prop, selected, total} of this.multiSelectFilters) {\r\n        if(selected.length > 0 && selected.length < total) {\r\n          collection[prop] = {\r\n            in: selected.join()\r\n          };\r\n        }\r\n      }\r\n      return collection;\r\n    },\r\n\r\n    nbActiveFilters() {\r\n      return this.$store.getters[this.storeModule + '/nbActiveFilters'];\r\n    },\r\n    nbEmptyFilters() {\r\n      return this.$store.getters[this.storeModule + '/nbEmptyFilters'] + ((this.selectedContentTypes.length > 0) ? 0 : 1);\r\n    },\r\n\r\n    currentPage: sync('currentPage', storeOptions),\r\n    perPage: sync('perPage', storeOptions),\r\n    sortField: sync('sortField', storeOptions),\r\n    sortOrder: sync('sortOrder', storeOptions),\r\n    openedDetails: sync('openedDetails', storeOptions)\r\n  },\r\n  methods: {\r\n    async fetchFilters() {\r\n      let stats = await new ImageInstanceCollection.fetchBounds({project: this.project.id});\r\n      this.maxWidth = Math.max(100, stats.width.max);\r\n      this.maxHeight = Math.max(100, stats.height.max);\r\n      this.maxNbUserAnnotations = Math.max(100, stats.countImageAnnotations.max);\r\n      this.maxNbJobAnnotations = Math.max(100, stats.countImageJobAnnotations.max);\r\n      this.maxNbReviewedAnnotations = Math.max(100, stats.countImageReviewedAnnotations.max);\r\n\r\n\r\n      this.availableFormats = stats.format.list;\r\n\r\n      stats.format.list.forEach(format => {\r\n        let vendor = vendorFromFormat(format);\r\n        let vendorFormatted = {\r\n          value: vendor ? format : 'null',\r\n          label: vendor ? vendor.name : this.$t('unknown')\r\n        };\r\n\r\n        if (!this.availableVendors.find(vendor => vendor.value === vendorFormatted.value)) {\r\n          this.availableVendors.push(vendorFormatted);\r\n        }\r\n      });\r\n\r\n      this.availableMagnifications = stats.magnification.list.map(m => {\r\n        return {\r\n          value: m || 'null',\r\n          label: m || this.$t('unknown')\r\n        };\r\n      });\r\n      // this.availableResolutions = stats.resolution.list.map(resolution => {\r\n      //   return {\r\n      //     value: resolution || 'null',\r\n      //     label: resolution ? `${resolution.toFixed(3)} ${this.$t('um-per-pixel')}` : this.$t('unknown')\r\n      //   };\r\n      // });\r\n    },\r\n    async fetchTags() {\r\n      this.availableTags = [{id: 'null', name: this.$t('no-tag')}, ...(await TagCollection.fetchAll()).array];\r\n    },\r\n\r\n    async refreshData() {\r\n      try {\r\n        await Promise.all([\r\n          this.fetchFilters(),\r\n        ]);\r\n        this.revision++;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n      }\r\n    },\r\n\r\n    toggleFilterDisplay() {\r\n      this.filtersOpened = !this.filtersOpened;\r\n    },\r\n\r\n    isPropDisplayed(prop) {\r\n      return this.excludedProperties.includes(prop) && (this.configUI[`project-explore-image-${prop}`] == null || this.configUI[`project-explore-image-${prop}`]);\r\n    },\r\n  },\r\n  watch: {\r\n    querySearchTags(values) {\r\n      if(values) {\r\n        this.selectedTags = [];\r\n        let queriedTags = this.availableTags.filter(tag => values.split(',').includes(tag.name));\r\n        if(queriedTags) {\r\n          this.selectedTags = queriedTags;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      await Promise.all([\r\n        this.fetchFilters(),\r\n        this.fetchTags()\r\n      ]);\r\n      this.loading = false;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n    if(this.$route.query.tags) {\r\n      let queriedTags = this.availableTags.filter(tag => this.$route.query.tags.split(',').includes(tag.name));\r\n      if(queriedTags) {\r\n        this.selectedTags = queriedTags;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.panel-heading {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n::v-deep .image-thumbnail {\r\n  max-height: 4rem;\r\n  max-width: 10rem;\r\n}\r\n\r\n.search-block {\r\n  display: flex;\r\n}\r\n\r\n::v-deep .search-images {\r\n  max-width: 30rem;\r\n  margin-right: 1rem;\r\n}\r\n\r\n::v-deep td, ::v-deep th {\r\n  vertical-align: middle !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListImages.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListImages.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ListImages.vue?vue&type=template&id=793e07ba&scoped=true\"\nimport script from \"./ListImages.vue?vue&type=script&lang=js\"\nexport * from \"./ListImages.vue?vue&type=script&lang=js\"\nimport style0 from \"./ListImages.vue?vue&type=style&index=0&id=793e07ba&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"793e07ba\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.permissionError || _vm.notFoundError)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t(_vm.permissionError ? 'access-denied' : 'not-found'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t(_vm.permissionError ? 'insufficient-permission' : 'not-found-error'))+\" \")])]):_c('div',{staticClass:\"content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading},on:{\"update:active\":function($event){_vm.loading=$event}}}),(!_vm.loading)?_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"box-title\"},[_c('i18n',{attrs:{\"path\":\"detailed-image-information\",\"tag\":\"h1\"}},[_c('router-link',{attrs:{\"place\":\"imageName\",\"to\":`/project/${_vm.image.project}/image/${_vm.image.id}`}},[_c('image-name',{attrs:{\"image\":_vm.image}})],1)],1),_c('router-link',{attrs:{\"place\":\"imageName\",\"to\":`/project/${_vm.image.project}/image/${_vm.image.id}`}},[_c('button',{staticClass:\"button is-link\"},[_c('span',{staticClass:\"icon-text\"},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-image\"})]),_c('span',{staticClass:\"is-align-content-baseline\"}),_vm._v(\" \"+_vm._s(_vm.$t('open-in-viewer'))+\" \")])])]),_c('router-link',{attrs:{\"place\":\"imageName\",\"to\":_vm.prevRoute}},[_c('button',{staticClass:\"button is-link\"},[_c('span',{staticClass:\"icon-text\"},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-arrow-left\"})]),_c('span',{staticClass:\"is-align-content-baseline\"},[_vm._v(\" \"+_vm._s(_vm.$t('go-back'))+\" \")])])])])],1),(_vm.image)?_c('image-details',{attrs:{\"image\":_vm.image,\"editable\":\"\"},on:{\"setResolution\":resolution => _vm.setResolution(resolution),\"setMagnification\":magnification => _vm.image.magnification = magnification,\"delete\":function($event){return _vm.deleteImage()}}}):_vm._e()],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box error\" v-if=\"permissionError || notFoundError\">\r\n  <h2> {{ $t(permissionError ? 'access-denied' : 'not-found') }} </h2>\r\n  <p> {{ $t(permissionError ? 'insufficient-permission' : 'not-found-error') }} </p>\r\n</div>\r\n<div class=\"content-wrapper\" v-else>\r\n  <b-loading :is-full-page=\"false\" :active.sync=\"loading\" />\r\n  <div class=\"box\" v-if=\"!loading\">\r\n    <div class=\"box-title\">\r\n      <i18n path=\"detailed-image-information\" tag=\"h1\">\r\n        <router-link place=\"imageName\" :to=\"`/project/${image.project}/image/${image.id}`\">\r\n          <image-name :image=\"image\" />\r\n        </router-link>\r\n      </i18n>\r\n      <router-link place=\"imageName\" :to=\"`/project/${image.project}/image/${image.id}`\">\r\n        <button class=\"button is-link\">\r\n          <span class=\"icon-text\">\r\n            <span class=\"icon\">\r\n              <i class=\"fas fa-image\"></i>\r\n            </span>\r\n            <span class=\"is-align-content-baseline\"></span>\r\n              {{ $t('open-in-viewer')}}\r\n            </span>\r\n          </span>\r\n        </button> \r\n      </router-link>\r\n      <router-link place=\"imageName\" :to=\"prevRoute\">\r\n        <button class=\"button is-link\">\r\n          <span class=\"icon-text\">\r\n            <span class=\"icon\">\r\n              <i class=\"fas fa-arrow-left\"></i>\r\n            </span>\r\n            <span class=\"is-align-content-baseline\">\r\n              {{ $t('go-back')}}\r\n            </span>\r\n          </span>\r\n        </button> \r\n      </router-link>\r\n    </div>\r\n\r\n    <image-details\r\n      v-if=\"image\"\r\n      :image=\"image\"\r\n      editable\r\n      @setResolution=\"resolution => setResolution(resolution)\"\r\n      @setMagnification=\"magnification => image.magnification = magnification\"\r\n      @delete=\"deleteImage()\"\r\n    />\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport ImageName from './ImageName';\r\nimport ImageDetails from './ImageDetails';\r\n\r\nimport {ImageInstance} from 'cytomine-client';\r\nimport vendorFromFormat from '@/utils/vendor';\r\n\r\nexport default {\r\n  name: 'image-information',\r\n  components: {\r\n    ImageName,\r\n    ImageDetails\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      image: null,\r\n      permissionError: false,\r\n      notFoundError: false,\r\n      prevRoute: null\r\n    };\r\n  },\r\n  // https://v3.router.vuejs.org/guide/advanced/navigation-guards.html#in-component-guards\r\n  beforeRouteEnter(to, from, next) {\r\n    next(vm => {\r\n      vm.prevRoute = from\r\n    })\r\n  },\r\n  computed: {\r\n    idImage() {\r\n      return this.$route.params.idImage;\r\n    }\r\n  },\r\n  watch: {\r\n    idImage() {\r\n      this.loadImage();\r\n    }\r\n  },\r\n  methods: {\r\n    async loadImage() {\r\n      this.loading = true;\r\n      this.permissionError = false;\r\n      this.notFoundError = false;\r\n      try {\r\n        let image = await ImageInstance.fetch(this.idImage);\r\n        image.vendor = vendorFromFormat(image.contentType);\r\n        this.image = image;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        if(error.response.status === 403) {\r\n          this.permissionError = true;\r\n        }\r\n        else {\r\n          this.notFoundError = true;\r\n        }\r\n      }\r\n      this.loading = false;\r\n    },\r\n    deleteImage() {\r\n      this.$router.push(`/project/${this.image.project}`);\r\n    },\r\n    setResolution(resolution) {\r\n      this.image.physicalSizeX = resolution.x;\r\n      this.image.physicalSizeY = resolution.y;\r\n      this.image.physicalSizeZ = resolution.z;\r\n      this.image.fps = resolution.t;\r\n    }\r\n  },\r\n  created() {\r\n    this.loadImage();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .box-title {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    gap: 10px;\r\n\r\n    h1 {\r\n      flex: auto\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageInformation.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageInformation.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ImageInformation.vue?vue&type=template&id=2ffeee81&scoped=true\"\nimport script from \"./ImageInformation.vue?vue&type=script&lang=js\"\nexport * from \"./ImageInformation.vue?vue&type=script&lang=js\"\nimport style0 from \"./ImageInformation.vue?vue&type=style&index=0&id=2ffeee81&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ffeee81\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.configUI['project-annotations-tab'])?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):(_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('error-load-annotations-filters')))])]):_c('div',{staticClass:\"content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('div',[_c('div',{staticClass:\"box\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('display'))+\" \")]),_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('categorization'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.allowedCategorizations,\"label\":\"label\",\"track-by\":\"categorization\",\"allow-empty\":false,\"searchable\":false},model:{value:(_vm.selectedCategorization),callback:function ($$v) {_vm.selectedCategorization=$$v},expression:\"selectedCategorization\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('preview-size'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.allowedSizes,\"label\":\"label\",\"track-by\":\"size\",\"allow-empty\":false,\"searchable\":false},model:{value:(_vm.selectedSize),callback:function ($$v) {_vm.selectedSize=$$v},expression:\"selectedSize\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('number-per-category'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":[10, 25, 50, 100],\"allow-empty\":false,\"searchable\":false},model:{value:(_vm.nbPerPage),callback:function ($$v) {_vm.nbPerPage=$$v},expression:\"nbPerPage\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('outline-color'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.colors,\"label\":\"label\",\"track-by\":\"name\",\"allow-empty\":false,\"searchable\":false},model:{value:(_vm.selectedColor),callback:function ($$v) {_vm.selectedColor=$$v},expression:\"selectedColor\"}})],1)])])]),_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('filters'))+\" \")]),_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('annotation-type'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.annotationTypes,\"allow-empty\":false,\"searchable\":false},model:{value:(_vm.selectedAnnotationType),callback:function ($$v) {_vm.selectedAnnotationType=$$v},expression:\"selectedAnnotationType\"}})],1)]),(_vm.ontology)?_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('terms'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('ontology-tree-multiselect',{attrs:{\"ontology\":_vm.ontology,\"additionalNodes\":_vm.additionalTermNodes},model:{value:(_vm.selectedTermsIds),callback:function ($$v) {_vm.selectedTermsIds=$$v},expression:\"selectedTermsIds\"}})],1)]):_vm._e(),(_vm.tracks)?_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('tracks'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('track-tree-multiselect',{attrs:{\"tracks\":_vm.filteredTracks,\"additional-nodes\":_vm.additionalTrackNodes},model:{value:(_vm.selectedTracksIds),callback:function ($$v) {_vm.selectedTracksIds=$$v},expression:\"selectedTracksIds\"}})],1)]):_vm._e(),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('tags'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.tagsOptions,\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"allPlaceholder\":_vm.$t('all')},model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})],1)])]),_c('div',{staticClass:\"columns\"},[(_vm.selectedAnnotationType === _vm.jobAnnotationOption)?_c('div',{staticClass:\"column filter is-one-third\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('analyses'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.userJobs,\"label\":\"fullName\",\"track-by\":\"id\",\"multiple\":\"\",\"allPlaceholder\":_vm.$t('all-analyses')},model:{value:(_vm.selectedUserJobs),callback:function ($$v) {_vm.selectedUserJobs=$$v},expression:\"selectedUserJobs\"}})],1)]):(_vm.selectedAnnotationType === _vm.userAnnotationOption)?_c('div',{staticClass:\"column filter is-one-third\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('members'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.filteredMembers,\"label\":\"fullName\",\"track-by\":\"id\",\"multiple\":\"\"},model:{value:(_vm.selectedMembers),callback:function ($$v) {_vm.selectedMembers=$$v},expression:\"selectedMembers\"}})],1)]):_c('div',{staticClass:\"column filter is-one-third\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('reviewers'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.members,\"label\":\"fullName\",\"track-by\":\"id\",\"multiple\":\"\"},model:{value:(_vm.selectedReviewers),callback:function ($$v) {_vm.selectedReviewers=$$v},expression:\"selectedReviewers\"}})],1)]),_c('div',{staticClass:\"column filter is-one-third\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('images'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[(_vm.tooManyImages && _vm.selectedImages.length === 0)?_c('b-input',{attrs:{\"placeholder\":_vm.$t('all-images'),\"disabled\":\"\"}}):_c('cytomine-multiselect',{attrs:{\"options\":_vm.images,\"label\":_vm.blindMode ? 'blindedName' : 'instanceFilename',\"track-by\":\"id\",\"multiple\":\"\",\"allPlaceholder\":_vm.$t('all-images')},model:{value:(_vm.selectedImages),callback:function ($$v) {_vm.selectedImages=$$v},expression:\"selectedImages\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('from'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-datepicker',{attrs:{\"styles\":['multiselect'],\"maxDate\":_vm.toDate || new Date()},model:{value:(_vm.fromDate),callback:function ($$v) {_vm.fromDate=$$v},expression:\"fromDate\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('to'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-datepicker',{attrs:{\"styles\":['multiselect'],\"minDate\":_vm.fromDate,\"position\":\"is-bottom-left\"},model:{value:(_vm.toDate),callback:function ($$v) {_vm.toDate=$$v},expression:\"toDate\"}})],1)])])])]),_c('div',{ref:\"listAnnots\",staticClass:\"list-annots\",on:{\"scroll\":_vm.scrollHandler}},[_vm._l((_vm.limitedCategoryOptions),function(prop){return _c('list-annotations-by',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showList(prop)),expression:\"showList(prop)\"}],key:`${_vm.selectedCategorization.categorization}${prop.id}`,attrs:{\"categorization\":_vm.selectedCategorization.categorization,\"size\":_vm.selectedSize.size,\"color\":_vm.selectedColor.hexaCode,\"nbPerPage\":_vm.nbPerPage,\"allTerms\":_vm.terms,\"allUsers\":_vm.allUsers,\"allImages\":_vm.images,\"allTracks\":_vm.tracks,\"allTags\":_vm.tags,\"prop\":prop,\"multiple-terms\":(_vm.isByTerm && prop.id === _vm.multipleTermsOption.id),\"no-term\":(_vm.isByTerm && prop.id === _vm.noTermOption.id) || (!_vm.isByTerm && _vm.noTerm),\"multiple-tracks\":(_vm.isByTrack && prop.id === _vm.multipleTracksOption.id),\"no-track\":(_vm.isByTrack && prop.id === _vm.noTrackOption.id) || (!_vm.isByTrack && _vm.noTrack),\"terms-ids\":_vm.selectedTermsIds,\"tracks-ids\":_vm.selectedTracksIds,\"tags-ids\":_vm.selectedTagsIds,\"no-tag\":(_vm.isByTag && prop.id === _vm.noTagOption.id) || (!_vm.isByTag && _vm.noTag),\"imagesIds\":_vm.selectedImagesIds,\"usersIds\":_vm.selectedUsersIds,\"reviewed\":_vm.reviewed,\"reviewUsersIds\":_vm.reviewUsersIds,\"afterThan\":_vm.afterThan,\"beforeThan\":_vm.beforeThan,\"revision\":_vm.revision,\"visible\":_vm.showList(prop)},on:{\"addTerm\":_vm.addTerm,\"addTrack\":_vm.addTrack,\"updateTermsOrTracks\":function($event){_vm.revision++},\"delete\":function($event){_vm.revision++},\"update\":function($event){_vm.revision++},\"select\":function($event){return _vm.viewAnnot($event)}}})}),(!_vm.areAllOptionsLoaded)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.loadCategories()}}},[_vm._m(0),_c('span',[_vm._v(_vm._s(_vm.$t('button-load-more')))])]):_vm._e()],2),_c('div',{staticClass:\"box\"},[_c('h2',{staticClass:\"has-text-centered\"},[_vm._v(\" \"+_vm._s(_vm.$t('download-results'))+\" \")]),_c('div',{staticClass:\"buttons is-centered\"},[_c('a',{staticClass:\"button is-link\",attrs:{\"href\":_vm.downloadURL('pdf')}},[_vm._v(_vm._s(_vm.$t('download-PDF')))]),_c('a',{staticClass:\"button is-link\",attrs:{\"href\":_vm.downloadURL('csv')}},[_vm._v(_vm._s(_vm.$t('download-CSV')))]),_c('a',{staticClass:\"button is-link\",attrs:{\"href\":_vm.downloadURL('xls')}},[_vm._v(_vm._s(_vm.$t('download-excel')))])])])]):_vm._e()],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-sync\"})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-datepicker',{class:_vm.styles,attrs:{\"value\":_vm.value,\"placeholder\":_vm.placeholder || this.$t('select-date'),\"min-date\":_vm.minDate,\"max-date\":_vm.maxDate,\"month-names\":_vm.moment.months(),\"day-names\":_vm.moment.weekdaysMin(),\"date-formatter\":date => _vm.moment(date).format('ll'),\"size\":\"is-small\",\"position\":_vm.position},on:{\"input\":function($event){return _vm.$emit('input', $event)}}},[(_vm.resetButton)?_c('div',{staticClass:\"has-text-centered\"},[_c('button',{staticClass:\"button is-small is-link\",attrs:{\"disabled\":!_vm.value},on:{\"click\":function($event){return _vm.$emit('input', null)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-reset'))+\" \")])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<b-datepicker\r\n  :class=\"styles\"\r\n  :value=\"value\"\r\n  @input=\"$emit('input', $event)\"\r\n  :placeholder=\"placeholder || this.$t('select-date')\"\r\n  :min-date=\"minDate\" :max-date=\"maxDate\"\r\n  :month-names=\"moment.months()\" :day-names=\"moment.weekdaysMin()\"\r\n  :date-formatter=\"date => moment(date).format('ll')\" size=\"is-small\"\r\n  :position=\"position\"\r\n>\r\n  <div v-if=\"resetButton\" class=\"has-text-centered\">\r\n    <button class=\"button is-small is-link\" :disabled=\"!value\" @click=\"$emit('input', null)\">\r\n      {{$t('button-reset')}}\r\n    </button>\r\n  </div>\r\n</b-datepicker>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment';\r\n\r\nexport default {\r\n  name: 'cytomine-date-picker',\r\n  props: {\r\n    value: Date,\r\n    resetButton: {type: Boolean, default: true},\r\n    maxDate: Date,\r\n    minDate: Date,\r\n    placeholder: String,\r\n    styles: {type: Array, default: () => []}, // accept \"multiselect\", \"bold-placeholder\",\r\n    position: {type: String, default: null}\r\n  },\r\n  computed: {\r\n    moment() {\r\n      return moment;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.datepicker.multiselect .input {\r\n  min-height: 40px;\r\n  background-color: rgba(255, 255, 255, 0.75);\r\n  border-radius: 5px;\r\n  border: 1px solid #e8e8e8;\r\n  font-size: 1rem;\r\n  font-family: inherit;\r\n\r\n  &::placeholder {\r\n    color: #adadad;\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.datepicker.bold-placeholder .input::placeholder {\r\n  font-weight: 600;\r\n  color: black !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDatepicker.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDatepicker.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineDatepicker.vue?vue&type=template&id=ac55ba94\"\nimport script from \"./CytomineDatepicker.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineDatepicker.vue?vue&type=script&lang=js\"\nimport style0 from \"./CytomineDatepicker.vue?vue&type=style&index=0&id=ac55ba94&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(() => _vm.activeSelector = false),expression:\"() => activeSelector = false\"}],staticClass:\"multiselect\",class:{'multiselect--active': _vm.activeSelector}},[_c('div',{staticClass:\"multiselect__select\",on:{\"click\":function($event){_vm.activeSelector = !_vm.activeSelector}}}),_c('div',{staticClass:\"multiselect__tags\",on:{\"click\":function($event){_vm.activeSelector=true}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.activeSelector),expression:\"!activeSelector\"}],staticClass:\"multiselect__tags-wrap\"},[(_vm.allSelected)?_c('strong',[_vm._v(\" \"+_vm._s(_vm.$t('all'))+\" \")]):[_vm._l((_vm.displayedSelectedTerms),function(term,index){return _c('span',{key:term.id},[_c('cytomine-term',{attrs:{\"term\":term}}),(index < _vm.displayedSelectedTerms.length - 1)?_c('span',{staticClass:\"comma\"},[_vm._v(\",\")]):_vm._e()],1)}),(_vm.countNotDisplayed > 0)?_c('strong',[_vm._v(\" \"+_vm._s(_vm.$tc(\"and-count-others\", _vm.countNotDisplayed, {count: _vm.countNotDisplayed}))+\" \")]):_vm._e()]],2),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeSelector),expression:\"activeSelector\"},{name:\"model\",rawName:\"v-model\",value:(_vm.searchString),expression:\"searchString\"}],ref:\"input\",staticClass:\"multiselect__input\",attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('select-options')},domProps:{\"value\":(_vm.searchString)},on:{\"input\":function($event){if($event.target.composing)return;_vm.searchString=$event.target.value}}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeSelector),expression:\"activeSelector\"}],staticClass:\"multiselect__content-wrapper\"},[(_vm.multiple)?_c('ul',[_c('li',{staticClass:\"multiselect__element multiselect__select-all\",on:{\"click\":function($event){return _vm.selectAll()}}},[_c('span',{class:['multiselect__option', _vm.allSelected ? 'multiselect__option--selected' : '']},[_vm._v(\" \"+_vm._s(_vm.$t('select-all'))+\" \")])])]):_vm._e(),_c('ontology-tree',{attrs:{\"ontology\":_vm.ontology,\"additionalNodes\":_vm.additionalNodes,\"startWithAdditionalNodes\":_vm.startWithAdditionalNodes,\"selectedNodes\":_vm.selectedNodes,\"searchString\":_vm.searchString,\"multipleSelection\":_vm.multiple},on:{\"select\":function($event){return _vm.handleSelection()},\"setSelectedNodes\":nodes => _vm.$emit('setSelectedNodes', nodes)},scopedSlots:_vm._u([{key:\"no-result\",fn:function(){return [_c('ul',{staticClass:\"multiselect__content\"},[_c('li',{on:{\"click\":function($event){return _vm.selectAll()}}},[_c('span',{staticClass:\"multiselect__option\"},[_vm._v(\" \"+_vm._s(_vm.$t('no-result'))+\" \")])])])]},proxy:true}])})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\n// return all terms from an ontology object\r\nexport function getAllTerms(ontology) {\r\n  return processNodes(ontology.children.array);\r\n}\r\n\r\nfunction processNodes(nodes) {\r\n  let result = [];\r\n  nodes.forEach(node => {\r\n    result.push(node);\r\n    if(node.children) {\r\n      result.push(...processNodes(node.children));\r\n    }\r\n  });\r\n  return result;\r\n}\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"multiselect\"\r\n  :class=\"{'multiselect--active': activeSelector}\"\r\n  v-click-outside=\"() => activeSelector = false\"\r\n>\r\n\r\n  <div class=\"multiselect__select\" @click=\"activeSelector = !activeSelector\"></div>\r\n\r\n  <div class=\"multiselect__tags\" @click=\"activeSelector=true\">\r\n    <div v-show=\"!activeSelector\" class=\"multiselect__tags-wrap\">\r\n      <strong v-if=\"allSelected\"> {{$t('all')}} </strong>\r\n      <template v-else>\r\n        <span v-for=\"(term, index) in displayedSelectedTerms\" :key=\"term.id\">\r\n          <cytomine-term :term=\"term\" />\r\n          <span class=\"comma\" v-if=\"index < displayedSelectedTerms.length - 1\">,</span>\r\n        </span>\r\n        <strong v-if=\"countNotDisplayed > 0\">\r\n          {{ $tc(\"and-count-others\", countNotDisplayed, {count: countNotDisplayed}) }}\r\n        </strong>\r\n      </template>\r\n    </div>\r\n    <input\r\n      v-show=\"activeSelector\"\r\n      type=\"text\"\r\n      class=\"multiselect__input\"\r\n      :placeholder=\"$t('select-options')\"\r\n      ref=\"input\"\r\n      v-model=\"searchString\"\r\n    >\r\n  </div>\r\n\r\n  <div class=\"multiselect__content-wrapper\" v-show=\"activeSelector\">\r\n    <ul v-if=\"multiple\">\r\n      <li class=\"multiselect__element multiselect__select-all\" @click=\"selectAll()\">\r\n        <span :class=\"['multiselect__option', allSelected ? 'multiselect__option--selected' : '']\">\r\n          {{$t('select-all')}}\r\n        </span>\r\n      </li>\r\n    </ul>\r\n    <ontology-tree\r\n      :ontology=\"ontology\"\r\n      :additionalNodes=\"additionalNodes\"\r\n      :startWithAdditionalNodes=\"startWithAdditionalNodes\"\r\n      :selectedNodes=\"selectedNodes\"\r\n      :searchString=\"searchString\"\r\n      :multipleSelection=\"multiple\"\r\n      @select=\"handleSelection()\"\r\n      @setSelectedNodes=\"nodes => $emit('setSelectedNodes', nodes)\"\r\n    >\r\n      <template #no-result>\r\n        <ul class=\"multiselect__content\">\r\n          <li @click=\"selectAll()\">\r\n            <span class=\"multiselect__option\">\r\n              {{$t('no-result')}}\r\n            </span>\r\n          </li>\r\n        </ul>\r\n      </template>\r\n    </ontology-tree>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport OntologyTree from './OntologyTree';\r\nimport CytomineTerm from './CytomineTerm';\r\nimport {getAllTerms} from '@/utils/ontology-utils';\r\n\r\nexport default {\r\n  name: 'ontology-tree-multiselect',\r\n  components: {\r\n    OntologyTree,\r\n    CytomineTerm\r\n  },\r\n  model: {\r\n    prop: 'selectedNodes',\r\n    event: 'setSelectedNodes'\r\n  },\r\n  props: {\r\n    ontology: {type: Object},\r\n    additionalNodes: {type: Array, default: () => []},\r\n    startWithAdditionalNodes: {type: Boolean, default: false},\r\n    selectedNodes: {type: Array, default: () => []},\r\n    multiple: {type: Boolean, default: true}\r\n  },\r\n  data() {\r\n    return {\r\n      activeSelector: false,\r\n      searchString: '',\r\n      maxNbDisplayed: 3\r\n    };\r\n  },\r\n  computed: {\r\n    allTerms() {\r\n      if(!this.ontology) {\r\n        return [];\r\n      }\r\n      let terms = this.additionalNodes.map(node => node);\r\n      terms.push(...getAllTerms(this.ontology));\r\n      return terms;\r\n    },\r\n    allSelected() {\r\n      return this.allTerms.length === this.selectedNodes.length;\r\n    },\r\n    displayedSelectedTerms() {\r\n      let ids = this.selectedNodes.slice(0, this.maxNbDisplayed);\r\n      return ids.map(id => this.allTerms.find(term => term.id === id));\r\n    },\r\n    countNotDisplayed() {\r\n      return this.selectedNodes.length - this.maxNbDisplayed;\r\n    }\r\n  },\r\n  watch: {\r\n    async activeSelector(val) {\r\n      if(val) {\r\n        await this.$nextTick();\r\n        this.$refs.input.focus();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    selectAll() {\r\n      this.$emit('setSelectedNodes', this.allSelected ? [] : this.allTerms.map(term => term.id));\r\n    },\r\n\r\n    handleSelection() {\r\n      if(!this.multiple) {\r\n        this.activeSelector = false;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyTreeMultiselect.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyTreeMultiselect.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./OntologyTreeMultiselect.vue?vue&type=template&id=b1c8e506\"\nimport script from \"./OntologyTreeMultiselect.vue?vue&type=script&lang=js\"\nexport * from \"./OntologyTreeMultiselect.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box\"},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.isInViewer || (_vm.isInViewer && !_vm.loading))?_c('div',[_c('h2',[(_vm.titlePrefix)?[_vm._v(_vm._s(_vm.titlePrefix)+\" \")]:_vm._e(),_c('span',{class:{'has-text-weight-bold': _vm.titlePrefix || _vm.titleSuffix}},[_vm._v(_vm._s(_vm.title))]),(_vm.titleSuffix)?[_vm._v(\" \"+_vm._s(_vm.titleSuffix))]:_vm._e(),_vm._v(\" (\"+_vm._s(_vm.nbAnnotations)+\") \")],2),(_vm.error)?[_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('failed-fetch-annots'))+\" \")])]:(!_vm.annotations.length)?[_c('em',{staticClass:\"no-result\"},[_vm._v(_vm._s(_vm.$t('no-annotation')))])]:[_vm._l((_vm.annotations),function(annot){return _c('annotation-preview',{key:((_vm.isInViewer) ? _vm.index : '') + _vm.title + annot.id,class:{active: _vm.isInViewer && _vm.activeSlicesIds.includes(annot.slice)},attrs:{\"annot\":annot,\"size\":_vm.size,\"color\":_vm.color,\"terms\":_vm.allTerms,\"users\":_vm.allUsers,\"images\":_vm.allImages,\"tracks\":_vm.allTracks,\"show-image-info\":!_vm.isInViewer,\"show-slice-info\":_vm.isByTrack && !_vm.noTrack},on:{\"addTerm\":function($event){return _vm.$emit('addTerm', $event)},\"addTrack\":function($event){return _vm.$emit('addTrack', $event)},\"updateTermsOrTracks\":function($event){return _vm.$emit('updateTermsOrTracks', annot)},\"updateProperties\":function($event){return _vm.$emit('updateProperties')},\"centerView\":function($event){return _vm.$emit('centerView', annot)},\"deletion\":function($event){return _vm.$emit('delete', annot)},\"select\":function($event){return _vm.$emit('select', $event)}}})}),_c('b-pagination',{attrs:{\"total\":_vm.nbAnnotations,\"current\":_vm.currentPage,\"size\":\"is-small\",\"per-page\":_vm.nbPerPage},on:{\"update:current\":function($event){_vm.currentPage=$event}}})]],2):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-popover',{attrs:{\"placement\":\"right\",\"trigger\":\"manual\",\"open\":_vm.opened,\"auto-hide\":false},scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [(_vm.opened)?_c('annotation-details',{directives:[{name:\"click-outside\",rawName:\"v-click-outside.capture\",value:((event) => _vm.close(event)),expression:\"(event) => close(event)\",modifiers:{\"capture\":true}}],attrs:{\"annotation\":_vm.annot,\"terms\":_vm.terms,\"users\":_vm.users,\"images\":_vm.images,\"tracks\":_vm.tracks,\"show-image-info\":_vm.showImageInfo},on:{\"addTerm\":function($event){return _vm.$emit('addTerm', $event)},\"addTrack\":function($event){return _vm.$emit('addTrack', $event)},\"updateTerms\":function($event){return _vm.$emit('updateTermsOrTracks')},\"updateTracks\":function($event){return _vm.$emit('updateTermsOrTracks')},\"updateProperties\":function($event){return _vm.$emit('updateProperties')},\"select\":function($event){return _vm.$emit('select', $event)},\"centerView\":function($event){return _vm.$emit('centerView')},\"deletion\":function($event){return _vm.$emit('deletion')}}}):_vm._e()]},proxy:true}])},[_c('div',{staticClass:\"annot-preview\",class:{clickable: _vm.clickable}},[_c('div',{style:(_vm.styleAnnotDetails),on:{\"click\":function($event){if($event.target !== $event.currentTarget)return null;return _vm.viewAnnot(_vm.sameViewOnClick)}}},[(_vm.showDetails)?_c('button',{ref:\"previewButton\",staticClass:\"button is-small\",on:{\"click\":function($event){_vm.opened = !_vm.opened}}},[_c('i',{class:['fas', _vm.opened ? 'fa-minus' : 'fa-plus']})]):(_vm.clickable && _vm.sameViewOnClick)?_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.viewAnnot()}}},[_c('i',{staticClass:\"fas fa-external-link-alt\"})]):_vm._e()]),(_vm.showSliceInfo)?[(_vm.image.channels > 1 || _vm.image.channels == null)?_c('div',[_vm._v(\"C: \"+_vm._s(_vm.annot.channel))]):_vm._e(),(_vm.image.depth > 1 || _vm.image.depth == null)?_c('div',[_vm._v(\"Z: \"+_vm._s(_vm.annot.zStack))]):_vm._e(),(_vm.image.duration > 1 || _vm.image.duration == null)?_c('div',[_vm._v(\"T: \"+_vm._s(_vm.annot.time))]):_vm._e()]:_vm._e()],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<v-popover\r\n  placement=\"right\"\r\n  trigger=\"manual\"\r\n  :open=\"opened\"\r\n  :auto-hide=\"false\"\r\n> <!-- autoHide leads to erratic behaviour when adding/showing DOM elements => handle display of popover manually -->\r\n\r\n  <div class=\"annot-preview\" :class=\"{clickable}\">\r\n    <div :style=\"styleAnnotDetails\" @click.self=\"viewAnnot(sameViewOnClick)\">\r\n      <button class=\"button is-small\" @click=\"opened = !opened\" ref=\"previewButton\" v-if=\"showDetails\">\r\n        <i :class=\"['fas', opened ? 'fa-minus' : 'fa-plus']\"></i>\r\n      </button>\r\n      <button class=\"button is-small\" @click=\"viewAnnot()\" v-else-if=\"clickable && sameViewOnClick\">\r\n        <i class=\"fas fa-external-link-alt\"></i>\r\n      </button>\r\n\r\n    </div>\r\n    <template v-if=\"showSliceInfo\">\r\n      <div v-if=\"image.channels > 1 || image.channels == null\">C: {{annot.channel}}</div>\r\n      <div v-if=\"image.depth > 1 || image.depth == null\">Z: {{annot.zStack}}</div>\r\n      <div v-if=\"image.duration > 1 || image.duration == null\">T: {{annot.time}}</div>\r\n    </template>\r\n  </div>\r\n\r\n  <template #popover>\r\n    <annotation-details\r\n      v-click-outside.capture=\"(event) => close(event)\"\r\n      :annotation=\"annot\"\r\n      :terms=\"terms\"\r\n      :users=\"users\"\r\n      :images=\"images\"\r\n      :tracks=\"tracks\"\r\n      :show-image-info=\"showImageInfo\"\r\n      @addTerm=\"$emit('addTerm', $event)\"\r\n      @addTrack=\"$emit('addTrack', $event)\"\r\n      @updateTerms=\"$emit('updateTermsOrTracks')\"\r\n      @updateTracks=\"$emit('updateTermsOrTracks')\"\r\n      @updateProperties=\"$emit('updateProperties')\"\r\n      @select=\"$emit('select', $event)\"\r\n      @centerView=\"$emit('centerView')\"\r\n      @deletion=\"$emit('deletion')\"\r\n      v-if=\"opened\"\r\n    /> <!-- Display component only if it is the currently displayed annotation\r\n            (prevents fetching unnecessary information) -->\r\n  </template>\r\n</v-popover>\r\n</template>\r\n\r\n<script>\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\nimport {get} from '@/utils/store-helpers.js';\r\n\r\nexport default {\r\n  name: 'annotation-preview',\r\n  props: {\r\n    annot: Object,\r\n    size: Number,\r\n    color: String,\r\n    terms: Array,\r\n    users: Array,\r\n    images: Array,\r\n    tracks: Array,\r\n    showDetails: {type: Boolean, default: true},\r\n    showImageInfo: {type: Boolean, default: true},\r\n    showSliceInfo: {type: Boolean, default: false},\r\n    clickable: {type: Boolean, default: true},\r\n    sameViewOnClick: {type: Boolean, default: false}\r\n  },\r\n  components: {\r\n    AnnotationDetails: () => import('./AnnotationDetails') // To resolve circular reference\r\n  },\r\n  data() {\r\n    return {\r\n      opened: false,\r\n      revisionCrop: 0\r\n    };\r\n  },\r\n  computed: {\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    cropParameters() {\r\n      let params = {\r\n        square: true,\r\n        complete: true,\r\n        thickness: 2,\r\n        increaseArea: 1.25,\r\n        rev: this.revisionCrop,\r\n      };\r\n\r\n      if (this.color || this.color === '') {\r\n        params.draw = true;\r\n      }\r\n      if (this.color) {\r\n        params.color = `0x${this.color}`;\r\n      }\r\n      if (this.annot.updated) {\r\n        params.updated = this.annot.updated;\r\n      }\r\n\r\n      return params;\r\n    },\r\n    cropUrl() {\r\n      return this.annot.annotationCropURL(this.size, 'jpg', this.cropParameters);\r\n    },\r\n    styleAnnotDetails() {\r\n      let url = appendShortTermToken(`${this.cropUrl}`, this.shortTermToken);\r\n      //console.log('url', url);\r\n      return {\r\n        backgroundImage: `url(${url})`,\r\n        backgroundRepeat: 'no-repeat',\r\n        width: this.size + 'px',\r\n        height: this.size + 'px'\r\n      };\r\n    },\r\n    image() {\r\n      return this.images.find(image => image.id === this.annot.image);\r\n    }\r\n  },\r\n  methods: {\r\n    viewAnnot(trySameView=false) {\r\n      if (this.clickable) {\r\n        this.$emit('select', {annot: this.annot, options:{trySameView}});\r\n      }\r\n    },\r\n    close(event) {\r\n      if(!this.opened) {\r\n        return;\r\n      }\r\n\r\n      let el = event.target;\r\n      while(el) {\r\n        if(el.classList.contains('modal') || el.classList.contains('notifications') || el.isSameNode(this.$refs.previewButton)) {\r\n          // do not close the popover if click was performed in modal or in notification\r\n          // if click performed on previewButton, handled in @click\r\n          return;\r\n        }\r\n        el = el.parentElement;\r\n      }\r\n\r\n      this.opened = false;\r\n    },\r\n    reloadAnnotationCropHandler(annot) {\r\n      if (annot.id === this.annot.id) {\r\n        this.revisionCrop++;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('reloadAnnotationCrop', this.reloadAnnotationCropHandler);\r\n  },\r\n  beforeDestroy() {\r\n    // unsubscribe from all events\r\n    this.$eventBus.$off('reloadAnnotationCrop', this.reloadAnnotationCropHandler);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.annot-preview {\r\n  display: inline-block;\r\n  background-position: center center;\r\n  background-repeat: no-repeat;\r\n  margin: 10px;\r\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n  border: 3px solid white;\r\n  text-align: right;\r\n}\r\n\r\n.clickable {\r\n  cursor: pointer;\r\n}\r\n\r\n.annot-preview .button {\r\n  font-size: 10px;\r\n  width: 20px;\r\n  height: 20px;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  left: 3px;\r\n  bottom: 3px;\r\n  border: none;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationPreview.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationPreview.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AnnotationPreview.vue?vue&type=template&id=a37d5e4e&scoped=true\"\nimport script from \"./AnnotationPreview.vue?vue&type=script&lang=js\"\nexport * from \"./AnnotationPreview.vue?vue&type=script&lang=js\"\nimport style0 from \"./AnnotationPreview.vue?vue&type=style&index=0&id=a37d5e4e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a37d5e4e\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box\">\r\n  <b-loading :is-full-page=\"false\" class=\"small\" :active=\"loading\"  />\r\n  <div v-if=\"!isInViewer || (isInViewer && !loading)\">\r\n    <h2>\r\n      <template v-if=\"titlePrefix\">{{titlePrefix}} </template>\r\n      <span :class=\"{'has-text-weight-bold': titlePrefix || titleSuffix}\">{{title}}</span>\r\n      <template v-if=\"titleSuffix\"> {{titleSuffix}}</template> ({{nbAnnotations}}) </h2>\r\n    <template v-if=\"error\">\r\n      <b-message type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n        {{$t('failed-fetch-annots')}}\r\n      </b-message>\r\n    </template>\r\n    <template v-else-if=\"!annotations.length\">\r\n      <em class=\"no-result\">{{ $t('no-annotation') }}</em>\r\n    </template>\r\n    <template v-else>\r\n      <annotation-preview\r\n        v-for=\"annot in annotations\" :key=\"((isInViewer) ? index : '') + title + annot.id\"\r\n        :class=\"{active: isInViewer && activeSlicesIds.includes(annot.slice)}\"\r\n        :annot=\"annot\"\r\n        :size=\"size\"\r\n        :color=\"color\"\r\n        :terms=\"allTerms\"\r\n        :users=\"allUsers\"\r\n        :images=\"allImages\"\r\n        :tracks=\"allTracks\"\r\n        :show-image-info=\"!isInViewer\"\r\n        :show-slice-info=\"isByTrack && !noTrack\"\r\n        @addTerm=\"$emit('addTerm', $event)\"\r\n        @addTrack=\"$emit('addTrack', $event)\"\r\n        @updateTermsOrTracks=\"$emit('updateTermsOrTracks', annot)\"\r\n        @updateProperties=\"$emit('updateProperties')\"\r\n        @centerView=\"$emit('centerView', annot)\"\r\n        @deletion=\"$emit('delete', annot)\"\r\n        @select=\"$emit('select', $event)\"\r\n      />\r\n\r\n      <b-pagination\r\n        :total=\"nbAnnotations\"\r\n        :current.sync=\"currentPage\"\r\n        size=\"is-small\"\r\n        :per-page=\"nbPerPage\"\r\n      />\r\n    </template>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {fullName} from '@/utils/user-utils.js';\r\n\r\nimport AnnotationPreview from './AnnotationPreview';\r\n\r\nimport {AnnotationCollection} from 'cytomine-client';\r\nimport constants from '@/utils/constants';\r\nimport _ from 'lodash';\r\n\r\nexport default {\r\n  name: 'list-annotations-by',\r\n  props: {\r\n    categorization: String,\r\n    nbPerPage: Number,\r\n    size: Number,\r\n    color: String,\r\n\r\n    prop: Object,\r\n\r\n    multipleTerms: Boolean,\r\n    noTerm: Boolean,\r\n    multipleTracks: Boolean,\r\n    noTrack: Boolean,\r\n    noTag: Boolean,\r\n\r\n    termsIds: Array,\r\n    tracksIds: Array,\r\n    tagsIds: Array,\r\n    imagesIds: Array,\r\n    usersIds: Array,\r\n    reviewed: Boolean,\r\n    reviewUsersIds: {type: Array, default: null},\r\n    afterThan: {type: Number, default: null},\r\n    beforeThan: {type: Number, default: null},\r\n    slicesIds: {type: Array, default: null},\r\n\r\n    allTerms: Array,\r\n    allUsers: Array,\r\n    allImages: Array,\r\n    allTracks: Array,\r\n    allTags: Array,\r\n\r\n    revision: Number,\r\n    visible: {type: Boolean, default: true},\r\n    index: String\r\n  },\r\n  components: {AnnotationPreview},\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n      annotations: [],\r\n      nbAnnotations: 0,\r\n      pendingReload: true,\r\n      savedSlice: null\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n\r\n    isByTerm() {\r\n      return this.categorization === 'TERM';\r\n    },\r\n    isByTrack() {\r\n      return this.categorization === 'TRACK';\r\n    },\r\n    isByUser() {\r\n      return this.categorization === 'USER';\r\n    },\r\n    isByImage() {\r\n      return this.categorization === 'IMAGE';\r\n    },\r\n    isByTag() {\r\n      return this.categorization === 'TAG';\r\n    },\r\n    isUncategorized() {\r\n      return this.categorization === 'UNCATEGORIZED';\r\n    },\r\n    filteredTermsIds() {\r\n      return this.termsIds.filter(id => id > 0);\r\n    },\r\n    filteredTracksIds() {\r\n      return this.tracksIds.filter(id => id > 0);\r\n    },\r\n\r\n    tooManyImages() {\r\n      return this.project.numberOfImages > constants.MAX_IMAGES_FOR_FILTER;\r\n    },\r\n\r\n    collection() {\r\n      this.revision; // to ensure that collection is reloaded if revision changes\r\n      return new AnnotationCollection({\r\n        slices: (this.isByTerm && this.isInViewer) ? this.slicesIds : null,\r\n\r\n        term: (this.isByTerm && !this.multipleTerms && !this.noTerm) ? this.prop.id : null,\r\n        track: (this.isByTrack && !this.multipleTracks && !this.noTrack) ? this.prop.id : null,\r\n        tag: (this.isByTag && !this.noTag) ? this.prop.id : null,\r\n        user: (this.isByUser) ? this.prop.id : null,\r\n        image: (this.isByImage) ? this.prop.id : null,\r\n\r\n        noTerm: this.noTerm,\r\n        multipleTerm: this.multipleTerms,\r\n        noTrack: this.noTrack,\r\n        multipleTrack: this.multipleTracks,\r\n        noTag: this.noTag,\r\n\r\n        terms: (!this.isByTerm && (this.noTerm || this.multipleTerm || this.filteredTermsIds.length < this.allTerms.length)) ? this.filteredTermsIds.filter(id => id > 0) : null,\r\n        users: (!this.isByUser && this.usersIds /*[OP-1885] && this.usersIds.length < this.allUsers.length*/) ? this.usersIds : null,\r\n        images: (!this.isByImage && ((this.tooManyImages && this.imagesIds.length > 0) || (!this.tooManyImages && this.imagesIds.length < this.allImages.length))) ? this.imagesIds : null,\r\n        tracks: (!this.isByTrack && (this.noTrack || this.multipleTrack || this.filteredTracksIds.length < this.allTracks.length)) ? this.filteredTracksIds.filter(id => id > 0) : null,\r\n        tags: (!this.isByTag && this.tagsIds) ? this.tagsIds.filter(id => id > 0) : null,\r\n\r\n        reviewed: this.reviewed,\r\n        reviewUsers: (!this.isByUser) ? this.reviewUsersIds : null,\r\n        showTerm: true,\r\n        showGIS: true,\r\n        showTrack: true,\r\n        showWKT: this.isInViewer,\r\n        showImage: this.tooManyImages,\r\n        showSlice: true,\r\n        afterThan: this.afterThan,\r\n        beforeThan: this.beforeThan,\r\n        max: this.nbPerPage,\r\n        project: this.currentProject.id\r\n      });\r\n    },\r\n    title() {\r\n      if (this.isByUser) {\r\n        return fullName(this.prop);\r\n      }\r\n      else if (this.isByImage) {\r\n        return (this.prop.blindedName) ? this.prop.blindedName : this.prop.instanceFilename;\r\n      }\r\n      else if (this.isByTerm && this.multipleTerms) {\r\n        return this.$t('multiple-terms');\r\n      }\r\n      else if (this.isByTerm && this.noTerm) {\r\n        return this.$t('no-term');\r\n      }\r\n      else if (this.isByTrack && this.multipleTracks) {\r\n        return this.$t('multiple-tracks');\r\n      }\r\n      else if (this.isByTrack && this.noTrack) {\r\n        return this.$t('no-track');\r\n      }\r\n      else if (this.isByTag && this.noTag) {\r\n        return this.$t('no-tag');\r\n      }\r\n      else if (this.isUncategorized) {\r\n        return this.$t('all-annotations-uncategorized');\r\n      }\r\n      else {\r\n        return this.prop.name;\r\n      }\r\n    },\r\n    titlePrefix() {\r\n      if (!this.isInViewer)\r\n        return '';\r\n\r\n      let prefix = '';\r\n      if (this.isByTerm) {\r\n        prefix += this.$t('currently-visible-annotations-with');\r\n        if (!this.noTerm) {\r\n          prefix += ` ${this.$t('the-term')}`;\r\n        }\r\n      }\r\n      else if (this.isByTrack) {\r\n        prefix += this.$t('currently-visible-annotations-for-track');\r\n      }\r\n\r\n      return prefix;\r\n    },\r\n    titleSuffix() {\r\n      if (!this.isInViewer)\r\n        return;\r\n      else if (this.isByTerm)\r\n        return this.$t('in-this-slice');\r\n      else\r\n        return this.$t('in-this-image');\r\n    },\r\n    isInViewer() {\r\n      return (this.index !== undefined);\r\n    },\r\n    currentProject: get('currentProject/project'),\r\n    projectModule() {\r\n      return this.$store.getters['currentProject/currentProjectModule'];\r\n    },\r\n    imageModule() {\r\n      return (this.isInViewer) ? this.$store.getters['currentProject/imageModule'](this.index) : null;\r\n    },\r\n    imageWrapper() {\r\n      return (this.isInViewer) ? this.$store.getters['currentProject/currentViewer'].images[this.index] : null;\r\n    },\r\n    currentPage: {\r\n      get() {\r\n        if (this.isInViewer) {\r\n          return this.imageWrapper.annotationsList.currentPages[this.prop.id] || 1;\r\n        }\r\n        return this.$store.state.projects[this.currentProject.id].listAnnotations.currentPages[this.prop.id] || 1;\r\n      },\r\n      set(page) {\r\n        if (this.isInViewer) {\r\n          this.$store.commit(this.imageModule + 'setCurrentPage', {prop: this.prop.id, page});\r\n        }\r\n        this.$store.commit(this.projectModule + 'listAnnotations/setCurrentPage', {prop: this.prop.id, page});\r\n      }\r\n    },\r\n    activeSlices() {\r\n      return (this.imageWrapper) ? this.imageWrapper.activeSlices : null;\r\n    },\r\n    activeSlicesIds() {\r\n      return (this.activeSlices) ? this.activeSlices.map(slice => slice.id) : [];\r\n    },\r\n    activeSliceWithSmallestRank() {\r\n      return (this.activeSlices) ? _.orderBy(this.activeSlices, ['rank'])[0] : null;\r\n    },\r\n  },\r\n  watch: {\r\n    currentPage() {\r\n      this.fetchPage();\r\n    },\r\n    collection(newCollection, oldCollection) {\r\n      if (oldCollection && newCollection.track !== oldCollection.track) {\r\n        this.initialize();\r\n      }\r\n      else {\r\n        this.fetchPage();\r\n      }\r\n    },\r\n    visible() {\r\n      if(this.pendingReload) {\r\n        this.fetchPage();\r\n      }\r\n    },\r\n    activeSlices() {\r\n      this.findPage();\r\n    }\r\n  },\r\n  methods: {\r\n    async initialize() {\r\n      await this.findPage();\r\n      await this.fetchPage(true);\r\n    },\r\n    async findPage() {\r\n      if (this.isInViewer) {\r\n        let countCollection = this.collection.clone();\r\n        countCollection.beforeSlice = this.activeSliceWithSmallestRank;\r\n        countCollection.max = 1;\r\n        this.currentPage = Math.ceil(((await countCollection.fetchPage()).totalNbItems + 1)/ this.nbPerPage);\r\n      }\r\n    },\r\n    async fetchPage(setLoading=false) {\r\n      if(!this.visible) { // prevent unnecessary reload if list not visible but schedule a reload at next opening\r\n        this.pendingReload = true;\r\n        return;\r\n      }\r\n\r\n      this.pendingReload = false;\r\n\r\n      if((!this.tooManyImages && !this.imagesIds.length) || (!this.reviewed && !this.usersIds.length)\r\n        || (this.reviewed && !this.reviewUsersIds.length) || !this.termsIds.length || !this.tracksIds.length || (this.tagsIds ? !this.tagsIds.length : 0)) {\r\n        this.annotations = [];\r\n        this.nbAnnotations = 0;\r\n        return;\r\n      }\r\n\r\n      if (setLoading)\r\n        this.loading = true;\r\n\r\n      try {\r\n        let data = await this.collection.fetchPage(this.currentPage - 1);\r\n        this.annotations = data.array;\r\n        this.nbAnnotations = data.totalNbItems;\r\n      }\r\n      catch(error) {\r\n        if(this.currentPage > 1) { // error may be due to the page number (not enough annots) => retry on first page\r\n          this.currentPage = 1;\r\n          return;\r\n        }\r\n\r\n        console.log(error);\r\n        this.nbAnnotations = 0;\r\n        this.error = true;\r\n      }\r\n      this.loading = false;\r\n    },\r\n\r\n\r\n  },\r\n  async created() {\r\n    await this.initialize();\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.box {\r\n  position: relative;\r\n}\r\n\r\n.no-result {\r\n  color: grey;\r\n}\r\n\r\n/**\r\n * TODO: use :deep(.class) when moving to Vue3\r\n */\r\n::v-deep ul.pagination-list {\r\n  justify-content: flex-end;\r\n}\r\n\r\n::v-deep .active .annot-preview {\r\n  box-shadow: 0 2px 3px rgba(39, 120, 173, 0.75), 0 0 0 1px rgba(39, 120, 173, 0.75);\r\n  font-weight: 600;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAnnotationsBy.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAnnotationsBy.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ListAnnotationsBy.vue?vue&type=template&id=357d368c&scoped=true\"\nimport script from \"./ListAnnotationsBy.vue?vue&type=script&lang=js\"\nexport * from \"./ListAnnotationsBy.vue?vue&type=script&lang=js\"\nimport style0 from \"./ListAnnotationsBy.vue?vue&type=style&index=0&id=357d368c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"357d368c\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {Style, Stroke, Fill, Circle, Text} from 'ol/style';\r\nimport {MultiPoint} from 'ol/geom';\r\nimport {asArray as hexToRgb} from 'ol/color';\r\nimport constants from '@/utils/constants';\r\n\r\n// -----\r\n\r\nexport function isCluster(feature) {\r\n  let annot = feature.get('annot');\r\n  if(!annot) {\r\n    return;\r\n  }\r\n  return annot.count != null;\r\n}\r\n\r\n// -----\r\n\r\nexport function createStrokeStyle(color, opacity=0.5) {\r\n  let colorArray = hexToRgb(color);\r\n  let colorWithOpacity = colorArray.slice();\r\n  colorWithOpacity[3] = opacity;\r\n\r\n  let stroke = new Stroke({color: colorWithOpacity, width: 2});\r\n\r\n  return new Style({\r\n    stroke,\r\n    image: new Circle({radius:5, stroke: stroke})\r\n  });\r\n}\r\n\r\nexport function createLineStrokeStyle(color, opacity=0.5) {\r\n  let colorArray = hexToRgb(color);\r\n  let colorWithOpacity = colorArray.slice();\r\n  colorWithOpacity[3] = opacity;\r\n\r\n  return new Style({stroke: new Stroke({color: colorWithOpacity, width: 5})});\r\n}\r\n\r\n// -----\r\n\r\nfunction colorWithOpacity(color, opacity) {\r\n  let colorWithOpacity = color.slice();\r\n  colorWithOpacity[3] = opacity;\r\n  return colorWithOpacity;\r\n}\r\n\r\nfunction createStroke(opacity=0.5) {\r\n  let color = (constants.ANNOTATION_STROKE_COLOR) ? constants.ANNOTATION_STROKE_COLOR : black;\r\n  return new Stroke({color: colorWithOpacity(color, opacity), width: 2});\r\n}\r\n\r\nexport function createColorStyle(color, opacity=0.5) {\r\n  let colorArray = hexToRgb(color);\r\n  let colorWithOpacity = colorArray.slice();\r\n  colorWithOpacity[3] = opacity;\r\n\r\n  let fill = new Fill({color: colorWithOpacity});\r\n\r\n  let circleStyle = new Circle({\r\n    radius: 5,\r\n    fill: new Fill({color: colorArray}),\r\n    stroke: createStroke(1),\r\n  });\r\n  circleStyle.setOpacity(opacity);\r\n\r\n  return new Style({\r\n    fill,\r\n    stroke: createStroke(opacity),\r\n    image: circleStyle\r\n  });\r\n}\r\n\r\n// -----\r\n\r\nexport function createColorLineStyle(color, opacity=0.5) {\r\n  let colorArray = hexToRgb(color);\r\n  let colorWithOpacity = colorArray.slice();\r\n  colorWithOpacity[3] = opacity;\r\n\r\n  return new Style({ stroke: new Stroke({color: colorWithOpacity, width: 3}) });\r\n}\r\n\r\n// -----\r\n\r\nlet textFill = new Fill({color: '#fff'});\r\nlet textStroke = new Stroke({color: '#000', width: 3});\r\n\r\nexport function createTextStyle(text, fontSize='22px', fill=textFill, stroke=textStroke) {\r\n  return new Style({\r\n    text: new Text({\r\n      text,\r\n      font: `${fontSize} Arial, sans-serif`,\r\n      overflow: true,\r\n      fill,\r\n      stroke\r\n    })\r\n  });\r\n}\r\n\r\n// -----\r\n\r\nlet width = 2;\r\n\r\nlet blue = [0, 153, 255, 1];\r\nlet green = [51, 160, 79, 1];\r\nlet lightGreen = [17, 214, 76, 1];\r\nlet red = [200, 40, 40, 1];\r\nlet lightRed = [255, 56, 56, 1];\r\nlet white = [255, 255, 255, 1];\r\nlet black = [0, 0, 0, 1];\r\n\r\nlet blueStroke = new Stroke({color: blue, width: width});\r\nlet greenStroke = new Stroke({color: green, width: width + 1});\r\nlet lightGreenStroke = new Stroke({color: lightGreen, width: width});\r\nlet redStroke = new Stroke({color: red, width: width + 1});\r\nlet lightRedStroke = new Stroke({color: lightRed, width: width});\r\nlet whiteStroke = new Stroke({color: white, width: width + 2});\r\n\r\nlet selectStroke = blueStroke;\r\nif (constants.ANNOTATION_STROKE_SELECT_COLOR) {\r\n  let color = colorWithOpacity(constants.ANNOTATION_STROKE_SELECT_COLOR, 1);\r\n  selectStroke = new Stroke({color, width});\r\n}\r\n\r\nexport let trackedSelectStyles = [\r\n  new Style({ stroke: whiteStroke }),\r\n  new Style({ image: new Circle({radius: 6, stroke: whiteStroke}) })\r\n];\r\n\r\nexport let selectStyles = [\r\n  new Style({ stroke: whiteStroke }),\r\n  new Style({ stroke: selectStroke }),\r\n  new Style({ image: new Circle({radius: 6, stroke: selectStroke}) })\r\n];\r\n\r\nexport let verticesStyle = new Style({\r\n  image: new Circle({radius: width + 1, fill: new Fill({color: blue})}),\r\n  geometry: function(feature) {\r\n    // return the coordinates of the first ring of the polygon\r\n    var coordinates = feature.getGeometry().getCoordinates()[0];\r\n    return new MultiPoint(coordinates);\r\n  }\r\n});\r\n\r\nexport let reviewedStyles = [\r\n  new Style({ stroke: greenStroke }),\r\n  new Style({ image: new Circle({radius: 6, stroke: greenStroke}) })\r\n];\r\n\r\nexport let reviewedSelectStyles = [\r\n  new Style({ stroke: whiteStroke }),\r\n  new Style({ stroke: lightGreenStroke }),\r\n  new Style({ image: new Circle({radius: 6, stroke: lightGreenStroke}) })\r\n];\r\n\r\nexport let rejectedStyles = [\r\n  new Style({ stroke: redStroke }),\r\n  new Style({ image: new Circle({radius: 6, stroke: redStroke}) })\r\n];\r\n\r\nexport let rejectedSelectStyles = [\r\n  new Style({ stroke: whiteStroke }),\r\n  new Style({ stroke: lightRedStroke }),\r\n  new Style({ image: new Circle({radius: 6, stroke: lightRedStroke}) })\r\n];\r\n\r\n// -----\r\n\r\nexport function changeOpacity(style, opacity) {\r\n  let stroke = style.getStroke();\r\n  if(stroke) {\r\n    stroke.getColor()[3] = opacity;\r\n  }\r\n  let fill = style.getFill();\r\n  if(fill) {\r\n    fill.getColor()[3] = opacity;\r\n  }\r\n  let image = style.getImage();\r\n  if(image) {\r\n    image.setOpacity(opacity);\r\n  }\r\n}\r\n\r\n// -----\r\n\r\nfunction createDefaultColor(name, hexaCode) {\r\n  return {\r\n    name,\r\n    fill: new Fill({color: '#' + hexaCode}),\r\n    hexaCode\r\n  };\r\n}\r\n\r\nexport const defaultColors = Object.freeze([\r\n  createDefaultColor('black', '000000'),\r\n  createDefaultColor('white', 'ffffff'),\r\n  createDefaultColor('red', 'ff0000'),\r\n  createDefaultColor('orange', 'ff6600'),\r\n  createDefaultColor('yellow', 'ffff00'),\r\n  createDefaultColor('green', '008000'),\r\n  createDefaultColor('blue', '0000ff'),\r\n  createDefaultColor('purple', '800080')\r\n]);\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(() => _vm.activeSelector = false),expression:\"() => activeSelector = false\"}],staticClass:\"multiselect\",class:{'multiselect--active': _vm.activeSelector}},[_c('div',{staticClass:\"multiselect__select\",on:{\"click\":function($event){_vm.activeSelector = !_vm.activeSelector}}}),_c('div',{staticClass:\"multiselect__tags\",on:{\"click\":function($event){_vm.activeSelector=true}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.activeSelector),expression:\"!activeSelector\"}],staticClass:\"multiselect__tags-wrap\"},[(_vm.allSelected)?_c('strong',[_vm._v(\" \"+_vm._s(_vm.$t('all'))+\" \")]):[_vm._l((_vm.displayedSelectedTracks),function(track,index){return _c('span',{key:track.id},[_c('cytomine-track',{attrs:{\"track\":track}}),(index < _vm.displayedSelectedTracks.length - 1)?_c('span',{staticClass:\"comma\"},[_vm._v(\",\")]):_vm._e()],1)}),(_vm.countNotDisplayed > 0)?_c('strong',[_vm._v(\" \"+_vm._s(_vm.$tc(\"and-count-others\", _vm.countNotDisplayed, {count: _vm.countNotDisplayed}))+\" \")]):_vm._e()]],2),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeSelector),expression:\"activeSelector\"},{name:\"model\",rawName:\"v-model\",value:(_vm.searchString),expression:\"searchString\"}],ref:\"input\",staticClass:\"multiselect__input\",attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('select-options')},domProps:{\"value\":(_vm.searchString)},on:{\"input\":function($event){if($event.target.composing)return;_vm.searchString=$event.target.value}}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeSelector),expression:\"activeSelector\"}],staticClass:\"multiselect__content-wrapper\"},[(_vm.multiple)?_c('ul',[_c('li',{staticClass:\"multiselect__element multiselect__select-all\",on:{\"click\":function($event){return _vm.selectAll()}}},[_c('span',{class:['multiselect__option', _vm.allSelected ? 'multiselect__option--selected' : '']},[_vm._v(\" \"+_vm._s(_vm.$t('select-all'))+\" \")])])]):_vm._e(),_c('track-tree',{attrs:{\"tracks\":_vm.tracks,\"additionalNodes\":_vm.additionalNodes,\"startWithAdditionalNodes\":_vm.startWithAdditionalNodes,\"selectedNodes\":_vm.selectedNodes,\"searchString\":_vm.searchString,\"multipleSelection\":_vm.multiple},on:{\"select\":function($event){return _vm.handleSelection()},\"setSelectedNodes\":nodes => _vm.$emit('setSelectedNodes', nodes)},scopedSlots:_vm._u([{key:\"no-result\",fn:function(){return [_c('ul',{staticClass:\"multiselect__content\"},[_c('li',{on:{\"click\":function($event){return _vm.selectAll()}}},[_c('span',{staticClass:\"multiselect__option\"},[_vm._v(\" \"+_vm._s(_vm.$t('no-result'))+\" \")])])])]},proxy:true}])})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"multiselect\"\r\n  :class=\"{'multiselect--active': activeSelector}\"\r\n  v-click-outside=\"() => activeSelector = false\"\r\n>\r\n\r\n  <div class=\"multiselect__select\" @click=\"activeSelector = !activeSelector\"></div>\r\n\r\n  <div class=\"multiselect__tags\" @click=\"activeSelector=true\">\r\n    <div v-show=\"!activeSelector\" class=\"multiselect__tags-wrap\">\r\n      <strong v-if=\"allSelected\"> {{$t('all')}} </strong>\r\n      <template v-else>\r\n        <span v-for=\"(track, index) in displayedSelectedTracks\" :key=\"track.id\">\r\n          <cytomine-track :track=\"track\" />\r\n          <span class=\"comma\" v-if=\"index < displayedSelectedTracks.length - 1\">,</span>\r\n        </span>\r\n        <strong v-if=\"countNotDisplayed > 0\">\r\n          {{ $tc(\"and-count-others\", countNotDisplayed, {count: countNotDisplayed}) }}\r\n        </strong>\r\n      </template>\r\n    </div>\r\n    <input\r\n      v-show=\"activeSelector\"\r\n      type=\"text\"\r\n      class=\"multiselect__input\"\r\n      :placeholder=\"$t('select-options')\"\r\n      ref=\"input\"\r\n      v-model=\"searchString\"\r\n    >\r\n  </div>\r\n\r\n  <div class=\"multiselect__content-wrapper\" v-show=\"activeSelector\">\r\n    <ul v-if=\"multiple\">\r\n      <li class=\"multiselect__element multiselect__select-all\" @click=\"selectAll()\">\r\n        <span :class=\"['multiselect__option', allSelected ? 'multiselect__option--selected' : '']\">\r\n          {{$t('select-all')}}\r\n        </span>\r\n      </li>\r\n    </ul>\r\n    <track-tree\r\n      :tracks=\"tracks\"\r\n      :additionalNodes=\"additionalNodes\"\r\n      :startWithAdditionalNodes=\"startWithAdditionalNodes\"\r\n      :selectedNodes=\"selectedNodes\"\r\n      :searchString=\"searchString\"\r\n      :multipleSelection=\"multiple\"\r\n      @select=\"handleSelection()\"\r\n      @setSelectedNodes=\"nodes => $emit('setSelectedNodes', nodes)\"\r\n    >\r\n      <template #no-result>\r\n        <ul class=\"multiselect__content\">\r\n          <li @click=\"selectAll()\">\r\n            <span class=\"multiselect__option\">\r\n              {{$t('no-result')}}\r\n            </span>\r\n          </li>\r\n        </ul>\r\n      </template>\r\n    </track-tree>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport TrackTree from './TrackTree';\r\nimport CytomineTrack from './CytomineTrack';\r\n\r\nexport default {\r\n  name: 'track-tree-multiselect',\r\n  components: {\r\n    TrackTree,\r\n    CytomineTrack\r\n  },\r\n  model: {\r\n    prop: 'selectedNodes',\r\n    event: 'setSelectedNodes'\r\n  },\r\n  props: {\r\n    tracks: {type: Array},\r\n    additionalNodes: {type: Array, default: () => []},\r\n    startWithAdditionalNodes: {type: Boolean, default: false},\r\n    selectedNodes: {type: Array, default: () => []},\r\n    multiple: {type: Boolean, default: true}\r\n  },\r\n  data() {\r\n    return {\r\n      activeSelector: false,\r\n      searchString: '',\r\n      maxNbDisplayed: 3\r\n    };\r\n  },\r\n  computed: {\r\n    allTracks() {\r\n      if(!this.tracks) {\r\n        return [];\r\n      }\r\n      let tracks = this.additionalNodes.map(node => node);\r\n      tracks.push(...this.tracks);\r\n      return tracks;\r\n    },\r\n    allSelected() {\r\n      return this.allTracks.length === this.selectedNodes.length;\r\n    },\r\n    displayedSelectedTracks() {\r\n      let ids = this.selectedNodes.slice(0, this.maxNbDisplayed);\r\n      return ids.map(id => this.allTracks.find(track => track.id === id));\r\n    },\r\n    countNotDisplayed() {\r\n      return this.selectedNodes.length - this.maxNbDisplayed;\r\n    }\r\n  },\r\n  watch: {\r\n    async activeSelector(val) {\r\n      if(val) {\r\n        await this.$nextTick();\r\n        this.$refs.input.focus();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    selectAll() {\r\n      this.$emit('setSelectedNodes', this.allSelected ? [] : this.allTracks.map(track => track.id));\r\n    },\r\n\r\n    handleSelection() {\r\n      if(!this.multiple) {\r\n        this.activeSelector = false;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackTreeMultiselect.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackTreeMultiselect.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TrackTreeMultiselect.vue?vue&type=template&id=4e8d2cbb\"\nimport script from \"./TrackTreeMultiselect.vue?vue&type=script&lang=js\"\nexport * from \"./TrackTreeMultiselect.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box error\" v-if=\"!configUI['project-annotations-tab']\">\r\n  <h2> {{ $t('access-denied') }} </h2>\r\n  <p>{{ $t('insufficient-permission') }}</p>\r\n</div>\r\n<div class=\"box error\" v-else-if=\"error\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p>{{ $t('error-load-annotations-filters') }}</p>\r\n</div>\r\n<div v-else class=\"content-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <div v-if=\"!loading\">\r\n    <div class=\"box\">\r\n      <h2> {{ $t('display') }} </h2>\r\n      <div class=\"filters\">\r\n        <div class=\"columns\">\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('categorization')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect\r\n                v-model=\"selectedCategorization\"\r\n                :options=\"allowedCategorizations\"\r\n                label=\"label\"\r\n                track-by=\"categorization\"\r\n                :allow-empty=\"false\"\r\n                :searchable=\"false\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('preview-size')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect\r\n                v-model=\"selectedSize\"\r\n                :options=\"allowedSizes\"\r\n                label=\"label\"\r\n                track-by=\"size\"\r\n                :allow-empty=\"false\"\r\n                :searchable=\"false\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('number-per-category')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect\r\n                v-model=\"nbPerPage\"\r\n                :options=\"[10, 25, 50, 100]\"\r\n                :allow-empty=\"false\"\r\n                :searchable=\"false\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('outline-color')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect\r\n                v-model=\"selectedColor\"\r\n                :options=\"colors\"\r\n                label=\"label\"\r\n                track-by=\"name\"\r\n                :allow-empty=\"false\"\r\n                :searchable=\"false\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <h2> {{ $t('filters') }} </h2>\r\n      <div class=\"filters\">\r\n        <div class=\"columns\">\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('annotation-type')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect\r\n                v-model=\"selectedAnnotationType\"\r\n                :options=\"annotationTypes\"\r\n                :allow-empty=\"false\"\r\n                :searchable=\"false\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div v-if=\"ontology\" class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('terms')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <ontology-tree-multiselect\r\n                :ontology=\"ontology\"\r\n                :additionalNodes=\"additionalTermNodes\"\r\n                v-model=\"selectedTermsIds\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div v-if=\"tracks\" class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('tracks')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <track-tree-multiselect\r\n                :tracks=\"filteredTracks\"\r\n                :additional-nodes=\"additionalTrackNodes\"\r\n                v-model=\"selectedTracksIds\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('tags')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect v-model=\"selectedTags\" :options=\"tagsOptions\"\r\n                                    label=\"name\" track-by=\"id\" :multiple=\"true\" :allPlaceholder=\"$t('all')\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"columns\">\r\n\r\n          <div v-if=\"selectedAnnotationType === jobAnnotationOption\" class=\"column filter is-one-third\">\r\n            <div class=\"filter-label\">\r\n              {{$t('analyses')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect\r\n                v-model=\"selectedUserJobs\"\r\n                :options=\"userJobs\"\r\n                label=\"fullName\"\r\n                track-by=\"id\"\r\n                multiple\r\n                :allPlaceholder=\"$t('all-analyses')\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div v-else-if=\"selectedAnnotationType === userAnnotationOption\" class=\"column filter is-one-third\">\r\n            <div class=\"filter-label\">\r\n              {{$t('members')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect\r\n                v-model=\"selectedMembers\"\r\n                :options=\"filteredMembers\"\r\n                label=\"fullName\"\r\n                track-by=\"id\"\r\n                multiple\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div v-else class=\"column filter is-one-third\">\r\n            <div class=\"filter-label\">\r\n              {{$t('reviewers')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect\r\n                v-model=\"selectedReviewers\"\r\n                :options=\"members\"\r\n                label=\"fullName\"\r\n                track-by=\"id\"\r\n                multiple\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"column filter is-one-third\">\r\n            <div class=\"filter-label\">\r\n              {{$t('images')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <b-input\r\n                v-if=\"tooManyImages && selectedImages.length === 0\"\r\n                :placeholder=\"$t('all-images')\"\r\n                disabled\r\n              />\r\n              <cytomine-multiselect\r\n                v-model=\"selectedImages\"\r\n                :options=\"images\"\r\n                :label=\"blindMode ? 'blindedName' : 'instanceFilename'\"\r\n                track-by=\"id\"\r\n                multiple\r\n                :allPlaceholder=\"$t('all-images')\"\r\n                v-else\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('from')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-datepicker v-model=\"fromDate\" :styles=\"['multiselect']\" :maxDate=\"toDate || new Date()\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('to')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-datepicker v-model=\"toDate\" :styles=\"['multiselect']\" :minDate=\"fromDate\" position=\"is-bottom-left\" />\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"list-annots\" @scroll=\"scrollHandler\" ref=\"listAnnots\">\r\n        <list-annotations-by v-for=\"prop in limitedCategoryOptions\" :key=\"`${selectedCategorization.categorization}${prop.id}`\"\r\n        :categorization=\"selectedCategorization.categorization\"\r\n        :size=\"selectedSize.size\"\r\n        :color=\"selectedColor.hexaCode\"\r\n        :nbPerPage=\"nbPerPage\"\r\n\r\n        :allTerms=\"terms\"\r\n        :allUsers=\"allUsers\"\r\n        :allImages=\"images\"\r\n        :allTracks=\"tracks\"\r\n        :allTags=\"tags\"\r\n\r\n        :prop=\"prop\"\r\n        :multiple-terms=\"(isByTerm && prop.id === multipleTermsOption.id)\"\r\n        :no-term=\"(isByTerm && prop.id === noTermOption.id) || (!isByTerm && noTerm)\"\r\n        :multiple-tracks=\"(isByTrack && prop.id === multipleTracksOption.id)\"\r\n        :no-track=\"(isByTrack && prop.id === noTrackOption.id) || (!isByTrack && noTrack)\"\r\n        :terms-ids=\"selectedTermsIds\"\r\n        :tracks-ids=\"selectedTracksIds\"\r\n        :tags-ids=\"selectedTagsIds\"\r\n        :no-tag=\"(isByTag && prop.id === noTagOption.id) || (!isByTag && noTag)\"\r\n        :imagesIds=\"selectedImagesIds\"\r\n        :usersIds=\"selectedUsersIds\"\r\n        :reviewed=\"reviewed\"\r\n        :reviewUsersIds=\"reviewUsersIds\"\r\n        :afterThan=\"afterThan\"\r\n        :beforeThan=\"beforeThan\"\r\n        :revision=\"revision\"\r\n\r\n        v-show=\"showList(prop)\"\r\n        :visible=\"showList(prop)\"\r\n\r\n        @addTerm=\"addTerm\"\r\n        @addTrack=\"addTrack\"\r\n        @updateTermsOrTracks=\"revision++\"\r\n        @delete=\"revision++\"\r\n        @update=\"revision++\"\r\n        @select=\"viewAnnot($event)\"\r\n        />\r\n      <button class=\"button\" v-if=\"!areAllOptionsLoaded\" @click=\"loadCategories()\">\r\n        <span class=\"icon\">\r\n          <i class=\"fas fa-sync\"></i>\r\n        </span>\r\n        <span>{{$t('button-load-more')}}</span>\r\n      </button>\r\n    </div>\r\n    <div class=\"box\">\r\n      <h2 class=\"has-text-centered\"> {{ $t('download-results') }} </h2>\r\n      <div class=\"buttons is-centered\">\r\n        <a class=\"button is-link\" :href=\"downloadURL('pdf')\">{{$t('download-PDF')}}</a>\r\n        <a class=\"button is-link\" :href=\"downloadURL('csv')\">{{$t('download-CSV')}}</a>\r\n        <a class=\"button is-link\" :href=\"downloadURL('xls')\">{{$t('download-excel')}}</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get, sync, syncMultiselectFilter} from '@/utils/store-helpers';\r\nimport constants from '@/utils/constants.js';\r\n\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport CytomineDatepicker from '@/components/form/CytomineDatepicker';\r\nimport OntologyTreeMultiselect from '@/components/ontology/OntologyTreeMultiselect';\r\n\r\nimport ListAnnotationsBy from './ListAnnotationsBy';\r\n\r\nimport {ImageInstanceCollection, UserCollection, UserJobCollection, AnnotationCollection, TrackCollection, TagCollection, ImageInstance} from 'cytomine-client';\r\n\r\nimport {fullName} from '@/utils/user-utils.js';\r\nimport {defaultColors} from '@/utils/style-utils.js';\r\nimport TrackTreeMultiselect from '@/components/track/TrackTreeMultiselect';\r\n\r\nimport _ from 'lodash';\r\n\r\n// store options to use with store helpers to target projects/currentProject/listImages module\r\nconst storeOptions = {rootModuleProp: 'storeModule'};\r\n// redefine helpers to use storeOptions and correct module path\r\nconst localSyncMultiselectFilter = (filterName, options) => syncMultiselectFilter(null, filterName, options, storeOptions);\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\nconst categoryBatch = constants.CATEGORY_ITEMS_PER_BATCH;\r\n\r\nexport default {\r\n  name: 'list-annotations',\r\n  components: {\r\n    TrackTreeMultiselect,\r\n    CytomineMultiselect,\r\n    CytomineDatepicker,\r\n    OntologyTreeMultiselect,\r\n    ListAnnotationsBy\r\n  },\r\n  data() {\r\n    return {\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      loading: true,\r\n      error: false,\r\n      revision: 0,\r\n\r\n      projectUsers: [],\r\n      userJobs: [],\r\n\r\n      tracks: [],\r\n\r\n      allowedSizes: [\r\n        {label: this.$t('small'), size: 85},\r\n        {label: this.$t('medium'), size: 125},\r\n        {label: this.$t('large'), size: 200},\r\n        {label: this.$t('huge'), size: 400},\r\n      ],\r\n\r\n      userAnnotationOption: this.$t('user-annotations'),\r\n      jobAnnotationOption: this.$t('analysis-annotations'),\r\n      reviewedAnnotationOption: this.$t('reviewed-annotations'),\r\n      annotationTypes: [],\r\n\r\n      images: [],\r\n      tags:[],\r\n\r\n      noTermOption: {id: 0, name: this.$t('no-term')},\r\n      multipleTermsOption: {id: -1, name: this.$t('multiple-terms')},\r\n\r\n      noTrackOption: {id: 0, name: this.$t('no-track')},\r\n      multipleTracksOption: {id: -1, name: this.$t('multiple-tracks')},\r\n\r\n      noTagOption: {id: 0, name: this.$t('no-tag')},\r\n\r\n      uncategorizedOption: {id: 0, name: this.$t('uncategorized')},\r\n\r\n      nLoadedOptionsPerCategory: {\r\n        'TERM': constants.ANNOTATIONS_MAX_ITEMS_PER_CATEGORY,\r\n        'IMAGE': constants.ANNOTATIONS_MAX_ITEMS_PER_CATEGORY,\r\n        'USER': constants.ANNOTATIONS_MAX_ITEMS_PER_CATEGORY,\r\n        'TRACK': constants.ANNOTATIONS_MAX_ITEMS_PER_CATEGORY,\r\n        'UNCATEGORIZED': constants.ANNOTATIONS_MAX_ITEMS_PER_CATEGORY\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    allowedCategorizations() {\r\n      let categorizations = [\r\n        {label: this.$t('per-term'), categorization: 'TERM'},\r\n        {label: this.$t('per-track'), categorization: 'TRACK'},\r\n        {label: this.$t('per-user'), categorization: 'USER'},\r\n      ];\r\n\r\n      if (!this.tooManyImages) {\r\n        categorizations.push({label: this.$t('per-image'), categorization: 'IMAGE'});\r\n      }\r\n\r\n      // Adding an uncategorized option at the end of the array\r\n      categorizations.push({label: this.$t('uncategorized'), categorization: 'UNCATEGORIZED'});\r\n\r\n      return categorizations;\r\n    },\r\n    currentUser: get('currentUser/user'),\r\n    project: get('currentProject/project'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    blindMode() {\r\n      return this.project.blindMode;\r\n    },\r\n    canManageProject() {\r\n      return this.$store.getters['currentProject/canManageProject'];\r\n    },\r\n    ontology: get('currentProject/ontology'),\r\n    configUI: get('currentProject/configUI'),\r\n\r\n    storeModule() { // path to the vuex module in which state of this component is stored (projects/currentProject/listAnnotations)\r\n      return this.$store.getters['currentProject/currentProjectModule'] + 'listAnnotations';\r\n    },\r\n\r\n    colors() {\r\n      let colors = defaultColors.map(color => ({label: this.$t(color.name), ...color}));\r\n      colors.push({label: this.$t('no-outline'), hexaCode: ''});\r\n      return colors;\r\n    },\r\n\r\n    selectedSize: sync('previewSize', storeOptions),\r\n    selectedCategorization: sync('categorization', storeOptions),\r\n    nbPerPage: sync('perPage', storeOptions),\r\n    selectedColor: sync('outlineColor', storeOptions),\r\n\r\n    // eslint-disable-next-line vue/return-in-computed-property\r\n    targetAnnotationType() {\r\n      switch(this.$route.query.type) {\r\n        case 'user':\r\n          return this.userAnnotationOption;\r\n        case 'algo':\r\n          return this.jobAnnotationOption;\r\n        case 'reviewed':\r\n          return this.reviewedAnnotationOption;\r\n      }\r\n    },\r\n\r\n    allUsers() {\r\n      return this.projectUsers.concat(this.userJobs);\r\n    },\r\n    members: get('currentProject/members'),\r\n    managers: get('currentProject/managers'),\r\n    filteredMembers() { // filter the members so as to return only those whose annotations can be seen by current user\r\n      if(this.canManageProject || (!this.project.hideUsersLayers && !this.project.hideAdminsLayers)) {\r\n        return this.members;\r\n      }\r\n\r\n      let idManagers = this.managers.map(m => m.id);\r\n      return this.members.filter(member => {\r\n        if(this.currentUser.id === member.id) {\r\n          return true;\r\n        }\r\n        let isManager = idManagers.includes(member.id);\r\n        return isManager ? !this.project.hideAdminsLayers : !this.project.hideUsersLayers;\r\n      });\r\n    },\r\n\r\n    terms() {\r\n      return this.$store.getters['currentProject/terms'] || [];\r\n    },\r\n    additionalTermNodes() {\r\n      let additionalNodes = [this.noTermOption];\r\n      if(this.terms.length > 1 && this.isByTerm) {\r\n        additionalNodes.push(this.multipleTermsOption);\r\n      }\r\n      return additionalNodes;\r\n    },\r\n    termsOptions() {\r\n      return this.terms.concat(this.additionalTermNodes);\r\n    },\r\n    termOptionsIds() {\r\n      return this.termsOptions.map(option => option.id);\r\n    },\r\n    filteredTracks() {\r\n      return this.tracks.filter(track => this.selectedImagesIds.includes(track.image));\r\n    },\r\n    filteredTracksIds() {\r\n      return this.filteredTracks.map(track => track.id);\r\n    },\r\n    additionalTrackNodes() {\r\n      let additionalNodes = [this.noTrackOption];\r\n      if (this.tracks.length > 1 && this.isByTrack) {\r\n        additionalNodes.push(this.multipleTracksOption);\r\n      }\r\n      return additionalNodes;\r\n    },\r\n    tracksOptions() {\r\n      return this.filteredTracks.concat(this.additionalTrackNodes);\r\n    },\r\n    trackOptionsIds() {\r\n      return this.tracksOptions.map(option => option.id);\r\n    },\r\n\r\n    tagsOptions() {\r\n      return [...this.tags, this.noTagOption];\r\n    },\r\n\r\n    selectedAnnotationType: sync('annotationType', storeOptions),\r\n    selectedMembers: localSyncMultiselectFilter('members', 'filteredMembers'),\r\n    selectedReviewers: localSyncMultiselectFilter('reviewers', 'members'),\r\n    selectedUserJobs: localSyncMultiselectFilter('userJobs', 'userJobs'),\r\n    selectedImages: localSyncMultiselectFilter('images', 'images'),\r\n    selectedTags: localSyncMultiselectFilter('tags', 'tagsOptions'),\r\n    selectedTracksIds: localSyncMultiselectFilter('tracksIds', 'trackOptionsIds'),\r\n    selectedTermsIds: localSyncMultiselectFilter('termsIds', 'termOptionsIds'),\r\n    fromDate: sync('fromDate', storeOptions),\r\n    toDate: sync('toDate', storeOptions),\r\n\r\n    afterThan() {\r\n      return this.fromDate ? this.fromDate.getTime() : null;\r\n    },\r\n    beforeThan() {\r\n      return this.toDate ? this.toDate.setHours(23, 59, 59, 999) : null;\r\n    },\r\n\r\n    reviewed() {\r\n      return this.selectedAnnotationType === this.reviewedAnnotationOption;\r\n    },\r\n    selectedUsersIds() {\r\n      if(this.reviewed) {\r\n        return null;\r\n      }\r\n      let users = (this.selectedAnnotationType === this.jobAnnotationOption) ? this.selectedUserJobs : this.selectedMembers;\r\n      return users.map(user => user.id);\r\n    },\r\n    reviewUsersIds() {\r\n      return this.reviewed ? this.selectedReviewers.map(u => u.id) : null;\r\n    },\r\n\r\n    querySearchImage() {\r\n      return this.$route.query.image;\r\n    },\r\n    querySearchTags() {\r\n      return this.$route.query.tags;\r\n    },\r\n    selectedImagesIds() {\r\n      return this.selectedImages.map(img => img.id);\r\n    },\r\n    // eslint-disable-next-line vue/return-in-computed-property\r\n    /**\r\n     * This computed property returns an array.\r\n     * The array will be either empty or will be multiple objects of the same type.\r\n     * The type of these objects depends on the selected categorization.\r\n     */\r\n    categoryOptions() {\r\n      switch (this.selectedCategorization.categorization) {\r\n        case 'TERM':\r\n          return this.termsOptions;\r\n        case 'IMAGE':\r\n          return this.images;\r\n        case 'USER':\r\n          if (this.selectedAnnotationType === this.jobAnnotationOption)\r\n            return this.selectedUserJobs;\r\n          if (this.reviewed)\r\n            return this.selectedReviewers;\r\n          return this.selectedMembers;\r\n        case 'TRACK':\r\n          return this.tracksOptions;\r\n        case 'UNCATEGORIZED':\r\n          // Return an array containing one option to stick to the current behavior\r\n          return [this.uncategorizedOption];\r\n        default:\r\n          return [];\r\n      }\r\n    },\r\n    /**\r\n     * In the template, we loop over the limitedCategoryOptions computed property.\r\n     * Zero, one or multiple ListAnnotationBy component can be rendered from this array.\r\n     * The array is built by slicing the categoryOptions computed property.\r\n     */\r\n    limitedCategoryOptions() {\r\n      return this.categoryOptions.slice(0, this.nLoadedOptionsPerCategory[this.selectedCategorization.categorization]);\r\n    },\r\n    areAllOptionsLoaded() {\r\n      return this.categoryOptions.length === this.limitedCategoryOptions.length;\r\n    },\r\n    isByTerm() {\r\n      return this.selectedCategorization.categorization === 'TERM';\r\n    },\r\n    isByTrack() {\r\n      return this.selectedCategorization.categorization === 'TRACK';\r\n    },\r\n    isByTag() {\r\n      return this.selectedCategorization.categorization === 'TAG';\r\n    },\r\n    noTerm() {\r\n      return this.selectedTermsIds.includes(this.noTermOption.id);\r\n    },\r\n    noTrack() {\r\n      return this.selectedTracksIds.includes(this.noTrackOption.id);\r\n    },\r\n    noTag() {\r\n      return this.selectedTagsIds.includes(this.noTagOption.id);\r\n    },\r\n\r\n    selectedTagsIds() {\r\n      return this.selectedTags.map(t => t.id);\r\n    },\r\n    collection() {\r\n      let users = (this.selectedAnnotationType === this.jobAnnotationOption) ? this.userJobs : this.projectUsers;\r\n\r\n      let collection = new AnnotationCollection({\r\n        project: this.project.id,\r\n        terms: this.selectedTermsIds.length===this.termsOptions.length ? null : this.selectedTermsIds,\r\n        images: !(this.tooManyImages && this.selectedImages.length === 0) ? this.selectedImagesIds : null,\r\n        users: /*[OP-1885] (this.selectedUsersIds && this.selectedUsersIds.length===users.length) ? null :*/ this.selectedUsersIds,\r\n        reviewed: this.reviewed,\r\n        reviewUsers: this.reviewUsersIds,\r\n        noTerm: this.noTerm,\r\n        multipleTerms: this.selectedTermsIds.includes(this.multipleTermsOption.id),\r\n        afterThan: this.afterThan,\r\n        beforeThan: this.beforeThan\r\n      });\r\n\r\n      if(this.selectedTagsIds.length > 0 && this.selectedTagsIds.length < this.tags.length) {\r\n        collection['tags'] = this.selectedTagsIds;\r\n        collection['noTag'] = this.noTag;\r\n      }\r\n\r\n      return collection;\r\n    },\r\n    tooManyImages() {\r\n      return this.project.numberOfImages > constants.MAX_IMAGES_FOR_FILTER;\r\n    }\r\n  },\r\n  methods: {\r\n    scrollHandler: _.debounce(function() {\r\n      let scrollBlock = this.$refs.listAnnots;\r\n      let actualScrollPos = scrollBlock.scrollTop + scrollBlock.clientHeight;\r\n\r\n      if (actualScrollPos === scrollBlock.scrollHeight && !this.areAllOptionsLoaded) {\r\n        console.log(\"Loading new categories from scroll handler.\");\r\n        this.loadCategories();\r\n      }\r\n    }, 100),\r\n    loadCategories(){\r\n      const newCount = this.limitedCategoryOptions.length + categoryBatch;\r\n      if (newCount >= this.categoryOptions.length) {\r\n        this.nLoadedOptionsPerCategory[this.selectedCategorization.categorization] = this.categoryOptions.length;\r\n      }\r\n      else {\r\n        this.nLoadedOptionsPerCategory[this.selectedCategorization.categorization] = newCount;\r\n      }\r\n    },\r\n    appendShortTermToken,\r\n    viewAnnot(data) {\r\n      this.$router.push(`/project/${this.project.id}/image/${data.annot.image}/annotation/${data.annot.id}`);\r\n    },\r\n    async fetchImages() {\r\n      if (!this.tooManyImages) {\r\n        this.images = (await ImageInstanceCollection.fetchAll({\r\n          filterKey: 'project',\r\n          filterValue: this.project.id,\r\n          light: true\r\n        })).array;\r\n      }\r\n    },\r\n    async fetchUsers() {\r\n\r\n      let collection = new UserCollection({\r\n        filterKey: 'project',\r\n        filterValue: this.project.id,\r\n      });\r\n\r\n      this.projectUsers = (await collection.fetchAll()).array;\r\n      this.projectUsers.forEach(user => {\r\n        user.fullName = fullName(user);\r\n      });\r\n    },\r\n    async fetchUserJobs() {\r\n      this.userJobs = (await UserJobCollection.fetchAll({filterKey: 'project', filterValue: this.project.id})).array;\r\n      this.userJobs.forEach(userJob => {\r\n        userJob.fullName = fullName(userJob);\r\n      });\r\n    },\r\n    async fetchTracks() {\r\n      this.tracks = (await TrackCollection.fetchAll({filterKey: 'project', filterValue: this.project.id})).array;\r\n    },\r\n    async fetchTags() {\r\n      this.tags = (await TagCollection.fetchAll()).array;\r\n    },\r\n    downloadURL(format) {\r\n      return appendShortTermToken(this.collection.getDownloadURL(format), this.shortTermToken);\r\n    },\r\n    addTerm(term) {\r\n      this.terms.push(term);\r\n      this.selectedTermsIds.push(term.id);\r\n    },\r\n    addTrack(track) {\r\n      this.tracks.push(track);\r\n    },\r\n    resetPagesAndFilters() {\r\n      this.$store.commit(this.storeModule + '/resetPagesAndFilters');\r\n    },\r\n    showList(prop) {\r\n      switch (this.selectedCategorization.categorization) {\r\n        case 'TERM':\r\n          return this.selectedTermsIds.includes(prop.id);\r\n        case 'IMAGE':\r\n          return this.selectedImagesIds.includes(prop.id);\r\n        case 'USER':\r\n          return this.reviewed ? this.reviewUsersIds.includes(prop.id) : this.selectedUsersIds.includes(prop.id);\r\n        case 'TRACK':\r\n          return this.selectedTracksIds.includes(prop.id);\r\n        /**\r\n         * We will only have one ListAnnotationBy component rendered\r\n         * when the selectedCategorization is uncategorized.\r\n         * Removing or adding terms, images, etc, \r\n         * in the filters shouldn't change the component visibility.\r\n         */\r\n        case 'UNCATEGORIZED':\r\n          return true;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    querySearchTags(values) {\r\n      if(values) {\r\n        this.selectedTags = [];\r\n        let queriedTags = this.availableTags.filter(tag => values.split(',').includes(tag.name));\r\n        if(queriedTags) {\r\n          this.resetPagesAndFilters(); // we want all annotations of the job => reset state\r\n          this.selectedTags = queriedTags;\r\n        }\r\n      }\r\n    },\r\n    querySearchImage(val) {\r\n      if(val) {\r\n        this.selectedImages = [];\r\n        let queriedImage = this.images.find(image => image.id === Number(val));\r\n        if(queriedImage) {\r\n          this.resetPagesAndFilters(); // we want all annotations of the image => reset state\r\n          this.selectedImages = [queriedImage];\r\n        }\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    this.annotationTypes = [this.userAnnotationOption, this.reviewedAnnotationOption];\r\n    if(this.algoEnabled) this.annotationTypes.splice(1, 0, this.jobAnnotationOption);\r\n\r\n    // if store was not yet initialized, set default values\r\n    if(!this.selectedSize) {\r\n      this.selectedSize = this.allowedSizes[0];\r\n    }\r\n    if(!this.selectedCategorization) {\r\n      this.selectedCategorization = this.allowedCategorizations[0];\r\n    }\r\n    if(!this.selectedColor) {\r\n      this.selectedColor = this.colors[0];\r\n    }\r\n    if(!this.selectedAnnotationType) {\r\n      this.selectedAnnotationType = this.userAnnotationOption;\r\n    }\r\n    // ---\r\n\r\n    try {\r\n      await Promise.all([\r\n        this.fetchImages(),\r\n        this.fetchUsers(),\r\n        this.fetchUserJobs(),\r\n        this.fetchTracks(),\r\n        this.fetchTags()\r\n      ]);\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n      return;\r\n    }\r\n\r\n    if(this.targetAnnotationType) {\r\n      this.resetPagesAndFilters(); // we want all annotations of this type => reset state\r\n      this.selectedAnnotationType = this.targetAnnotationType;\r\n    }\r\n\r\n    if(this.$route.query.image) {\r\n      let queriedImage = this.images.find(image => image.id === Number(this.$route.query.image));\r\n      if(this.tooManyImages) {\r\n        queriedImage = await ImageInstance.fetch(Number(this.$route.query.image));\r\n      }\r\n      if(queriedImage) {\r\n        this.resetPagesAndFilters(); // we want all annotations of the image => reset state\r\n        this.selectedImages = [queriedImage];\r\n      }\r\n    }\r\n\r\n    if(this.$route.query.userJob) {\r\n      let queriedUserJob = this.userJobs.find(uj => uj.id === Number(this.$route.query.userJob));\r\n      if(queriedUserJob) {\r\n        this.resetPagesAndFilters(); // we want all annotations of the job => reset state\r\n        this.selectedAnnotationType = this.jobAnnotationOption;\r\n        this.selectedUserJobs = [queriedUserJob];\r\n      }\r\n    }\r\n    if(this.$route.query.tags) {\r\n      let queriedTags = this.availableTags.filter(tag => this.$route.query.tags.split(',').includes(tag.name));\r\n      if(queriedTags) {\r\n        this.resetPagesAndFilters(); // we want all annotations of the tags => reset state\r\n        this.selectedTags = queriedTags;\r\n      }\r\n    }\r\n\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.list-annots{\r\n  max-height: 80vh;\r\n  overflow: auto;\r\n  margin-bottom: 1em;\r\n}\r\n\r\n.filters:not(:last-child) {\r\n  margin-bottom: 1.25rem;\r\n}\r\n\r\n.filter.column {\r\n  padding: 0.4em 0.75em;\r\n}\r\n\r\n.button {\r\n  display: block;\r\n  margin: auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAnnotations.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAnnotations.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ListAnnotations.vue?vue&type=template&id=8e411a6c&scoped=true\"\nimport script from \"./ListAnnotations.vue?vue&type=script&lang=js\"\nexport * from \"./ListAnnotations.vue?vue&type=script&lang=js\"\nimport style0 from \"./ListAnnotations.vue?vue&type=style&index=0&id=8e411a6c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8e411a6c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.configUI['project-activities-tab'])?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):_c('div',{staticClass:\"project-activity-wrapper content-wrapper\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[(_vm.canManageProject)?_c('b-field',{staticClass:\"radio-buttons-fullwidth is-hovered\"},[_c('b-radio-button',{attrs:{\"native-value\":\"charts\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('activity-charts'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"members\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('members-activity'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"logs\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('activity-logs'))+\" \")])],1):_vm._e()],1),_c('div',{staticClass:\"column is-narrow\"},[_c('b-dropdown',{staticClass:\"date-picker-dropdown\",attrs:{\"position\":\"is-bottom-left\",\"disabled\":_vm.activeTab === 'members'},scopedSlots:_vm._u([{key:\"trigger\",fn:function(){return [_c('button',{staticClass:\"button is-hovered\"},[_c('i',{staticClass:\"far fa-calendar\"})])]},proxy:true}])},[_c('b-dropdown-item',{attrs:{\"custom\":\"\"}},[_c('b-field',{attrs:{\"label\":_vm.$t('from'),\"horizontal\":\"\"}},[_c('cytomine-datepicker',{attrs:{\"maxDate\":_vm.endDate || new Date()},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('to'),\"horizontal\":\"\"}},[_c('cytomine-datepicker',{attrs:{\"minDate\":_vm.startDate,\"maxDate\":new Date()},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1)],1)],1)],1)]),_c('div',{staticClass:\"component-wrapper\"},[_c('keep-alive',[_c(_vm.activeComponent,{tag:\"component\",attrs:{\"startDate\":_vm.startDate ? _vm.startDate.getTime() : null,\"endDate\":_vm.endDate ? _vm.endDate.setHours(23, 59, 59, 999) : null}})],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tile is-ancestor is-vertical project-activity-charts-wrapper\"},[_c('div',{staticClass:\"tile\"},[_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box chart-box\"},[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t(\"activity\")))]),_c('div',{staticClass:\"column is-narrow is-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"activity-chart-info-message\")))]),_c('p',[_vm._v(_vm._s(_vm.$t(\"barchart-hover-mouse-for-details\")))]),_c('p',[_vm._v(_vm._s(_vm.$t(\"barchart-click-label-to-toggle-visibility\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('div',{staticClass:\"chart-container big\"},[_c('activity-overview-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate,\"daysRange\":_vm.daysRange}})],1)])]),_c('div',{staticClass:\"tile is-vertical single-metrics\"},[_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box single-metric\"},[_c('div',{staticClass:\"absolute-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"project-connections-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1),_c('strong',{staticClass:\"metric\"},[_vm._v(_vm._s(_vm.nbProjectVisits != null ? _vm.nbProjectVisits : \"?\"))]),_c('strong',[_vm._v(_vm._s(_vm.$t(\"project-connections\")))])])]),_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box single-metric\"},[_c('div',{staticClass:\"absolute-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"image-consultations-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1),_c('strong',{staticClass:\"metric\"},[_vm._v(_vm._s(_vm.nbImageConsultations != null ? _vm.nbImageConsultations : \"?\"))]),_c('strong',[_vm._v(_vm._s(_vm.$t(\"image-consultations\")))])])]),_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box single-metric\"},[_c('div',{staticClass:\"absolute-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"annotation-selections-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1),_c('strong',{staticClass:\"metric\"},[_vm._v(_vm._s(_vm.nbAnnotationSelections != null ? _vm.nbAnnotationSelections : \"?\"))]),_c('strong',[_vm._v(_vm._s(_vm.$t(\"annotation-selections\")))])])])])]),_c('div',{staticClass:\"tile\"},[_c('div',{staticClass:\"tile is-vertical single-metrics\"},[_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box single-metric\"},[_c('div',{staticClass:\"absolute-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"manual-annotations-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1),_c('strong',{staticClass:\"metric\"},[_vm._v(\" \"+_vm._s(_vm.nbAnnotations[_vm.annotationTypes.USER] != null ? _vm.nbAnnotations[_vm.annotationTypes.USER] : \"?\")+\" \")]),_c('strong',[_vm._v(_vm._s(_vm.$t(\"user-annotations\")))])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.algoEnabled),expression:\"algoEnabled\"}],staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box single-metric\"},[_c('div',{staticClass:\"absolute-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"analysis-annotations-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1),_c('strong',{staticClass:\"metric\"},[_vm._v(\" \"+_vm._s(_vm.nbAnnotations[_vm.annotationTypes.ALGO] != null ? _vm.nbAnnotations[_vm.annotationTypes.ALGO] : \"?\")+\" \")]),_c('strong',[_vm._v(_vm._s(_vm.$t(\"analysis-annotations\")))])])]),_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box single-metric\"},[_c('div',{staticClass:\"absolute-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"reviewed-annotations-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1),_c('strong',{staticClass:\"metric\"},[_vm._v(\" \"+_vm._s(_vm.nbAnnotations[_vm.annotationTypes.REVIEWED] != null ? _vm.nbAnnotations[_vm.annotationTypes.REVIEWED] : \"?\")+\" \")]),_c('strong',[_vm._v(_vm._s(_vm.$t(\"reviewed-annotations\")))])])])]),_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box chart-box\"},[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t(\"number-annotations\")))]),(_vm.ontology)?[_c('div',{staticClass:\"column is-narrow has-text-right\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(_vm._s(_vm.$t(\"term\")))])]),_c('div',{staticClass:\"column is-one-third\"},[_c('ontology-tree-multiselect',{attrs:{\"ontology\":_vm.ontology,\"additionalNodes\":[{id: 0, name: this.$t('all')}],\"startWithAdditionalNodes\":true,\"multiple\":false},model:{value:(_vm.selectedTerms),callback:function ($$v) {_vm.selectedTerms=$$v},expression:\"selectedTerms\"}})],1)]:_vm._e(),_c('div',{staticClass:\"column is-narrow is-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"number-annotations-chart-info-message\")))]),_c('p',[_vm._v(_vm._s(_vm.$t(\"barchart-hover-mouse-for-details\")))]),_c('p',[_vm._v(_vm._s(_vm.$t(\"barchart-click-label-to-toggle-visibility\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)],2),_c('div',{staticClass:\"chart-container big\"},[_c('number-annotations-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate,\"daysRange\":_vm.daysRange,\"term\":_vm.selectedTerms[0] || null}})],1)])])]),(_vm.ontology)?_c('div',{staticClass:\"tile\"},[_c('div',{staticClass:\"tile is-6 is-parent is-vertical\"},[_c('div',{staticClass:\"tile is-child box chart-box no-grow\"},[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t(\"manual-annotations-vs-term\")))]),_c('div',{staticClass:\"column is-narrow is-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"annotations-vs-terms-chart-info-message\")))])]},proxy:true}],null,false,1450839247)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('div',{staticClass:\"chart-container\",style:(_vm.styleAnnotationTermChart)},[_c('annotation-term-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate},on:{\"nbElems\":val => _vm.nbElemsAnnotationTermChart = val}})],1)])]),_c('div',{staticClass:\"tile is-6 is-parent is-vertical\"},[_c('div',{staticClass:\"tile is-child box chart-box no-grow\"},[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t(\"annotated-images-vs-term\")))]),_c('div',{staticClass:\"column is-narrow is-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"annotated-images-vs-terms-chart-info-message\")))])]},proxy:true}],null,false,1273985580)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('div',{staticClass:\"chart-container\",style:(_vm.styleAnnotationTermChart)},[_c('annotated-images-by-term-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate}})],1)])])]):_vm._e(),_c('div',{staticClass:\"tile\"},[_c('div',{staticClass:\"tile is-6 is-parent is-vertical\"},[_c('div',{staticClass:\"tile is-child box chart-box no-grow\"},[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t(\"manual-annotations-vs-contributor\")))]),_c('div',{staticClass:\"column is-narrow is-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"annotations-vs-contributors-chart-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('div',{staticClass:\"chart-container\",style:(_vm.styleAnnotationContributorChart)},[_c('annotation-contributor-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate},on:{\"nbElems\":val => _vm.nbElemsAnnotationContributorChart = val}})],1)])]),_c('div',{staticClass:\"tile is-6 is-parent is-vertical\"},[_c('div',{staticClass:\"tile is-child box chart-box no-grow\"},[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t(\"annotated-images-vs-contributor\")))]),_c('div',{staticClass:\"column is-narrow is-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"annotated-images-vs-contributors-chart-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('div',{staticClass:\"chart-container\",style:(_vm.styleAnnotationContributorChart)},[_c('annotated-images-by-contributor-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate}})],1)])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {Bar} from 'vue-chartjs';\r\n\r\nimport {AnnotationType} from 'cytomine-client';\r\nimport constants from '@/utils/constants.js';\r\nexport default {\r\n  name: 'number-annotations-chart',\r\n  extends: Bar,\r\n  props: {\r\n    project: Object,\r\n    term: Number,\r\n    startDate: Number,\r\n    endDate: Number,\r\n    daysRange: Number\r\n  },\r\n  data() {\r\n    return {\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      annotationsEvolution: {\r\n        [AnnotationType.USER]: [],\r\n        [AnnotationType.ALGO]: [],\r\n        [AnnotationType.REVIEWED]: []\r\n      },\r\n      chartData: null\r\n    };\r\n  },\r\n  computed: {\r\n    locale() {\r\n      return this.$i18n.locale;\r\n    },\r\n    queryParams() {\r\n      return {\r\n        daysRange: this.daysRange,\r\n        startDate: this.startDate,\r\n        endDate: this.endDate,\r\n        accumulate: false,\r\n        reverseOrder: false,\r\n        term: this.term\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    async queryParams() {\r\n      await this.fetchData();\r\n      this.updateChart();\r\n    },\r\n    locale() {\r\n      this.updateLabels();\r\n      this.updateChart();\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchAnnotationsEvolution(type) {\r\n      this.annotationsEvolution[type] = await this.project.fetchAnnotationsEvolution({annotationType: type, ...this.queryParams});\r\n    },\r\n    async fetchData() {\r\n      await Promise.all([\r\n        this.fetchAnnotationsEvolution(AnnotationType.USER),\r\n        this.fetchAnnotationsEvolution(AnnotationType.ALGO),\r\n        this.fetchAnnotationsEvolution(AnnotationType.REVIEWED)\r\n      ]);\r\n\r\n      this.chartData.datasets[0].data = this.annotationsEvolution[AnnotationType.USER].map(item => item.size);\r\n      if(this.algoEnabled) {\r\n        this.chartData.datasets[1].data = this.annotationsEvolution[AnnotationType.ALGO].map(item => item.size);\r\n        this.chartData.datasets[2].data = this.annotationsEvolution[AnnotationType.REVIEWED].map(item => item.size);\r\n      }\r\n      else {\r\n        this.chartData.datasets[1].data = this.annotationsEvolution[AnnotationType.REVIEWED].map(item => item.size);\r\n      }\r\n      this.updateLabels();\r\n    },\r\n    updateLabels() {\r\n      this.chartData.labels = this.annotationsEvolution[AnnotationType.USER].map(item => {\r\n        let moment = this.$options.filters.moment;\r\n        return this.daysRange === 1 ? moment(Number(item.date), 'll')\r\n          : [moment(Number(item.date), 'll') + ' - ',  moment(Number(item.endDate), 'll')];\r\n      });\r\n    },\r\n    updateChart() {\r\n      this.$data._chart.update();\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.chartData = {\r\n      labels: [],\r\n      datasets: [\r\n        {\r\n          label: this.$t('user-annotations'),\r\n          data: [],\r\n          backgroundColor: '#4480c4',\r\n          borderWidth: 0\r\n        },\r\n        {\r\n          label: this.$t('reviewed-annotations'),\r\n          data: [],\r\n          backgroundColor: '#42ce77',\r\n          borderWidth: 0\r\n        }\r\n      ]\r\n    };\r\n    if(this.algoEnabled) {\r\n      this.chartData.datasets.splice(1,0,{\r\n        label: this.$t('analysis-annotations'),\r\n        data: [],\r\n        backgroundColor: '#aaa',\r\n        borderWidth: 0\r\n      });\r\n    }\r\n    await this.fetchData();\r\n\r\n    this.renderChart(this.chartData, {\r\n      maintainAspectRatio: false,\r\n      scales: {\r\n        yAxes: [{\r\n          ticks: {\r\n            min: 0\r\n          }\r\n        }],\r\n        xAxes: [{\r\n          categoryPercentage: 0.6,\r\n          gridLines: {\r\n            display: false\r\n          }\r\n        }]\r\n      }\r\n    });\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {HorizontalBar} from 'vue-chartjs';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\n\r\nimport {asArray as hexToRgb} from 'ol/color';\r\n\r\nconst defaultColor = '#eee';\r\n\r\nexport default {\r\n  name: 'annotation-term-chart',\r\n  extends: HorizontalBar,\r\n  props: {\r\n    project: Object,\r\n    startDate: Number,\r\n    endDate: Number\r\n  },\r\n  data() {\r\n    return {\r\n      chartData: null\r\n    };\r\n  },\r\n  computed: {\r\n    queryParams() {\r\n      return {\r\n        startDate: this.startDate,\r\n        endDate: this.endDate,\r\n        leafsOnly: false\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    async queryParams() {\r\n      this.doRenderChart();\r\n    }\r\n  },\r\n  methods: {\r\n    async doRenderChart() {\r\n      let terms = await this.project.fetchStatsTerms(this.queryParams);\r\n      let data = terms.map(term => term.value);\r\n      let borderColors = terms.map(term => {\r\n        let [r, g, b] = hexToRgb(term.color || defaultColor);\r\n        const factor = 0.8;\r\n        return `rgba(${r*factor}, ${g*factor}, ${b*factor}, 1)`;\r\n      });\r\n\r\n      this.$emit('nbElems', data.length);\r\n\r\n      this.renderChart({\r\n        labels: terms.map(term => term.key || this.$t('no-term')),\r\n        datasets: [\r\n          {\r\n            data,\r\n            backgroundColor: terms.map(term => term.color || defaultColor),\r\n            borderColor: borderColors,\r\n            borderWidth: 1,\r\n            hoverBorderColor: borderColors,\r\n          }\r\n        ]\r\n      }, {\r\n        maintainAspectRatio: false,\r\n        legend: {display: false},\r\n        scales: {\r\n          xAxes: [{\r\n            ticks: {\r\n              min: 0,\r\n              suggestedMax: Math.round(Math.max(...data)*1.2)+1\r\n            }\r\n          }],\r\n          yAxes: [{\r\n            gridLines: {\r\n              display: false\r\n            },\r\n            categoryPercentage: 0.6\r\n          }]\r\n        }\r\n      });\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.addPlugin(ChartDataLabels);\r\n    this.doRenderChart();\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {HorizontalBar} from 'vue-chartjs';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\n\r\nimport {asArray as hexToRgb} from 'ol/color';\r\n\r\nconst defaultColor = '#eee';\r\n\r\nexport default {\r\n  name: 'annotated-images-by-term-chart',\r\n  extends: HorizontalBar,\r\n  props: {\r\n    project: Object,\r\n    startDate: Number,\r\n    endDate: Number\r\n  },\r\n  data() {\r\n    return {\r\n      chartData: null\r\n    };\r\n  },\r\n  computed: {\r\n    queryParams() {\r\n      return {\r\n        startDate: this.startDate,\r\n        endDate: this.endDate\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    async queryParams() {\r\n      this.doRenderChart();\r\n    }\r\n  },\r\n  methods: {\r\n    async doRenderChart() {\r\n      let terms = await this.project.fetchStatsAnnotatedImagesByTerm(this.queryParams);\r\n      let data = terms.map(term => term.value);\r\n      let borderColors = terms.map(term => {\r\n        let [r, g, b] = hexToRgb(term.color || defaultColor);\r\n        const factor = 0.8;\r\n        return `rgba(${r*factor}, ${g*factor}, ${b*factor}, 1)`;\r\n      });\r\n\r\n      this.$emit('nbElems', data.length);\r\n\r\n      this.renderChart({\r\n        labels: terms.map(term => term.key || this.$t('no-term')),\r\n        datasets: [\r\n          {\r\n            data,\r\n            backgroundColor: terms.map(term => term.color || defaultColor),\r\n            borderColor: borderColors,\r\n            borderWidth: 1,\r\n            hoverBorderColor: borderColors,\r\n          }\r\n        ]\r\n      }, {\r\n        maintainAspectRatio: false,\r\n        legend: {display: false},\r\n        scales: {\r\n          xAxes: [{\r\n            ticks: {\r\n              min: 0,\r\n              suggestedMax: Math.round(Math.max(...data)*1.2)+1\r\n            }\r\n          }],\r\n          yAxes: [{\r\n            gridLines: {\r\n              display: false\r\n            },\r\n            categoryPercentage: 0.6\r\n          }]\r\n        }\r\n      });\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.addPlugin(ChartDataLabels);\r\n    this.doRenderChart();\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {HorizontalBar} from 'vue-chartjs';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\n\r\nexport default {\r\n  name: 'annotation-contributor-chart',\r\n  extends: HorizontalBar,\r\n  props: {\r\n    project: Object,\r\n    startDate: Number,\r\n    endDate: Number\r\n  },\r\n  data() {\r\n    return {\r\n      chartData: null\r\n    };\r\n  },\r\n  computed: {\r\n    queryParams() {\r\n      return {\r\n        startDate: this.startDate,\r\n        endDate: this.endDate\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    queryParams() {\r\n      this.doRenderChart();\r\n    }\r\n  },\r\n  methods: {\r\n    async doRenderChart() {\r\n      let contribs = await this.project.fetchStatsAnnotationCreators(this.queryParams);\r\n      let data = contribs.map(c => c.value);\r\n      this.$emit('nbElems', data.length);\r\n\r\n      this.renderChart({\r\n        labels: contribs.map(c => c.key),\r\n        datasets: [\r\n          {\r\n            data,\r\n            backgroundColor: '#4480c4',\r\n            borderWidth: 0\r\n          }\r\n        ]\r\n      }, {\r\n        maintainAspectRatio: false,\r\n        legend: {display: false},\r\n        scales: {\r\n          xAxes: [{\r\n            ticks: {\r\n              min: 0,\r\n              suggestedMax: Math.round(Math.max(...data)*1.2)+1\r\n            }\r\n          }],\r\n          yAxes: [{\r\n            gridLines: {\r\n              display: false\r\n            },\r\n            categoryPercentage: 0.6\r\n          }]\r\n        }\r\n      });\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.addPlugin(ChartDataLabels);\r\n    this.doRenderChart();\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {HorizontalBar} from 'vue-chartjs';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\n\r\nexport default {\r\n  name: 'annotated-images-by-contributor-chart',\r\n  extends: HorizontalBar,\r\n  props: {\r\n    project: Object,\r\n    startDate: Number,\r\n    endDate: Number\r\n  },\r\n  data() {\r\n    return {\r\n      chartData: null\r\n    };\r\n  },\r\n  computed: {\r\n    queryParams() {\r\n      return {\r\n        startDate: this.startDate,\r\n        endDate: this.endDate\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    queryParams() {\r\n      this.doRenderChart();\r\n    }\r\n  },\r\n  methods: {\r\n    async doRenderChart() {\r\n      let contribs = await this.project.fetchStatsAnnotatedImagesByCreator(this.queryParams);\r\n      let data = contribs.map(c => c.value);\r\n      this.$emit('nbElems', data.length);\r\n\r\n      this.renderChart({\r\n        labels: contribs.map(c => c.key),\r\n        datasets: [\r\n          {\r\n            data,\r\n            backgroundColor: '#4480c4',\r\n            borderWidth: 0\r\n          }\r\n        ]\r\n      }, {\r\n        maintainAspectRatio: false,\r\n        legend: {display: false},\r\n        scales: {\r\n          xAxes: [{\r\n            ticks: {\r\n              min: 0,\r\n              suggestedMax: Math.round(Math.max(...data)*1.2)+1\r\n            }\r\n          }],\r\n          yAxes: [{\r\n            gridLines: {\r\n              display: false\r\n            },\r\n            categoryPercentage: 0.6\r\n          }]\r\n        }\r\n      });\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.addPlugin(ChartDataLabels);\r\n    this.doRenderChart();\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {Bar} from 'vue-chartjs';\r\n\r\nexport default {\r\n  name: 'activity-overview-chart',\r\n  extends: Bar,\r\n  props: {\r\n    project: Object,\r\n    startDate: Number,\r\n    endDate: Number,\r\n    daysRange: Number\r\n  },\r\n  data() {\r\n    return {\r\n      projectConnections: [],\r\n      imageConsultations: [],\r\n      annotationSelections: [],\r\n      chartData: null\r\n    };\r\n  },\r\n  computed: {\r\n    locale() {\r\n      return this.$i18n.locale;\r\n    },\r\n    queryParams() {\r\n      return {\r\n        daysRange: this.daysRange,\r\n        startDate: this.startDate,\r\n        endDate: this.endDate,\r\n        accumulate: false\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    async queryParams() {\r\n      await this.fetchData();\r\n      this.updateChart();\r\n    },\r\n    locale() {\r\n      this.updateLabels();\r\n      this.updateChart();\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchProjectConnections() {\r\n      this.projectConnections = await this.project.fetchConnectionsEvolution(this.queryParams);\r\n    },\r\n    async fetchImageConsultations() {\r\n      this.imageConsultations = await this.project.fetchImageConsultationsEvolution(this.queryParams);\r\n    },\r\n    async fetchAnnotationSelections() {\r\n      this.annotationSelections = await this.project.fetchAnnotationActionsEvolution({action: 'select', ...this.queryParams});\r\n    },\r\n    async fetchData() {\r\n      await Promise.all([\r\n        this.fetchProjectConnections(),\r\n        this.fetchImageConsultations(),\r\n        this.fetchAnnotationSelections()\r\n      ]);\r\n\r\n      this.chartData.datasets[0].data = this.projectConnections.map(item => item.size);\r\n      this.chartData.datasets[1].data = this.imageConsultations.map(item => item.size);\r\n      this.chartData.datasets[2].data = this.annotationSelections.map(item => item.size);\r\n      this.updateLabels();\r\n    },\r\n    updateLabels() {\r\n      this.chartData.labels = this.projectConnections.map(item => {\r\n        let moment = this.$options.filters.moment;\r\n        return this.daysRange === 1 ? moment(Number(item.date), 'll')\r\n          : [moment(Number(item.date), 'll') + ' - ',  moment(Number(item.endDate), 'll')];\r\n      });\r\n    },\r\n    async updateChart() {\r\n      this.$data._chart.update();\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.chartData = {\r\n      labels: [],\r\n      datasets: [\r\n        {\r\n          label: this.$t('project-connections'),\r\n          data: [],\r\n          backgroundColor: '#4480c4',\r\n          borderWidth: 0\r\n        },\r\n        {\r\n          label: this.$t('image-consultations'),\r\n          data: [],\r\n          backgroundColor: '#f2418e',\r\n          borderWidth: 0\r\n        },\r\n        {\r\n          label: this.$t('annotation-selections'),\r\n          data: [],\r\n          backgroundColor: '#ffa500',\r\n          borderWidth: 0\r\n        }\r\n      ]\r\n    };\r\n\r\n    await this.fetchData();\r\n\r\n    this.renderChart(this.chartData, {\r\n      maintainAspectRatio: false,\r\n      scales: {\r\n        yAxes: [{\r\n          ticks: {\r\n            min: 0,\r\n          }\r\n        }],\r\n        xAxes: [{\r\n          categoryPercentage: 0.6,\r\n          gridLines: {\r\n            display: false // TODO when possible in chart.js: display all grid lines, even when ticks hidden (see https://stackoverflow.com/questions/44361991/show-only-nth-tick-line-on-x-axis-for-chart-js-diagram and https://stackoverflow.com/questions/43604396/how-do-i-persist-the-gridlines-for-ticks-that-are-not-displayed-chart-js and )\r\n          }\r\n        }]\r\n      }\r\n    });\r\n  }\r\n};\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"tile is-ancestor is-vertical project-activity-charts-wrapper\">\r\n  <div class=\"tile\">\r\n    <div class=\"tile is-parent\">\r\n      <div class=\"tile is-child box chart-box\">\r\n        <div class=\"columns\">\r\n          <h2 class=\"column\">{{$t(\"activity\")}}</h2>\r\n          <div class=\"column is-narrow is-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"activity-chart-info-message\")}}</p>\r\n                <p>{{$t(\"barchart-hover-mouse-for-details\")}}</p>\r\n                <p>{{$t(\"barchart-click-label-to-toggle-visibility\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n        </div>\r\n        <div class=\"chart-container big\">\r\n          <activity-overview-chart css-classes=\"chart\"\r\n            :project=\"project\"\r\n            :startDate=\"startDate\"\r\n            :endDate=\"endDate\"\r\n            :daysRange=\"daysRange\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"tile is-vertical single-metrics\">\r\n      <div class=\"tile is-parent\">\r\n        <div class=\"tile is-child box single-metric\">\r\n          <div class=\"absolute-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"project-connections-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n          <strong class=\"metric\">{{nbProjectVisits != null ? nbProjectVisits : \"?\"}}</strong>\r\n          <strong>{{$t(\"project-connections\")}}</strong>\r\n        </div>\r\n      </div>\r\n      <div class=\"tile is-parent\">\r\n        <div class=\"tile is-child box single-metric\">\r\n          <div class=\"absolute-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"image-consultations-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n          <strong class=\"metric\">{{nbImageConsultations != null ? nbImageConsultations : \"?\"}}</strong>\r\n          <strong>{{$t(\"image-consultations\")}}</strong>\r\n        </div>\r\n      </div>\r\n      <div class=\"tile is-parent\">\r\n        <div class=\"tile is-child box single-metric\">\r\n          <div class=\"absolute-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"annotation-selections-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n          <strong class=\"metric\">{{nbAnnotationSelections != null ? nbAnnotationSelections : \"?\"}}</strong>\r\n          <strong>{{$t(\"annotation-selections\")}}</strong>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"tile\">\r\n    <div class=\"tile is-vertical single-metrics\">\r\n      <div class=\"tile is-parent\">\r\n        <div class=\"tile is-child box single-metric\">\r\n          <div class=\"absolute-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"manual-annotations-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n          <strong class=\"metric\">\r\n            {{ nbAnnotations[annotationTypes.USER] != null ? nbAnnotations[annotationTypes.USER] : \"?\" }}\r\n          </strong>\r\n          <strong>{{$t(\"user-annotations\")}}</strong>\r\n        </div>\r\n      </div>\r\n      <div v-show=\"algoEnabled\" class=\"tile is-parent\">\r\n        <div class=\"tile is-child box single-metric\">\r\n          <div class=\"absolute-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"analysis-annotations-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n          <strong class=\"metric\">\r\n            {{ nbAnnotations[annotationTypes.ALGO] != null ? nbAnnotations[annotationTypes.ALGO] : \"?\" }}\r\n          </strong>\r\n          <strong>{{$t(\"analysis-annotations\")}}</strong>\r\n        </div>\r\n      </div>\r\n      <div class=\"tile is-parent\">\r\n        <div class=\"tile is-child box single-metric\">\r\n          <div class=\"absolute-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"reviewed-annotations-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n          <strong class=\"metric\">\r\n            {{ nbAnnotations[annotationTypes.REVIEWED] != null ? nbAnnotations[annotationTypes.REVIEWED] : \"?\" }}\r\n          </strong>\r\n          <strong>{{$t(\"reviewed-annotations\")}}</strong>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"tile is-parent\">\r\n      <div class=\"tile is-child box chart-box\">\r\n        <div class=\"columns\">\r\n          <h2 class=\"column\">{{$t(\"number-annotations\")}}</h2>\r\n          <template v-if=\"ontology\">\r\n            <div class=\"column is-narrow has-text-right\">\r\n              <div class=\"filter-label\">{{$t(\"term\")}}</div>\r\n            </div>\r\n            <div class=\"column is-one-third\">\r\n              <ontology-tree-multiselect\r\n                :ontology=\"ontology\"\r\n                :additionalNodes=\"[{id: 0, name: this.$t('all')}]\"\r\n                :startWithAdditionalNodes=\"true\"\r\n                :multiple=\"false\"\r\n                v-model=\"selectedTerms\"\r\n              />\r\n            </div>\r\n          </template>\r\n          <div class=\"column is-narrow is-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"number-annotations-chart-info-message\")}}</p>\r\n                <p>{{$t(\"barchart-hover-mouse-for-details\")}}</p>\r\n                <p>{{$t(\"barchart-click-label-to-toggle-visibility\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n        </div>\r\n        <div class=\"chart-container big\">\r\n          <number-annotations-chart css-classes=\"chart\"\r\n            :project=\"project\"\r\n            :startDate=\"startDate\"\r\n            :endDate=\"endDate\"\r\n            :daysRange=\"daysRange\"\r\n            :term=\"selectedTerms[0] || null\"\r\n          /> <!-- If option \"all term\" (id 0) was selected, return null instead -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"tile\" v-if=\"ontology\">\r\n    <div class=\"tile is-6 is-parent is-vertical\">\r\n      <div class=\"tile is-child box chart-box no-grow\">\r\n        <div class=\"columns\">\r\n          <h2 class=\"column\">{{$t(\"manual-annotations-vs-term\")}}</h2>\r\n          <div class=\"column is-narrow is-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"annotations-vs-terms-chart-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n        </div>\r\n        <div class=\"chart-container\" :style=\"styleAnnotationTermChart\">\r\n          <annotation-term-chart\r\n            css-classes=\"chart\"\r\n            :project=\"project\"\r\n            :startDate=\"startDate\"\r\n            :endDate=\"endDate\"\r\n            @nbElems=\"val => nbElemsAnnotationTermChart = val\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"tile is-6 is-parent is-vertical\">\r\n      <div class=\"tile is-child box chart-box no-grow\">\r\n        <div class=\"columns\">\r\n          <h2 class=\"column\">{{$t(\"annotated-images-vs-term\")}}</h2>\r\n          <div class=\"column is-narrow is-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"annotated-images-vs-terms-chart-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n        </div>\r\n        <div class=\"chart-container\" :style=\"styleAnnotationTermChart\">\r\n          <annotated-images-by-term-chart\r\n            css-classes=\"chart\"\r\n            :project=\"project\"\r\n            :startDate=\"startDate\"\r\n            :endDate=\"endDate\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"tile\">\r\n    <div class=\"tile is-6 is-parent is-vertical\">\r\n      <div class=\"tile is-child box chart-box no-grow\">\r\n        <div class=\"columns\">\r\n          <h2 class=\"column\">{{$t(\"manual-annotations-vs-contributor\")}}</h2>\r\n          <div class=\"column is-narrow is-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"annotations-vs-contributors-chart-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n        </div>\r\n        <div class=\"chart-container\" :style=\"styleAnnotationContributorChart\">\r\n          <annotation-contributor-chart\r\n            css-classes=\"chart\"\r\n            :project=\"project\"\r\n            :startDate=\"startDate\"\r\n            :endDate=\"endDate\"\r\n            @nbElems=\"val => nbElemsAnnotationContributorChart = val\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"tile is-6 is-parent is-vertical\">\r\n      <div class=\"tile is-child box chart-box no-grow\">\r\n        <div class=\"columns\">\r\n          <h2 class=\"column\">{{$t(\"annotated-images-vs-contributor\")}}</h2>\r\n          <div class=\"column is-narrow is-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"annotated-images-vs-contributors-chart-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n        </div>\r\n        <div class=\"chart-container\" :style=\"styleAnnotationContributorChart\">\r\n          <annotated-images-by-contributor-chart\r\n            css-classes=\"chart\"\r\n            :project=\"project\"\r\n            :startDate=\"startDate\"\r\n            :endDate=\"endDate\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport NumberAnnotationsChart from '@/components/charts/NumberAnnotationsChart.js';\r\nimport AnnotationTermChart from '@/components/charts/AnnotationTermChart.js';\r\nimport AnnotatedImagesByTermChart from '@/components/charts/AnnotatedImagesByTermChart.js';\r\nimport AnnotationContributorChart from '@/components/charts/AnnotationContributorChart.js';\r\nimport AnnotatedImagesByContributorChart from '@/components/charts/AnnotatedImagesByContributorChart.js';\r\nimport ActivityOverviewChart from '@/components/charts/ActivityOverviewChart.js';\r\nimport OntologyTreeMultiselect from '@/components/ontology/OntologyTreeMultiselect';\r\n\r\nimport {AnnotationType} from 'cytomine-client';\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'project-activity-charts',\r\n  props: {\r\n    startDate: Number,\r\n    endDate: Number\r\n  },\r\n  components: {\r\n    NumberAnnotationsChart,\r\n    AnnotationTermChart,\r\n    AnnotatedImagesByTermChart,\r\n    AnnotationContributorChart,\r\n    AnnotatedImagesByContributorChart,\r\n    ActivityOverviewChart,\r\n    OntologyTreeMultiselect\r\n  },\r\n  data() {\r\n    return {\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      loading: true,\r\n      nbProjectVisits: null,\r\n      nbImageConsultations: null,\r\n      nbAnnotationSelections: null,\r\n      nbAnnotations: {\r\n        [AnnotationType.USER]: null,\r\n        [AnnotationType.ALGO]: null,\r\n        [AnnotationType.REVIEWED]: null\r\n      },\r\n      selectedTerms: [0],\r\n      nbElemsAnnotationTermChart: 0,\r\n      nbElemsAnnotationContributorChart: 0\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    ontology: get('currentProject/ontology'),\r\n    queryParams() {\r\n      return {\r\n        startDate: this.startDate,\r\n        endDate: this.endDate\r\n      };\r\n    },\r\n    annotationTypes() {\r\n      return AnnotationType;\r\n    },\r\n    daysRange() { // duration of the intervals in evolution plots (depends on the length of the considered period)\r\n      let dayDuration = 24*60*60*1000;\r\n      let intervalDuration = (this.endDate || new Date().getTime()) - (this.startDate || this.project.created);\r\n\r\n      if(intervalDuration > 365*2*dayDuration) {\r\n        // large period => find a daysRange resulting in around 30 points\r\n        return Math.round(intervalDuration / dayDuration / 30);\r\n      }\r\n      else if(intervalDuration > 365*dayDuration) {\r\n        return 28;\r\n      }\r\n      else if(intervalDuration > 6*31*dayDuration) {\r\n        return 14;\r\n      }\r\n      else if(intervalDuration > 31*dayDuration) {\r\n        return 7;\r\n      }\r\n      else {\r\n        return 1;\r\n      }\r\n    },\r\n    styleAnnotationTermChart() {\r\n      return {\r\n        height: (30+this.nbElemsAnnotationTermChart*25) + 'px'\r\n      };\r\n    },\r\n    styleAnnotationContributorChart() {\r\n      return {\r\n        height: (30+this.nbElemsAnnotationContributorChart*25) + 'px'\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    startDate() {\r\n      this.loadData();\r\n    },\r\n    endDate() {\r\n      this.loadData();\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchNbConnections() {\r\n      this.nbProjectVisits = null;\r\n      this.nbProjectVisits = await this.project.fetchNbConnections(this.queryParams);\r\n    },\r\n    async fetchNbImageConsultations() {\r\n      this.nbImageConsultations = null;\r\n      this.nbImageConsultations = await this.project.fetchNbImageConsultations(this.queryParams);\r\n    },\r\n    async fetchNbAnnotationSelections() {\r\n      this.nbAnnotationSelections = null;\r\n      this.nbAnnotationSelections = await this.project.fetchNbAnnotationActions({type: 'select', ...this.queryParams});\r\n    },\r\n    async fetchNbAnnotations(type) {\r\n      this.nbAnnotations[type] = null;\r\n      this.nbAnnotations[type] = await this.project.fetchNbAnnotations({annotationType: type, ...this.queryParams});\r\n    },\r\n    async loadData() {\r\n      await Promise.all([\r\n        this.fetchNbConnections(),\r\n        this.fetchNbImageConsultations(),\r\n        this.fetchNbAnnotationSelections(),\r\n        this.fetchNbAnnotations(AnnotationType.USER),\r\n        this.fetchNbAnnotations(AnnotationType.ALGO),\r\n        this.fetchNbAnnotations(AnnotationType.REVIEWED)\r\n      ].map(p => p.catch(e => console.log(e)))); // ignore errors (handled in template) and ensure all promises finish, even if some errors occur in the process);\r\n    }\r\n  },\r\n  async created() {\r\n    await this.loadData();\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh2 {\r\n  font-size: 1.2rem;\r\n  margin-bottom: 0.5em;\r\n}\r\n\r\n.single-metrics {\r\n  flex-grow: 0;\r\n  min-width: 20em;\r\n}\r\n\r\n.single-metric strong {\r\n  display: block;\r\n  text-align: center;\r\n}\r\n\r\n.single-metric .metric {\r\n  font-size: 1.5em;\r\n}\r\n\r\n.chart-box {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.chart-container {\r\n  position: relative;\r\n}\r\n\r\n.no-grow {\r\n  flex-grow: 0 !important;\r\n}\r\n\r\n.chart-container.big {\r\n  min-height: 20em;\r\n}\r\n\r\n.columns {\r\n  align-items: center;\r\n}\r\n\r\n.filter-label {\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\n.column.is-info-circle {\r\n  padding-top: 0;\r\n  margin-top: -1em;\r\n  margin-left: 1em;\r\n}\r\n\r\n.fas.fa-info-circle {\r\n  font-size: 1.25em;\r\n  cursor: pointer;\r\n}\r\n\r\n.tile {\r\n  position: relative;\r\n}\r\n\r\n.tile > .columns {\r\n  margin-bottom: -0.5rem !important;\r\n}\r\n\r\n.absolute-info-circle {\r\n  position: absolute;\r\n  top: 0.75em;\r\n  right: 1em;\r\n}\r\n</style>\r\n\r\n<style>\r\n.project-activity-charts-wrapper .chart {\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityCharts.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityCharts.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProjectActivityCharts.vue?vue&type=template&id=a5f175d8&scoped=true\"\nimport script from \"./ProjectActivityCharts.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectActivityCharts.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProjectActivityCharts.vue?vue&type=style&index=0&id=a5f175d8&prod&scoped=true&lang=css\"\nimport style1 from \"./ProjectActivityCharts.vue?vue&type=style&index=1&id=a5f175d8&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a5f175d8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.loading)?_c('div',{staticClass:\"box\"},[(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column is-marginless\"},[_vm._v(_vm._s(_vm.$t('members-activity')))]),_c('p',{staticClass:\"column has-text-right is-size-7 has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('data-last-updated-on', {time: _vm.$options.filters.moment(_vm.lastUpdate, 'LTS')}))+\" \")])]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('div',{staticClass:\"column\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.filtersOpened = !_vm.filtersOpened}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-filter\"})]),_c('span',[_vm._v(_vm._s(_vm.filtersOpened ? _vm.$t('button-hide-filters') : _vm.$t('button-show-filters')))])])])]),_c('b-collapse',{attrs:{\"open\":_vm.filtersOpened}},[_c('div',{staticClass:\"filters columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('status'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableStatus,\"multiple\":\"\",\"searchable\":false},model:{value:(_vm.selectedStatus),callback:function ($$v) {_vm.selectedStatus=$$v},expression:\"selectedStatus\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('role'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableRoles,\"multiple\":\"\",\"searchable\":false},model:{value:(_vm.selectedRoles),callback:function ($$v) {_vm.selectedRoles=$$v},expression:\"selectedRoles\"}})],1)])])]),_c('b-table',{attrs:{\"data\":_vm.filteredMembers,\"default-sort\":\"username\",\"paginated\":true,\"per-page\":_vm.perPage,\"pagination-size\":\"is-small\"},scopedSlots:_vm._u([{key:\"default\",fn:function({row: member}){return [_c('b-table-column',{attrs:{\"field\":\"username\",\"label\":_vm.$t('username'),\"sortable\":\"\",\"width\":\"100\"}},[_c('username',{attrs:{\"user\":member,\"online\":_vm.onlineIds ? _vm.onlineIds.includes(member.id) : null,\"displayFullName\":false}})],1),_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(member.name)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"role\",\"label\":_vm.$t('role'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"20\"}},[_c('icon-project-member-role',{attrs:{\"is-manager\":member.role === _vm.managerRole}})],1),_c('b-table-column',{attrs:{\"field\":\"lastImageName\",\"label\":_vm.$t('last-image'),\"sortable\":\"\",\"width\":\"100\"}},[(member.lastImageId)?[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}/image/${member.lastImageId}`}},[_vm._v(\" \"+_vm._s(member.lastImageName)+\" \")])]:_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-record')))])],2),_c('b-table-column',{attrs:{\"field\":\"lastConnection\",\"label\":_vm.$t('last-connection'),\"sortable\":\"\",\"width\":\"100\"}},[(member.lastConnection)?[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(member.lastConnection),'ll LT'))+\" \")]:_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-record')))])],2),_c('b-table-column',{attrs:{\"field\":\"frequency\",\"label\":_vm.$t('number-connections'),\"sortable\":\"\",\"width\":\"100\"}},[_vm._v(\" \"+_vm._s(member.frequency)+\" \")]),_c('b-table-column',{attrs:{\"label\":\"\",\"centered\":\"\",\"width\":\"50\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":`/project/${_vm.project.id}/activity/user/${member.id}`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-details'))+\" \")])],1)]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-member-fitting-criteria')))])])]},proxy:true},(_vm.isManager)?{key:\"footer\",fn:function(){return [_c('p',{staticClass:\"has-text-centered\"},[_c('router-link',{staticClass:\"button is-link add-member\",attrs:{\"to\":`/project/${_vm.project.id}/configuration?tab=members`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-manage-members'))+\" \")])],1)]},proxy:true}:null,{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}],null,true)}),_c('div',{staticClass:\"legend\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('legend')))]),_c('p',[_c('icon-project-member-role'),_vm._v(\" : \"+_vm._s(_vm.$t('project-contributor')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('project-manager')))],1)])]],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div class=\"box\" v-if=\"!loading\">\r\n    <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n      <h2> {{ $t('error') }} </h2>\r\n      <p> {{ $t('unexpected-error-info-message') }} </p>\r\n    </b-message>\r\n    <template v-else>\r\n      <div class=\"columns\">\r\n        <h2 class=\"column is-marginless\">{{$t('members-activity')}}</h2>\r\n        <p class=\"column has-text-right is-size-7 has-text-grey\">\r\n          {{$t('data-last-updated-on', {time: $options.filters.moment(lastUpdate, 'LTS')})}}\r\n        </p>\r\n      </div>\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column is-one-quarter\">\r\n          <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\r\n        </div>\r\n\r\n        <div class=\"column\">\r\n          <button class=\"button\" @click=\"filtersOpened = !filtersOpened\">\r\n            <span class=\"icon\">\r\n              <i class=\"fas fa-filter\"></i>\r\n            </span>\r\n            <span>{{filtersOpened ? $t('button-hide-filters') : $t('button-show-filters')}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <b-collapse :open=\"filtersOpened\">\r\n        <div class=\"filters columns\">\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('status')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect v-model=\"selectedStatus\" :options=\"availableStatus\" multiple\r\n                :searchable=\"false\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('role')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect v-model=\"selectedRoles\" :options=\"availableRoles\" multiple\r\n                :searchable=\"false\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </b-collapse>\r\n\r\n      <b-table\r\n        :data=\"filteredMembers\"\r\n        default-sort=\"username\"\r\n        :paginated=\"true\"\r\n        :per-page=\"perPage\"\r\n        pagination-size=\"is-small\"\r\n      >\r\n        <template #default=\"{row: member}\">\r\n          <b-table-column field=\"username\" :label=\"$t('username')\" sortable width=\"100\">\r\n            <username :user=\"member\" :online=\"onlineIds ? onlineIds.includes(member.id) : null\" :displayFullName=\"false\" />\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"name\" :label=\"$t('name')\" sortable width=\"150\">\r\n            {{ member.name }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"role\" :label=\"$t('role')\" centered sortable width=\"20\">\r\n            <icon-project-member-role :is-manager=\"member.role === managerRole\" />\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"lastImageName\" :label=\"$t('last-image')\" sortable width=\"100\">\r\n            <template v-if=\"member.lastImageId\">\r\n              <router-link :to=\"`/project/${project.id}/image/${member.lastImageId}`\">\r\n                {{member.lastImageName}}\r\n              </router-link>\r\n            </template>\r\n            <em v-else class=\"has-text-grey\">{{$t('no-record')}}</em>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"lastConnection\" :label=\"$t('last-connection')\" sortable width=\"100\">\r\n            <template v-if=\"member.lastConnection\">\r\n              {{Number(member.lastConnection) | moment('ll LT')}}\r\n            </template>\r\n            <em v-else class=\"has-text-grey\">{{$t('no-record')}}</em>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"frequency\" :label=\"$t('number-connections')\" sortable width=\"100\">\r\n            {{member.frequency}}\r\n          </b-table-column>\r\n\r\n          <b-table-column label=\"\" centered width=\"50\">\r\n            <router-link :to=\"`/project/${project.id}/activity/user/${member.id}`\" class=\"button is-small is-link\">\r\n              {{$t('button-details')}}\r\n            </router-link>\r\n          </b-table-column>\r\n        </template>\r\n\r\n        <template #empty>\r\n          <div class=\"content has-text-grey has-text-centered\">\r\n            <p>{{$t('no-member-fitting-criteria')}}</p>\r\n          </div>\r\n        </template>\r\n\r\n        <template #footer v-if=\"isManager\">\r\n          <p class=\"has-text-centered\">\r\n            <router-link class=\"button is-link add-member\" :to=\"`/project/${project.id}/configuration?tab=members`\">\r\n              {{$t('button-manage-members')}}\r\n            </router-link>\r\n          </p>\r\n        </template>\r\n\r\n        <template #bottom-left>\r\n          <b-select v-model=\"perPage\" size=\"is-small\">\r\n            <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n            <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n            <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n            <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n          </b-select>\r\n        </template>\r\n      </b-table>\r\n\r\n      <div class=\"legend\">\r\n        <h2>{{$t('legend')}}</h2>\r\n        <p><icon-project-member-role /> : {{$t('project-contributor')}}</p>\r\n        <p><icon-project-member-role :is-manager=\"true\" /> : {{$t('project-manager')}}</p>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport Username from '@/components/user/Username';\r\n\r\nimport constants from '@/utils/constants.js';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\nimport IconProjectMemberRole from '@/components/icons/IconProjectMemberRole';\r\n\r\nexport default {\r\n  name: 'members-activity',\r\n  components: {\r\n    IconProjectMemberRole,\r\n    CytomineMultiselect,\r\n    Username\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      searchString: '',\r\n      filtersOpened: false,\r\n      perPage: 25,\r\n      members: [],\r\n      onlineIds: null,\r\n\r\n      contributorRole: this.$t('contributor'),\r\n      managerRole: this.$t('manager'),\r\n      availableRoles: [],\r\n      selectedRoles: [],\r\n\r\n      onlineStatus: this.$t('online'),\r\n      offlineStatus: this.$t('offline'),\r\n      availableStatus: [],\r\n      selectedStatus: [],\r\n\r\n      lastUpdate: null,\r\n      timeout: null\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    isManager() {\r\n      return this.$store.getters['currentProject/canManageProject'];\r\n    },\r\n    idManagers() {\r\n      return this.$store.state.currentProject.managers.map(manager => manager.id);\r\n    },\r\n    regexp() {\r\n      return getWildcardRegexp(this.searchString);\r\n    },\r\n    filteredMembers() {\r\n      let statusKnown = Boolean(this.onlineIds); // whether or not the info regarding online users could be fetched\r\n      let includeOnline = this.selectedStatus.includes(this.onlineStatus);\r\n      let includeOffline = this.selectedStatus.includes(this.offlineStatus);\r\n      return this.members.filter(member => {\r\n        let online = statusKnown ? this.onlineIds.includes(member.id) : null;\r\n        return (this.regexp.test(member.name) || this.regexp.test(member.username))\r\n                    && (!statusKnown || (includeOnline && online) || (includeOffline && !online))\r\n                    && this.selectedRoles.includes(member.role);\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchData() {\r\n      try {\r\n        await Promise.all([\r\n          this.fetchMembers(),\r\n          this.fetchOnlines()\r\n        ]);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n        return;\r\n      }\r\n\r\n      this.lastUpdate = new Date();\r\n      clearTimeout(this.timeout);\r\n      this.timeout = setTimeout(this.fetchData, constants.MEMBERS_ACTIVITY_REFRESH_INTERVAL);\r\n    },\r\n    async fetchMembers() {\r\n      let members = (await this.project.fetchUsersActivity()).array;\r\n      members.forEach(member => {\r\n        member.name = `${member.firstname} ${member.lastname}`;\r\n        member.role = this.idManagers.includes(member.id) ? this.managerRole : this.contributorRole;\r\n      });\r\n      this.members = members;\r\n    },\r\n    async fetchOnlines() {\r\n      try {\r\n        let onlines = await this.project.fetchConnectedUsers();\r\n        this.onlineIds = onlines.map(o => o.id);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.onlineIds = null;\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    this.availableRoles = [this.contributorRole, this.managerRole];\r\n    this.selectedRoles = this.availableRoles;\r\n\r\n    this.availableStatus = [this.onlineStatus, this.offlineStatus];\r\n    this.selectedStatus = this.availableStatus;\r\n  },\r\n  async activated() {\r\n    await this.fetchData();\r\n    this.loading = false;\r\n  },\r\n  deactivated() {\r\n    clearTimeout(this.timeout);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.legend {\r\n  margin-top: 0.8rem;\r\n  margin-bottom: 1rem;\r\n  border-radius: 10px;\r\n  padding: 1.4em;\r\n  background: #f8f8f8;\r\n}\r\n\r\n.fas.fa-user-cog {\r\n  width: 20px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MembersActivity.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MembersActivity.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MembersActivity.vue?vue&type=template&id=63399df4&scoped=true\"\nimport script from \"./MembersActivity.vue?vue&type=script&lang=js\"\nexport * from \"./MembersActivity.vue?vue&type=script&lang=js\"\nimport style0 from \"./MembersActivity.vue?vue&type=style&index=0&id=63399df4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63399df4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tile is-child box last-actions\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('activity-logs')))]),_c('b-select',{model:{value:(_vm.selectedUser),callback:function ($$v) {_vm.selectedUser=$$v},expression:\"selectedUser\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.$t('all-users-analyses')))]),_c('optgroup',{attrs:{\"label\":_vm.$t('members')}},_vm._l((_vm.members),function(member){return _c('option',{key:member.id,domProps:{\"value\":member.id}},[_vm._v(_vm._s(member.fullName))])}),0),_c('optgroup',{attrs:{\"label\":_vm.$t('analyses')}},_vm._l((_vm.userJobs),function(uJob){return _c('option',{key:uJob.id,domProps:{\"value\":uJob.id}},[_vm._v(_vm._s(uJob.fullName))])}),0)]),_c('activity-logs',{attrs:{\"idUser\":_vm.selectedUser,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate,\"project\":_vm.project}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):(_vm.actions.length > 0)?_c('div',{ref:\"listActions\",staticClass:\"list-actions\",on:{\"scroll\":_vm.scrollHandler}},[_vm._l((_vm.formattedActions),function(month,idx){return _c('div',{key:idx},[_c('h3',[_vm._v(_vm._s(_vm._f(\"moment\")(month.refDate,'MMMM YYYY')))]),_vm._l((month.days),function(day,idx){return _c('div',{key:idx},[_c('h4',[_vm._v(_vm._s(_vm._f(\"moment\")(day.refDate,'ll')))]),_c('ul',_vm._l((day.actions),function(action){return _c('activity-logs-item',{key:action.id,attrs:{\"action\":action}})}),1)])})],2)}),(!_vm.loadedAllActions)?_c('button',{staticClass:\"button\",class:{'is-loading': _vm.loading},on:{\"click\":function($event){return _vm.loadActions()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-load-more'))+\" \")]):_vm._e()],2):_c('div',{staticClass:\"no-result\"},[_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-log-to-display')))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('li',{key:_vm.action.id},[_c('strong',[_vm._v(_vm._s(_vm._f(\"moment\")(Number(_vm.action.created),'l LTS'))+\":\")]),_c('span',{staticClass:\"content\",on:{\"mouseenter\":_vm.enter,\"mouseleave\":_vm.leave}},[(_vm.route)?_c('router-link',{attrs:{\"to\":_vm.route}},[_vm._v(\" \"+_vm._s(_vm.action.message)+\" \")]):[_vm._v(_vm._s(_vm.action.message))]],2),(_vm.previewUrl)?_c('div',{staticClass:\"preview\",class:{visible: _vm.showPreview}},[_c('div',{staticClass:\"box\"},[_c('img',{attrs:{\"src\":_vm.appendShortTermToken(_vm.previewUrl, _vm.shortTermToken)}})])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<li :key=\"action.id\">\r\n  <strong>{{Number(action.created) | moment('l LTS')}}:</strong>\r\n  <span class=\"content\" @mouseenter=\"enter\" @mouseleave=\"leave\">\r\n    <router-link v-if=\"route\" :to=\"route\">\r\n      {{action.message}}\r\n    </router-link>\r\n    <template v-else>{{action.message}}</template>\r\n  </span>\r\n  <div v-if=\"previewUrl\" class=\"preview\" :class=\"{visible: showPreview}\">\r\n    <div class=\"box\">\r\n      <img :src=\"appendShortTermToken(previewUrl, shortTermToken)\" />\r\n    </div>\r\n  </div>\r\n</li>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\nimport {get} from '@/utils/store-helpers.js';\r\n\r\nconst ANNOT = 1;\r\nconst IMAGE = 2;\r\nconst PROJECT = 3;\r\n\r\nexport default {\r\n  name: 'activity-logs-item',\r\n  props: {\r\n    action: Object\r\n  },\r\n  data() {\r\n    return {\r\n      showPreview: false,\r\n      previewUrl: null,\r\n      route: null\r\n    };\r\n  },\r\n  computed: {\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    actionData() {\r\n      return JSON.parse(this.action.data);\r\n    },\r\n    // eslint-disable-next-line vue/return-in-computed-property\r\n    type() {\r\n      switch(this.action.serviceName) {\r\n        case 'userAnnotationService':\r\n        case 'reviewedAnnotationService':\r\n        case 'algoAnnotationService':\r\n          return ANNOT;\r\n        case 'imageInstanceService':\r\n          return IMAGE;\r\n        case 'projectService':\r\n          return PROJECT;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    enter() {\r\n      this.showPreview = true;\r\n    },\r\n    leave() {\r\n      this.showPreview = false;\r\n    },\r\n    annotationHandler(annot) {\r\n      this.previewUrl = `${annot.url}?maxSize=125&complete=true&thickness=2&increaseArea=1.25&draw=true`;\r\n      this.route = `/project/${annot.project}/image/${annot.image}/annotation/${annot.id}`;\r\n    },\r\n    imageHandler(img) {\r\n      if(img.deleted) {\r\n        return;\r\n      }\r\n      this.previewUrl = img.thumb;\r\n      this.route = `/project/${img.project}/image/${img.id}`;\r\n    },\r\n    projectHandler(project) {\r\n      this.route = `/project/${project.id}`;\r\n    },\r\n    addCommandHandler() {\r\n      switch(this.type) {\r\n        case ANNOT:\r\n          this.annotationHandler(this.actionData);\r\n          break;\r\n        case IMAGE:\r\n          this.imageHandler(this.actionData);\r\n          break;\r\n        case PROJECT:\r\n          this.projectHandler(this.actionData);\r\n          break;\r\n      }\r\n    },\r\n    editCommandHandler() {\r\n      switch(this.type) {\r\n        case ANNOT:\r\n          // erratic core behaviour -> need to keep the defined new?Annotation property\r\n          this.annotationHandler(\r\n            this.actionData.newUserAnnotation ||\r\n            this.actionData.newReviewedAnnotation ||\r\n            this.actionData.newAlgoAnnotation ||\r\n            this.actionData.newAnnotation\r\n          );\r\n          break;\r\n        case IMAGE:\r\n          this.imageHandler(this.actionData.newImageInstance);\r\n          break;\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    switch(this.action.className) {\r\n      case 'be.cytomine.command.AddCommand':\r\n        this.addCommandHandler();\r\n        break;\r\n      case 'be.cytomine.command.EditCommand':\r\n        this.editCommandHandler();\r\n        break;\r\n      case 'be.cytomine.command.DeleteCommand':\r\n        // object no longer available => cannot display preview or provide link\r\n        break;\r\n      default:\r\n        console.log('Unknown command type ' + this.action.className);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nli {\r\n  padding: 0.25em 2em;\r\n  position: relative;\r\n}\r\n\r\nli:hover {\r\n  background: rgba(0, 0, 0, 0.025);\r\n}\r\n\r\n.content {\r\n  margin-left: 0.35em;\r\n}\r\n\r\n.preview {\r\n  display: none;\r\n  position: absolute;\r\n  top: 1.75em;\r\n  left: 15em;\r\n  z-index: 100;\r\n}\r\n\r\n.preview.visible {\r\n  display: block;\r\n}\r\n\r\n.preview img {\r\n  max-height: 300px;\r\n  max-width: 300px;\r\n}\r\n\r\n.box {\r\n  padding: 0.7em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityLogsItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityLogsItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ActivityLogsItem.vue?vue&type=template&id=10699078&scoped=true\"\nimport script from \"./ActivityLogsItem.vue?vue&type=script&lang=js\"\nexport * from \"./ActivityLogsItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./ActivityLogsItem.vue?vue&type=style&index=0&id=10699078&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10699078\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p> {{ $t('unexpected-error-info-message') }} </p>\r\n</b-message>\r\n<div class=\"list-actions\" @scroll=\"scrollHandler\" ref=\"listActions\" v-else-if=\"actions.length > 0\">\r\n  <div v-for=\"(month, idx) in formattedActions\" :key=\"idx\">\r\n    <h3>{{month.refDate | moment('MMMM YYYY')}}</h3>\r\n    <div v-for=\"(day, idx) in month.days\" :key=\"idx\">\r\n      <h4>{{day.refDate | moment('ll')}}</h4>\r\n      <ul>\r\n        <activity-logs-item v-for=\"action in day.actions\" :action=\"action\" :key=\"action.id\" />\r\n      </ul>\r\n    </div>\r\n  </div>\r\n\r\n  <button class=\"button\" :class=\"{'is-loading': loading}\" v-if=\"!loadedAllActions\" @click=\"loadActions()\">\r\n    {{$t('button-load-more')}}\r\n  </button>\r\n</div>\r\n<div class=\"no-result\" v-else>\r\n  <em class=\"has-text-grey\">{{$t('no-log-to-display')}}</em>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {Project} from 'cytomine-client';\r\nimport moment from 'moment';\r\nimport _ from 'lodash';\r\n\r\nimport ActivityLogsItem from './ActivityLogsItem';\r\n\r\nexport default {\r\n  name: 'activity-logs',\r\n  props: {\r\n    startDate: Number,\r\n    endDate: Number,\r\n    idUser: Number,\r\n    project: Object\r\n  },\r\n  components: {ActivityLogsItem},\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      offset: 0,\r\n      nbActionsPerPage: 50,\r\n      loadedAllActions: false,\r\n\r\n      actions: []\r\n    };\r\n  },\r\n  computed: {\r\n    params() {\r\n      return {\r\n        user: this.idUser,\r\n        startDate: this.startDate,\r\n        endDate: this.endDate,\r\n        project: this.project ? this.project.id : null,\r\n        fullData: true\r\n      };\r\n    },\r\n    formattedActions() {\r\n      let results = [];\r\n      let lastDate = null;\r\n      let idxMonths = -1;\r\n      let idxDays = -1;\r\n      for(let i = 0; i < this.actions.length; i++) {\r\n        let action = this.actions[i];\r\n        let date = moment(Number(action.created));\r\n        if(!lastDate || !date.isSame(lastDate, 'day')) {\r\n          if(!lastDate || !date.isSame(lastDate, 'month')) {\r\n            results.push({\r\n              refDate: Number(action.created),\r\n              days: []\r\n            });\r\n            idxMonths++;\r\n            idxDays = -1;\r\n          }\r\n\r\n          results[idxMonths].days.push({refDate: Number(action.created), actions: [action]});\r\n          idxDays++;\r\n        }\r\n        else {\r\n          results[idxMonths].days[idxDays].actions.push(action);\r\n        }\r\n        lastDate = date;\r\n      }\r\n\r\n      return results;\r\n    }\r\n  },\r\n  watch: {\r\n    params() {\r\n      this.loadActions(false);\r\n    }\r\n  },\r\n  methods: {\r\n    scrollHandler: _.debounce(function() {\r\n      let scrollBlock = this.$refs.listActions;\r\n      let bottom = (scrollBlock.scrollTop + scrollBlock.clientHeight === scrollBlock.scrollHeight);\r\n\r\n      if (bottom && !this.loadedAllActions) {\r\n        this.loadActions();\r\n      }\r\n    }, 100),\r\n\r\n    async loadActions(append=true) {\r\n      this.loading = true;\r\n      if(!append) {\r\n        this.actions = [];\r\n        this.offset = 0;\r\n        this.loadedAllActions = false;\r\n      }\r\n\r\n      try {\r\n        let data = await Project.fetchCommandHistory({\r\n          max: this.nbActionsPerPage,\r\n          offset: this.offset,\r\n          ...this.params\r\n        });\r\n\r\n        this.actions.push(...data);\r\n        this.offset += this.nbActionsPerPage;\r\n\r\n        if(data.length < this.nbActionsPerPage) {\r\n          this.loadedAllActions = true;\r\n        }\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n      }\r\n\r\n      this.loading = false;\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      await this.loadActions();\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.message {\r\n  margin-top: 1em;\r\n}\r\n\r\n.list-actions {\r\n  overflow: auto;\r\n  margin-top: 1em;\r\n}\r\n\r\n.no-result {\r\n  margin-top: 1em;\r\n}\r\n\r\nh3 {\r\n  font-weight: bold;\r\n  color: #555;\r\n}\r\n\r\n.list-actions div:not(:first-child) h3 {\r\n  padding: 0.5em 0;\r\n  margin-top: 1em;\r\n  border-top: rgba(0, 0, 0, 0.1) 2px solid;\r\n}\r\n\r\nh4 {\r\n  padding: 0.9em 1.2em 0.9em;\r\n  color: #aaa;\r\n  text-transform: uppercase;\r\n  font-weight: bold;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.button {\r\n  display: block;\r\n  margin: auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityLogs.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityLogs.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ActivityLogs.vue?vue&type=template&id=511a34d2&scoped=true\"\nimport script from \"./ActivityLogs.vue?vue&type=script&lang=js\"\nexport * from \"./ActivityLogs.vue?vue&type=script&lang=js\"\nimport style0 from \"./ActivityLogs.vue?vue&type=style&index=0&id=511a34d2&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"511a34d2\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"tile is-child box last-actions\">\r\n  <h2>{{$t('activity-logs')}}</h2>\r\n\r\n  <b-select v-model=\"selectedUser\">\r\n    <option :value=\"null\">{{$t('all-users-analyses')}}</option>\r\n    <optgroup :label=\"$t('members')\">\r\n      <option v-for=\"member in members\" :value=\"member.id\" :key=\"member.id\">{{member.fullName}}</option>\r\n    </optgroup>\r\n    <optgroup :label=\"$t('analyses')\">\r\n      <option v-for=\"uJob in userJobs\" :value=\"uJob.id\" :key=\"uJob.id\">{{uJob.fullName}}</option>\r\n    </optgroup>\r\n  </b-select>\r\n\r\n  <activity-logs :idUser=\"selectedUser\" :startDate=\"startDate\" :endDate=\"endDate\" :project=\"project\" />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {UserJobCollection} from 'cytomine-client';\r\n\r\nimport {get} from '@/utils/store-helpers';\r\nimport {fullName} from '@/utils/user-utils.js';\r\n\r\nimport ActivityLogs from '@/components/utils/ActivityLogs';\r\n\r\nexport default {\r\n  name: 'project-activity-logs',\r\n  props: {\r\n    startDate: Number,\r\n    endDate: Number\r\n  },\r\n  components: {ActivityLogs},\r\n  data() {\r\n    return {\r\n      userJobs: [],\r\n      selectedUser: null,\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    members: get('currentProject/members'),\r\n  },\r\n  async created() {\r\n    try {\r\n      let userJobs = (await UserJobCollection.fetchAll({filterKey: 'project', filterValue: this.project.id})).array;\r\n      userJobs.forEach(uJob => uJob.fullName = fullName(uJob));\r\n      this.userJobs = userJobs;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.last-actions {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  word-wrap: break-word;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityLogs.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityLogs.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProjectActivityLogs.vue?vue&type=template&id=37261b9d&scoped=true\"\nimport script from \"./ProjectActivityLogs.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectActivityLogs.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProjectActivityLogs.vue?vue&type=style&index=0&id=37261b9d&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"37261b9d\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box error\" v-if=\"!configUI['project-activities-tab']\">\r\n  <h2> {{ $t('access-denied') }} </h2>\r\n  <p>{{ $t('insufficient-permission') }}</p>\r\n</div>\r\n<div v-else class=\"project-activity-wrapper content-wrapper\">\r\n  <div class=\"columns\">\r\n    <div class=\"column\">\r\n      <b-field v-if=\"canManageProject\" class=\"radio-buttons-fullwidth is-hovered\">\r\n        <b-radio-button v-model=\"activeTab\" native-value=\"charts\" type=\"is-link\">\r\n          {{$t('activity-charts')}}\r\n        </b-radio-button>\r\n\r\n        <b-radio-button v-model=\"activeTab\" native-value=\"members\" type=\"is-link\">\r\n          {{$t('members-activity')}}\r\n        </b-radio-button>\r\n\r\n        <b-radio-button v-model=\"activeTab\" native-value=\"logs\" type=\"is-link\">\r\n          {{$t('activity-logs')}}\r\n        </b-radio-button>\r\n      </b-field>\r\n    </div>\r\n    <div class=\"column is-narrow\">\r\n      <b-dropdown position=\"is-bottom-left\" class=\"date-picker-dropdown\" :disabled=\"activeTab === 'members'\">\r\n        <template #trigger>\r\n          <button class=\"button is-hovered\"><i class=\"far fa-calendar\"></i></button>\r\n        </template>\r\n\r\n        <b-dropdown-item custom>\r\n          <b-field :label=\"$t('from')\" horizontal>\r\n            <cytomine-datepicker v-model=\"startDate\" :maxDate=\"endDate || new Date()\" />\r\n          </b-field>\r\n          <b-field :label=\"$t('to')\" horizontal>\r\n            <cytomine-datepicker v-model=\"endDate\" :minDate=\"startDate\" :maxDate=\"new Date()\" />\r\n          </b-field>\r\n        </b-dropdown-item>\r\n      </b-dropdown>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"component-wrapper\">\r\n    <keep-alive>\r\n      <component\r\n        :is=\"activeComponent\"\r\n        :startDate=\"startDate ? startDate.getTime() : null\"\r\n        :endDate=\"endDate ? endDate.setHours(23, 59, 59, 999) : null\"\r\n      />\r\n    </keep-alive>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport moment from 'moment';\r\n\r\nimport ProjectActivityCharts from './activity/ProjectActivityCharts';\r\nimport MembersActivity from './activity/MembersActivity';\r\nimport ProjectActivityLogs from './activity/ProjectActivityLogs';\r\n\r\nimport CytomineDatepicker from '@/components/form/CytomineDatepicker';\r\n\r\nconst defaultTab = 'charts';\r\n\r\nexport default {\r\n  name: 'project-activity',\r\n  components: {CytomineDatepicker},\r\n  data() {\r\n    return {\r\n      activeTab: defaultTab,\r\n      startDate: null,\r\n      endDate: null\r\n    };\r\n  },\r\n  computed: {\r\n    configUI: get('currentProject/configUI'),\r\n    canManageProject() {\r\n      return this.$store.getters['currentProject/canManageProject'];\r\n    },\r\n    moment() {\r\n      return moment;\r\n    },\r\n    queriedTab() {\r\n      return this.$route.query.tab;\r\n    },\r\n    // eslint-disable-next-line vue/return-in-computed-property\r\n    activeComponent() {\r\n      if(!this.canManageProject) { // contributor can only view charts tab\r\n        return ProjectActivityCharts;\r\n      }\r\n\r\n      switch(this.activeTab) {\r\n        case 'charts':\r\n          return ProjectActivityCharts;\r\n        case 'members':\r\n          return MembersActivity;\r\n        case 'logs':\r\n          return ProjectActivityLogs;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    queriedTab() {\r\n      this.changeTab();\r\n    },\r\n    activeTab() {\r\n      if(this.activeTab !== defaultTab || this.queriedTab) {\r\n        this.$router.push(`?tab=${this.activeTab}`);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    changeTab() {\r\n      this.activeTab = this.queriedTab || defaultTab;\r\n      if(!this.activeComponent) {\r\n        this.activeTab = defaultTab;\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.changeTab();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.project-activity-wrapper {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.component-wrapper {\r\n  flex: 1;\r\n  min-height: 20em;\r\n}\r\n</style>\r\n\r\n<style>\r\n.project-activity-wrapper .date-picker-dropdown.dropdown > .dropdown-menu {\r\n  min-width: 20em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivity.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivity.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProjectActivity.vue?vue&type=template&id=77d5a06f&scoped=true\"\nimport script from \"./ProjectActivity.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectActivity.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProjectActivity.vue?vue&type=style&index=0&id=77d5a06f&prod&scoped=true&lang=css\"\nimport style1 from \"./ProjectActivity.vue?vue&type=style&index=1&id=77d5a06f&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77d5a06f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.configUI['project-jobs-tab'])?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):(_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('unexpected-error-info-message')))])]):_c('div',{staticClass:\"list-jobs-wrapper content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('analysis'))+\" \"),(_vm.canAddJob)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){_vm.launchModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-launch-new-analysis'))+\" \")]):_vm._e()]),_c('div',{staticClass:\"panel-block\"},[_c('div',{staticClass:\"filters\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('filters')))]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter is-one-third\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('algorithm'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableSoftwares,\"multiple\":\"\",\"track-by\":\"id\",\"label\":\"fullName\"},model:{value:(_vm.selectedSoftwares),callback:function ($$v) {_vm.selectedSoftwares=$$v},expression:\"selectedSoftwares\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('launcher'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableLaunchers,\"multiple\":\"\"},model:{value:(_vm.selectedLaunchers),callback:function ($$v) {_vm.selectedLaunchers=$$v},expression:\"selectedLaunchers\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('execution-date'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-datepicker',{attrs:{\"styles\":['multiselect', 'bold-placeholder'],\"placeholder\":_vm.$t('all-dates'),\"maxDate\":new Date()},model:{value:(_vm.selectedDate),callback:function ($$v) {_vm.selectedDate=$$v},expression:\"selectedDate\"}})],1)]),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('status'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableStatus,\"label\":\"label\",\"track-by\":\"status\",\"multiple\":\"\"},model:{value:(_vm.selectedStatus),callback:function ($$v) {_vm.selectedStatus=$$v},expression:\"selectedStatus\"}})],1)])])]),_c('cytomine-table',{attrs:{\"collection\":_vm.jobCollection,\"is-empty\":_vm.nbEmptyFilters > 0,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"openedDetailed\":_vm.openedDetails,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function({row: job}){return [_c('b-table-column',{attrs:{\"field\":\"softwareName\",\"label\":_vm.$t('algorithm'),\"sortable\":\"\",\"width\":\"1000\"}},[_c('router-link',{attrs:{\"to\":`/algorithm/${job.software}`}},[_vm._v(\" \"+_vm._s(job.softwareName)+\" \")])],1),_c('b-table-column',{attrs:{\"label\":_vm.$t('run-number'),\"width\":\"500\",\"centered\":\"\"}},[_vm._v(\" \"+_vm._s(job.number)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"username\",\"label\":_vm.$t('launched-by'),\"sortable\":\"\",\"width\":\"600\"}},[_vm._v(\" \"+_vm._s(job.username)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"created\",\"label\":_vm.$t('execution-date'),\"sortable\":\"\",\"width\":\"600\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(job.created),'ll LT'))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"status\",\"label\":_vm.$t('status'),\"sortable\":\"\",\"centered\":\"\",\"width\":\"600\"}},[_c('job-status',{attrs:{\"status\":job.status}})],1)]}},{key:\"detail\",fn:function({row: job}){return [_c('job-details',{key:job.id,attrs:{\"job\":job},on:{\"update\":function($event){_vm.revision++},\"delete\":function($event){return _vm.deleteJob(job)},\"relaunch\":_vm.addJob}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-analysis-run')))])])]},proxy:true}],null,false,1526954539)})],1)]):_vm._e(),_c('add-job-modal',{attrs:{\"active\":_vm.launchModal},on:{\"update:active\":function($event){_vm.launchModal=$event},\"add\":_vm.addJob}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"tag\",class:_vm.tagClass},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.labels[_vm.status].label))+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {JobStatus} from 'cytomine-client';\r\n\r\nconst jobStatusMapping = Object.freeze({\r\n  [JobStatus.RUNNING]: {\r\n    label: 'running',\r\n    statLabel: 'numberOfRunning',\r\n    color: '#209CEE'\r\n  },\r\n  [JobStatus.SUCCESS]: {\r\n    label: 'success',\r\n    statLabel: 'numberOfSuccess',\r\n    color: '#23D160'\r\n  },\r\n  [JobStatus.FAILED]: {\r\n    label: 'failed',\r\n    statLabel: 'numberOfFailed',\r\n    color: '#FF3860'\r\n  },\r\n  [JobStatus.NOTLAUNCH]: {\r\n    label: 'not-launch',\r\n    statLabel: 'numberOfNotLaunch',\r\n    color: '#F5F5F5'\r\n  },\r\n  [JobStatus.WAIT]: {\r\n    label: 'wait',\r\n    statLabel: 'numberOfWait',\r\n    color: '#F5F5F5'\r\n  },\r\n  [JobStatus.INQUEUE]: {\r\n    label: 'in-queue',\r\n    statLabel: 'numberOfInQueue',\r\n    color: '#F5F5F5'\r\n  },\r\n  [JobStatus.INDETERMINATE]: {\r\n    label: 'indeterminate',\r\n    statLabel: 'numberOfIndeterminate',\r\n    color: '#F5F5F5'\r\n  },\r\n  [JobStatus.KILLED]: {\r\n    label: 'killed',\r\n    statLabel: 'numberOfKilled',\r\n    color: '#363636'\r\n  }\r\n});\r\n\r\nexport default jobStatusMapping;\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<span class=\"tag\" :class=\"tagClass\">\r\n  {{$t(labels[status].label)}}\r\n</span>\r\n</template>\r\n\r\n<script>\r\nimport {JobStatus} from 'cytomine-client';\r\nimport jobStatusMapping from '@/utils/job-utils';\r\n\r\nexport default {\r\n  name: 'job-status',\r\n  props: {\r\n    status: Number\r\n  },\r\n  computed: {\r\n    labels() {\r\n      return jobStatusMapping;\r\n    },\r\n    // eslint-disable-next-line vue/return-in-computed-property\r\n    result() {\r\n      switch(this.status) {\r\n        case JobStatus.KILLED:\r\n          return 'dark';\r\n        case JobStatus.NOTLAUNCH:\r\n        case JobStatus.INQUEUE:\r\n        case JobStatus.WAIT:\r\n        case JobStatus.INDETERMINATE:\r\n        case JobStatus.PREVIEWED:\r\n          return 'light';\r\n        case JobStatus.RUNNING:\r\n          return 'info';\r\n        case JobStatus.SUCCESS:\r\n          return 'success';\r\n        case JobStatus.FAILED:\r\n          return 'danger';\r\n      }\r\n    },\r\n    tagClass() {\r\n      return 'is-' + this.result;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobStatus.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobStatus.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./JobStatus.vue?vue&type=template&id=2a350574\"\nimport script from \"./JobStatus.vue?vue&type=script&lang=js\"\nexport * from \"./JobStatus.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"job-details-wrapper\"},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading},on:{\"update:active\":function($event){_vm.loading=$event}}}),(!_vm.loading)?[_c('table',{staticClass:\"table\"},[_c('tbody',[(_vm.isRunning)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('progress')))]),_c('td',[_c('progress',{staticClass:\"progress is-info\",attrs:{\"max\":\"100\"},domProps:{\"value\":_vm.job.progress}},[_vm._v(\" \"+_vm._s(_vm.job.progress)+\"% \")])])]):_vm._e(),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('status-comment')))]),_c('td',[_vm._v(_vm._s(_vm.job.statusComment || \"-\"))])]),(_vm.isSuccessful)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('execution-duration')))]),_c('td',[_vm._v(_vm._s(_vm._f(\"duration\")(Number(_vm.job.updated) - Number(_vm.job.created),'humanize')))])]):_vm._e(),(_vm.currentUser.isDeveloper)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('job-id')))]),_c('td',[_vm._v(_vm._s(_vm.job.id))])]):_vm._e(),(_vm.currentUser.isDeveloper)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('userjob-id')))]),_c('td',[_vm._v(_vm._s(_vm.job.userJob))])]):_vm._e(),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('parameters')))]),_c('td',[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.showParameters = !_vm.showParameters}}},[_c('span',[_vm._v(_vm._s(_vm.showParameters ? _vm.$t('button-hide') : _vm.$t('button-show')))])]),_c('b-collapse',{attrs:{\"open\":_vm.showParameters}},[_c('table',{staticClass:\"table is-narrow inline-table is-fullwidth\"},[_c('thead',[_c('tr',[(_vm.currentUser.isDeveloper)?_c('th',[_vm._v(_vm._s(_vm.$t('id')))]):_vm._e(),_c('th',[_vm._v(_vm._s(_vm.$t('name')))]),_c('th',[_vm._v(_vm._s(_vm.$t('value')))]),_c('th',[_vm._v(_vm._s(_vm.$t('type')))])])]),_c('tbody',_vm._l((_vm.job.jobParameters.array),function(param){return _c('tr',{key:param.id},[(_vm.currentUser.isDeveloper)?_c('td',[_vm._v(_vm._s(param.id))]):_vm._e(),_c('td',[_vm._v(_vm._s(param.humanName))]),_c('td',[_vm._v(_vm._s(param.value))]),_c('td',[_vm._v(_vm._s(_vm.$t(param.type.toLowerCase())))])])}),0)])])],1)]),(_vm.isFinished)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('execution-log')))]),(_vm.isJustFinished && !_vm.log)?_c('td',[_c('div',{staticClass:\"loading\"},[_c('i',{staticClass:\"fas fa-spinner fa-spin fa-fw\"}),_vm._v(\" \"),_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('log-being-collected')))])])]):(_vm.log)?_c('td',[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.showLog = !_vm.showLog}}},[_c('span',[_vm._v(_vm._s(_vm.showLog ? _vm.$t('button-hide') : _vm.$t('button-show')))])]),_c('b-collapse',{attrs:{\"open\":_vm.showLog}},[_c('pre',[_vm._v(_vm._s(_vm.log.data))])])],1):_c('td',[_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('not-found')))])])]):_vm._e(),_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('tags')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-tags',{attrs:{\"object\":_vm.job,\"canEdit\":_vm.canManageJob}})],1)]),(_vm.hasAnnotationResult)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('data')))]),(_vm.hasAnnotationResult)?_c('td',[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}/annotations?userJob=${_vm.job.userJob}`}},[_vm._v(\" \"+_vm._s(_vm.$tc(\"count-annotations\", _vm.allData.annotations, {count: _vm.allData.annotations}))+\" \")])],1):_vm._e()]):_vm._e(),(_vm.hasFileResult)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('files')))]),_c('td',[(_vm.jobData.length > 0)?_c('table',{staticClass:\"table inline-table is-fullwidth is-narrow\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t('filename')))]),_c('th',[_vm._v(_vm._s(_vm.$t('comment')))]),_c('th',[_vm._v(_vm._s(_vm.$t('size')))]),_c('th')])]),_c('tbody',_vm._l((_vm.jobData),function(data){return _c('tr',{key:data.id},[_c('td',[_vm._v(_vm._s(data.filename))]),_c('td',[_vm._v(_vm._s(data.key))]),_c('td',[_vm._v(_vm._s(_vm.filesize(data.size)))]),_c('td',[_c('div',{staticClass:\"buttons\"},[_c('a',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.viewData(data)}}},[_vm._v(_vm._s(_vm.$t('button-view')))]),_c('a',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.downloadData(data)}}},[_vm._v(_vm._s(_vm.$t('button-download')))])])])])}),0)]):_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-result-file')))])])]):_vm._e(),(_vm.job.dataDeleted)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('data')))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.$t('deleted-analysis-data'))+\" \")])]):_vm._e(),(_vm.canManageJob)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('actions')))]),_c('td',[_c('div',{staticClass:\"buttons are-small\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.relaunchJob()}}},[_vm._v(\" \"+_vm._s(_vm.$t('relaunch'))+\" \")]),(!_vm.job.dataDeleted && _vm.isFinished)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.deletionModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('delete-data'))+\" \")]):_vm._e(),(_vm.isFinished)?_c('button',{staticClass:\"button is-danger\",on:{\"click\":function($event){return _vm.confirmJobDeletion()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")]):_c('button',{staticClass:\"button is-danger\",on:{\"click\":function($event){return _vm.confirmJobKilling()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-kill'))+\" \")])])])]):_vm._e()])]),_c('cytomine-modal',{attrs:{\"active\":_vm.deletionModal,\"title\":_vm.$t('delete-analysis-data')},on:{\"close\":function($event){_vm.deletionModal = false}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.deletionModal = false}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-danger\",on:{\"click\":function($event){return _vm.deleteData()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-confirm'))+\" \")])]},proxy:true}],null,false,617667549)},[_c('p',[_vm._v(_vm._s(_vm.$t('confirm-deletion-analysis-data')))]),_c('ul',[_c('li',[_vm._v(_vm._s(_vm.$tc(\"count-annotations\", _vm.allData.annotations, {count: _vm.allData.annotations})))]),_c('li',[_vm._v(_vm._s(_vm.$tc(\"count-reviewed-annotations\", _vm.allData.reviewed, {count: _vm.allData.reviewed})))]),_c('li',[_vm._v(_vm._s(_vm.$tc(\"count-annotation-terms\", _vm.allData.annotationsTerm, {count: _vm.allData.annotationsTerm})))]),_c('li',[_vm._v(_vm._s(_vm.$tc(\"count-files\", _vm.allData.jobDatas, {count: _vm.allData.jobDatas})))])]),_c('p',{staticClass:\"has-margin-top\"},[_vm._v(_vm._s(_vm.$t('remark-long-operation')))]),(_vm.deletionTask)?[_c('hr'),_c('cytomine-task',{attrs:{\"task\":_vm.deletionTask},on:{\"update:task\":function($event){_vm.deletionTask=$event}}})]:_vm._e()],2)]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.task)?_c('div',[_c('progress',{staticClass:\"progress is-info\",attrs:{\"max\":\"100\"},domProps:{\"value\":_vm.task.progress}},[_vm._v(\" \"+_vm._s(_vm.task.progress)+\"% \")]),(_vm.lastComment)?_c('p',[_vm._v(_vm._s(_vm.lastComment))]):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div v-if=\"task\">\r\n  <progress class=\"progress is-info\" :value=\"task.progress\" max=\"100\">\r\n    {{task.progress}}%\r\n  </progress>\r\n  <p v-if=\"lastComment\">{{lastComment}}</p> <!-- WARNING: not translated -->\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport constants from '@/utils/constants.js';\r\nimport {Task} from 'cytomine-client';\r\n\r\nexport default {\r\n  name: 'cytomine-task',\r\n  props: {\r\n    task: Object,\r\n    refreshInterval: {\r\n      type: Number,\r\n      default: constants.TASK_REFRESH_INTERVAL\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      timeout: null\r\n    };\r\n  },\r\n  computed: {\r\n    lastComment() {\r\n      if(this.task && this.task.comments && this.task.comments.length > 0) {\r\n        return this.task.comments[0];\r\n      }\r\n      return '';\r\n    }\r\n  },\r\n  watch: {\r\n    task() {\r\n      this.refresh();\r\n    }\r\n  },\r\n  methods: {\r\n    async refresh() {\r\n      if(this.task) {\r\n        let updatedTask = await Task.fetch(this.task.id);\r\n        this.$emit('update:task', updatedTask);\r\n        clearTimeout(this.timeout);\r\n        if(updatedTask.progress < 100) {\r\n          this.timeout = setTimeout(this.refresh, this.refreshInterval);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.refresh();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.progress {\r\n  margin: 0.5em 0 !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTask.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTask.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineTask.vue?vue&type=template&id=6d0d3d7d&scoped=true\"\nimport script from \"./CytomineTask.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineTask.vue?vue&type=script&lang=js\"\nimport style0 from \"./CytomineTask.vue?vue&type=style&index=0&id=6d0d3d7d&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d0d3d7d\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"job-details-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active.sync=\"loading\" class=\"small\" />\r\n\r\n  <template v-if=\"!loading\">\r\n    <table class=\"table\">\r\n      <tbody>\r\n          <tr v-if=\"isRunning\">\r\n            <td>{{$t('progress')}}</td>\r\n            <td>\r\n              <progress class=\"progress is-info\" :value=\"job.progress\" max=\"100\">\r\n                {{job.progress}}%\r\n              </progress>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>{{$t('status-comment')}}</td>\r\n            <td>{{job.statusComment || \"-\"}}</td>\r\n          </tr>\r\n          <tr v-if=\"isSuccessful\">\r\n            <td>{{$t('execution-duration')}}</td>\r\n            <td>{{Number(job.updated) - Number(job.created) | duration('humanize')}}</td>\r\n          </tr>\r\n          <tr v-if=\"currentUser.isDeveloper\">\r\n            <td>{{$t('job-id')}}</td>\r\n            <td>{{job.id}}</td>\r\n          </tr>\r\n          <tr v-if=\"currentUser.isDeveloper\">\r\n            <td>{{$t('userjob-id')}}</td>\r\n            <td>{{job.userJob}}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>{{$t('parameters')}}</td>\r\n            <td>\r\n              <button class=\"button is-small\" @click=\"showParameters = !showParameters\">\r\n                <span>{{showParameters ? $t('button-hide') : $t('button-show')}}</span>\r\n              </button>\r\n              <b-collapse :open=\"showParameters\">\r\n                <table class=\"table is-narrow inline-table is-fullwidth\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th v-if=\"currentUser.isDeveloper\">{{$t('id')}}</th>\r\n                      <th>{{$t('name')}}</th>\r\n                      <th>{{$t('value')}}</th>\r\n                      <th>{{$t('type')}}</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"param in job.jobParameters.array\" :key=\"param.id\">\r\n                      <td v-if=\"currentUser.isDeveloper\">{{param.id}}</td>\r\n                      <td>{{param.humanName}}</td>\r\n                      <td>{{param.value}}</td>\r\n                      <td>{{$t(param.type.toLowerCase())}}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </b-collapse>\r\n            </td>\r\n          </tr>\r\n          <tr v-if=\"isFinished\">\r\n            <td>{{$t('execution-log')}}</td>\r\n            <td v-if=\"isJustFinished && !log\">\r\n              <div class=\"loading\">\r\n                <i class=\"fas fa-spinner fa-spin fa-fw\"></i>&nbsp;\r\n                <em class=\"has-text-grey\">{{$t('log-being-collected')}}</em>\r\n              </div>\r\n            </td>\r\n            <td v-else-if=\"log\">\r\n              <button class=\"button is-small\" @click=\"showLog = !showLog\">\r\n                <span>{{showLog ? $t('button-hide') : $t('button-show')}}</span>\r\n              </button>\r\n              <b-collapse :open=\"showLog\">\r\n                <pre>{{log.data}}</pre>\r\n              </b-collapse>\r\n            </td>\r\n            <td v-else>\r\n              <em class=\"has-text-grey\">{{$t('not-found')}}</em>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"prop-label\">{{$t('tags')}}</td>\r\n            <td class=\"prop-content\">\r\n              <cytomine-tags :object=\"job\" :canEdit=\"canManageJob\" />\r\n            </td>\r\n          </tr>\r\n          <tr v-if=\"hasAnnotationResult\">\r\n            <td>{{$t('data')}}</td>\r\n            <td v-if=\"hasAnnotationResult\">\r\n              <router-link :to=\"`/project/${project.id}/annotations?userJob=${job.userJob}`\">\r\n                {{$tc(\"count-annotations\", allData.annotations, {count: allData.annotations})}}\r\n              </router-link>\r\n            </td>\r\n          </tr>\r\n          <tr v-if=\"hasFileResult\">\r\n            <td>{{$t('files')}}</td>\r\n            <td>\r\n              <table v-if=\"jobData.length > 0\" class=\"table inline-table is-fullwidth is-narrow\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>{{$t('filename')}}</th>\r\n                    <th>{{$t('comment')}}</th>\r\n                    <th>{{$t('size')}}</th>\r\n                    <th></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"data in jobData\" :key=\"data.id\">\r\n                    <td>{{data.filename}}</td>\r\n                    <td>{{data.key}}</td>\r\n                    <td>{{filesize(data.size)}}</td>\r\n                    <td>\r\n                      <div class=\"buttons\">\r\n                        <a class=\"button is-small\" @click=\"viewData(data)\">{{$t('button-view')}}</a>\r\n                        <a class=\"button is-small\" @click=\"downloadData(data)\">{{$t('button-download')}}</a>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <em v-else class=\"has-text-grey\">{{$t('no-result-file')}}</em>\r\n            </td>\r\n          </tr>\r\n          <tr v-if=\"job.dataDeleted\">\r\n            <td>{{$t('data')}}</td>\r\n            <td>\r\n              {{$t('deleted-analysis-data')}}\r\n            </td>\r\n          </tr>\r\n          <tr v-if=\"canManageJob\">\r\n            <td>{{$t('actions')}}</td>\r\n            <td>\r\n              <div class=\"buttons are-small\">\r\n                <button class=\"button\" @click=\"relaunchJob()\">\r\n                  {{$t('relaunch')}}\r\n                </button>\r\n                <button v-if=\"!job.dataDeleted && isFinished\" class=\"button\" @click=\"deletionModal = true\">\r\n                  {{$t('delete-data')}}\r\n                </button>\r\n                <button v-if=\"isFinished\" class=\"button is-danger\" @click=\"confirmJobDeletion()\">\r\n                  {{$t('button-delete')}}\r\n                </button>\r\n                <button v-else class=\"button is-danger\" @click=\"confirmJobKilling()\">\r\n                  {{$t('button-kill')}}\r\n                </button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <cytomine-modal :active=\"deletionModal\" :title=\"$t('delete-analysis-data')\" @close=\"deletionModal = false\">\r\n      <p>{{$t('confirm-deletion-analysis-data')}}</p>\r\n      <ul>\r\n        <li>{{$tc(\"count-annotations\", allData.annotations, {count: allData.annotations})}}</li>\r\n        <li>{{$tc(\"count-reviewed-annotations\", allData.reviewed, {count: allData.reviewed})}}</li>\r\n        <li>{{$tc(\"count-annotation-terms\", allData.annotationsTerm, {count: allData.annotationsTerm})}}</li>\r\n        <li>{{$tc(\"count-files\", allData.jobDatas, {count: allData.jobDatas})}}</li>\r\n      </ul>\r\n\r\n      <p class=\"has-margin-top\">{{$t('remark-long-operation')}}</p>\r\n\r\n      <template v-if=\"deletionTask\">\r\n        <hr>\r\n        <cytomine-task :task.sync=\"deletionTask\" />\r\n      </template>\r\n\r\n      <template #footer>\r\n        <button class=\"button\" type=\"button\" @click=\"deletionModal = false\">\r\n          {{$t('button-cancel')}}\r\n        </button>\r\n        <button class=\"button is-danger\" @click=\"deleteData()\">\r\n          {{$t('button-confirm')}}\r\n        </button>\r\n      </template>\r\n    </cytomine-modal>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {Job, JobStatus, JobDataCollection, Task} from 'cytomine-client';\r\nimport filesize from 'filesize';\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\nimport CytomineTask from '@/components/utils/CytomineTask';\r\nimport CytomineTags from '@/components/tag/CytomineTags';\r\n\r\nimport constants from '@/utils/constants.js';\r\nconst REFRESH_INTERVAL = constants.JOB_DETAILS_REFRESH_INTERVAL;\r\nconst REFRESH_LOG_INTERVAL = constants.JOB_LOGS_REFRESH_INTERVAL;\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\n\r\nexport default {\r\n  name: 'job-details',\r\n  props: {\r\n    job: Object\r\n  },\r\n  components: {\r\n    CytomineModal,\r\n    CytomineTask,\r\n    CytomineTags\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      justFinishedInterval: 60000, // in milliseconds\r\n\r\n      showParameters: false,\r\n      showLog: false,\r\n\r\n      allData: null,\r\n      jobData: [],\r\n      log: null,\r\n      timeoutRefresh: null,\r\n\r\n      deletionModal: false,\r\n      deletionTask: null\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    currentUser: get('currentUser/user'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    canManageJob() {\r\n      return this.$store.getters['currentProject/canManageJob'](this.job);\r\n    },\r\n    isRunning() {\r\n      return this.job.status === JobStatus.RUNNING;\r\n    },\r\n    isSuccessful() {\r\n      return this.job.status === JobStatus.SUCCESS;\r\n    },\r\n    isFinished() {\r\n      return this.isSuccessful || this.job.status === JobStatus.FAILED || this.job.status === JobStatus.KILLED;\r\n    },\r\n    isJustFinished() {\r\n      return this.isFinished && (Date.now() - Number(this.job.created) < this.justFinishedInterval);\r\n    },\r\n    hasAnnotationResult() {\r\n      return this.allData.annotations > 0;\r\n    },\r\n    hasFileResult() {\r\n      return this.allData.jobDatas > 0;\r\n    }\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    async refresh(force=false) {\r\n      if(this.isFinished && !force) {\r\n        return;\r\n      }\r\n\r\n      let job = await Job.fetch(this.job.id);\r\n      this.$emit('update', job);\r\n      await this.fetchData();\r\n      this.job.status = job.status;\r\n      this.fetchLog();\r\n\r\n      clearTimeout(this.timeoutRefresh);\r\n      this.timeoutRefresh = setTimeout(this.refresh, REFRESH_INTERVAL);\r\n    },\r\n    filesize(size) {\r\n      return filesize(size, {base: 10});\r\n    },\r\n    viewData(data) {\r\n      window.location.assign(appendShortTermToken(data.viewURL, this.shortTermToken), '_blank');\r\n    },\r\n    downloadData(data) {\r\n      window.location.assign(appendShortTermToken(data.downloadURL, this.shortTermToken), '_blank');\r\n    },\r\n    async fetchLog() {\r\n      if (this.isFinished) {\r\n        let maxRetries = (this.isJustFinished) ? Math.round(this.justFinishedInterval / REFRESH_LOG_INTERVAL) : 1;\r\n        while (!this.log && maxRetries > 0) {\r\n          try {\r\n            this.log = await this.job.fetchLog();\r\n          }\r\n          catch (e) {\r\n            // Do nothing as a 404 error has meaning: no log found\r\n            await new Promise(resolve => setTimeout(resolve, REFRESH_LOG_INTERVAL));\r\n            maxRetries--;\r\n          }\r\n        }\r\n\r\n      }\r\n    },\r\n    async fetchData() {\r\n      this.allData = await this.job.fetchAllData();\r\n      if(this.hasFileResult) {\r\n        this.jobData = (await JobDataCollection.fetchAll({filterKey: 'job', filterValue: this.job.id})).array;\r\n      }\r\n    },\r\n    async deleteData() {\r\n      let job = this.job.clone(); // create new job to avoid mutating the prop\r\n      try {\r\n        this.deletionTask = await new Task({project: this.project.id}).save();\r\n        await job.deleteAllData(this.deletionTask.id);\r\n        this.refresh(true);\r\n        this.deletionTask = null;\r\n        this.deletionModal = false;\r\n        this.$notify({type: 'success', text: this.$t('notif-success-analysis-data-deletion')});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.deletionTask = null;\r\n        this.$notify({type: 'error', text: this.$t('notif-error-analysis-data-deletion')});\r\n      }\r\n    },\r\n    async killJob() {\r\n      let job = this.job.clone();\r\n      try {\r\n        await job.kill();\r\n        this.$emit('update', job);\r\n        this.$notify({type: 'success', text: this.$t('notif-success-analysis-kill')});\r\n      }\r\n      catch (error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-analysis-data-kill')});\r\n      }\r\n    },\r\n    confirmJobDeletion() {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('delete-analysis'),\r\n        message: this.$t('delete-analysis-confirmation-message'),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.$emit('delete')\r\n      });\r\n    },\r\n    confirmJobKilling() {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('kill-analysis'),\r\n        message: this.$t('kill-analysis-confirmation-message'),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.killJob()\r\n      });\r\n    },\r\n    async relaunchJob() {\r\n      try {\r\n        let newJob = await this.job.copy();\r\n        this.$emit('relaunch', newJob);\r\n        await newJob.execute();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-analysis-launch')});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-analysis-launch')});\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    await this.fetchData();\r\n    this.fetchLog();\r\n    this.loading = false;\r\n    this.timeoutRefresh = setTimeout(this.refresh, REFRESH_INTERVAL);\r\n  },\r\n  beforeDestroy() {\r\n    clearTimeout(this.timeoutRefresh);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.job-details-wrapper {\r\n  position: relative;\r\n  min-height: 50px;\r\n}\r\n\r\n.table {\r\n  background: none;\r\n  position: relative;\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\ntd:first-child {\r\n  white-space: nowrap;\r\n  font-weight: 600;\r\n}\r\n\r\ntd:not(:first-child) {\r\n  width: 100%;\r\n}\r\n\r\n.inline-table td:first-child {\r\n  font-weight: normal;\r\n}\r\n\r\n.inline-table td:not(:first-child) {\r\n  width: auto;\r\n}\r\n\r\nul {\r\n  margin-left: 2em;\r\n  list-style-type: disc;\r\n}\r\n\r\n.has-margin-top {\r\n  margin-top: 1.5em;\r\n}\r\n\r\n.loading {\r\n  display: block;\r\n}\r\n</style>\r\n\r\n<style scoped lang=\"scss\">\r\npre {\r\n  white-space: pre-wrap;\r\n  word-break: break-all;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobDetails.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobDetails.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./JobDetails.vue?vue&type=template&id=4eb4085b&scoped=true\"\nimport script from \"./JobDetails.vue?vue&type=script&lang=js\"\nexport * from \"./JobDetails.vue?vue&type=script&lang=js\"\nimport style0 from \"./JobDetails.vue?vue&type=style&index=0&id=4eb4085b&prod&scoped=true&lang=css\"\nimport style1 from \"./JobDetails.vue?vue&type=style&index=1&id=4eb4085b&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4eb4085b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createJob()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('launch-new-analysis')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-launch-new-analysis'))+\" \")])]},proxy:true}])},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-narrow\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('algorithm')))])]),_c('div',{staticClass:\"column\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.executableSoftwares,\"track-by\":\"id\",\"label\":\"fullName\"},model:{value:(_vm.selectedSoftware),callback:function ($$v) {_vm.selectedSoftware=$$v},expression:\"selectedSoftware\"}})],1)]),(_vm.selectedSoftware)?[(_vm.selectedSoftware.deprecated)?_c('b-message',{attrs:{\"type\":\"is-warning\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('notif-deprecated-software'))+\" \")]):_vm._e(),_c('table',{staticClass:\"table is-fullwidth\"},[_c('thead',[_c('tr',[_c('th'),_c('th',[_vm._v(_vm._s(_vm.$t('name')))]),_c('th',[_vm._v(_vm._s(_vm.$t('value')))])])]),_c('tbody',[_vm._l((_vm.paramsMandatoryNoDefault),function(param){return _c('job-parameter-row',{key:param.id,attrs:{\"param\":param},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", $$v)},expression:\"param.value\"}})}),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.optionalParams.length > 0),expression:\"optionalParams.length > 0\"}],staticClass:\"row-separator\"},[_c('td',{attrs:{\"colspan\":\"3\"}},[_vm._v(\" \"+_vm._s(_vm.$t('optional-parameters'))+\" \"),_c('button',{staticClass:\"button is-small\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showOptional = !_vm.showOptional}}},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.showOptional ? 'button-hide' : 'button-show'))+\" \")])])]),(_vm.showOptional)?_vm._l((_vm.optionalParams),function(param){return _c('job-parameter-row',{key:param.id,attrs:{\"param\":param},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", $$v)},expression:\"param.value\"}})}):_vm._e(),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.prefilledParams.length > 0),expression:\"prefilledParams.length > 0\"}],staticClass:\"row-separator\"},[_c('td',{attrs:{\"colspan\":\"3\"}},[_vm._v(\" \"+_vm._s(_vm.$t('prefilled-parameters'))+\" \"),_c('button',{staticClass:\"button is-small\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showPrefilled = !_vm.showPrefilled}}},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.showPrefilled ? 'button-hide' : 'button-show'))+\" \")])])]),(_vm.showPrefilled)?_vm._l((_vm.prefilledParams),function(param){return _c('job-parameter-row',{key:param.id,attrs:{\"param\":param},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", $$v)},expression:\"param.value\"}})}):_vm._e()],2)])]:_vm._e()],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('tr',{staticClass:\"job-param-row-wrapper\"},[_c('td',[(_vm.description)?_c('div',[_c('v-popover',{attrs:{\"popover-base-class\":'tooltip popover job-description-popover'},scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.description.data)}})]},proxy:true}],null,false,5788555)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1):_vm._e()]),_c('td',[_vm._v(_vm._s(_vm.param.humanName))]),_c('td',[_c('b-field',{attrs:{\"type\":{'is-danger': _vm.errors.has(_vm.validationName)},\"message\":_vm.errors.first(_vm.validationName)}},[(_vm.loading)?_c('b-input',{attrs:{\"loading\":\"\",\"disabled\":\"\"}}):(_vm.options)?_c('cytomine-multiselect',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(_vm.validationRules),expression:\"validationRules\"}],class:{'is-danger': _vm.errors.has(_vm.validationName)},attrs:{\"options\":_vm.options,\"track-by\":\"id\",\"label\":_vm.param.uriPrintAttribut,\"multiple\":_vm.param.type === 'ListDomain',\"name\":_vm.validationName},scopedSlots:_vm._u([{key:\"option\",fn:function({option}){return [(_vm.areAnnotationObjects)?_c('div',{staticClass:\"is-flex\"},[_c('div',{staticClass:\"thumb-wrapper\"},[_c('img',{staticClass:\"thumb\",attrs:{\"src\":_vm.appendShortTermToken(option.smallCropURL + '&draw=true&complete=true&increaseArea=1.25',_vm.shortTermToken)}})]),_c('span',{staticClass:\"option__title\"},[_vm._v(\" \"+_vm._s(option[_vm.param.uriPrintAttribut])+\" \")])]):(option.thumb)?_c('div',{staticClass:\"is-flex\"},[_c('div',{staticClass:\"thumb-wrapper\"},[_c('img',{staticClass:\"thumb\",attrs:{\"src\":_vm.appendShortTermToken(option.thumb, _vm.shortTermToken)}})]),_c('span',{staticClass:\"option__title\"},[_vm._v(\" \"+_vm._s(option[_vm.param.uriPrintAttribut])+\" \")])]):(_vm.areTermObjects)?_c('div',{staticClass:\"is-flex\"},[_c('cytomine-term',{attrs:{\"term\":option}})],1):(_vm.areJobObjects)?_c('div',{staticClass:\"is-flex\"},[_c('span',{staticClass:\"option__title\"},[_vm._v(\" \"+_vm._s(_vm.formatJob(option, _vm.param.uriPrintAttribut))+\" \")])]):_vm._e()]}}]),model:{value:(_vm.internalValue),callback:function ($$v) {_vm.internalValue=$$v},expression:\"internalValue\"}}):(_vm.param.type === 'Boolean')?_c('b-checkbox',{model:{value:(_vm.internalValue),callback:function ($$v) {_vm.internalValue=$$v},expression:\"internalValue\"}}):_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(_vm.validationRules),expression:\"validationRules\"}],attrs:{\"name\":_vm.validationName},model:{value:(_vm.internalValue),callback:function ($$v) {_vm.internalValue=$$v},expression:\"internalValue\"}})],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<tr class=\"job-param-row-wrapper\">\r\n  <td>\r\n    <div v-if=\"description\">\r\n      <v-popover :popover-base-class=\"'tooltip popover job-description-popover'\">\r\n        <i class=\"fas fa-info-circle\"></i>\r\n        <template #popover>\r\n          <p v-html=\"description.data\"></p>\r\n        </template>\r\n      </v-popover>\r\n    </div>\r\n  </td>\r\n  <td>{{param.humanName}}</td>\r\n  <td>\r\n    <b-field :type=\"{'is-danger': errors.has(validationName)}\" :message=\"errors.first(validationName)\">\r\n      <b-input v-if=\"loading\" loading disabled />\r\n\r\n      <cytomine-multiselect\r\n        v-else-if=\"options\"\r\n        v-model=\"internalValue\"\r\n        :options=\"options\"\r\n        track-by=\"id\"\r\n        :label=\"param.uriPrintAttribut\"\r\n        :class=\"{'is-danger': errors.has(validationName)}\"\r\n        :multiple=\"param.type === 'ListDomain'\"\r\n        :name=\"validationName\"\r\n        v-validate=\"validationRules\"\r\n      >\r\n        <template #option=\"{option}\">\r\n          <div class=\"is-flex\" v-if=\"areAnnotationObjects\">\r\n            <div class=\"thumb-wrapper\">\r\n              <img class=\"thumb\" :src=\"appendShortTermToken(option.smallCropURL + '&draw=true&complete=true&increaseArea=1.25',shortTermToken)\">\r\n            </div>\r\n            <span class=\"option__title\">\r\n              {{ option[param.uriPrintAttribut] }}\r\n            </span>\r\n          </div>\r\n          <div class=\"is-flex\" v-else-if=\"option.thumb\">\r\n            <div class=\"thumb-wrapper\">\r\n              <img class=\"thumb\" :src=\"appendShortTermToken(option.thumb, shortTermToken)\">\r\n            </div>\r\n            <span class=\"option__title\">\r\n              {{ option[param.uriPrintAttribut] }}\r\n            </span>\r\n          </div>\r\n          <div class=\"is-flex\" v-else-if=\"areTermObjects\">\r\n            <cytomine-term :term=\"option\" />\r\n          </div>\r\n          <div class=\"is-flex\" v-else-if=\"areJobObjects\">\r\n            <span class=\"option__title\">\r\n              {{ formatJob(option, param.uriPrintAttribut) }}\r\n            </span>\r\n          </div>\r\n        </template>\r\n      </cytomine-multiselect>\r\n\r\n      <b-checkbox v-model=\"internalValue\" v-else-if=\"param.type === 'Boolean'\" />\r\n\r\n      <b-input v-else v-model=\"internalValue\" :name=\"validationName\" v-validate=\"validationRules\" />\r\n    </b-field>\r\n  </td>\r\n</tr>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport moment from 'moment';\r\n\r\nimport {Cytomine, Description} from 'cytomine-client';\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport CytomineTerm from '@/components/ontology/CytomineTerm';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\n\r\nexport default {\r\n  name: 'job-parameter-row',\r\n  inject: ['$validator'],\r\n  components: {CytomineTerm, CytomineMultiselect},\r\n  props: {\r\n    param: Object,\r\n    value: null\r\n  },\r\n  data() {\r\n    return {\r\n      internalValue: null,\r\n      options: null,\r\n      description: null,\r\n      loading: true\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    ontology: get('currentProject/ontology'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    processedUri() {\r\n      if(this.param.uri_) {\r\n        let result = this.param.uri_.replace(new RegExp('^' + Cytomine.instance.basePath), '');\r\n        result = result.replace('$currentProjectCreationDate$', this.project.created);\r\n        result = result.replace('$currentProject$', this.project.id);\r\n        result = result.replace('$cytomineHost$', Cytomine.instance.host);\r\n        result = result.replace('$currentDate$', new Date().getTime());\r\n        result = result.replace('$currentOntology$', this.ontology ? this.ontology.id : null);\r\n        return result;\r\n      }\r\n      return null;\r\n    },\r\n    validationName() {\r\n      return String(this.param.id);\r\n    },\r\n    validationRules() {\r\n      return {\r\n        required: this.param.required,\r\n        decimal: this.param.type === 'Number'\r\n      };\r\n    },\r\n    objectsClass() {\r\n      if (this.options && this.options.length > 0) {\r\n        return this.options[0].class;\r\n      }\r\n      return null;\r\n    },\r\n    areAnnotationObjects() {\r\n      if(this.objectsClass) {\r\n        return [\r\n          'be.cytomine.ontology.AlgoAnnotation',\r\n          'be.cytomine.ontology.UserAnnotation',\r\n          'be.cytomine.ontology.ReviewedAnnotation'\r\n        ].includes(this.objectsClass);\r\n      }\r\n      return null;\r\n    },\r\n    areTermObjects() {\r\n      return this.objectsClass === 'be.cytomine.ontology.Term';\r\n    },\r\n    areJobObjects() {\r\n      return this.objectsClass === 'be.cytomine.processing.Job';\r\n    }\r\n  },\r\n  watch: {\r\n    internalValue(value) {\r\n      if(value !== this.value) {\r\n        this.$emit('input', value);\r\n      }\r\n    },\r\n    'param.value': function() {\r\n      this.internalValue = this.param.value;\r\n    }\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    getInitialValue() {\r\n      if(this.param.defaultParamValue) {\r\n        if(this.param.type === 'Boolean') {\r\n          return this.param.defaultParamValue.toLowerCase() === 'true';\r\n        }\r\n        return this.param.defaultParamValue;\r\n      }\r\n\r\n      switch(this.param.type) {\r\n        case 'ListDomain':\r\n          return [];\r\n        case 'Domain':\r\n          return null;\r\n        case 'Boolean':\r\n          return false;\r\n        default:\r\n          return '';\r\n      }\r\n    },\r\n    formatJob(job, attribute) {\r\n      if (['softwareName', 'created', 'fullName', 'number'].includes(attribute)) {\r\n        let date = moment(Number(job.created)).format('L LTS');\r\n        return `${job['softwareName']} - ${date} (#${job['number']})`;\r\n      }\r\n\r\n      return job[attribute];\r\n    }\r\n  },\r\n  async created() {\r\n    this.internalValue = this.getInitialValue();\r\n\r\n    try {\r\n      this.description = await Description.fetch(this.param);\r\n    }\r\n    catch(error) {\r\n      // Do nothing as a 404 error means no description\r\n    }\r\n\r\n    if(this.processedUri) {\r\n      try {\r\n        let {data} = await Cytomine.instance.api.get(this.processedUri);\r\n        let options = data.collection;\r\n        if(this.param.uriSortAttribut) {\r\n          options.sort((a, b) => a[this.param.uriSortAttribut] < b[this.param.uriSortAttribut] ? -1 : 1);\r\n        }\r\n        this.options = options;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-analysis-parameters-options', {paramName: this.param.name})});\r\n      }\r\n    }\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.job-param-row-wrapper {\r\n  .thumb-wrapper {\r\n    width: 4em;\r\n  }\r\n\r\n  .thumb  {\r\n    max-height: 5em;\r\n    max-width: 3em;\r\n    background: white;\r\n  }\r\n}\r\n\r\n.job-description-popover {\r\n  z-index: 5000 !important;\r\n}\r\n\r\n.fas.fa-info-circle {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobParameterRow.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobParameterRow.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./JobParameterRow.vue?vue&type=template&id=35dc6b43\"\nimport script from \"./JobParameterRow.vue?vue&type=script&lang=js\"\nexport * from \"./JobParameterRow.vue?vue&type=script&lang=js\"\nimport style0 from \"./JobParameterRow.vue?vue&type=style&index=0&id=35dc6b43&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<form @submit.prevent=\"createJob()\">\r\n  <cytomine-modal :active=\"active\" :title=\"$t('launch-new-analysis')\" @close=\"$emit('update:active', false)\">\r\n    <div class=\"columns\">\r\n      <div class=\"column is-narrow\">\r\n        <strong>{{$t('algorithm')}}</strong>\r\n      </div>\r\n      <div class=\"column\">\r\n        <cytomine-multiselect v-model=\"selectedSoftware\" :options=\"executableSoftwares\" track-by=\"id\" label=\"fullName\" />\r\n      </div>\r\n    </div>\r\n    <template v-if=\"selectedSoftware\">\r\n      <b-message v-if=\"selectedSoftware.deprecated\" type=\"is-warning\" has-icon icon-size=\"is-small\">\r\n        {{$t('notif-deprecated-software')}}\r\n      </b-message>\r\n      <table class=\"table is-fullwidth\">\r\n        <thead>\r\n          <tr>\r\n            <th></th>\r\n            <th>{{$t('name')}}</th>\r\n            <th>{{$t('value')}}</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <job-parameter-row\r\n            v-for=\"param in paramsMandatoryNoDefault\"\r\n            :param=\"param\"\r\n            :key=\"param.id\"\r\n            v-model=\"param.value\"\r\n          />\r\n\r\n          <tr class=\"row-separator\" v-show=\"optionalParams.length > 0\">\r\n            <td colspan=\"3\">\r\n              {{$t('optional-parameters')}}\r\n              <button class=\"button is-small\" type=\"button\" @click=\"showOptional = !showOptional\">\r\n                {{$t(showOptional ? 'button-hide' : 'button-show')}}\r\n              </button>\r\n            </td>\r\n          </tr>\r\n          <template v-if=\"showOptional\">\r\n            <job-parameter-row\r\n              v-for=\"param in optionalParams\"\r\n              :param=\"param\"\r\n              :key=\"param.id\"\r\n              v-model=\"param.value\"\r\n            />\r\n          </template>\r\n\r\n          <tr class=\"row-separator\" v-show=\"prefilledParams.length > 0\">\r\n            <td colspan=\"3\">\r\n              {{$t('prefilled-parameters')}}\r\n              <button class=\"button is-small\" type=\"button\" @click=\"showPrefilled = !showPrefilled\">\r\n                {{$t(showPrefilled ? 'button-hide' : 'button-show')}}\r\n              </button>\r\n            </td>\r\n          </tr>\r\n          <template v-if=\"showPrefilled\">\r\n            <job-parameter-row\r\n              v-for=\"param in prefilledParams\"\r\n              :param=\"param\"\r\n              :key=\"param.id\"\r\n              v-model=\"param.value\"\r\n            />\r\n          </template>\r\n        </tbody>\r\n      </table>\r\n    </template>\r\n\r\n    <template #footer>\r\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n        {{$t('button-launch-new-analysis')}}\r\n      </button>\r\n    </template>\r\n  </cytomine-modal>\r\n</form>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {SoftwareCollection, Job, JobParameter} from 'cytomine-client';\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport JobParameterRow from './JobParameterRow';\r\n\r\nexport default {\r\n  name: 'add-job-modal',\r\n  props: {\r\n    active: Boolean\r\n  },\r\n  components: {\r\n    CytomineModal,\r\n    CytomineMultiselect,\r\n    JobParameterRow\r\n  },\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      softwares: [],\r\n      selectedSoftware: null,\r\n      showPrefilled: false,\r\n      showOptional: false\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    params() {\r\n      return this.selectedSoftware ? this.selectedSoftware.parameters.array : [];\r\n    },\r\n    optionalParams() {\r\n      return this.params.filter(param => !param.required && param.defaultParamValue === null);\r\n    },\r\n    prefilledParams() {\r\n      return this.params.filter(param => param.defaultParamValue !== null);\r\n    },\r\n    paramsMandatoryNoDefault() {\r\n      return this.params.filter(param => param.required && param.defaultParamValue === null);\r\n    },\r\n    jobParameters() {\r\n      return this.params.filter(param => {\r\n        return (Array.isArray(param.value)) ? param.value.length : param.value !== null;\r\n      }).map(param => {\r\n        let value = param.value;\r\n        if(value.id) {\r\n          value = value.id;\r\n        }\r\n        if(Array.isArray(value)) {\r\n          if(value.length) {\r\n            if(value[0].id) {\r\n              value = value.map(model => model.id).join();\r\n            }\r\n          }\r\n          else {\r\n            value = '';\r\n          }\r\n        }\r\n        return new JobParameter({softwareParameter: param.id, value});\r\n      });\r\n    },\r\n    executableSoftwares() {\r\n      return this.softwares.filter(s => s.executable);\r\n    }\r\n  },\r\n  watch: {\r\n    active(val) {\r\n      if(val) {\r\n        this.selectedSoftware = null;\r\n        this.showOptional = false;\r\n        this.showPrefilled = false;\r\n      }\r\n    },\r\n    async selectedSoftware() {\r\n      if(!this.selectedSoftware) {\r\n        return;\r\n      }\r\n      for(let param of this.selectedSoftware.parameters) {\r\n        this.$set(param, 'value', param.defaultParamValue);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async createJob() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        let job = new Job({\r\n          software: this.selectedSoftware.id,\r\n          project: this.project.id,\r\n          jobParameters: this.jobParameters\r\n        });\r\n        await job.save();\r\n        this.$emit('add', job);\r\n        this.$emit('update:active', false);\r\n        await job.execute();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-analysis-launch')});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-analysis-launch')});\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    this.softwares = (await SoftwareCollection.fetchAll({filterKey: 'project', filterValue: this.project.id})).array;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n>>> .modal-card {\r\n  width: 100%;\r\n  min-height: 70vh;\r\n}\r\n\r\n>>> .animation-content {\r\n  min-width: 70vw;\r\n  min-height: 70vh;\r\n}\r\n\r\n.columns {\r\n  align-items: center;\r\n}\r\n\r\n.table {\r\n  margin-bottom: 1em;\r\n}\r\n\r\nth:first-child {\r\n  width: 5%;\r\n}\r\n\r\nth:nth-child(2) {\r\n  width: 30%;\r\n}\r\n\r\ntd, >>> td {\r\n  vertical-align: middle !important;\r\n}\r\n\r\n.row-separator td {\r\n  border-top-width: 2px !important;\r\n  border-bottom-width: 1px !important;\r\n  font-weight: 600;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddJobModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddJobModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AddJobModal.vue?vue&type=template&id=8e5202c0&scoped=true\"\nimport script from \"./AddJobModal.vue?vue&type=script&lang=js\"\nexport * from \"./AddJobModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./AddJobModal.vue?vue&type=style&index=0&id=8e5202c0&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8e5202c0\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box error\" v-if=\"!configUI['project-jobs-tab']\">\r\n  <h2> {{ $t('access-denied') }} </h2>\r\n  <p>{{ $t('insufficient-permission') }}</p>\r\n</div>\r\n<div class=\"box error\" v-else-if=\"error\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p>{{ $t('unexpected-error-info-message') }}</p>\r\n</div>\r\n<div v-else class=\"list-jobs-wrapper content-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <div v-if=\"!loading\" class=\"panel\">\r\n    <p class=\"panel-heading\">\r\n      {{$t('analysis')}}\r\n      <button v-if=\"canAddJob\" class=\"button is-link\" @click=\"launchModal = true\">\r\n        {{$t('button-launch-new-analysis')}}\r\n      </button>\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <div class=\"filters\">\r\n        <h2>{{$t('filters')}}</h2>\r\n        <div class=\"columns\">\r\n          <div class=\"column filter is-one-third\">\r\n            <div class=\"filter-label\">\r\n              {{$t('algorithm')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect v-model=\"selectedSoftwares\" :options=\"availableSoftwares\" multiple track-by=\"id\" label=\"fullName\"/>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('launcher')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect v-model=\"selectedLaunchers\" :options=\"availableLaunchers\" multiple />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('execution-date')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-datepicker\r\n                v-model=\"selectedDate\"\r\n                :styles=\"['multiselect', 'bold-placeholder']\"\r\n                :placeholder=\"$t('all-dates')\"\r\n                :maxDate=\"new Date()\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"column\">\r\n            <div class=\"filter-label\">\r\n              {{$t('status')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect v-model=\"selectedStatus\" :options=\"availableStatus\"\r\n                label=\"label\" track-by=\"status\" multiple />\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <cytomine-table\r\n        :collection=\"jobCollection\"\r\n        :is-empty=\"nbEmptyFilters > 0\"\r\n        :currentPage.sync=\"currentPage\"\r\n        :perPage.sync=\"perPage\"\r\n        :openedDetailed.sync=\"openedDetails\"\r\n        :sort.sync=\"sortField\"\r\n        :order.sync=\"sortOrder\"\r\n        :revision=\"revision\"\r\n      >\r\n        <template #default=\"{row: job}\">\r\n          <b-table-column field=\"softwareName\" :label=\"$t('algorithm')\" sortable width=\"1000\">\r\n            <router-link :to=\"`/algorithm/${job.software}`\">\r\n              {{job.softwareName}}\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column :label=\"$t('run-number')\" width=\"500\" centered>\r\n            {{job.number}}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"username\" :label=\"$t('launched-by')\" sortable width=\"600\">\r\n            {{ job.username }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"created\" :label=\"$t('execution-date')\" sortable width=\"600\">\r\n            {{ Number(job.created) | moment('ll LT') }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"status\" :label=\"$t('status')\" sortable centered width=\"600\">\r\n            <job-status :status=\"job.status\" />\r\n          </b-table-column>\r\n        </template>\r\n\r\n        <template #detail=\"{row: job}\">\r\n          <job-details\r\n            :key=\"job.id\"\r\n            :job=\"job\"\r\n            @update=\"revision++\"\r\n            @delete=\"deleteJob(job)\"\r\n            @relaunch=\"addJob\"\r\n          />\r\n        </template>\r\n\r\n        <template #empty>\r\n          <div class=\"content has-text-grey has-text-centered\">\r\n            <p>{{$t('no-analysis-run')}}</p>\r\n          </div>\r\n        </template>\r\n      </cytomine-table>\r\n    </div>\r\n  </div>\r\n\r\n  <add-job-modal :active.sync=\"launchModal\" @add=\"addJob\" />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get, sync, syncMultiselectFilter} from '@/utils/store-helpers';\r\n\r\nimport {JobCollection} from 'cytomine-client';\r\nimport JobStatus from './JobStatus';\r\nimport JobDetails from './JobDetails';\r\nimport AddJobModal from './AddJobModal';\r\n\r\nimport CytomineTable from '@/components/utils/CytomineTable';\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport CytomineDatepicker from '@/components/form/CytomineDatepicker';\r\nimport jobStatusMapping from '@/utils/job-utils';\r\n\r\n// store options to use with store helpers to target projects/currentProject/listJobs module\r\nconst storeOptions = {rootModuleProp: 'storeModule'};\r\n// redefine helpers to use storeOptions and correct module path\r\nconst localSyncMultiselectFilter = (filterName, options) => syncMultiselectFilter(null, filterName, options, storeOptions);\r\n\r\nexport default {\r\n  name: 'list-jobs',\r\n  components: {\r\n    JobStatus,\r\n    JobDetails,\r\n    AddJobModal,\r\n    CytomineTable,\r\n    CytomineMultiselect,\r\n    CytomineDatepicker\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n      launchModal: false,\r\n      availableSoftwares: [],\r\n      availableLaunchers: [],\r\n      revision: 0\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    project: get('currentProject/project'),\r\n    configUI: get('currentProject/configUI'),\r\n    canManageProject() {\r\n      return this.$store.getters['currentProject/canManageProject'];\r\n    },\r\n    canAddJob() {\r\n      return !this.currentUser.guestByNow && (this.canManageProject || !this.project.isReadOnly);\r\n    },\r\n\r\n    availableStatus() {\r\n      return Object.keys(jobStatusMapping).map(key => {\r\n        return {label: this.$t(jobStatusMapping[key].label), status: key};\r\n      });\r\n    },\r\n    availableFavorites() {\r\n      return [\r\n        {label: this.$t('yes'), value: true},\r\n        {label: this.$t('no'), value: false}\r\n      ];\r\n    },\r\n\r\n    storeModule() { // path to the vuex module in which state of this component is stored (projects/currentProject/listJobs)\r\n      return this.$store.getters['currentProject/currentProjectModule'] + 'listJobs';\r\n    },\r\n\r\n    selectedSoftwares: localSyncMultiselectFilter('softwares', 'availableSoftwares'),\r\n    selectedLaunchers: localSyncMultiselectFilter('launchers', 'availableLaunchers'),\r\n    selectedDate: sync('executionDate', storeOptions),\r\n    selectedStatus: localSyncMultiselectFilter('statuses', 'availableStatus'),\r\n    selectedFavorites: localSyncMultiselectFilter('favorites', 'availableFavorites'),\r\n\r\n    nbEmptyFilters() {\r\n      return this.$store.getters[this.storeModule + '/nbEmptyFilters'];\r\n    },\r\n\r\n    jobCollection() {\r\n      let collection = new JobCollection({\r\n        project: this.project.id,\r\n        software: (this.selectedSoftwares.length > 0 && this.selectedSoftwares.length < this.availableSoftwares.length) ?\r\n          this.selectedSoftwares.map(option => option.id).join(',') : null\r\n      });\r\n\r\n      if(this.selectedLaunchers.length > 0){\r\n        collection['username'] = {\r\n          in: this.selectedLaunchers.join()\r\n        };\r\n      }\r\n      if(this.selectedStatus.length > 0){\r\n        collection['status'] = {\r\n          in: this.selectedStatus.map(option => option.status).join()\r\n        };\r\n      }\r\n      if(this.selectedFavorites.length > 0) {\r\n        collection['favorite'] = {\r\n          in: this.selectedFavorites.map(option => option.value).join()\r\n        };\r\n      }\r\n      if(this.selectedDate) {\r\n        collection.created = {\r\n          gte: this.selectedDate.getTime(),\r\n          lte: new Date(this.selectedDate).setHours(15, 15, 59, 999)\r\n        };\r\n      }\r\n      return collection;\r\n    },\r\n\r\n    currentPage: sync('currentPage', storeOptions),\r\n    perPage: sync('perPage', storeOptions),\r\n    sortField: sync('sortField', storeOptions),\r\n    sortOrder: sync('sortOrder', storeOptions),\r\n    openedDetails: sync('openedDetails', storeOptions)\r\n  },\r\n  methods: {\r\n    canEdit(job) {\r\n      return this.$store.getters['currentProject/canManageJob'](job);\r\n    },\r\n    async fetchMultiselectOptions() {\r\n      let stats = await JobCollection.fetchBounds({project: this.project.id});\r\n      this.availableSoftwares = stats.software.list;\r\n      this.availableLaunchers = stats.username.list;\r\n    },\r\n\r\n    async addJob(job) {\r\n      this.openedDetails = [job.id, ...this.openedDetails];\r\n      await this.fetchMultiselectOptions();\r\n      this.revision++;\r\n    },\r\n\r\n    async deleteJob(jobToDelete) {\r\n      try {\r\n        await jobToDelete.delete();\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-analysis-deletion')\r\n        });\r\n        this.fetchMultiselectOptions();\r\n        this.revision++;\r\n      }\r\n      catch(error) {\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-analysis-deletion')\r\n        });\r\n      }\r\n    },\r\n    async refreshJobs() {\r\n      try {\r\n        await this.fetchMultiselectOptions();\r\n        this.loading = false;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    await this.refreshJobs();\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.panel-heading {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.filters {\r\n  margin-bottom: 1.5em;\r\n}\r\n\r\na:hover .fas {\r\n  color: rgb(35, 102, 216);\r\n}\r\n\r\na:hover .fas.disabled, a:hover .disabled .fas {\r\n  color: rgba(35, 102, 216, 0.5);\r\n}\r\n\r\n.fas {\r\n  color: black;\r\n  width: 20px;\r\n  position: relative;\r\n}\r\n\r\n.fas.fa-flag {\r\n  font-size: 0.8em;\r\n  bottom: 0.5em;\r\n}\r\n\r\n.fas.disabled, .disabled .fas {\r\n  color: rgba(0, 0, 0, 0.1);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListJobs.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListJobs.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ListJobs.vue?vue&type=template&id=44623caa&scoped=true\"\nimport script from \"./ListJobs.vue?vue&type=script&lang=js\"\nexport * from \"./ListJobs.vue?vue&type=script&lang=js\"\nimport style0 from \"./ListJobs.vue?vue&type=style&index=0&id=44623caa&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44623caa\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.configUI['project-information-tab'])?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):_c('div',{staticClass:\"content-wrapper\"},[_c('div',{staticClass:\"box\"},[_c('project-details',{attrs:{\"project\":_vm.project,\"excluded-properties\":_vm.excludedProperties,\"editable\":\"\"},on:{\"update\":_vm.updateProject,\"delete\":function($event){return _vm.deleteProject()}}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box error\" v-if=\"!configUI['project-information-tab']\">\r\n  <h2> {{ $t('access-denied') }} </h2>\r\n  <p>{{ $t('insufficient-permission') }}</p>\r\n</div>\r\n<div v-else class=\"content-wrapper\">\r\n  <div class=\"box\">\r\n    <project-details\r\n      :project=\"project\"\r\n      :excluded-properties=\"excludedProperties\"\r\n      editable\r\n      @update=\"updateProject\"\r\n      @delete=\"deleteProject()\"\r\n    />\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport ProjectDetails from './ProjectDetails';\r\nimport {Project} from 'cytomine-client';\r\nimport constants from '@/utils/constants.js';\r\nexport default {\r\n  name: 'project-information',\r\n  components: {ProjectDetails},\r\n  data() {\r\n    return {\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      excludedProperties: [\r\n        'imagesPreview'\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    configUI: get('currentProject/configUI')\r\n  },\r\n  methods: {\r\n    updateProject(updatedProject) {\r\n      this.$store.dispatch('currentProject/updateProject', updatedProject);\r\n    },\r\n    async deleteProject() {\r\n      try {\r\n        await Project.delete(this.project.id);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-project-deletion', {projectName: this.project.name})\r\n        });\r\n        this.$router.push('/projects');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-project-deletion', {projectName: this.project.name})\r\n        });\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    if(!this.algoEnabled) this.excludedProperties.push('numberOfJobAnnotations');\r\n    this.$store.dispatch('currentProject/reloadProject');\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectInformation.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectInformation.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProjectInformation.vue?vue&type=template&id=e18a2f9e\"\nimport script from \"./ProjectInformation.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectInformation.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.configUI['project-configuration-tab'])?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):_c('div',{staticClass:\"content-wrapper\"},[_c('b-field',{staticClass:\"radio-buttons-fullwidth\"},[_c('b-radio-button',{attrs:{\"native-value\":\"general\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('general'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"members\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('members'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"customUI\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('custom-ui'))+\" \")]),_c('b-radio-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.algoEnabled),expression:\"algoEnabled\"}],attrs:{\"native-value\":\"algorithms\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('algorithms'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"imageFilters\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('image-filters'))+\" \")])],1),_c('div',{staticClass:\"box tab-content\"},[_c('keep-alive',[_c(_vm.activeComponent,{tag:\"component\"})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('editing-mode')))]),_c('p',{staticClass:\"explanation\"},[_vm._v(_vm._s(_vm.$t('editing-mode-explanation')))]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-radio',{attrs:{\"native-value\":\"CLASSIC\"},model:{value:(_vm.editingMode),callback:function ($$v) {_vm.editingMode=$$v},expression:\"editingMode\"}},[_vm._v(\" \"+_vm._s(_vm.$t('classic'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('classic-mode-explanation'))+\" \")])],1)]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-radio',{attrs:{\"native-value\":\"RESTRICTED\"},model:{value:(_vm.editingMode),callback:function ($$v) {_vm.editingMode=$$v},expression:\"editingMode\"}},[_vm._v(\" \"+_vm._s(_vm.$t('restricted'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('restricted-mode-explanation'))+\" \")])],1)]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-radio',{attrs:{\"native-value\":\"READ-ONLY\"},model:{value:(_vm.editingMode),callback:function ($$v) {_vm.editingMode=$$v},expression:\"editingMode\"}},[_vm._v(\" \"+_vm._s(_vm.$t('read-only'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('read-only-mode-explanation'))+\" \")])],1)]),_c('h2',[_vm._v(_vm._s(_vm.$t('blind-mode')))]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-checkbox',{model:{value:(_vm.blindMode),callback:function ($$v) {_vm.blindMode=$$v},expression:\"blindMode\"}},[_vm._v(\" \"+_vm._s(_vm.$t('blind-mode'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('blind-mode-explanation'))+\" \")])],1)]),_c('h2',[_vm._v(_vm._s(_vm.$t('annotation-layers')))]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-checkbox',{model:{value:(_vm.hideManagersLayers),callback:function ($$v) {_vm.hideManagersLayers=$$v},expression:\"hideManagersLayers\"}},[_vm._v(\" \"+_vm._s(_vm.$t('hide-managers-layers'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('hide-managers-layers-explanation'))+\" \")])],1)]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-checkbox',{model:{value:(_vm.hideContributorsLayers),callback:function ($$v) {_vm.hideContributorsLayers=$$v},expression:\"hideContributorsLayers\"}},[_vm._v(\" \"+_vm._s(_vm.$t('hide-contributors-layers'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('hide-contributors-layers-explanation'))+\" \")])],1)]),_c('h2',[_vm._v(_vm._s(_vm.$t('default-annotation-layers')))]),_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-select',{attrs:{\"size\":\"is-small\",\"placeholder\":_vm.$t('select-layer-placeholder')},model:{value:(_vm.layerToAdd),callback:function ($$v) {_vm.layerToAdd=$$v},expression:\"layerToAdd\"}},_vm._l((_vm.unselectedLayers),function(layer){return _c('option',{key:layer.id,domProps:{\"value\":layer}},[_vm._v(\" \"+_vm._s(_vm.fullName(layer))+\" \")])}),0),_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":!_vm.layerToAdd},on:{\"click\":function($event){return _vm.addDefaultLayer()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")])],1),(_vm.selectedLayers.length > 0)?_c('table',{staticClass:\"table\"},[_c('tbody',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t('layer')))]),_c('th',[_vm._v(_vm._s(_vm.$t('hide-by-default')))]),_c('th')]),_vm._l((_vm.selectedLayers),function(layer,idx){return _c('tr',{key:layer.id},[_c('td',[_vm._v(_vm._s(_vm.fullName(layer)))]),_c('td',{staticClass:\"is-centered\"},[_c('b-checkbox',{attrs:{\"size\":\"is-small\"},on:{\"input\":function($event){return _vm.saveDefaultLayer(idx)}},model:{value:(_vm.defaultLayers[idx].hideByDefault),callback:function ($$v) {_vm.$set(_vm.defaultLayers[idx], \"hideByDefault\", $$v)},expression:\"defaultLayers[idx].hideByDefault\"}})],1),_c('td',[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.deleteDefaultLayer(idx)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-remove')))])])])})],2)]):_vm._e(),_c('h2',[_vm._v(_vm._s(_vm.$t('default-property')))]),_c('default-property'),_c('h2',[_vm._v(_vm._s(_vm.$t('download-permission')))]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-checkbox',{model:{value:(_vm.imagesDownloadable),callback:function ($$v) {_vm.imagesDownloadable=$$v},expression:\"imagesDownloadable\"}},[_vm._v(\" \"+_vm._s(_vm.$t('images_downloadable_by_contributor'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('images_downloadable_by_contributor-explanation'))+\" \")])],1)]),_c('h2',[_vm._v(\"Actions\")]),_c('project-actions',{attrs:{\"project\":_vm.project,\"size\":\"is-normal\"},on:{\"update\":_vm.externalProjectUpdate,\"delete\":function($event){return _vm.deleteProject()}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-autocomplete',{attrs:{\"data\":_vm.filteredKeys,\"placeholder\":_vm.$t('no-default-property'),\"loading\":_vm.loading,\"disabled\":_vm.loading,\"size\":\"is-small\"},scopedSlots:_vm._u([{key:\"empty\",fn:function(){return [_vm._v(_vm._s(_vm.$t('no-property-matching-search-string', {searchString: _vm.searchString})))]},proxy:true}]),model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":_vm.defaultPropertyProp && _vm.searchString === _vm.defaultPropertyProp.value},on:{\"click\":function($event){return _vm.confirm()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p> {{ $t('unexpected-error-info-message') }} </p>\r\n</b-message>\r\n<b-field grouped v-else>\r\n  <b-autocomplete\r\n    v-model=\"searchString\"\r\n    :data=\"filteredKeys\"\r\n    :placeholder=\"$t('no-default-property')\"\r\n    :loading=\"loading\"\r\n    :disabled=\"loading\"\r\n    size=\"is-small\"\r\n  >\r\n    <template #empty>{{$t('no-property-matching-search-string', {searchString})}}</template>\r\n  </b-autocomplete>\r\n\r\n  <button\r\n    class=\"button is-small\"\r\n    @click=\"confirm()\"\r\n    :disabled=\"defaultPropertyProp && searchString === defaultPropertyProp.value\"\r\n  >\r\n    {{$t('button-save')}}\r\n  </button>\r\n</b-field>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {Property, PropertyCollection} from 'cytomine-client';\r\nimport constants from '@/utils/constants.js';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      searchString: '',\r\n\r\n      defaultPropertyProp: null, // project property storing the property to display by default when opening an image\r\n      keysAnnotationProps: []\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    filteredKeys() {\r\n      if(!this.searchString.length) {\r\n        return this.keysAnnotationProps;\r\n      }\r\n\r\n      let regexp = getWildcardRegexp(this.searchString);\r\n      return this.keysAnnotationProps.filter(key => regexp.test(key));\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchKeysAnnotationProperties() {\r\n      this.keysAnnotationProps = await PropertyCollection.fetchKeysAnnotationProperties(this.project.id);\r\n    },\r\n\r\n    async fetchDefaultPropertyProp() {\r\n      try {\r\n        let projectProps = (await PropertyCollection.fetchAll({object: this.project})).array;\r\n        this.defaultPropertyProp = projectProps.find(prop => prop.key === constants.DEFAULT_PROPERTY_KEY);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n      }\r\n\r\n      if(!this.defaultPropertyProp) {\r\n        this.defaultPropertyProp = new Property({key: constants.DEFAULT_PROPERTY_KEY, value: ''}, this.project);\r\n      }\r\n\r\n      this.searchString = this.defaultPropertyProp.value;\r\n    },\r\n\r\n    confirm() {\r\n      if(this.keysAnnotationProps.includes(this.searchString) || !this.searchString.length) {\r\n        this.save();\r\n        return;\r\n      }\r\n\r\n      // if user entered value that is not yet used as key for an annotation property, ask confirmation\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('confirm-default-property'),\r\n        message: this.$t('confirm-default-property-not-used-in-project', {key: this.searchString}),\r\n        type: 'is-info',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.save(),\r\n        onCancel: () => this.searchString = this.defaultPropertyProp.value\r\n      });\r\n    },\r\n\r\n    async save() {\r\n      this.defaultPropertyProp.value = this.searchString;\r\n      try {\r\n        if(!this.defaultPropertyProp.value.length) { // empty property\r\n          if(!this.defaultPropertyProp.isNew()) { // property exists\r\n            await this.defaultPropertyProp.delete();\r\n            this.defaultPropertyProp = new Property({key: constants.DEFAULT_PROPERTY_KEY, value: ''}, this.project);\r\n          }\r\n        }\r\n        else {\r\n          await this.defaultPropertyProp.save();\r\n        }\r\n        this.$notify({type: 'success', text: this.$t('notif-success-default-property-update')});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-default-property-update')});\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      await Promise.all([\r\n        this.fetchKeysAnnotationProperties(),\r\n        this.fetchDefaultPropertyProp()\r\n      ]);\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DefaultProperty.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DefaultProperty.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DefaultProperty.vue?vue&type=template&id=f7a67faa\"\nimport script from \"./DefaultProperty.vue?vue&type=script&lang=js\"\nexport * from \"./DefaultProperty.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <h2>{{$t('editing-mode')}}</h2>\r\n  <p class=\"explanation\">{{$t('editing-mode-explanation')}}</p>\r\n\r\n  <div class=\"columns\">\r\n    <div class=\"column is-one-quarter\">\r\n      <b-radio v-model=\"editingMode\" native-value=\"CLASSIC\">\r\n        {{$t('classic')}}\r\n      </b-radio>\r\n    </div>\r\n    <div class=\"column\">\r\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\r\n        {{$t('classic-mode-explanation')}}\r\n      </b-message>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"columns\">\r\n    <div class=\"column is-one-quarter\">\r\n      <b-radio v-model=\"editingMode\" native-value=\"RESTRICTED\">\r\n        {{$t('restricted')}}\r\n      </b-radio>\r\n    </div>\r\n    <div class=\"column\">\r\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\r\n        {{$t('restricted-mode-explanation')}}\r\n      </b-message>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"columns\">\r\n    <div class=\"column is-one-quarter\">\r\n      <b-radio v-model=\"editingMode\" native-value=\"READ-ONLY\">\r\n        {{$t('read-only')}}\r\n      </b-radio>\r\n    </div>\r\n    <div class=\"column\">\r\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\r\n        {{$t('read-only-mode-explanation')}}\r\n      </b-message>\r\n    </div>\r\n  </div>\r\n\r\n  <h2>{{$t('blind-mode')}}</h2>\r\n\r\n  <div class=\"columns\">\r\n    <div class=\"column is-one-quarter\">\r\n      <b-checkbox v-model=\"blindMode\">\r\n        {{$t('blind-mode')}}\r\n      </b-checkbox>\r\n    </div>\r\n    <div class=\"column\">\r\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\r\n        {{$t('blind-mode-explanation')}}\r\n      </b-message>\r\n    </div>\r\n  </div>\r\n\r\n  <h2>{{$t('annotation-layers')}}</h2>\r\n\r\n  <div class=\"columns\">\r\n    <div class=\"column is-one-quarter\">\r\n      <b-checkbox v-model=\"hideManagersLayers\">\r\n        {{$t('hide-managers-layers')}}\r\n      </b-checkbox>\r\n    </div>\r\n    <div class=\"column\">\r\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\r\n        {{$t('hide-managers-layers-explanation')}}\r\n      </b-message>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"columns\">\r\n    <div class=\"column is-one-quarter\">\r\n      <b-checkbox v-model=\"hideContributorsLayers\">\r\n        {{$t('hide-contributors-layers')}}\r\n      </b-checkbox>\r\n    </div>\r\n    <div class=\"column\">\r\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\r\n        {{$t('hide-contributors-layers-explanation')}}\r\n      </b-message>\r\n    </div>\r\n  </div>\r\n\r\n  <h2>{{$t('default-annotation-layers')}}</h2>\r\n\r\n  <b-field grouped>\r\n    <b-select size=\"is-small\" :placeholder=\"$t('select-layer-placeholder')\" v-model=\"layerToAdd\">\r\n      <option v-for=\"layer in unselectedLayers\" :key=\"layer.id\" :value=\"layer\">\r\n        {{fullName(layer)}}\r\n      </option>\r\n    </b-select>\r\n\r\n    <button class=\"button is-small\" :disabled=\"!layerToAdd\" @click=\"addDefaultLayer()\">\r\n      {{$t('button-add')}}\r\n    </button>\r\n  </b-field>\r\n\r\n  <table v-if=\"selectedLayers.length > 0\" class=\"table\">\r\n    <tbody>\r\n      <tr>\r\n        <th>{{$t('layer')}}</th>\r\n        <th>{{$t('hide-by-default')}}</th>\r\n        <th></th>\r\n      </tr>\r\n      <tr v-for=\"(layer, idx) in selectedLayers\" :key=\"layer.id\">\r\n        <td>{{fullName(layer)}}</td>\r\n        <td class=\"is-centered\">\r\n          <b-checkbox v-model=\"defaultLayers[idx].hideByDefault\" size=\"is-small\" @input=\"saveDefaultLayer(idx)\" />\r\n        </td>\r\n        <td>\r\n          <button class=\"button is-small\" @click=\"deleteDefaultLayer(idx)\"> {{$t('button-remove')}}</button>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n  <h2>{{$t('default-property')}}</h2>\r\n  <default-property />\r\n\r\n  <h2>{{$t('download-permission')}}</h2>\r\n\r\n  <div class=\"columns\">\r\n    <div class=\"column is-one-quarter\">\r\n      <b-checkbox v-model=\"imagesDownloadable\">\r\n        {{$t('images_downloadable_by_contributor')}}\r\n      </b-checkbox>\r\n    </div>\r\n    <div class=\"column\">\r\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\r\n        {{$t('images_downloadable_by_contributor-explanation')}}\r\n      </b-message>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <h2>Actions</h2>\r\n  <project-actions :project=\"project\" size=\"is-normal\" @update=\"externalProjectUpdate\" @delete=\"deleteProject()\" />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport ProjectActions from '../ProjectActions';\r\nimport DefaultProperty from './DefaultProperty';\r\nimport {Project, ProjectDefaultLayer, ProjectDefaultLayerCollection} from 'cytomine-client';\r\nimport {fullName} from '@/utils/user-utils.js';\r\n\r\nexport default {\r\n  name: 'general-configuration',\r\n  components: {\r\n    ProjectActions,\r\n    DefaultProperty\r\n  },\r\n  data() {\r\n    return {\r\n      editingMode: '',\r\n      blindMode: null,\r\n      hideManagersLayers: null,\r\n      hideContributorsLayers: null,\r\n      imagesDownloadable: null,\r\n\r\n      layerToAdd: null,\r\n      defaultLayers: []\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    layers: get('currentProject/members'),\r\n\r\n    currentEditingMode() {\r\n      return this.project.isReadOnly ? 'READ-ONLY' : this.project.isRestricted ? 'RESTRICTED' : 'CLASSIC';\r\n    },\r\n\r\n    selectedLayers() {\r\n      return this.defaultLayers.map(defaultLayer => {\r\n        let layer = this.layers.find(layer => layer.id === defaultLayer.user);\r\n        return {...defaultLayer, ...layer};\r\n      });\r\n    },\r\n    unselectedLayers() {\r\n      let selectedLayersIds = this.defaultLayers.map(layer => layer.user);\r\n      return this.layers.filter(layer => !selectedLayersIds.includes(layer.id)).sort((a, b) => (a.lastname < b.lastname) ? -1 : 1 );\r\n    }\r\n  },\r\n  watch: {\r\n    editingMode(mode) {\r\n      if(mode === this.currentEditingMode) {\r\n        return;\r\n      }\r\n      this.updateProject({isReadOnly: mode === 'READ-ONLY', isRestricted: mode === 'RESTRICTED'});\r\n    },\r\n\r\n    blindMode() {\r\n      if(this.blindMode === this.project.blindMode) {\r\n        return;\r\n      }\r\n      this.updateProject({blindMode: this.blindMode});\r\n    },\r\n\r\n    hideManagersLayers() {\r\n      if(this.hideManagersLayers === this.project.hideAdminsLayers) {\r\n        return;\r\n      }\r\n      this.updateProject({hideAdminsLayers: this.hideManagersLayers});\r\n    },\r\n\r\n    hideContributorsLayers() {\r\n      if(this.hideContributorsLayers === this.project.hideUsersLayers) {\r\n        return;\r\n      }\r\n      this.updateProject({hideUsersLayers: this.hideContributorsLayers});\r\n    },\r\n\r\n    imagesDownloadable(){\r\n      if(this.imagesDownloadable === this.project.areImagesDownloadable){\r\n        return;\r\n      }\r\n      this.updateProject({areImagesDownloadable: this.imagesDownloadable});\r\n    }\r\n  },\r\n  methods: {\r\n    fullName(layer) {\r\n      return fullName(layer);\r\n    },\r\n\r\n    initData() {\r\n      this.editingMode = this.currentEditingMode;\r\n      this.blindMode = this.project.blindMode;\r\n      this.hideManagersLayers = this.project.hideAdminsLayers;\r\n      this.hideContributorsLayers = this.project.hideUsersLayers;\r\n      this.imagesDownloadable = this.project.areImagesDownloadable;\r\n    },\r\n\r\n    async fetchDefaultLayers() {\r\n      this.defaultLayers = (await ProjectDefaultLayerCollection.fetchAll({\r\n        filterKey: 'project',\r\n        filterValue: this.project.id\r\n      })).array;\r\n    },\r\n\r\n    async updateProject(newProps) {\r\n      let updatedProject = this.project.clone();\r\n      updatedProject.populate(newProps);\r\n      try {\r\n        await updatedProject.save();\r\n        this.$store.commit('currentProject/setProject', updatedProject);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.initData(); // reset data\r\n        this.$notify({type: 'error', text: this.$t('notif-error-general-config-update')});\r\n      }\r\n    },\r\n\r\n    async addDefaultLayer() {\r\n      if(!this.layerToAdd) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        let defaultLayer = new ProjectDefaultLayer({\r\n          project: this.project.id,\r\n          user: this.layerToAdd.id\r\n        });\r\n        await defaultLayer.save();\r\n        this.defaultLayers.push(defaultLayer);\r\n        this.layerToAdd = null;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-default-layer-add')});\r\n      }\r\n    },\r\n\r\n    async saveDefaultLayer(idx) {\r\n      try {\r\n        await this.defaultLayers[idx].save();\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-default-layer-update')});\r\n      }\r\n    },\r\n\r\n    async deleteDefaultLayer(idx) {\r\n      try {\r\n        await this.defaultLayers[idx].delete();\r\n        this.defaultLayers.splice(idx, 1);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-default-layer-delete')});\r\n      }\r\n    },\r\n\r\n    externalProjectUpdate(updatedProject) {\r\n      this.$store.dispatch('currentProject/updateProject', updatedProject);\r\n    },\r\n\r\n    async deleteProject() {\r\n      try {\r\n        await Project.delete(this.project.id);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-project-deletion', {projectName: this.project.name})\r\n        });\r\n        this.$router.push('/projects');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-project-deletion', {projectName: this.project.name})\r\n        });\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    this.initData();\r\n    this.fetchDefaultLayers();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh2 {\r\n  color: #444;\r\n  border-bottom: 1px solid #ddd;\r\n  margin-top: 1.5em;\r\n}\r\n\r\nh2:first-child {\r\n  margin-top: 0;\r\n}\r\n\r\n.columns {\r\n  align-items: center;\r\n}\r\n\r\n.column {\r\n  padding: 0.8em;\r\n}\r\n\r\n.column:first-child {\r\n  padding-left: 3.5em;\r\n}\r\n\r\n.explanation {\r\n  margin-bottom: 1.4em;\r\n}\r\n\r\n.is-centered {\r\n  text-align: center;\r\n}\r\n\r\nth, td {\r\n  padding: 0.5em 2em !important;\r\n}\r\n\r\n>>> .message-body {\r\n  padding: 1em !important;\r\n}\r\n\r\n>>> select, >>> input[type=text] {\r\n  width: 26em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralConfiguration.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralConfiguration.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./GeneralConfiguration.vue?vue&type=template&id=3cd00c07&scoped=true\"\nimport script from \"./GeneralConfiguration.vue?vue&type=script&lang=js\"\nexport * from \"./GeneralConfiguration.vue?vue&type=script&lang=js\"\nimport style0 from \"./GeneralConfiguration.vue?vue&type=style&index=0&id=3cd00c07&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3cd00c07\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"list-members-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):(!_vm.loading)?[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('div',{staticClass:\"column filter is-one-quarter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('role'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableRoles,\"multiple\":\"\",\"searchable\":false,\"label\":\"label\",\"track-by\":\"value\"},model:{value:(_vm.selectedRoles),callback:function ($$v) {_vm.selectedRoles=$$v},expression:\"selectedRoles\"}})],1)]),_c('div',{staticClass:\"column is-one-half has-text-right-desktop buttons\"},[_c('button',{staticClass:\"button is-link add-member\",on:{\"click\":function($event){_vm.addMemberModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add-members'))+\" \")]),_c('button',{staticClass:\"button is-danger\",attrs:{\"disabled\":_vm.selectedMembers.length === 0},on:{\"click\":function($event){return _vm.confirmMembersRemoval()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-remove-selected-members'))+\" \")])])]),_c('cytomine-table',{attrs:{\"collection\":_vm.MemberCollection,\"is-empty\":this.selectedRoles.length === 0,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"detailed\":false,\"checkable\":true,\"isRowCheckable\":(row) => row.id !== _vm.currentUser.id,\"checkedRows\":_vm.selectedMembers,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event},\"update:checkedRows\":function($event){_vm.selectedMembers=$event},\"update:checked-rows\":function($event){_vm.selectedMembers=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function({row: member}){return [_c('b-table-column',{attrs:{\"field\":\"username\",\"label\":_vm.$t('username'),\"sortable\":\"\",\"width\":\"100\"}},[_vm._v(\" \"+_vm._s(member.username)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"fullName\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(member.firstname)+\" \"+_vm._s(member.lastname)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"projectRole\",\"label\":_vm.$t('role'),\"sortable\":\"\",\"width\":\"50\"}},[_c('icon-project-member-role',{attrs:{\"is-manager\":member.role !== _vm.contributorRole.value,\"is-representative\":member.role === _vm.representativeRole.value,\"editable\":\"\"},on:{\"toggleManager\":function($event){return _vm.confirmToggleManager(member)},\"toggleRepresentative\":function($event){return _vm.toggleRepresentative(member)}}})],1),_c('b-table-column',{attrs:{\"field\":\"origin\",\"label\":_vm.$t('source'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"50\"}},[_c('span',{staticClass:\"tag ldap is-rounded is-info\",class:{ldap: member.LDAP}},[_vm._v(\" \"+_vm._s(_vm.displayMemberOrigin(member))+\" \")])]),_c('b-table-column',{attrs:{\"label\":\"\",\"centered\":\"\",\"width\":\"50\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":`/project/${_vm.project.id}/activity/user/${member.id}`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-view-activity'))+\" \")])],1)]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-member-fitting-criteria')))])])]},proxy:true},{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"has-text-centered\"},[_c('a',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.download(_vm.exportURL)}}},[_vm._v(_vm._s(_vm.$t('button-export-as-csv')))])])]},proxy:true}])}),_c('div',{staticClass:\"legend\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('legend')))]),_c('p',[_c('icon-project-member-role'),_vm._v(\" : \"+_vm._s(_vm.$t('project-contributor')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('project-manager')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true,\"is-representative\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('project-representative')))],1)]),_c('add-member-modal',{attrs:{\"active\":_vm.addMemberModal},on:{\"update:active\":function($event){_vm.addMemberModal=$event},\"addMembers\":function($event){return _vm.refreshMembers()}}})]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('add-members-to-project')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",on:{\"click\":_vm.addMembers}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")])]},proxy:true}])},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[_c('b-field',[_c('domain-tag-input',{attrs:{\"domains\":_vm.notMemberUsers,\"placeholder\":\"search-user\",\"displayedProperty\":\"fullName\",\"searchedProperty\":\"fullName\"},model:{value:(_vm.selectedMembers),callback:function ($$v) {_vm.selectedMembers=$$v},expression:\"selectedMembers\"}})],1)]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<cytomine-modal :active=\"active\" :title=\"$t('add-members-to-project')\" @close=\"$emit('update:active', false)\">\r\n    <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\r\n    <template v-if=\"!loading\">\r\n      <b-field>\r\n        <domain-tag-input v-model=\"selectedMembers\" :domains=\"notMemberUsers\" placeholder=\"search-user\" displayedProperty=\"fullName\" searchedProperty=\"fullName\"/>\r\n      </b-field>\r\n    </template>\r\n\r\n    <template #footer>\r\n      <button class=\"button\" @click=\"$emit('update:active', false)\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" @click=\"addMembers\">\r\n        {{$t('button-add')}}\r\n      </button>\r\n    </template>\r\n</cytomine-modal>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {UserCollection} from 'cytomine-client';\r\nimport DomainTagInput from '@/components/utils/DomainTagInput';\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\nimport {fullName} from '@/utils/user-utils.js';\r\n\r\nexport default {\r\n  name: 'add-member-modal',\r\n  props: {\r\n    active: Boolean\r\n  },\r\n  components: {\r\n    CytomineModal,\r\n    DomainTagInput,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      users: [],\r\n      selectedMembers: []\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    projectMembersIds() {\r\n      let projectMembers = this.$store.state.currentProject.members;\r\n      let newProjectMembers = projectMembers.concat(this.selectedMembers);\r\n      return newProjectMembers.map(u => u.id);\r\n    },\r\n    notMemberUsers() {\r\n      return this.users.filter(user => !this.projectMembersIds.includes(user.id));\r\n    }\r\n  },\r\n  watch: {\r\n    active() {\r\n      this.selectedMembers = [];\r\n    }\r\n  },\r\n  methods: {\r\n    async addMembers() {\r\n      try {\r\n        await this.project.addUsers(this.selectedMembers.map(member => member.id));\r\n        this.$emit('addMembers');\r\n        this.$notify({type: 'success', text: this.$t('notif-success-add-project-members')});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-add-project-members')});\r\n      }\r\n\r\n      this.$emit('update:active', false);\r\n    }\r\n  },\r\n  async created() {\r\n    let users = (await UserCollection.fetchAll()).array;\r\n    users.forEach(u => u.fullName = fullName(u));\r\n    this.users = users;\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n>>> .modal-card, >>> .modal-card-body {\r\n  overflow: visible !important;\r\n  width: 60vw !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddMemberModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddMemberModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AddMemberModal.vue?vue&type=template&id=085e2b90&scoped=true\"\nimport script from \"./AddMemberModal.vue?vue&type=script&lang=js\"\nexport * from \"./AddMemberModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./AddMemberModal.vue?vue&type=style&index=0&id=085e2b90&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"085e2b90\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"list-members-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n    <h2> {{ $t('error') }} </h2>\r\n    <p> {{ $t('unexpected-error-info-message') }} </p>\r\n  </b-message>\r\n  <template v-else-if=\"!loading\">\r\n    <div class=\"columns\">\r\n      <div class=\"column is-one-quarter\">\r\n        <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\r\n      </div>\r\n\r\n      <div class=\"column filter is-one-quarter\">\r\n        <div class=\"filter-label\">\r\n          {{$t('role')}}\r\n        </div>\r\n        <div class=\"filter-body\">\r\n          <cytomine-multiselect v-model=\"selectedRoles\" :options=\"availableRoles\" multiple\r\n            :searchable=\"false\" label=\"label\" track-by=\"value\"/>\r\n        </div>\r\n      </div>\r\n      <div class=\"column is-one-half has-text-right-desktop buttons\">\r\n        <button class=\"button is-link add-member\" @click=\"addMemberModal = true\">\r\n          {{$t('button-add-members')}}\r\n        </button>\r\n\r\n        <button class=\"button is-danger\" @click=\"confirmMembersRemoval()\" :disabled=\"selectedMembers.length === 0\">\r\n          {{$t('button-remove-selected-members')}}\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <cytomine-table\r\n      :collection=\"MemberCollection\"\r\n      :is-empty=\"this.selectedRoles.length === 0\"\r\n      :currentPage.sync=\"currentPage\"\r\n      :perPage.sync=\"perPage\"\r\n      :sort.sync=\"sortField\"\r\n      :order.sync=\"sortOrder\"\r\n      :detailed=false\r\n      :checkable=true\r\n      :isRowCheckable=\"(row) => row.id !== currentUser.id\"\r\n      :checkedRows.sync=\"selectedMembers\"\r\n      :revision=\"revision\"\r\n    >\r\n\r\n      <template #default=\"{row: member}\">\r\n        <b-table-column field=\"username\" :label=\"$t('username')\" sortable width=\"100\">\r\n          {{member.username}}\r\n        </b-table-column>\r\n\r\n        <b-table-column field=\"fullName\" :label=\"$t('name')\" sortable width=\"150\">\r\n          {{member.firstname}} {{member.lastname}}\r\n        </b-table-column>\r\n\r\n        <b-table-column field=\"projectRole\" :label=\"$t('role')\" sortable width=\"50\">\r\n          <icon-project-member-role\r\n            :is-manager=\"member.role !== contributorRole.value\"\r\n            :is-representative=\"member.role === representativeRole.value\"\r\n            editable\r\n            @toggleManager=\"confirmToggleManager(member)\"\r\n            @toggleRepresentative=\"toggleRepresentative(member)\"\r\n          />\r\n        </b-table-column>\r\n\r\n        <b-table-column field=\"origin\" :label=\"$t('source')\" centered sortable width=\"50\">\r\n          <span class=\"tag ldap is-rounded is-info\" :class=\"{ldap: member.LDAP}\">\r\n            {{displayMemberOrigin(member)}}\r\n          </span>\r\n        </b-table-column>\r\n\r\n        <b-table-column label=\"\" centered width=\"50\">\r\n          <router-link :to=\"`/project/${project.id}/activity/user/${member.id}`\" class=\"button is-small is-link\">\r\n            {{$t('button-view-activity')}}\r\n          </router-link>\r\n        </b-table-column>\r\n      </template>\r\n\r\n      <template #empty>\r\n        <div class=\"content has-text-grey has-text-centered\">\r\n          <p>{{$t('no-member-fitting-criteria')}}</p>\r\n        </div>\r\n      </template>\r\n\r\n      <template #footer>\r\n        <div class=\"has-text-centered\">\r\n          <a @click=\"download(exportURL)\" class=\"button is-link\">{{$t('button-export-as-csv')}}</a>\r\n        </div>\r\n      </template>\r\n    </cytomine-table>\r\n\r\n    <div class=\"legend\">\r\n      <h2>{{$t('legend')}}</h2>\r\n      <p><icon-project-member-role /> : {{$t('project-contributor')}}</p>\r\n      <p><icon-project-member-role :is-manager=\"true\" /> : {{$t('project-manager')}}</p>\r\n      <p><icon-project-member-role :is-manager=\"true\" :is-representative=\"true\" /> : {{$t('project-representative')}}</p>\r\n    </div>\r\n\r\n    <add-member-modal :active.sync=\"addMemberModal\" @addMembers=\"refreshMembers()\" />\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport CytomineTable from '@/components/utils/CytomineTable';\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport AddMemberModal from './AddMemberModal';\r\nimport {fullName} from '@/utils/user-utils.js';\r\nimport {Cytomine, UserCollection, ProjectRepresentative} from 'cytomine-client';\r\nimport IconProjectMemberRole from '@/components/icons/IconProjectMemberRole';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\n\r\nexport default {\r\n  name: 'projet-members',\r\n  components: {\r\n    IconProjectMemberRole,\r\n    CytomineTable,\r\n    CytomineMultiselect,\r\n    AddMemberModal\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      addMemberModal: false,\r\n\r\n      currentPage: 1,\r\n      perPage: 25,\r\n      sortField: '',\r\n      sortOrder: '',\r\n\r\n      searchString: '',\r\n\r\n      contributorRole: {label:this.$t('contributor'), value : 'contributor'},\r\n      managerRole: {label:this.$t('manager'), value: 'manager'},\r\n      representativeRole: {label:this.$t('representative'), value: 'representative'},\r\n      availableRoles: [],\r\n      selectedRoles: [],\r\n      selectedMembers: [],\r\n\r\n\r\n      revision: 0\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    project: get('currentProject/project'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n\r\n    MemberCollection() {\r\n      let collection = new UserCollection({\r\n        filterKey: 'project',\r\n        filterValue: this.project.id,\r\n      });\r\n      if(this.selectedRoles.length > 0){\r\n        collection['projectRole'] = {\r\n          in: this.selectedRoles.map(option => option.value).join()\r\n        };\r\n      }\r\n      if(this.searchString) {\r\n        collection['fullName'] = {\r\n          ilike: encodeURIComponent(this.searchString)\r\n        };\r\n      }\r\n\r\n      return collection;\r\n    },\r\n\r\n    exportURL() {\r\n      // TODO in core: should export only the filtered users\r\n      return Cytomine.instance.host + Cytomine.instance.basePath + `project/${this.project.id}/user/download?format=csv`;\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    appendShortTermToken,\r\n    displayMemberOrigin(member){\r\n      let key;\r\n      if(member.origin === 'LDAP') key = 'LDAP';\r\n      if(member.origin === 'BOOTSTRAP') key = 'system';\r\n      else key = 'manual';\r\n\r\n      return this.$t(key);\r\n    },\r\n    async refreshMembers() {\r\n      try {\r\n        this.revision++;\r\n        await this.$store.dispatch('currentProject/fetchProjectMembers');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n      }\r\n    },\r\n    download(url) {\r\n      window.open(appendShortTermToken(url, this.shortTermToken));\r\n    },\r\n    confirmMembersRemoval() {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('remove-members'),\r\n        message: this.$tc('remove-members-confirmation-message', this.selectedMembers.length, {\r\n          count: this.selectedMembers.length,\r\n          username: fullName(this.selectedMembers[0])\r\n        }),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.removeSelectedMembers()\r\n      });\r\n    },\r\n    async removeSelectedMembers() {\r\n      try {\r\n        await this.project.deleteUsers(this.selectedMembers.map(member => member.id));\r\n        await this.refreshMembers();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-remove-project-members')});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-remove-project-members')});\r\n      }\r\n    },\r\n\r\n    confirmToggleManager(member) {\r\n      if(member.id === this.currentUser.id && member.role !== this.contributorRole.value) {\r\n        this.$buefy.dialog.confirm({\r\n          title: this.$t('remove-yourself-from-manager'),\r\n          message: this.$tc('remove-yourself-from-manager-confirmation-message'),\r\n          type: 'is-danger',\r\n          confirmText: this.$t('button-confirm'),\r\n          cancelText: this.$t('button-cancel'),\r\n          onConfirm: () => this.toggleManager(member)\r\n        });\r\n      }\r\n      else {\r\n        this.toggleManager(member);\r\n      }\r\n    },\r\n    async toggleManager(member) {\r\n      try {\r\n        if(member.role !== this.contributorRole.value) {\r\n          if(member.role == this.representativeRole.value) {\r\n            await ProjectRepresentative.delete(0, this.project.id, member.id);\r\n          }\r\n          await this.project.deleteAdmin(member.id);\r\n        }\r\n        else {\r\n          await this.project.addAdmin(member.id);\r\n        }\r\n        this.revision++;\r\n\r\n        if(member.id === this.currentUser.id) {\r\n          await this.$store.dispatch('currentProject/fetchUIConfig');\r\n          if(!this.$store.state.currentProject.configUI['project-configuration-tab']) {\r\n            this.$router.push(`/project/${this.project.id}`);\r\n          }\r\n        }\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-change-role', {username: fullName(member)})});\r\n      }\r\n    },\r\n    async toggleRepresentative(member) {\r\n      try {\r\n        if(member.role === this.representativeRole.value) {\r\n          if ((await this.project.fetchRepresentatives()).array.length < 2) {\r\n            this.$notify({type: 'error', text: this.$t('notif-error-not-enough-representative')});\r\n          }\r\n          else {\r\n            await ProjectRepresentative.delete(0, this.project.id, member.id);\r\n          }\r\n        }\r\n        else {\r\n          await new ProjectRepresentative({user: member.id, project: this.project.id}).save();\r\n        }\r\n        this.revision++;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-change-role', {username: fullName(member)})});\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    appendShortTermToken();\r\n  },\r\n  async created() {\r\n    this.availableRoles = [this.contributorRole, this.managerRole, this.representativeRole];\r\n    this.selectedRoles = this.availableRoles;\r\n    this.revision++;\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.filter {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.filter-label {\r\n  margin-right: 1em;\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\n.filter-body {\r\n  flex-grow: 1;\r\n}\r\n\r\n.list-members-wrapper {\r\n  min-height: 40vh;\r\n}\r\n\r\n.tag {\r\n  font-size: 0.75em !important;\r\n  font-weight: 600;\r\n}\r\n\r\n.tag.ldap {\r\n  background-color: #A0C0E6;\r\n}\r\n\r\n.legend {\r\n  margin-top: 0.8rem;\r\n  margin-bottom: 1rem;\r\n  border-radius: 10px;\r\n  padding: 1rem 1.5em;\r\n  background: #f8f8f8;\r\n}\r\n\r\n.legend p {\r\n  padding-bottom: 0.4em;\r\n}\r\n\r\n.legend .icons {\r\n  display: inline-block;\r\n  width: 40px;\r\n  margin-right: 0.7em;\r\n}\r\n\r\na:hover .fas {\r\n  color: rgb(35, 102, 216);\r\n}\r\n\r\na:hover .fas.disabled, a:hover .disabled .fas {\r\n  color: rgba(35, 102, 216, 0.5);\r\n}\r\n\r\n.fas {\r\n  color: black;\r\n  width: 20px;\r\n  position: relative;\r\n}\r\n\r\n.fas.fa-flag {\r\n  font-size: 0.8em;\r\n  bottom: 0.5em;\r\n}\r\n\r\n.fas.disabled, .disabled .fas {\r\n  color: rgba(0, 0, 0, 0.1);\r\n}\r\n</style>\r\n\r\n<style>\r\n.table-members {\r\n  margin-top: 1.2em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectMembers.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectMembers.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProjectMembers.vue?vue&type=template&id=6e85a606&scoped=true\"\nimport script from \"./ProjectMembers.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectMembers.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProjectMembers.vue?vue&type=style&index=0&id=6e85a606&prod&scoped=true&lang=css\"\nimport style1 from \"./ProjectMembers.vue?vue&type=style&index=1&id=6e85a606&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e85a606\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):(!_vm.loading)?_c('table',{staticClass:\"table custom-ui\"},_vm._l((_vm.customUITree),function(category){return _c('tbody',{key:category.label},[_c('tr',[_c('th',{attrs:{\"colspan\":\"3\"}},[_vm._v(_vm._s(_vm.$t(category.label)))])]),_vm._l((category.props),function(prop){return _c('tr',{key:prop.key},[_c('td',[(prop.superscript)?_c('i',{staticClass:\"superscript\",class:prop.superscript}):_vm._e(),(prop.icon || prop.iconComponent)?_c('span',{staticClass:\"icon\"},[(prop.icon)?_c('i',{class:prop.icon}):_c(prop.iconComponent,{tag:\"component\"})],1):_vm._e(),_vm._v(\" \"+_vm._s(_vm.$t(prop.label))+\" \")]),_c('td',[_c('button',{class:['button', _vm.customUI[prop.key] && _vm.customUI[prop.key].ADMIN_PROJECT && !_vm.isParentDisabled(prop, 'ADMIN_PROJECT') ? 'is-success' : 'is-danger'],attrs:{\"disabled\":_vm.isParentDisabled(prop, 'ADMIN_PROJECT') || prop.key === 'project-configuration-tab'},on:{\"click\":function($event){return _vm.toggleProp(prop.key, 'ADMIN_PROJECT')}}},[_vm._v(\" \"+_vm._s(_vm.$t('manager'))+\" \")])]),_c('td',[_c('button',{class:['button', _vm.customUI[prop.key] && _vm.customUI[prop.key].CONTRIBUTOR_PROJECT && !_vm.isParentDisabled(prop, 'CONTRIBUTOR_PROJECT') ? 'is-success' : 'is-danger'],attrs:{\"disabled\":_vm.isParentDisabled(prop, 'CONTRIBUTOR_PROJECT') || prop.key === 'project-configuration-tab'},on:{\"click\":function($event){return _vm.toggleProp(prop.key, 'CONTRIBUTOR_PROJECT')}}},[_vm._v(\" \"+_vm._s(_vm.$t('contributor'))+\" \")])])])})],2)}),0):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('svg',{attrs:{\"xmlns:dc\":\"http://purl.org/dc/elements/1.1/\",\"xmlns:cc\":\"http://creativecommons.org/ns#\",\"xmlns:rdf\":\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\"xmlns:svg\":\"http://www.w3.org/2000/svg\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:sodipodi\":\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\",\"xmlns:inkscape\":\"http://www.inkscape.org/namespaces/inkscape\",\"width\":\"4mm\",\"height\":\"4mm\",\"viewBox\":\"0 0 14.173228 14.173229\",\"id\":\"svg2\",\"version\":\"1.1\",\"inkscape:version\":\"0.91 r13725\",\"sodipodi:docname\":\"free-polygon.svg\"}},[_c('defs',{attrs:{\"id\":\"defs4\"}}),_c('sodipodi:namedview',{attrs:{\"id\":\"base\",\"pagecolor\":\"#ffffff\",\"bordercolor\":\"#666666\",\"borderopacity\":\"1.0\",\"inkscape:pageopacity\":\"0.0\",\"inkscape:pageshadow\":\"2\",\"inkscape:zoom\":\"52.572505\",\"inkscape:cx\":\"9.7957273\",\"inkscape:cy\":\"6.9348154\",\"inkscape:document-units\":\"px\",\"inkscape:current-layer\":\"layer1\",\"showgrid\":\"false\",\"inkscape:window-width\":\"1855\",\"inkscape:window-height\":\"1056\",\"inkscape:window-x\":\"65\",\"inkscape:window-y\":\"24\",\"inkscape:window-maximized\":\"1\",\"fit-margin-top\":\"0\",\"fit-margin-left\":\"0\",\"fit-margin-right\":\"0\",\"fit-margin-bottom\":\"0\"}}),_c('metadata',{attrs:{\"id\":\"metadata7\"}},[_c('rdf:RDF',[_c('cc:Work',{attrs:{\"rdf:about\":\"\"}},[_c('dc:format',[_vm._v(\"image/svg+xml\")]),_c('dc:type',{attrs:{\"rdf:resource\":\"http://purl.org/dc/dcmitype/StillImage\"}}),_c('dc:title')],1)],1)],1),_c('g',{attrs:{\"inkscape:label\":\"Layer 1\",\"inkscape:groupmode\":\"layer\",\"id\":\"layer1\",\"transform\":\"translate(-27.016003,-31.914518)\"}},[_c('path',{staticStyle:{\"fill\":\"none\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.30416775\",\"stroke-linecap\":\"butt\",\"stroke-linejoin\":\"miter\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"},attrs:{\"stroke\":\"#000000\",\"d\":\"m 38.949622,43.986228 c 1.403938,-1.500316 -3.266544,-2.492688 0.146877,-5.771595 2.156977,-2.071976 -2.231271,-4.068703 -4.032879,-3.734999 -1.435084,0.265814 0.161219,2.123932 -1.933719,3.928337 -2.094933,1.804405 -4.714354,-0.508566 -4.747541,2.161303 -0.03833,3.084086 9.163323,4.917269 10.567262,3.416954 z\",\"id\":\"path4186\",\"inkscape:connector-curvature\":\"0\",\"sodipodi:nodetypes\":\"zsazsz\"}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<svg\r\n  xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\r\n  xmlns:cc=\"http://creativecommons.org/ns#\"\r\n  xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\r\n  xmlns:svg=\"http://www.w3.org/2000/svg\"\r\n  xmlns=\"http://www.w3.org/2000/svg\"\r\n  xmlns:sodipodi=\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\"\r\n  xmlns:inkscape=\"http://www.inkscape.org/namespaces/inkscape\"\r\n  width=\"4mm\"\r\n  height=\"4mm\"\r\n  viewBox=\"0 0 14.173228 14.173229\"\r\n  id=\"svg2\"\r\n  version=\"1.1\"\r\n  inkscape:version=\"0.91 r13725\"\r\n  sodipodi:docname=\"free-polygon.svg\"\r\n>\r\n  <defs id=\"defs4\" />\r\n  <sodipodi:namedview\r\n    id=\"base\"\r\n    pagecolor=\"#ffffff\"\r\n    bordercolor=\"#666666\"\r\n    borderopacity=\"1.0\"\r\n    inkscape:pageopacity=\"0.0\"\r\n    inkscape:pageshadow=\"2\"\r\n    inkscape:zoom=\"52.572505\"\r\n    inkscape:cx=\"9.7957273\"\r\n    inkscape:cy=\"6.9348154\"\r\n    inkscape:document-units=\"px\"\r\n    inkscape:current-layer=\"layer1\"\r\n    showgrid=\"false\"\r\n    inkscape:window-width=\"1855\"\r\n    inkscape:window-height=\"1056\"\r\n    inkscape:window-x=\"65\"\r\n    inkscape:window-y=\"24\"\r\n    inkscape:window-maximized=\"1\"\r\n    fit-margin-top=\"0\"\r\n    fit-margin-left=\"0\"\r\n    fit-margin-right=\"0\"\r\n    fit-margin-bottom=\"0\"\r\n  />\r\n  <metadata id=\"metadata7\">\r\n    <rdf:RDF>\r\n      <cc:Work rdf:about=\"\">\r\n        <dc:format>image/svg+xml</dc:format>\r\n        <dc:type rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" />\r\n        <dc:title />\r\n      </cc:Work>\r\n    </rdf:RDF>\r\n  </metadata>\r\n  <g\r\n    inkscape:label=\"Layer 1\"\r\n    inkscape:groupmode=\"layer\"\r\n    id=\"layer1\"\r\n    transform=\"translate(-27.016003,-31.914518)\"\r\n  >\r\n    <path\r\n      style=\"fill:none;fill-rule:evenodd;stroke-width:1.30416775;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1\"\r\n      stroke=\"#000000\"\r\n      d=\"m 38.949622,43.986228 c 1.403938,-1.500316 -3.266544,-2.492688 0.146877,-5.771595 2.156977,-2.071976 -2.231271,-4.068703 -4.032879,-3.734999 -1.435084,0.265814 0.161219,2.123932 -1.933719,3.928337 -2.094933,1.804405 -4.714354,-0.508566 -4.747541,2.161303 -0.03833,3.084086 9.163323,4.917269 10.567262,3.416954 z\"\r\n      id=\"path4186\"\r\n      inkscape:connector-curvature=\"0\"\r\n      sodipodi:nodetypes=\"zsazsz\"\r\n    />\r\n  </g>\r\n</svg>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'icon-polygon-free-hand'\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconPolygonFreeHand.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconPolygonFreeHand.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./IconPolygonFreeHand.vue?vue&type=template&id=2b07b6a8\"\nimport script from \"./IconPolygonFreeHand.vue?vue&type=script&lang=js\"\nexport * from \"./IconPolygonFreeHand.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('svg',{attrs:{\"xmlns:dc\":\"http://purl.org/dc/elements/1.1/\",\"xmlns:cc\":\"http://creativecommons.org/ns#\",\"xmlns:rdf\":\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\"xmlns:svg\":\"http://www.w3.org/2000/svg\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:sodipodi\":\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\",\"xmlns:inkscape\":\"http://www.inkscape.org/namespaces/inkscape\",\"width\":\"4mm\",\"height\":\"4mm\",\"viewBox\":\"0 0 14.173228 14.173229\",\"id\":\"svg2\",\"version\":\"1.1\",\"inkscape:version\":\"0.91 r13725\",\"sodipodi:docname\":\"free-line.svg\"}},[_c('defs',{attrs:{\"id\":\"defs4\"}}),_c('sodipodi:namedview',{attrs:{\"id\":\"base\",\"pagecolor\":\"#ffffff\",\"bordercolor\":\"#666666\",\"borderopacity\":\"1.0\",\"inkscape:pageopacity\":\"0.0\",\"inkscape:pageshadow\":\"2\",\"inkscape:zoom\":\"52.572505\",\"inkscape:cx\":\"1.7591916\",\"inkscape:cy\":\"6.9664237\",\"inkscape:document-units\":\"px\",\"inkscape:current-layer\":\"layer1\",\"showgrid\":\"false\",\"inkscape:window-width\":\"1855\",\"inkscape:window-height\":\"1056\",\"inkscape:window-x\":\"65\",\"inkscape:window-y\":\"24\",\"inkscape:window-maximized\":\"1\",\"fit-margin-top\":\"0\",\"fit-margin-left\":\"0\",\"fit-margin-right\":\"0\",\"fit-margin-bottom\":\"0\"}}),_c('metadata',{attrs:{\"id\":\"metadata7\"}},[_c('rdf:RDF',[_c('cc:Work',{attrs:{\"rdf:about\":\"\"}},[_c('dc:format',[_vm._v(\"image/svg+xml\")]),_c('dc:type',{attrs:{\"rdf:resource\":\"http://purl.org/dc/dcmitype/StillImage\"}}),_c('dc:title')],1)],1)],1),_c('g',{attrs:{\"inkscape:label\":\"Layer 1\",\"inkscape:groupmode\":\"layer\",\"id\":\"layer1\",\"transform\":\"translate(-27.016003,-31.914518)\"}},[_c('path',{staticStyle:{\"fill\":\"none\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.36583543\",\"stroke-linecap\":\"butt\",\"stroke-linejoin\":\"miter\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"},attrs:{\"stroke\":\"#000000\",\"d\":\"m 28.507424,40.008532 c 0,0 2.07514,5.220154 3.70608,4.821065 2.487226,-0.608621 1.213333,-9.083876 3.706081,-9.642132 1.676478,-0.375451 3.706081,5.096557 3.706081,5.096557\",\"id\":\"path4148\",\"inkscape:connector-curvature\":\"0\",\"sodipodi:nodetypes\":\"cssc\"}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<svg\r\n  xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\r\n  xmlns:cc=\"http://creativecommons.org/ns#\"\r\n  xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\r\n  xmlns:svg=\"http://www.w3.org/2000/svg\"\r\n  xmlns=\"http://www.w3.org/2000/svg\"\r\n  xmlns:sodipodi=\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\"\r\n  xmlns:inkscape=\"http://www.inkscape.org/namespaces/inkscape\"\r\n  width=\"4mm\"\r\n  height=\"4mm\"\r\n  viewBox=\"0 0 14.173228 14.173229\"\r\n  id=\"svg2\"\r\n  version=\"1.1\"\r\n  inkscape:version=\"0.91 r13725\"\r\n  sodipodi:docname=\"free-line.svg\"\r\n>\r\n  <defs\r\n    id=\"defs4\"\r\n  />\r\n  <sodipodi:namedview\r\n    id=\"base\"\r\n    pagecolor=\"#ffffff\"\r\n    bordercolor=\"#666666\"\r\n    borderopacity=\"1.0\"\r\n    inkscape:pageopacity=\"0.0\"\r\n    inkscape:pageshadow=\"2\"\r\n    inkscape:zoom=\"52.572505\"\r\n    inkscape:cx=\"1.7591916\"\r\n    inkscape:cy=\"6.9664237\"\r\n    inkscape:document-units=\"px\"\r\n    inkscape:current-layer=\"layer1\"\r\n    showgrid=\"false\"\r\n    inkscape:window-width=\"1855\"\r\n    inkscape:window-height=\"1056\"\r\n    inkscape:window-x=\"65\"\r\n    inkscape:window-y=\"24\"\r\n    inkscape:window-maximized=\"1\"\r\n    fit-margin-top=\"0\"\r\n    fit-margin-left=\"0\"\r\n    fit-margin-right=\"0\"\r\n    fit-margin-bottom=\"0\"\r\n  />\r\n  <metadata id=\"metadata7\">\r\n    <rdf:RDF>\r\n      <cc:Work rdf:about=\"\">\r\n        <dc:format>image/svg+xml</dc:format>\r\n        <dc:type rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" />\r\n        <dc:title />\r\n      </cc:Work>\r\n    </rdf:RDF>\r\n  </metadata>\r\n  <g\r\n    inkscape:label=\"Layer 1\"\r\n    inkscape:groupmode=\"layer\"\r\n    id=\"layer1\"\r\n    transform=\"translate(-27.016003,-31.914518)\"\r\n  >\r\n    <path\r\n      style=\"fill:none;fill-rule:evenodd;stroke-width:1.36583543;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1\"\r\n      stroke=\"#000000\"\r\n      d=\"m 28.507424,40.008532 c 0,0 2.07514,5.220154 3.70608,4.821065 2.487226,-0.608621 1.213333,-9.083876 3.706081,-9.642132 1.676478,-0.375451 3.706081,5.096557 3.706081,5.096557\"\r\n      id=\"path4148\"\r\n      inkscape:connector-curvature=\"0\"\r\n      sodipodi:nodetypes=\"cssc\"\r\n    />\r\n  </g>\r\n</svg>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'icon-line-free-hand'\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconLineFreeHand.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconLineFreeHand.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./IconLineFreeHand.vue?vue&type=template&id=b14d4288\"\nimport script from \"./IconLineFreeHand.vue?vue&type=script&lang=js\"\nexport * from \"./IconLineFreeHand.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p> {{ $t('unexpected-error-info-message') }} </p>\r\n</b-message>\r\n<table class=\"table custom-ui\" v-else-if=\"!loading\">\r\n  <tbody v-for=\"category in customUITree\" :key=\"category.label\">\r\n    <tr>\r\n      <th colspan=\"3\">{{$t(category.label)}}</th>\r\n    </tr>\r\n    <tr v-for=\"prop in category.props\" :key=\"prop.key\">\r\n      <td>\r\n        <i v-if=\"prop.superscript\" class=\"superscript\" :class=\"prop.superscript\"></i>\r\n        <span class=\"icon\" v-if=\"prop.icon || prop.iconComponent\">\r\n          <i v-if=\"prop.icon\" :class=\"prop.icon\"></i>\r\n          <component v-else :is=\"prop.iconComponent\" />\r\n        </span>\r\n        {{$t(prop.label)}}\r\n      </td>\r\n      <td>\r\n        <button\r\n          :class=\"['button', customUI[prop.key] && customUI[prop.key].ADMIN_PROJECT && !isParentDisabled(prop, 'ADMIN_PROJECT') ? 'is-success' : 'is-danger']\"\r\n          @click=\"toggleProp(prop.key, 'ADMIN_PROJECT')\"\r\n          :disabled=\"isParentDisabled(prop, 'ADMIN_PROJECT') || prop.key === 'project-configuration-tab'\"\r\n        >\r\n          {{$t('manager')}}\r\n        </button>\r\n      </td>\r\n      <td>\r\n        <button\r\n          :class=\"['button', customUI[prop.key] && customUI[prop.key].CONTRIBUTOR_PROJECT && !isParentDisabled(prop, 'CONTRIBUTOR_PROJECT') ? 'is-success' : 'is-danger']\"\r\n          @click=\"toggleProp(prop.key, 'CONTRIBUTOR_PROJECT')\"\r\n          :disabled=\"isParentDisabled(prop, 'CONTRIBUTOR_PROJECT') || prop.key === 'project-configuration-tab'\"\r\n        >\r\n            {{$t('contributor')}}\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport IconPolygonFreeHand from '@/components/icons/IconPolygonFreeHand';\r\nimport IconLineFreeHand from '@/components/icons/IconLineFreeHand';\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'custom-ui-project',\r\n  data() {\r\n    return {\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      loading: true,\r\n      error: false,\r\n\r\n      customUI: {},\r\n      customUITree: [\r\n        {\r\n          label: 'project-side-bar',\r\n          props: [\r\n            {key: 'project-images-tab', label: 'images', icon: 'far fa-images'},\r\n            {key: 'project-annotations-tab', label: 'annotations', icon: 'far fa-edit'},\r\n            {key: 'project-jobs-tab', label: 'analysis', icon: 'fas fa-tasks'},\r\n            {key: 'project-activities-tab', label: 'activity', icon: 'fas fa-tachometer-alt'},\r\n            {key: 'project-information-tab', label: 'information', icon: 'fas fa-info-circle'},\r\n            {key: 'project-configuration-tab', label: 'configuration', icon: 'fas fa-cogs'}\r\n          ]\r\n        },\r\n        {\r\n          label: 'image-details',\r\n          props: [\r\n            {key: 'project-explore-image-overview', label: 'overview', icon: 'fas fa-image'},\r\n            //{key: 'project-explore-image-status', label: 'status'},\r\n            {key: 'project-explore-image-description', label: 'description', icon: 'far fa-file-alt'},\r\n            {key: 'project-explore-image-tags', label: 'tags', icon: 'fas fa-bookmark'},\r\n            {key: 'project-explore-image-tracks', label: 'tracks', icon: 'fas fa-route'},\r\n            {key: 'project-explore-image-properties', label: 'properties', icon: 'fas fa-tag'},\r\n            {key: 'project-explore-image-attached-files', label: 'attached-files', icon: 'fas fa-paperclip'},\r\n            {key: 'project-explore-image-slide-preview', label: 'slide-preview', icon: 'fas fa-image'},\r\n            {key: 'project-explore-image-original-filename', label: 'originalFilename', icon: 'fas fa-info'},\r\n            {key: 'project-explore-image-metadata', label: 'image-metadata', icon: 'fas fa-asterisk'},\r\n            /*{key: 'project-explore-image-format', label: 'format'},\r\n            {key: 'project-explore-image-vendor', label: 'vendor'},\r\n            {key: 'project-explore-image-size', label: 'size'},\r\n            {key: 'project-explore-image-resolution', label: 'resolution'},\r\n            {key: 'project-explore-image-magnification', label: 'magnification'},*/\r\n          ]\r\n        },\r\n        {\r\n          label: 'viewer-panels',\r\n          props: [\r\n            {key: 'project-explore-hide-tools', label: 'all-panels'}, // hide all panels\r\n            {key: 'project-explore-overview', label: 'overview', icon: 'fas fa-image', parentConfiguration: 'project-explore-hide-tools'},\r\n            {key: 'project-explore-info', label: 'information', icon: 'fas fa-info', parentConfiguration: 'project-explore-hide-tools'},\r\n            {key: 'project-explore-digital-zoom', label: 'digital-zoom', icon: 'fas fa-search', parentConfiguration: 'project-explore-hide-tools'},\r\n            {key: 'project-explore-link', label: 'link-images', icon: 'fas fa-link', parentConfiguration: 'project-explore-hide-tools'},\r\n            {key: 'project-explore-color-manipulation', label: 'colors', icon: 'fas fa-adjust', parentConfiguration: 'project-explore-hide-tools'},\r\n            {key: 'project-explore-image-layers', label: 'annotation-layers', icon: 'fas fa-copy', parentConfiguration: 'project-explore-hide-tools'},\r\n            {key: 'project-explore-ontology', label: 'ontology', icon: 'fas fa-hashtag', parentConfiguration: 'project-explore-hide-tools'},\r\n            {key: 'project-explore-property', label: 'properties', icon: 'fas fa-tag', parentConfiguration: 'project-explore-hide-tools'},\r\n            {key: 'project-explore-follow', label: 'broadcast', icon: 'fas fa-street-view', parentConfiguration: 'project-explore-hide-tools'},\r\n            {key: 'project-explore-review', label: 'review', icon: 'fas fa-check-circle', parentConfiguration: 'project-explore-hide-tools'},\r\n          ]\r\n        },\r\n        {\r\n          label: 'annotation-details',\r\n          props: [\r\n            // display annotation details in viewer\r\n            {key: 'project-explore-annotation-main', label: 'annotation-details-box'},\r\n            {key: 'project-explore-annotation-geometry-info', label: 'geometry-info',\r\n              icon: 'fas fa-ruler-combined', parentConfiguration: 'project-explore-annotation-main'},\r\n            {key: 'project-explore-annotation-description', label: 'description', icon: 'far fa-file-alt', parentConfiguration: 'project-explore-annotation-main'},\r\n            {key: 'project-explore-annotation-terms', label: 'terms', icon: 'fas fa-hashtag', parentConfiguration: 'project-explore-annotation-main'},\r\n            {key: 'project-explore-annotation-tags', label: 'tags', icon: 'fas fa-bookmark', parentConfiguration: 'project-explore-annotation-main'},\r\n            {key: 'project-explore-annotation-properties', label: 'properties', icon: 'fas fa-tag', parentConfiguration: 'project-explore-annotation-main'},\r\n            {key: 'project-explore-annotation-attached-files', label: 'attached-files', icon: 'fas fa-paperclip', parentConfiguration: 'project-explore-annotation-main'},\r\n            {key: 'project-explore-annotation-creation-info', label: 'creation-info', icon: 'fas fa-info', parentConfiguration: 'project-explore-annotation-main'},\r\n            {key: 'project-explore-annotation-comments', label: 'comments', icon: 'fas fa-comment', parentConfiguration: 'project-explore-annotation-main'}\r\n          ]\r\n        },\r\n        {\r\n          label: 'draw-tools',\r\n          props: [\r\n            {key: 'project-tools-main', label: 'all-draw-tools'},\r\n\r\n            {key: 'project-tools-select', label: 'select', icon: 'fas fa-mouse-pointer', parentConfiguration: 'project-tools-main'},\r\n\r\n            {key: 'project-tools-point', label: 'point', icon: 'fas fa-map-pin', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-line', label: 'line', icon: 'fas fa-minus', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-freehand-line', label: 'freehand-line',\r\n              iconComponent: IconLineFreeHand, parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-rectangle', label: 'rectangle', icon: 'far fa-square', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-circle', label: 'circle', icon: 'far fa-circle', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-polygon', label: 'polygon', icon: 'fas fa-draw-polygon', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-freehand-polygon', label: 'freehand-polygon',\r\n              iconComponent: IconPolygonFreeHand, parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-screenshot', label: 'screenshot', icon: 'fas fa-camera', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-union', label: 'freehand-correct-add', icon: 'fas fa-pencil-alt',\r\n              superscript: 'fas fa-plus', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-diff', label: 'freehand-correct-remove', icon: 'fas fa-pencil-alt',\r\n              superscript: 'fas fa-minus', parentConfiguration: 'project-tools-main'},\r\n\r\n            {key: 'project-tools-fill', label: 'fill', icon: 'fas fa-fill', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-edit', label: 'modify', icon: 'fas fa-edit', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-move', label: 'move', icon: 'fas fa-arrows-alt', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-resize', label: 'rescale', icon: 'fas fa-expand', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-rotate', label: 'rotate', icon: 'fas fa-sync-alt', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-delete', label: 'delete', icon: 'fas fa-trash-alt', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-copy-paste', label: 'copy-paste', icon: 'fas fa-copy', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-undo-redo', label: 'undo-redo', icon: 'fas fa-undo', parentConfiguration: 'project-tools-main'},\r\n          ]\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project')\r\n  },\r\n  methods: {\r\n    async toggleProp(prop, userType) {\r\n      try {\r\n        this.customUI[prop][userType] = !this.customUI[prop][userType];\r\n        this.customUI = await this.project.saveUIConfig(this.customUI);\r\n        this.$store.dispatch('currentProject/fetchUIConfig');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.customUI[prop][userType] = !this.customUI[prop][userType]; // revert change\r\n        this.$notify({type: 'error', text: this.$t('notif-error-custom-ui-change')});\r\n      }\r\n    },\r\n    isParentDisabled(child, role) {\r\n      return (child.parentConfiguration && this.customUI[child.parentConfiguration][role] === false);\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      if(!this.algoEnabled) this.customUITree[0].props.splice(2,1);\r\n\r\n      this.customUI = await this.project.fetchUIConfig();\r\n      console.log(this.customUI);\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.button {\r\n  padding: 0 3em;\r\n}\r\n\r\ntd, th {\r\n  vertical-align: middle !important;\r\n}\r\n\r\n.icon {\r\n  width: 20px;\r\n  text-align: center;\r\n  margin-right: 1em;\r\n}\r\n\r\n.superscript {\r\n  position: relative;\r\n  font-size: 0.7em;\r\n  width: 0;\r\n  bottom: 0.75em;\r\n  right: 4px;\r\n  margin-right: 0;\r\n}\r\n</style>\r\n\r\n<style>\r\n.custom-ui .icon svg {\r\n  height: 1.15em !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUIProject.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUIProject.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CustomUIProject.vue?vue&type=template&id=740dcc38&scoped=true\"\nimport script from \"./CustomUIProject.vue?vue&type=script&lang=js\"\nexport * from \"./CustomUIProject.vue?vue&type=script&lang=js\"\nimport style0 from \"./CustomUIProject.vue?vue&type=style&index=0&id=740dcc38&prod&scoped=true&lang=css\"\nimport style1 from \"./CustomUIProject.vue?vue&type=style&index=1&id=740dcc38&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"740dcc38\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"project-softwares-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):(!_vm.loading)?[_c('b-input',{staticClass:\"search-field\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('b-table',{attrs:{\"data\":_vm.filteredSoftwares,\"default-sort\":\"selected\",\"default-sort-direction\":\"desc\",\"paginated\":true,\"per-page\":_vm.perPage,\"pagination-size\":\"is-small\"},scopedSlots:_vm._u([{key:\"default\",fn:function({row: software}){return [_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":`/algorithm/${software.id}`}},[_vm._v(\" \"+_vm._s(software.fullName)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"softwareStatus\",\"label\":_vm.$t('version'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\",\"custom-sort\":_vm.sortBySoftwareStatus}},[_c('software-status',{attrs:{\"software\":software}})],1),_c('b-table-column',{attrs:{\"field\":\"executable\",\"label\":_vm.$t('ui-runnable'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('boolean-item',{attrs:{\"value\":software.executable}})],1),_c('b-table-column',{attrs:{\"field\":\"selected\",\"label\":_vm.$t('status'),\"sortable\":\"\",\"width\":\"100\"}},[_c('button',{class:['button', software.selected ? 'is-success' : 'is-danger'],attrs:{\"disabled\":_vm.loadingToggleSoftware[software.id]},on:{\"click\":function($event){return _vm.toggleSoftware(software)}}},[_vm._v(\" \"+_vm._s(_vm.$t(software.selected ? 'enabled' : 'disabled'))+\" \")])])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-algorithm')))])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}])})]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"project-softwares-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n    <h2> {{ $t('error') }} </h2>\r\n    <p> {{ $t('unexpected-error-info-message') }} </p>\r\n  </b-message>\r\n  <template v-else-if=\"!loading\">\r\n    <b-input class=\"search-field\" v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\r\n\r\n    <b-table\r\n      :data=\"filteredSoftwares\"\r\n      default-sort=\"selected\"\r\n      default-sort-direction=\"desc\"\r\n      :paginated=\"true\"\r\n      :per-page=\"perPage\"\r\n      pagination-size=\"is-small\"\r\n    >\r\n      <template #default=\"{row: software}\">\r\n        <b-table-column field=\"name\" :label=\"$t('name')\" sortable width=\"100\">\r\n          <router-link :to=\"`/algorithm/${software.id}`\">\r\n            {{ software.fullName }}\r\n          </router-link>\r\n        </b-table-column>\r\n\r\n        <b-table-column field=\"softwareStatus\" :label=\"$t('version')\" centered sortable width=\"100\" :custom-sort=\"sortBySoftwareStatus\">\r\n          <software-status :software=\"software\" />\r\n        </b-table-column>\r\n\r\n        <b-table-column field=\"executable\" :label=\"$t('ui-runnable')\" centered sortable width=\"100\">\r\n          <boolean-item :value=\"software.executable\" />\r\n        </b-table-column>\r\n\r\n        <b-table-column field=\"selected\" :label=\"$t('status')\" sortable width=\"100\">\r\n          <button :disabled=\"loadingToggleSoftware[software.id]\" :class=\"['button', software.selected ? 'is-success' : 'is-danger']\" @click=\"toggleSoftware(software)\">\r\n            {{$t(software.selected ? 'enabled' : 'disabled')}}\r\n          </button>\r\n        </b-table-column>\r\n      </template>\r\n\r\n      <template #empty>\r\n        <div class=\"content has-text-grey has-text-centered\">\r\n          <p>{{$t('no-algorithm')}}</p>\r\n        </div>\r\n      </template>\r\n\r\n      <template #bottom-left>\r\n        <b-select v-model=\"perPage\" size=\"is-small\">\r\n          <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n          <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n          <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n          <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n        </b-select>\r\n      </template>\r\n    </b-table>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {SoftwareCollection, SoftwareProject, SoftwareProjectCollection} from 'cytomine-client';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\nimport SoftwareStatus from '@/components/software/SoftwareStatus';\r\nimport BooleanItem from '@/components/utils/BooleanItem';\r\n\r\nexport default {\r\n  name: 'project-softwares',\r\n  components: {\r\n    BooleanItem,\r\n    SoftwareStatus\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      searchString: '',\r\n      perPage: 10,\r\n\r\n      softwares: [],\r\n      loadingToggleSoftware: {}\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n\r\n    filteredSoftwares() {\r\n      let regexp = getWildcardRegexp(this.searchString);\r\n      return this.softwares.filter(software => regexp.test(software.name));\r\n    }\r\n  },\r\n  methods: {\r\n    async toggleSoftware(software) {\r\n      try {\r\n        this.$set(this.loadingToggleSoftware, software.id, true);\r\n        if(software.selected) {\r\n          await software.softwareProject.delete();\r\n          software.selected = false;\r\n        }\r\n        else {\r\n          let softwareProject = await new SoftwareProject({\r\n            software: software.id,\r\n            project: this.project.id\r\n          }).save();\r\n          software.softwareProject = softwareProject;\r\n          software.selected = true;\r\n        }\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-change-status-algorithm-project', {softwareName: software.name})\r\n        });\r\n      }\r\n      this.$set(this.loadingToggleSoftware, software.id, false);\r\n    },\r\n    sortBySoftwareStatus(a, b, asc) {\r\n      return ((asc) ? 1 : -1) * (this.getSoftwareStatusValue(a) - this.getSoftwareStatusValue(b));\r\n    },\r\n    getSoftwareStatusValue(software) {\r\n      if (!software.softwareVersion) return 0;\r\n      if (software.deprecated) return 1;\r\n      return 2;\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      let promiseSoftwares = SoftwareCollection.fetchAll();\r\n      let promiseSoftwareProjects = SoftwareProjectCollection.fetchAll({\r\n        filterKey: 'project',\r\n        filterValue: this.project.id\r\n      });\r\n\r\n      let softwares = (await promiseSoftwares).array;\r\n      let softwareProjects = (await promiseSoftwareProjects).array;\r\n\r\n      softwares.forEach(software => {\r\n        software.softwareProject = softwareProjects.find(sp => sp.software === software.id);\r\n        software.selected = (software.softwareProject !== undefined);\r\n      });\r\n\r\n      this.softwares = softwares;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.project-softwares-wrapper {\r\n  min-height: 40vh;\r\n}\r\n</style>\r\n\r\n<style>\r\n.project-softwares-wrapper .search-field {\r\n  max-width: 25em;\r\n}\r\n\r\n.project-softwares-wrapper .table {\r\n  margin-top: 1.5em;\r\n}\r\n\r\n.project-softwares-wrapper .table .button {\r\n  padding: 0 3em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSoftwares.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSoftwares.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProjectSoftwares.vue?vue&type=template&id=50b0beee&scoped=true\"\nimport script from \"./ProjectSoftwares.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectSoftwares.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProjectSoftwares.vue?vue&type=style&index=0&id=50b0beee&prod&scoped=true&lang=css\"\nimport style1 from \"./ProjectSoftwares.vue?vue&type=style&index=1&id=50b0beee&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50b0beee\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"project-image-filters-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):(!_vm.loading)?[_c('b-input',{staticClass:\"search-field\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('b-table',{attrs:{\"data\":_vm.filteredImageFilters,\"default-sort\":\"selected\",\"default-sort-direction\":\"desc\",\"paginated\":true,\"per-page\":_vm.perPage,\"pagination-size\":\"is-small\"},scopedSlots:_vm._u([{key:\"default\",fn:function({row: filter}){return [_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('name'),\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(filter.name)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"selected\",\"label\":_vm.$t('status'),\"sortable\":\"\"}},[_c('button',{class:['button', filter.selected ? 'is-success' : 'is-danger'],on:{\"click\":function($event){return _vm.toggleFilter(filter)}}},[_vm._v(\" \"+_vm._s(_vm.$t(filter.selected ? 'enabled' : 'disabled'))+\" \")])])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-image-filter')))])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}])})]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"project-image-filters-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n    <h2> {{ $t('error') }} </h2>\r\n    <p> {{ $t('unexpected-error-info-message') }} </p>\r\n  </b-message>\r\n  <template v-else-if=\"!loading\">\r\n    <b-input class=\"search-field\" v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\r\n\r\n    <b-table\r\n      :data=\"filteredImageFilters\"\r\n      default-sort=\"selected\"\r\n      default-sort-direction=\"desc\"\r\n      :paginated=\"true\"\r\n      :per-page=\"perPage\"\r\n      pagination-size=\"is-small\"\r\n    >\r\n\r\n      <template #default=\"{row: filter}\">\r\n        <b-table-column field=\"name\" :label=\"$t('name')\" sortable>\r\n          {{filter.name}}\r\n        </b-table-column>\r\n\r\n        <b-table-column field=\"selected\" :label=\"$t('status')\" sortable>\r\n          <button :class=\"['button', filter.selected ? 'is-success' : 'is-danger']\" @click=\"toggleFilter(filter)\">\r\n            {{$t(filter.selected ? 'enabled' : 'disabled')}}\r\n          </button>\r\n        </b-table-column>\r\n      </template>\r\n\r\n      <template #empty>\r\n        <div class=\"content has-text-grey has-text-centered\">\r\n          <p>{{$t('no-image-filter')}}</p>\r\n        </div>\r\n      </template>\r\n\r\n      <template #bottom-left>\r\n        <b-select v-model=\"perPage\" size=\"is-small\">\r\n          <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n          <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n          <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n          <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n        </b-select>\r\n      </template>\r\n    </b-table>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {ImageFilterCollection, ImageFilterProject, ImageFilterProjectCollection} from 'cytomine-client';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\n\r\nexport default {\r\n  name: 'project-image-filters',\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      searchString: '',\r\n      perPage: 10,\r\n\r\n      imageFilters: []\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n\r\n    filteredImageFilters() {\r\n      let regexp = getWildcardRegexp(this.searchString);\r\n      return this.imageFilters.filter(imgFilter => regexp.test(imgFilter.name));\r\n    }\r\n  },\r\n  methods: {\r\n    async toggleFilter(filter) {\r\n      try {\r\n        if(filter.selected) {\r\n          await filter.imageFilterProject.delete();\r\n          filter.selected = false;\r\n        }\r\n        else {\r\n          let filterProject = await new ImageFilterProject({\r\n            imageFilter: filter.id,\r\n            project: this.project.id\r\n          }).save();\r\n          filter.imageFilterProject = filterProject;\r\n          filter.selected = true;\r\n        }\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-change-status-image-filter-project', {filterName: filter.name})\r\n        });\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      let promiseFilters = ImageFilterCollection.fetchAll();\r\n      let promiseFiltersProjects = ImageFilterProjectCollection.fetchAll({\r\n        filterKey: 'project',\r\n        filterValue: this.project.id\r\n      });\r\n\r\n      let filters = (await promiseFilters).array.filter(filter => filter.available);\r\n      let filtersProject = (await promiseFiltersProjects).array;\r\n\r\n      filters.forEach(filter => {\r\n        filter.imageFilterProject = filtersProject.find(fp => fp.imageFilter === filter.id);\r\n        filter.selected = (filter.imageFilterProject !== undefined);\r\n      });\r\n\r\n      this.imageFilters = filters;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.project-image-filters-wrapper {\r\n  min-height: 40vh;\r\n}\r\n</style>\r\n\r\n<style>\r\n.project-image-filters-wrapper .search-field {\r\n  max-width: 25em;\r\n}\r\n\r\n.project-image-filters-wrapper .table {\r\n  margin-top: 1.5em;\r\n}\r\n\r\n.project-image-filters-wrapper .table .button {\r\n  padding: 0 3em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectImageFilters.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectImageFilters.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProjectImageFilters.vue?vue&type=template&id=646ef45a&scoped=true\"\nimport script from \"./ProjectImageFilters.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectImageFilters.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProjectImageFilters.vue?vue&type=style&index=0&id=646ef45a&prod&scoped=true&lang=css\"\nimport style1 from \"./ProjectImageFilters.vue?vue&type=style&index=1&id=646ef45a&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"646ef45a\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box error\" v-if=\"!configUI['project-configuration-tab']\">\r\n  <h2> {{ $t('access-denied') }} </h2>\r\n  <p>{{ $t('insufficient-permission') }}</p>\r\n</div>\r\n<div class=\"content-wrapper\" v-else>\r\n  <b-field class=\"radio-buttons-fullwidth\">\r\n    <b-radio-button v-model=\"activeTab\" native-value=\"general\" type=\"is-link\">\r\n      {{$t('general')}}\r\n    </b-radio-button>\r\n\r\n    <b-radio-button v-model=\"activeTab\" native-value=\"members\" type=\"is-link\">\r\n      {{$t('members')}}\r\n    </b-radio-button>\r\n\r\n    <b-radio-button v-model=\"activeTab\" native-value=\"customUI\" type=\"is-link\">\r\n      {{$t('custom-ui')}}\r\n    </b-radio-button>\r\n\r\n    <b-radio-button v-show=\"algoEnabled\" v-model=\"activeTab\" native-value=\"algorithms\" type=\"is-link\">\r\n      {{$t('algorithms')}}\r\n    </b-radio-button>\r\n\r\n    <b-radio-button v-model=\"activeTab\" native-value=\"imageFilters\" type=\"is-link\">\r\n      {{$t('image-filters')}}\r\n    </b-radio-button>\r\n  </b-field>\r\n\r\n  <div class=\"box tab-content\">\r\n    <keep-alive>\r\n      <component :is=\"activeComponent\" />\r\n    </keep-alive>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport constants from '@/utils/constants.js';\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport GeneralConfiguration from './configuration-panels/GeneralConfiguration';\r\nimport ProjectMembers from './configuration-panels/ProjectMembers';\r\nimport CustomUIProject from './configuration-panels/CustomUIProject';\r\nimport ProjectSoftwares from './configuration-panels/ProjectSoftwares';\r\nimport ProjectImageFilters from './configuration-panels/ProjectImageFilters';\r\n\r\nconst defaultTab = 'general';\r\n\r\nexport default {\r\n  name: 'project-configuration',\r\n  data() {\r\n    return {\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      activeTab: defaultTab\r\n    };\r\n  },\r\n  computed: {\r\n    configUI: get('currentProject/configUI'),\r\n    queriedTab() {\r\n      return this.$route.query.tab;\r\n    },\r\n    // eslint-disable-next-line vue/return-in-computed-property\r\n    activeComponent() {\r\n      switch(this.activeTab) {\r\n        case 'general':\r\n          return GeneralConfiguration;\r\n        case 'members':\r\n          return ProjectMembers;\r\n        case 'customUI':\r\n          return CustomUIProject;\r\n        case 'algorithms':\r\n          return ProjectSoftwares;\r\n        case 'imageFilters':\r\n          return ProjectImageFilters;\r\n      }\r\n      throw new Error('Cannot load active tabs ' + this.activeTab);\r\n    }\r\n  },\r\n  watch: {\r\n    queriedTab() {\r\n      this.changeTab();\r\n    },\r\n    activeTab() {\r\n      if(this.activeTab !== defaultTab || this.queriedTab) {\r\n        this.$router.push(`?tab=${this.activeTab}`);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    changeTab() {\r\n      this.activeTab = this.$route.query.tab || defaultTab;\r\n      if(!this.activeComponent) {\r\n        this.activeTab = defaultTab;\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    this.changeTab();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.tab-content {\r\n  position: relative;\r\n  min-height: 20em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectConfiguration.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectConfiguration.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProjectConfiguration.vue?vue&type=template&id=b2c4095a&scoped=true\"\nimport script from \"./ProjectConfiguration.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectConfiguration.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProjectConfiguration.vue?vue&type=style&index=0&id=b2c4095a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b2c4095a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"content-wrapper\"},[_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-user\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t('profile'))+\" \")]),_c('div',{staticClass:\"panel-block\"},[_c('form',{attrs:{\"data-vv-scope\":\"profile\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.editDetails()}}},[(_vm.currentUser.isDeveloper)?_c('b-field',{attrs:{\"label\":_vm.$t('id'),\"horizontal\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.currentUser.id)+\" \")]):_vm._e(),_c('b-field',{attrs:{\"label\":_vm.$t('username'),\"horizontal\":\"\"}},[_c('b-input',{attrs:{\"value\":_vm.currentUser.username,\"disabled\":\"\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('role'),\"horizontal\":\"\"}},[_c('span',{staticClass:\"tag\",class:_vm.role.class},[_vm._v(_vm._s(_vm.$t(_vm.role.label)))])]),_c('b-field',{attrs:{\"label\":_vm.$t('lastname'),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has('profile.lastname')},\"message\":_vm.errors.first('profile.lastname')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"lastname\"},model:{value:(_vm.updatedUser.lastname),callback:function ($$v) {_vm.$set(_vm.updatedUser, \"lastname\", $$v)},expression:\"updatedUser.lastname\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('firstname'),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has('profile.firstname')},\"message\":_vm.errors.first('profile.firstname')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"firstname\"},model:{value:(_vm.updatedUser.firstname),callback:function ($$v) {_vm.$set(_vm.updatedUser, \"firstname\", $$v)},expression:\"updatedUser.firstname\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('email'),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has('profile.email')},\"message\":_vm.errors.first('profile.email')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|email'),expression:\"'required|email'\"}],attrs:{\"name\":\"email\"},model:{value:(_vm.updatedUser.email),callback:function ($$v) {_vm.$set(_vm.updatedUser, \"email\", $$v)},expression:\"updatedUser.email\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('language'),\"horizontal\":\"\"}},[_c('b-select',{model:{value:(_vm.updatedUser.language),callback:function ($$v) {_vm.$set(_vm.updatedUser, \"language\", $$v)},expression:\"updatedUser.language\"}},_vm._l((_vm.languages),function({value, name}){return _c('option',{key:value,domProps:{\"value\":value}},[_vm._v(\" \"+_vm._s(name)+\" \")])}),0)],1),_c('b-field',{attrs:{\"grouped\":\"\",\"position\":\"is-right\"}},[_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any('profile')}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save')))])])])],1)])]),_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-briefcase\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t('password'))+\" \")]),_c('div',{staticClass:\"panel-block\"},[_c('form',{attrs:{\"data-vv-scope\":\"password\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.savePassword()}}},[_c('input',{staticClass:\"hidden\",attrs:{\"id\":\"password\",\"type\":\"password\"}}),_vm._v(\" \"),(_vm.currentUser.passwordExpired)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('password-expired-info-message'))+\" \")]):_c('b-field',{attrs:{\"label\":_vm.$t('password-current'),\"horizontal\":\"\",\"type\":_vm.typeCurrentPassword,\"message\":_vm.messageCurrentPassword}},[_c('b-input',{attrs:{\"type\":\"password\",\"loading\":_vm.isCheckingPassword},model:{value:(_vm.currentPassword),callback:function ($$v) {_vm.currentPassword=$$v},expression:\"currentPassword\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('password-new'),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has('password.newPassword')},\"message\":_vm.errors.first('password.newPassword')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|min:8'),expression:\"'required|min:8'\"}],attrs:{\"type\":\"password\",\"name\":\"newPassword\",\"disabled\":_vm.newPasswordDisabled},model:{value:(_vm.newPassword),callback:function ($$v) {_vm.newPassword=$$v},expression:\"newPassword\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('password-confirm'),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has('password.confirmPassword')},\"message\":_vm.errors.first('password.confirmPassword')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:({required: true, is: _vm.newPassword}),expression:\"{required: true, is: newPassword}\"}],attrs:{\"type\":\"password\",\"name\":\"confirmPassword\",\"disabled\":_vm.newPasswordDisabled},model:{value:(_vm.confirmPassword),callback:function ($$v) {_vm.confirmPassword=$$v},expression:\"confirmPassword\"}})],1),_c('b-field',{attrs:{\"grouped\":\"\",\"position\":\"is-right\"}},[_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any('password') || _vm.newPasswordDisabled}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])])])],1)])]),_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-exchange-alt\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t('api-keys'))+\" \")]),_c('div',{staticClass:\"panel-block\"},[_c('b-field',{attrs:{\"label\":_vm.$t('public-key'),\"horizontal\":\"\"}},[_c('b-field',[_c('b-input',{attrs:{\"value\":_vm.currentUser.publicKey,\"readonly\":\"\",\"expanded\":\"\"}}),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.copy(_vm.currentUser.publicKey)}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"far fa-clipboard\"})]),_c('span',[_vm._v(_vm._s(_vm.$t('button-copy')))])])])],1)],1),_c('b-field',{attrs:{\"label\":_vm.$t('private-key'),\"horizontal\":\"\"}},[_c('b-field',[_c('b-input',{attrs:{\"value\":_vm.currentUser.privateKey,\"readonly\":\"\",\"expanded\":\"\"}}),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.copy(_vm.currentUser.privateKey)}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"far fa-clipboard\"})]),_c('span',[_vm._v(_vm._s(_vm.$t('button-copy')))])])])],1)],1),_c('b-field',{attrs:{\"grouped\":\"\",\"position\":\"is-right\"}},[_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.regenerateKeys()}}},[_vm._v(_vm._s(_vm.$t('regenerate-api-keys')))])])])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport Vue from 'vue';\r\nimport VueI18n from 'vue-i18n';\r\n\r\nVue.use(VueI18n);\r\n\r\nexport default new VueI18n({\r\n  locale: 'en',\r\n  fallbackLocale: 'en',\r\n  messages: {\r\n    'en': require('./locales/json/en.i18n.json'),\r\n    'es': require('./locales/json/es.i18n.json'),\r\n    'fr': require('./locales/json/fr.i18n.json'),\r\n    'nl': require('./locales/json/nl.i18n.json')\r\n  }\r\n});\r\n\r\nexport const changeLanguageMixin = {\r\n  methods: {\r\n    changeLanguage(language) {\r\n      language = language || this.$i18n.fallbackLocale;\r\n      let locale = language.toLowerCase();\r\n      this.$i18n.locale = locale;\r\n      this.$moment.locale(locale);\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport const rolesMapping = Object.freeze({\r\n  'ROLE_GUEST': {label: 'guest', index: 0, class: 'is-light'},\r\n  'ROLE_USER': {label: 'user', index: 1, class: 'is-link'},\r\n  'ROLE_ADMIN': {label: 'admin', index: 2, class: 'is-success'},\r\n  'ROLE_SUPER_ADMIN': {label: 'super-admin', index: 3, class: 'is-success'},\r\n});\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"content-wrapper\">\r\n  <div class=\"panel\">\r\n    <p class=\"panel-heading\">\r\n      <i class=\"fas fa-user\" aria-hidden=\"true\"></i>\r\n      {{ $t('profile') }}\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <form @submit.prevent=\"editDetails()\" data-vv-scope=\"profile\">\r\n        <b-field :label=\"$t('id')\" horizontal v-if=\"currentUser.isDeveloper\">\r\n          {{currentUser.id}}\r\n        </b-field>\r\n\r\n        <b-field :label=\"$t('username')\" horizontal>\r\n          <b-input :value=\"currentUser.username\" disabled />\r\n        </b-field>\r\n\r\n        <b-field :label=\"$t('role')\" horizontal>\r\n          <span class=\"tag\" :class=\"role.class\">{{$t(role.label)}}</span>\r\n        </b-field>\r\n\r\n        <b-field\r\n          :label=\"$t('lastname')\"\r\n          horizontal\r\n          :type=\"{'is-danger': errors.has('profile.lastname')}\"\r\n          :message=\"errors.first('profile.lastname')\"\r\n        >\r\n          <b-input v-model=\"updatedUser.lastname\" name=\"lastname\" v-validate=\"'required'\" />\r\n        </b-field>\r\n\r\n        <b-field\r\n          :label=\"$t('firstname')\"\r\n          horizontal\r\n          :type=\"{'is-danger': errors.has('profile.firstname')}\"\r\n          :message=\"errors.first('profile.firstname')\"\r\n        >\r\n          <b-input v-model=\"updatedUser.firstname\" name=\"firstname\" v-validate=\"'required'\" />\r\n        </b-field>\r\n\r\n        <b-field\r\n          :label=\"$t('email')\"\r\n          horizontal\r\n          :type=\"{'is-danger': errors.has('profile.email')}\"\r\n          :message=\"errors.first('profile.email')\"\r\n        >\r\n          <b-input v-model=\"updatedUser.email\" name=\"email\" v-validate=\"'required|email'\" />\r\n        </b-field>\r\n\r\n        <b-field :label=\"$t('language')\" horizontal>\r\n          <b-select v-model=\"updatedUser.language\">\r\n            <option v-for=\"{value, name} in languages\" :key=\"value\" :value=\"value\">\r\n              {{name}}\r\n            </option>\r\n          </b-select>\r\n        </b-field>\r\n\r\n        <b-field grouped position=\"is-right\">\r\n          <div class=\"control\">\r\n            <button class=\"button is-link\" :disabled=\"errors.any('profile')\"> {{$t('button-save')}}</button>\r\n          </div>\r\n        </b-field>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"panel\">\r\n    <p class=\"panel-heading\">\r\n      <i class=\"fas fa-briefcase\" aria-hidden=\"true\"></i>\r\n      {{ $t('password') }}\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <form @submit.prevent=\"savePassword()\" data-vv-scope=\"password\">\r\n        <input id=\"password\" class=\"hidden\" type=\"password\"> <!-- HACK: fake field to prevent autofill -->\r\n\r\n        <b-message v-if=\"currentUser.passwordExpired\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n          {{$t('password-expired-info-message')}}\r\n        </b-message>\r\n\r\n        <b-field\r\n          v-else\r\n          :label=\"$t('password-current')\"\r\n          horizontal\r\n          :type=\"typeCurrentPassword\"\r\n          :message=\"messageCurrentPassword\"\r\n        >\r\n          <b-input type=\"password\" v-model=\"currentPassword\" :loading=\"isCheckingPassword\" />\r\n        </b-field>\r\n\r\n        <b-field\r\n          :label=\"$t('password-new')\"\r\n          horizontal\r\n          :type=\"{'is-danger': errors.has('password.newPassword')}\"\r\n          :message=\"errors.first('password.newPassword')\"\r\n        >\r\n          <b-input\r\n            type=\"password\"\r\n            v-model=\"newPassword\"\r\n            name=\"newPassword\"\r\n            v-validate=\"'required|min:8'\"\r\n            :disabled=\"newPasswordDisabled\"\r\n          />\r\n        </b-field>\r\n\r\n        <b-field\r\n          :label=\"$t('password-confirm')\"\r\n          horizontal\r\n          :type=\"{'is-danger': errors.has('password.confirmPassword')}\"\r\n          :message=\"errors.first('password.confirmPassword')\"\r\n        >\r\n          <b-input\r\n            type=\"password\"\r\n            v-model=\"confirmPassword\"\r\n            name=\"confirmPassword\"\r\n            v-validate=\"{required: true, is: newPassword}\"\r\n            :disabled=\"newPasswordDisabled\"\r\n          />\r\n        </b-field>\r\n\r\n        <b-field grouped position=\"is-right\">\r\n          <div class=\"control\">\r\n            <button class=\"button is-link\" :disabled=\"errors.any('password') || newPasswordDisabled\">\r\n              {{$t('button-save')}}\r\n            </button>\r\n          </div>\r\n        </b-field>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"panel\"> <!-- QUESTION: remove ? or only show for technical users ? -->\r\n    <p class=\"panel-heading\">\r\n      <i class=\"fas fa-exchange-alt\" aria-hidden=\"true\"></i>\r\n      {{ $t('api-keys') }}\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <b-field :label=\"$t('public-key')\" horizontal>\r\n        <b-field>\r\n          <b-input :value=\"currentUser.publicKey\" readonly expanded />\r\n          <p class=\"control\">\r\n            <button class=\"button\" @click=\"copy(currentUser.publicKey)\">\r\n              <span class=\"icon\"><i class=\"far fa-clipboard\"></i></span>\r\n              <span>{{$t('button-copy')}}</span>\r\n            </button>\r\n          </p>\r\n        </b-field>\r\n      </b-field>\r\n\r\n      <b-field :label=\"$t('private-key')\" horizontal>\r\n        <b-field>\r\n          <b-input :value=\"currentUser.privateKey\" readonly expanded />\r\n          <p class=\"control\">\r\n            <button class=\"button\" @click=\"copy(currentUser.privateKey)\">\r\n              <span class=\"icon\"><i class=\"far fa-clipboard\"></i></span>\r\n              <span>{{$t('button-copy')}}</span>\r\n            </button>\r\n          </p>\r\n        </b-field>\r\n      </b-field>\r\n\r\n      <b-field grouped position=\"is-right\">\r\n        <div class=\"control\">\r\n          <button class=\"button is-link\" @click=\"regenerateKeys()\">{{$t('regenerate-api-keys')}}</button>\r\n        </div>\r\n      </b-field>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {changeLanguageMixin} from '@/lang.js';\r\nimport _ from 'lodash';\r\nimport {User} from 'cytomine-client';\r\nimport {rolesMapping} from '@/utils/role-utils';\r\nimport copyToClipboard from 'copy-to-clipboard';\r\n\r\nexport default {\r\n  name: 'Account',\r\n  $_veeValidate: {validator: 'new'},\r\n  mixins: [changeLanguageMixin],\r\n  data() {\r\n    return {\r\n      updatedUser: this.$store.state.currentUser.user.clone(),\r\n      currentPassword: '',\r\n      isCheckingPassword: false,\r\n      correctPassword: false,\r\n      newPassword: '',\r\n      confirmPassword: '',\r\n      languages: [\r\n        {value: 'EN', name:'English'},\r\n        {value: 'FR', name:'Franais'},\r\n        {value: 'ES', name:'Espaol'},\r\n        {value: 'NL', name:'Nederlands'}\r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    role() {\r\n      let key = this.currentUser.guestByNow ? 'ROLE_GUEST' : this.currentUser.adminByNow ? 'ROLE_ADMIN' : 'ROLE_USER';\r\n      return rolesMapping[key];\r\n    },\r\n    newPasswordDisabled() {\r\n      return !this.correctPassword && !this.currentUser.passwordExpired;\r\n    },\r\n    messageCurrentPassword() {\r\n      if(!this.currentPassword || this.isCheckingPassword) {\r\n        return;\r\n      }\r\n      return this.correctPassword ? '' : this.$t('invalid-password');\r\n    },\r\n    typeCurrentPassword() {\r\n      if(!this.currentPassword || this.isCheckingPassword) {\r\n        return;\r\n      }\r\n      return this.correctPassword ? 'is-success' : 'is-danger';\r\n    }\r\n  },\r\n  watch: {\r\n    currentPassword() {\r\n      this.isCheckingPassword = true;\r\n      this.checkPassword();\r\n    }\r\n  },\r\n  methods: {\r\n    async editDetails() {\r\n      let result = await this.$validator.validateAll('profile');\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        await this.$store.dispatch('currentUser/updateUser', this.updatedUser);\r\n        this.changeLanguage(this.currentUser.language);\r\n        this.$notify({type: 'success', text: this.$t('notif-success-user-details-saved')});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-user-details-not-saved')});\r\n      }\r\n    },\r\n\r\n    async savePassword() {\r\n      let result = await this.$validator.validateAll('password');\r\n      if(!result || (!this.correctPassword && !this.currentUser.passwordExpired)) {\r\n        return;\r\n      }\r\n\r\n      let userNewPassword = this.currentUser.clone();\r\n      userNewPassword.password = this.newPassword;\r\n      try {\r\n        await this.$store.dispatch('currentUser/updateUser', userNewPassword);\r\n        this.$notify({type: 'success', text: this.$t('notif-success-password-saved')});\r\n        this.currentPassword = '';\r\n        this.newPassword = '';\r\n        this.confirmPassword = '';\r\n        this.$validator.reset({scope: 'password'});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-password-not-saved')});\r\n      }\r\n    },\r\n\r\n    checkPassword: _.debounce(async function() {\r\n      this.correctPassword = await User.checkCurrentPassword(this.currentPassword);\r\n      if(!this.correctPassword) {\r\n        this.newPassword = '';\r\n        this.confirmPassword = '';\r\n        this.$validator.reset({scope: 'password'});\r\n      }\r\n      this.isCheckingPassword = false;\r\n    }, 500),\r\n\r\n    copy(value) {\r\n      copyToClipboard(value);\r\n      this.$notify({type: 'success', text: this.$t('notif-success-key-copied')});\r\n    },\r\n\r\n    async regenerateKeys() {\r\n      try {\r\n        await this.$store.dispatch('currentUser/regenerateKeys');\r\n        this.$notify({type: 'success', text: this.$t('notif-success-keys-regenerated')});\r\n      }\r\n      catch(err) {\r\n        this.$notify({type: 'error', text: this.$t('notif-error-keys-not-regenerated')});\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.panel {\r\n  max-width: 80em;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\n\r\n.fas {\r\n  margin-right: 0.3em;\r\n}\r\n\r\ninput.hidden {\r\n  display: none;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Account.vue?vue&type=template&id=31271cb5&scoped=true\"\nimport script from \"./Account.vue?vue&type=script&lang=js\"\nexport * from \"./Account.vue?vue&type=script&lang=js\"\nimport style0 from \"./Account.vue?vue&type=style&index=0&id=31271cb5&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31271cb5\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('unexpected-error-info-message')))])]):_c('div',{staticClass:\"content-wrapper\"},[_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('advanced-search'))+\" \")]),_c('div',{staticClass:\"panel-block\"},[_c('div',{staticClass:\"search-block\"},[_c('b-input',{staticClass:\"search-projects\",attrs:{\"value\":_vm.searchString,\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},on:{\"input\":_vm.debounceSearchString}})],1),_c('b-collapse',{attrs:{\"open\":\"\"}},[_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('tags'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableTags,\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"allPlaceholder\":_vm.$t('all')},model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})],1)]),_c('div',{staticClass:\"column filter\"}),_c('div',{staticClass:\"column filter\"})])])])],1),_c('p',{staticClass:\"panel-tabs\"},[_c('a',{class:{'is-active': _vm.activeTab === 'projects'},on:{\"click\":function($event){_vm.activeTab = 'projects'}}},[_vm._v(\" \"+_vm._s(_vm.$t('projects'))+\" (\"+_vm._s(this.projects.totalNbItems)+\") \")]),_c('a',{class:{'is-active': _vm.activeTab === 'images'},on:{\"click\":function($event){_vm.activeTab = 'images'}}},[_vm._v(\" \"+_vm._s(_vm.$t('images'))+\" (\"+_vm._s(this.images.totalNbItems)+\") \")])]),_c('div',{staticClass:\"panel-block\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === 'projects'),expression:\"activeTab === 'projects'\"}],key:'projects'},[_c('cytomine-table',{staticClass:\"table-projects\",attrs:{\"collection\":_vm.projectCollection,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"openedDetailed\":_vm.openedDetails,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"data\":_vm.projects,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event},\"update:data\":function($event){_vm.projects=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function({row: project}){return [_c('b-table-column',{attrs:{\"field\":\"currentUserRole\",\"label\":\"\",\"centered\":\"\",\"width\":\"1\",\"sortable\":\"\"}},[_c('icon-project-member-role',{attrs:{\"is-manager\":project.currentUserRoles.admin,\"is-representative\":project.currentUserRoles.representative}})],1),_c('b-table-column',{attrs:{\"label\":_vm.$t('id'),\"width\":\"20\",\"visible\":_vm.currentUser.isDeveloper}},[_vm._v(\" \"+_vm._s(project.id)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"250\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}`}},[_vm._v(\" \"+_vm._s(project.name)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"membersCount\",\"label\":_vm.$t('members'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(project.membersCount)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"numberOfImages\",\"label\":_vm.$t('images'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}/images`}},[_vm._v(_vm._s(project.numberOfImages))])],1),_c('b-table-column',{attrs:{\"field\":\"numberOfAnnotations\",\"label\":_vm.$t('user-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}/annotations?type=user`}},[_vm._v(\" \"+_vm._s(project.numberOfAnnotations)+\" \")])],1),(_vm.algoEnabled)?_c('b-table-column',{attrs:{\"field\":\"numberOfJobAnnotations\",\"label\":_vm.$t('analysis-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}/annotations?type=algo`}},[_vm._v(\" \"+_vm._s(project.numberOfJobAnnotations)+\" \")])],1):_vm._e(),_c('b-table-column',{attrs:{\"field\":\"numberOfReviewedAnnotations\",\"label\":_vm.$t('reviewed-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}/annotations?type=reviewed`}},[_vm._v(\" \"+_vm._s(project.numberOfReviewedAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"lastActivity\",\"label\":_vm.$t('last-activity'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"180\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(project.lastActivity),'ll'))+\" \")]),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\",\"width\":\"150\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":`/project/${project.id}`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-open'))+\" \")])],1)]}},{key:\"detail\",fn:function({row: project}){return [_c('project-details',{attrs:{\"project\":project,\"excluded-properties\":_vm.excludedProperties},on:{\"update\":function($event){return _vm.updateProject()},\"delete\":function($event){return _vm.deleteProject(project)}}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-project')))])])]},proxy:true}])}),_c('div',{staticClass:\"legend\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('legend')))]),_c('p',[_c('icon-project-member-role'),_vm._v(\" : \"+_vm._s(_vm.$t('contributor-icon-label')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('manager-icon-label')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true,\"is-representative\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('representative-icon-label')))],1)])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === 'images'),expression:\"activeTab === 'images'\"}],key:'images'},[_c('cytomine-table',{attrs:{\"collection\":_vm.imageCollection,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"openedDetailed\":_vm.openedDetails,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"data\":_vm.images,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event},\"update:data\":function($event){_vm.images=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function({row: image}){return [_c('b-table-column',{attrs:{\"label\":_vm.$t('id'),\"width\":\"20\",\"visible\":_vm.currentUser.isDeveloper}},[_vm._v(\" \"+_vm._s(image.id)+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('overview'),\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/image/${image.id}`}},[_c('image-thumbnail',{key:`${image.id}-thumb-128`,attrs:{\"image\":image,\"size\":128,\"extra-parameters\":{Authorization: 'Bearer ' + _vm.shortTermToken }}})],1)],1),_c('b-table-column',{attrs:{\"field\":image.projectBlind ? 'blindedName' : 'instanceFilename',\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"400\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/image/${image.id}`}},[_c('image-name',{attrs:{\"image\":image,\"showBothNames\":\"\"}})],1)],1),_c('b-table-column',{attrs:{\"field\":'projectName',\"label\":_vm.$t('project'),\"width\":\"200\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}`}},[_vm._v(\" \"+_vm._s(image.projectName)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"magnification\",\"label\":_vm.$t('magnification'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_vm._v(\" \"+_vm._s(image.magnification || _vm.$t('unknown'))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"numberOfAnnotations\",\"label\":_vm.$t('user-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/annotations?image=${image.id}&type=user`}},[_vm._v(\" \"+_vm._s(image.numberOfAnnotations)+\" \")])],1),(_vm.algoEnabled)?_c('b-table-column',{attrs:{\"field\":\"numberOfJobAnnotations\",\"label\":_vm.$t('analysis-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/annotations?image=${image.id}&type=algo`}},[_vm._v(\" \"+_vm._s(image.numberOfJobAnnotations)+\" \")])],1):_vm._e(),_c('b-table-column',{attrs:{\"field\":\"numberOfReviewedAnnotations\",\"label\":_vm.$t('reviewed-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/annotations?image=${image.id}&type=reviewed`}},[_vm._v(\" \"+_vm._s(image.numberOfReviewedAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\",\"width\":\"150\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":`/project/${image.project}/image/${image.id}`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-open'))+\" \")])],1)]}},{key:\"detail\",fn:function({row: image}){return [_c('image-details',{attrs:{\"image\":image,\"excludedProperties\":_vm.excludedProperties}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-image')))])])]},proxy:true}])})],1)],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box error\" v-if=\"error\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p>{{ $t('unexpected-error-info-message') }}</p>\r\n</div>\r\n<div v-else class=\"content-wrapper\">\r\n  <div class=\"panel\">\r\n    <p class=\"panel-heading\">\r\n      {{$t('advanced-search')}}\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <div class=\"search-block\">\r\n        <b-input class=\"search-projects\" :value=\"searchString\" @input=\"debounceSearchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\r\n      </div>\r\n\r\n      <b-collapse open>\r\n        <div class=\"filters\">\r\n          <div class=\"columns\">\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('tags')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-multiselect v-model=\"selectedTags\" :options=\"availableTags\"\r\n                  label=\"name\" track-by=\"id\" :multiple=\"true\" :allPlaceholder=\"$t('all')\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"column filter\">\r\n            </div>\r\n            <div class=\"column filter\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </b-collapse>\r\n\r\n\r\n    </div>\r\n    <p class=\"panel-tabs\">\r\n      <a :class=\"{'is-active': activeTab === 'projects'}\" @click=\"activeTab = 'projects'\">\r\n        {{$t('projects')}} ({{this.projects.totalNbItems}})\r\n      </a>\r\n      <a :class=\"{'is-active': activeTab === 'images'}\" @click=\"activeTab = 'images'\">\r\n        {{$t('images')}} ({{this.images.totalNbItems}})\r\n      </a>\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n\r\n      <div\r\n        v-show=\"activeTab === 'projects'\"\r\n        :key=\"'projects'\"\r\n      >\r\n        <cytomine-table\r\n          :collection=\"projectCollection\"\r\n          class=\"table-projects\"\r\n          :currentPage.sync=\"currentPage\"\r\n          :perPage.sync=\"perPage\"\r\n          :openedDetailed.sync=\"openedDetails\"\r\n          :sort.sync=\"sortField\"\r\n          :order.sync=\"sortOrder\"\r\n          :data.sync=\"projects\"\r\n          :revision=\"revision\"\r\n        >\r\n          <template #default=\"{row: project}\">\r\n            <b-table-column field=\"currentUserRole\" label=\"\" centered width=\"1\" sortable>\r\n              <icon-project-member-role\r\n                :is-manager=\"project.currentUserRoles.admin\"\r\n                :is-representative=\"project.currentUserRoles.representative\"\r\n              />\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('id')\" width=\"20\" :visible=\"currentUser.isDeveloper\">\r\n              {{project.id}}\r\n            </b-table-column>\r\n\r\n            <b-table-column field=\"name\" :label=\"$t('name')\" sortable width=\"250\">\r\n              <router-link :to=\"`/project/${project.id}`\">\r\n                {{ project.name }}\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column field=\"membersCount\" :label=\"$t('members')\" centered sortable width=\"150\">\r\n              {{ project.membersCount }}\r\n            </b-table-column>\r\n\r\n            <b-table-column field=\"numberOfImages\" :label=\"$t('images')\" centered sortable width=\"150\">\r\n              <router-link :to=\"`/project/${project.id}/images`\">{{ project.numberOfImages }}</router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column field=\"numberOfAnnotations\" :label=\"$t('user-annotations')\" centered sortable width=\"150\">\r\n              <router-link :to=\"`/project/${project.id}/annotations?type=user`\">\r\n                {{ project.numberOfAnnotations }}\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column v-if=\"algoEnabled\" field=\"numberOfJobAnnotations\" :label=\"$t('analysis-annotations')\" centered sortable width=\"150\">\r\n              <router-link :to=\"`/project/${project.id}/annotations?type=algo`\">\r\n                {{ project.numberOfJobAnnotations }}\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column field=\"numberOfReviewedAnnotations\" :label=\"$t('reviewed-annotations')\" centered sortable width=\"150\">\r\n              <router-link :to=\"`/project/${project.id}/annotations?type=reviewed`\">\r\n                {{ project.numberOfReviewedAnnotations }}\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column field=\"lastActivity\" :label=\"$t('last-activity')\" centered sortable width=\"180\">\r\n              {{ Number(project.lastActivity) | moment('ll') }}\r\n            </b-table-column>\r\n\r\n            <b-table-column label=\" \" centered width=\"150\">\r\n              <router-link :to=\"`/project/${project.id}`\" class=\"button is-small is-link\">\r\n                {{$t('button-open')}}\r\n              </router-link>\r\n            </b-table-column>\r\n          </template>\r\n\r\n          <template #detail=\"{row: project}\">\r\n            <project-details\r\n              :project=\"project\"\r\n              :excluded-properties=\"excludedProperties\"\r\n              @update=\"updateProject()\"\r\n              @delete=\"deleteProject(project)\"\r\n            />\r\n          </template>\r\n\r\n          <template #empty>\r\n            <div class=\"content has-text-grey has-text-centered\">\r\n              <p>{{$t('no-project')}}</p>\r\n            </div>\r\n          </template>\r\n        </cytomine-table>\r\n\r\n        <div class=\"legend\">\r\n            <h2>{{$t('legend')}}</h2>\r\n          <p><icon-project-member-role /> : {{$t('contributor-icon-label')}}</p>\r\n          <p><icon-project-member-role :is-manager=\"true\" /> : {{$t('manager-icon-label')}}</p>\r\n          <p><icon-project-member-role :is-manager=\"true\" :is-representative=\"true\" /> : {{$t('representative-icon-label')}}</p>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <div\r\n      v-show=\"activeTab === 'images'\"\r\n      :key=\"'images'\"\r\n      >\r\n        <cytomine-table\r\n          :collection=\"imageCollection\"\r\n          :currentPage.sync=\"currentPage\"\r\n          :perPage.sync=\"perPage\"\r\n          :openedDetailed.sync=\"openedDetails\"\r\n          :sort.sync=\"sortField\"\r\n          :order.sync=\"sortOrder\"\r\n          :data.sync=\"images\"\r\n          :revision=\"revision\"\r\n        >\r\n          <template #default=\"{row: image}\">\r\n            <b-table-column :label=\"$t('id')\" width=\"20\" :visible=\"currentUser.isDeveloper\">\r\n              {{image.id}}\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('overview')\" width=\"100\">\r\n              <router-link :to=\"`/project/${image.project}/image/${image.id}`\">\r\n                <image-thumbnail :image=\"image\" :size=\"128\" :key=\"`${image.id}-thumb-128`\" :extra-parameters=\"{Authorization: 'Bearer ' + shortTermToken }\"/>\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column\r\n              :field=\"image.projectBlind ? 'blindedName' : 'instanceFilename'\"\r\n              :label=\"$t('name')\"\r\n              sortable\r\n              width=\"400\"\r\n            >\r\n              <router-link :to=\"`/project/${image.project}/image/${image.id}`\">\r\n                <image-name :image=\"image\" showBothNames />\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column\r\n              :field=\"'projectName'\"\r\n              :label=\"$t('project')\"\r\n              width=\"200\"\r\n            >\r\n              <router-link :to=\"`/project/${image.project}`\">\r\n                {{ image.projectName }}\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column field=\"magnification\" :label=\"$t('magnification')\" centered sortable width=\"100\">\r\n              {{ image.magnification || $t('unknown') }}\r\n            </b-table-column>\r\n\r\n            <b-table-column field=\"numberOfAnnotations\" :label=\"$t('user-annotations')\" centered sortable width=\"100\">\r\n              <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=user`\">\r\n                {{ image.numberOfAnnotations }}\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column  v-if=\"algoEnabled\" field=\"numberOfJobAnnotations\" :label=\"$t('analysis-annotations')\" centered sortable width=\"100\">\r\n              <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=algo`\">\r\n                {{ image.numberOfJobAnnotations }}\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column field=\"numberOfReviewedAnnotations\" :label=\"$t('reviewed-annotations')\" centered sortable width=\"100\">\r\n              <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=reviewed`\">\r\n                {{ image.numberOfReviewedAnnotations }}\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column label=\" \" centered width=\"150\">\r\n              <router-link :to=\"`/project/${image.project}/image/${image.id}`\" class=\"button is-small is-link\">\r\n                {{$t('button-open')}}\r\n              </router-link>\r\n            </b-table-column>\r\n          </template>\r\n\r\n          <template #detail=\"{row: image}\">\r\n            <image-details\r\n              :image=\"image\"\r\n              :excludedProperties=\"excludedProperties\"\r\n            />\r\n          </template>\r\n\r\n          <template #empty>\r\n            <div class=\"content has-text-grey has-text-centered\">\r\n              <p>{{$t('no-image')}}</p>\r\n            </div>\r\n          </template>\r\n        </cytomine-table>\r\n      </div>\r\n\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash';\r\nimport {get} from '@/utils/store-helpers';\r\nimport ImageName from '@/components/image/ImageName';\r\nimport CytomineTable from '@/components/utils/CytomineTable';\r\nimport ProjectDetails from '@/components/project/ProjectDetails';\r\nimport ImageDetails from '@/components/image/ImageDetails';\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport {ImageInstanceCollection, ProjectCollection, TagCollection} from 'cytomine-client';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\nimport IconProjectMemberRole from '@/components/icons/IconProjectMemberRole';\r\nimport ImageThumbnail from '@/components/image/ImageThumbnail';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\nimport constants from '@/utils/constants.js';\r\nexport default {\r\n  name: 'advanced-search',\r\n  components: {\r\n    ImageThumbnail,\r\n    IconProjectMemberRole,\r\n    ImageName,\r\n    CytomineTable,\r\n    ProjectDetails,\r\n    ImageDetails,\r\n    CytomineMultiselect\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      searchString: '',\r\n      projects:[],\r\n      images: [],\r\n      activeTab: 'projects',\r\n      perPage: 10,\r\n\r\n      selectedTags: [],\r\n      availableTags:[],\r\n\r\n      currentPage: 1,\r\n      sortField: 'created',\r\n      sortOrder: 'desc',\r\n      openedDetails: [],\r\n      revision: 0,\r\n\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      excludedProperties: [\r\n        'name',\r\n        'imagesPreview',\r\n        'lastActivity',\r\n      ],\r\n\r\n\r\n    };\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    debounceSearchString: _.debounce(async function(value) {\r\n      this.searchString = value;\r\n    }, 500)\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    pathSearchString() {\r\n      return this.$route.params.searchString;\r\n    },\r\n    querySearchString() {\r\n      return this.$route.query.searchString;\r\n    },\r\n    querySearchTags() {\r\n      return this.$route.query.tags;\r\n    },\r\n    regexp() {\r\n      return getWildcardRegexp(this.searchString);\r\n    },\r\n    lowCaseSearchString() {\r\n      return this.searchString.toLowerCase();\r\n    },\r\n    projectCollection() {\r\n      let collection = new ProjectCollection({\r\n        withMembersCount: true,\r\n        withLastActivity: true,\r\n        withCurrentUserRoles: true\r\n      });\r\n      if(this.searchString) {\r\n        collection['name'] = {\r\n          ilike: encodeURIComponent(this.searchString)\r\n        };\r\n      }\r\n\r\n      if(this.selectedTags.length > 0 && this.selectedTags.length < this.availableTags.length){\r\n        collection['tag'] = {\r\n          in: this.selectedTags.map(t => t.id).join()\r\n        };\r\n      }\r\n      return collection;\r\n    },\r\n    imageCollection() {\r\n      let collection = new ImageInstanceCollection({\r\n        filterKey: 'user',\r\n        filterValue: this.currentUser.id,\r\n      });\r\n\r\n      if(this.searchString) {\r\n        collection['name'] = {\r\n          ilike: encodeURIComponent(this.searchString)\r\n        };\r\n      }\r\n      if(this.selectedTags.length > 0 && this.selectedTags.length < this.availableTags.length){\r\n        collection['tag'] = {\r\n          in: this.selectedTags.map(t => t.id).join()\r\n        };\r\n      }\r\n      return collection;\r\n    },\r\n\r\n\r\n\r\n  },\r\n  watch: {\r\n    pathSearchString(val) {\r\n      if(val) {\r\n        this.searchString = val;\r\n      }\r\n    },\r\n    querySearchString(val) {\r\n      if(val && !this.pathSearchString) {\r\n        this.searchString = val;\r\n      }\r\n    },\r\n    querySearchTags(values) {\r\n      if(values) {\r\n        this.selectedTags = [];\r\n        let queriedTags = this.availableTags.filter(tag => values.split(',').includes(tag.name));\r\n        if(queriedTags) {\r\n          this.selectedTags = queriedTags;\r\n        }\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    this.searchString = this.pathSearchString || this.querySearchString || '';\r\n    try {\r\n      this.availableTags = [{id: 'null', name: this.$t('no-tag')}, ...(await TagCollection.fetchAll()).array];\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n    if(!this.algoEnabled) this.excludedProperties.push('numberOfJobAnnotations');\r\n    if(this.$route.query.tags) {\r\n      let queriedTags = this.availableTags.filter(tag => this.$route.query.tags.split(',').includes(tag.name));\r\n      if(queriedTags) {\r\n        this.selectedTags = queriedTags;\r\n      }\r\n    }\r\n\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.search-block {\r\n  display: flex;\r\n  background: #fff;\r\n  padding: 0.5em 0.75em;\r\n}\r\n\r\n.legend {\r\n  margin-top: 0.8rem;\r\n  margin-bottom: 1rem;\r\n  border-radius: 10px;\r\n  padding: 1rem 1.5em;\r\n  background: #f8f8f8;\r\n}\r\n\r\n.legend p:not(:last-child) {\r\n  margin-bottom: 0.4em;\r\n}\r\n\r\n>>> .image-thumbnail {\r\n  max-height: 4rem;\r\n  max-width: 10rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedSearch.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedSearch.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AdvancedSearch.vue?vue&type=template&id=729a7712&scoped=true\"\nimport script from \"./AdvancedSearch.vue?vue&type=script&lang=js\"\nexport * from \"./AdvancedSearch.vue?vue&type=script&lang=js\"\nimport style0 from \"./AdvancedSearch.vue?vue&type=style&index=0&id=729a7712&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"729a7712\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('error-loading-image')))]),(_vm.errorBadImageProject)?_c('p',[_vm._v(_vm._s(_vm.$t('error-loading-image-bad-project')))]):_vm._e()]):_c('div',{staticClass:\"cytomine-viewer\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('div',{staticClass:\"maps-wrapper\"},[_vm._l((_vm.cells),function(cell,i){return _c('div',{key:i,staticClass:\"map-cell\",style:(`height:${_vm.elementHeight}%; width:${_vm.elementWidth}%;`)},[(cell && cell.image && cell.slices)?_c('cytomine-image',{key:`${cell.index}-${cell.image.id}`,attrs:{\"index\":cell.index},on:{\"close\":function($event){return _vm.closeMap(cell.index)}}}):_vm._e()],1)}),_c('image-selector'),_c('div',{directives:[{name:\"shortkey\",rawName:\"v-shortkey.once\",value:(_vm.shortkeysMapping),expression:\"shortkeysMapping\",modifiers:{\"once\":true}}],staticClass:\"hidden\",on:{\"shortkey\":_vm.shortkeyEvent}})],2):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"container\",staticClass:\"map-container\",on:{\"click\":function($event){_vm.isActiveImage = true}}},[(!_vm.loading && _vm.zoom !== null)?[_c('vl-map',{ref:\"map\",attrs:{\"data-projection\":_vm.projectionName,\"load-tiles-while-animating\":true,\"load-tiles-while-interacting\":true,\"keyboard-event-target\":_vm.document},on:{\"pointermove\":function($event){_vm.projectedMousePosition = $event.coordinate},\"mounted\":_vm.updateKeyboardInteractions}},[_c('vl-view',{ref:\"view\",attrs:{\"center\":_vm.center,\"zoom\":_vm.zoom,\"rotation\":_vm.rotation,\"max-zoom\":_vm.maxZoom,\"max-resolution\":Math.pow(2, _vm.image.zoom),\"extent\":_vm.extent,\"projection\":_vm.projectionName},on:{\"update:center\":function($event){_vm.center=$event},\"update:zoom\":function($event){_vm.zoom=$event},\"update:rotation\":function($event){_vm.rotation=$event},\"mounted\":function($event){return _vm.viewMounted()}}}),_c('vl-layer-tile',{ref:\"baseLayer\",attrs:{\"extent\":_vm.extent},on:{\"mounted\":_vm.addOverviewMap}},[_c('vl-source-zoomify',{ref:\"baseSource\",attrs:{\"projection\":_vm.projectionName,\"urls\":_vm.baseLayerURLs,\"size\":_vm.imageSize,\"extent\":_vm.extent,\"crossOrigin\":_vm.slices[0].imageServerUrl,\"transition\":0,\"tile-size\":_vm.tileSize},on:{\"mounted\":function($event){return _vm.setBaseSource()}}})],1),_vm._l((_vm.selectedLayers),function(layer){return _c('annotation-layer',{key:'layer-'+layer.id,attrs:{\"index\":_vm.index,\"layer\":layer}})}),(_vm.activeSelectInteraction)?_c('select-interaction',{attrs:{\"index\":_vm.index}}):_vm._e(),(_vm.activeDrawInteraction)?_c('draw-interaction',{attrs:{\"index\":_vm.index}}):_vm._e(),(_vm.activeModifyInteraction)?_c('modify-interaction',{attrs:{\"index\":_vm.index}}):_vm._e()],2),(_vm.configUI['project-tools-main'])?_c('div',{staticClass:\"draw-tools\"},[_c('draw-tools',{attrs:{\"index\":_vm.index},on:{\"screenshot\":function($event){return _vm.takeScreenshot()}}})],1):_vm._e(),_c('div',{staticClass:\"panels\"},[_c('ul',[_c('li',[_c('a',{staticClass:\"close\",on:{\"click\":function($event){return _vm.$emit('close')}}},[_c('i',{staticClass:\"fas fa-times-circle\"})])]),(_vm.isPanelDisplayed('hide-tools'))?[(_vm.isPanelDisplayed('info'))?_c('li',[_c('a',{class:{active: _vm.activePanel === 'info'},on:{\"click\":function($event){return _vm.togglePanel('info')}}},[_c('i',{staticClass:\"fas fa-info\"})]),_c('information-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'info'),expression:\"activePanel === 'info'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index}})],1):_vm._e(),(_vm.isPanelDisplayed('digital-zoom'))?_c('li',[_c('a',{class:{active: _vm.activePanel === 'digital-zoom'},on:{\"click\":function($event){return _vm.togglePanel('digital-zoom')}}},[_c('i',{staticClass:\"fas fa-search\"})]),_c('digital-zoom',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'digital-zoom'),expression:\"activePanel === 'digital-zoom'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index},on:{\"resetZoom\":function($event){return _vm.$refs.view.animate({zoom: _vm.image.zoom})},\"fitZoom\":_vm.fitZoom}})],1):_vm._e(),(_vm.isPanelDisplayed('link') && _vm.nbImages > 1)?_c('li',[_c('a',{class:{active: _vm.activePanel === 'link'},on:{\"click\":function($event){return _vm.togglePanel('link')}}},[_c('i',{staticClass:\"fas fa-link\"})]),_c('link-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'link'),expression:\"activePanel === 'link'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index}})],1):_vm._e(),(_vm.isPanelDisplayed('color-manipulation'))?_c('li',[_c('a',{class:{active: _vm.activePanel === 'colors'},on:{\"click\":function($event){return _vm.togglePanel('colors')}}},[_c('i',{staticClass:\"fas fa-adjust\"})]),_c('color-manipulation',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'colors'),expression:\"activePanel === 'colors'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index}})],1):_vm._e(),(_vm.isPanelDisplayed('image-layers'))?_c('li',[_c('a',{class:{active: _vm.activePanel === 'layers'},on:{\"click\":function($event){return _vm.togglePanel('layers')}}},[_c('i',{staticClass:\"fas fa-copy\"})]),_c('layers-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'layers'),expression:\"activePanel === 'layers'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index,\"layers-to-preload\":_vm.layersToPreload}})],1):_vm._e(),(_vm.isPanelDisplayed('ontology') && _vm.terms && _vm.terms.length > 0)?_c('li',[_c('a',{class:{active: _vm.activePanel === 'ontology'},on:{\"click\":function($event){return _vm.togglePanel('ontology')}}},[_c('i',{staticClass:\"fas fa-hashtag\"})]),_c('ontology-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'ontology'),expression:\"activePanel === 'ontology'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index}})],1):_vm._e(),(_vm.isPanelDisplayed('property'))?_c('li',[_c('a',{class:{active: _vm.activePanel === 'properties'},on:{\"click\":function($event){return _vm.togglePanel('properties')}}},[_c('i',{staticClass:\"fas fa-tag\"})]),_c('properties-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'properties'),expression:\"activePanel === 'properties'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index}})],1):_vm._e(),(_vm.isPanelDisplayed('follow'))?_c('li',[_c('a',{class:{active: _vm.activePanel === 'follow'},on:{\"click\":function($event){return _vm.togglePanel('follow')}}},[_c('i',{staticClass:\"fas fa-street-view\"})]),_c('follow-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'follow'),expression:\"activePanel === 'follow'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index,\"view\":_vm.$refs.view}})],1):_vm._e(),(_vm.isPanelDisplayed('review') && _vm.canEdit)?_c('li',[_c('a',{class:{active: _vm.activePanel === 'review'},on:{\"click\":function($event){return _vm.togglePanel('review')}}},[_c('i',{staticClass:\"fas fa-check-circle\"})]),_c('review-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'review'),expression:\"activePanel === 'review'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index}})],1):_vm._e()]:_vm._e()],2)]),_c('image-controls',{staticClass:\"image-controls-wrapper\",attrs:{\"index\":_vm.index}}),(_vm.imageWrapper.tracking.broadcast)?_c('div',{staticClass:\"broadcast\"},[_c('i',{staticClass:\"fas fa-circle\"}),_vm._v(\" \"+_vm._s(_vm.$t('live'))+\" \")]):_vm._e(),_c('rotation-selector',{staticClass:\"rotation-selector-wrapper\",attrs:{\"index\":_vm.index}}),_c('scale-line',{attrs:{\"image\":_vm.image,\"zoom\":_vm.zoom,\"mousePosition\":_vm.projectedMousePosition}}),_c('annotations-container',{attrs:{\"index\":_vm.index},on:{\"centerView\":_vm.centerViewOnAnnot}}),_c('div',{ref:\"overview\",staticClass:\"custom-overview\"},[_c('p',{staticClass:\"image-name\",class:{hidden: _vm.overviewCollapsed}},[_c('image-name',{attrs:{\"image\":_vm.image}})],1)])]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('vl-layer-vector',{attrs:{\"visible\":_vm.layer.visible,\"extent\":_vm.imageExtent,\"update-while-interacting\":false}},[_c('vl-source-vector',{ref:\"olSource\",attrs:{\"loader-factory\":_vm.loaderFactory,\"strategy-factory\":_vm.strategyFactory,\"url\":\"-\"}},[_c('vl-style-func',{attrs:{\"factory\":_vm.styleFunctionFactory}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {AnnotationTermCollection, AnnotationType, AnnotationTrackCollection} from 'cytomine-client';\r\n\r\n/** Enum providing the actions that can be performed on annotations */\r\nexport const Action = Object.freeze({\r\n  SELECT: 'select',\r\n  CREATE: 'create',\r\n  UPDATE: 'update',\r\n  DELETE: 'delete'\r\n});\r\n\r\n/**\r\n * Fetch the terms associated to the provided annot, and populate term and userByTerm properties accordingly\r\n *\r\n * @param {Object} annot The annotation to update\r\n */\r\nexport async function updateTermProperties(annot) {\r\n  let annotTerms = await AnnotationTermCollection.fetchAll({filterKey: 'annotation', filterValue: annot.id});\r\n  annot.term = [];\r\n  annot.userByTerm = [];\r\n  let mapping = {};\r\n  annotTerms.array.forEach(({term, user}) => {\r\n    if(!annot.term.includes(term)) {\r\n      mapping[term] = annot.term.length;\r\n      annot.term.push(term);\r\n      annot.userByTerm.push({term, user: [user]});\r\n    }\r\n    else { // this term was already treated => add user to existing userByTerm object related to the term\r\n      annot.userByTerm[mapping[term]].user.push(user);\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * Fetch the tracks associated to the provided annot, and populate track and annotationTrack properties accordingly\r\n *\r\n * @param {Object} annot The annotation to update\r\n */\r\nexport async function updateTrackProperties(annot) {\r\n  let annotTracks = await AnnotationTrackCollection.fetchAll({filterKey: 'annotation', filterValue: annot.id});\r\n  annot.track = annotTracks.array.map(at => at.track);\r\n  annot.annotationTrack = annotTracks.array;\r\n}\r\n\r\n/**\r\n * Checks whether an annotation belongs to the provided layer and image\r\n *\r\n * @param {Object} annot The annotation\r\n * @param {Object} layer The layer\r\n * @param {Array} [slices] The slice identifiers\r\n *\r\n * @returns {Boolean} whether or not the annotation belongs to the provided layer and image\r\n */\r\nexport function annotBelongsToLayer(annot, layer, slices=null) {\r\n  if(slices && !slices.includes(annot.slice)) {\r\n    return false;\r\n  }\r\n  let isReviewed = annot.type === AnnotationType.REVIEWED;\r\n  return layer.isReview ? isReviewed : (!isReviewed && annot.user === layer.id);\r\n}\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<vl-layer-vector\r\n  :visible=\"layer.visible\"\r\n  :extent=\"imageExtent\"\r\n  :update-while-interacting=\"false\"\r\n>\r\n\r\n  <vl-source-vector\r\n    ref=\"olSource\"\r\n    :loader-factory=\"loaderFactory\"\r\n    :strategy-factory=\"strategyFactory\"\r\n    url=\"-\"\r\n  > <!-- HACK because loader factory not used if URL not specified -->\r\n    <vl-style-func :factory=\"styleFunctionFactory\" />\r\n  </vl-source-vector>\r\n\r\n</vl-layer-vector>\r\n</template>\r\n\r\n<script>\r\nimport WKT from 'ol/format/WKT';\r\nimport {AnnotationCollection} from 'cytomine-client';\r\nimport {annotBelongsToLayer} from '@/utils/annotation-utils';\r\n\r\nexport default {\r\n  name: 'annotation-layer',\r\n  props: {\r\n    index: String,\r\n    layer: Object\r\n  },\r\n  data() {\r\n    return {\r\n      format: new WKT(),\r\n\r\n      resolution: null,\r\n      lastExtent: null,\r\n      clustered: null,\r\n      maxResolutionNoClusters: null\r\n    };\r\n  },\r\n  computed: {\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    slices() {\r\n      return this.imageWrapper.activeSlices;\r\n    },\r\n    sliceIds() {\r\n      return this.slices.map(slice => slice.id);\r\n    },\r\n    annotsIdsToSelect() {\r\n      return this.imageWrapper.selectedFeatures.annotsToSelect.map(annot => annot.id);\r\n    },\r\n    imageExtent() {\r\n      return [0, 0, this.image.width, this.image.height];\r\n    },\r\n    selectedFeatures() {\r\n      return this.imageWrapper.selectedFeatures.selectedFeatures;\r\n    },\r\n    ongoingEdit() {\r\n      return this.imageWrapper.draw.ongoingEdit;\r\n    },\r\n    terms() {\r\n      return this.imageWrapper.style.terms || [];\r\n    },\r\n    styleFunctionFactory() {\r\n      // Force computed property update when one of those properties change (leading to new style function =>\r\n      // rerendering - see https://github.com/ghettovoice/vuelayers/issues/68#issuecomment-404223423)\r\n      this.imageWrapper.selectedFeatures.selectedFeatures;\r\n      this.imageWrapper.style.layersOpacity;\r\n      this.terms.forEach(term => {\r\n        term.visible;\r\n        term.color;\r\n        term.opacity;\r\n      });\r\n      this.imageWrapper.style.displayNoTerm;\r\n      this.imageWrapper.style.noTermOpacity;\r\n      this.imageWrapper.properties.selectedPropertyKey;\r\n      this.imageWrapper.properties.selectedPropertyColor;\r\n      this.imageWrapper.review.reviewMode;\r\n      this.imageWrapper.style.wrappedTracks.forEach(track => {\r\n        track.color;\r\n      });\r\n\r\n      return () => {\r\n        return this.$store.getters[this.imageModule + 'genStyleFunction'];\r\n      };\r\n    },\r\n    reviewMode() {\r\n      return this.imageWrapper.review.reviewMode;\r\n    }\r\n  },\r\n  watch: {\r\n    reviewMode() { // in review mode, reviewed annotation no longer displayed => need to force reload\r\n      this.clearFeatures();\r\n    }\r\n  },\r\n  methods: {\r\n    clearFeatures(cache=true) {\r\n      if(this.$refs.olSource) {\r\n        this.$store.commit(this.imageModule + 'removeLayerFromSelectedFeatures', {layer: this.layer, cache});\r\n        this.$refs.olSource.clearFeatures();\r\n      }\r\n    },\r\n\r\n    annotBelongsToLayer(annot) {\r\n      return annotBelongsToLayer(annot, this.layer, this.sliceIds);\r\n    },\r\n\r\n    addAnnotationHandler(annot) {\r\n      if(this.annotBelongsToLayer(annot) && this.$refs.olSource) {\r\n        this.$refs.olSource.addFeature(this.createFeature(annot));\r\n      }\r\n    },\r\n    selectAnnotationHandler({annot, index}) {\r\n      if(index === this.index && this.annotBelongsToLayer(annot) && this.$refs.olSource) {\r\n        let olFeature = this.$refs.olSource.getFeatureById(annot.id);\r\n        if(!olFeature) {\r\n          this.$store.commit(this.imageModule + 'setAnnotToSelect', annot);\r\n        }\r\n        else {\r\n          this.$store.dispatch(this.imageModule + 'selectFeature', olFeature);\r\n        }\r\n      }\r\n    },\r\n    reloadAnnotationsHandler({idImage, clear=false, hard=false}={}) {\r\n      if(!idImage || idImage === this.image.id) {\r\n        if(clear) {\r\n          this.clearFeatures();\r\n        }\r\n        else if(hard) {\r\n          this.clearFeatures(false);\r\n          this.loader();\r\n        }\r\n        else {\r\n          this.loader();\r\n        }\r\n      }\r\n    },\r\n    reviewAnnotationHandler(annot) {\r\n      if(this.reviewMode) { // if the image is in review mode, reviewed annotation should no longer be displayed on user layer => call delete handler\r\n        this.deleteAnnotationHandler(annot);\r\n      }\r\n    },\r\n    editAnnotationHandler(annot) {\r\n      if(this.annotBelongsToLayer(annot) && this.$refs.olSource) {\r\n        let olFeature = this.$refs.olSource.getFeatureById(annot.id);\r\n        if(!olFeature) {\r\n          return;\r\n        }\r\n        olFeature.setGeometry(this.format.readGeometry(annot.location));\r\n        olFeature.set('annot', annot);\r\n\r\n        let indexSelectedFeature = this.selectedFeatures.findIndex(ftr => ftr.id === annot.id);\r\n        if(indexSelectedFeature >= 0) {\r\n          this.$store.commit(this.imageModule + 'changeAnnotSelectedFeature', {\r\n            indexFeature: indexSelectedFeature,\r\n            annot\r\n          });\r\n        }\r\n      }\r\n    },\r\n    deleteAnnotationHandler(annot) {\r\n      if(this.annotBelongsToLayer(annot) && this.$refs.olSource) {\r\n        let olFeature = this.$refs.olSource.getFeatureById(annot.id);\r\n        if(!olFeature) {\r\n          return;\r\n        }\r\n        this.$refs.olSource.removeFeature(olFeature);\r\n\r\n        if(this.selectedFeatures.some(ftr => ftr.id === annot.id)) {\r\n          this.$store.commit(this.imageModule + 'clearSelectedFeatures');\r\n        }\r\n      }\r\n    },\r\n\r\n    strategyFactory() {\r\n      return (extent, resolution) => {\r\n        this.lastExtent = extent;\r\n\r\n        if(this.$refs.olSource && this.resolution && this.clustered != null && ( // some features have already been loaded\r\n          !this.clustered && resolution > this.maxResolutionNoClusters // recluster\r\n                    || resolution !== this.resolution && this.clustered)) { // change of resolution while clustering\r\n\r\n          // clear loaded extents to force reloading features\r\n          this.$refs.olSource.$source.loadedExtentsRtree_.clear();\r\n        }\r\n\r\n        return [extent];\r\n      };\r\n    },\r\n\r\n    async fetchAnnots(extent) {\r\n      [0, 1].forEach(index => {\r\n        if(extent[index] < 0) {\r\n          extent[index] = 0;\r\n        }\r\n      });\r\n      [2, 3].forEach(index => {\r\n        if(this.imageExtent[index] < extent[index]) {\r\n          extent[index] = this.imageExtent[index];\r\n        }\r\n      });\r\n\r\n      let annots = await new AnnotationCollection({\r\n        user: !this.layer.isReview ? this.layer.id : null,\r\n        image: this.image.id,\r\n        slices: this.sliceIds,\r\n        reviewed: this.layer.isReview,\r\n        notReviewedOnly: !this.layer.isReview && this.reviewMode,\r\n        bbox: extent.join(),\r\n        showWKT: true,\r\n        showTerm: true,\r\n        showGIS: true,\r\n        showTrack: true,\r\n        kmeans: true\r\n      }).fetchAll();\r\n\r\n      return annots.array;\r\n    },\r\n\r\n    updateFeature(feature, annot) {\r\n      let indexSelectedFeature = this.selectedFeatures.findIndex(ftr => ftr.id === feature.getId());\r\n      let isFeatureSelected = indexSelectedFeature !== -1;\r\n\r\n      if(!annot) {\r\n        console.log(`Removing annot ${feature.getId()} in layer ${this.layer.id} (external action)`);\r\n        this.$refs.olSource.removeFeature(feature);\r\n        if(isFeatureSelected) {\r\n          this.$store.commit(this.imageModule + 'clearSelectedFeatures');\r\n        }\r\n        return;\r\n      }\r\n\r\n      let storedAnnot = feature.get('annot');\r\n      if(!this.clustered && annot.updated === storedAnnot.updated && this.sameTerms(annot.term, storedAnnot.term)) {\r\n        // no modification performed since feature was loaded\r\n        return;\r\n      }\r\n\r\n      if(isFeatureSelected) {\r\n        if(this.ongoingEdit) {\r\n          // if feature is selected and under modification, updating it may lead to conflict\r\n          console.log(`Skipping update of selected annot ${annot.id} in layer ${this.layer.id} (ongoing edit)`);\r\n          return;\r\n        }\r\n        console.log(`Updating selected annot ${annot.id} in layer ${this.layer.id} (external action)`);\r\n        this.$store.commit(this.imageModule + 'changeAnnotSelectedFeature', {\r\n          indexFeature: indexSelectedFeature,\r\n          annot\r\n        });\r\n      }\r\n\r\n      console.log(`Updating annot ${annot.id} in layer ${this.layer.id} (external action)`);\r\n      feature.set('annot', annot);\r\n      feature.setGeometry(this.format.readGeometry(annot.location));\r\n    },\r\n\r\n    async loader(extent=this.lastExtent, resolution=this.resolution) {\r\n      this.resolution = resolution;\r\n\r\n      if(!this.layer.visible || !extent) {\r\n        return;\r\n      }\r\n\r\n      let arrayAnnots;\r\n      try {\r\n        arrayAnnots = await this.fetchAnnots(extent);\r\n        // Order by size, so bigger ones are always sent to back\r\n        arrayAnnots.sort(\r\n          function( a, b ) {\r\n            if( a.area < b.area ) return 1;\r\n            else return -1;\r\n          }\r\n        );\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-fetch-annotations-viewer')});\r\n        return;\r\n      }\r\n\r\n      if(!this.$refs.olSource) {\r\n        return;\r\n      }\r\n\r\n      let wasClustered = this.clustered;\r\n      if(arrayAnnots.length) {\r\n        this.clustered = (arrayAnnots[0].count != null);\r\n        if(!this.clustered && resolution > this.maxResolutionNoClusters) {\r\n          this.maxResolutionNoClusters = resolution;\r\n        }\r\n      }\r\n\r\n      let annots = arrayAnnots.reduce((obj, annot) => {\r\n        obj[annot.id] = annot;\r\n        return obj;\r\n      }, {});\r\n      let seenAnnots = [];\r\n\r\n      if(wasClustered !== null && wasClustered !== this.clustered) {\r\n        this.clearFeatures(); // clearing features will retrigger the loader\r\n      }\r\n      else {\r\n        let features = this.clustered ? this.$refs.olSource.$source.getFeatures()\r\n          : this.$refs.olSource.$source.getFeaturesInExtent(extent);\r\n\r\n        features.forEach(feature => {\r\n          this.updateFeature(feature, annots[feature.getId()]);\r\n          seenAnnots.push(feature.getId());\r\n        });\r\n      }\r\n\r\n      arrayAnnots.forEach(annot => {\r\n        if(!seenAnnots.includes(annot.id)) {\r\n          this.$refs.olSource.addFeature(this.createFeature(annot));\r\n        }\r\n      });\r\n    },\r\n\r\n    loaderFactory() {\r\n      return (extent, resolution) => this.loader(extent, resolution);\r\n    },\r\n\r\n    createFeature(annot) {\r\n      let feature = this.format.readFeature(annot.location);\r\n      feature.setId(annot.id);\r\n      feature.set('annot', annot);\r\n\r\n      if(this.annotsIdsToSelect.includes(annot.id)) {\r\n        this.$store.dispatch(this.imageModule + 'selectFeature', feature);\r\n      }\r\n\r\n      return feature;\r\n    },\r\n\r\n    sameTerms(terms1, terms2) {\r\n      if(terms1.length !== terms2.length) {\r\n        return false;\r\n      }\r\n      return terms1.every(term => terms2.includes(term));\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('addAnnotation', this.addAnnotationHandler);\r\n    this.$eventBus.$on('selectAnnotationInLayer', this.selectAnnotationHandler);\r\n    this.$eventBus.$on('reloadAnnotations', this.reloadAnnotationsHandler);\r\n    this.$eventBus.$on('reviewAnnotation', this.reviewAnnotationHandler);\r\n    this.$eventBus.$on('editAnnotation', this.editAnnotationHandler);\r\n    this.$eventBus.$on('deleteAnnotation', this.deleteAnnotationHandler);\r\n  },\r\n  beforeDestroy() {\r\n    // unsubscribe from all events\r\n    this.$eventBus.$off('addAnnotation', this.addAnnotationHandler);\r\n    this.$eventBus.$off('selectAnnotationInLayer', this.selectAnnotationHandler);\r\n    this.$eventBus.$off('reloadAnnotations', this.reloadAnnotationsHandler);\r\n    this.$eventBus.$off('reviewAnnotation', this.reviewAnnotationHandler);\r\n    this.$eventBus.$off('editAnnotation', this.editAnnotationHandler);\r\n    this.$eventBus.$off('deleteAnnotation', this.deleteAnnotationHandler);\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationLayer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AnnotationLayer.vue?vue&type=template&id=59a9a65d\"\nimport script from \"./AnnotationLayer.vue?vue&type=script&lang=js\"\nexport * from \"./AnnotationLayer.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"rotation-selector-wrapper\",class:{expanded: _vm.expanded}},[_c('div',{staticClass:\"ol-rotate ol-unselectable ol-control custom\"},[_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.expanded = true}}},[_c('span',{staticClass:\"ol-compass\",style:({transform: `rotate(${_vm.rotation}rad)`})},[_vm._v(\"\")])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}]},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"rotation-controls\"},[_c('b-field',[_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.degreesRotation = 0}}},[_vm._v(_vm._s(_vm.$t('button-reset')))])]),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.increment(90)}}},[_vm._v(\"+90\")])]),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.increment(-90)}}},[_vm._v(\"-90\")])])])],1),_c('button',{staticClass:\"delete is-small\",on:{\"click\":function($event){_vm.expanded=false}}})]),_c('cytomine-slider',{attrs:{\"max\":360,\"integerOnly\":false,\"lazy\":false},model:{value:(_vm.degreesRotation),callback:function ($$v) {_vm.degreesRotation=$$v},expression:\"degreesRotation\"}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"rotation-selector-wrapper\" :class=\"{expanded}\">\r\n  <div class=\"ol-rotate ol-unselectable ol-control custom\">\r\n    <button type=\"button\" @click=\"expanded = true\">\r\n      <span class=\"ol-compass\" :style=\"{transform: `rotate(${rotation}rad)`}\"></span>\r\n    </button>\r\n  </div>\r\n  <div v-show=\"expanded\">\r\n    <div class=\"top\">\r\n      <div class=\"rotation-controls\">\r\n        <b-field>\r\n          <p class=\"control\">\r\n            <button class=\"button is-small\" @click=\"degreesRotation = 0\">{{$t('button-reset')}}</button>\r\n          </p>\r\n          <p class=\"control\">\r\n            <button class=\"button is-small\" @click=\"increment(90)\">+90</button>\r\n          </p>\r\n          <p class=\"control\">\r\n            <button class=\"button is-small\" @click=\"increment(-90)\">-90</button>\r\n          </p>\r\n        </b-field>\r\n      </div>\r\n      <button class=\"delete is-small\" @click=\"expanded=false\"></button>\r\n    </div>\r\n    <cytomine-slider v-model=\"degreesRotation\" :max=\"360\" :integerOnly=\"false\" :lazy=\"false\" />\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport CytomineSlider from '@/components/form/CytomineSlider';\r\n\r\nexport default {\r\n  name: 'rotation-selector',\r\n  components: {CytomineSlider},\r\n  props: {\r\n    index: String\r\n  },\r\n  data() {\r\n    return {\r\n      expanded: false\r\n    };\r\n  },\r\n  computed: {\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    rotation() {\r\n      return this.imageWrapper.view.rotation;\r\n    },\r\n    degreesRotation: {\r\n      get() {\r\n        return Math.round(this.rotation * 180 / Math.PI * 1000) / 1000;\r\n      },\r\n      set(value) {\r\n        this.$store.dispatch(this.viewerModule + 'setRotation', {\r\n          index: this.index,\r\n          rotation: Number(value) / 180 * Math.PI\r\n        });\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    increment(inc) {\r\n      this.degreesRotation = (this.degreesRotation + inc + 360) % 360;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.rotation-selector-wrapper {\r\n  border-radius: 2px;\r\n  box-shadow: 0 0 1px #777;\r\n  background: white;\r\n  margin-left: 2px;\r\n}\r\n\r\n.rotation-selector-wrapper.expanded {\r\n  min-width: 16.5em;\r\n  padding-top: 0.4em;\r\n  min-height: 6em;\r\n}\r\n\r\n.rotation-selector-wrapper.expanded .ol-control button {\r\n  cursor: initial;\r\n}\r\n\r\n.rotation-selector-wrapper .ol-control {\r\n  padding: 0;\r\n}\r\n\r\n.rotation-selector-wrapper.expanded .ol-control button {\r\n  box-shadow: none;\r\n}\r\n\r\n.ol-rotate.ol-control {\r\n  left: 0 !important;\r\n  top: 0 !important;\r\n}\r\n\r\n.top {\r\n  margin: 0em 0.4em 0.75em 1.8em;\r\n  display: flex;\r\n}\r\n\r\n.top .rotation-controls {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-left: 1em;\r\n  margin-right: 1em;\r\n  margin-top: 0.5em;\r\n}\r\n\r\n.top .delete {\r\n  z-index: 20 !important;\r\n}\r\n</style>\r\n\r\n<style>\r\n.rotation-selector-wrapper .vue-slider {\r\n  margin-left: 1em;\r\n  margin-right: 1em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotationSelector.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotationSelector.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RotationSelector.vue?vue&type=template&id=3ef9c304&scoped=true\"\nimport script from \"./RotationSelector.vue?vue&type=script&lang=js\"\nexport * from \"./RotationSelector.vue?vue&type=script&lang=js\"\nimport style0 from \"./RotationSelector.vue?vue&type=style&index=0&id=3ef9c304&prod&scoped=true&lang=css\"\nimport style1 from \"./RotationSelector.vue?vue&type=style&index=1&id=3ef9c304&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ef9c304\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"scale-line\",class:{'interpolation': _vm.interpolation}},[_c('div',{staticClass:\"scale-line-top\",style:({width: _vm.scaleLineLength + 'px'})},[_vm._v(\" \"+_vm._s(_vm.scaleLength)+\" \")]),_c('div',{staticClass:\"scale-line-bottom\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.magnification),expression:\"magnification\"}]},[_vm._v(\" \"+_vm._s(_vm.$t('magnification'))+\": \"+_vm._s(_vm.magnification)+\"X \")])]),(_vm.mousePosition)?_c('div',{staticClass:\"scale-line-position\"},[_c('div',{staticStyle:{\"float\":\"left\"}},[_vm._v(\"x: \"+_vm._s(Math.round(_vm.mousePosition[0])))]),_c('div',{staticStyle:{\"float\":\"right\"}},[_vm._v(\"y: \"+_vm._s(Math.round(_vm.mousePosition[1])))])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"scale-line\" :class=\"{'interpolation': interpolation}\">\r\n  <div class=\"scale-line-top\" :style=\"{width: scaleLineLength + 'px'}\">\r\n    {{scaleLength}}\r\n  </div>\r\n  <div class=\"scale-line-bottom\">\r\n    <span v-show=\"magnification\">\r\n      {{$t('magnification')}}: {{magnification}}X\r\n    </span>\r\n  </div>\r\n\r\n  <div class=\"scale-line-position\" v-if=\"mousePosition\">\r\n    <div style=\"float: left;\">x: {{Math.round(mousePosition[0])}}</div>\r\n    <div style=\"float: right;\">y: {{Math.round(mousePosition[1])}}</div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'scale-line',\r\n  props: {\r\n    image: Object,\r\n    zoom: Number,\r\n    mousePosition: Array\r\n  },\r\n  data() {\r\n    return {\r\n      scaleLineLength: 100\r\n    };\r\n  },\r\n  computed: {\r\n    magnification() {\r\n      let magnification = Math.pow(2, this.zoom - this.image.zoom) * this.image.magnification;\r\n      return Math.round(magnification * 100) / 100;\r\n    },\r\n    resolution() {\r\n      let resolution = this.image.physicalSizeX ? this.image.physicalSizeX : 1;\r\n      return Math.pow(2, this.image.zoom - this.zoom) * resolution;\r\n    },\r\n    scaleLength() {\r\n      let length = this.scaleLineLength * this.resolution;\r\n      if(this.image.physicalSizeX) {\r\n        let unit = this.$t('um');\r\n        if (length > 1000) {\r\n          length /= 1000;\r\n          unit = this.$t('mm');\r\n        }\r\n        return `${length.toPrecision(3)} ${unit}`;\r\n      }\r\n      else {\r\n        return `${Math.round(length*1000) / 1000} ${this.$t('pixels')}`;\r\n      }\r\n    },\r\n    interpolation() {\r\n      return this.zoom > this.image.zoom;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.scale-line {\r\n  background: white;\r\n  position: absolute;\r\n  padding: 0.4em 0.8em;\r\n  display: block;\r\n  right: 4rem;\r\n  bottom: 1rem;\r\n  font-size: 9px;\r\n  font-family: Helvetica;\r\n  min-width: 100px;\r\n}\r\n\r\n.scale-line-top {\r\n  margin-top: 0.5em;\r\n  box-sizing: content-box;\r\n  border: 2px solid black;\r\n  border-top: none;\r\n  text-align: center;\r\n  padding-bottom: 0.2em;\r\n}\r\n\r\n.scale-line-bottom {\r\n  box-sizing: content-box;\r\n  border: 2px solid black;\r\n  border-top: none;\r\n  border-bottom: none;\r\n  text-align: center;\r\n  padding-top: 0.2em;\r\n  margin-bottom: 1em;\r\n  min-height: 1em;\r\n}\r\n\r\n.interpolation {\r\n  color: red;\r\n}\r\n\r\n.interpolation .scale-line-top, .interpolation .scale-line-bottom {\r\n  border-color: red;\r\n}\r\n\r\n.scale-line-position {\r\n  text-align: center;\r\n  padding: 0 0.5em;\r\n  color: black !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaleLine.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaleLine.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ScaleLine.vue?vue&type=template&id=543499ef&scoped=true\"\nimport script from \"./ScaleLine.vue?vue&type=script&lang=js\"\nexport * from \"./ScaleLine.vue?vue&type=script&lang=js\"\nimport style0 from \"./ScaleLine.vue?vue&type=style&index=0&id=543499ef&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"543499ef\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"draw-tools-wrapper\"},[(_vm.isToolDisplayed('select'))?_c('div',{staticClass:\"buttons has-addons are-small\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('select')),expression:\"$t('select')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'select'},on:{\"click\":function($event){return _vm.activateTool('select')}}},[_vm._m(0)])]):_vm._e(),(!_vm.reviewMode)?[(_vm.terms && _vm.terms.length > 0)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(() => _vm.showTermSelector = false),expression:\"() => showTermSelector = false\"}],staticClass:\"buttons has-addons are-small term-selection\",class:{'has-preview': _vm.termsToAssociate.length > 0}},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('terms-new-annotation')),expression:\"$t('terms-new-annotation')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.disabledDraw,\"title\":_vm.disabledDrawMessage},on:{\"click\":function($event){_vm.showTermSelector = !_vm.showTermSelector}}},[_vm._m(1)]),_c('div',{staticClass:\"color-preview\",style:({background: _vm.backgroundTermsNewAnnot})},[(_vm.termsToAssociate.length > 1)?_c('span',[_vm._v(_vm._s(_vm.termsToAssociate.length))]):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTermSelector),expression:\"showTermSelector\"}],staticClass:\"ontology-tree-container\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"size\":\"is-small\"},model:{value:(_vm.searchStringTerm),callback:function ($$v) {_vm.searchStringTerm=$$v},expression:\"searchStringTerm\"}}),_c('ontology-tree',{staticClass:\"ontology-tree\",attrs:{\"ontology\":_vm.ontology,\"searchString\":_vm.searchStringTerm},model:{value:(_vm.termsToAssociate),callback:function ($$v) {_vm.termsToAssociate=$$v},expression:\"termsToAssociate\"}})],1)]):_vm._e(),(_vm.tracks && _vm.maxRank > 1)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(() => _vm.showTrackSelector = false),expression:\"() => showTrackSelector = false\"}],staticClass:\"buttons has-addons are-small track-selection\",class:{'has-preview': _vm.tracksToAssociate.length > 0}},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('tracks-new-annotation')),expression:\"$t('tracks-new-annotation')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.disabledDraw,\"title\":_vm.disabledDrawMessage},on:{\"click\":function($event){_vm.showTrackSelector = !_vm.showTrackSelector}}},[_vm._m(2)]),_c('div',{staticClass:\"color-preview\",style:({'border-color': _vm.backgroundTracksNewAnnot})},[(_vm.tracksToAssociate.length > 1)?_c('span',[_vm._v(_vm._s(_vm.tracksToAssociate.length))]):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTrackSelector),expression:\"showTrackSelector\"}],staticClass:\"tracks-tree-container\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"size\":\"is-small\"},model:{value:(_vm.searchStringTrack),callback:function ($$v) {_vm.searchStringTrack=$$v},expression:\"searchStringTrack\"}}),_c('track-tree',{staticClass:\"track-tree\",attrs:{\"tracks\":_vm.tracks,\"searchString\":_vm.searchStringTrack,\"allow-new\":true,\"allow-edition\":true,\"image\":_vm.image},on:{\"newTrack\":_vm.refreshTracks,\"updatedTrack\":_vm.refreshTracks,\"deletedTrack\":_vm.refreshTracks},model:{value:(_vm.tracksToAssociate),callback:function ($$v) {_vm.tracksToAssociate=$$v},expression:\"tracksToAssociate\"}})],1)]):_vm._e(),_c('div',{staticClass:\"buttons has-addons are-small\"},[(_vm.isToolDisplayed('point'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('point')),expression:\"$t('point')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'point'},attrs:{\"disabled\":_vm.disabledDraw,\"title\":_vm.disabledDrawMessage},on:{\"click\":function($event){return _vm.activateTool('point')}}},[_vm._m(3)]):_vm._e(),(_vm.isToolDisplayed('line'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('line')),expression:\"$t('line')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'line'},attrs:{\"disabled\":_vm.disabledDraw,\"title\":_vm.disabledDrawMessage},on:{\"click\":function($event){return _vm.activateTool('line')}}},[_vm._m(4)]):_vm._e(),(_vm.isToolDisplayed('freehand-line'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('freehand-line')),expression:\"$t('freehand-line')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'freehand-line'},attrs:{\"disabled\":_vm.disabledDraw,\"title\":_vm.disabledDrawMessage},on:{\"click\":function($event){return _vm.activateTool('freehand-line')}}},[_c('span',{staticClass:\"icon is-small\"},[_c('icon-line-free-hand')],1)]):_vm._e(),(_vm.isToolDisplayed('rectangle'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('rectangle')),expression:\"$t('rectangle')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'rectangle'},attrs:{\"disabled\":_vm.disabledDraw,\"title\":_vm.disabledDrawMessage},on:{\"click\":function($event){return _vm.activateTool('rectangle')}}},[_vm._m(5)]):_vm._e(),(_vm.isToolDisplayed('circle'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('circle')),expression:\"$t('circle')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'circle'},attrs:{\"disabled\":_vm.disabledDraw,\"title\":_vm.disabledDrawMessage},on:{\"click\":function($event){return _vm.activateTool('circle')}}},[_vm._m(6)]):_vm._e(),(_vm.isToolDisplayed('polygon'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('polygon')),expression:\"$t('polygon')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'polygon'},attrs:{\"disabled\":_vm.disabledDraw,\"title\":_vm.disabledDrawMessage},on:{\"click\":function($event){return _vm.activateTool('polygon')}}},[_vm._m(7)]):_vm._e(),(_vm.isToolDisplayed('freehand-polygon'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('freehand-polygon')),expression:\"$t('freehand-polygon')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'freehand-polygon'},attrs:{\"disabled\":_vm.disabledDraw,\"title\":_vm.disabledDrawMessage},on:{\"click\":function($event){return _vm.activateTool('freehand-polygon')}}},[_c('span',{staticClass:\"icon is-small\"},[_c('icon-polygon-free-hand')],1)]):_vm._e()])]:[_c('div',{staticClass:\"buttons has-addons are-small\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('validate-annotation')),expression:\"$t('validate-annotation')\"}],staticClass:\"button\",class:{'is-success': !_vm.isToolDisabled('accept')},attrs:{\"disabled\":_vm.isToolDisabled('accept')},on:{\"click\":function($event){return _vm.accept()}}},[_vm._m(8)]),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('reject-annotation')),expression:\"$t('reject-annotation')\"}],staticClass:\"button\",class:{'is-danger': !_vm.isToolDisabled('reject')},attrs:{\"disabled\":_vm.isToolDisabled('reject')},on:{\"click\":function($event){return _vm.reject()}}},[_vm._m(9)])])],_c('div',{staticClass:\"buttons has-addons are-small\"},[(_vm.isToolDisplayed('screenshot'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('screenshot')),expression:\"$t('screenshot')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.disabledDraw},on:{\"click\":function($event){return _vm.takeScreenshot()}}},[_vm._m(10)]):_vm._e()]),(_vm.configUI['project-explore-annotation-main'])?_c('div',{staticClass:\"buttons has-addons are-small\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('display-annot-details')),expression:\"$t('display-annot-details')\"}],staticClass:\"button\",class:{'is-selected': _vm.displayAnnotDetails && _vm.selectedFeature},attrs:{\"disabled\":!_vm.selectedFeature},on:{\"click\":function($event){_vm.displayAnnotDetails = !_vm.displayAnnotDetails}}},[_vm._m(11)])]):_vm._e(),_c('div',{staticClass:\"buttons has-addons are-small\"},[(_vm.isToolDisplayed('fill'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('fill')),expression:\"$t('fill')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.isToolDisabled('fill')},on:{\"click\":function($event){return _vm.fill()}}},[_vm._m(12)]):_vm._e(),(_vm.isToolDisplayed('edit'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('modify')),expression:\"$t('modify')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeEditTool === 'modify'},attrs:{\"disabled\":_vm.isToolDisabled('edit')},on:{\"click\":function($event){return _vm.activateEditTool('modify')}}},[_vm._m(13)]):_vm._e(),(_vm.isToolDisplayed('union'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('freehand-correct-add')),expression:\"$t('freehand-correct-add')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeEditTool === 'correct-add'},attrs:{\"disabled\":_vm.isToolDisabled('correct-add')},on:{\"click\":function($event){return _vm.activateEditTool('correct-add')}}},[_vm._m(14)]):_vm._e(),(_vm.isToolDisplayed('diff'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('freehand-correct-remove')),expression:\"$t('freehand-correct-remove')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeEditTool === 'correct-remove'},attrs:{\"disabled\":_vm.isToolDisabled('correct-remove')},on:{\"click\":function($event){return _vm.activateEditTool('correct-remove')}}},[_vm._m(15)]):_vm._e(),(_vm.isToolDisplayed('move'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('move')),expression:\"$t('move')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeEditTool === 'translate'},attrs:{\"disabled\":_vm.isToolDisabled('move')},on:{\"click\":function($event){return _vm.activateEditTool('translate')}}},[_vm._m(16)]):_vm._e(),(_vm.isToolDisplayed('resize'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('rescale')),expression:\"$t('rescale')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeEditTool === 'rescale'},attrs:{\"disabled\":_vm.isToolDisabled('resize')},on:{\"click\":function($event){return _vm.activateEditTool('rescale')}}},[_vm._m(17)]):_vm._e(),(_vm.isToolDisplayed('rotate'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('rotate')),expression:\"$t('rotate')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeEditTool === 'rotate'},attrs:{\"disabled\":_vm.isToolDisabled('rotate')},on:{\"click\":function($event){return _vm.activateEditTool('rotate')}}},[_vm._m(18)]):_vm._e(),(_vm.isToolDisplayed('delete'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('delete')),expression:\"$t('delete')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.isToolDisabled('delete')},on:{\"click\":function($event){return _vm.confirmDeletion()}}},[_vm._m(19)]):_vm._e()]),(_vm.isToolDisplayed('copy-paste'))?_c('div',{staticClass:\"buttons has-addons are-small\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('copy')),expression:\"$t('copy')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.isToolDisabled('copy')},on:{\"click\":function($event){return _vm.copy()}}},[_vm._m(20)]),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('paste')),expression:\"$t('paste')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.disabledPaste},on:{\"click\":function($event){return _vm.paste()}}},[_vm._m(21)]),(_vm.maxRepeats > 0)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(() => _vm.showRepeatSelector = false),expression:\"() => showRepeatSelector = false\"}],staticClass:\"special-paste-selection\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('paste-repeat')),expression:\"$t('paste-repeat')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.disabledPaste},on:{\"click\":function($event){_vm.showRepeatSelector = !_vm.showRepeatSelector}}},[_vm._m(22)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRepeatSelector),expression:\"showRepeatSelector\"}],staticClass:\"special-paste-container\"},[_c('div',{staticClass:\"panel\"},[_c('div',{staticClass:\"panel-block\"},[_c('p',[_c('i18n',{attrs:{\"path\":\"paste-repeat-info\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nbRepeats),expression:\"nbRepeats\"}],staticClass:\"repeat-input\",attrs:{\"type\":\"number\",\"place\":\"input\",\"min\":\"1\",\"max\":_vm.maxRepeats},domProps:{\"value\":(_vm.nbRepeats)},on:{\"input\":function($event){if($event.target.composing)return;_vm.nbRepeats=$event.target.value}}})]),_c('br')],1),_c('div',{staticClass:\"repeat-button-container\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.repeat()}}},[_vm._v(_vm._s(_vm.$t('paste-repeat')))])])])])])]):_vm._e()]):_vm._e(),(_vm.isToolDisplayed('undo-redo'))?_c('div',{staticClass:\"buttons has-addons are-small\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('undo')),expression:\"$t('undo')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.actions.length === 0},on:{\"click\":function($event){return _vm.undo()}}},[_vm._m(23)]),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('redo')),expression:\"$t('redo')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.undoneActions.length === 0},on:{\"click\":function($event){return _vm.redo()}}},[_vm._m(24)])]):_vm._e()],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-mouse-pointer\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-hashtag\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-route\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-map-pin\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-minus\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"far fa-square\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"far fa-circle\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-draw-polygon\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-check\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-minus\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-camera\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-info\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-fill\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-edit\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"superscript fas fa-plus\"}),_c('i',{staticClass:\"fas fa-pencil-alt\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"superscript fas fa-minus\"}),_c('i',{staticClass:\"fas fa-pencil-alt\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-arrows-alt\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-expand\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-sync-alt\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"far fa-trash-alt\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-copy\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-paste\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-paste\"}),_c('i',{staticClass:\"fas fa-star special-paste-icon\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-undo\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-redo\"})])\n}]\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"draw-tools-wrapper\">\r\n  <div class=\"buttons has-addons are-small\" v-if=\"isToolDisplayed('select')\">\r\n    <button\r\n      v-tooltip=\"$t('select')\"\r\n      class=\"button\"\r\n      :class=\"{'is-selected': activeTool === 'select'}\"\r\n      @click=\"activateTool('select')\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-mouse-pointer\"></i></span>\r\n    </button>\r\n  </div>\r\n\r\n  <template v-if=\"!reviewMode\"> <!-- drawing new annotations forbidden while reviewing -->\r\n    <div\r\n      v-if=\"terms && terms.length > 0\"\r\n      class=\"buttons has-addons are-small term-selection\"\r\n      :class=\"{'has-preview': termsToAssociate.length > 0}\"\r\n      v-click-outside=\"() => showTermSelector = false\"\r\n    >\r\n      <button\r\n        v-tooltip=\"$t('terms-new-annotation')\"\r\n        class=\"button\"\r\n        :disabled=\"disabledDraw\"\r\n        @click=\"showTermSelector = !showTermSelector\"\r\n        :title=\"disabledDrawMessage\"\r\n      >\r\n        <span class=\"icon is-small\"><i class=\"fas fa-hashtag\"></i></span>\r\n      </button>\r\n\r\n      <div class=\"color-preview\" :style=\"{background: backgroundTermsNewAnnot}\">\r\n        <span v-if=\"termsToAssociate.length > 1\">{{termsToAssociate.length}}</span>\r\n      </div>\r\n\r\n      <div class=\"ontology-tree-container\" v-show=\"showTermSelector\">\r\n        <b-input v-model=\"searchStringTerm\" :placeholder=\"$t('search-placeholder')\" size=\"is-small\" />\r\n        <ontology-tree\r\n          class=\"ontology-tree\"\r\n          v-model=\"termsToAssociate\"\r\n          :ontology=\"ontology\"\r\n          :searchString=\"searchStringTerm\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div\r\n      v-if=\"tracks && maxRank > 1\"\r\n      class=\"buttons has-addons are-small track-selection\"\r\n      :class=\"{'has-preview': tracksToAssociate.length > 0}\"\r\n      v-click-outside=\"() => showTrackSelector = false\"\r\n    >\r\n      <button\r\n        v-tooltip=\"$t('tracks-new-annotation')\"\r\n        class=\"button\"\r\n        :disabled=\"disabledDraw\"\r\n        @click=\"showTrackSelector = !showTrackSelector\"\r\n        :title=\"disabledDrawMessage\"\r\n      >\r\n        <span class=\"icon is-small\"><i class=\"fas fa-route\"></i></span>\r\n      </button>\r\n\r\n      <div class=\"color-preview\" :style=\"{'border-color': backgroundTracksNewAnnot}\">\r\n        <span v-if=\"tracksToAssociate.length > 1\">{{tracksToAssociate.length}}</span>\r\n      </div>\r\n\r\n      <div class=\"tracks-tree-container\" v-show=\"showTrackSelector\">\r\n        <b-input v-model=\"searchStringTrack\" :placeholder=\"$t('search-placeholder')\" size=\"is-small\" />\r\n        <track-tree\r\n          class=\"track-tree\"\r\n          v-model=\"tracksToAssociate\"\r\n          :tracks=\"tracks\"\r\n          :searchString=\"searchStringTrack\"\r\n          :allow-new=\"true\"\r\n          :allow-edition=\"true\"\r\n          :image=\"image\"\r\n          @newTrack=\"refreshTracks\"\r\n          @updatedTrack=\"refreshTracks\"\r\n          @deletedTrack=\"refreshTracks\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"buttons has-addons are-small\">\r\n      <button\r\n        v-if=\"isToolDisplayed('point')\"\r\n        :disabled=\"disabledDraw\"\r\n        :title=\"disabledDrawMessage\"\r\n        v-tooltip=\"$t('point')\"\r\n        class=\"button\"\r\n        :class=\"{'is-selected': activeTool === 'point'}\"\r\n        @click=\"activateTool('point')\"\r\n      >\r\n        <span class=\"icon is-small\"><i class=\"fas fa-map-pin\"></i></span>\r\n      </button>\r\n\r\n      <button\r\n        v-if=\"isToolDisplayed('line')\"\r\n        :disabled=\"disabledDraw\"\r\n        :title=\"disabledDrawMessage\"\r\n        v-tooltip=\"$t('line')\"\r\n        class=\"button\"\r\n        :class=\"{'is-selected': activeTool === 'line'}\"\r\n        @click=\"activateTool('line')\"\r\n      >\r\n        <span class=\"icon is-small\"><i class=\"fas fa-minus\"></i></span>\r\n      </button>\r\n\r\n      <button\r\n        v-if=\"isToolDisplayed('freehand-line')\"\r\n        :disabled=\"disabledDraw\"\r\n        :title=\"disabledDrawMessage\"\r\n        v-tooltip=\"$t('freehand-line')\"\r\n        class=\"button\"\r\n        :class=\"{'is-selected': activeTool === 'freehand-line'}\"\r\n        @click=\"activateTool('freehand-line')\"\r\n      >\r\n        <span class=\"icon is-small\">\r\n          <icon-line-free-hand />\r\n        </span>\r\n      </button>\r\n\r\n      <!-- QUESTION: redefine expected behaviour\r\n      <button class=\"button\" :disabled=\"disabledDraw\" title=\"Arrow\"\r\n              @click=\"activateTool('arrow')\" :class=\"{'is-selected': activeTool === 'arrow'}\">\r\n          <span class=\"icon is-small\"><i class=\"fas fa-long-arrow-right\"></i></span>\r\n      </button> -->\r\n\r\n      <button\r\n        v-if=\"isToolDisplayed('rectangle')\"\r\n        :disabled=\"disabledDraw\"\r\n        :title=\"disabledDrawMessage\"\r\n        v-tooltip=\"$t('rectangle')\"\r\n        class=\"button\"\r\n        :class=\"{'is-selected': activeTool === 'rectangle'}\"\r\n        @click=\"activateTool('rectangle')\"\r\n      >\r\n        <span class=\"icon is-small\"><i class=\"far fa-square\"></i></span>\r\n      </button>\r\n\r\n      <button\r\n        v-if=\"isToolDisplayed('circle')\"\r\n        :disabled=\"disabledDraw\"\r\n        :title=\"disabledDrawMessage\"\r\n        v-tooltip=\"$t('circle')\"\r\n        class=\"button\"\r\n        :class=\"{'is-selected': activeTool === 'circle'}\"\r\n        @click=\"activateTool('circle')\"\r\n      >\r\n        <span class=\"icon is-small\"><i class=\"far fa-circle\"></i></span>\r\n      </button>\r\n\r\n      <button\r\n        v-if=\"isToolDisplayed('polygon')\"\r\n        :disabled=\"disabledDraw\"\r\n        :title=\"disabledDrawMessage\"\r\n        v-tooltip=\"$t('polygon')\"\r\n        class=\"button\"\r\n        :class=\"{'is-selected': activeTool === 'polygon'}\"\r\n        @click=\"activateTool('polygon')\"\r\n      >\r\n        <span class=\"icon is-small\"><i class=\"fas fa-draw-polygon\"></i></span>\r\n      </button>\r\n\r\n      <button\r\n        v-if=\"isToolDisplayed('freehand-polygon')\"\r\n        :disabled=\"disabledDraw\"\r\n        :title=\"disabledDrawMessage\"\r\n        v-tooltip=\"$t('freehand-polygon')\"\r\n        class=\"button\"\r\n        :class=\"{'is-selected': activeTool === 'freehand-polygon'}\"\r\n        @click=\"activateTool('freehand-polygon')\"\r\n      >\r\n        <span class=\"icon is-small\">\r\n          <icon-polygon-free-hand />\r\n        </span>\r\n      </button>\r\n    </div>\r\n  </template>\r\n\r\n  <template v-else>\r\n    <div class=\"buttons has-addons are-small\">\r\n      <button\r\n        :disabled=\"isToolDisabled('accept')\"\r\n        v-tooltip=\"$t('validate-annotation')\"\r\n        class=\"button\"\r\n        :class=\"{'is-success': !isToolDisabled('accept')}\"\r\n        @click=\"accept()\"\r\n      >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-check\"></i></span>\r\n    </button>\r\n    <button\r\n        :disabled=\"isToolDisabled('reject')\"\r\n        v-tooltip=\"$t('reject-annotation')\"\r\n        class=\"button\"\r\n        :class=\"{'is-danger': !isToolDisabled('reject')}\"\r\n        @click=\"reject()\"\r\n      >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-minus\"></i></span>\r\n    </button>\r\n    </div>\r\n  </template>\r\n  \r\n  <div class=\"buttons has-addons are-small\">\r\n      <button\r\n      v-if=\"isToolDisplayed('screenshot')\"\r\n      :disabled=\"disabledDraw\"\r\n      v-tooltip=\"$t('screenshot')\"\r\n      class=\"button\"\r\n      @click=\"takeScreenshot()\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-camera\"></i></span>\r\n    </button>\r\n  </div>\r\n\r\n  <div v-if=\"configUI['project-explore-annotation-main']\" class=\"buttons has-addons are-small\">\r\n    <button\r\n      :disabled=\"!selectedFeature\"\r\n      v-tooltip=\"$t('display-annot-details')\"\r\n      class=\"button\" :class=\"{'is-selected': displayAnnotDetails && selectedFeature}\"\r\n      @click=\"displayAnnotDetails = !displayAnnotDetails\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-info\"></i></span>\r\n    </button>\r\n  </div>\r\n\r\n  <div class=\"buttons has-addons are-small\">\r\n    <button\r\n      v-if=\"isToolDisplayed('fill')\"\r\n      :disabled=\"isToolDisabled('fill')\"\r\n      v-tooltip=\"$t('fill')\"\r\n      class=\"button\"\r\n      @click=\"fill()\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-fill\"></i></span>\r\n    </button>\r\n\r\n    <button\r\n      v-if=\"isToolDisplayed('edit')\"\r\n      :disabled=\"isToolDisabled('edit')\"\r\n      v-tooltip=\"$t('modify')\"\r\n      class=\"button\"\r\n      :class=\"{'is-selected': activeEditTool === 'modify'}\"\r\n      @click=\"activateEditTool('modify')\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-edit\"></i></span>\r\n    </button>\r\n\r\n    <button\r\n      v-if=\"isToolDisplayed('union')\"\r\n      :disabled=\"isToolDisabled('correct-add')\"\r\n      v-tooltip=\"$t('freehand-correct-add')\"\r\n      class=\"button\"\r\n      :class=\"{'is-selected': activeEditTool === 'correct-add'}\"\r\n      @click=\"activateEditTool('correct-add')\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"superscript fas fa-plus\"></i><i class=\"fas fa-pencil-alt\"></i></span>\r\n    </button>\r\n\r\n    <button\r\n      v-if=\"isToolDisplayed('diff')\"\r\n      :disabled=\"isToolDisabled('correct-remove')\"\r\n      v-tooltip=\"$t('freehand-correct-remove')\"\r\n      class=\"button\"\r\n      :class=\"{'is-selected': activeEditTool === 'correct-remove'}\"\r\n      @click=\"activateEditTool('correct-remove')\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"superscript fas fa-minus\"></i><i class=\"fas fa-pencil-alt\"></i></span>\r\n    </button>\r\n\r\n    <button\r\n      v-if=\"isToolDisplayed('move')\"\r\n      :disabled=\"isToolDisabled('move')\"\r\n      v-tooltip=\"$t('move')\"\r\n      class=\"button\"\r\n      :class=\"{'is-selected': activeEditTool === 'translate'}\"\r\n      @click=\"activateEditTool('translate')\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-arrows-alt\"></i></span>\r\n    </button>\r\n\r\n    <button\r\n        v-if=\"isToolDisplayed('resize')\"\r\n        :disabled=\"isToolDisabled('resize')\"\r\n        v-tooltip=\"$t('rescale')\"\r\n        class=\"button\"\r\n        :class=\"{'is-selected': activeEditTool === 'rescale'}\"\r\n        @click=\"activateEditTool('rescale')\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-expand\"></i></span>\r\n    </button>\r\n\r\n    <button\r\n      v-if=\"isToolDisplayed('rotate')\"\r\n      :disabled=\"isToolDisabled('rotate')\"\r\n      v-tooltip=\"$t('rotate')\"\r\n      class=\"button\"\r\n      :class=\"{'is-selected': activeEditTool === 'rotate'}\"\r\n      @click=\"activateEditTool('rotate')\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-sync-alt\"></i></span>\r\n    </button>\r\n\r\n    <button\r\n      v-if=\"isToolDisplayed('delete')\"\r\n      :disabled=\"isToolDisabled('delete')\"\r\n      v-tooltip=\"$t('delete')\"\r\n      class=\"button\"\r\n      @click=\"confirmDeletion()\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"far fa-trash-alt\"></i></span>\r\n    </button>\r\n  </div>\r\n\r\n  <div class=\"buttons has-addons are-small\" v-if=\"isToolDisplayed('copy-paste')\">\r\n    <button\r\n      :disabled=\"isToolDisabled('copy')\"\r\n      v-tooltip=\"$t('copy')\"\r\n      class=\"button\"\r\n      @click=\"copy()\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-copy\"></i></span>\r\n    </button>\r\n    <button\r\n      :disabled=\"disabledPaste\"\r\n      v-tooltip=\"$t('paste')\"\r\n      class=\"button\"\r\n      @click=\"paste()\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-paste\"></i></span>\r\n    </button>\r\n    <div class=\"special-paste-selection\" v-click-outside=\"() => showRepeatSelector = false\" v-if=\"maxRepeats > 0\">\r\n      <button\r\n        :disabled=\"disabledPaste\"\r\n        v-tooltip=\"$t('paste-repeat')\"\r\n        class=\"button\"\r\n        @click=\"showRepeatSelector = !showRepeatSelector\"\r\n      >\r\n      <span class=\"icon is-small\">\r\n        <i class=\"fas fa-paste\"></i>\r\n        <i class=\"fas fa-star special-paste-icon\"></i>\r\n      </span>\r\n      </button>\r\n\r\n      <div class=\"special-paste-container\" v-show=\"showRepeatSelector\">\r\n        <div class=\"panel\">\r\n          <div class=\"panel-block\">\r\n            <p>\r\n              <i18n path=\"paste-repeat-info\">\r\n                <input v-model=\"nbRepeats\" type=\"number\" place=\"input\" class=\"repeat-input\" min=\"1\" :max=\"maxRepeats\"/>\r\n              </i18n>\r\n              <br>\r\n            </p>\r\n            <div class=\"repeat-button-container\">\r\n              <button class=\"button is-small\" @click=\"repeat()\">{{$t('paste-repeat')}}</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div v-if=\"isToolDisplayed('undo-redo')\" class=\"buttons has-addons are-small\">\r\n    <button\r\n      :disabled=\"actions.length === 0\"\r\n      v-tooltip=\"$t('undo')\"\r\n      class=\"button\"\r\n      @click=\"undo()\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-undo\"></i></span>\r\n    </button>\r\n\r\n    <button\r\n      :disabled=\"undoneActions.length === 0\"\r\n      v-tooltip=\"$t('redo')\"\r\n      class=\"button\"\r\n      @click=\"redo()\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-redo\"></i></span>\r\n    </button>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport OntologyTree from '@/components/ontology/OntologyTree';\r\nimport TrackTree from '@/components/track/TrackTree';\r\nimport IconPolygonFreeHand from '@/components/icons/IconPolygonFreeHand';\r\nimport IconLineFreeHand from '@/components/icons/IconLineFreeHand';\r\n\r\nimport WKT from 'ol/format/WKT';\r\nimport {containsExtent} from 'ol/extent';\r\n\r\nimport {Cytomine, Annotation, AnnotationType} from 'cytomine-client';\r\nimport {Action, updateTermProperties, updateTrackProperties} from '@/utils/annotation-utils.js';\r\n\r\nexport default {\r\n  name: 'draw-tools',\r\n  components: {\r\n    TrackTree,\r\n    OntologyTree,\r\n    IconPolygonFreeHand,\r\n    IconLineFreeHand\r\n  },\r\n  props: {\r\n    index: String\r\n  },\r\n  data() {\r\n    return {\r\n      showTermSelector: false,\r\n      format: new WKT(),\r\n      searchStringTerm: '',\r\n      showTrackSelector: false,\r\n      searchStringTrack: '',\r\n      showRepeatSelector: false,\r\n      nbRepeats: 2,\r\n    };\r\n  },\r\n  computed: {\r\n    configUI: get('currentProject/configUI'),\r\n    ontology: get('currentProject/ontology'),\r\n    currentUser: get('currentUser/user'),\r\n\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    viewerWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'];\r\n    },\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageWrapper() {\r\n      return this.viewerWrapper.images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    slice() {\r\n      // Cannot draw on multiple slices at same time\r\n      return (this.imageWrapper.activeSlices) ? this.imageWrapper.activeSlices[0] : null;\r\n    },\r\n    multipleActiveSlices() {\r\n      return this.imageWrapper.activeSlices && this.imageWrapper.activeSlices.length > 1;\r\n    },\r\n    maxRank() {\r\n      return this.$store.getters[this.imageModule + 'maxRank'];\r\n    },\r\n    terms() {\r\n      return this.$store.getters['currentProject/terms'];\r\n    },\r\n    termsToAssociate: {\r\n      get() {\r\n        return this.imageWrapper.draw.termsNewAnnots;\r\n      },\r\n      set(terms) {\r\n        this.$store.commit(this.imageModule + 'setTermsNewAnnots', terms);\r\n      }\r\n    },\r\n    backgroundTermsNewAnnot() {\r\n      if(this.termsToAssociate.length === 1) {\r\n        return this.terms.find(term => this.termsToAssociate[0] === term.id).color;\r\n      }\r\n      else {\r\n        return '#e2e2e2';\r\n      }\r\n    },\r\n    tracks() {\r\n      return this.imageWrapper.tracks.tracks;\r\n    },\r\n    tracksToAssociate: {\r\n      get() {\r\n        return this.imageWrapper.draw.tracksNewAnnots;\r\n      },\r\n      set(tracks) {\r\n        this.$store.commit(this.imageModule + 'setTracksNewAnnots', tracks);\r\n      }\r\n    },\r\n    backgroundTracksNewAnnot() {\r\n      if(this.tracksToAssociate.length === 1) {\r\n        return this.tracks.find(track => this.tracksToAssociate[0] === track.id).color;\r\n      }\r\n      else {\r\n        return '#e2e2e2';\r\n      }\r\n    },\r\n    activeTool: {\r\n      get() {\r\n        return this.imageWrapper.draw.activeTool;\r\n      },\r\n      set(tool) {\r\n        this.$store.dispatch(this.imageModule + 'activateTool', tool);\r\n      }\r\n    },\r\n    displayAnnotDetails: {\r\n      get() {\r\n        return this.imageWrapper.selectedFeatures.displayAnnotDetails;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setDisplayAnnotDetails', value);\r\n      }\r\n    },\r\n    activeEditTool: {\r\n      get() {\r\n        return this.imageWrapper.draw.activeEditTool;\r\n      },\r\n      set(tool) {\r\n        this.$store.commit(this.imageModule + 'activateEditTool', tool);\r\n      }\r\n    },\r\n    selectedFeature() {\r\n      return this.$store.getters[this.imageModule + 'selectedFeature'];\r\n    },\r\n    layers() {\r\n      return this.imageWrapper.layers.selectedLayers || [];\r\n    },\r\n    noActiveLayer() {\r\n      return !this.layers.find(layer => layer.drawOn);\r\n    },\r\n    disabledDraw() {\r\n      return this.noActiveLayer || this.multipleActiveSlices;\r\n    },\r\n    disabledDrawMessage() {\r\n      return (this.multipleActiveSlices) ? this.$t('warning-cannot-draw-multiple-slices') : null;\r\n    },\r\n    actions() {\r\n      return this.imageWrapper.undoRedo.actions;\r\n    },\r\n    undoneActions() {\r\n      return this.imageWrapper.undoRedo.undoneActions;\r\n    },\r\n    isActiveImage() {\r\n      return this.viewerWrapper.activeImage === this.index;\r\n    },\r\n    reviewMode() {\r\n      return this.imageWrapper.review.reviewMode;\r\n    },\r\n    copiedAnnot: {\r\n      get() {\r\n        return this.viewerWrapper.copiedAnnot;\r\n      },\r\n      set(annot) {\r\n        this.$store.commit(this.viewerModule + 'setCopiedAnnot', annot);\r\n      }\r\n    },\r\n    disabledPaste() {\r\n      return this.disabledDraw || !this.copiedAnnot;\r\n    },\r\n    imageExtent() {\r\n      return [0, 0, this.image.width, this.image.height];\r\n    },\r\n    maxRepeats() {\r\n      return this.maxRank - this.slice.rank - 1;\r\n    }\r\n  },\r\n  watch: {\r\n    noActiveLayer(value) {\r\n      if(value) {\r\n        this.activeTool = 'select';\r\n      }\r\n    },\r\n    selectedFeature(feature) {\r\n      // disable correct tools if no feature is selected\r\n      if(!feature && ['correct-add', 'correct-remove'].includes(this.activeEditTool)) {\r\n        this.activeEditTool = null;\r\n      }\r\n    },\r\n    reviewMode(value) {\r\n      if(value) {\r\n        this.activeTool = 'select';\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    isToolDisplayed(tool) {\r\n      return this.configUI[`project-tools-${tool}`];\r\n    },\r\n\r\n    isToolDisabled(tool) {\r\n      if(!this.selectedFeature) {\r\n        return true; // no feature selected -> all edit tools disabled\r\n      }\r\n\r\n      if (tool === 'copy') {\r\n        return false;\r\n      }\r\n\r\n      let ftr = this.selectedFeature;\r\n      let annot = ftr.properties.annot;\r\n      if(tool === 'accept') {\r\n        return annot.type === AnnotationType.REVIEWED;\r\n      }\r\n      if(tool === 'reject') {\r\n        return annot.type !== AnnotationType.REVIEWED;\r\n      }\r\n\r\n      if(!this.$store.getters['currentProject/canEditAnnot'](annot)) {\r\n        return true;\r\n      }\r\n\r\n      let geomType = ftr.geometry.type;\r\n      if(geomType === 'Point') {\r\n        return (tool !== 'move' && tool !== 'delete'); // disable all tools except move and delete for points\r\n      }\r\n      else if(geomType === 'LineString') {\r\n        return ['fill', 'correct-add', 'correct-remove'].includes(tool); // disable fill and correct tools for lines\r\n      }\r\n      else {\r\n        return false;\r\n      }\r\n    },\r\n\r\n    activateTool(tool) {\r\n      this.activeTool = tool;\r\n    },\r\n\r\n    activateEditTool(tool) {\r\n      this.activeTool = 'select';\r\n      this.activeEditTool = (this.activeEditTool === tool) ? null : tool; // toggle behaviour\r\n    },\r\n\r\n    async fill() {\r\n      let feature = this.selectedFeature;\r\n      if(!feature) {\r\n        return;\r\n      }\r\n\r\n      this.activateEditTool(null);\r\n      let annot = feature.properties.annot.clone();\r\n\r\n      try {\r\n        await annot.fill();\r\n        this.$eventBus.$emit('editAnnotation', annot);\r\n        this.$store.commit(this.imageModule + 'addAction', {annot, type: Action.UPDATE});\r\n      }\r\n      catch(err) {\r\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-fill')});\r\n      }\r\n    },\r\n\r\n    async deleteAnnot() {\r\n      let feature = this.selectedFeature;\r\n      if(!feature) {\r\n        return;\r\n      }\r\n\r\n      this.activateEditTool(null);\r\n\r\n      try {\r\n        let annot = feature.properties.annot;\r\n        await Annotation.delete(annot.id);\r\n        this.$eventBus.$emit('deleteAnnotation', annot);\r\n        this.$store.commit(this.imageModule + 'addAction', {annot: annot, type: Action.DELETE});\r\n      }\r\n      catch(err) {\r\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-deletion')});\r\n      }\r\n    },\r\n    confirmDeletion() {\r\n      if(!this.selectedFeature) {\r\n        return;\r\n      }\r\n\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('confirm-deletion'),\r\n        message: this.$t('confirm-deletion-annotation'),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.deleteAnnot()\r\n      });\r\n    },\r\n\r\n    copy() {\r\n      let feature = this.selectedFeature;\r\n      if(!feature) {\r\n        return;\r\n      }\r\n\r\n      this.copiedAnnot = feature.properties.annot.clone();\r\n      this.$notify({type: 'success', text: this.$t('notif-success-annotation-copy')});\r\n    },\r\n    async paste() {\r\n      if (!this.copiedAnnot) {\r\n        return;\r\n      }\r\n\r\n      let location;\r\n      let geometry = new WKT().readGeometry(this.copiedAnnot.location);\r\n\r\n      if (this.image.id === this.copiedAnnot.image || containsExtent(this.imageExtent, geometry.getExtent())) {\r\n        location = this.copiedAnnot.location;\r\n      }\r\n      else {\r\n        let extent = geometry.getExtent();\r\n        let center = [(extent[0] + extent[2]) / 2, (extent[1] + extent[3]) / 2];\r\n        geometry.translate(this.image.width / 2 - center[0], this.image.height / 2 - center[1]);\r\n        if (containsExtent(this.imageExtent, geometry.getExtent())) {\r\n          location = new WKT().writeGeometry(geometry);\r\n        }\r\n      }\r\n\r\n      if (!location) {\r\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-paste')});\r\n        return;\r\n      }\r\n\r\n      let annot = new Annotation({\r\n        location: location,\r\n        image: this.image.id,\r\n        slice: this.slice.id,\r\n        user: this.currentUser.id,\r\n        term: this.copiedAnnot.term,\r\n        track: this.copiedAnnot.track\r\n      });\r\n\r\n      try {\r\n        await annot.save();\r\n        // TODO in backend: response should include userByTerm and correct value for term\r\n        // (https://github.com/cytomine/Cytomine-core/issues/1143)\r\n        annot.term = this.copiedAnnot.term.slice();\r\n        annot.userByTerm = this.copiedAnnot.term.map(term => {\r\n          return {term, user: [this.currentUser.id]};\r\n        });\r\n        // ----\r\n\r\n        this.$eventBus.$emit('addAnnotation', annot);\r\n        this.$eventBus.$emit('selectAnnotation', {index: this.index, annot});\r\n        this.$store.commit(this.imageModule + 'addAction', {annot, type: Action.CREATE});\r\n      }\r\n      catch(err) {\r\n        console.log(err);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-creation')});\r\n      }\r\n    },\r\n    async repeat() {\r\n      if (!this.copiedAnnot) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        await this.copiedAnnot.repeat(this.slice.id, this.nbRepeats);\r\n        this.$eventBus.$emit('reloadAnnotations', {idImage: this.image.id});\r\n        this.$notify({type: 'success', text: this.$t('notif-success-annotation-repeat')});\r\n      }\r\n      catch(err) {\r\n        console.log(err);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-repeat')});\r\n      }\r\n    },\r\n\r\n\r\n    async undo() {\r\n      if(this.actions.length === 0) {\r\n        return;\r\n      }\r\n\r\n      let action = this.actions[this.actions.length - 1];\r\n      try {\r\n        let opposedAction = await this.reverseAction(action, true);\r\n        this.$store.commit(this.imageModule + 'undoAction', opposedAction);\r\n      }\r\n      catch(err) {\r\n        console.log(err);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-undo')});\r\n      }\r\n    },\r\n    async redo() {\r\n      if(this.undoneActions.length === 0) {\r\n        return;\r\n      }\r\n\r\n      let action = this.undoneActions[this.undoneActions.length - 1];\r\n      try {\r\n        let opposedAction = await this.reverseAction(action, false);\r\n        this.$store.commit(this.imageModule + 'redoAction', opposedAction);\r\n      }\r\n      catch(err) {\r\n        console.log(err);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-redo')});\r\n      }\r\n    },\r\n    async reverseAction({annot, type, command}, undo) {\r\n      let newType = type;\r\n\r\n      if(type === Action.CREATE) {\r\n        await Annotation.delete(annot.id);\r\n        this.$eventBus.$emit('deleteAnnotation', annot);\r\n        newType = Action.DELETE;\r\n        command = Cytomine.instance.lastCommand;\r\n      }\r\n      else if(type === Action.DELETE) {\r\n        let collection = await Cytomine.instance.undo(command); // always undo if annotation was deleted\r\n        let newAnnot = await this.getUpdatedAnnotation(collection);\r\n        this.$eventBus.$emit('addAnnotation', newAnnot);\r\n        newType = Action.CREATE;\r\n      }\r\n      else { // annotation was updated\r\n        let collection;\r\n        if(undo) {\r\n          collection = await Cytomine.instance.undo(command);\r\n        }\r\n        else {\r\n          collection = await Cytomine.instance.redo(command);\r\n        }\r\n        let newAnnot = await this.getUpdatedAnnotation(collection);\r\n        this.$eventBus.$emit('editAnnotation', newAnnot);\r\n      }\r\n\r\n      return {annot, command, type: newType};\r\n    },\r\n    async getUpdatedAnnotation(collection) {\r\n      for(let model of collection) {\r\n        let jsonAnnot = model.annotation || model.reviewedannotation;\r\n        if(jsonAnnot) {\r\n          let annot = new Annotation(jsonAnnot);\r\n          await updateTermProperties(annot);\r\n          await updateTrackProperties(annot);\r\n          return annot;\r\n        }\r\n      }\r\n    },\r\n\r\n    async accept() {\r\n      let feature = this.selectedFeature;\r\n      if(!feature) {\r\n        return;\r\n      }\r\n\r\n      this.activateEditTool(null);\r\n      let annot = feature.properties.annot;\r\n      if(annot.type === AnnotationType.REVIEWED) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        let reviewedAnnot = await annot.review();\r\n        reviewedAnnot.userByTerm = annot.userByTerm; // copy terms from initial annot\r\n        this.$eventBus.$emit('reviewAnnotation', annot);\r\n        this.$eventBus.$emit('addAnnotation', reviewedAnnot);\r\n        this.$eventBus.$emit('selectAnnotation', {index: this.index, annot: reviewedAnnot});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-validation')});\r\n      }\r\n    },\r\n    async reject() {\r\n      let feature = this.selectedFeature;\r\n      if(!feature) {\r\n        return;\r\n      }\r\n\r\n      this.activateEditTool(null);\r\n      let reviewedAnnot = feature.properties.annot;\r\n      if(reviewedAnnot.type !== AnnotationType.REVIEWED) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        let annot = await Annotation.fetch(reviewedAnnot.parentIdent);\r\n        annot.userByTerm = reviewedAnnot.userByTerm; // copy terms from reviewed annot\r\n        await annot.cancelReview();\r\n        this.$eventBus.$emit('deleteAnnotation', reviewedAnnot);\r\n        this.$eventBus.$emit('addAnnotation', annot, false);\r\n        this.$eventBus.$emit('selectAnnotation', {index: this.index, annot});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-rejection')});\r\n      }\r\n    },\r\n\r\n    refreshTracks() {\r\n      this.$store.dispatch(this.viewerModule + 'refreshTracks', {idImage: this.image.id});\r\n    },\r\n\r\n    takeScreenshot(){\r\n      this.$emit('screenshot');\r\n    },\r\n\r\n    shortkeyHandler(key) {\r\n      if(key !== 'toggle-all-current' && !this.isActiveImage) { // shortkey should only be applied to active map\r\n        return;\r\n      }\r\n\r\n      switch(key) {\r\n        case 'tool-select':\r\n          if (this.isToolDisplayed('select')){\r\n            this.activateTool('select');\r\n          }\r\n          return;\r\n        case 'tool-point':\r\n          if (this.isToolDisplayed('point') && !this.disabledDraw) {\r\n            this.activateTool('point');\r\n          }\r\n          return;\r\n        case 'tool-line':\r\n          if (this.isToolDisplayed('line') && !this.disabledDraw) {\r\n            this.activateTool('line');\r\n          }\r\n          return;\r\n        case 'tool-freehand-line':\r\n          if (this.isToolDisplayed('freehand-line') && !this.disabledDraw) {\r\n            this.activateTool('freehand-line');\r\n          }\r\n          return;\r\n        case 'tool-rectangle':\r\n          if (this.isToolDisplayed('rectangle') && !this.disabledDraw) {\r\n            this.activateTool('rectangle');\r\n          }\r\n          return;\r\n        case 'tool-circle':\r\n          if (this.isToolDisplayed('circle') && !this.disabledDraw) {\r\n            this.activateTool('circle');\r\n          }\r\n          return;\r\n        case 'tool-polygon':\r\n          if (this.isToolDisplayed('polygon') && !this.disabledDraw) {\r\n            this.activateTool('polygon');\r\n          }\r\n          return;\r\n        case 'tool-freehand-polygon':\r\n          if (this.isToolDisplayed('polygon') && !this.disabledDraw) {\r\n            this.activateTool('freehand-polygon');\r\n          }\r\n          return;\r\n        case 'tool-screenshot':\r\n          if (this.isToolDisplayed('screenshot') && !this.disabledDraw) {\r\n            this.takeScreenshot();\r\n          }\r\n          return;\r\n        case 'tool-delete':\r\n          if (this.isToolDisplayed('delete') && !this.disabledDraw) {\r\n            this.confirmDeletion();\r\n          }\r\n          return;\r\n        case 'tool-undo':\r\n          if (this.isToolDisplayed('undo-redo')) {\r\n            this.undo();\r\n          }\r\n          return;\r\n        case 'tool-redo':\r\n          if (this.isToolDisplayed('undo-redo')) {\r\n            this.redo();\r\n          }\r\n          return;\r\n        case 'tool-review-accept':\r\n          if (this.reviewMode && this.isToolDisplayed('accept')) {\r\n            this.accept();\r\n          }\r\n          return;\r\n        case 'tool-review-reject':\r\n          if (this.reviewMode && this.isToolDisplayed('reject')) {\r\n            this.reject();\r\n          }\r\n          return;\r\n        case 'tool-fill':\r\n          if (this.isToolDisplayed('fill') && !this.isToolDisabled('fill')) {\r\n            this.fill();\r\n          }\r\n          return;\r\n        case 'tool-correct-add':\r\n          if (this.isToolDisplayed('union') && !this.isToolDisabled('correct-add')) {\r\n            this.activateEditTool('correct-add');\r\n          }\r\n          return;\r\n        case 'tool-correct-remove':\r\n          if (this.isToolDisplayed('diff') && !this.isToolDisabled('correct-remove')) {\r\n            this.activateEditTool('correct-remove');\r\n          }\r\n          return;\r\n        case 'tool-modify':\r\n          if (this.isToolDisplayed('edit') && !this.isToolDisabled('edit')) {\r\n            this.activateEditTool('modify');\r\n          }\r\n          return;\r\n        case 'tool-move':\r\n          if (this.isToolDisplayed('move') && !this.isToolDisabled('move')) {\r\n            this.activateEditTool('translate');\r\n          }\r\n          return;\r\n        case 'tool-rescale':\r\n          if (this.isToolDisplayed('resize') && !this.isToolDisabled('resize')) {\r\n            this.activateEditTool('rescale');\r\n          }\r\n          return;\r\n        case 'tool-rotate':\r\n          if (this.isToolDisplayed('rotate') && !this.isToolDisabled('rotate')) {\r\n            this.activateEditTool('rotate');\r\n          }\r\n          return;\r\n        case 'toggle-current':\r\n        case 'toggle-all-current':\r\n          if (this.configUI['project-explore-annotation-main'] && this.selectedFeature) {\r\n            this.displayAnnotDetails = !this.displayAnnotDetails;\r\n          }\r\n          return;\r\n        case 'tool-copy':\r\n          if (this.isToolDisplayed('copy-paste') && !this.isToolDisabled('copy')) {\r\n            this.copy();\r\n          }\r\n          return;\r\n        case 'tool-paste':\r\n          if (this.isToolDisplayed('copy-paste') && !this.disabledPaste) {\r\n            this.paste();\r\n          }\r\n          return;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('shortkeyEvent', this.shortkeyHandler);\r\n  },\r\n  beforeDestroy() {\r\n    this.$eventBus.$off('shortkeyEvent', this.shortkeyHandler);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.buttons {\r\n  float:left;\r\n  margin-left: 1px;\r\n  margin-right: 1px;\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\n.button {\r\n  margin-bottom:0px !important;\r\n}\r\n\r\n.superscript {\r\n  position: relative;\r\n  bottom: 0.65em;\r\n  left: 1px;\r\n  font-size: 0.7em;\r\n}\r\n\r\n:focus {outline:none;}\r\n::-moz-focus-inner {border:0;}\r\n\r\n.term-selection, .track-selection, .special-paste-selection {\r\n  position: relative;\r\n}\r\n\r\n.term-selection.has-preview i.fas, .track-selection.has-preview i.fas {\r\n  position: relative;\r\n  right: 0.25em;\r\n  top: 0.2em;\r\n  font-size: 0.9em;\r\n}\r\n\r\n.term-selection .ontology-tree-container, .track-selection .tracks-tree-container, .special-paste-container {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: -1.5em;\r\n  margin-top: 5px;\r\n  min-width: 18em;\r\n  max-width: 20vw;\r\n  max-height: 40vh;\r\n  overflow: auto;\r\n}\r\n\r\n.term-selection .ontology-tree-container, .track-selection .tracks-tree-container {\r\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n  border-radius: 4px;\r\n  background: white;\r\n}\r\n\r\n.term-selection:not(.has-preview) .color-preview, .track-selection:not(.has-preview) .color-preview {\r\n  display:none;\r\n}\r\n\r\n.color-preview {\r\n  width: 1em;\r\n  height: 1em;\r\n  display: inline-block;\r\n  border-radius: 0.45em;\r\n  position: absolute;\r\n  top: 0.25em;\r\n  right: 0.25em;\r\n  z-index: 1000;\r\n  pointer-events: none;\r\n  font-size: 0.7em;\r\n  font-weight: 600;\r\n  text-align:center;\r\n  line-height: 0.9em;\r\n  font-family: Arial;\r\n}\r\n\r\n.track-selection .color-preview {\r\n  border: 1.5px solid;\r\n}\r\n\r\n.repeat-input {\r\n  width: 50px;\r\n}\r\n\r\n.repeat-button-container {\r\n  text-align: center;\r\n  margin-top: 0.5em;\r\n  margin-bottom: 0.5em;\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n$colorActiveIcon: #fff;\r\n\r\n.draw-tools-wrapper {\r\n  .special-paste-selection .special-paste-container {\r\n    p {\r\n      margin: 0.75em;\r\n      font-size: 0.9em;\r\n    }\r\n\r\n    .panel-block:last-of-type {\r\n      border-bottom-left-radius: 4px;\r\n      border-bottom-right-radius: 4px;\r\n    }\r\n\r\n    .panel-block:first-of-type {\r\n      border-top-left-radius: 4px;\r\n      border-top-right-radius: 4px;\r\n    }\r\n\r\n    .panel {\r\n      font-size: 0.9rem;\r\n    }\r\n\r\n    .panel-block {\r\n      padding: 0.2em 0.5em;\r\n    }\r\n  }\r\n\r\n  .term-selection .ontology-tree-container, .track-selection .tracks-tree-container {\r\n\r\n    .control {\r\n      margin: 0.75em;\r\n      margin-bottom: 0;\r\n    }\r\n\r\n    .ontology-tree, .track-tree {\r\n      padding: 0.75em 0;\r\n    }\r\n\r\n    .sl-vue-tree-sidebar {\r\n      margin-right: 1.5em;\r\n    }\r\n  }\r\n\r\n  .button.is-selected {\r\n    background-color: #6899d0;\r\n    color: $colorActiveIcon;\r\n\r\n    path {\r\n      stroke: $colorActiveIcon;\r\n    }\r\n  }\r\n\r\n  .icon svg {\r\n    height: 1.15em !important;\r\n  }\r\n\r\n  .icon .special-paste-icon {\r\n    font-size: 0.5em;\r\n    position: absolute;\r\n    right: 0.2rem;\r\n    top: 0.2rem;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawTools.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawTools.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DrawTools.vue?vue&type=template&id=04a5c87e&scoped=true\"\nimport script from \"./DrawTools.vue?vue&type=script&lang=js\"\nexport * from \"./DrawTools.vue?vue&type=script&lang=js\"\nimport style0 from \"./DrawTools.vue?vue&type=style&index=0&id=04a5c87e&prod&scoped=true&lang=css\"\nimport style1 from \"./DrawTools.vue?vue&type=style&index=1&id=04a5c87e&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04a5c87e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isImageMultidimensional)?_c('div',{staticClass:\"image-controls-container\"},[(_vm.hasChannels)?_c('div',{staticClass:\"image-dimension\"},[_c('strong',{staticClass:\"image-dimension-name\"},[_vm._v(\"C\")]),(_vm.areChannelsMergeable)?[_c('b-select',{staticClass:\"channel-selector\",attrs:{\"value\":_vm.currentChannelsIndexesOption,\"size\":\"is-small\",\"expanded\":\"\"},on:{\"input\":_vm.setCurrentChannelsIndexes}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\" \"+_vm._s(_vm.$t('merged-channels'))+\" \"),(_vm.currentChannelsIndexesOption === null)?[_vm._v(\" (\"+_vm._s(_vm.orderedCurrentChannels.length)+\"/\"+_vm._s(_vm.image.channels)+\") (\"),_vm._l((_vm.orderedCurrentChannels),function(channel,i){return _c('span',{key:`${_vm.image.id}-${channel.index}-name-list`},[_c('channel-name',{attrs:{\"channel\":channel}}),(i !== _vm.currentChannelsIndexes.length - 1)?[_vm._v(\"|\")]:_vm._e()],2)}),_vm._v(\") \")]:_vm._e()],2),_vm._l((_vm.channelOptions),function(channel){return _c('option',{key:`${_vm.image.id}-${channel.value}-opt`,domProps:{\"value\":channel.value}},[_c('channel-name',{attrs:{\"channel\":channel}})],1)})],2)]:[_c('image-controls-shift-buttons',{attrs:{\"index\":_vm.index,\"forward\":false,\"current\":_vm.currentSlice.channel,\"size\":_vm.image.channels,\"dimension\":\"channel\"},on:{\"shift\":function($event){return _vm.shift('channel', $event)}}}),_c('cytomine-slider',{staticClass:\"image-dimension-slider\",attrs:{\"max\":_vm.image.channels - 1,\"integer-only\":true},scopedSlots:_vm._u([(_vm.hasChannelName)?{key:\"default\",fn:function({ value }){return [_vm._v(\" \"+_vm._s(_vm.channelValue(value) || \"?\")+\" \")]}}:null],null,true),model:{value:(_vm.currentChannelIndex),callback:function ($$v) {_vm.currentChannelIndex=$$v},expression:\"currentChannelIndex\"}}),_c('image-controls-shift-buttons',{attrs:{\"index\":_vm.index,\"forward\":true,\"current\":_vm.currentSlice.channel,\"size\":_vm.image.channels,\"dimension\":\"channel\"},on:{\"shift\":function($event){return _vm.shift('channel', $event)}}})]],2):_vm._e(),(_vm.hasDepth)?_c('div',{staticClass:\"image-dimension\"},[_c('strong',{staticClass:\"image-dimension-name\"},[_vm._v(\"Z\")]),_c('image-controls-shift-buttons',{attrs:{\"index\":_vm.index,\"forward\":false,\"current\":_vm.currentSlice.zStack,\"size\":_vm.image.depth,\"dimension\":\"zStack\"},on:{\"shift\":function($event){return _vm.shift('zStack', $event)}}}),_c('cytomine-slider',{staticClass:\"image-dimension-slider\",attrs:{\"max\":_vm.image.depth - 1,\"integer-only\":true},model:{value:(_vm.currentZStackIndex),callback:function ($$v) {_vm.currentZStackIndex=$$v},expression:\"currentZStackIndex\"}}),_c('image-controls-shift-buttons',{attrs:{\"index\":_vm.index,\"forward\":true,\"current\":_vm.currentSlice.zStack,\"size\":_vm.image.depth,\"dimension\":\"zStack\"},on:{\"shift\":function($event){return _vm.shift('zStack', $event)}}})],1):_vm._e(),(_vm.hasDuration)?_c('div',{staticClass:\"image-dimension\"},[_c('strong',{staticClass:\"image-dimension-name\"},[_vm._v(\"T\")]),_c('image-controls-shift-buttons',{attrs:{\"index\":_vm.index,\"forward\":false,\"current\":_vm.currentSlice.time,\"size\":_vm.image.duration,\"dimension\":\"time\"},on:{\"shift\":function($event){return _vm.shift('time', $event)}}}),_c('cytomine-slider',{staticClass:\"image-dimension-slider\",attrs:{\"max\":_vm.image.duration - 1,\"integer-only\":true},scopedSlots:_vm._u([(_vm.image.fps)?{key:\"default\",fn:function({ value }){return [_vm._v(\" \"+_vm._s(_vm.formatMinutesSeconds(value / _vm.image.fps))+\" | \"+_vm._s(value)+\" \")]}}:null],null,true),model:{value:(_vm.currentTimeIndex),callback:function ($$v) {_vm.currentTimeIndex=$$v},expression:\"currentTimeIndex\"}}),_c('image-controls-shift-buttons',{attrs:{\"index\":_vm.index,\"forward\":true,\"current\":_vm.currentSlice.time,\"size\":_vm.image.duration,\"dimension\":\"time\"},on:{\"shift\":function($event){return _vm.shift('time', $event)}}})],1):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"buttons has-addons\",class:{'backward-buttons': !_vm.forward}},[_c('button',{staticClass:\"button is-small item\",attrs:{\"disabled\":!_vm.canShift},on:{\"click\":function($event){return _vm.shiftOne()}}},[_c('i',{staticClass:\"fas\",class:{'fa-step-forward': _vm.forward, 'fa-step-backward': !_vm.forward}})]),_c('v-popover',{attrs:{\"placement\":_vm.selectorPlacement,\"trigger\":\"manual\",\"open\":_vm.opened,\"auto-hide\":false,\"popover-inner-class\":'tooltip-inner popover-inner step-selector'},scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(() => _vm.stopEdition()),expression:\"() => stopEdition()\"},{name:\"click-outside\",rawName:\"v-click-outside:contextmenu.capture\",value:(() => _vm.stopEdition()),expression:\"() => stopEdition()\",arg:\"contextmenu\",modifiers:{\"capture\":true}}],staticClass:\"step-selector\"},[_c('b-input',{ref:\"inputStepSelector\",attrs:{\"placeholder\":_vm.$t('step'),\"size\":\"is-small\"},on:{\"hook:mounted\":function($event){return _vm.focus()},\"blur\":function($event){return _vm.stopEdition()}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.stopEdition()}},model:{value:(_vm.editedValue),callback:function ($$v) {_vm.editedValue=$$v},expression:\"editedValue\"}})],1)]},proxy:true}])},[_c('button',{staticClass:\"button is-small item\",attrs:{\"disabled\":!_vm.canShift},on:{\"click\":function($event){return _vm.shift()},\"contextmenu\":function($event){$event.preventDefault();return _vm.startEdition()}}},[_c('i',{staticClass:\"fas\",class:{'fa-fast-forward': _vm.forward, 'fa-fast-backward': !_vm.forward}}),_c('div',{staticClass:\"step-counter\"},[(_vm.forward)?[_vm._v(\"+\")]:[_vm._v(\"-\")],_vm._v(_vm._s(_vm.step)+\" \")],2)])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"buttons has-addons\" :class=\"{'backward-buttons': !forward}\">\r\n    <button\r\n        class=\"button is-small item\"\r\n        :disabled=\"!canShift\"\r\n        @click=\"shiftOne()\"\r\n    >\r\n      <i class=\"fas\" :class=\"{'fa-step-forward': forward, 'fa-step-backward': !forward}\"></i>\r\n    </button>\r\n    <v-popover\r\n        :placement=\"selectorPlacement\"\r\n        trigger=\"manual\"\r\n        :open=\"opened\"\r\n        :auto-hide=\"false\"\r\n        :popover-inner-class=\"'tooltip-inner popover-inner step-selector'\"\r\n    >\r\n      <button\r\n          class=\"button is-small item\"\r\n          :disabled=\"!canShift\"\r\n          @click=\"shift()\"\r\n          @click.right.prevent=\"startEdition()\"\r\n      >\r\n        <i class=\"fas\" :class=\"{'fa-fast-forward': forward, 'fa-fast-backward': !forward}\"></i>\r\n        <div class=\"step-counter\">\r\n          <template v-if=\"forward\">+</template>\r\n          <template v-else>-</template>{{step}}\r\n        </div>\r\n      </button>\r\n\r\n      <template #popover>\r\n        <div\r\n          v-click-outside=\"() => stopEdition()\"\r\n          v-click-outside:contextmenu.capture=\"() => stopEdition()\"\r\n          class=\"step-selector\"\r\n        >\r\n          <b-input :placeholder=\"$t('step')\" size=\"is-small\"\r\n             v-model=\"editedValue\"\r\n             ref=\"inputStepSelector\"\r\n             @hook:mounted=\"focus()\"\r\n             @blur=\"stopEdition()\"\r\n             @keyup.enter.native=\"stopEdition()\"\r\n          />\r\n        </div>\r\n      </template>\r\n    </v-popover>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ImageControlsShiftButtons',\r\n  props: {\r\n    index: String,\r\n    forward: Boolean,\r\n    current: Number,\r\n    size: Number,\r\n    dimension: String,\r\n  },\r\n  data() {\r\n    return {\r\n      opened: false,\r\n      editedValue: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    viewerWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'];\r\n    },\r\n    imageWrapper() {\r\n      return this.viewerWrapper.images[this.index];\r\n    },\r\n    step: {\r\n      get() {\r\n        return this.imageWrapper.controls.step[this.dimension];\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setStep',\r\n          {dimension: this.dimension, value: Number(value)});\r\n      }\r\n    },\r\n    canShift() {\r\n      return (this.forward) ? (this.current < this.size - 1) : (this.current >= 1);\r\n    },\r\n    shiftDirection() {\r\n      return (this.forward) ? 1 : -1;\r\n    },\r\n    selectorPlacement() {\r\n      return (this.forward) ? 'left' : 'right';\r\n    }\r\n  },\r\n  methods: {\r\n    shiftOne() {\r\n      this.$emit('shift', this.shiftDirection);\r\n    },\r\n    shift() {\r\n      let value = this.shiftDirection;\r\n      value *= (this.forward) ? Math.min(this.step, this.size - this.current - 1) : Math.min(this.step, this.current);\r\n      this.$emit('shift', value);\r\n    },\r\n    startEdition() {\r\n      this.editedValue = this.step;\r\n      this.opened = true;\r\n    },\r\n    stopEdition() {\r\n      this.opened = false;\r\n      if (!this.editedValue || isNaN(this.editedValue)) {\r\n        return;\r\n      }\r\n\r\n      this.step = parseInt(this.editedValue);\r\n    },\r\n    focus() {\r\n      this.$refs.inputStepSelector.focus();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .buttons {\r\n    float:left;\r\n    margin: 1px;\r\n    margin-bottom: 0 !important;\r\n\r\n    .button {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n\r\n  .step-counter {\r\n    position: absolute;\r\n    top: 0.25em;\r\n    right: 0.25em;\r\n    font-size: 0.7em;\r\n    font-weight: 600;\r\n    text-align:right;\r\n    line-height: 0.9em;\r\n  }\r\n\r\n  .backward-buttons {\r\n    flex-direction: row-reverse;\r\n  }\r\n</style>\r\n\r\n<style>\r\n  .step-selector {\r\n    padding: 0.1rem 0.3rem !important;\r\n  }\r\n\r\n  .step-selector input {\r\n    width: 4rem;\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageControlsShiftButtons.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageControlsShiftButtons.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ImageControlsShiftButtons.vue?vue&type=template&id=5eb6685e&scoped=true\"\nimport script from \"./ImageControlsShiftButtons.vue?vue&type=script&lang=js\"\nexport * from \"./ImageControlsShiftButtons.vue?vue&type=script&lang=js\"\nimport style0 from \"./ImageControlsShiftButtons.vue?vue&type=style&index=0&id=5eb6685e&prod&lang=scss&scoped=true\"\nimport style1 from \"./ImageControlsShiftButtons.vue?vue&type=style&index=1&id=5eb6685e&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5eb6685e\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div class=\"image-controls-container\" v-if=\"isImageMultidimensional\">\r\n\r\n    <!-- ----- CHANNELS ----- -->\r\n    <div class=\"image-dimension\" v-if=\"hasChannels\">\r\n      <strong class=\"image-dimension-name\">C</strong>\r\n      <template v-if=\"areChannelsMergeable\">\r\n        <b-select\r\n          :value=\"currentChannelsIndexesOption\"\r\n          @input=\"setCurrentChannelsIndexes\"\r\n          size=\"is-small\"\r\n          class=\"channel-selector\"\r\n          expanded\r\n        >\r\n          <option :value=\"null\">\r\n            {{ $t('merged-channels')}}\r\n            <template v-if=\"currentChannelsIndexesOption === null\">\r\n               ({{orderedCurrentChannels.length}}/{{image.channels}})\r\n              (<span\r\n                v-for=\"(channel, i) in orderedCurrentChannels\"\r\n                :key=\"`${image.id}-${channel.index}-name-list`\"\r\n              >\r\n                <channel-name :channel=\"channel\"/><template v-if=\"i !== currentChannelsIndexes.length - 1\">|</template>\r\n              </span>)\r\n            </template>\r\n          </option>\r\n          <option\r\n            v-for=\"channel in channelOptions\"\r\n            :key=\"`${image.id}-${channel.value}-opt`\"\r\n            :value=\"channel.value\"\r\n          >\r\n            <channel-name :channel=\"channel\" />\r\n          </option>\r\n        </b-select>\r\n\r\n      </template>\r\n      <template v-else>\r\n        <image-controls-shift-buttons\r\n          :index=\"index\"\r\n          :forward=\"false\"\r\n          :current=\"currentSlice.channel\"\r\n          :size=\"image.channels\"\r\n          dimension=\"channel\"\r\n          @shift=\"shift('channel', $event)\"\r\n        />\r\n\r\n        <cytomine-slider\r\n          v-model=\"currentChannelIndex\"\r\n          :max=\"image.channels - 1\"\r\n          :integer-only=\"true\"\r\n          class=\"image-dimension-slider\"\r\n        >\r\n          <template v-if=\"hasChannelName\" #default=\"{ value }\">\r\n            {{channelValue(value) || \"?\"}}\r\n          </template>\r\n        </cytomine-slider>\r\n\r\n        <image-controls-shift-buttons\r\n          :index=\"index\"\r\n          :forward=\"true\"\r\n          :current=\"currentSlice.channel\"\r\n          :size=\"image.channels\"\r\n          dimension=\"channel\"\r\n          @shift=\"shift('channel', $event)\"\r\n        />\r\n      </template>\r\n    </div>\r\n\r\n\r\n    <!-- ----- DEPTH ----- -->\r\n    <div class=\"image-dimension\" v-if=\"hasDepth\">\r\n      <strong class=\"image-dimension-name\">Z</strong>\r\n      <image-controls-shift-buttons\r\n          :index=\"index\"\r\n          :forward=\"false\"\r\n          :current=\"currentSlice.zStack\"\r\n          :size=\"image.depth\"\r\n          dimension=\"zStack\"\r\n          @shift=\"shift('zStack', $event)\"\r\n      />\r\n\r\n      <cytomine-slider\r\n        v-model=\"currentZStackIndex\"\r\n        :max=\"image.depth - 1\"\r\n        :integer-only=\"true\"\r\n        class=\"image-dimension-slider\" />\r\n\r\n      <image-controls-shift-buttons\r\n          :index=\"index\"\r\n          :forward=\"true\"\r\n          :current=\"currentSlice.zStack\"\r\n          :size=\"image.depth\"\r\n          dimension=\"zStack\"\r\n          @shift=\"shift('zStack', $event)\"\r\n      />\r\n    </div>\r\n\r\n\r\n\r\n    <!-- ----- DURATION ----- -->\r\n    <div class=\"image-dimension\" v-if=\"hasDuration\">\r\n      <strong class=\"image-dimension-name\">T</strong>\r\n      <image-controls-shift-buttons\r\n          :index=\"index\"\r\n          :forward=\"false\"\r\n          :current=\"currentSlice.time\"\r\n          :size=\"image.duration\"\r\n          dimension=\"time\"\r\n          @shift=\"shift('time', $event)\"\r\n      />\r\n\r\n<!--      <div class=\"buttons has-addons\">-->\r\n<!--        <button class=\"button is-small\">-->\r\n<!--          <i class=\"fas fa-play\"></i>-->\r\n<!--        </button>-->\r\n<!--      </div>-->\r\n\r\n      <cytomine-slider\r\n        v-model=\"currentTimeIndex\"\r\n        :max=\"image.duration - 1\"\r\n        :integer-only=\"true\"\r\n        class=\"image-dimension-slider\"\r\n      >\r\n        <template v-if=\"image.fps\" #default=\"{ value }\">\r\n          {{formatMinutesSeconds(value / image.fps)}} | {{value}}\r\n        </template>\r\n      </cytomine-slider>\r\n\r\n      <image-controls-shift-buttons\r\n          :index=\"index\"\r\n          :forward=\"true\"\r\n          :current=\"currentSlice.time\"\r\n          :size=\"image.duration\"\r\n          dimension=\"time\"\r\n          @shift=\"shift('time', $event)\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CytomineSlider from '@/components/form/CytomineSlider';\r\nimport ImageControlsShiftButtons from '@/components/viewer/ImageControlsShiftButtons';\r\n\r\nimport {formatMinutesSeconds, slicePositionToRank} from '@/utils/slice-utils.js';\r\nimport constants from '@/utils/constants';\r\nimport _ from 'lodash';\r\nimport ChannelName from '@/components/viewer/ChannelName';\r\n\r\nexport default {\r\n  name: 'image-controls',\r\n  components: {ChannelName, ImageControlsShiftButtons, CytomineSlider},\r\n  props: {\r\n    index: String\r\n  },\r\n  computed: {\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    viewerWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'];\r\n    },\r\n    imageWrapper() {\r\n      return this.viewerWrapper.images[this.index];\r\n    },\r\n    isActiveImage() {\r\n      return this.viewerWrapper.activeImage === this.index;\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    channels() {\r\n      return this.$store.getters[this.imageModule + 'channels'];\r\n    },\r\n    currentSlices() {\r\n      return this.imageWrapper.activeSlices;\r\n    },\r\n    currentSlice() {\r\n      return this.currentSlices[0];\r\n    },\r\n    nbSlices() {\r\n      return this.image.depth * this.image.duration * this.image.channels;\r\n    },\r\n    currentChannelIndex: {\r\n      get() {\r\n        return this.currentSlice.channel;\r\n      },\r\n      async set(value) {\r\n        await this.seek([value], this.currentSlice.zStack, this.currentSlice.time);\r\n      }\r\n    },\r\n    currentChannelsIndexes: {\r\n      get() {\r\n        return this.currentSlices.map(slice => slice.channel);\r\n      },\r\n      async set(value) {\r\n        await this.seek(value, this.currentSlice.zStack, this.currentSlice.time);\r\n      }\r\n    },\r\n    currentZStackIndex: {\r\n      get() {\r\n        return this.currentSlice.zStack;\r\n      },\r\n      async set(value) {\r\n        await this.seek(this.currentChannelsIndexes, value, this.currentSlice.time);\r\n      }\r\n    },\r\n    currentTimeIndex: {\r\n      get() {\r\n        return this.currentSlice.time;\r\n      },\r\n      async set(value) {\r\n        await this.seek(this.currentChannelsIndexes, this.currentSlice.zStack, value);\r\n      }\r\n    },\r\n    hasChannels() {\r\n      return this.image.channels > 1;\r\n    },\r\n    hasDepth() {\r\n      return this.image.depth > 1;\r\n    },\r\n    hasDuration() {\r\n      return this.image.duration > 1;\r\n    },\r\n    isImageMultidimensional() {\r\n      return this.hasChannels || this.hasDuration || this.hasDepth;\r\n    },\r\n    showMultiChannels() {\r\n      return this.currentChannelsIndexes.length > 1;\r\n    },\r\n    sliceInstances() {\r\n      return this.imageWrapper.sliceInstances;\r\n    },\r\n    hasChannelName() {\r\n      return this.currentSlice.channelName !== null;\r\n    },\r\n    areChannelsMergeable() {\r\n      // this.image.apparentChannels <= constants.MAX_MERGEABLE_CHANNELS;\r\n      return true; // TODO [EXPERIMENTAL - large set of merged channels]\r\n    },\r\n    channelOptions() {\r\n      return this.channels.map(channel => ({value: [channel.index], ...channel}));\r\n    },\r\n    orderedCurrentChannels() {\r\n      return [...this.currentChannelsIndexes].sort((a, b) => a - b).map(channelIndex =>\r\n        this.channels.find(c => c.index === channelIndex)\r\n      );\r\n    },\r\n\r\n    currentChannelsIndexesOption() {\r\n      if (this.currentChannelsIndexes.length > 1) {\r\n        return null;\r\n      }\r\n      return this.currentChannelsIndexes;\r\n    }\r\n  },\r\n  methods: {\r\n    setCurrentChannelsIndexes(value) {\r\n      if (value === null) {\r\n        const max = Math.min(constants.MAX_MERGEABLE_CHANNELS, this.image.channels);\r\n        value = _.range(0, max);\r\n      }\r\n      this.currentChannelsIndexes = value;\r\n    },\r\n    formatMinutesSeconds(time) {\r\n      return formatMinutesSeconds(time);\r\n    },\r\n    channelValue(channel) {\r\n      if (this.channels.length === this.image.channels) {\r\n        let info = this.channels[channel];\r\n        return (info) ? info.name : null;\r\n      }\r\n      else {\r\n        let rank = slicePositionToRank({\r\n          channel,\r\n          zStack: this.currentZStackIndex,\r\n          time: this.currentTimeIndex\r\n        }, this.image);\r\n        let slice = this.sliceInstances[rank];\r\n        return (slice) ? slice.channelName : null;\r\n      }\r\n    },\r\n\r\n    async goToRank(rank) {\r\n      await this.$store.dispatch(this.imageModule + 'setActiveSliceByRank', rank);\r\n      this.$eventBus.$emit('reloadAnnotations', {idImage: this.image.id});\r\n    },\r\n    async seek(channels, zStack, time) {\r\n      await this.$store.dispatch(this.imageModule + 'setActiveSlicesByPosition', {channels, zStack, time});\r\n      this.$eventBus.$emit('reloadAnnotations', {idImage: this.image.id});\r\n    },\r\n    async shift(dimension, increment) {\r\n      let time = (dimension === 'time') ? this.currentTimeIndex + increment : this.currentTimeIndex;\r\n      let channels = (dimension === 'channel') ? [this.currentChannelIndex + increment] : this.currentChannelsIndexes;\r\n      let zStack = (dimension === 'zStack') ? this.currentZStackIndex + increment : this.currentZStackIndex;\r\n      await this.seek(channels, zStack, time);\r\n    },\r\n    canShiftForward(dimension) {\r\n      switch (dimension) {\r\n        case 'channel':\r\n          return this.currentSlice.channel < this.image.channels - 1;\r\n        case 'time':\r\n          return this.currentSlice.time < this.image.duration - 1;\r\n        case 'zStack':\r\n          return this.currentSlice.zStack < this.image.depth - 1;\r\n        case 'rank':\r\n          return this.currentSlice.rank < this.nbSlices - 1;\r\n      }\r\n    },\r\n    canShiftBackward(dimension) {\r\n      switch (dimension) {\r\n        case 'channel':\r\n          return this.currentSlice.channel >= 1;\r\n        case 'time':\r\n          return this.currentSlice.time >= 1;\r\n        case 'zStack':\r\n          return this.currentSlice.zStack >= 1;\r\n        case 'rank':\r\n          return this.currentSlice.rank >= 1;\r\n      }\r\n    },\r\n\r\n    async shortkeyHandler(key) {\r\n      if (!this.isActiveImage) {\r\n        return;\r\n      }\r\n\r\n      switch (key) {\r\n        case 'nav-next-t':\r\n          if (this.canShiftForward('time')) {\r\n            await this.shift('time', 1);\r\n          }\r\n          return;\r\n        case 'nav-previous-t':\r\n          if (this.canShiftBackward('time')) {\r\n            await this.shift('time', -1);\r\n          }\r\n          return;\r\n        case 'nav-first-t':\r\n          this.currentTimeIndex = 0;\r\n          return;\r\n        case 'nav-last-t':\r\n          this.currentTimeIndex = this.image.duration - 1;\r\n          return;\r\n        case 'nav-next-z':\r\n          if (this.canShiftForward('zStack')) {\r\n            this.currentZStackIndex++;\r\n          }\r\n          return;\r\n        case 'nav-previous-z':\r\n          if (this.canShiftBackward('zStack')) {\r\n            this.currentZStackIndex--;\r\n          }\r\n          return;\r\n        case 'nav-first-z':\r\n          this.currentZStackIndex = 0;\r\n          return;\r\n        case 'nav-last-z':\r\n          this.currentZStackIndex = this.image.depth - 1;\r\n          return;\r\n        case 'nav-next-c':\r\n          if (!this.showMultiChannels && this.canShiftForward('channel')) {\r\n            this.currentChannelIndex++;\r\n          }\r\n          return;\r\n        case 'nav-previous-c':\r\n          if (!this.showMultiChannels && this.canShiftBackward('channel')) {\r\n            this.currentChannelIndex--;\r\n          }\r\n          return;\r\n        case 'nav-first-c':\r\n          if (!this.showMultiChannels) {\r\n            this.currentChannelIndex = 0;\r\n          }\r\n          return;\r\n        case 'nav-last-c':\r\n          if (!this.showMultiChannels) {\r\n            this.currentChannelIndex = this.image.channels - 1;\r\n          }\r\n          return;\r\n        case 'nav-next-slice':\r\n          if (this.canShiftForward('rank')) {\r\n            await this.goToRank(this.currentSlice.rank + 1);\r\n          }\r\n          return;\r\n        case 'nav-previous-slice':\r\n          if (this.canShiftBackward('rank')) {\r\n            await this.goToRank(this.currentSlice.rank - 1);\r\n          }\r\n          return;\r\n        case 'nav-first-slice':\r\n          await this.seek([0], 0, 0);\r\n          return;\r\n        case 'nav-last-slice':\r\n          await this.seek([this.image.channels - 1], this.image.depth - 1, this.image.duration - 1);\r\n          return;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('shortkeyEvent', this.shortkeyHandler);\r\n  },\r\n  beforeDestroy() {\r\n    this.$eventBus.$off('shortkeyEvent', this.shortkeyHandler);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.image-controls-container {\r\n  padding: 0.5rem;\r\n  border-radius: 4px;\r\n  box-shadow: 0 0 1px #777;\r\n  background: white;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.image-dimension {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.image-dimension-name {\r\n  padding-right: 0.5rem;\r\n  width: 1rem;\r\n}\r\n\r\n.image-dimension-slider {\r\n  flex-grow: 3;\r\n}\r\n\r\n.channel-selector {\r\n  width: 100%;\r\n}\r\n\r\n</style>\r\n\r\n<style>\r\n.image-dimension .vue-slider {\r\n  margin-left: 1rem;\r\n  margin-right: 1rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageControls.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageControls.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ImageControls.vue?vue&type=template&id=ff293574&scoped=true\"\nimport script from \"./ImageControls.vue?vue&type=script&lang=js\"\nexport * from \"./ImageControls.vue?vue&type=script&lang=js\"\nimport style0 from \"./ImageControls.vue?vue&type=style&index=0&id=ff293574&prod&lang=scss&scoped=true\"\nimport style1 from \"./ImageControls.vue?vue&type=style&index=1&id=ff293574&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ff293574\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.isPanelDisplayed('annotation-main'))?_c('annotation-details-container',{attrs:{\"index\":_vm.index},on:{\"select\":_vm.selectAnnotation,\"centerView\":function($event){return _vm.centerView({annot: $event, sameView: true})},\"addTerm\":_vm.addTerm,\"addTrack\":_vm.addTrack,\"updateTermsOrTracks\":_vm.updateTermsOrTracks,\"updateProperties\":_vm.updateProperties,\"delete\":_vm.handleDeletion}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"playground\",staticClass:\"annotation-details-playground\"},[(_vm.selectedFeature && _vm.selectedFeature.properties && _vm.reload)?_c('vue-draggable-resizable',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayAnnotDetails),expression:\"displayAnnotDetails\"}],ref:\"detailsPanel\",staticClass:\"draggable\",attrs:{\"parent\":true,\"resizable\":false,\"drag-handle\":\".drag\",\"w\":_vm.width,\"h\":\"auto\",\"x\":_vm.positionAnnotDetails.x,\"y\":_vm.positionAnnotDetails.y},on:{\"dragstop\":_vm.dragStop}},[_c('div',{staticClass:\"actions\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('current-selection')))]),_c('button',{staticClass:\"drag button is-small close\"},[_c('i',{staticClass:\"fas fa-arrows-alt\"})]),_c('button',{staticClass:\"button is-small close\",on:{\"click\":function($event){_vm.displayAnnotDetails = false}}},[_c('i',{staticClass:\"fas fa-times\"})])]),_c('div',{staticClass:\"annotation-details-container\"},[_c('annotation-details',{key:_vm.selectedFeature.id,attrs:{\"annotation\":_vm.selectedFeature.properties.annot,\"terms\":_vm.terms,\"images\":[_vm.image],\"slices\":_vm.slices,\"profiles\":_vm.profiles,\"tracks\":_vm.tracks,\"users\":_vm.allUsers,\"showImageInfo\":false,\"showChannelInfo\":_vm.showChannelInfo,\"showComments\":_vm.showComments},on:{\"addTerm\":function($event){return _vm.$emit('addTerm', $event)},\"addTrack\":function($event){return _vm.$emit('addTrack', $event)},\"updateTerms\":function($event){return _vm.$emit('updateTermsOrTracks', _vm.annot)},\"updateTracks\":function($event){return _vm.$emit('updateTermsOrTracks', _vm.annot)},\"updateProperties\":function($event){return _vm.$emit('updateProperties')},\"select\":function($event){return _vm.$emit('select', $event)},\"centerView\":function($event){_vm.$emit('centerView', ($event) ? $event : _vm.annot)},\"deletion\":function($event){return _vm.$emit('delete', _vm.annot)}}})],1)]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"annotation-details-playground\" ref=\"playground\">\r\n  <vue-draggable-resizable\r\n    v-if=\"selectedFeature && selectedFeature.properties && reload\"\r\n    v-show=\"displayAnnotDetails\"\r\n    class=\"draggable\"\r\n    :parent=\"true\"\r\n    :resizable=\"false\"\r\n    drag-handle=\".drag\"\r\n    @dragstop=\"dragStop\"\r\n    :w=\"width\" h='auto' :x=\"positionAnnotDetails.x\" :y=\"positionAnnotDetails.y\"\r\n    ref=\"detailsPanel\"\r\n  >\r\n    <div class=\"actions\">\r\n      <h1>{{$t('current-selection')}}</h1>\r\n      <button class=\"drag button is-small close\">\r\n        <i class=\"fas fa-arrows-alt\"></i>\r\n      </button>\r\n      <button class=\"button is-small close\" @click=\"displayAnnotDetails = false\">\r\n        <i class=\"fas fa-times\"></i>\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"annotation-details-container\">\r\n      <annotation-details\r\n        :annotation=\"selectedFeature.properties.annot\"\r\n        :terms=\"terms\"\r\n        :images=\"[image]\"\r\n        :slices=\"slices\"\r\n        :profiles=\"profiles\"\r\n        :tracks=\"tracks\"\r\n        :users=\"allUsers\"\r\n        :showImageInfo=\"false\"\r\n        :showChannelInfo=\"showChannelInfo\"\r\n        :key=\"selectedFeature.id\"\r\n        :showComments=\"showComments\"\r\n        @addTerm=\"$emit('addTerm', $event)\"\r\n        @addTrack=\"$emit('addTrack', $event)\"\r\n        @updateTerms=\"$emit('updateTermsOrTracks', annot)\"\r\n        @updateTracks=\"$emit('updateTermsOrTracks', annot)\"\r\n        @updateProperties=\"$emit('updateProperties')\"\r\n        @select=\"$emit('select', $event)\"\r\n        @centerView=\"$emit('centerView', ($event) ? $event : annot)\"\r\n        @deletion=\"$emit('delete', annot)\"\r\n      />\r\n    </div>\r\n  </vue-draggable-resizable>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport VueDraggableResizable from 'vue-draggable-resizable';\r\n\r\nimport AnnotationDetails from '@/components/annotations/AnnotationDetails';\r\nimport {UserCollection, UserJobCollection} from 'cytomine-client';\r\nimport {fullName} from '@/utils/user-utils.js';\r\n\r\nexport default {\r\n  name: 'annotations-details-container',\r\n  components: {VueDraggableResizable, AnnotationDetails},\r\n  props: {\r\n    index: String,\r\n  },\r\n  data() {\r\n    return {\r\n      width: 320,\r\n      projectUsers: [],\r\n      userJobs: [],\r\n      reload: true,\r\n      showComments: false\r\n    };\r\n  },\r\n  computed: {\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    slices() {\r\n      return this.imageWrapper.activeSlices;\r\n    },\r\n    showChannelInfo() {\r\n      return this.imageWrapper.activeSlices && this.imageWrapper.activeSlices.length > 1;\r\n    },\r\n    profiles() {\r\n      return this.imageWrapper.profile ? [this.imageWrapper.profile] : [];\r\n    },\r\n    displayAnnotDetails: {\r\n      get() {\r\n        return this.imageWrapper.selectedFeatures.displayAnnotDetails;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setDisplayAnnotDetails', value);\r\n      }\r\n    },\r\n    positionAnnotDetails: {\r\n      get() {\r\n        return this.imageWrapper.selectedFeatures.positionAnnotDetails;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setPositionAnnotDetails', value);\r\n      }\r\n    },\r\n    selectedFeature() {\r\n      return this.$store.getters[this.imageModule + 'selectedFeature'];\r\n    },\r\n    allUsers() {\r\n      let allUsers = this.projectUsers.concat(this.userJobs);\r\n      allUsers.forEach(user => user.fullName = fullName(user));\r\n      return allUsers;\r\n    },\r\n    annot() {\r\n      return this.selectedFeature ? this.selectedFeature.properties.annot : {};\r\n    },\r\n    terms() {\r\n      return this.$store.getters['currentProject/terms'] || [];\r\n    },\r\n    tracks() {\r\n      return this.imageWrapper.tracks.tracks;\r\n    }\r\n  },\r\n  watch: {\r\n    selectedFeature() {\r\n      if(this.selectedFeature) {\r\n        this.displayAnnotDetails = true;\r\n        let targetAnnot = this.imageWrapper.selectedFeatures.showComments;\r\n        this.showComments = (targetAnnot === this.annot.id);\r\n        if(targetAnnot !== null) {\r\n          this.$store.commit(this.imageModule + 'setShowComments', null);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchUsers() {\r\n      let collection = new UserCollection({\r\n        filterKey: 'project',\r\n        filterValue: this.image.project.id,\r\n      });\r\n\r\n      this.projectUsers = (await collection.fetchAll()).array;\r\n    },\r\n    async fetchUserJobs() {\r\n      this.userJobs = (await UserJobCollection.fetchAll({\r\n        filterKey: 'project',\r\n        filterValue: this.image.project\r\n      })).array;\r\n    },\r\n\r\n    dragStop(x, y) {\r\n      this.positionAnnotDetails = {x, y};\r\n    },\r\n\r\n    async handleResize() {\r\n      await this.$nextTick(); // wait for update of clientWidth and clientHeight to their new values\r\n\r\n      if(this.$refs.playground) {\r\n        let maxX = Math.max(this.$refs.playground.clientWidth - this.width, 0);\r\n        let height = 500;\r\n        if (this.$refs.detailsPanel) {\r\n          height = this.$refs.detailsPanel.height;\r\n        }\r\n        let maxY = Math.max(this.$refs.playground.clientHeight - height, 0);\r\n        let x = Math.min(this.positionAnnotDetails.x, maxX);\r\n        let y = Math.min(this.positionAnnotDetails.y, maxY);\r\n        this.positionAnnotDetails = {x, y};\r\n\r\n        // HACK to force the component to recreate and take into account new (x,y) ; should no longer be\r\n        // necessary with version 2 of vue-draggable-resizable\r\n        this.reload = false;\r\n        this.$nextTick(() => this.reload = true);\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchUsers();\r\n    this.fetchUserJobs();\r\n  },\r\n  mounted() {\r\n    window.addEventListener('resize', this.handleResize);\r\n    this.$eventBus.$on('updateMapSize', this.handleResize);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener('resize', this.handleResize);\r\n    this.$eventBus.$off('updateMapSize', this.handleResize);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.annotation-details-playground {\r\n  position: absolute;\r\n  left: 3.5rem;\r\n  top: 3.5rem;\r\n  right: 4.5rem;\r\n  bottom: 2em;\r\n  pointer-events: none; /* to allow selection of elements below it */\r\n  /* background: rgba(255, 255, 255, 0.2);\r\n  border: 2px dashed rgba(0, 0, 0, 0.5); */\r\n}\r\n\r\n.draggable {\r\n  background: #f2f2f2;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: 5px;\r\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n  pointer-events: auto;\r\n}\r\n\r\n.actions {\r\n  padding: 0.35em;\r\n  text-align: right;\r\n  background-color: #e5e5e5;\r\n  border-bottom: 1px solid #b5b5b5;\r\n  border-radius: 5px 5px 0 0;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\nh1 {\r\n  font-size: 0.9rem;\r\n  padding: 0;\r\n  flex: 1;\r\n  text-align: left;\r\n  margin-left: 0.4em;\r\n}\r\n\r\n.actions .button {\r\n  margin-left: 0.25rem;\r\n  width: 1.75rem;\r\n}\r\n\r\n.annotation-details-container {\r\n  padding: 0.6em;\r\n  overflow: auto;\r\n  height: 100%;\r\n}\r\n</style>\r\n\r\n<style>\r\n.dragging .button.drag {\r\n  background-color: #6899d0;\r\n  color: #fff;\r\n}\r\n\r\n.annotation-details-playground .draggable {\r\n  z-index: 15 !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetailsContainer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetailsContainer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AnnotationDetailsContainer.vue?vue&type=template&id=0d23ef15&scoped=true\"\nimport script from \"./AnnotationDetailsContainer.vue?vue&type=script&lang=js\"\nexport * from \"./AnnotationDetailsContainer.vue?vue&type=script&lang=js\"\nimport style0 from \"./AnnotationDetailsContainer.vue?vue&type=style&index=0&id=0d23ef15&prod&scoped=true&lang=css\"\nimport style1 from \"./AnnotationDetailsContainer.vue?vue&type=style&index=1&id=0d23ef15&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d23ef15\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <annotation-details-container\r\n      v-if=\"isPanelDisplayed('annotation-main')\"\r\n      :index=\"index\"\r\n      @select=\"selectAnnotation\"\r\n      @centerView=\"centerView({annot: $event, sameView: true})\"\r\n      @addTerm=\"addTerm\"\r\n      @addTrack=\"addTrack\"\r\n      @updateTermsOrTracks=\"updateTermsOrTracks\"\r\n      @updateProperties=\"updateProperties\"\r\n      @delete=\"handleDeletion\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {Action, updateTermProperties, updateTrackProperties} from '@/utils/annotation-utils.js';\r\n\r\nimport WKT from 'ol/format/WKT';\r\n\r\nimport AnnotationDetailsContainer from './AnnotationDetailsContainer';\r\n\r\nexport default {\r\n  name: 'AnnotationsContainer',\r\n  props: {\r\n    index: String,\r\n  },\r\n  data() {\r\n    return {\r\n      format: new WKT(),\r\n    };\r\n  },\r\n  components: {\r\n    AnnotationDetailsContainer,\r\n  },\r\n  computed: {\r\n    configUI: get('currentProject/configUI'),\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n  },\r\n  methods: {\r\n    isPanelDisplayed(panel) {\r\n      return this.configUI[`project-explore-${panel}`];\r\n    },\r\n\r\n    addTerm(term) {\r\n      this.$store.dispatch(this.viewerModule + 'addTerm', term);\r\n    },\r\n\r\n    addTrack(track) {\r\n      this.$store.dispatch(this.viewerModule + 'refreshTracks', {idImage: track.image});\r\n    },\r\n\r\n    async updateTermsOrTracks(annot) {\r\n      let updatedAnnot = await annot.clone().fetch();\r\n      await updateTermProperties(updatedAnnot);\r\n      await updateTrackProperties(updatedAnnot);\r\n\r\n      this.$eventBus.$emit('editAnnotation', updatedAnnot);\r\n      this.$store.commit(this.imageModule + 'changeAnnotSelectedFeature', {indexFeature: 0, annot: updatedAnnot});\r\n    },\r\n\r\n    updateProperties() {\r\n      this.$store.dispatch(this.imageModule + 'refreshProperties', this.index);\r\n    },\r\n\r\n    handleDeletion(annot) {\r\n      this.$store.commit(this.imageModule + 'addAction', {annot: annot, type: Action.DELETE});\r\n      this.$eventBus.$emit('deleteAnnotation', annot);\r\n    },\r\n\r\n    selectAnnotation({annot, options}) {\r\n      let index = (options.trySameView) ? this.index : null;\r\n      this.$eventBus.$emit('selectAnnotation', {index, annot, center: true});\r\n    },\r\n\r\n    centerView({annot, sameView=false}) {\r\n      if (sameView) {\r\n        this.$emit('centerView', annot);\r\n      }\r\n      else {\r\n        this.$eventBus.$emit('selectAnnotation', {index: null, annot, center: true});\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationsContainer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationsContainer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AnnotationsContainer.vue?vue&type=template&id=0c9628f6&scoped=true\"\nimport script from \"./AnnotationsContainer.vue?vue&type=script&lang=js\"\nexport * from \"./AnnotationsContainer.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c9628f6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(\" \"+_vm._s(_vm.$t('information'))+\" \")]),_c('table',{staticClass:\"table\"},[_c('tbody',[(_vm.currentUser.isDeveloper)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('id')))])]),_c('td',[_vm._v(_vm._s(_vm.image.id))])]):_vm._e(),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('name')))])]),_c('td',[_c('image-name',{attrs:{\"image\":_vm.image,\"showBothNames\":\"\"}})],1)]),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('width')))])]),_c('td',[_vm._v(_vm._s(_vm.image.width)+\" \"+_vm._s(_vm.$t(\"pixels\")))])]),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('height')))])]),_c('td',[_vm._v(_vm._s(_vm.image.height)+\" \"+_vm._s(_vm.$t(\"pixels\")))])]),(_vm.image.depth > 1)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('image-depth')))])]),_c('td',[_vm._v(_vm._s(_vm.$tc(\"count-slices\", _vm.image.depth, {count: _vm.image.depth})))])]):_vm._e(),(_vm.image.duration > 1)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('image-time')))])]),_c('td',[_vm._v(_vm._s(_vm.$tc(\"count-frames\", _vm.image.duration, {count: _vm.image.duration})))])]):_vm._e(),(_vm.image.channels > 1)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('image-channels')))])]),_c('td',[_vm._v(\" \"+_vm._s(_vm.$tc(\"count-bands\", _vm.image.apparentChannels, {count: _vm.image.apparentChannels}))+\" (\"+_vm._s(_vm.image.channels)+\" x \"+_vm._s(_vm.image.samplePerPixel)+\") \")])]):_vm._e(),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('resolution')))])]),(_vm.image.physicalSizeX)?_c('td',[_vm._v(_vm._s(_vm.image.physicalSizeX.toFixed(3))+\" \"+_vm._s(_vm.$t(\"um-per-pixel\")))]):_c('td',[_vm._v(_vm._s(_vm.$t(\"unknown\")))])]),(_vm.image.depth > 1)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('z-resolution')))])]),(_vm.image.physicalSizeZ)?_c('td',[_vm._v(_vm._s(_vm.image.physicalSizeZ.toFixed(3))+\" \"+_vm._s(_vm.$t(\"um-per-slice\")))]):_c('td',[_vm._v(_vm._s(_vm.$t(\"unknown\")))])]):_vm._e(),(_vm.image.duration > 1)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('frame-rate')))])]),(_vm.image.fps)?_c('td',[_vm._v(_vm._s(_vm.image.fps.toFixed(3))+\" \"+_vm._s(_vm.$t(\"frame-per-second\")))]):_c('td',[_vm._v(_vm._s(_vm.$t(\"unknown\")))])]):_vm._e(),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('magnification')))])]),(_vm.image.magnification)?_c('td',[_vm._v(_vm._s(_vm.image.magnification))]):_c('td',[_vm._v(_vm._s(_vm.$t('unknown')))])]),_c('tr',[_c('td',{staticClass:\"buttons-wrapper\",attrs:{\"colspan\":\"2\"}},[_c('div',{staticClass:\"buttons\"},[(_vm.canEdit)?_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.calibrationModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-set-calibration'))+\" \")]):_vm._e(),_c('router-link',{staticClass:\"button is-small\",attrs:{\"to\":`/project/${_vm.image.project}/image/${_vm.image.id}/information`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-more-info'))+\" \")]),(_vm.canDownloadImages)?_c('a',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.download(_vm.image, _vm.shortTermToken)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-download'))+\" \")]):_vm._e()],1)])]),_c('tr',[_c('td',{staticClass:\"buttons-wrapper\",attrs:{\"colspan\":\"2\"}},[_c('div',{staticClass:\"buttons navigation has-addons\"},[_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":_vm.isFirstImage},on:{\"click\":function($event){return _vm.previousImage()}}},[_c('i',{staticClass:\"fas fa-angle-left fa-lg\"}),_vm._v(\" \"+_vm._s(_vm.$t('button-previous-image'))+\" \")]),_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":_vm.isLastImage},on:{\"click\":function($event){return _vm.nextImage()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-next-image'))+\" \"),_c('i',{staticClass:\"fas fa-angle-right fa-lg\"})])])])])])]),_c('calibration-modal',{attrs:{\"image\":_vm.image,\"active\":_vm.calibrationModal},on:{\"update:active\":function($event){_vm.calibrationModal=$event},\"setResolution\":_vm.setResolution}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <h1>\r\n    {{$t('information')}}\r\n  </h1>\r\n  <table class=\"table\">\r\n    <tbody>\r\n      <tr v-if=\"currentUser.isDeveloper\">\r\n        <td><strong>{{$t('id')}}</strong></td>\r\n        <td>{{image.id}}</td>\r\n      </tr>\r\n      <tr>\r\n        <td><strong>{{$t('name')}}</strong></td>\r\n        <td><image-name :image=\"image\" showBothNames /></td>\r\n      </tr>\r\n      <tr>\r\n        <td><strong>{{$t('width')}}</strong></td>\r\n        <td>{{image.width}} {{$t(\"pixels\")}}</td>\r\n      </tr>\r\n      <tr>\r\n        <td><strong>{{$t('height')}}</strong></td>\r\n        <td>{{image.height}} {{$t(\"pixels\")}}</td>\r\n      </tr>\r\n      <tr v-if=\"image.depth > 1\">\r\n        <td><strong>{{$t('image-depth')}}</strong></td>\r\n        <td>{{$tc(\"count-slices\", image.depth, {count: image.depth})}}</td>\r\n      </tr>\r\n      <tr v-if=\"image.duration > 1\">\r\n        <td><strong>{{$t('image-time')}}</strong></td>\r\n        <td>{{$tc(\"count-frames\", image.duration, {count: image.duration})}}</td>\r\n      </tr>\r\n      <tr v-if=\"image.channels > 1\">\r\n        <td><strong>{{$t('image-channels')}}</strong></td>\r\n        <td>\r\n          {{$tc(\"count-bands\", image.apparentChannels, {count: image.apparentChannels})}}\r\n          ({{image.channels}} x {{image.samplePerPixel}})\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td><strong>{{$t('resolution')}}</strong></td>\r\n        <td v-if=\"image.physicalSizeX\">{{image.physicalSizeX.toFixed(3)}} {{$t(\"um-per-pixel\")}}</td>\r\n        <td v-else>{{$t(\"unknown\")}}</td>\r\n      </tr>\r\n      <tr v-if=\"image.depth > 1\">\r\n        <td><strong>{{$t('z-resolution')}}</strong></td>\r\n        <td v-if=\"image.physicalSizeZ\">{{image.physicalSizeZ.toFixed(3)}} {{$t(\"um-per-slice\")}}</td>\r\n        <td v-else>{{$t(\"unknown\")}}</td>\r\n      </tr>\r\n      <tr v-if=\"image.duration > 1\">\r\n        <td><strong>{{$t('frame-rate')}}</strong></td>\r\n        <td v-if=\"image.fps\">{{image.fps.toFixed(3)}} {{$t(\"frame-per-second\")}}</td>\r\n        <td v-else>{{$t(\"unknown\")}}</td>\r\n      </tr>\r\n      <tr>\r\n        <td><strong>{{$t('magnification')}}</strong></td>\r\n        <td v-if=\"image.magnification\">{{image.magnification}}</td>\r\n        <td v-else>{{$t('unknown')}}</td>\r\n      </tr>\r\n      <tr>\r\n        <td colspan=\"2\" class=\"buttons-wrapper\">\r\n          <div class=\"buttons\">\r\n            <button v-if=\"canEdit\" class=\"button is-small\" @click=\"calibrationModal = true\">\r\n              {{$t('button-set-calibration')}}\r\n            </button>\r\n            <router-link :to=\"`/project/${image.project}/image/${image.id}/information`\" class=\"button is-small\">\r\n              {{$t('button-more-info')}}\r\n            </router-link>\r\n            <a class=\"button is-small\" v-if=\"canDownloadImages\" @click=\"download(image, shortTermToken)\">\r\n              {{$t('button-download')}}\r\n            </a>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td colspan=\"2\" class=\"buttons-wrapper\">\r\n          <div class=\"buttons navigation has-addons\">\r\n            <button class=\"button is-small\" @click=\"previousImage()\" :disabled=\"isFirstImage\">\r\n              <i class=\"fas fa-angle-left fa-lg\"></i> {{$t('button-previous-image')}}\r\n            </button>\r\n            <button class=\"button is-small\" @click=\"nextImage()\" :disabled=\"isLastImage\">\r\n              {{$t('button-next-image')}} <i class=\"fas fa-angle-right fa-lg\"></i>\r\n            </button>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n  <calibration-modal\r\n    :image=\"image\"\r\n    :active.sync=\"calibrationModal\"\r\n    @setResolution=\"setResolution\"\r\n  />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport ImageName from '@/components/image/ImageName';\r\nimport CalibrationModal from '@/components/image/CalibrationModal';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\n\r\nexport default {\r\n  name: 'information-panel',\r\n  components: {\r\n    ImageName,\r\n    CalibrationModal\r\n  },\r\n  props: {\r\n    index: String\r\n  },\r\n  data() {\r\n    return {\r\n      calibrationModal: false,\r\n      isFirstImage: false,\r\n      isLastImage: false\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    viewerWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'];\r\n    },\r\n    image() {\r\n      return this.viewerWrapper.images[this.index].imageInstance;\r\n    },\r\n    canEdit() {\r\n      return this.$store.getters['currentProject/canEditImage'](this.image);\r\n    },\r\n    canDownloadImages() {\r\n      // Virtual images (null path) cannot be downloaded.\r\n      return this.image.path !== null && (\r\n        this.canManageProject ||\r\n        ((this.$store.state.currentProject.project || {}).areImagesDownloadable) || false\r\n      );\r\n    },\r\n    canManageProject() {\r\n      return this.$store.getters['currentProject/canManageProject'];\r\n    },\r\n    isActiveImage() {\r\n      return this.viewerWrapper.activeImage === this.index;\r\n    }\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    setResolution(resolution) {\r\n      this.$store.dispatch(this.viewerModule + 'setImageResolution', {idImage: this.image.id, resolution});\r\n      this.$eventBus.$emit('reloadAnnotations', {idImage: this.image.id}); // refresh the sources to update perimeter/area\r\n    },\r\n    download(image) {\r\n      window.location.assign(appendShortTermToken(image.downloadURL, this.shortTermToken));\r\n    },\r\n    async previousImage() {\r\n      try {\r\n        let prev = await this.image.fetchPrevious();\r\n        if(!prev.id) {\r\n          this.$notify({type: 'error', text: this.$t('notif-error-first-image')});\r\n          this.isFirstImage = true;\r\n        }\r\n        else {\r\n          let slice = await prev.fetchReferenceSlice();\r\n          await this.$store.dispatch(this.imageModule + 'setImageInstance', {image: prev, slices: [slice]});\r\n        }\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-fetch-previous-image')});\r\n      }\r\n    },\r\n    async nextImage() {\r\n      try {\r\n        let next = await this.image.fetchNext();\r\n        if(!next.id) {\r\n          this.$notify({type: 'error', text: this.$t('notif-error-last-image')});\r\n          this.isLastImage = true;\r\n        }\r\n        else {\r\n          let slice = await next.fetchReferenceSlice();\r\n          await this.$store.dispatch(this.imageModule + 'setImageInstance', {image: next, slices: [slice]});\r\n        }\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-fetch-next-image')});\r\n      }\r\n    },\r\n\r\n    shortkeyHandler(key) {\r\n      if(!this.isActiveImage) { // shortkey should only be applied to active map\r\n        return;\r\n      }\r\n\r\n      if(key === 'nav-next-image') {\r\n        this.nextImage();\r\n      }\r\n      else if(key === 'nav-previous-image') {\r\n        this.previousImage();\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('shortkeyEvent', this.shortkeyHandler);\r\n  },\r\n  beforeDestroy() {\r\n    this.$eventBus.$off('shortkeyEvent', this.shortkeyHandler);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n  margin-bottom: 0 !important;\r\n  width: 100%;\r\n  table-layout: fixed;\r\n}\r\n\r\ntd {\r\n  word-wrap: break-word;\r\n}\r\n\r\ntd:first-child {\r\n  width: 10em;\r\n}\r\n\r\n.buttons-wrapper {\r\n  padding-left: 0;\r\n  padding-right: 0;\r\n}\r\n\r\n.buttons {\r\n  justify-content: center;\r\n}\r\n\r\n.buttons.navigation {\r\n  margin-top: 0.7em;\r\n  margin-bottom: 0;\r\n  border-width: 0;\r\n}\r\n\r\n.fa-angle-left {\r\n  margin-right: 0.4em;\r\n}\r\n\r\n.fa-angle-right {\r\n  margin-left: 0.4em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InformationPanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InformationPanel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./InformationPanel.vue?vue&type=template&id=c76e9400&scoped=true\"\nimport script from \"./InformationPanel.vue?vue&type=script&lang=js\"\nexport * from \"./InformationPanel.vue?vue&type=script&lang=js\"\nimport style0 from \"./InformationPanel.vue?vue&type=style&index=0&id=c76e9400&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c76e9400\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$t('digital-zoom')))]),_c('b-checkbox',{model:{value:(_vm.digitalZoom),callback:function ($$v) {_vm.digitalZoom=$$v},expression:\"digitalZoom\"}},[_vm._v(\" \"+_vm._s(_vm.$t('digital-zoom-checkbox-label'))+\" \")]),_c('div',{staticClass:\"actions level\"},[_c('button',{staticClass:\"button is-small level-item\",on:{\"click\":function($event){return _vm.$emit('fitZoom')}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-best-fit-zoom'))+\" \")]),_c('button',{staticClass:\"button is-small level-item\",on:{\"click\":function($event){return _vm.$emit('resetZoom')}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-reset-zoom'))+\" \")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <h1>{{$t('digital-zoom')}}</h1>\r\n  <b-checkbox v-model=\"digitalZoom\">\r\n    {{$t('digital-zoom-checkbox-label')}}\r\n  </b-checkbox>\r\n\r\n  <div class=\"actions level\">\r\n    <button class=\"button is-small level-item\" @click=\"$emit('fitZoom')\">\r\n      {{ $t('button-best-fit-zoom') }}\r\n    </button>\r\n    <button class=\"button is-small level-item\" @click=\"$emit('resetZoom')\">\r\n      {{ $t('button-reset-zoom') }}\r\n    </button>\r\n  </div>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'digital-zoom',\r\n  props: {\r\n    index: String\r\n  },\r\n  computed: {\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    digitalZoom: {\r\n      get() {\r\n        return this.imageWrapper.view.digitalZoom;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setDigitalZoom', Boolean(value));\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .actions .button {\r\n    margin: 3px;\r\n    box-sizing: border-box;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DigitalZoom.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DigitalZoom.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DigitalZoom.vue?vue&type=template&id=319faf68&scoped=true\"\nimport script from \"./DigitalZoom.vue?vue&type=script&lang=js\"\nexport * from \"./DigitalZoom.vue?vue&type=script&lang=js\"\nimport style0 from \"./DigitalZoom.vue?vue&type=style&index=0&id=319faf68&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"319faf68\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$t('colors')))]),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\",\"size\":\"is-small\"}},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('table',{staticClass:\"table\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"checkbox-column\"},[_c('span',{staticClass:\"far fa-eye\"})]),_c('th',{staticClass:\"name-column\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"size\":\"is-small\",\"expanded\":\"\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('th',{staticClass:\"bounds-column\"},[_c('div',{staticClass:\"buttons has-addons is-right\"},[(_vm.isImageMultidimensional)?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('button-adjust-slice')),expression:\"$t('button-adjust-slice')\"}],staticClass:\"button is-small\",attrs:{\"disabled\":_vm.areBoundsAdjustedToSlice},on:{\"click\":_vm.adjustAllToSlice}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-magic\"}),_c('span',{staticClass:\"subscript\"},[_vm._v(\"ZT\")])])]):_vm._e(),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.adjustImageLabel),expression:\"adjustImageLabel\"}],staticClass:\"button is-small\",attrs:{\"disabled\":_vm.areBoundsAdjustedToImage},on:{\"click\":_vm.adjustAllToImage}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-magic\"})])]),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('button-reset')),expression:\"$t('button-reset')\"}],staticClass:\"button is-small\",attrs:{\"disabled\":_vm.areBoundsDefault},on:{\"click\":_vm.resetAll}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-tint-slash\"})])])])]),_c('th',{staticClass:\"settings-column\"},[_c('b-dropdown',{attrs:{\"position\":\"is-bottom-left\"},scopedSlots:_vm._u([{key:\"trigger\",fn:function({ active }){return [_c('button',{staticClass:\"button is-small\",class:{'is-selected': active}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-cogs\"})])])]}}])},[_c('b-dropdown-item',{attrs:{\"custom\":\"\"}},[_c('b-field',{attrs:{\"label\":_vm.$t('histogram-scale'),\"custom-class\":\"is-small\"}},[_c('div',{staticClass:\"block\"},[_c('b-radio',{attrs:{\"native-value\":false,\"size\":\"is-small\"},model:{value:(_vm.histogramLogScale),callback:function ($$v) {_vm.histogramLogScale=$$v},expression:\"histogramLogScale\"}},[_vm._v(\" \"+_vm._s(_vm.$t('linear'))+\" \")]),_c('b-radio',{attrs:{\"native-value\":true,\"size\":\"is-small\"},model:{value:(_vm.histogramLogScale),callback:function ($$v) {_vm.histogramLogScale=$$v},expression:\"histogramLogScale\"}},[_vm._v(\" \"+_vm._s(_vm.$t('logarithmic'))+\" \")])],1)]),_c('b-field',{attrs:{\"label\":_vm.$t('intensities-manipulation'),\"custom-class\":\"is-small\"}},[_c('div',{staticClass:\"block\"},[_c('b-radio',{attrs:{\"native-value\":true,\"size\":\"is-small\"},model:{value:(_vm.intensitiesByMinMax),callback:function ($$v) {_vm.intensitiesByMinMax=$$v},expression:\"intensitiesByMinMax\"}},[_vm._v(\" \"+_vm._s(_vm.$t('min-max'))+\" \")]),_c('b-radio',{attrs:{\"native-value\":false,\"size\":\"is-small\"},model:{value:(_vm.intensitiesByMinMax),callback:function ($$v) {_vm.intensitiesByMinMax=$$v},expression:\"intensitiesByMinMax\"}},[_vm._v(\" \"+_vm._s(_vm.$t('brightness'))+\"/\"+_vm._s(_vm.$t('contrast'))+\" \")])],1)])],1)],1)],1)])]),_c('tbody',[_vm._l((_vm.filteredManipulableChannels),function(mc){return [_c('tr',{key:`channel-${_vm.image.id}-${mc.index}`},[_c('td',{staticClass:\"checkbox-column\"},[_c('b-checkbox',{attrs:{\"size\":\"is-small\",\"value\":mc.visible,\"disabled\":_vm.isApparentChannelVisibilityDisabled(mc)},on:{\"input\":function($event){return _vm.setApparentChannelVisibility(mc.index, $event)}}})],1),_c('td',{staticClass:\"name-column\"},[_c('cytomine-channel',{attrs:{\"name\":mc.name,\"color\":mc.color,\"default-color\":mc.defaultColor,\"channel-index\":mc.channel,\"sample-index\":mc.sample,\"nb-samples-per-channel\":_vm.image.samplePerPixel,\"editable-color\":true},on:{\"setColor\":function($event){return _vm.setApparentChannelColor(mc.index, $event)},\"click\":function($event){return _vm.toggleLookUpTableDetails(mc.index)}}})],1),_c('td',{staticClass:\"bounds-column\"},[_vm._v(\" (\"+_vm._s(mc.bounds.min)+\" - \"+_vm._s(mc.bounds.max)+\") \")]),_c('td',{staticClass:\"checkbox-column\"},[_c('a',{attrs:{\"role\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleLookUpTableDetails(mc.index)}}},[(_vm.isVisibleLookUpTableDetails(mc.index))?_c('i',{staticClass:\"fas fa-chevron-down\"}):_c('i',{staticClass:\"fas fa-chevron-up\"})])])]),(_vm.isVisibleLookUpTableDetails(mc.index))?_c('tr',{key:`channel-${_vm.image.id}-${mc.index}-details`},[_c('td',{attrs:{\"colspan\":\"4\"}},[_c('div',{staticClass:\"chart-container channel-histogram\"},[_c('histogram-chart',{attrs:{\"log-scale\":_vm.histogramLogScale,\"color\":mc.color,\"histogram\":mc.histogram.histogram,\"n-bins\":mc.histogram.nBins,\"first-bin\":mc.histogram.firstBin,\"last-bin\":mc.histogram.lastBin,\"default-bounds\":_vm.defaultBounds,\"image-bounds\":{min: mc.histogram.minimum, max:mc.histogram.maximum},\"current-bounds\":mc.bounds,\"gamma\":mc.gamma,\"inverted\":mc.inverted,\"css-classes\":\"chart\"}})],1),_c('adjustable-look-up-table',{attrs:{\"index\":_vm.index,\"adjust-image-label\":_vm.adjustImageLabel,\"show-adjust-buttons\":_vm.manipulableChannels.length > 1,\"intensities-by-min-max\":_vm.intensitiesByMinMax,\"default-bounds\":_vm.defaultBounds,\"gamma\":mc.gamma,\"inverted\":mc.inverted,\"bounds\":mc.bounds,\"image-bounds\":mc.imageBounds,\"slice-bounds\":{min: mc.histogram.minimum, max: mc.histogram.maximum}},on:{\"setBounds\":function($event){return _vm.setApparentChannelBounds(mc.index, $event)},\"adjustToImage\":function($event){return _vm.adjustToImage(mc.index)},\"adjustToSlice\":function($event){return _vm.adjustToSlice(mc.index)},\"reset\":function($event){return _vm.reset(mc.index)},\"setGamma\":function($event){return _vm.setApparentChannelGamma(mc.index, $event)},\"invert\":function($event){return _vm.setApparentChannelInverted(mc.index, $event)}}})],1)]):_vm._e()]})],2)]),(_vm.filters && _vm.filters.length > 0)?_c('b-field',{attrs:{\"horizontal\":\"\",\"label\":_vm.$t('filter')}},[_c('b-select',{attrs:{\"size\":\"is-small\",\"expanded\":\"\"},model:{value:(_vm.selectedFilter),callback:function ($$v) {_vm.selectedFilter=$$v},expression:\"selectedFilter\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.$t('original-no-filter')))]),_vm._l((_vm.filters),function(filter){return _c('option',{key:filter.id,domProps:{\"value\":filter.method}},[_vm._v(\" \"+_vm._s(filter.name)+\" \")])})],2)],1):_vm._e()]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport function sameHistogramBounds(bounds1, bounds2) {\r\n  return bounds1.min === bounds2.min && bounds1.max === bounds2.max;\r\n}\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-popover',{attrs:{\"placement\":\"right\",\"popover-inner-class\":'color-selector',\"open\":_vm.showColorSelector,\"delay\":0},on:{\"update:open\":function($event){_vm.showColorSelector=$event}},scopedSlots:_vm._u([(_vm.showColorSelector)?{key:\"popover\",fn:function(){return [_c('sketch-picker',{attrs:{\"value\":_vm.formattedColor,\"presetColors\":_vm.presetColors,\"disable-alpha\":true},on:{\"input\":_vm.setColor}})]},proxy:true}:null],null,true)},[_c('div',{staticClass:\"color-preview\",class:{'is-selected': _vm.showColorSelector, 'is-clickable': _vm.editableColor},style:({background: _vm.formattedColor}),on:{\"click\":_vm.openColorSelector}})]),_c('a',{attrs:{\"role\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('click')}}},[_vm._v(\" \"+_vm._s(_vm.formattedName)+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <v-popover\r\n    placement=\"right\"\r\n    :popover-inner-class=\"'color-selector'\"\r\n    :open.sync=\"showColorSelector\"\r\n    :delay=\"0\"\r\n  >\r\n    <div\r\n      class=\"color-preview\"\r\n      :style=\"{background: formattedColor}\"\r\n      :class=\"{'is-selected': showColorSelector, 'is-clickable': editableColor}\"\r\n      @click=\"openColorSelector\"\r\n    ></div>\r\n    <template #popover v-if=\"showColorSelector\">\r\n      <sketch-picker\r\n        :value=\"formattedColor\"\r\n        @input=\"setColor\"\r\n        :presetColors=\"presetColors\"\r\n        :disable-alpha=\"true\"\r\n      />\r\n    </template>\r\n\r\n  </v-popover>\r\n  <a\r\n    role=\"button\"\r\n    @click.stop=\"$emit('click')\"\r\n  >\r\n    {{formattedName}}\r\n  </a>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash';\r\n\r\nimport {Sketch} from 'vue-color';\r\n\r\nexport default {\r\n  name: 'cytomine-channel',\r\n  components: {\r\n    'sketch-picker': Sketch,\r\n  },\r\n  props: {\r\n    name: String,\r\n    color: String,\r\n    defaultColor: String,\r\n\r\n    channelIndex: Number,\r\n    sampleIndex: Number,\r\n    nbSamplesPerChannel: {type: Number, default: 1},\r\n\r\n    editableColor: {type: Boolean, default: false},\r\n  },\r\n  data() {\r\n    return {\r\n      showColorSelector: false\r\n    };\r\n  },\r\n  computed: {\r\n    rgbColors() {\r\n      return [this.$t('red'), this.$t('green'), this.$t('blue')];\r\n    },\r\n    formattedName() {\r\n      let name = this.name;\r\n      if (name === null) {\r\n        name = `${this.$t('channel-abbr')} ${this.channelIndex+1}`;\r\n      }\r\n      if (this.nbSamplesPerChannel === 3) {\r\n        name += ` (${this.rgbColors[this.sampleIndex]})`;\r\n      }\r\n      return name;\r\n    },\r\n    formattedColor() {\r\n      if (this.color === null) {\r\n        return '#ffffff';\r\n      }\r\n      return this.color;\r\n    },\r\n    presetColors() {\r\n      let defaultColor = (this.defaultColor === null) ? '#ffffff' : this.defaultColor;\r\n      return [\r\n        defaultColor,\r\n        '#FF0000',\r\n        '#00FF00',\r\n        '#0000FF',\r\n        '#00FFFF',\r\n        '#FFFF00',\r\n        '#FF00FF',\r\n        '#FFF'\r\n      ];\r\n    }\r\n  },\r\n  methods: {\r\n    openColorSelector() {\r\n      if (this.editableColor) {\r\n        this.showColorSelector = !this.showColorSelector;\r\n      }\r\n    },\r\n    setColor: _.debounce(function(color) {\r\n      this.$emit('setColor', color.hex);\r\n    }, 500, {leading: true}),\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.color-selector {\r\n  padding: 0 !important;\r\n}\r\n\r\n.color-selector .vc-sketch {\r\n  width: 180px;\r\n}\r\n\r\n.color-selector .vc-sketch-presets-color {\r\n  width: 1em;\r\n  height: 1em;\r\n  margin: 0 0.25em 0.25em 0;\r\n}\r\n\r\n.color-selector .vc-sketch-presets-color:first-child {\r\n  width: 2.25em;\r\n}\r\n</style>\r\n<style scoped>\r\n.is-clickable {\r\n  cursor: pointer !important;\r\n}\r\n\r\n.color-preview {\r\n  width: 1em;\r\n  height: 1em;\r\n  display: inline-block;\r\n  margin-right: 0.25em;\r\n  border-radius: 0.25em;\r\n  box-shadow: 0 0 1px #777;\r\n  position: relative;\r\n  top: 0.2em;\r\n}\r\n\r\na[role=\"button\"] {\r\n  color: inherit;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineChannel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineChannel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineChannel.vue?vue&type=template&id=23cfb05c&scoped=true\"\nimport script from \"./CytomineChannel.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineChannel.vue?vue&type=script&lang=js\"\nimport style0 from \"./CytomineChannel.vue?vue&type=style&index=0&id=23cfb05c&prod&lang=css\"\nimport style1 from \"./CytomineChannel.vue?vue&type=style&index=1&id=23cfb05c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23cfb05c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.showAdjustButtons)?_c('div',{staticClass:\"buttons has-addons is-centered\"},[(_vm.isImageMultidimensional)?_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":_vm.areBoundsAdjustedToSlice},on:{\"click\":function($event){return _vm.$emit('adjustToSlice')}}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('button-adjust-slice'))+\" \")])]):_vm._e(),_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":_vm.areBoundsAdjustedToImage},on:{\"click\":function($event){return _vm.$emit('adjustToImage')}}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.adjustImageLabel)+\" \")])]),_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":_vm.areBoundsDefault},on:{\"click\":function($event){return _vm.$emit('reset')}}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('button-reset'))+\" \")])])]):_vm._e(),_c('div',{staticClass:\"adjustments\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.intensitiesByMinMax),expression:\"intensitiesByMinMax\"}],staticClass:\"adjustment\"},[_c('div',{staticClass:\"adjustment-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('min-max'))+\" \")]),_c('cytomine-slider',{staticClass:\"adjustment-body\",attrs:{\"value\":_vm.arrayBounds,\"min\":_vm.defaultBounds.min,\"max\":_vm.defaultBounds.max,\"contained\":true,\"smart-tooltip-position\":true,\"size\":\"is-small\"},on:{\"input\":_vm.setBounds}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.intensitiesByMinMax),expression:\"!intensitiesByMinMax\"}],staticClass:\"adjustment\"},[_c('div',{staticClass:\"adjustment-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('brightness'))+\" \")]),_c('cytomine-slider',{staticClass:\"adjustment-body\",attrs:{\"value\":_vm.brightness,\"min\":_vm.defaultBounds.min,\"max\":_vm.defaultBounds.max,\"tooltip\":false,\"contained\":true,\"size\":\"is-small\"},on:{\"input\":_vm.setBrightness}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.intensitiesByMinMax),expression:\"!intensitiesByMinMax\"}],staticClass:\"adjustment\"},[_c('div',{staticClass:\"adjustment-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('contrast'))+\" \")]),_c('cytomine-slider',{staticClass:\"adjustment-body\",attrs:{\"value\":_vm.contrast,\"min\":_vm.defaultBounds.min,\"max\":_vm.defaultBounds.max,\"tooltip\":false,\"contained\":true,\"size\":\"is-small\"},on:{\"input\":_vm.setContrast}})],1),_c('div',{staticClass:\"adjustment\"},[_c('div',{staticClass:\"adjustment-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('gamma'))+\" \")]),_c('cytomine-slider',{staticClass:\"adjustment-body\",attrs:{\"value\":_vm.gamma,\"min\":0.1,\"max\":4,\"interval\":0.1,\"integer-only\":false,\"contained\":true,\"smart-tooltip-position\":true,\"size\":\"is-small\"},on:{\"input\":function($event){return _vm.$emit('setGamma', $event)}}})],1),_c('div',{staticClass:\"adjustment\"},[_c('div',{staticClass:\"adjustment-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('inverse'))+\" \")]),_c('div',{staticClass:\"adjustment-body\"},[_c('b-switch',{attrs:{\"value\":_vm.inverted,\"size\":\"is-small\"},on:{\"input\":function($event){return _vm.$emit('invert', $event)}}},[(_vm.inverted)?[_vm._v(_vm._s(_vm.$t('yes')))]:[_vm._v(_vm._s(_vm.$t('no')))]],2)],1)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div>\r\n    <div class=\"buttons has-addons is-centered\" v-if=\"showAdjustButtons\">\r\n      <button\r\n        v-if=\"isImageMultidimensional\"\r\n        @click=\"$emit('adjustToSlice')\"\r\n        class=\"button is-small\"\r\n        :disabled=\"areBoundsAdjustedToSlice\"\r\n      >\r\n        <span>\r\n          {{ $t('button-adjust-slice') }}\r\n        </span>\r\n      </button>\r\n      <button\r\n        @click=\"$emit('adjustToImage')\"\r\n        class=\"button is-small\"\r\n        :disabled=\"areBoundsAdjustedToImage\"\r\n      >\r\n        <span>\r\n          {{ adjustImageLabel }}\r\n        </span>\r\n      </button>\r\n      <button\r\n        @click=\"$emit('reset')\"\r\n        class=\"button is-small\"\r\n        :disabled=\"areBoundsDefault\"\r\n      >\r\n        <span>\r\n         {{ $t('button-reset') }}\r\n        </span>\r\n      </button>\r\n    </div>\r\n    <div class=\"adjustments\">\r\n      <div class=\"adjustment\" v-show=\"intensitiesByMinMax\">\r\n        <div class=\"adjustment-label\">\r\n          {{ $t('min-max') }}\r\n        </div>\r\n        <cytomine-slider\r\n          class=\"adjustment-body\"\r\n          :value=\"arrayBounds\"\r\n          @input=\"setBounds\"\r\n          :min=\"defaultBounds.min\"\r\n          :max=\"defaultBounds.max\"\r\n          :contained=\"true\"\r\n          :smart-tooltip-position=\"true\"\r\n          size=\"is-small\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"adjustment\" v-show=\"!intensitiesByMinMax\">\r\n        <div class=\"adjustment-label\">\r\n          {{ $t('brightness') }}\r\n        </div>\r\n        <cytomine-slider\r\n          class=\"adjustment-body\"\r\n          :value=\"brightness\"\r\n          @input=\"setBrightness\"\r\n          :min=\"defaultBounds.min\"\r\n          :max=\"defaultBounds.max\"\r\n          :tooltip=\"false\"\r\n          :contained=\"true\"\r\n          size=\"is-small\"\r\n        />\r\n      </div>\r\n      <div class=\"adjustment\" v-show=\"!intensitiesByMinMax\">\r\n        <div class=\"adjustment-label\">\r\n          {{ $t('contrast') }}\r\n        </div>\r\n        <cytomine-slider\r\n          class=\"adjustment-body\"\r\n          :value=\"contrast\"\r\n          @input=\"setContrast\"\r\n          :min=\"defaultBounds.min\"\r\n          :max=\"defaultBounds.max\"\r\n          :tooltip=\"false\"\r\n          :contained=\"true\"\r\n          size=\"is-small\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"adjustment\">\r\n        <div class=\"adjustment-label\">\r\n          {{ $t('gamma') }}\r\n        </div>\r\n        <cytomine-slider\r\n          class=\"adjustment-body\"\r\n          :value=\"gamma\"\r\n          @input=\"$emit('setGamma', $event)\"\r\n          :min=\"0.1\"\r\n          :max=\"4\"\r\n          :interval=\"0.1\"\r\n          :integer-only=\"false\"\r\n          :contained=\"true\"\r\n          :smart-tooltip-position=\"true\"\r\n          size=\"is-small\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"adjustment\">\r\n        <div class=\"adjustment-label\">\r\n          {{$t('inverse')}}\r\n        </div>\r\n        <div class=\"adjustment-body\">\r\n          <b-switch :value=\"inverted\" @input=\"$emit('invert', $event)\" size=\"is-small\">\r\n            <template v-if=\"inverted\">{{$t('yes')}}</template>\r\n            <template v-else>{{$t('no')}}</template>\r\n          </b-switch>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {sameHistogramBounds} from '@/utils/histogram-utils';\r\n\r\nimport CytomineSlider from '@/components/form/CytomineSlider';\r\n\r\nexport default {\r\n  name: 'AdjustableLookUpTable',\r\n  components: {\r\n    CytomineSlider\r\n  },\r\n  props: {\r\n    index: String,\r\n    adjustImageLabel: String,\r\n    showAdjustButtons: Boolean,\r\n    intensitiesByMinMax: Boolean,\r\n    defaultBounds: Object,\r\n\r\n    gamma: Number,\r\n    inverted: Boolean,\r\n    bounds: Object,\r\n\r\n    imageBounds: Object,\r\n    sliceBounds: Object\r\n  },\r\n  data() {\r\n    return {\r\n      brightness: 0,\r\n      contrast: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    isImageMultidimensional() {\r\n      return this.image.depth * this.image.duration > 1;\r\n    },\r\n\r\n    // Default bounds\r\n    defaultRange() {\r\n      return this.defaultBounds.max - this.defaultBounds.min;\r\n    },\r\n    defaultCenter() {\r\n      return this.defaultRange / 2.0;\r\n    },\r\n\r\n    // Bounds\r\n    range() {\r\n      return this.bounds.max - this.bounds.min;\r\n    },\r\n    center() {\r\n      return this.bounds.min + this.range / 2;\r\n    },\r\n    arrayBounds() {\r\n      return [this.bounds.min, this.bounds.max];\r\n    },\r\n\r\n    areBoundsAdjustedToImage() {\r\n      return sameHistogramBounds(this.bounds, this.imageBounds);\r\n    },\r\n    areBoundsAdjustedToSlice() {\r\n      return sameHistogramBounds(this.bounds, this.sliceBounds);\r\n    },\r\n    areBoundsDefault() {\r\n      return sameHistogramBounds(this.bounds, this.defaultBounds) && this.gamma === 1.0 && !this.inverted;\r\n    }\r\n  },\r\n  watch: {\r\n    bounds: {\r\n      deep: true,\r\n      handler: function() {\r\n        this.computeBrightness();\r\n        this.computeContrast();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    setBounds(arrayBounds) {\r\n      const first = arrayBounds[0];\r\n      const second = arrayBounds[1];\r\n      const inverted = (first > second);\r\n      let min, max;\r\n      if (inverted) {\r\n        min = second;\r\n        max = first;\r\n      }\r\n      else {\r\n        min = first;\r\n        max = second;\r\n      }\r\n      min = Math.max(this.defaultBounds.min, Math.min(min, this.defaultBounds.max));\r\n      max = Math.min(this.defaultBounds.max, Math.max(max, this.defaultBounds.min));\r\n      this.$emit('setBounds', {min, max});\r\n    },\r\n    setBrightness(value) {\r\n      // https://imagej.nih.gov/ij/developer/source/ij/plugin/frame/ContrastAdjuster.java.html\r\n      const b = this.defaultBounds.min + this.defaultRange *\r\n        ((this.defaultRange - value) / this.defaultRange);\r\n      const mid = this.range / 2.0;\r\n      this.$emit('setBounds', {\r\n        min: Math.max(this.defaultBounds.min, Math.round(b - mid)),\r\n        max: Math.min(this.defaultBounds.max, Math.round(b + mid))\r\n      });\r\n      this.brightness = value;\r\n    },\r\n    setContrast(value) {\r\n      // https://imagej.nih.gov/ij/developer/source/ij/plugin/frame/ContrastAdjuster.java.html\r\n      let slope;\r\n      if (value <= this.defaultCenter) {\r\n        slope = value / this.defaultCenter;\r\n      }\r\n      else {\r\n        slope = this.defaultCenter / (this.defaultRange - value);\r\n      }\r\n      if (slope > 0) {\r\n        const mid = this.defaultRange / 2.0;\r\n        this.$emit('setBounds', {\r\n          min: Math.max(this.defaultBounds.min, Math.round(this.center - mid / slope)),\r\n          max: Math.min(this.defaultBounds.max, Math.round(this.center + mid / slope))\r\n        });\r\n        this.contrast = value;\r\n      }\r\n    },\r\n    computeBrightness() {\r\n      // https://imagej.nih.gov/ij/developer/source/ij/plugin/frame/ContrastAdjuster.java.html\r\n      this.brightness = Math.round(\r\n        this.defaultRange *\r\n        (1.0 - (this.center - this.defaultBounds.min) / this.defaultRange)\r\n      );\r\n    },\r\n    computeContrast() {\r\n      // https://imagej.nih.gov/ij/developer/source/ij/plugin/frame/ContrastAdjuster.java.html\r\n      const c = this.defaultRange / this.range;\r\n      this.contrast = Math.round(\r\n        (c > 0) ? this.defaultRange - (this.defaultCenter / c) : this.defaultCenter * c\r\n      );\r\n    }\r\n  },\r\n  created() {\r\n    this.computeBrightness();\r\n    this.computeContrast();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.adjustments {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.adjustment {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.adjustment-label {\r\n  font-weight: 600;\r\n  padding-right: 0.5rem;\r\n  width: 25%;\r\n  text-align: right;\r\n}\r\n\r\n.adjustment-body {\r\n  flex-grow: 3;\r\n}\r\n\r\n.buttons {\r\n  margin-bottom: 0 !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdjustableLookUpTable.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdjustableLookUpTable.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AdjustableLookUpTable.vue?vue&type=template&id=8590653c&scoped=true\"\nimport script from \"./AdjustableLookUpTable.vue?vue&type=script&lang=js\"\nexport * from \"./AdjustableLookUpTable.vue?vue&type=script&lang=js\"\nimport style0 from \"./AdjustableLookUpTable.vue?vue&type=style&index=0&id=8590653c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8590653c\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {Line} from 'vue-chartjs';\r\nimport _ from 'lodash';\r\n\r\nexport default {\r\n  name: 'histogram-chart',\r\n  extends: Line,\r\n  props: {\r\n    logScale: Boolean,\r\n    color: String,\r\n\r\n    histogram: Array,\r\n    nBins: Number,\r\n    firstBin: Number,\r\n    lastBin: Number,\r\n\r\n    defaultBounds: Object,\r\n    imageBounds: Object,\r\n    currentBounds: Object,\r\n    gamma: Number,\r\n    inverted: Boolean,\r\n  },\r\n  data() {\r\n    return {\r\n      chartData: null,\r\n    };\r\n  },\r\n  computed: {\r\n    extendedHistogram() {\r\n      const missingLeft = new Array(this.firstBin).fill(0);\r\n      const missingRight = new Array(this.nBins - this.lastBin - 1).fill(0);\r\n      return missingLeft.concat(this.histogram).concat(missingRight);\r\n    },\r\n    logHistogram() {\r\n      return this.extendedHistogram.map(v => Math.log(v));\r\n    },\r\n    scaledHistogram() {\r\n      return this.logScale ? this.logHistogram : this.extendedHistogram;\r\n    },\r\n\r\n    binSize() {\r\n      return (this.defaultBounds.max + 1) / this.nBins;\r\n    },\r\n    integerBinSize() {\r\n      return Math.round(this.binSize);\r\n    },\r\n    labels() {\r\n      return this.extendedHistogram.map((_, idx) => Math.round(idx * this.binSize));\r\n    },\r\n    imageBoundsLabel() {\r\n      return {\r\n        min: this.findLabel(this.imageBounds.min),\r\n        max: this.findLabel(this.imageBounds.max)\r\n      };\r\n    },\r\n    currentBoundsLabel() {\r\n      return {\r\n        min: Math.max(this.defaultBounds.min, this.findLabel(this.currentBounds.min)),\r\n        max: Math.min(this.defaultBounds.max, this.findLabel(this.currentBounds.max))\r\n      };\r\n    },\r\n    boundsLabel() {\r\n      return {\r\n        min: Math.min(this.imageBoundsLabel.min, this.currentBoundsLabel.min),\r\n        max: Math.max(this.imageBoundsLabel.max, this.currentBoundsLabel.max)\r\n      };\r\n    },\r\n\r\n    currentLabels() {\r\n      return this.labels.filter(label =>\r\n        label >= this.currentBoundsLabel.min && label <= this.currentBoundsLabel.max\r\n      );\r\n    },\r\n\r\n    systemResponse() {\r\n      if (this.currentLabels.length === 1) {\r\n        return [\r\n          {x: this.currentLabels[0], y: 0},\r\n          {x: this.currentLabels[0], y: 255}\r\n        ];\r\n      }\r\n\r\n      let nbPoints = 100;\r\n      let step = (this.currentLabels.length - 1) / nbPoints;\r\n      let range = _.range(0, this.currentLabels.length - 1 + step, step);\r\n\r\n      let ymin = (this.inverted) ? 1 : 0;\r\n      let ymax = (this.inverted) ? 0 : 1;\r\n      let m = (ymin - ymax) / (this.currentBoundsLabel.min - this.currentBoundsLabel.max);\r\n      let p = ymin - m * this.currentBoundsLabel.min;\r\n      let gamma = (this.inverted) ? 1/this.gamma : this.gamma;\r\n      let response = range.map(idx => {\r\n        let label = this.currentLabels[Math.round(idx)];\r\n        return {\r\n          x: label,\r\n          y: Math.pow((m * label + p), gamma) * 255.0\r\n        };\r\n      });\r\n      return _.uniqBy(response, 'x');\r\n    },\r\n\r\n    backgroundColor() {\r\n      if (this.color !== null) {\r\n        return this.color;\r\n      }\r\n      return '#fff';\r\n    },\r\n    datasets() {\r\n      return [\r\n        {\r\n          data: this.systemResponse,\r\n          fill: false,\r\n          pointRadius: 0,\r\n          pointHoverRadius: 0,\r\n          borderColor: '#333',\r\n          borderWidth: 1,\r\n          type: 'line',\r\n          order: 2,\r\n          cubicInterpolationMode: 'monotone',\r\n          yAxisID: 'yResponse'\r\n        },\r\n        {\r\n          data: this.scaledHistogram,\r\n          backgroundColor: this.backgroundColor,\r\n          pointRadius: 1,\r\n          order: 1,\r\n          yAxisID: 'yHistogram'\r\n        },\r\n      ];\r\n    }\r\n  },\r\n  watch: {\r\n    currentBoundsLabel() {\r\n      this.doRenderChart();\r\n    },\r\n    logScale() {\r\n      this.doRenderChart();\r\n    },\r\n    systemResponse() {\r\n      this.doRenderChart();\r\n    },\r\n    backgroundColor() {\r\n      this.doRenderChart();\r\n    }\r\n  },\r\n  methods: {\r\n    findBin(value) {\r\n      return Math.floor(value / this.binSize);\r\n    },\r\n    findLabel(value) {\r\n      return Math.floor(this.findBin(value) * this.binSize);\r\n    },\r\n    doRenderChart() {\r\n      try {\r\n        this.renderChart({\r\n          labels: this.labels,\r\n          datasets: this.datasets,\r\n\r\n          // Additional data for tooltips\r\n          logScale: this.logScale,\r\n          binSize: this.integerBinSize,\r\n        }, {\r\n          tooltips: {\r\n            filter: function(tooltipItem) {\r\n              return tooltipItem.datasetIndex !== 0;\r\n            },\r\n            callbacks: {\r\n              label: function(tooltipItem, data) {\r\n                if (data.logScale) {\r\n                  return Math.round(Math.exp(tooltipItem.value));\r\n                }\r\n                return tooltipItem.value;\r\n              },\r\n              title: function(tooltipItems, data) {\r\n                if (tooltipItems.length > 0) {\r\n                  let left = Number(tooltipItems[0].label);\r\n                  if (data.binSize === 1) {\r\n                    return left;\r\n                  }\r\n                  let right = left + data.binSize;\r\n                  return `[${left} - ${right}[`;\r\n                }\r\n              }\r\n            }\r\n          },\r\n          maintainAspectRatio: false,\r\n          responsive: true,\r\n          title: {\r\n            display: false\r\n          },\r\n          legend: {\r\n            display: false\r\n          },\r\n          animation: {\r\n            duration: 0,\r\n          },\r\n          scales: {\r\n            xAxes: [{\r\n              display: true,\r\n              scaleLabel: {\r\n                display: false\r\n              },\r\n              ticks: {\r\n                ...this.boundsLabel,\r\n                fontSize: 10,\r\n              }\r\n            }],\r\n            yAxes: [{\r\n              id: 'yHistogram',\r\n              display: false,\r\n            }, {\r\n              id: 'yResponse',\r\n              display: false\r\n            }\r\n            ]\r\n          },\r\n        });\r\n      }\r\n      catch (error) {\r\n        console.log(error);\r\n        this.$emit('error', true);\r\n      }\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.doRenderChart();\r\n  }\r\n};\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n\r\n<template>\r\n<div>\r\n  <h1>{{$t('colors')}}</h1>\r\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\" size=\"is-small\">\r\n    <p> {{ $t('unexpected-error-info-message') }} </p>\r\n  </b-message>\r\n  <template v-else>\r\n    <table class=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th class=\"checkbox-column\"><span class=\"far fa-eye\"></span></th>\r\n          <th class=\"name-column\">\r\n            <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" size=\"is-small\" expanded />\r\n          </th>\r\n          <th class=\"bounds-column\">\r\n            <div class=\"buttons has-addons is-right\">\r\n              <button\r\n                v-if=\"isImageMultidimensional\"\r\n                v-tooltip=\"$t('button-adjust-slice')\"\r\n                @click=\"adjustAllToSlice\"\r\n                class=\"button is-small\"\r\n                :disabled=\"areBoundsAdjustedToSlice\"\r\n              >\r\n                <span class=\"icon is-small\">\r\n                  <i class=\"fas fa-magic\"></i>\r\n                  <span class=\"subscript\">ZT</span>\r\n                </span>\r\n              </button>\r\n              <button\r\n                v-tooltip=\"adjustImageLabel\"\r\n                @click=\"adjustAllToImage\"\r\n                class=\"button is-small\"\r\n                :disabled=\"areBoundsAdjustedToImage\"\r\n              >\r\n                <span class=\"icon is-small\">\r\n                  <i class=\"fas fa-magic\"></i>\r\n                </span>\r\n              </button>\r\n              <button\r\n                v-tooltip=\"$t('button-reset')\"\r\n                @click=\"resetAll\"\r\n                class=\"button is-small\"\r\n                :disabled=\"areBoundsDefault\"\r\n              >\r\n                <span class=\"icon is-small\">\r\n                  <i class=\"fas fa-tint-slash\"></i>\r\n                </span>\r\n              </button>\r\n            </div>\r\n          </th>\r\n          <th class=\"settings-column\">\r\n            <b-dropdown position=\"is-bottom-left\">\r\n              <template #trigger=\"{ active }\">\r\n                <button class=\"button is-small\" :class=\"{'is-selected': active}\">\r\n                  <span class=\"icon is-small\">\r\n                    <i class=\"fas fa-cogs\"></i>\r\n                  </span>\r\n                </button>\r\n              </template>\r\n\r\n              <b-dropdown-item custom>\r\n                <b-field :label=\"$t('histogram-scale')\" custom-class=\"is-small\">\r\n                  <div class=\"block\">\r\n                    <b-radio v-model=\"histogramLogScale\" :native-value=\"false\" size=\"is-small\">\r\n                      {{$t('linear')}}\r\n                    </b-radio>\r\n                    <b-radio v-model=\"histogramLogScale\" :native-value=\"true\" size=\"is-small\">\r\n                      {{$t('logarithmic')}}\r\n                    </b-radio>\r\n                  </div>\r\n                </b-field>\r\n                <b-field :label=\"$t('intensities-manipulation')\" custom-class=\"is-small\">\r\n                  <div class=\"block\">\r\n                    <b-radio v-model=\"intensitiesByMinMax\" :native-value=\"true\" size=\"is-small\">\r\n                      {{$t('min-max')}}\r\n                    </b-radio>\r\n                    <b-radio v-model=\"intensitiesByMinMax\" :native-value=\"false\" size=\"is-small\">\r\n                      {{$t('brightness')}}/{{$t('contrast')}}\r\n                    </b-radio>\r\n                  </div>\r\n                </b-field>\r\n              </b-dropdown-item>\r\n            </b-dropdown>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <template v-for=\"mc in filteredManipulableChannels\">\r\n          <tr :key=\"`channel-${image.id}-${mc.index}`\">\r\n            <td class=\"checkbox-column\">\r\n              <b-checkbox\r\n                size=\"is-small\"\r\n                :value=\"mc.visible\"\r\n                @input=\"setApparentChannelVisibility(mc.index, $event)\"\r\n                :disabled=\"isApparentChannelVisibilityDisabled(mc)\"\r\n              />\r\n            </td>\r\n            <td class=\"name-column\">\r\n              <cytomine-channel\r\n                :name=\"mc.name\"\r\n                :color=\"mc.color\"\r\n                :default-color=\"mc.defaultColor\"\r\n                :channel-index=\"mc.channel\"\r\n                :sample-index=\"mc.sample\"\r\n                :nb-samples-per-channel=\"image.samplePerPixel\"\r\n                :editable-color=\"true\"\r\n                @setColor=\"setApparentChannelColor(mc.index, $event)\"\r\n                @click=\"toggleLookUpTableDetails(mc.index)\"\r\n              />\r\n            </td>\r\n            <td class=\"bounds-column\">\r\n              ({{mc.bounds.min}} - {{mc.bounds.max}})\r\n            </td>\r\n            <td class=\"checkbox-column\">\r\n              <a\r\n                role=\"button\"\r\n                @click.stop=\"toggleLookUpTableDetails(mc.index)\">\r\n                <i class=\"fas fa-chevron-down\" v-if=\"isVisibleLookUpTableDetails(mc.index)\"></i>\r\n                <i class=\"fas fa-chevron-up\" v-else></i>\r\n              </a>\r\n            </td>\r\n          </tr>\r\n          <tr\r\n            :key=\"`channel-${image.id}-${mc.index}-details`\"\r\n            v-if=\"isVisibleLookUpTableDetails(mc.index)\"\r\n          >\r\n            <td colspan=\"4\">\r\n              <div class=\"chart-container channel-histogram\">\r\n                <histogram-chart\r\n                  :log-scale=\"histogramLogScale\"\r\n                  :color=\"mc.color\"\r\n                  :histogram=\"mc.histogram.histogram\"\r\n                  :n-bins=\"mc.histogram.nBins\"\r\n                  :first-bin=\"mc.histogram.firstBin\"\r\n                  :last-bin=\"mc.histogram.lastBin\"\r\n                  :default-bounds=\"defaultBounds\"\r\n                  :image-bounds=\"{min: mc.histogram.minimum, max:mc.histogram.maximum}\"\r\n                  :current-bounds=\"mc.bounds\"\r\n                  :gamma=\"mc.gamma\"\r\n                  :inverted=\"mc.inverted\"\r\n                  css-classes=\"chart\"\r\n                />\r\n              </div>\r\n              <adjustable-look-up-table\r\n                :index=\"index\"\r\n                :adjust-image-label=\"adjustImageLabel\"\r\n                :show-adjust-buttons=\"manipulableChannels.length > 1\"\r\n                :intensities-by-min-max=\"intensitiesByMinMax\"\r\n                :default-bounds=\"defaultBounds\"\r\n                :gamma=\"mc.gamma\"\r\n                :inverted=\"mc.inverted\"\r\n                :bounds=\"mc.bounds\"\r\n                :image-bounds=\"mc.imageBounds\"\r\n                :slice-bounds=\"{min: mc.histogram.minimum, max: mc.histogram.maximum}\"\r\n                @setBounds=\"setApparentChannelBounds(mc.index, $event)\"\r\n                @adjustToImage=\"adjustToImage(mc.index)\"\r\n                @adjustToSlice=\"adjustToSlice(mc.index)\"\r\n                @reset=\"reset(mc.index)\"\r\n                @setGamma=\"setApparentChannelGamma(mc.index, $event)\"\r\n                @invert=\"setApparentChannelInverted(mc.index, $event)\"\r\n              />\r\n            </td>\r\n          </tr>\r\n        </template>\r\n\r\n      </tbody>\r\n    </table>\r\n    <b-field horizontal :label=\"$t('filter')\" v-if=\"filters && filters.length > 0\">\r\n      <b-select v-model=\"selectedFilter\" size=\"is-small\" expanded>\r\n        <option :value=\"null\">{{$t('original-no-filter')}}</option>\r\n        <option v-for=\"filter in filters\" :key=\"filter.id\" :value=\"filter.method\">\r\n          {{filter.name}}\r\n        </option>\r\n      </b-select>\r\n    </b-field>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport constants from '@/utils/constants';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\nimport {sameHistogramBounds} from '@/utils/histogram-utils';\r\n\r\nimport {ImageFilterProjectCollection} from 'cytomine-client';\r\n\r\nimport CytomineChannel from '@/components/viewer/panels/colors/CytomineChannel';\r\nimport AdjustableLookUpTable from '@/components/viewer/panels/colors/AdjustableLookUpTable';\r\nimport HistogramChart from '@/components/charts/HistogramChart';\r\n\r\nexport default {\r\n  name: 'color-manipulation',\r\n  components: {\r\n    AdjustableLookUpTable,\r\n    CytomineChannel,\r\n    HistogramChart\r\n  },\r\n  props: {\r\n    index: String\r\n  },\r\n  data() {\r\n    return {\r\n      filters: null,\r\n      histograms: [],\r\n      loading: false,\r\n      error: false,\r\n      searchString: '',\r\n      visibleLookUpTableDetails: [],\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    slices() {\r\n      return this.imageWrapper.activeSlices;\r\n    },\r\n    sliceChannels() {\r\n      return this.$store.getters[this.imageModule + 'channels'];\r\n    },\r\n    plane() {\r\n      return {\r\n        zStack: this.imageWrapper.activeSlices[0].zStack,\r\n        time: this.imageWrapper.activeSlices[0].time\r\n      };\r\n    },\r\n    activePanel() {\r\n      return this.imageWrapper.activePanel;\r\n    },\r\n    apparentChannels() {\r\n      return this.imageWrapper.colors.apparentChannels;\r\n    },\r\n\r\n    isImageMultidimensional() {\r\n      return this.image.depth * this.image.duration > 1;\r\n    },\r\n    adjustImageLabel() {\r\n      if (this.isImageMultidimensional) {\r\n        return this.$t('button-adjust-image');\r\n      }\r\n      return this.$t('button-adjust');\r\n    },\r\n    defaultBounds() {\r\n      return {min: 0, max: 2**this.image.bitPerSample - 1};\r\n    },\r\n\r\n    manipulableChannels() {\r\n      return this.apparentChannels?.map(ac => {\r\n        return {\r\n          ...ac,\r\n          histogram: this.histograms.find(h => h.apparentChannel === ac.index),\r\n          name: this.sliceChannels[ac.channel].name\r\n        };\r\n      });\r\n    },\r\n    visibleManipulableChannels() {\r\n      return this.manipulableChannels?.filter(mc => mc.visible);\r\n    },\r\n    nbVisibleManipulableChannels() {\r\n      return this.visibleManipulableChannels?.length ?? 0;\r\n    },\r\n    regexp() {\r\n      return getWildcardRegexp(this.searchString);\r\n    },\r\n    filteredManipulableChannels() {\r\n      if (!this.searchString) {\r\n        return this.manipulableChannels;\r\n      }\r\n      return this.manipulableChannels.filter(mc => this.regexp.test(mc.name));\r\n    },\r\n\r\n    areBoundsAdjustedToImage() {\r\n      const count = this.visibleManipulableChannels?.filter(mc =>\r\n        sameHistogramBounds(mc.bounds, mc.imageBounds)\r\n      ).length ?? 0;\r\n      return count === this.nbVisibleManipulableChannels;\r\n    },\r\n    areBoundsAdjustedToSlice() {\r\n      const count = this.visibleManipulableChannels?.filter(mc => {\r\n        const histogram = mc.histogram;\r\n        if (!histogram) {\r\n          return false;\r\n        }\r\n        return sameHistogramBounds(mc.bounds, { min: histogram.minimum, max: histogram.maximum });\r\n      }).length ?? 0;\r\n      return count === this.nbVisibleManipulableChannels;\r\n    },\r\n    areBoundsDefault() {\r\n      const count = this.visibleManipulableChannels?.filter(mc =>\r\n        sameHistogramBounds(mc.bounds, this.defaultBounds) && !mc.inverted && mc.gamma === 1.0\r\n      ).length ?? 0;\r\n      return count === this.nbVisibleManipulableChannels;\r\n    },\r\n\r\n    selectedFilter: {\r\n      get() {\r\n        return this.imageWrapper.colors.filter;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setFilter', value);\r\n      }\r\n    },\r\n    histogramLogScale: {\r\n      get() {\r\n        return this.imageWrapper.colors.histogramLogScale;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setHistogramLogScale', value);\r\n      }\r\n    },\r\n    intensitiesByMinMax: {\r\n      get() {\r\n        return this.imageWrapper.colors.intensitiesByMinMax;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setIntensitiesByMinMax', value);\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    plane() {\r\n      this.fetchHistograms();\r\n    }\r\n  },\r\n  methods: {\r\n    /* Apparent channels manipulation */\r\n    setApparentChannelVisibility(indexApparentChannel, visible) {\r\n      this.$store.dispatch(this.imageModule + 'setApparentChannelVisibility',\r\n        {indexApparentChannel, visible}\r\n      );\r\n    },\r\n    setApparentChannelColor(indexApparentChannel, color) {\r\n      this.$store.commit(this.imageModule + 'setApparentChannelColor',\r\n        {indexApparentChannel, color, isColormap: false}\r\n      );\r\n    },\r\n    setApparentChannelGamma(indexApparentChannel, gamma) {\r\n      this.$store.commit(this.imageModule + 'setApparentChannelGamma',\r\n        {indexApparentChannel, gamma}\r\n      );\r\n    },\r\n    setApparentChannelInverted(indexApparentChannel, inverted) {\r\n      this.$store.commit(this.imageModule + 'setApparentChannelInverted',\r\n        {indexApparentChannel, inverted}\r\n      );\r\n    },\r\n    setApparentChannelBounds(indexApparentChannel, bounds) {\r\n      this.$store.commit(this.imageModule + 'setApparentChannelBounds',\r\n        {indexApparentChannel, bounds}\r\n      );\r\n    },\r\n    reset(indexApparentChannel) {\r\n      this.$store.commit(this.imageModule + 'resetApparentChannelIntensities',\r\n        indexApparentChannel\r\n      );\r\n    },\r\n    resetAll() {\r\n      this.$store.commit(this.imageModule + 'resetApparentChannelsIntensities');\r\n    },\r\n    adjustToImage(indexApparentChannel) {\r\n      this.$store.commit(this.imageModule + 'adjustToImage',\r\n        indexApparentChannel\r\n      );\r\n    },\r\n    adjustAllToImage() {\r\n      this.$store.commit(this.imageModule + 'adjustAllToImage');\r\n    },\r\n    adjustToSlice(indexApparentChannel) {\r\n      const mc = this.manipulableChannels[indexApparentChannel];\r\n      const bounds = {min: mc.histogram.minimum, max: mc.histogram.maximum};\r\n      this.$store.commit(this.imageModule + 'adjustToSlice',\r\n        {indexApparentChannel, bounds}\r\n      );\r\n    },\r\n    adjustAllToSlice() {\r\n      this.$store.commit(this.imageModule + 'adjustAllToSlice',\r\n        this.manipulableChannels.map(mc => {\r\n          return {\r\n            min: mc.histogram.minimum,\r\n            max: mc.histogram.maximum\r\n          };\r\n        })\r\n      );\r\n    },\r\n\r\n    /* UX logic */\r\n    isApparentChannelVisibilityDisabled(manipulableChannel) {\r\n      return (this.nbVisibleManipulableChannels <= 1 && manipulableChannel.visible)\r\n        || (this.nbVisibleManipulableChannels >= constants.MAX_MERGEABLE_CHANNELS\r\n          && !manipulableChannel.visible);\r\n    },\r\n    toggleLookUpTableDetails(indexApparentChannel) {\r\n      const found = this.isVisibleLookUpTableDetails(indexApparentChannel);\r\n\r\n      if (found) {\r\n        const i = this.visibleLookUpTableDetails.indexOf(indexApparentChannel);\r\n        this.visibleLookUpTableDetails.splice(i, 1);\r\n      }\r\n      else {\r\n        this.visibleLookUpTableDetails.push(indexApparentChannel);\r\n      }\r\n    },\r\n    isVisibleLookUpTableDetails(indexApparentChannel) {\r\n      return this.visibleLookUpTableDetails.indexOf(indexApparentChannel) >= 0;\r\n    },\r\n\r\n    /* Helpers */\r\n    async fetchHistograms() {\r\n      try {\r\n        // TODO [EXPERIMENTAL - large set of merged channels]\r\n        // As for now we only allow multiple slices with varying C and fixed Z,T, this request is OK.\r\n\r\n\r\n        this.histograms = (await this.slices[0].fetchChannelHistograms({nBins: 256}));\r\n        // if (this.image.apparentChannels <= constants.MAX_MERGEABLE_CHANNELS) {\r\n        //   // As for now we only allow multiple slices with varying C and fixed Z,T, this request is OK.\r\n        //   this.histograms = (await this.slices[0].fetchChannelHistograms({nBins: this.histogramNBins}));\r\n        // }\r\n        // else {\r\n        //   this.histograms = (await this.slices[0].fetchHistogram({nBins: this.histogramNBins}));\r\n        // }\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    try {\r\n      let filters = (await ImageFilterProjectCollection.fetchAll({filterKey: 'project', filterValue: this.project.id})).array;\r\n      filters.forEach(filter => filter.prefix = filter.imagingServer + filter.baseUrl);\r\n      let prefixes = filters.map(filter => filter.prefix);\r\n      if(this.selectedFilter && !prefixes.includes(this.selectedFilter)) {\r\n        this.selectedFilter = null; // if selected filter no longer present in collection, unselect it\r\n      }\r\n      this.filters = filters;\r\n      await this.fetchHistograms();\r\n\r\n      // Show LUT details by default if there is only 1 channel.\r\n      if (this.manipulableChannels.length === 1) {\r\n        this.toggleLookUpTableDetails(this.manipulableChannels[0].index);\r\n      }\r\n\r\n      this.loading = false;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n  margin-bottom: 1em !important;\r\n  font-size: 0.9em;\r\n}\r\n\r\n.table tbody {\r\n  display: block;\r\n  overflow-y: scroll;\r\n  overflow-x: hidden;\r\n  max-height: 30em; /* TODO */\r\n}\r\n\r\n.table thead tr {\r\n  display: block;\r\n}\r\n\r\nth, ::v-deep td {\r\n  padding: 0.25em !important;\r\n  vertical-align: middle !important;\r\n}\r\n\r\n::v-deep .checkbox-column {\r\n  min-width: 2.2em;\r\n  text-align: center !important;\r\n}\r\n\r\n::v-deep .name-column {\r\n  width: 60%;\r\n}\r\n\r\n::v-deep .bounds-column {\r\n  width: 40%;\r\n  text-align: right;\r\n}\r\n\r\n::v-deep .settings-column {\r\n  min-width: 2.2em;\r\n  font-weight: normal;\r\n}\r\n\r\n/** Settings **/\r\n.settings-column ::v-deep .dropdown-content {\r\n  padding: 0;\r\n}\r\n\r\n.settings-column .dropdown-menu .dropdown-item {\r\n  padding: 0.375rem 0.5rem;\r\n}\r\n\r\n.button.is-selected {\r\n  background-color: #6899d0;\r\n  color: white;\r\n  stroke: white;\r\n}\r\n\r\n/** Checkbox **/\r\n::v-deep .checkbox .control-label {\r\n  padding: 0 !important;\r\n}\r\n\r\n::v-deep .checkbox {\r\n  margin: 0 !important;\r\n  position: relative;\r\n  top: 0.25em;\r\n}\r\n\r\n/** Buttons & icons **/\r\n.bounds-column .button .icon:first-child:last-child {\r\n  margin-left: calc(-0.175em - 1px);\r\n  margin-right: calc(-0.175em - 1px);\r\n}\r\n\r\n.subscript, ::v-deep .subscript {\r\n  position: relative;\r\n  top: 0.65em;\r\n  left: 1px;\r\n  font-size: 0.7em;\r\n  font-weight: 600;\r\n}\r\n\r\n/** Chart (histogram) **/\r\n.chart-container {\r\n  height: 10em;\r\n  position: relative;\r\n}\r\n</style>\r\n\r\n<style>\r\n.channel-histogram .chart {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorManipulation.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorManipulation.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ColorManipulation.vue?vue&type=template&id=49a921d7&scoped=true\"\nimport script from \"./ColorManipulation.vue?vue&type=script&lang=js\"\nexport * from \"./ColorManipulation.vue?vue&type=script&lang=js\"\nimport style0 from \"./ColorManipulation.vue?vue&type=style&index=0&id=49a921d7&prod&scoped=true&lang=css\"\nimport style1 from \"./ColorManipulation.vue?vue&type=style&index=1&id=49a921d7&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49a921d7\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$t('link-images')))]),_c('b-field',{attrs:{\"horizontal\":\"\",\"label\":_vm.$t('link-mode')}},[_c('b-select',{attrs:{\"size\":\"is-small\",\"expanded\":\"\"},model:{value:(_vm.linkMode),callback:function ($$v) {_vm.linkMode=$$v},expression:\"linkMode\"}},_vm._l((_vm.modeOptions),function(option){return _c('option',{key:option.label,domProps:{\"value\":option.key}},[_vm._v(\" \"+_vm._s(option.label)+\" \")])}),0)],1),(_vm.linkedIndexes)?_c('div',{staticClass:\"current-group\"},[_c('p',[_vm._v(_vm._s(_vm.$t('view-linked-with')))]),_c('ul',_vm._l((_vm.linkedIndexes),function(index){return _c('li',{key:index},[_c('i',{staticClass:\"fas fa-caret-right\"}),_vm._v(\" \"+_vm._s(_vm.$t('viewer-view', {number: _vm.imagesWithNum[index].number}))+\" (\"),_c('image-name',{attrs:{\"image\":_vm.imagesWithNum[index].image}}),_vm._v(\") \"),_c('br')],1)}),0),_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.unlink()}}},[_vm._v(_vm._s(_vm.$t('button-unlink')))])]):_vm._e(),(_vm.otherGroups.length || _vm.otherSoloImages.length)?[(_vm.linkedIndexes)?_c('p',[_vm._v(_vm._s(_vm.$t('link-other-images-to-this-group')))]):_c('p',[_vm._v(_vm._s(_vm.$t('link-view-with')))]),_vm._l((_vm.otherGroups),function({images, index, number}){return _c('p',{key:`group${number}`},[_c('b-checkbox',{attrs:{\"value\":false},nativeOn:{\"change\":function($event){return (event => _vm.handleCheckboxChange(event, index)).apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.$t('link-group', {number}))+\" \"),_c('ul',{staticClass:\"group\"},_vm._l((images),function(indexImage){return _c('li',{key:indexImage},[_c('i',{staticClass:\"fas fa-caret-right\"}),_vm._v(\" \"+_vm._s(_vm.$t('viewer-view', {number: _vm.imagesWithNum[indexImage].number}))+\" (\"),_c('image-name',{attrs:{\"image\":_vm.imagesWithNum[indexImage].image}}),_vm._v(\") \"),_c('br')],1)}),0)])],1)}),_vm._l((_vm.otherSoloImages),function({image, index, number}){return _c('p',{key:index},[_c('b-checkbox',{attrs:{\"value\":false},nativeOn:{\"change\":function($event){return (event => _vm.handleCheckboxChange(event, null, index)).apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.$t('viewer-view', {number}))+\" (\"),_c('image-name',{attrs:{\"image\":image}}),_vm._v(\") \")],1)],1)})]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <h1>{{$t('link-images')}}</h1>\r\n\r\n  <b-field horizontal :label=\"$t('link-mode')\">\r\n    <b-select v-model=\"linkMode\" size=\"is-small\" expanded>\r\n      <option v-for=\"option in modeOptions\" :key=\"option.label\" :value=\"option.key\">\r\n        {{option.label}}\r\n      </option>\r\n    </b-select>\r\n  </b-field>\r\n\r\n  <div class=\"current-group\" v-if=\"linkedIndexes\">\r\n    <p>{{$t('view-linked-with')}}</p>\r\n    <ul>\r\n      <li v-for=\"index in linkedIndexes\" :key=\"index\">\r\n        <i class=\"fas fa-caret-right\"></i>\r\n          {{$t('viewer-view', {number: imagesWithNum[index].number})}}\r\n          (<image-name :image=\"imagesWithNum[index].image\" />) <br/>\r\n      </li>\r\n    </ul>\r\n    <button class=\"button is-small\" @click=\"unlink()\">{{$t('button-unlink')}}</button>\r\n  </div>\r\n\r\n  <template v-if=\"otherGroups.length || otherSoloImages.length\">\r\n    <p v-if=\"linkedIndexes\">{{$t('link-other-images-to-this-group')}}</p>\r\n    <p v-else>{{$t('link-view-with')}}</p>\r\n    <p v-for=\"{images, index, number} in otherGroups\" :key=\"`group${number}`\">\r\n      <b-checkbox :value=\"false\" @change.native=\"event => handleCheckboxChange(event, index)\">\r\n        {{$t('link-group', {number})}}\r\n        <ul class=\"group\">\r\n          <li v-for=\"indexImage in images\" :key=\"indexImage\">\r\n            <i class=\"fas fa-caret-right\"></i>\r\n            {{$t('viewer-view', {number: imagesWithNum[indexImage].number})}}\r\n            (<image-name :image=\"imagesWithNum[indexImage].image\" />) <br/>\r\n          </li>\r\n        </ul>\r\n      </b-checkbox>\r\n    </p>\r\n    <p v-for=\"{image, index, number} in otherSoloImages\" :key=\"index\">\r\n      <b-checkbox :value=\"false\" @change.native=\"event => handleCheckboxChange(event, null, index)\">\r\n        {{$t('viewer-view', {number})}} (<image-name :image=\"image\" />)\r\n      </b-checkbox>\r\n    </p>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport ImageName from '@/components/image/ImageName';\r\n\r\nexport default {\r\n  name: 'link-panel',\r\n  props: {\r\n    index: String\r\n  },\r\n  components: {ImageName},\r\n  data() {\r\n    return {\r\n      revisionNumber: 0\r\n    };\r\n  },\r\n  computed: {\r\n    modeOptions: function () {\r\n      return [\r\n        {key: 'ABSOLUTE', label: this.$t('absolute-link-mode')},\r\n        {key: 'RELATIVE', label: this.$t('relative-link-mode')}\r\n      ];\r\n    },\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    viewerWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'];\r\n    },\r\n    linkMode: {\r\n      get() {\r\n        return this.viewerWrapper.linkMode;\r\n      },\r\n      set(mode) {\r\n        this.$store.commit(this.viewerModule + 'setLinkMode', mode);\r\n      }\r\n    },\r\n    images() {\r\n      return this.viewerWrapper.images;\r\n    },\r\n    imagesWithNum() {\r\n      let number = 1;\r\n      return Object.keys(this.images).reduce((obj, index) => {\r\n        obj[index] = {\r\n          number,\r\n          index,\r\n          image: this.images[index].imageInstance\r\n        };\r\n        number++;\r\n        return obj;\r\n      }, []);\r\n    },\r\n    linkGroups() {\r\n      return this.viewerWrapper.links;\r\n    },\r\n    linkGroupsWithNum() {\r\n      let number = 1;\r\n      return this.linkGroups.reduce((obj, images, index) => {\r\n        obj[index] = {\r\n          number,\r\n          index,\r\n          images\r\n        };\r\n        number++;\r\n        return obj;\r\n      }, []);\r\n    },\r\n    indexCurrentGroup() {\r\n      return this.linkGroups.findIndex(group => group.includes(this.index));\r\n    },\r\n    linkedIndexes() {\r\n      if(this.indexCurrentGroup === -1) {\r\n        return null;\r\n      }\r\n      return this.linkGroups[this.indexCurrentGroup].filter(index => index !== this.index);\r\n    },\r\n    otherGroups() {\r\n      return Object.values(this.linkGroupsWithNum).filter(group => group.index !== this.indexCurrentGroup);\r\n    },\r\n    inGroupsIndexes() { // list of images belonging to a link group\r\n      let idxs = [];\r\n      this.linkGroups.forEach(group => idxs.push(...group));\r\n      return idxs;\r\n    },\r\n    otherSoloImages() {\r\n      return Object.values(this.imagesWithNum).filter(img => {\r\n        return img.index !== this.index && !this.inGroupsIndexes.includes(img.index);\r\n      });\r\n    },\r\n    trackedUser() {\r\n      return this.viewerWrapper.images[this.index].tracking.trackedUser;\r\n    },\r\n  },\r\n  methods: {\r\n    handleCheckboxChange(event, indexGroup, indexImage) {\r\n      if(this.trackedUser) {\r\n        this.$buefy.dialog.confirm({\r\n          title: this.$t('possible-conflict'),\r\n          message: this.$t('confirm-untrack-to-link-view'),\r\n          confirmText: this.$t('button-confirm'),\r\n          cancelText: this.$t('button-cancel'),\r\n          onConfirm: () => {\r\n            event.target.checked = false; // reset state of checkbox\r\n            this.$store.commit(this.imageModule + 'setTrackedUser', null);\r\n            this.link(indexGroup, indexImage);\r\n          },\r\n          onCancel: () => event.target.checked = false // reset state of checkbox\r\n        });\r\n      }\r\n      else {\r\n        event.target.checked = false; // reset state of checkbox\r\n        this.link(indexGroup, indexImage);\r\n      }\r\n    },\r\n\r\n    link(indexGroup, indexImage) {\r\n      if(this.linkedIndexes) {\r\n        if(indexGroup != null) {\r\n          this.$store.commit(this.viewerModule + 'mergeLinkGroups', [this.indexCurrentGroup, indexGroup]);\r\n        }\r\n        else {\r\n          this.$store.commit(this.viewerModule + 'linkImageToGroup', {indexGroup: this.indexCurrentGroup, indexImage});\r\n        }\r\n      }\r\n      else {\r\n        if(indexGroup != null) {\r\n          this.$store.commit(this.viewerModule + 'linkImageToGroup', {indexGroup, indexImage: this.index});\r\n        }\r\n        else {\r\n          this.$store.commit(this.viewerModule + 'createLinkGroup', [this.index, indexImage]);\r\n        }\r\n      }\r\n    },\r\n\r\n    unlink() {\r\n      this.$store.commit(this.viewerModule + 'unlinkImage', {indexGroup: this.indexCurrentGroup, indexImage: this.index});\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.current-group:not(:last-child) {\r\n  margin-bottom: 1em;\r\n}\r\n\r\nul {\r\n  color: rgba(0, 0, 0, 0.75);\r\n  margin-left: 0.5em;\r\n}\r\n\r\nul.group {\r\n  font-size: 0.9em;\r\n}\r\n\r\n.fas {\r\n  margin-right: 0.5em;\r\n}\r\n\r\n/deep/ .b-checkbox {\r\n  align-items: flex-start !important;\r\n  margin-top: 0.25em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkPanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkPanel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LinkPanel.vue?vue&type=template&id=53934cea&scoped=true\"\nimport script from \"./LinkPanel.vue?vue&type=script&lang=js\"\nexport * from \"./LinkPanel.vue?vue&type=script&lang=js\"\nimport style0 from \"./LinkPanel.vue?vue&type=style&index=0&id=53934cea&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53934cea\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"layers\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('annotation-layers')))]),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\",\"size\":\"is-small\"}},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('b-field',[_c('b-select',{attrs:{\"placeholder\":_vm.$t('select-layer'),\"size\":\"is-small\"},model:{value:(_vm.selectedLayer),callback:function ($$v) {_vm.selectedLayer=$$v},expression:\"selectedLayer\"}},_vm._l((_vm.unselectedLayers),function(layer){return _c('option',{key:layer.id,domProps:{\"value\":layer}},[_vm._v(\" \"+_vm._s(_vm.layerName(layer))+\" \")])}),0),_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":!_vm.selectedLayer},on:{\"click\":function($event){return _vm.addLayer()}}},[_vm._v(_vm._s(_vm.$t('button-add')))])],1),_c('table',{staticClass:\"table\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"checkbox-column\"},[_c('span',{staticClass:\"far fa-eye\"})]),(!_vm.reviewMode)?_c('th',{staticClass:\"checkbox-column\"},[_c('span',{staticClass:\"fas fa-pencil-alt\"})]):_vm._e(),_c('th',{staticClass:\"name-column\"}),_c('th',{staticClass:\"checkbox-column\"})])]),_c('tbody',[_vm._l((_vm.selectedLayers),function(layer,idx){return _c('tr',{key:layer.id},[_c('td',{staticClass:\"checkbox-column\"},[_c('b-checkbox',{attrs:{\"size\":\"is-small\",\"value\":layer.visible},on:{\"input\":function($event){return _vm.toggleLayerVisibility(idx)}}})],1),(!_vm.reviewMode)?_c('td',{staticClass:\"checkbox-column\"},[_c('b-checkbox',{attrs:{\"size\":\"is-small\",\"value\":layer.drawOn,\"disabled\":!_vm.canDraw(layer)},on:{\"input\":function($event){return _vm.toggleLayerDrawOn(idx)}}})],1):_vm._e(),_c('td',{staticClass:\"name-column\"},[_vm._v(\" \"+_vm._s(_vm.layerName(layer))+\" \")]),_c('td',{staticClass:\"checkbox-column\"},[(!_vm.reviewMode || !layer.isReview)?_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.removeLayer(idx)}}},[_c('span',{staticClass:\"fas fa-times\"})]):_vm._e()])])}),(_vm.selectedLayers.length === 0)?_c('tr',[_c('td',{staticClass:\"has-text-grey is-italic\",attrs:{\"colspan\":\"4\"}},[_vm._v(_vm._s(_vm.$t('no-selected-layers')))])]):_vm._e()],2)]),_c('div',{staticClass:\"opacity\"},[_c('label',[_vm._v(_vm._s(_vm.$t('layers-opacity')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.layersOpacity),expression:\"layersOpacity\"}],staticClass:\"slider is-fullwidth is-small\",attrs:{\"step\":\"0.05\",\"min\":\"0\",\"max\":\"1\",\"type\":\"range\"},domProps:{\"value\":(_vm.layersOpacity)},on:{\"__r\":function($event){_vm.layersOpacity=$event.target.value}}})])]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"layers\">\r\n  <h1>{{ $t('annotation-layers') }}</h1>\r\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\" size=\"is-small\">\r\n    <p> {{ $t('unexpected-error-info-message') }} </p>\r\n  </b-message>\r\n  <template v-else>\r\n    <b-field>\r\n      <b-select :placeholder=\"$t('select-layer')\" size=\"is-small\" v-model=\"selectedLayer\">\r\n        <option v-for=\"layer in unselectedLayers\" :value=\"layer\" :key=\"layer.id\">\r\n          {{ layerName(layer) }}\r\n        </option>\r\n      </b-select>\r\n      <button class=\"button is-small\" @click=\"addLayer()\" :disabled=\"!selectedLayer\">{{ $t('button-add') }}</button>\r\n    </b-field>\r\n    <table class=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th class=\"checkbox-column\"><span class=\"far fa-eye\"></span></th>\r\n          <th v-if=\"!reviewMode\" class=\"checkbox-column\"><span class=\"fas fa-pencil-alt\"></span></th>\r\n          <th class=\"name-column\"></th>\r\n          <th class=\"checkbox-column\"></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(layer, idx) in selectedLayers\" :key=\"layer.id\">\r\n          <td class=\"checkbox-column\">\r\n            <b-checkbox size=\"is-small\" :value=\"layer.visible\" @input=\"toggleLayerVisibility(idx)\" />\r\n          </td>\r\n          <td v-if=\"!reviewMode\" class=\"checkbox-column\">\r\n            <b-checkbox size=\"is-small\" :value=\"layer.drawOn\" :disabled=\"!canDraw(layer)\" @input=\"toggleLayerDrawOn(idx)\" />\r\n          </td>\r\n\r\n          <td class=\"name-column\">\r\n            {{ layerName(layer) }}\r\n          </td>\r\n          <td class=\"checkbox-column\">\r\n            <button v-if=\"!reviewMode || !layer.isReview\" class=\"button is-small\" @click=\"removeLayer(idx)\">\r\n              <span class=\"fas fa-times\"></span>\r\n            </button>\r\n          </td>\r\n        </tr>\r\n        <tr v-if=\"selectedLayers.length === 0\">\r\n          <td colspan=\"4\" class=\"has-text-grey is-italic\">{{$t('no-selected-layers')}}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <div class=\"opacity\">\r\n      <label>{{ $t('layers-opacity') }}</label>\r\n      <input class=\"slider is-fullwidth is-small\" v-model=\"layersOpacity\" step=\"0.05\" min=\"0\" max=\"1\" type=\"range\">\r\n    </div>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {fullName} from '@/utils/user-utils.js';\r\nimport {ProjectDefaultLayerCollection} from 'cytomine-client';\r\nimport _ from 'lodash';\r\n\r\nexport default {\r\n  name: 'layers-panel',\r\n  props: {\r\n    index: String,\r\n    layersToPreload: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      error: false,\r\n\r\n      layers: [], // Array<User> (representing user layers)\r\n      indexLayers: [],\r\n      selectedLayer: null\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    project: get('currentProject/project'),\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    viewerWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'];\r\n    },\r\n    imageWrapper() {\r\n      return this.viewerWrapper.images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    slices() {\r\n      return this.imageWrapper.activeSlices;\r\n    },\r\n    activePanel() {\r\n      return this.imageWrapper.activePanel;\r\n    },\r\n    layersOpacity: {\r\n      get() {\r\n        return this.imageWrapper.style.layersOpacity;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setLayersOpacity', Number(value));\r\n      }\r\n    },\r\n    layersIds() {\r\n      return this.layers.map(layer => layer.id);\r\n    },\r\n    selectedLayers() { // Array<User> (representing user layers)\r\n      return this.imageWrapper.layers.selectedLayers || [];\r\n    },\r\n    selectedLayersIds() {\r\n      return this.selectedLayers.map(layer => layer.id);\r\n    },\r\n    unselectedLayers() {\r\n      return this.layers.filter(layer => !this.selectedLayersIds.includes(layer.id)).sort((a, b) => (a.lastname < b.lastname) ? -1 : 1 );\r\n    },\r\n    nbReviewedAnnotations() {\r\n      return this.indexLayers.reduce((cnt, layer) => cnt + layer.countReviewedAnnotation, 0);\r\n    },\r\n    hasReviewLayer() {\r\n      return this.image.inReview || this.image.reviewed;\r\n    },\r\n    reviewLayer() {\r\n      return {id: -1, isReview: true};\r\n    },\r\n    reviewMode() {\r\n      return this.imageWrapper.review.reviewMode;\r\n    },\r\n    isActiveImage() {\r\n      return this.viewerWrapper.activeImage === this.index;\r\n    }\r\n  },\r\n  watch: {\r\n    activePanel() {\r\n      this.fetchIndexLayers();\r\n    },\r\n    reviewMode() {\r\n      if(this.reviewMode) {\r\n        if(!this.layers.includes(this.reviewLayer)) {\r\n          this.layers.push(this.reviewLayer);\r\n        }\r\n        this.addLayer(this.reviewLayer);\r\n      }\r\n      else {\r\n        if(!this.hasReviewLayer) {\r\n          let index = this.selectedLayersIds.findIndex(id => id === this.reviewLayer.id);\r\n          if(index !== -1) {\r\n            this.removeLayer(index);\r\n          }\r\n\r\n          this.layers = this.layers.filter(layer => !layer.isReview);\r\n        }\r\n      }\r\n    },\r\n    layersToPreload: {\r\n      deep: true,\r\n      handler: function(layersToPreload) {\r\n        layersToPreload.forEach(layerId => {\r\n          let index = this.selectedLayersIds.findIndex(id => id === this.reviewLayer.id);\r\n          if(index !== -1) {\r\n            if (!this.selectedLayers[index].visible) {\r\n              this.toggleLayerVisibility(index);\r\n            }\r\n            return;\r\n          }\r\n\r\n          this.addLayerById(layerId, true);\r\n        });\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    addAnnotationEventHandler(annot, saved = true) {\r\n      this.annotationEventHandler(annot);\r\n      let updatedProject = this.$store.state.currentProject.project.clone();\r\n\r\n      if(annot.type === 'UserAnnotation') {\r\n        if(saved) updatedProject.numberOfAnnotations++;\r\n      }\r\n      else {\r\n        updatedProject.numberOfReviewedAnnotations++;\r\n      }\r\n\r\n      this.$store.dispatch('currentProject/updateProject', updatedProject);\r\n    },\r\n    deleteAnnotationEventHandler(annot) {\r\n      this.annotationEventHandler(annot);\r\n    },\r\n    annotationEventHandler(annot) {\r\n      if(annot.image === this.image.id) {\r\n        this.fetchIndexLayers();\r\n      }\r\n    },\r\n    reloadAnnotationsHandler({idImage}={}) {\r\n      if(!idImage || idImage === this.image.id) {\r\n        this.fetchIndexLayers();\r\n      }\r\n    },\r\n\r\n    layerName(layer) {\r\n      if(layer.isReview) {\r\n        return `${this.$t('review-layer')} (${this.nbReviewedAnnotations})`;\r\n      }\r\n\r\n      let name = fullName(layer);\r\n\r\n      let id = (this.currentUser.isDeveloper) ? ` (${this.$t('id')}: ${layer.id})` : '';\r\n\r\n      let indexLayer = this.indexLayers.find(index => index.user === layer.id) || {};\r\n      return `${name}${id} (${indexLayer.countAnnotation || 0})`;\r\n    },\r\n\r\n    canDraw(layer) {\r\n      return !layer.isReview && !layer.algo && this.$store.getters['currentProject/canEditLayer'](layer.id);\r\n    },\r\n\r\n    addLayerById(id, visible) {\r\n      let layer = this.layers.find(layer => layer.id === id);\r\n      if(layer) {\r\n        this.addLayer(layer, visible);\r\n      }\r\n    },\r\n\r\n    addLayer(layer = this.selectedLayer, visible = true) {\r\n      if(this.selectedLayersIds.includes(layer.id)) {\r\n        return;\r\n      }\r\n\r\n      layer.visible = visible;\r\n      layer.drawOn = (layer.id === this.currentUser.id && this.canDraw(layer));\r\n      this.$store.dispatch(this.imageModule + 'addLayer', layer);\r\n\r\n      this.selectedLayer = null;\r\n    },\r\n\r\n    removeLayer(index) {\r\n      this.$store.dispatch(this.imageModule + 'removeLayer', index);\r\n    },\r\n\r\n    toggleLayerVisibility(index) {\r\n      this.$store.dispatch(this.imageModule + 'toggleLayerVisibility', index);\r\n    },\r\n\r\n    toggleLayerDrawOn(index) {\r\n      this.$store.commit(this.imageModule + 'toggleLayerDrawOn', index);\r\n    },\r\n\r\n    async fetchLayers() {\r\n      this.layers = (await this.project.fetchUserLayers(this.image.id)).array;\r\n      if(this.hasReviewLayer) {\r\n        this.layers.push(this.reviewLayer);\r\n      }\r\n\r\n      // if image instance was changed (e.g. with previous/next image navigation), some of the selected layers\r\n      // may not be relevant for the current image => filter them\r\n      let idLayers = this.layers.map(layer => layer.id);\r\n      this.$store.commit(this.imageModule + 'filterSelectedLayers', idLayers);\r\n    },\r\n\r\n    async fetchIndexLayers(force=false) {\r\n      if(!force && this.activePanel !== 'layers') {\r\n        return;\r\n      }\r\n      // TODO: optimize, backend should be able to send indexes for several slices at once.\r\n      let indexLayers = await Promise.all(this.slices.map(async slice => await slice.fetchAnnotationsIndex()));\r\n      indexLayers = Object.values(_.groupBy(indexLayers.flat(), 'user'));\r\n      this.indexLayers = indexLayers.map(userIndexLayers => userIndexLayers.reduce((a, b) => {\r\n        return {\r\n          user: a.user,\r\n          countAnnotation: a.countAnnotation + b.countAnnotation,\r\n          countReviewedAnnotation: a.countReviewedAnnotation + b.countReviewedAnnotation\r\n        };\r\n      }, {user: userIndexLayers[0].user, countAnnotation: 0, countReviewedAnnotation: 0}));\r\n      // ----\r\n    },\r\n\r\n    shortkeyHandler(key) {\r\n      if(!key.startsWith('toggle-all-') && !this.isActiveImage) { // shortkey should only be applied to active map\r\n        return;\r\n      }\r\n\r\n      key = key.replace('toggle-all-', 'toggle-');\r\n      if(key === 'toggle-selected-layers') {\r\n        this.selectedLayers.forEach((layer, index) => this.toggleLayerVisibility(index));\r\n      }\r\n      else if(key === 'toggle-review-layer') {\r\n        let index = this.selectedLayersIds.findIndex(id => id === this.reviewLayer.id);\r\n        if(index !== -1) {\r\n          this.toggleLayerVisibility(index);\r\n          return;\r\n        }\r\n\r\n        if(this.layers.includes(this.reviewLayer)) {\r\n          this.addLayer(this.reviewLayer);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      await Promise.all([this.fetchLayers(), this.fetchIndexLayers(true)]);\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n      this.$notify({type: 'error', text: this.$t('notif-error-loading-annotation-layers')});\r\n      return;\r\n    }\r\n\r\n    let layersToAdd = this.layersToPreload.map(id => ({id, visible: true}));\r\n\r\n    if(!this.imageWrapper.layers.selectedLayers) { // we do not use computed property selectedLayers because we don't want the replacement by [] if the store array is null\r\n      if(!this.layersToPreload.includes(this.currentUser.id)) {\r\n        layersToAdd.push({id: this.currentUser.id, visible: true});\r\n      }\r\n\r\n      try {\r\n        let defaultLayers = await ProjectDefaultLayerCollection.fetchAll({\r\n          filterKey: 'project',\r\n          filterValue: this.project.id\r\n        });\r\n\r\n        let addedIds = layersToAdd.map(layer => layer.id);\r\n\r\n        defaultLayers.array.forEach(({user, hideByDefault}) => {\r\n          if(!addedIds.includes(user)) {\r\n            layersToAdd.push({id: user, visible: !hideByDefault});\r\n          }\r\n        });\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n    layersToAdd.map(layer => this.addLayerById(layer.id, layer.visible));\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('addAnnotation', this.addAnnotationEventHandler);\r\n    this.$eventBus.$on('deleteAnnotation', this.deleteAnnotationEventHandler);\r\n    this.$eventBus.$on('reloadAnnotations', this.reloadAnnotationsHandler);\r\n    this.$eventBus.$on('shortkeyEvent', this.shortkeyHandler);\r\n  },\r\n  beforeDestroy() {\r\n    this.$eventBus.$off('addAnnotation', this.addAnnotationEventHandler);\r\n    this.$eventBus.$off('deleteAnnotation', this.deleteAnnotationEventHandler);\r\n    this.$eventBus.$off('reloadAnnotations', this.reloadAnnotationsHandler);\r\n    this.$eventBus.$off('shortkeyEvent', this.shortkeyHandler);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n>>> select {\r\n  width: 21em;\r\n}\r\n\r\n.table {\r\n  margin-bottom: 1em !important;\r\n  font-size: 0.9em;\r\n}\r\n\r\n.table tbody {\r\n  display: block;\r\n  overflow: auto;\r\n  max-height: 10em;\r\n}\r\n\r\n.table thead tr {\r\n  display: block;\r\n}\r\n\r\ntd, th {\r\n  padding: 0.25em !important;\r\n  vertical-align: middle !important;\r\n}\r\n\r\ntd .button {\r\n  width: 1.5em;\r\n  height: 1.5em;\r\n  font-size: 0.9em;\r\n  padding: 0;\r\n}\r\n\r\n.checkbox-column {\r\n  min-width: 2.2em;\r\n  text-align: center !important;\r\n}\r\n\r\n.name-column {\r\n  width: 100%;\r\n}\r\n\r\n>>> .checkbox .control-label {\r\n  padding: 0 !important;\r\n}\r\n\r\n>>> input[type=\"range\"].slider {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.opacity {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.opacity label {\r\n  text-transform: uppercase;\r\n  font-size: 0.8em;\r\n  width: 15em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayersPanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayersPanel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LayersPanel.vue?vue&type=template&id=1376cde3&scoped=true\"\nimport script from \"./LayersPanel.vue?vue&type=script&lang=js\"\nexport * from \"./LayersPanel.vue?vue&type=script&lang=js\"\nimport style0 from \"./LayersPanel.vue?vue&type=style&index=0&id=1376cde3&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1376cde3\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$t('terms')))]),_c('div',{staticClass:\"ontology-tree-wrapper\"},[_c('div',{staticClass:\"header-tree\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"size\":\"is-small\",\"expanded\":\"\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('div',{staticClass:\"sidebar-tree\"},[_vm._m(0),_c('div',{staticClass:\"opacity\"},[_vm._v(_vm._s(_vm.$t('opacity')))])])],1),_c('ontology-tree',{attrs:{\"ontology\":_vm.ontology,\"allowSelection\":false,\"searchString\":_vm.searchString,\"additionalNodes\":_vm.additionalNodes},scopedSlots:_vm._u([{key:\"custom-sidebar\",fn:function({term}){return [_c('div',{staticClass:\"sidebar-tree\"},[_c('div',{staticClass:\"visibility\"},[(term.id)?_c('b-checkbox',{attrs:{\"size\":\"is-small\",\"value\":_vm.terms[_vm.termsMapping[term.id]].visible},on:{\"input\":function($event){return _vm.toggleTermVisibility(_vm.termsMapping[term.id])}}}):_c('b-checkbox',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.displayNoTerm),callback:function ($$v) {_vm.displayNoTerm=$$v},expression:\"displayNoTerm\"}})],1),_c('div',{staticClass:\"opacity\"},[(term.id)?_c('input',{staticClass:\"slider is-fullwidth is-small\",attrs:{\"step\":\"0.05\",\"min\":\"0\",\"max\":\"1\",\"type\":\"range\",\"disabled\":!_vm.terms[_vm.termsMapping[term.id]].visible},domProps:{\"value\":_vm.terms[_vm.termsMapping[term.id]].opacity},on:{\"change\":event => _vm.changeOpacity(_vm.termsMapping[term.id], event),\"input\":event => _vm.changeOpacity(_vm.termsMapping[term.id], event)}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.noTermOpacity),expression:\"noTermOpacity\"}],staticClass:\"slider is-fullwidth is-small\",attrs:{\"step\":\"0.05\",\"min\":\"0\",\"max\":\"1\",\"type\":\"range\"},domProps:{\"value\":(_vm.noTermOpacity)},on:{\"__r\":function($event){_vm.noTermOpacity=$event.target.value}}})])])]}}])})],1),_c('div',{staticClass:\"has-text-right\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.resetOpacities()}}},[_vm._v(_vm._s(_vm.$t('button-reset-opacities')))])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"visibility\"},[_c('i',{staticClass:\"far fa-eye\"})])\n}]\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <h1>{{ $t('terms') }}</h1>\r\n  <div class=\"ontology-tree-wrapper\">\r\n    <div class=\"header-tree\">\r\n      <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" size=\"is-small\" expanded />\r\n\r\n      <div class=\"sidebar-tree\">\r\n        <div class=\"visibility\">\r\n          <i class=\"far fa-eye\"></i>\r\n        </div>\r\n        <div class=\"opacity\">{{$t('opacity')}}</div>\r\n      </div>\r\n    </div>\r\n    <ontology-tree\r\n      :ontology=\"ontology\"\r\n      :allowSelection=\"false\"\r\n      :searchString=\"searchString\"\r\n      :additionalNodes=\"additionalNodes\"\r\n    >\r\n      <template #custom-sidebar=\"{term}\">\r\n        <div class=\"sidebar-tree\">\r\n          <div class=\"visibility\">\r\n            <b-checkbox\r\n              v-if=\"term.id\"\r\n              size=\"is-small\"\r\n              :value=\"terms[termsMapping[term.id]].visible\"\r\n              @input=\"toggleTermVisibility(termsMapping[term.id])\"\r\n            />\r\n\r\n            <b-checkbox v-else size=\"is-small\" v-model=\"displayNoTerm\" />\r\n          </div>\r\n\r\n          <div class=\"opacity\">\r\n            <input\r\n              v-if=\"term.id\"\r\n              class=\"slider is-fullwidth is-small\" step=\"0.05\" min=\"0\" max=\"1\" type=\"range\"\r\n              :disabled=\"!terms[termsMapping[term.id]].visible\"\r\n              :value=\"terms[termsMapping[term.id]].opacity\"\r\n              @change=\"event => changeOpacity(termsMapping[term.id], event)\"\r\n              @input=\"event => changeOpacity(termsMapping[term.id], event)\"\r\n            >\r\n\r\n            <input\r\n              v-else\r\n              class=\"slider is-fullwidth is-small\" step=\"0.05\" min=\"0\" max=\"1\" type=\"range\"\r\n              v-model=\"noTermOpacity\"\r\n            >\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </ontology-tree>\r\n  </div>\r\n  <div class=\"has-text-right\">\r\n    <button class=\"button is-small\" @click=\"resetOpacities()\">{{$t('button-reset-opacities')}}</button>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport OntologyTree from '@/components/ontology/OntologyTree';\r\n\r\nexport default {\r\n  name: 'ontology-panel',\r\n  components: {OntologyTree},\r\n  props: {\r\n    index: String\r\n  },\r\n  data() {\r\n    return {\r\n      searchString: ''\r\n    };\r\n  },\r\n  computed: {\r\n    ontology: get('currentProject/ontology'),\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    terms() {\r\n      return this.imageWrapper.style.terms;\r\n    },\r\n    termsMapping() {\r\n      let mapping = {};\r\n      this.terms.forEach((term, idx) => mapping[term.id] = idx);\r\n      return mapping;\r\n    },\r\n    additionalNodes() {\r\n      return [{id: 0, name: this.$t('no-term')}];\r\n    },\r\n    displayNoTerm: {\r\n      get() {\r\n        return this.imageWrapper.style.displayNoTerm;\r\n      },\r\n      set(value) {\r\n        this.$store.dispatch(this.imageModule + 'setDisplayNoTerm', value);\r\n      }\r\n    },\r\n    noTermOpacity: {\r\n      get() {\r\n        return this.imageWrapper.style.noTermOpacity;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setNoTermOpacity', Number(value));\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    toggleTermVisibility(index) {\r\n      this.$store.dispatch(this.imageModule + 'toggleTermVisibility', index);\r\n    },\r\n    changeOpacity(index, event) {\r\n      let opacity = Number(event.target.value);\r\n      this.$store.commit(this.imageModule + 'setTermOpacity', {indexTerm: index, opacity});\r\n    },\r\n    resetOpacities() {\r\n      this.$store.commit(this.imageModule + 'resetTermOpacities');\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.ontology-tree-wrapper {\r\n  max-height: 17em;\r\n  overflow: auto;\r\n  margin-bottom: 0.4em !important;\r\n}\r\n\r\n\r\ninput[type=\"range\"].slider {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.header-tree {\r\n  display: flex;\r\n  justify-content: right;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 5;\r\n  padding-bottom: 0.3em;\r\n  background: #f2f2f2;\r\n  border: 2px solid #DBDBDB;\r\n  border-width: 0 0 2px !important;\r\n}\r\n\r\n.header-tree .opacity {\r\n  text-align: center;\r\n  text-transform: uppercase;\r\n  font-size: 0.8em;\r\n}\r\n\r\n.sidebar-tree {\r\n  padding-right: 0.4em;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.visibility {\r\n  width: 2.8em;\r\n  height: 2.1em;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.header-tree .visibility {\r\n  height: auto;\r\n}\r\n\r\n.opacity {\r\n  width: 6em;\r\n  display: block;\r\n}\r\n\r\n>>> .checkbox .control-label {\r\n  padding: 0 !important;\r\n}\r\n\r\n>>> .ontology-tree .sl-vue-tree-node-item, >>> .ontology-tree .no-result {\r\n  line-height: 2;\r\n  font-size: 0.9em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyPanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyPanel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./OntologyPanel.vue?vue&type=template&id=2a725c86&scoped=true\"\nimport script from \"./OntologyPanel.vue?vue&type=script&lang=js\"\nexport * from \"./OntologyPanel.vue?vue&type=script&lang=js\"\nimport style0 from \"./OntologyPanel.vue?vue&type=style&index=0&id=2a725c86&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a725c86\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"properties-panel\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('properties')))]),_c('b-field',{attrs:{\"horizontal\":\"\",\"label\":_vm.$t('key')}},[_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.selectedPropertyKey),callback:function ($$v) {_vm.selectedPropertyKey=$$v},expression:\"selectedPropertyKey\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\" \"+_vm._s(_vm.$t('no-key-selected'))+\" \")]),_vm._l((_vm.propertiesKeys),function(key){return _c('option',{key:key,domProps:{\"value\":key}},[_vm._v(\" \"+_vm._s(key)+\" \")])})],2)],1),_c('b-field',{attrs:{\"horizontal\":\"\",\"label\":_vm.$t('color')}},[_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.selectedPropertyColor),callback:function ($$v) {_vm.selectedPropertyColor=$$v},expression:\"selectedPropertyColor\"}},_vm._l((_vm.colors),function(color){return _c('option',{key:color.name,domProps:{\"value\":color}},[_vm._v(\" \"+_vm._s(_vm.$t(color.name))+\" \")])}),0)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"properties-panel\">\r\n  <h1>{{$t('properties')}}</h1>\r\n  <b-field horizontal :label=\"$t('key')\">\r\n    <b-select size=\"is-small\" v-model=\"selectedPropertyKey\">\r\n      <option :value=\"null\">\r\n        {{$t('no-key-selected')}}\r\n      </option>\r\n      <option v-for=\"key in propertiesKeys\" :value=\"key\" :key=\"key\">\r\n        {{ key }}\r\n      </option>\r\n    </b-select>\r\n  </b-field>\r\n\r\n  <b-field horizontal :label=\"$t('color')\">\r\n    <b-select size=\"is-small\" v-model=\"selectedPropertyColor\">\r\n      <option v-for=\"color in colors\" :value=\"color\" :key=\"color.name\">\r\n        {{ $t(color.name) }}\r\n      </option>\r\n    </b-select>\r\n  </b-field>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {defaultColors} from '@/utils/style-utils.js';\r\n\r\nexport default {\r\n  name: 'properties-panel',\r\n  props: {\r\n    index: String\r\n  },\r\n  computed: {\r\n    colors() {\r\n      return defaultColors;\r\n    },\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    selectedPropertyKey: {\r\n      get() {\r\n        return this.imageWrapper.properties.selectedPropertyKey;\r\n      },\r\n      set(value) {\r\n        this.$store.dispatch(this.imageModule + 'setSelectedPropertyKey', value);\r\n      }\r\n    },\r\n    selectedPropertyColor: {\r\n      get() {\r\n        return this.imageWrapper.properties.selectedPropertyColor;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setSelectedPropertyColor', value);\r\n      }\r\n    },\r\n    propertiesKeys() {\r\n      return this.imageWrapper.properties.propertiesKeys;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.properties-panel select {\r\n  width: 15em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PropertiesPanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PropertiesPanel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PropertiesPanel.vue?vue&type=template&id=4c1e15ee\"\nimport script from \"./PropertiesPanel.vue?vue&type=script&lang=js\"\nexport * from \"./PropertiesPanel.vue?vue&type=script&lang=js\"\nimport style0 from \"./PropertiesPanel.vue?vue&type=style&index=0&id=4c1e15ee&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"follow-panel\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('broadcast')))]),_c('div',[_c('b-checkbox',{attrs:{\"type\":\"is-info\",\"disabled\":_vm.disabledBroadcast},model:{value:(_vm.broadcastModel),callback:function ($$v) {_vm.broadcastModel=$$v},expression:\"broadcastModel\"}},[_vm._v(\" \"+_vm._s(_vm.$t('broadcast-my-position'))+\" \")])],1),(_vm.broadcast)?[_c('h2',[_vm._v(_vm._s(_vm.$t('followers'))+\" (\"+_vm._s(this.followers.length)+\")\")]),_c('div',{staticClass:\"followers\"},_vm._l((_vm.followers),function(user){return _c('div',{key:user.id,staticClass:\"field\"},[_c('li',[_c('username',{attrs:{\"user\":user}})],1)])}),0)]:_vm._e(),_c('h2',{class:{disabled: _vm.broadcast}},[_vm._v(_vm._s(_vm.$t('follow-user')))]),_c('div',{staticClass:\"follow-panel-content\",class:{disabled: _vm.broadcast}},[_c('div',{staticClass:\"field\"},[_c('b-radio',{attrs:{\"native-value\":null,\"type\":\"is-info\",\"disabled\":_vm.broadcast},model:{value:(_vm.trackedUserModel),callback:function ($$v) {_vm.trackedUserModel=$$v},expression:\"trackedUserModel\"}},[_vm._v(\" \"+_vm._s(_vm.$t('no-tracking'))+\" \")])],1),(_vm.onlineManagers.length > 0)?[_c('h3',[_vm._v(_vm._s(_vm.$t('online-managers')))]),_vm._l((_vm.onlineManagers),function(user){return _c('div',{key:user.id,staticClass:\"field\"},[_c('b-radio',{attrs:{\"native-value\":user.id,\"type\":\"is-info\",\"disabled\":_vm.broadcast},model:{value:(_vm.trackedUserModel),callback:function ($$v) {_vm.trackedUserModel=$$v},expression:\"trackedUserModel\"}},[_c('username',{attrs:{\"user\":user}})],1)],1)})]:_vm._e(),(_vm.onlineContributors.length > 0)?[_c('h3',[_vm._v(_vm._s(_vm.$t('online-contributors')))]),_vm._l((_vm.onlineContributors),function(user){return _c('div',{key:user.id,staticClass:\"field\"},[_c('b-radio',{attrs:{\"native-value\":user.id,\"type\":\"is-info\",\"disabled\":_vm.broadcast},model:{value:(_vm.trackedUserModel),callback:function ($$v) {_vm.trackedUserModel=$$v},expression:\"trackedUserModel\"}},[_c('username',{attrs:{\"user\":user}})],1)],1)})]:_vm._e()],2)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"follow-panel\">\r\n  <h1>{{$t('broadcast')}}</h1>\r\n\r\n  <div>\r\n    <b-checkbox v-model=\"broadcastModel\" type=\"is-info\" :disabled=\"disabledBroadcast\">\r\n      {{$t('broadcast-my-position')}}\r\n    </b-checkbox>\r\n  </div>\r\n\r\n    <template v-if=\"broadcast\">\r\n      <h2>{{$t('followers')}} ({{this.followers.length}})</h2>\r\n      <div class=\"followers\">\r\n        <div class=\"field\" v-for=\"user in followers\" :key=\"user.id\">\r\n          <li><username :user=\"user\" /></li>\r\n        </div>\r\n      </div>\r\n    </template>\r\n\r\n  <h2 :class=\"{disabled: broadcast}\">{{$t('follow-user')}}</h2>\r\n\r\n  <div class=\"follow-panel-content\" :class=\"{disabled: broadcast}\">\r\n    <div class=\"field\">\r\n      <b-radio v-model=\"trackedUserModel\" :native-value=\"null\" type=\"is-info\" :disabled=\"broadcast\">\r\n        {{$t('no-tracking')}}\r\n      </b-radio>\r\n    </div>\r\n\r\n    <template v-if=\"onlineManagers.length > 0\">\r\n      <h3>{{$t('online-managers')}}</h3>\r\n      <div class=\"field\" v-for=\"user in onlineManagers\" :key=\"user.id\">\r\n        <b-radio v-model=\"trackedUserModel\" :native-value=\"user.id\" type=\"is-info\" :disabled=\"broadcast\">\r\n          <username :user=\"user\" />\r\n        </b-radio>\r\n      </div>\r\n    </template>\r\n\r\n    <template v-if=\"onlineContributors.length > 0\">\r\n      <h3>{{$t('online-contributors')}}</h3>\r\n      <div class=\"field\" v-for=\"user in onlineContributors\" :key=\"user.id\">\r\n        <b-radio v-model=\"trackedUserModel\" :native-value=\"user.id\" type=\"is-info\" :disabled=\"broadcast\">\r\n          <username :user=\"user\" />\r\n        </b-radio>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport Username from '@/components/user/Username';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\nimport {UserPosition} from 'cytomine-client';\r\n\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'follow-panel',\r\n  components: {Username},\r\n  props: {\r\n    index: String,\r\n    view: Object\r\n  },\r\n  data() {\r\n    return {\r\n      onlineUsers: [],\r\n      followers: [],\r\n\r\n      broadcastModel: false,\r\n      trackedUserModel: null,\r\n\r\n      timeoutOnlineUsers: null,\r\n      timeoutTracking: null,\r\n\r\n      disabledBroadcast: false,\r\n\r\n      wsUserPositionPath: 'ws' + constants.CYTOMINE_CORE_HOST.replaceAll(\"http\", \"\") + \"/ws/user-position/\",\r\n\r\n      userPostitionWebsock: null,\r\n      wsConnected: false,\r\n      wsInterval: undefined,\r\n      viewerPositionChanged: false,\r\n      lastPositionUpdate: Date.now()\r\n    };\r\n  },\r\n  computed: {\r\n    projectMembers: get('currentProject/members'),\r\n    projectManagers: get('currentProject/managers'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    projectContributors() {\r\n      return this.$store.getters['currentProject/contributors'];\r\n    },\r\n    currentUser: get('currentUser/user'),\r\n    project: get('currentProject/project'),\r\n    blindMode() {\r\n      return this.project.blindMode;\r\n    },\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    viewerWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'];\r\n    },\r\n    images() {\r\n      return this.viewerWrapper.images;\r\n    },\r\n    linkedIndexes() {\r\n      return this.viewerWrapper.links.find(group => group.includes(this.index)) || [];\r\n    },\r\n    linkedIndexTracking() { // true if current view is linked with another view with tracking enabled\r\n      return this.linkedIndexes.some(idx => idx !== this.index && this.images[idx].tracking.trackedUser);\r\n    },\r\n    imageWrapper() {\r\n      return this.viewerWrapper.images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    activePanel() {\r\n      return this.imageWrapper.activePanel;\r\n    },\r\n    broadcast: {\r\n      get() {\r\n        return this.imageWrapper.tracking.broadcast;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setBroadcast', value);\r\n      }\r\n    },\r\n    alreadyBroadcastingImage() {\r\n      return Object.keys(this.images).some(index => {\r\n        let image = this.images[index];\r\n        return index !== this.index && image.imageInstance\r\n          && image.imageInstance.id === this.image.id && image.tracking.broadcast;\r\n      });\r\n    },\r\n    trackedUser: {\r\n      get() {\r\n        return this.imageWrapper.tracking.trackedUser;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setTrackedUser', value);\r\n      }\r\n    },\r\n    onlineManagers() {\r\n      return this.projectManagers.filter(({id}) => this.onlineUsers.includes(id));\r\n    },\r\n    onlineContributors() {\r\n      return this.projectContributors.filter(({id}) => this.onlineUsers.includes(id));\r\n    },\r\n    trackedUserFullName() {\r\n      let trackedUser = this.projectMembers.find(user => user.id === this.trackedUser);\r\n      if(trackedUser) {\r\n        return trackedUser.fullName;\r\n      }\r\n      return null;\r\n    }\r\n  },\r\n  watch: {\r\n    activePanel(panel) {\r\n      if(panel === 'follow') {\r\n        this.fetchOnline();\r\n      }\r\n    },\r\n\r\n    broadcast() {\r\n      if(this.broadcast) {\r\n        this.stopTrack();\r\n        if(!this.wsConnected){\r\n          this.initWebSocket();\r\n          this.wsInterval = setInterval(() => {\r\n           this.sendPosition();\r\n          }, constants.TRACKING_REFRESH_INTERVAL);\r\n        }\r\n        this.trackedUser = null;\r\n      }\r\n      else{\r\n        clearInterval(this.wsInterval);\r\n        this.userPostitionWebsock.close();\r\n      }\r\n    },\r\n\r\n    alreadyBroadcastingImage(value) {\r\n      if(!value) {\r\n        this.disabledBroadcast = false;\r\n      }\r\n    },\r\n\r\n    broadcastModel(value) {\r\n      if(value && this.alreadyBroadcastingImage) {\r\n        this.$notify({type: 'error', text: this.$t('notif-error-already-broadcasting-this-image')});\r\n        this.disabledBroadcast = true;\r\n        this.$nextTick(() => this.broadcastModel = false);\r\n        return;\r\n      }\r\n      this.broadcast = value;\r\n    },\r\n\r\n    trackedUserModel(value) {\r\n      // if map is linked to another map on which tracking is already enabled, possible conflict\r\n      if(value && this.linkedIndexTracking) {\r\n        this.$buefy.dialog.confirm({\r\n          title: this.$t('possible-conflict'),\r\n          message: this.$t('confirm-unlink-view-to-track'),\r\n          confirmText: this.$t('button-confirm'),\r\n          cancelText: this.$t('button-cancel'),\r\n          onConfirm: () => {\r\n            this.$store.commit(this.viewerModule + 'unlinkImage', {indexImage: this.index});\r\n            this.trackedUser = value;\r\n          },\r\n          onCancel: () => {\r\n            this.stopTrack();\r\n            this.trackedUserModel = null;\r\n          }\r\n        });\r\n      }\r\n      else {\r\n        this.stopTrack();\r\n        this.trackedUser = value;\r\n      }\r\n    },\r\n\r\n    trackedUser(id) {\r\n      this.trackedUserModel = id;\r\n\r\n      if(id) {\r\n        if(!this.wsConnected){\r\n          this.initTracking();\r\n        }\r\n        this.track();\r\n        this.fetchOnline();\r\n      }\r\n    },\r\n\r\n    onlineUsers(onlines) {\r\n      if(this.trackedUser && !onlines.includes(this.trackedUser)) {\r\n        this.$notify({\r\n          type: 'info',\r\n          text: this.$t('end-tracking-user-no-longer-broadcasting', {\r\n            username: this.trackedUserFullName,\r\n            imageName: this.blindMode ? this.image.blindedName : this.image.instanceFilename\r\n          })\r\n        });\r\n        this.trackedUser = null;\r\n      }\r\n    },\r\n    'view.zoom'() {\r\n      this.viewerPositionChanged = true;\r\n    },\r\n    'view.rotation'() {\r\n      this.viewerPositionChanged = true;\r\n    },\r\n    'view.viewCenter.0'() {\r\n      this.viewerPositionChanged = true;\r\n    },\r\n    'view.viewCenter.1'() {\r\n      this.viewerPositionChanged = true;\r\n    }\r\n  },\r\n  methods: {\r\n    initTracking(){\r\n      this.initWebSocket();\r\n      this.userPostitionWebsock.onopen = this.onOpentracking;\r\n    },\r\n    initWebSocket(){\r\n      try {\r\n        this.userPostitionWebsock = new WebSocket(appendShortTermToken(this.wsUserPositionPath + this.currentUser.id + '/' + this.image.id + '/' + this.broadcast, this.shortTermToken));\r\n        this.userPostitionWebsock.onopen = this.onOpen;\r\n        this.userPostitionWebsock.onclose = this.onClose;\r\n        this.userPostitionWebsock.onmessage = this.onMessage;\r\n      } catch (error) {\r\n        console.log('error', error);\r\n      }\r\n    },\r\n    onOpen(){\r\n      this.wsConnected = true;\r\n    },\r\n    onOpentracking(){\r\n      this.onOpen();\r\n      this.userPostitionWebsock.send(this.trackedUserModel);\r\n    },\r\n    onClose(){\r\n      this.wsConnected = false;\r\n    },\r\n    onMessage(message){\r\n      if(message.data == 'stop-track'){\r\n        this.stopTrack();\r\n      }\r\n      else{\r\n        let pos = JSON.parse(message.data);\r\n        this.moveView(pos);\r\n      }\r\n    },\r\n    moveView(pos){\r\n      this.view.animate({\r\n        center: [pos.x, pos.y],\r\n        zoom: pos.zoom,\r\n        rotation: pos.rotation,\r\n        duration: 500\r\n      });\r\n    },\r\n    stopTrack(){\r\n      if(this.wsConnected){\r\n        this.userPostitionWebsock.close();\r\n        this.wsConnected = false;\r\n      }\r\n      this.trackedUser = null;\r\n    },\r\n    \r\n    sendPosition() {\r\n      const shouldRefreshForKeepAlive = Date.now() - this.lastPositionUpdate > constants.WS_POSITION_KEEP_ALIVE_INTERVAL;\r\n      if (this.broadcast && this.wsConnected && (this.viewerPositionChanged || shouldRefreshForKeepAlive)) {\r\n        const position = JSON.stringify({\r\n          x: this.view.viewCenter[0],\r\n          y: this.view.viewCenter[1],\r\n          zoom: this.view.zoom,\r\n          rotation: this.view.rotation\r\n        });\r\n        this.userPostitionWebsock.send(position);\r\n        this.viewerPositionChanged = false;\r\n        this.lastPositionUpdate = Date.now();\r\n      }\r\n    },\r\n    async track() {\r\n      if(!this.trackedUser || this.wsConnected){\r\n        return;\r\n      }\r\n\r\n      try {\r\n        console.log('fetchLastPosition');\r\n        let pos = await UserPosition.fetchLastPosition(this.image.id, this.trackedUser);\r\n        if(!pos.id || !pos.broadcast) {\r\n          return;\r\n        }\r\n\r\n        this.moveView(pos);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-tracked-user-position')});\r\n      }\r\n\r\n      clearTimeout(this.timeoutTracking);\r\n      if(!this.wsConnected){\r\n        this.timeoutTracking = setTimeout(this.track, constants.TRACKING_REFRESH_INTERVAL);\r\n      }\r\n    },\r\n\r\n    async fetchOnline() {\r\n      if(!this.trackedUser && this.activePanel !== 'follow') { // if panel not opened and no tracking ongoing, no need to refresh the data\r\n        return;\r\n      }\r\n\r\n      let onlines = await this.image.fetchConnectedUsers(true); // retrieve broadcasting user\r\n      this.onlineUsers = onlines.filter(id => id !== this.currentUser.id);\r\n\r\n      if(this.broadcast){\r\n        this.followers = [];\r\n        let followersIds = await this.$store.dispatch('currentProject/fetchFollowers', {userId: this.currentUser.id, imageId: this.image.id});\r\n\r\n        this.projectMembers.forEach(member => {\r\n          if(followersIds.includes(''+member.id)){\r\n            this.followers.push(member);\r\n          }\r\n        });\r\n      }\r\n\r\n      clearTimeout(this.timeoutOnlineUsers);\r\n      this.timeoutOnlineUsers = setTimeout(this.fetchOnline, constants.BROADCASTING_USERS_REFRESH_INTERVAL);\r\n    },\r\n  },\r\n  created() {\r\n    this.trackedUserModel = this.trackedUser;\r\n    this.broadcastModel = this.broadcast;\r\n    this.fetchOnline();\r\n    this.track();\r\n  },\r\n  beforeDestroy() {\r\n    clearTimeout(this.timeoutTracking);\r\n    clearTimeout(this.timeoutOnlineUsers);\r\n    if(this.wsConnected){\r\n      this.userPostitionWebsock.close();\r\n      this.wsConnected = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh2 {\r\n  margin-top: 0.8em;\r\n  margin-bottom: 0.4em;\r\n  font-size: 1em;\r\n}\r\n\r\nh3 {\r\n  margin-top: 0.8em;\r\n  margin-bottom: 0.4em;\r\n  font-weight: 600;\r\n}\r\n\r\n.disabled {\r\n  color: #7a7a7a;\r\n}\r\n\r\n.follow-panel-content {\r\n  max-height: 14em;\r\n  overflow: auto;\r\n}\r\n\r\n.followers{\r\n  overflow: scroll;\r\n  max-height: 4.5em;\r\n}\r\n</style>\r\n\r\n<style>\r\n.follow-panel .b-checkbox {\r\n  align-items: flex-start !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowPanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowPanel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FollowPanel.vue?vue&type=template&id=f95581d2&scoped=true\"\nimport script from \"./FollowPanel.vue?vue&type=script&lang=js\"\nexport * from \"./FollowPanel.vue?vue&type=script&lang=js\"\nimport style0 from \"./FollowPanel.vue?vue&type=style&index=0&id=f95581d2&prod&scoped=true&lang=css\"\nimport style1 from \"./FollowPanel.vue?vue&type=style&index=1&id=f95581d2&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f95581d2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$t('review')))]),(_vm.image.reviewed)?[_c('b-message',{attrs:{\"type\":\"is-success\",\"size\":\"is-small\",\"has-icon\":\"\"}},[_c('i18n',{attrs:{\"path\":_vm.isReviewer ? 'you-have-validated-image-on' : 'image-validated-by-on'}},[(!_vm.isReviewer)?_c('username',{attrs:{\"place\":\"user\",\"user\":_vm.reviewer}}):_vm._e(),_c('span',{attrs:{\"place\":\"date\"}},[_vm._v(_vm._s(_vm._f(\"moment\")(Number(_vm.image.reviewStop),'ll LT')))])],1)],1),(_vm.isReviewer)?_c('button',{staticClass:\"button is-small is-fullwidth\",on:{\"click\":function($event){return _vm.unvalidate()}}},[_vm._m(0),_c('span',[_vm._v(_vm._s(_vm.$t('button-unvalidate-and-continue-review')))])]):_vm._e()]:(_vm.image.inReview)?[(_vm.isReviewer)?[(!_vm.reviewMode)?_c('div',[_c('b-message',{attrs:{\"type\":\"is-info\",\"size\":\"is-small\",\"has-icon\":\"\"}},[_c('i18n',{attrs:{\"path\":\"you-are-reviewing-image-since\"}},[_c('span',{attrs:{\"place\":\"date\"}},[_vm._v(_vm._s(_vm._f(\"moment\")(Number(_vm.image.reviewStart),'ll LT')))])])],1),_c('button',{staticClass:\"button is-small is-fullwidth\",on:{\"click\":function($event){_vm.reviewMode = true}}},[_vm._m(1),_c('span',[_vm._v(_vm._s(_vm.$t('button-continue-review')))])])],1):_c('div',[_c('div',{staticClass:\"small\"},[_c('i18n',{attrs:{\"path\":\"review-list-visible-layers\"}},[_c('list-usernames',{attrs:{\"place\":\"visibleLayers\",\"users\":_vm.visibleUserLayers}})],1),(!_vm.taskReviewAll || _vm.taskReviewAll.progress === 100)?_c('div',[_vm._v(\" \"+_vm._s(this.$t('review-explanation'))+\" \"),_c('div',{staticClass:\"buttons is-centered are-small has-addons is-fullwidth\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.reviewAll(true)}}},[_vm._m(2),_c('span',[_vm._v(_vm._s(_vm.$t('button-accept-all')))])]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.reviewAll(false)}}},[_vm._m(3),_c('span',[_vm._v(_vm._s(_vm.$t('button-reject-all')))])])])]):_c('cytomine-task',{attrs:{\"task\":_vm.taskReviewAll},on:{\"update:task\":function($event){_vm.taskReviewAll=$event}}})],1),_c('div',{staticClass:\"buttons are-small\"},[_c('button',{staticClass:\"button is-fullwidth\",on:{\"click\":function($event){_vm.reviewMode = false}}},[_vm._m(4),_c('span',[_vm._v(_vm._s(_vm.$t('button-continue-review-later')))])]),_c('button',{staticClass:\"button is-danger is-fullwidth\",on:{\"click\":function($event){return _vm.cancelReview()}}},[_vm._m(5),_c('span',[_vm._v(_vm._s(_vm.$t('button-cancel-review')))])]),_c('button',{staticClass:\"button is-success is-fullwidth\",on:{\"click\":function($event){return _vm.validate()}}},[_vm._m(6),_c('span',[_vm._v(_vm._s(_vm.$t('button-validate-review')))])])])])]:_c('b-message',{attrs:{\"type\":\"is-info\",\"size\":\"is-small\",\"has-icon\":\"\"}},[_c('i18n',{attrs:{\"path\":\"image-in-review-by-since\"}},[_c('username',{attrs:{\"place\":\"user\",\"user\":_vm.reviewer}}),_c('span',{attrs:{\"place\":\"date\"}},[_vm._v(_vm._s(_vm._f(\"moment\")(Number(_vm.image.reviewStart),'ll LT')))])],1)],1)]:[_vm._v(\" \"+_vm._s(_vm.$t('image-not-reviewed'))+\" \"),_c('button',{staticClass:\"button is-small is-fullwidth has-margin-top\",on:{\"click\":function($event){return _vm.startReview()}}},[_vm._m(7),_c('span',[_vm._v(_vm._s(_vm.$t('button-start-review')))])])]],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-thumbs-down\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-play-circle\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-check\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-minus\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-pause-circle\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-times\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-thumbs-up\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-play-circle\"})])\n}]\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <h1>{{$t('review')}}</h1>\r\n  <template v-if=\"image.reviewed\">\r\n    <b-message type=\"is-success\" size=\"is-small\" has-icon>\r\n      <i18n :path=\"isReviewer ? 'you-have-validated-image-on' : 'image-validated-by-on'\">\r\n        <username v-if=\"!isReviewer\" place=\"user\" :user=\"reviewer\" />\r\n        <span place=\"date\">{{ Number(image.reviewStop) | moment('ll LT') }}</span>\r\n      </i18n>\r\n    </b-message>\r\n\r\n    <button v-if=\"isReviewer\" class=\"button is-small is-fullwidth\" @click=\"unvalidate()\">\r\n      <span class=\"icon\"><i class=\"fas fa-thumbs-down\"></i></span>\r\n      <span>{{$t('button-unvalidate-and-continue-review')}}</span>\r\n    </button>\r\n  </template>\r\n\r\n  <template v-else-if=\"image.inReview\">\r\n    <template v-if=\"isReviewer\">\r\n      <div v-if=\"!reviewMode\">\r\n        <b-message type=\"is-info\" size=\"is-small\" has-icon>\r\n          <i18n path=\"you-are-reviewing-image-since\">\r\n            <span place=\"date\">{{ Number(image.reviewStart) | moment('ll LT') }}</span>\r\n          </i18n>\r\n        </b-message>\r\n        <button class=\"button is-small is-fullwidth\" @click=\"reviewMode = true\">\r\n          <span class=\"icon\"><i class=\"fas fa-play-circle\"></i></span>\r\n          <span>{{$t('button-continue-review')}}</span>\r\n        </button>\r\n      </div>\r\n\r\n      <div v-else>\r\n          <div class=\"small\">\r\n            <i18n path=\"review-list-visible-layers\">\r\n              <list-usernames place=\"visibleLayers\" :users=\"visibleUserLayers\" />\r\n            </i18n>\r\n            <div v-if=\"!taskReviewAll || taskReviewAll.progress === 100\">\r\n              {{this.$t('review-explanation')}}\r\n              <div class=\"buttons is-centered are-small has-addons is-fullwidth\">\r\n                <button class=\"button\" @click=\"reviewAll(true)\">\r\n                  <span class=\"icon\"><i class=\"fas fa-check\"></i></span>\r\n                  <span>{{$t('button-accept-all')}}</span>\r\n                </button>\r\n                <button class=\"button\" @click=\"reviewAll(false)\">\r\n                  <span class=\"icon\"><i class=\"fas fa-minus\"></i></span>\r\n                  <span>{{$t('button-reject-all')}}</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <cytomine-task v-else :task.sync=\"taskReviewAll\" />\r\n          </div>\r\n\r\n          <div class=\"buttons are-small\">\r\n            <button class=\"button is-fullwidth\" @click=\"reviewMode = false\">\r\n              <span class=\"icon\"><i class=\"fas fa-pause-circle\"></i></span>\r\n              <span>{{$t('button-continue-review-later')}}</span>\r\n            </button>\r\n            <button class=\"button is-danger is-fullwidth\" @click=\"cancelReview()\">\r\n                <span class=\"icon\"><i class=\"fas fa-times\"></i></span>\r\n                <span>{{$t('button-cancel-review')}}</span>\r\n            </button>\r\n            <button class=\"button is-success is-fullwidth\" @click=\"validate()\">\r\n                <span class=\"icon\"><i class=\"fas fa-thumbs-up\"></i></span>\r\n                <span>{{$t('button-validate-review')}}</span>\r\n            </button>\r\n          </div>\r\n      </div>\r\n    </template>\r\n\r\n    <b-message v-else type=\"is-info\" size=\"is-small\" has-icon>\r\n      <i18n path=\"image-in-review-by-since\">\r\n        <username place=\"user\" :user=\"reviewer\" />\r\n        <span place=\"date\">{{ Number(image.reviewStart) | moment('ll LT') }}</span>\r\n      </i18n>\r\n    </b-message>\r\n  </template>\r\n\r\n  <template v-else>\r\n    {{$t('image-not-reviewed')}}\r\n    <button class=\"button is-small is-fullwidth has-margin-top\" @click=\"startReview()\">\r\n      <span class=\"icon\"><i class=\"fas fa-play-circle\"></i></span>\r\n      <span>{{$t('button-start-review')}}</span>\r\n    </button>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport Username from '@/components/user/Username';\r\nimport ListUsernames from '@/components/user/ListUsernames';\r\nimport CytomineTask from '@/components/utils/CytomineTask';\r\nimport {User, Task, AnnotationCollection} from 'cytomine-client';\r\n\r\nexport default {\r\n  name: 'review-panel',\r\n  props: {\r\n    index: String\r\n  },\r\n  components: {\r\n    Username,\r\n    ListUsernames,\r\n    CytomineTask\r\n  },\r\n  data() {\r\n    return {\r\n      taskReviewAll: null,\r\n      reviewer: null\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    project: get('currentProject/project'),\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance.clone(); // returns a clone of the image so that it can be modified in this component without mutating state outside vuex\r\n    },\r\n    reviewMode: {\r\n      get() {\r\n        return this.imageWrapper.review.reviewMode;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setReviewMode', value);\r\n      }\r\n    },\r\n    isReviewer() { // true iff the current user is the reviewer\r\n      return this.image.reviewUser === this.currentUser.id;\r\n    },\r\n    selectedLayers() {\r\n      return this.imageWrapper.layers.selectedLayers || [];\r\n    },\r\n    visibleUserLayers() {\r\n      return this.selectedLayers.filter(layer => layer.visible && !layer.isReview);\r\n    },\r\n    visibleUserLayerIds() {\r\n      return this.visibleUserLayers.map(layer => layer.id);\r\n    },\r\n    reviewLayer() {\r\n      return this.selectedLayers.find(layer => layer.isReview) || {};\r\n    }\r\n  },\r\n  methods: {\r\n    commitImage() {\r\n      this.$store.commit(this.imageModule + 'setImageInstance', this.image);\r\n    },\r\n    async startReview() {\r\n      try {\r\n        await this.image.review();\r\n        this.commitImage();\r\n        this.reviewMode = true;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-start-review')});\r\n      }\r\n    },\r\n    async cancelReview() {\r\n      try {\r\n        await this.image.stopReview(true);\r\n        this.commitImage();\r\n        this.reviewMode = false;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-cancel-review')});\r\n      }\r\n    },\r\n    async validate() {\r\n      try {\r\n        await this.image.stopReview();\r\n        this.commitImage();\r\n        this.reviewMode = false;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-validate-review')});\r\n      }\r\n    },\r\n    async unvalidate() {\r\n      try {\r\n        await this.image.stopReview(true);\r\n        this.commitImage();\r\n        this.reviewMode = false;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-unvalidate-review')});\r\n      }\r\n    },\r\n    async reviewAll(accept) {\r\n      try {\r\n        this.taskReviewAll = await new Task({project: this.project.id}).save();\r\n        await AnnotationCollection.reviewAll({\r\n          accept,\r\n          image: this.image.id,\r\n          users: this.visibleUserLayerIds,\r\n          task: this.taskReviewAll.id\r\n        });\r\n        this.$eventBus.$emit('reloadAnnotations', {idImage: this.image.id, clear: true});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.taskReviewAll = null;\r\n        this.$notify({type: 'error', text: this.$t('notif-error-review-' + (accept ? 'accept' : 'reject') + '-all')});\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    if(this.image.reviewUser && !this.isReviewer) {\r\n      this.reviewer = await User.fetch(this.image.reviewUser);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.buttons, .has-margin-top {\r\n  margin-top: 0.5em;\r\n}\r\n\r\n.buttons.is-fullwidth .button {\r\n  flex: 1;\r\n}\r\n\r\n.small {\r\n  font-size: 0.9em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReviewPanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReviewPanel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ReviewPanel.vue?vue&type=template&id=2a9f2ca9&scoped=true\"\nimport script from \"./ReviewPanel.vue?vue&type=script&lang=js\"\nexport * from \"./ReviewPanel.vue?vue&type=script&lang=js\"\nimport style0 from \"./ReviewPanel.vue?vue&type=style&index=0&id=2a9f2ca9&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a9f2ca9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('vl-interaction-select',{ref:\"interactionSelect\",attrs:{\"ident\":`select-target-${_vm.index}`,\"filter\":_vm.filterFunction,\"features\":_vm.selectedFeatures,\"toggle-condition\":_vm.never,\"remove-condition\":_vm.shiftKeyOnly,\"multi\":true},on:{\"update:features\":function($event){_vm.selectedFeatures=$event}}},[_c('vl-style-func',{attrs:{\"factory\":_vm.styleFunctionFactory}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<vl-interaction-select\r\n  :ident=\"`select-target-${index}`\"\r\n  :filter=\"filterFunction\"\r\n  :features.sync=\"selectedFeatures\"\r\n  :toggle-condition=\"never\"\r\n  :remove-condition=\"shiftKeyOnly\"\r\n  :multi=true\r\n  ref=\"interactionSelect\"\r\n>\r\n  <vl-style-func :factory=\"styleFunctionFactory\" />\r\n</vl-interaction-select>\r\n</template>\r\n\r\n<script>\r\nimport {isCluster} from '@/utils/style-utils.js';\r\nimport {never, shiftKeyOnly} from 'ol/events/condition';\r\n\r\nexport default {\r\n  name: 'select-interaction',\r\n  props: {\r\n    index: String\r\n  },\r\n  computed: {\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    selectedFeatures: {\r\n      get() {\r\n        return this.imageWrapper.selectedFeatures.selectedFeatures;\r\n      },\r\n      set(value) {\r\n        //used when selecting a vertex of a feature\r\n        let notAnnotations = value.filter(x => !Object.keys(x).includes('id') && x.properties === null);\r\n        if(notAnnotations.length == 1){\r\n          value = notAnnotations;\r\n          this.$store.commit(this.imageModule + 'setSelectedFeatures', value);\r\n          return;\r\n        }\r\n\r\n        value.sort(\r\n          function( a, b ) {\r\n            if( a.properties.annot.area > b.properties.annot.area ) return 1;\r\n            else return -1;\r\n          }\r\n        );\r\n\r\n        let previousTarget = this.imageWrapper.selectedFeatures.selectionTargetedFeatures;\r\n        let previousSelectedFeature = this.imageWrapper.selectedFeatures.selectedFeatures[0];\r\n\r\n        this.$store.commit(this.imageModule + 'setSelectionTargetedFeatures', value);\r\n\r\n        //see https://github.com/cytomine/Cytomine-Web-UI/issues/13 for more details of this algorithm\r\n        if(this.imageWrapper.selectedFeatures.selectedFeatures.length == 0){\r\n          if(value.length>=1) value = [value[0]];\r\n        }\r\n        else {\r\n          if(value.length > 1){\r\n            //if previous selection is in the new target, we will take the first element not yet visited\r\n            if(value.map(x => x.id).includes(previousSelectedFeature.id)) {\r\n              var index = previousTarget.findIndex(x => x.id === previousSelectedFeature.id);\r\n              let visitedFeatures = previousTarget.slice(0, index + 1);\r\n              index = 0;\r\n              for(var i = 0; i < value.length; i++){\r\n                if(!visitedFeatures.map(x => x.id).includes(value[i].id)) {\r\n                  index = i;\r\n                  break;\r\n                }\r\n              }\r\n              value = [value[index]];\r\n            }\r\n            else {\r\n              value = [value[0]];\r\n            }\r\n          }\r\n        }\r\n\r\n        if(value.length>=1 && value[0].properties !== null) {\r\n          let annot = value[0].properties.annot;\r\n          annot.recordAction();\r\n        }\r\n        this.$store.commit(this.imageModule + 'setSelectedFeatures', value);\r\n      }\r\n    },\r\n    terms() {\r\n      return this.imageWrapper.style.terms || [];\r\n    },\r\n    styleFunctionFactory() {\r\n      this.imageWrapper.selectedFeatures.selectedFeatures;\r\n      this.imageWrapper.style.layersOpacity;\r\n      this.terms.forEach(term => {\r\n        term.visible;\r\n        term.color;\r\n        term.opacity;\r\n      });\r\n      this.imageWrapper.style.displayNoTerm;\r\n      this.imageWrapper.style.noTermOpacity;\r\n      this.imageWrapper.draw.activeEditTool; // style is different in edit mode (vertices displayed)\r\n      this.imageWrapper.properties.selectedPropertyValues;\r\n      this.imageWrapper.properties.selectedPropertyColor;\r\n      this.imageWrapper.review.reviewMode;\r\n      if (this.imageWrapper.style.wrappedTracks) {\r\n        this.imageWrapper.style.wrappedTracks.forEach(track => {\r\n          track.color;\r\n        });\r\n      }\r\n      return () => {\r\n        return this.$store.getters[this.imageModule + 'genStyleFunction'];\r\n      };\r\n    },\r\n    filterFunction() {\r\n      return feature => !isCluster(feature);\r\n    },\r\n    never() {\r\n      return never;\r\n    },\r\n    shiftKeyOnly() {\r\n      return shiftKeyOnly;\r\n    }\r\n  },\r\n  watch: {\r\n    async styleFunctionFactory() {\r\n      // HACK: style function is not called again when redefined => force the update of style for selected features\r\n      if(this.$refs.interactionSelect && this.$refs.interactionSelect.$interaction) {\r\n        await this.$refs.interactionSelect.$interaction.getFeatures().forEach(ft => ft.changed());\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectInteraction.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectInteraction.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SelectInteraction.vue?vue&type=template&id=7e273a70\"\nimport script from \"./SelectInteraction.vue?vue&type=script&lang=js\"\nexport * from \"./SelectInteraction.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('vl-layer-vector',[_c('vl-source-vector',{ref:\"olSourceDrawTarget\",attrs:{\"ident\":_vm.drawSourceName}})],1),(_vm.nbActiveLayers > 0 || _vm.drawCorrection)?_c('vl-interaction-draw',{ref:\"olDrawInteraction\",attrs:{\"source\":_vm.drawSourceName,\"type\":_vm.drawType,\"freehand\":_vm.drawFreehand,\"freehand-condition\":undefined,\"geometry-function\":_vm.drawGeometryFunction},on:{\"drawend\":_vm.drawEndHandler}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <vl-layer-vector>\r\n    <vl-source-vector :ident=\"drawSourceName\" ref=\"olSourceDrawTarget\" />\r\n  </vl-layer-vector>\r\n\r\n  <vl-interaction-draw\r\n    v-if=\"nbActiveLayers > 0 || drawCorrection\"\r\n    ref=\"olDrawInteraction\"\r\n    :source=\"drawSourceName\"\r\n    :type=\"drawType\"\r\n    :freehand=\"drawFreehand\"\r\n    :freehand-condition=\"undefined\"\r\n    :geometry-function=\"drawGeometryFunction\"\r\n    @drawend=\"drawEndHandler\"\r\n  />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport Polygon, {fromCircle as polygonFromCircle} from 'ol/geom/Polygon';\r\nimport WKT from 'ol/format/WKT';\r\n\r\nimport {Annotation, AnnotationType} from 'cytomine-client';\r\nimport {Action} from '@/utils/annotation-utils.js';\r\n\r\nexport default {\r\n  name: 'draw-interaction',\r\n  props: {\r\n    index: String\r\n  },\r\n  data() {\r\n    return {\r\n      format: new WKT()\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    rotation() {\r\n      return this.imageWrapper.view.rotation;\r\n    },\r\n    termsToAssociate() {\r\n      return this.imageWrapper.draw.termsNewAnnots;\r\n    },\r\n    tracksToAssociate() {\r\n      return this.imageWrapper.draw.tracksNewAnnots;\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    slice() {\r\n      // Cannot draw on multiple slices at same time\r\n      return (this.imageWrapper.activeSlices) ? this.imageWrapper.activeSlices[0] : null;\r\n    },\r\n    activeTool() {\r\n      return this.imageWrapper.draw.activeTool;\r\n    },\r\n    activeEditTool() {\r\n      return this.imageWrapper.draw.activeEditTool;\r\n    },\r\n    selectedFeature() {\r\n      return this.$store.getters[this.imageModule + 'selectedFeature'];\r\n    },\r\n    drawType() {\r\n      switch(this.activeTool) {\r\n        case 'point':\r\n          return 'Point';\r\n        case 'line':\r\n        case 'freehand-line':\r\n          return 'LineString';\r\n        case 'rectangle':\r\n        case 'circle':\r\n          return 'Circle';\r\n        case 'polygon':\r\n        case 'freehand-polygon':\r\n        case 'select': // correct mode\r\n          return 'Polygon';\r\n        default:\r\n          return ''; // Should not happen\r\n      }\r\n    },\r\n    drawCorrection() {\r\n      return this.activeTool === 'select';\r\n    },\r\n    drawFreehand() {\r\n      return this.activeTool === 'freehand-polygon' || this.activeTool === 'freehand-line' || this.drawCorrection;\r\n    },\r\n    drawGeometryFunction() {\r\n      if(this.activeTool === 'rectangle') {\r\n        return (coordinates, geometry) => {\r\n          let rotatedCoords = this.rotateCoords(coordinates, this.rotation);\r\n\r\n          let [firstCorner, thirdCorner] = rotatedCoords;\r\n          let secondCorner = [thirdCorner[0], firstCorner[1]];\r\n          let fourthCorner = [firstCorner[0], thirdCorner[1]];\r\n\r\n          let rotatedBoxCoordinates = [firstCorner, secondCorner, thirdCorner, fourthCorner, firstCorner];\r\n          let boxCoordinates = [this.rotateCoords(rotatedBoxCoordinates, -this.rotation)];\r\n\r\n          if(geometry) {\r\n            geometry.setCoordinates(boxCoordinates);\r\n          }\r\n          else {\r\n            geometry = new Polygon(boxCoordinates);\r\n          }\r\n          return geometry;\r\n        };\r\n      }\r\n      else {\r\n        return null;\r\n      }\r\n    },\r\n    layers() {\r\n      return this.imageWrapper.layers.selectedLayers || [];\r\n    },\r\n    activeLayers() {\r\n      return this.layers.filter(layer => layer.drawOn);\r\n    },\r\n    nbActiveLayers() {\r\n      return this.activeLayers.length;\r\n    },\r\n    drawSourceName() {\r\n      return `draw-target-${this.index}`;\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    activeTool() {\r\n      this.$refs.olDrawInteraction.scheduleRecreate();\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    rotateCoords(coords, theta) {\r\n      let cosTheta = Math.cos(theta);\r\n      let sinTheta = Math.sin(theta);\r\n      return coords.map(([x, y]) => [x*cosTheta + y*sinTheta, -x*sinTheta + y*cosTheta]);\r\n    },\r\n\r\n    clearDrawnFeatures() {\r\n      this.$refs.olSourceDrawTarget.clear(true);\r\n    },\r\n\r\n    async drawEndHandler({feature}) {\r\n      if(this.drawCorrection) {\r\n        await this.endCorrection(feature);\r\n      }\r\n      else if(this.nbActiveLayers > 0) {\r\n        await this.endDraw(feature);\r\n      }\r\n\r\n      this.clearDrawnFeatures();\r\n    },\r\n\r\n    async endDraw(drawnFeature) {\r\n      this.activeLayers.forEach(async (layer, idx) => {\r\n        let annot = new Annotation({\r\n          location: this.getWktLocation(drawnFeature),\r\n          image: this.image.id,\r\n          slice: this.slice.id,\r\n          user: layer.id,\r\n          term: this.termsToAssociate,\r\n          track: this.tracksToAssociate\r\n        });\r\n\r\n        try {\r\n          await annot.save();\r\n          annot.userByTerm = this.termsToAssociate.map(term => ({term, user: [this.currentUser.id]}));\r\n          this.$eventBus.$emit('addAnnotation', annot);\r\n          if(idx === this.nbActiveLayers - 1) {\r\n            this.$eventBus.$emit('selectAnnotation', {index: this.index, annot});\r\n          }\r\n\r\n          this.$store.commit(this.imageModule + 'addAction', {annot, type: Action.CREATE});\r\n        }\r\n        catch(err) {\r\n          console.log(err);\r\n          this.$notify({type: 'error', text: this.$t('notif-error-annotation-creation')});\r\n        }\r\n      });\r\n    },\r\n\r\n    async endCorrection(feature) {\r\n      if(!this.selectedFeature) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        let annot = this.selectedFeature.properties.annot;\r\n        let correctedAnnot = await Annotation.correctAnnotations({\r\n          location: this.getWktLocation(feature),\r\n          review: annot.type === AnnotationType.REVIEWED,\r\n          remove: (this.activeEditTool === 'correct-remove'),\r\n          annotation: annot.id\r\n        });\r\n        if(correctedAnnot) {\r\n          correctedAnnot.userByTerm = annot.userByTerm; // copy terms from initial annot\r\n          correctedAnnot.track = annot.track;\r\n          correctedAnnot.annotationTrack = annot.annotationTrack;\r\n          this.$store.commit(this.imageModule + 'addAction', {annot: correctedAnnot, type: Action.UPDATE});\r\n          this.$eventBus.$emit('editAnnotation', correctedAnnot);\r\n        }\r\n      }\r\n      catch(err) {\r\n        console.log(err);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-correction')});\r\n      }\r\n    },\r\n\r\n    getWktLocation(feature) {\r\n      // transform circle to circular polygon\r\n      let geometry = feature.getGeometry();\r\n      if (geometry.getType() === 'Circle') {\r\n        feature.setGeometry(polygonFromCircle(geometry));\r\n      }\r\n      return this.format.writeFeature(feature);\r\n    },\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawInteraction.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawInteraction.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DrawInteraction.vue?vue&type=template&id=1bf6ce48\"\nimport script from \"./DrawInteraction.vue?vue&type=script&lang=js\"\nexport * from \"./DrawInteraction.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.activeEditTool === 'modify')?_c('vl-interaction-modify',{ref:\"olModifyInteraction\",attrs:{\"source\":_vm.selectSource,\"delete-condition\":_vm.deleteCondition,\"insert-vertex-condition\":_vm.insertVertexCondition},on:{\"modifystart\":_vm.startEdit,\"modifyend\":_vm.endEdit}}):_vm._e(),(_vm.activeEditTool === 'translate')?_c('vl-interaction-translate',{attrs:{\"source\":_vm.selectSource},on:{\"translatestart\":_vm.startEdit,\"translateend\":_vm.endEdit}}):_vm._e(),(_vm.activeEditTool === 'rescale')?_c('vl-interaction-rescale',{attrs:{\"source\":_vm.selectSource},on:{\"rescalestart\":_vm.startEdit,\"rescaleend\":_vm.endEdit}}):_vm._e(),(_vm.activeEditTool === 'rotate')?_c('vl-interaction-rotate',{attrs:{\"source\":_vm.selectSource},on:{\"rotatestart\":_vm.startEdit,\"rotateend\":_vm.endEdit}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport function isRectangle(geometry) {\r\n  if (geometry.getLinearRingCount() !== 1 || geometry.getCoordinates()[0].length !== 5) {\r\n    return false;\r\n  }\r\n\r\n  const coordinates = geometry.getCoordinates(false)[0];\r\n  let prevX = coordinates[0][0];\r\n  let prevY = coordinates[0][1];\r\n  for (let i = 1; i <= 4; i++) {\r\n    let x = coordinates[i][0];\r\n    let y = coordinates[i][1];\r\n    let xChanged = (x !== prevX);\r\n    let yChanged = (y !== prevY);\r\n    if (xChanged === yChanged) {\r\n      return false;\r\n    }\r\n    prevX = x;\r\n    prevY = y;\r\n  }\r\n\r\n  return true;\r\n}\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <vl-interaction-modify\r\n    v-if=\"activeEditTool === 'modify'\"\r\n    :source=\"selectSource\"\r\n    ref=\"olModifyInteraction\"\r\n    :delete-condition=\"deleteCondition\"\r\n    :insert-vertex-condition=\"insertVertexCondition\"\r\n    @modifystart=\"startEdit\"\r\n    @modifyend=\"endEdit\"\r\n  />\r\n\r\n  <vl-interaction-translate\r\n    v-if=\"activeEditTool === 'translate'\"\r\n    :source=\"selectSource\"\r\n    @translatestart=\"startEdit\"\r\n    @translateend=\"endEdit\"\r\n  />\r\n\r\n  <vl-interaction-rescale\r\n    v-if=\"activeEditTool === 'rescale'\"\r\n    :source=\"selectSource\"\r\n    @rescalestart=\"startEdit\"\r\n    @rescaleend=\"endEdit\"\r\n  />\r\n\r\n  <vl-interaction-rotate\r\n    v-if=\"activeEditTool === 'rotate'\"\r\n    :source=\"selectSource\"\r\n    @rotatestart=\"startEdit\"\r\n    @rotateend=\"endEdit\"\r\n  />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport WKT from 'ol/format/WKT';\r\nimport {Action} from '@/utils/annotation-utils.js';\r\nimport {singleClick} from 'ol/events/condition';\r\nimport {isRectangle} from '@/utils/geometry-utils';\r\n\r\nexport default {\r\n  name: 'modify-interaction',\r\n  props: {\r\n    index: String\r\n  },\r\n  data() {\r\n    return {\r\n      format: new WKT(),\r\n    };\r\n  },\r\n  computed: {\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    selectSource() {\r\n      return `select-target-${this.index}`;\r\n    },\r\n    activeEditTool() {\r\n      return this.imageWrapper.draw.activeEditTool;\r\n    },\r\n    ongoingEdit: {\r\n      get() {\r\n        return this.imageWrapper.draw.ongoingEdit;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setOngoingEdit', value);\r\n      }\r\n    },\r\n    deleteCondition() {\r\n      return function(mapBrowserEvent) {\r\n        return mapBrowserEvent.originalEvent.ctrlKey && singleClick(mapBrowserEvent);\r\n      };\r\n    },\r\n    insertVertexCondition() {\r\n      return function() {\r\n        return !this.features_.getArray().every(function(feature) {\r\n          return isRectangle(feature.getGeometry());\r\n        });\r\n      };\r\n    }\r\n  },\r\n  methods: {\r\n    startEdit() {\r\n      this.ongoingEdit = true;\r\n    },\r\n    async endEdit({features}) {\r\n      features.forEach(async feature => {\r\n        if(!feature.get('annot')) {\r\n          return;\r\n        }\r\n\r\n        let annot = feature.get('annot').clone();\r\n        let oldLocation = annot.location;\r\n        try {\r\n          annot.location = this.format.writeFeature(feature);\r\n          annot.terms = annot.term; // HACK for reviewed annotation (unconsistent behaviour)\r\n          await annot.save();\r\n          this.$eventBus.$emit('editAnnotation', annot);\r\n          this.$store.commit(this.imageModule + 'addAction', {annot, type: Action.UPDATE});\r\n        }\r\n        catch(err) {\r\n          console.log(err);\r\n          this.$notify({type: 'error', text: this.$t('notif-error-annotation-update')});\r\n          annot.location = oldLocation;\r\n          feature.setGeometry(this.format.readGeometry(annot.location));\r\n        }\r\n      });\r\n      this.ongoingEdit = false;\r\n    },\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifyInteraction.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifyInteraction.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ModifyInteraction.vue?vue&type=template&id=274cff30\"\nimport script from \"./ModifyInteraction.vue?vue&type=script&lang=js\"\nexport * from \"./ModifyInteraction.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"map-container\" @click=\"isActiveImage = true\" ref=\"container\">\r\n  <template v-if=\"!loading && zoom !== null\">\r\n    <vl-map\r\n      :data-projection=\"projectionName\"\r\n      :load-tiles-while-animating=\"true\"\r\n      :load-tiles-while-interacting=\"true\"\r\n      :keyboard-event-target=\"document\"\r\n      @pointermove=\"projectedMousePosition = $event.coordinate\"\r\n      @mounted=\"updateKeyboardInteractions\"\r\n      ref=\"map\"\r\n    >\r\n\r\n      <vl-view\r\n        :center.sync=\"center\"\r\n        :zoom.sync=\"zoom\"\r\n        :rotation.sync=\"rotation\"\r\n        :max-zoom=\"maxZoom\"\r\n        :max-resolution=\"Math.pow(2, image.zoom)\"\r\n        :extent=\"extent\"\r\n        :projection=\"projectionName\"\r\n        @mounted=\"viewMounted()\"\r\n        ref=\"view\"\r\n      />\r\n\r\n      <vl-layer-tile :extent=\"extent\" @mounted=\"addOverviewMap\" ref=\"baseLayer\">\r\n        <vl-source-zoomify\r\n          :projection=\"projectionName\"\r\n          :urls=\"baseLayerURLs\"\r\n          :size=\"imageSize\"\r\n          :extent=\"extent\"\r\n          :crossOrigin=\"slices[0].imageServerUrl\"\r\n          ref=\"baseSource\"\r\n          @mounted=\"setBaseSource()\"\r\n          :transition=\"0\"\r\n          :tile-size=\"tileSize\"\r\n        />\r\n      </vl-layer-tile>\r\n\r\n<!--      <vl-layer-image>-->\r\n<!--        <vl-source-raster-->\r\n<!--          v-if=\"baseSource && colorManipulationOn\"-->\r\n<!--          :sources=\"[baseSource]\"-->\r\n<!--          :operation=\"operation\"-->\r\n<!--          :lib=\"lib\"-->\r\n<!--        />-->\r\n<!--      </vl-layer-image>-->\r\n\r\n      <annotation-layer\r\n        v-for=\"layer in selectedLayers\"\r\n        :key=\"'layer-'+layer.id\"\r\n        :index=\"index\"\r\n        :layer=\"layer\"\r\n      />\r\n\r\n      <select-interaction v-if=\"activeSelectInteraction\" :index=\"index\" />\r\n      <draw-interaction v-if=\"activeDrawInteraction\" :index=\"index\" />\r\n      <modify-interaction v-if=\"activeModifyInteraction\" :index=\"index\" />\r\n\r\n    </vl-map>\r\n\r\n    <div v-if=\"configUI['project-tools-main']\" class=\"draw-tools\">\r\n      <draw-tools :index=\"index\" @screenshot=\"takeScreenshot()\"/>\r\n    </div>\r\n\r\n    <div class=\"panels\">\r\n      <ul>\r\n        <li>\r\n          <a @click=\"$emit('close')\" class=\"close\">\r\n            <i class=\"fas fa-times-circle\"></i>\r\n          </a>\r\n        </li>\r\n\r\n        <template v-if=\"isPanelDisplayed('hide-tools')\">\r\n          <li v-if=\"isPanelDisplayed('info')\">\r\n            <a @click=\"togglePanel('info')\" :class=\"{active: activePanel === 'info'}\">\r\n              <i class=\"fas fa-info\"></i>\r\n            </a>\r\n            <information-panel class=\"panel-options\" v-show=\"activePanel === 'info'\" :index=\"index\" />\r\n          </li>\r\n\r\n          <li v-if=\"isPanelDisplayed('digital-zoom')\">\r\n            <a @click=\"togglePanel('digital-zoom')\" :class=\"{active: activePanel === 'digital-zoom'}\">\r\n              <i class=\"fas fa-search\"></i>\r\n            </a>\r\n            <digital-zoom class=\"panel-options\" v-show=\"activePanel === 'digital-zoom'\" :index=\"index\"\r\n                          @resetZoom=\"$refs.view.animate({zoom: image.zoom})\"\r\n                          @fitZoom=\"fitZoom\" />\r\n          </li>\r\n\r\n          <li v-if=\"isPanelDisplayed('link') && nbImages > 1\">\r\n            <a @click=\"togglePanel('link')\" :class=\"{active: activePanel === 'link'}\">\r\n              <i class=\"fas fa-link\"></i>\r\n            </a>\r\n            <link-panel class=\"panel-options\" v-show=\"activePanel === 'link'\" :index=\"index\" />\r\n          </li>\r\n\r\n          <li v-if=\"isPanelDisplayed('color-manipulation')\">\r\n            <a @click=\"togglePanel('colors')\" :class=\"{active: activePanel === 'colors'}\">\r\n              <i class=\"fas fa-adjust\"></i>\r\n            </a>\r\n            <color-manipulation class=\"panel-options\" v-show=\"activePanel === 'colors'\" :index=\"index\" />\r\n          </li>\r\n\r\n          <li v-if=\"isPanelDisplayed('image-layers')\">\r\n            <a @click=\"togglePanel('layers')\" :class=\"{active: activePanel === 'layers'}\">\r\n              <i class=\"fas fa-copy\"></i>\r\n            </a>\r\n            <layers-panel class=\"panel-options\" v-show=\"activePanel === 'layers'\"\r\n              :index=\"index\" :layers-to-preload=\"layersToPreload\"\r\n            />\r\n          </li>\r\n\r\n          <li v-if=\"isPanelDisplayed('ontology') && terms && terms.length > 0\">\r\n            <a @click=\"togglePanel('ontology')\" :class=\"{active: activePanel === 'ontology'}\">\r\n              <i class=\"fas fa-hashtag\"></i>\r\n            </a>\r\n            <ontology-panel class=\"panel-options\" v-show=\"activePanel === 'ontology'\" :index=\"index\" />\r\n          </li>\r\n\r\n          <li  v-if=\"isPanelDisplayed('property')\">\r\n            <a @click=\"togglePanel('properties')\" :class=\"{active: activePanel === 'properties'}\">\r\n              <i class=\"fas fa-tag\"></i>\r\n            </a>\r\n            <properties-panel class=\"panel-options\" v-show=\"activePanel === 'properties'\" :index=\"index\" />\r\n          </li>\r\n\r\n          <li v-if=\"isPanelDisplayed('follow')\">\r\n            <a @click=\"togglePanel('follow')\" :class=\"{active: activePanel === 'follow'}\">\r\n              <i class=\"fas fa-street-view\"></i>\r\n            </a>\r\n            <follow-panel class=\"panel-options\" v-show=\"activePanel === 'follow'\" :index=\"index\" :view=\"$refs.view\"/>\r\n          </li>\r\n\r\n          <li v-if=\"isPanelDisplayed('review') && canEdit\">\r\n            <a @click=\"togglePanel('review')\" :class=\"{active: activePanel === 'review'}\">\r\n              <i class=\"fas fa-check-circle\"></i>\r\n            </a>\r\n            <review-panel class=\"panel-options\" v-show=\"activePanel === 'review'\" :index=\"index\" />\r\n          </li>\r\n        </template>\r\n      </ul>\r\n    </div>\r\n\r\n    <image-controls :index=\"index\" class=\"image-controls-wrapper\" />\r\n\r\n    <div class=\"broadcast\" v-if=\"imageWrapper.tracking.broadcast\">\r\n      <i class=\"fas fa-circle\"></i> {{$t('live')}}\r\n    </div>\r\n\r\n    <rotation-selector class=\"rotation-selector-wrapper\" :index=\"index\" />\r\n\r\n    <scale-line :image=\"image\" :zoom=\"zoom\" :mousePosition=\"projectedMousePosition\" />\r\n\r\n    <annotations-container :index=\"index\" @centerView=\"centerViewOnAnnot\" />\r\n\r\n    <div class=\"custom-overview\" ref=\"overview\">\r\n      <p class=\"image-name\" :class=\"{hidden: overviewCollapsed}\">\r\n        <image-name :image=\"image\" />\r\n      </p>\r\n    </div>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport _ from 'lodash';\r\n\r\nimport ImageName from '@/components/image/ImageName';\r\nimport AnnotationLayer from './AnnotationLayer';\r\nimport RotationSelector from './RotationSelector';\r\nimport ScaleLine from './ScaleLine';\r\nimport DrawTools from './DrawTools';\r\nimport ImageControls from './ImageControls';\r\nimport AnnotationsContainer from './AnnotationsContainer';\r\n\r\nimport InformationPanel from './panels/InformationPanel';\r\nimport DigitalZoom from './panels/DigitalZoom';\r\nimport ColorManipulation from './panels/ColorManipulation';\r\nimport LinkPanel from './panels/LinkPanel';\r\nimport LayersPanel from './panels/LayersPanel';\r\nimport OntologyPanel from './panels/OntologyPanel';\r\nimport PropertiesPanel from './panels/PropertiesPanel';\r\nimport FollowPanel from './panels/FollowPanel';\r\nimport ReviewPanel from './panels/ReviewPanel';\r\n\r\nimport SelectInteraction from './interactions/SelectInteraction';\r\nimport DrawInteraction from './interactions/DrawInteraction';\r\nimport ModifyInteraction from './interactions/ModifyInteraction';\r\n\r\nimport {addProj, createProj, getProj} from 'vuelayers/lib/ol-ext';\r\n\r\nimport View from 'ol/View';\r\nimport OverviewMap from 'ol/control/OverviewMap';\r\nimport {KeyboardPan, KeyboardZoom} from 'ol/interaction';\r\nimport {noModifierKeys, targetNotEditable} from 'ol/events/condition';\r\nimport WKT from 'ol/format/WKT';\r\n\r\nimport {ImageConsultation, Annotation, AnnotationType, UserPosition, SliceInstance} from 'cytomine-client';\r\n\r\nimport {constLib, operation} from '@/utils/color-manipulation.js';\r\n\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'cytomine-image',\r\n  props: {\r\n    index: String\r\n  },\r\n  components: {\r\n    ImageName,\r\n\r\n    AnnotationLayer,\r\n\r\n    RotationSelector,\r\n    ScaleLine,\r\n    DrawTools,\r\n    ImageControls,\r\n    AnnotationsContainer,\r\n\r\n    InformationPanel,\r\n    DigitalZoom,\r\n    ColorManipulation,\r\n    LinkPanel,\r\n    LayersPanel,\r\n    OntologyPanel,\r\n    PropertiesPanel,\r\n    FollowPanel,\r\n    ReviewPanel,\r\n\r\n    SelectInteraction,\r\n    DrawInteraction,\r\n    ModifyInteraction\r\n  },\r\n  data() {\r\n    return {\r\n      minZoom: 0,\r\n\r\n      projectedMousePosition: [0, 0],\r\n\r\n      baseSource: null,\r\n      routedAnnotation: null,\r\n      selectedAnnotation: null,\r\n\r\n      timeoutSavePosition: null,\r\n\r\n      loading: true,\r\n\r\n      overview: null,\r\n\r\n      format: new WKT(),\r\n    };\r\n  },\r\n  computed: {\r\n    document() {\r\n      return document;\r\n    },\r\n    routedAction() {\r\n      return this.$route.query.action;\r\n    },\r\n    configUI: get('currentProject/configUI'),\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    viewerWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'];\r\n    },\r\n    nbImages() {\r\n      return Object.keys(this.viewerWrapper.images).length;\r\n    },\r\n    imageWrapper() {\r\n      return this.viewerWrapper.images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    slices() {\r\n      return this.imageWrapper.activeSlices;\r\n    },\r\n    sliceIds() {\r\n      return this.slices.map(slice => slice.id);\r\n    },\r\n    canEdit() {\r\n      return this.$store.getters['currentProject/canEditImage'](this.image);\r\n    },\r\n    projectionName() {\r\n      return `CYTO-${this.image.id}`;\r\n    },\r\n    terms() {\r\n      return this.$store.getters['currentProject/terms'];\r\n    },\r\n    selectedLayers() {\r\n      return this.imageWrapper.layers.selectedLayers || [];\r\n    },\r\n    isActiveImage: {\r\n      get() {\r\n        return this.viewerWrapper.activeImage === this.index;\r\n      },\r\n      set(value) {\r\n        if(value) {\r\n          if(this.viewerWrapper) {\r\n            this.$store.commit(this.viewerModule + 'setActiveImage', this.index);\r\n          }\r\n        }\r\n        else {\r\n          throw new Error('Cannot unset active map');\r\n        }\r\n      }\r\n    },\r\n    activePanel() {\r\n      return this.imageWrapper.activePanel;\r\n    },\r\n    activeTool() {\r\n      return this.imageWrapper.draw.activeTool;\r\n    },\r\n    activeEditTool() {\r\n      return this.imageWrapper.draw.activeEditTool;\r\n    },\r\n    maxZoom() {\r\n      return this.$store.getters[this.imageModule + 'maxZoom'];\r\n    },\r\n\r\n    center: {\r\n      get() {\r\n        return this.imageWrapper.view.center;\r\n      },\r\n      set(value) {\r\n        this.$store.dispatch(this.viewerModule + 'setCenter', {index: this.index, center: value});\r\n      }\r\n    },\r\n    zoom: {\r\n      get() {\r\n        return this.imageWrapper.view.zoom;\r\n      },\r\n      set(value) {\r\n        this.$store.dispatch(this.viewerModule + 'setZoom', {index: this.index, zoom: Number(value)});\r\n      }\r\n    },\r\n    rotation: {\r\n      get() {\r\n        return this.imageWrapper.view.rotation;\r\n      },\r\n      set(value) {\r\n        this.$store.dispatch(this.viewerModule + 'setRotation', {index: this.index, rotation: Number(value)});\r\n      }\r\n    },\r\n\r\n    viewState() {\r\n      return {center: this.center, zoom: this.zoom, rotation: this.rotation};\r\n    },\r\n\r\n    extent() {\r\n      return [0, 0, this.image.width, this.image.height];\r\n    },\r\n    imageSize() {\r\n      return [this.image.width, this.image.height];\r\n    },\r\n    tileSize() {\r\n      return this.image.tileSize;\r\n    },\r\n    baseLayerProcessingParams() {\r\n      return this.$store.getters[this.imageModule + 'tileRequestParams'];\r\n    },\r\n    baseLayerSliceParams() {\r\n      return {\r\n        // eslint-disable-next-line camelcase\r\n        z_slices: this.slices[0].zStack,\r\n        timepoints: this.slices[0].time\r\n      };\r\n    },\r\n    baseLayerURLQuery() {\r\n      let query = new URLSearchParams({...this.baseLayerSliceParams, ...this.baseLayerProcessingParams}).toString();\r\n      if (query.length > 0) {\r\n        return `?${query}`;\r\n      }\r\n      return query;\r\n    },\r\n    baseLayerURLs() {\r\n      let slice = this.slices[0];\r\n      return  [`${slice.imageServerUrl}/image/${slice.path}/normalized-tile/zoom/{z}/ti/{tileIndex}.jpg${this.baseLayerURLQuery}`];\r\n    },\r\n    // colorManipulationOn() {\r\n    //   return this.imageWrapper.colors.brightness !== 0\r\n    //             || this.imageWrapper.colors.hue !== 0 || this.imageWrapper.colors.saturation !== 0;\r\n    // },\r\n    // operation() {\r\n    //   return operation;\r\n    // },\r\n    // lib() {\r\n    //   return {\r\n    //     ...constLib,\r\n    //     brightness: this.imageWrapper.colors.brightness,\r\n    //     contrast: this.imageWrapper.colors.contrast,\r\n    //     saturation: this.imageWrapper.colors.saturation,\r\n    //     hue: this.imageWrapper.colors.hue\r\n    //   };\r\n    // },\r\n\r\n    layersToPreload() {\r\n      let layers = [];\r\n      let annot = this.selectedAnnotation || this.routedAnnotation;\r\n      if(annot) {\r\n        layers.push(annot.type === AnnotationType.REVIEWED ? -1 : annot.user);\r\n      }\r\n      if(this.routedAction === 'review' && !layers.includes(-1)) {\r\n        layers.push(-1);\r\n      }\r\n      return layers;\r\n    },\r\n\r\n    overviewCollapsed() {\r\n      return this.overview ? this.overview.getCollapsed() : this.imageWrapper.view.overviewCollapsed;\r\n    },\r\n\r\n    correction() {\r\n      return ['correct-add', 'correct-remove'].includes(this.activeEditTool);\r\n    },\r\n    activeSelectInteraction() {\r\n      return this.activeTool === 'select';\r\n    },\r\n    activeDrawInteraction() {\r\n      return !this.activeSelectInteraction || this.correction;\r\n    },\r\n    activeModifyInteraction() {\r\n      return this.activeSelectInteraction && this.activeEditTool && !this.correction;\r\n    },\r\n    idealZoom() {\r\n      let container = this.$refs.container;\r\n      let idealZoom = this.maxZoom;\r\n      let factor = this.maxZoom - this.image.zoom;\r\n      let mapWidth = this.image.width * Math.pow(2, factor);\r\n      let mapHeight = this.image.height * Math.pow(2, factor);\r\n      while(mapWidth > container.clientWidth || mapHeight > container.clientHeight) {\r\n        mapWidth /= 2;\r\n        mapHeight /= 2;\r\n        idealZoom --;\r\n      }\r\n      return idealZoom;\r\n    }\r\n  },\r\n  watch: {\r\n    viewState() {\r\n      this.savePosition();\r\n    },\r\n    overviewCollapsed(value) {\r\n      this.$store.commit(this.imageModule + 'setOverviewCollapsed', value);\r\n    }\r\n  },\r\n  methods: {\r\n    setInitialZoom() {\r\n      if(this.zoom !== null) {\r\n        return; // not the first time the viewer is opened => zoom was already initialized\r\n      }\r\n      this.zoom = this.idealZoom;\r\n    },\r\n\r\n    async updateMapSize() {\r\n      await this.$nextTick();\r\n      if(this.$refs.map) {\r\n        this.$refs.map.updateSize();\r\n      }\r\n    },\r\n\r\n    async updateKeyboardInteractions() {\r\n      await this.$refs.map.$createPromise; // wait for ol.Map to be created\r\n\r\n      this.$refs.map.$map.getInteractions().forEach(interaction => {\r\n        if(interaction instanceof KeyboardPan || interaction instanceof KeyboardZoom) {\r\n          interaction.condition_ = (mapBrowserEvent) => {\r\n            return noModifierKeys(mapBrowserEvent)\r\n              && targetNotEditable(mapBrowserEvent)\r\n              && this.isActiveImage\r\n              && !mapBrowserEvent.originalEvent.target.classList.contains('ql-editor');\r\n          };\r\n        }\r\n      });\r\n    },\r\n\r\n    async viewMounted() {\r\n      await this.$refs.view.$createPromise; // wait for ol.View to be created\r\n      if(this.routedAnnotation) {\r\n        this.centerViewOnAnnot(this.routedAnnotation, 500);\r\n      }\r\n      this.savePosition();\r\n    },\r\n\r\n    async setBaseSource() {\r\n      await this.$refs.baseSource.$createPromise;\r\n      this.baseSource = this.$refs.baseSource.$source;\r\n    },\r\n\r\n    async addOverviewMap() {\r\n      if(!this.isPanelDisplayed('overview')) {\r\n        return;\r\n      }\r\n\r\n      await this.$refs.map.$createPromise; // wait for ol.Map to be created\r\n      await this.$refs.baseLayer.$createPromise; // wait for ol.Layer to be created\r\n\r\n      let map = this.$refs.map.$map;\r\n\r\n      this.overview = new OverviewMap({\r\n        view: new View({projection: this.projectionName}),\r\n        layers: [this.$refs.baseLayer.$layer],\r\n        tipLabel: this.$t('overview'),\r\n        target: this.$refs.overview,\r\n        collapsed: this.imageWrapper.view.overviewCollapsed\r\n      });\r\n      map.addControl(this.overview);\r\n\r\n      this.overview.getOverviewMap().on(('click'), (evt) => {\r\n        let size = map.getSize();\r\n        map.getView().centerOn(evt.coordinate, size, [size[0]/2, size[1]/2]);\r\n      });\r\n    },\r\n\r\n    toggleOverview() {\r\n      if (this.overview) {\r\n        this.overview.setCollapsed(!this.imageWrapper.view.overviewCollapsed);\r\n      }\r\n    },\r\n\r\n    togglePanel(panel) {\r\n      this.$store.commit(this.imageModule + 'togglePanel', panel);\r\n    },\r\n\r\n    savePosition: _.debounce(async function() {\r\n      if(this.$refs.view) {\r\n        let extent = this.$refs.view.$view.calculateExtent(); // [minX, minY, maxX, maxY]\r\n        try {\r\n          await UserPosition.create({\r\n            image: this.image.id,\r\n            slice: this.slices[0].id,\r\n            zoom: this.zoom,\r\n            rotation: this.rotation,\r\n            bottomLeftX: Math.round(extent[0]),\r\n            bottomLeftY: Math.round(extent[1]),\r\n            bottomRightX: Math.round(extent[2]),\r\n            bottomRightY: Math.round(extent[1]),\r\n            topLeftX: Math.round(extent[0]),\r\n            topLeftY: Math.round(extent[3]),\r\n            topRightX: Math.round(extent[2]),\r\n            topRightY: Math.round(extent[3]),\r\n            broadcast: this.imageWrapper.tracking.broadcast\r\n          });\r\n        }\r\n        catch(error) {\r\n          console.log(error);\r\n          this.$notify({type: 'error', text: this.$t('notif-error-save-user-position')});\r\n        }\r\n\r\n        clearTimeout(this.timeoutSavePosition);\r\n        this.timeoutSavePosition = setTimeout(this.savePosition, constants.SAVE_POSITION_IN_IMAGE_INTERVAL);\r\n      }\r\n    }, 500),\r\n\r\n    fitZoom() {\r\n      this.$refs.view.animate({\r\n        zoom: this.idealZoom,\r\n        center: [this.image.width/2, this.image.height/2]\r\n      });\r\n    },\r\n\r\n    async centerViewOnAnnot(annot, duration) {\r\n      if (annot.image === this.image.id) {\r\n        if (!annot.location) {\r\n          //in case annotation location has not been loaded\r\n          annot = await Annotation.fetch(annot.id);\r\n        }\r\n\r\n        let geometry = this.format.readGeometry(annot.location);\r\n        this.$refs.view.fit(geometry, {duration, padding: [10, 10, 10, 10], maxZoom: this.image.zoom});\r\n\r\n        // HACK: center set by view.fit() is incorrect => reset it manually\r\n        this.center = (geometry.getType() === 'Point') ? geometry.getFirstCoordinate()\r\n          : [annot.centroid.x, annot.centroid.y];\r\n        // ---\r\n      }\r\n    },\r\n\r\n    async selectAnnotationHandler({index, annot, center=false, showComments=false}) {\r\n      if (this.index === index && annot.image === this.image.id) {\r\n        try {\r\n          let sliceChange = false;\r\n          if (!annot.slice) {\r\n            //in case annotation slice has not been loaded\r\n            annot = await Annotation.fetch(annot.id);\r\n          }\r\n\r\n          if(annot.slice !== this.slices[0].id) {\r\n            let slice = await SliceInstance.fetch(annot.slice);\r\n            await this.$store.dispatch(this.imageModule + 'setActiveSlice', slice);\r\n            this.$eventBus.$emit('reloadAnnotations', {idImage: this.image.id, hard: true});\r\n            sliceChange = true;\r\n          }\r\n\r\n          if (showComments) {\r\n            this.$store.commit(this.imageModule + 'setShowComments', annot);\r\n          }\r\n\r\n          this.selectedAnnotation = annot; // used to pre-load annot layer\r\n          this.$store.commit(this.imageModule + 'setAnnotToSelect', annot);\r\n          this.$eventBus.$emit('selectAnnotationInLayer', {index, annot});\r\n\r\n          if (center) {\r\n            await this.viewMounted();\r\n            let duration = (sliceChange) ? undefined : 500;\r\n            this.centerViewOnAnnot(annot, duration);\r\n          }\r\n        }\r\n        catch(error) {\r\n          console.log(error);\r\n          this.$notify({type: 'error', text: this.$t('notif-error-target-annotation')});\r\n        }\r\n      }\r\n    },\r\n\r\n    isPanelDisplayed(panel) {\r\n      return this.configUI[`project-explore-${panel}`];\r\n    },\r\n    shortkeyHandler(key) {\r\n      if(!key.startsWith('toggle-all-') && !this.isActiveImage) { // shortkey should only be applied to active map\r\n        return;\r\n      }\r\n\r\n      key = key.replace('toggle-all-', 'toggle-');\r\n      switch(key) {\r\n        case 'toggle-information':\r\n          if (this.isPanelDisplayed('info')){\r\n            this.togglePanel('info');\r\n          }\r\n          return;\r\n        case 'toggle-zoom':\r\n          if (this.isPanelDisplayed('digital-zoom')) {\r\n            this.togglePanel('digital-zoom');\r\n          }\r\n          return;\r\n        case 'toggle-link':\r\n          if (this.isPanelDisplayed('link') && this.nbImages > 1) {\r\n            this.togglePanel('link');\r\n          }\r\n          return;\r\n        case 'toggle-filters':\r\n          if (this.isPanelDisplayed('color-manipulation')) {\r\n            this.togglePanel('colors');\r\n          }\r\n          return;\r\n        case 'toggle-layers':\r\n          if (this.isPanelDisplayed('image-layers')) {\r\n            this.togglePanel('layers');\r\n          }\r\n          return;\r\n        case 'toggle-ontology':\r\n          if (this.isPanelDisplayed('ontology') && this.terms && this.terms.length > 0) {\r\n            this.togglePanel('ontology');\r\n          }\r\n          return;\r\n        case 'toggle-properties':\r\n          if (this.isPanelDisplayed('property')) {\r\n            this.togglePanel('properties');\r\n          }\r\n          return;\r\n        case 'toggle-broadcast':\r\n          if (this.isPanelDisplayed('follow')) {\r\n            this.togglePanel('follow');\r\n          }\r\n          return;\r\n        case 'toggle-review':\r\n          if (this.isPanelDisplayed('review') && this.canEdit) {\r\n            this.togglePanel('review');\r\n          }\r\n          return;\r\n        case 'toggle-overview':\r\n          if (this.isPanelDisplayed('overview')) {\r\n            this.toggleOverview();\r\n          }\r\n          return;\r\n      }\r\n    },\r\n    async takeScreenshot() {\r\n      // Use of css percent values and html2canvas results in strange behavior\r\n      // Set image container as actual height in pixel (not in percent) to avoid image distortion when retrieving canvas\r\n      let containerHeight = document.querySelector('.map-container').clientHeight;\r\n      document.querySelector('.map-container').style.height = containerHeight+'px';\r\n\r\n      let a = document.createElement('a');\r\n      a.href = await this.$html2canvas(document.querySelector('.ol-unselectable'), {type: 'dataURL'});\r\n      let imageName = 'image_' + this.image.id.toString() + '_project_' + this.image.project.toString() + '.png';\r\n      a.download = imageName;\r\n      a.click();\r\n\r\n      // Reset container css values as previous\r\n      document.querySelector('.map-container').style.height = '';\r\n    },\r\n  },\r\n  async created() {\r\n    if(!getProj(this.projectionName)) { // if image opened for the first time\r\n      let projection = createProj({code: this.projectionName, units: 'pixels', extent: this.extent});\r\n      addProj(projection);\r\n    }\r\n\r\n    if(this.routedAction === 'review') {\r\n      this.togglePanel('review');\r\n      if(!this.image.inReview) {\r\n        try {\r\n          let clone = await this.image.clone().review();\r\n          this.$store.commit(this.imageModule + 'setImageInstance', clone);\r\n        }\r\n        catch(error) {\r\n          console.log(error);\r\n          this.$notify({type: 'error', text: this.$t('notif-error-start-review')});\r\n        }\r\n      }\r\n      this.$store.commit(this.imageModule + 'setReviewMode', true);\r\n    }\r\n\r\n    // remove all selected features in order to reselect them when they will be added to the map (otherwise,\r\n    // issue with the select interaction)\r\n    this.selectedLayers.forEach(layer => {\r\n      this.$store.commit(this.imageModule + 'removeLayerFromSelectedFeatures', {layer, cache: true});\r\n    });\r\n\r\n    let annot = this.imageWrapper.routedAnnotation;\r\n    if (!annot) {\r\n      let idRoutedAnnot = this.$route.params.idAnnotation;\r\n      if (idRoutedAnnot) {\r\n        try {\r\n          annot = await Annotation.fetch(idRoutedAnnot);\r\n        }\r\n        catch (error) {\r\n          console.log(error);\r\n          this.$notify({type: 'error', text: this.$t('notif-error-target-annotation')});\r\n        }\r\n      }\r\n    }\r\n\r\n    if (annot) {\r\n      try {\r\n        if(annot.image === this.image.id) {\r\n          if(!this.sliceIds.includes(annot.slice)) {\r\n            let slice = await SliceInstance.fetch(annot.slice);\r\n            await this.$store.dispatch(this.imageModule + 'setActiveSlice', slice);\r\n          }\r\n          this.routedAnnotation = annot;\r\n          if(this.routedAction === 'comments') {\r\n            this.$store.commit(this.imageModule + 'setShowComments', annot);\r\n          }\r\n          this.$store.commit(this.imageModule + 'setAnnotToSelect', annot);\r\n        }\r\n\r\n        this.$store.commit(this.imageModule + 'clearRoutedAnnotation');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-target-annotation')});\r\n      }\r\n    }\r\n\r\n    try {\r\n      await new ImageConsultation({image: this.image.id}).save();\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.$notify({type: 'error', text: this.$t('notif-error-save-image-consultation')});\r\n    }\r\n\r\n    this.loading = false;\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('updateMapSize', this.updateMapSize);\r\n    this.$eventBus.$on('shortkeyEvent', this.shortkeyHandler);\r\n    this.$eventBus.$on('selectAnnotation', this.selectAnnotationHandler);\r\n    this.setInitialZoom();\r\n  },\r\n  beforeDestroy() {\r\n    this.$eventBus.$off('updateMapSize', this.updateMapSize);\r\n    this.$eventBus.$off('shortkeyEvent', this.shortkeyHandler);\r\n    this.$eventBus.$off('selectAnnotation', this.selectAnnotationHandler);\r\n    clearTimeout(this.timeoutSavePosition);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '~vuelayers/lib/style.css';\r\n\r\n$backgroundPanelBar: #555;\r\n$widthPanelBar: 2.8rem;\r\n$backgroundPanel: #f2f2f2;\r\n$colorPanelLink: #eee;\r\n$colorHoverPanelLink: white;\r\n$colorBorderPanelLink: #222;\r\n$colorOpenedPanelLink: #6c95c8;\r\n\r\n.map-container {\r\n  display:flex;\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.map {\r\n  flex-grow: 1;\r\n}\r\n\r\n.draw-tools {\r\n  position: absolute;\r\n  top: 0.7em;\r\n  left: 3.5rem;\r\n  right: $widthPanelBar;\r\n  z-index: 30;\r\n}\r\n\r\n.broadcast {\r\n  position: absolute;\r\n  right: 4.5rem;\r\n  top: 0.7em;\r\n  text-transform: uppercase;\r\n  font-weight: 600;\r\n  background-color: #EE4242;\r\n  color: white;\r\n  padding: 0.25em 0.75em 0.25em 0.55em;\r\n  border-radius: 5px;\r\n  border: 2px solid white;\r\n\r\n  i.fas {\r\n    margin-right: 0.3em;\r\n  }\r\n}\r\n\r\n.panels {\r\n  background: $backgroundPanelBar;\r\n  display: flex;\r\n  font-size: 0.9em;\r\n\r\n  > ul {\r\n    padding: 0;\r\n    margin: 0;\r\n\r\n    > li {\r\n      position: relative;\r\n\r\n      > a {\r\n        position: relative;\r\n        display: block;\r\n        width: $widthPanelBar;\r\n        padding: 0.35rem 0.8rem;\r\n        font-size: 1.25rem;\r\n        color: $colorPanelLink;\r\n        border-bottom: 1px solid $colorBorderPanelLink;\r\n        text-decoration: none;\r\n        text-align:center;\r\n\r\n        &:hover {\r\n          color: $colorHoverPanelLink;\r\n        }\r\n\r\n        &.active {\r\n          background: $backgroundPanel;\r\n          color: $colorOpenedPanelLink;\r\n        }\r\n\r\n        &.close {\r\n          color: #ffc4c4;\r\n          :hover {\r\n            color: #ff7070;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.panel-options {\r\n  position: absolute;\r\n  bottom: -1.75em;\r\n  right: $widthPanelBar;\r\n  width: 24em;\r\n  min-height: 10em;\r\n  background: $backgroundPanel;\r\n  padding: 0.75em;\r\n  border-radius: 5px 0 0 5px;\r\n  z-index: 100;\r\n\r\n  h1 {\r\n    font-size: 1.1rem;\r\n    padding-top: 0.3rem !important;\r\n    padding-bottom: 1rem !important;\r\n  }\r\n\r\n  table {\r\n    background: none;\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n.panels li:nth-child(-n+8) .panel-options {\r\n  bottom: -7.5em;\r\n  min-height: 13em;\r\n}\r\n\r\n.panels li:nth-child(-n+4) .panel-options {\r\n  top: -1.75em;\r\n  bottom: auto;\r\n  min-height: 7.5em;\r\n}\r\n\r\n.panels li:nth-child(5) .panel-options {\r\n  top: -5.5em;\r\n  bottom: auto;\r\n}\r\n\r\n/* ----- CUSTOM STYLE FOR OL CONTROLS ----- */\r\n\r\n.ol-zoom, .ol-rotate {\r\n  background: none !important;\r\n  z-index: 20;\r\n}\r\n\r\n.ol-rotate:not(.custom) {\r\n  display: none;\r\n}\r\n\r\n.ol-control button {\r\n  background: white !important;\r\n  color: black !important;\r\n  border-radius: 2px !important;\r\n  box-shadow: 0 0 1px #777;\r\n\r\n  &:hover {\r\n    box-shadow: 0 0 1px black;\r\n    cursor: pointer;\r\n  }\r\n}\r\n\r\n.ol-zoom-in {\r\n  margin-bottom: 5px !important;\r\n}\r\n\r\n/* ----- Rotation selector ----- */\r\n.rotation-selector-wrapper {\r\n  position: absolute;\r\n  left: .5em;\r\n  top: 5rem;\r\n  z-index: 20;\r\n}\r\n\r\n.custom-overview {\r\n  position: absolute;\r\n  bottom: 0.5em;\r\n  left: 0.5em;\r\n  background: rgba(255, 255, 255, 0.8);\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: 4px;\r\n\r\n  .ol-overviewmap {\r\n    position: static;\r\n    background: none;\r\n  }\r\n\r\n  .ol-overviewmap:not(.ol-collapsed) button {\r\n    bottom: 2px !important;\r\n  }\r\n\r\n  .image-name {\r\n    font-size: 0.8em;\r\n    padding: 2px 5px;\r\n    width: 158px;\r\n    word-wrap: break-word;\r\n\r\n    &.hidden {\r\n      display: none;\r\n    }\r\n  }\r\n}\r\n\r\n/* ----- Image controls ----- */\r\n.image-controls-wrapper {\r\n  position: absolute;\r\n  bottom: 1.5rem;\r\n  left: 20%;\r\n  right: calc(#{$widthPanelBar} + 20%);\r\n  z-index: 5;\r\n}\r\n\r\n/* ----- Annotation list ----- */\r\n.annotations-table-wrapper {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: $widthPanelBar;\r\n  z-index: 40;\r\n  pointer-events: none;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineImage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineImage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineImage.vue?vue&type=template&id=413cb7c5\"\nimport script from \"./CytomineImage.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineImage.vue?vue&type=script&lang=js\"\nimport style0 from \"./CytomineImage.vue?vue&type=style&index=0&id=413cb7c5&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.imageSelectorEnabled),expression:\"imageSelectorEnabled\"}],staticClass:\"image-selector-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"filters\"},[_c('b-input',{staticClass:\"search-images search\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('tags'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableTags,\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"allPlaceholder\":_vm.$t('all')},model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})],1)],1),_c('button',{staticClass:\"delete\",on:{\"click\":function($event){_vm.imageSelectorEnabled = false}}})]),(_vm.error)?_c('div',{staticClass:\"content-wrapper\"},[_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])])],1):_c('div',{staticClass:\"image-selector\"},[_vm._l((_vm.displayedImages),function(image){return _c('div',{key:image.id,staticClass:\"card\"},[_c('a',{staticClass:\"card-image\",style:('background-image: url(' + _vm.appendShortTermToken(_vm.imageThumbUrl(image), _vm.shortTermToken) + ')'),on:{\"click\":function($event){return _vm.addImage(image)}}}),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('a',{on:{\"click\":function($event){return _vm.addImage(image)}}},[_c('image-name',{attrs:{\"image\":image}})],1)])])])}),(_vm.nbImagesDisplayed < _vm.filteredImages.length)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.more()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-more'))+\" \")]):_vm._e(),_c('div',{staticClass:\"space\"},[_vm._v(\"\")])],2)]:_vm._e()],2),_c('a',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.$t('add-image'), placement: 'left'}),expression:\"{content: $t('add-image'), placement: 'left'}\"}],staticClass:\"image-selector-button\",on:{\"click\":function($event){_vm.imageSelectorEnabled = true}}},[_c('i',{staticClass:\"fas fa-plus\"})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <div class=\"image-selector-wrapper\" v-show=\"imageSelectorEnabled\">\r\n    <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n    <template v-if=\"!loading\">\r\n      <div class=\"header\">\r\n        <div class=\"filters\">\r\n          <b-input class=\"search-images search\" v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\"\r\n            type=\"search\" icon=\"search\"\r\n          />\r\n          <div class=\"filter-label\">\r\n            {{$t('tags')}}\r\n          </div>\r\n          <div class=\"filter-body\">\r\n            <cytomine-multiselect v-model=\"selectedTags\" :options=\"availableTags\"\r\n              label=\"name\" track-by=\"id\" :multiple=\"true\" :allPlaceholder=\"$t('all')\" />\r\n          </div>\r\n        </div>\r\n        <button class=\"delete\" @click=\"imageSelectorEnabled = false\"></button>\r\n      </div>\r\n      <div class=\"content-wrapper\" v-if=\"error\">\r\n        <b-message type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n          <h2> {{ $t('error') }} </h2>\r\n          <p> {{ $t('unexpected-error-info-message') }} </p>\r\n        </b-message>\r\n      </div>\r\n      <div v-else class=\"image-selector\">\r\n        <div class=\"card\" v-for=\"image in displayedImages\" :key=\"image.id\">\r\n          <a class=\"card-image\" @click=\"addImage(image)\" :style=\"'background-image: url(' + appendShortTermToken(imageThumbUrl(image), shortTermToken) + ')'\"></a>\r\n          <div class=\"card-content\">\r\n            <div class=\"content\">\r\n              <a @click=\"addImage(image)\">\r\n                <image-name :image=\"image\" />\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <button class=\"button\" v-if=\"nbImagesDisplayed < filteredImages.length\" @click=\"more()\">\r\n          {{$t('button-more')}}\r\n        </button>\r\n\r\n        <div class=\"space\">&nbsp;</div>\r\n      </div>\r\n    </template>\r\n  </div>\r\n\r\n  <a\r\n    class=\"image-selector-button\"\r\n    @click=\"imageSelectorEnabled = true\"\r\n    v-tooltip=\"{content: $t('add-image'), placement: 'left'}\"\r\n  >\r\n    <i class=\"fas fa-plus\"></i>\r\n  </a>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get,syncMultiselectFilter} from '@/utils/store-helpers';\r\nimport {IMAGE_FORMAT} from '@/utils/image-utils';\r\n\r\nimport ImageName from '@/components/image/ImageName';\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport {ImageInstanceCollection, TagCollection} from 'cytomine-client';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\n\r\nconst storeOptions = {rootModuleProp: 'storeModule'};\r\nconst localSyncMultiselectFilter = (filterName, options) => syncMultiselectFilter(null, filterName, options, storeOptions);\r\n\r\nexport default {\r\n  name: 'image-selector',\r\n  components: {\r\n    ImageName,\r\n    CytomineMultiselect\r\n  },\r\n  data() {\r\n    return {\r\n      images: [],\r\n      availableTags:[],\r\n      searchString: '',\r\n      nbImagesDisplayed: 20,\r\n      loading: true,\r\n      error: false\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    selectedTags: localSyncMultiselectFilter('selectedTags', 'availableTags'),\r\n    storeModule() {\r\n      return this.$store.getters['currentProject/currentProjectModule'] + 'listImages';\r\n    },\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageSelectorEnabled: {\r\n      get() {\r\n        return this.$store.getters['currentProject/currentViewer'].imageSelector;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.viewerModule + 'setImageSelector', value);\r\n      }\r\n    },\r\n    filteredImages() { // TODO: in backend\r\n      let filtered = this.images;\r\n\r\n      if(this.searchString) {\r\n        let regexp = getWildcardRegexp(this.searchString);\r\n        filtered =  filtered.filter(image => regexp.test(image.instanceFilename));\r\n      }\r\n\r\n      return filtered;\r\n    },\r\n    displayedImages() {\r\n      return this.filteredImages.slice(0, this.nbImagesDisplayed);\r\n    }\r\n  },\r\n  watch:{\r\n    async selectedTags(){\r\n      if(!this.selectedTags.length){\r\n        this.images = [];\r\n      }\r\n      else{\r\n        await this.fetchImages();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    async addImage(image) {\r\n      try {\r\n        await image.fetch(); // refetch image to ensure we have latest version\r\n        let slice = await image.fetchReferenceSlice();\r\n        await this.$store.dispatch(this.viewerModule + 'addImage', {image, slices: [slice]});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-add-viewer-image')});\r\n      }\r\n    },\r\n    async fetchImages() {\r\n      let collection = new ImageInstanceCollection({\r\n        filterKey: 'project',\r\n        filterValue: this.project.id,\r\n      });\r\n      if(this.selectedTags.length > 0) {\r\n        collection['tag'] = {\r\n          in: this.selectedTags.map(option => option.id).join()\r\n        };\r\n      }\r\n      this.images = (await collection.fetchAll()).array; // TODO: should not load full array, should be done with backend\r\n    },\r\n    async fetchTags() {\r\n      this.availableTags = [{id: 'null', name: this.$t('no-tag')}, ...(await TagCollection.fetchAll()).array];\r\n    },\r\n\r\n    more() {\r\n      this.nbImagesDisplayed += 20;\r\n    },\r\n\r\n    toggle() {\r\n      this.imageSelectorEnabled = !this.imageSelectorEnabled;\r\n    },\r\n\r\n    shortkeyHandler(key) {\r\n      if (key === 'toggle-add-image') {\r\n        this.toggle();\r\n      }\r\n    },\r\n    imageThumbUrl(image) {\r\n      return image.thumbURL(256, IMAGE_FORMAT);\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      await this.fetchImages();\r\n      await this.fetchTags();\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n    this.loading = false;\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('shortkeyEvent', this.shortkeyHandler);\r\n  },\r\n  beforeDestroy() {\r\n    this.$eventBus.$off('shortkeyEvent', this.shortkeyHandler);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.image-selector-wrapper {\r\n  position: absolute;\r\n  left: 0;\r\n  bottom: 0;\r\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: #f5f5f5;\r\n  width: 100%;\r\n  height: 20em;\r\n  z-index: 150;\r\n}\r\n\r\n.header {\r\n  padding: 0.75em;\r\n  padding-bottom: 0;\r\n  padding-top: 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.search {\r\n  margin-top: 0.25em;\r\n}\r\n\r\n.filters {\r\n  display: flex;\r\n  padding: 0;\r\n  background: None;\r\n}\r\n\r\n.filter-label {\r\n  font-size: 0.9em;\r\n  margin-top: 0.7rem;\r\n  margin-left: 1em;\r\n  margin-right: 0.5em;\r\n}\r\n\r\n.delete {\r\n  margin-top: 1.2rem;\r\n}\r\n\r\n.image-selector {\r\n  width: 100%;\r\n  overflow: auto;\r\n  display: flex;\r\n  align-items: center;\r\n  flex: 1;\r\n}\r\n\r\n.card {\r\n  display: inline-block;\r\n  min-width: 12em;\r\n  flex: 0;\r\n  box-sizing: border-box;\r\n  margin: 0.75em;\r\n}\r\n\r\n.card-image {\r\n  display: inline-block;\r\n  width: 100%;\r\n  height: 9.5em;\r\n  background-position: center center;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-color: white;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.card-content {\r\n  padding: 0.75em;\r\n  font-size: 0.8rem;\r\n  overflow-wrap: break-word;\r\n  overflow: hidden;\r\n  height: 5em;\r\n}\r\n\r\n.space {\r\n  margin-left: 0.5em;\r\n}\r\n\r\n.image-selector-button {\r\n  background: #95b5db;\r\n  border: 0.35rem solid white;\r\n  position: absolute;\r\n  bottom: 1rem;\r\n  right: 1rem;\r\n  width: 3.5rem;\r\n  height: 3.5rem;\r\n  border-radius: 50%;\r\n  text-align: center;\r\n  line-height: 2.8rem;\r\n  color: white;\r\n  font-size: 1.8rem;\r\n  box-sizing: border-box;\r\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n  z-index: 100;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageSelector.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageSelector.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ImageSelector.vue?vue&type=template&id=64d47f27&scoped=true\"\nimport script from \"./ImageSelector.vue?vue&type=script&lang=js\"\nexport * from \"./ImageSelector.vue?vue&type=script&lang=js\"\nimport style0 from \"./ImageSelector.vue?vue&type=style&index=0&id=64d47f27&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64d47f27\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {Cytomine, User} from 'cytomine-client';\r\n\r\nfunction getDefaultState() {\r\n  return {\r\n    user: null,\r\n    expandedSidebar: true,\r\n    increment: 0,\r\n    shortTermToken: null\r\n  };\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state: getDefaultState(),\r\n\r\n  mutations: {\r\n    setUser(state, user) {\r\n      state.user = user ? user.clone() : null;\r\n    },\r\n    setShortTermToken(state, value) {\r\n      state.shortTermToken = value;\r\n    },\r\n    setAdminByNow(state, value) {\r\n      state.user.adminByNow = value;\r\n    },\r\n    setExpandedSidebar(state, val) {\r\n      state.expandedSidebar = val;\r\n    },\r\n    resetState(state) {\r\n      Object.assign(state, getDefaultState());\r\n    },\r\n  },\r\n\r\n  actions: {\r\n    async fetchUser({commit}) {\r\n      let user = await User.fetchCurrent();\r\n      if(user.id) { // fetchCurrent() redirects to home page if user not authenticated => check that id is set\r\n        commit('setUser', user);\r\n      }\r\n      else {\r\n        commit('setUser', null);\r\n      }\r\n    },\r\n\r\n    async updateUser({commit}, user) {\r\n      await user.update();\r\n      commit('setUser', user);\r\n    },\r\n\r\n    async regenerateKeys({state, commit}) {\r\n      let user = state.user.clone();\r\n      await user.regenerateKeys();\r\n      commit('setUser', user);\r\n    },\r\n\r\n    async openAdminSession({commit}) {\r\n      await Cytomine.instance.openAdminSession();\r\n      commit('setAdminByNow', true);\r\n    },\r\n    async closeAdminSession({dispatch}) {\r\n      await Cytomine.instance.closeAdminSession();\r\n      await dispatch('fetchUser');\r\n    },\r\n\r\n    async login({dispatch, commit}, payload) {\r\n      let {shortTermToken} = await Cytomine.instance.login(payload.username, payload.password, payload.rememberMe);\r\n      commit('setShortTermToken', shortTermToken);\r\n      await dispatch('fetchUser');\r\n    }\r\n  },\r\n\r\n  getters: {\r\n      currentShortTermToken: (state, _, rootState) => {\r\n        let currentUser = rootState.currentUser || {};\r\n        return currentUser.shortTermToken;\r\n      },\r\n\r\n  }\r\n\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {Cytomine, Project, ProjectConnection, Ontology, AnnotationType, UserCollection, ProjectMemberRole} from 'cytomine-client';\r\n\r\nimport {fullName} from '@/utils/user-utils.js';\r\nimport {getAllTerms} from '@/utils/ontology-utils';\r\n\r\nfunction getDefaultState() {\r\n  return {\r\n    project: null,\r\n    configUI: {},\r\n    ontology: null,\r\n    managers: [],\r\n    members: [],\r\n    currentViewer: null\r\n  };\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state: getDefaultState(),\r\n\r\n  mutations: {\r\n    resetState(state) {\r\n      Object.assign(state, getDefaultState());\r\n    },\r\n\r\n    setProject(state, project) {\r\n      state.project = project;\r\n    },\r\n\r\n    setOntology(state, ontology) {\r\n      state.ontology = ontology;\r\n    },\r\n\r\n    setConfigUI(state, config) {\r\n      state.configUI = config;\r\n    },\r\n\r\n    setManagers(state, managers) {\r\n      state.managers = managers;\r\n    },\r\n\r\n    setMembers(state, members) {\r\n      state.members = members;\r\n    },\r\n\r\n    setCurrentViewer(state, id) {\r\n      state.currentViewer = id;\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    async loadProject({state, dispatch, commit}, idProject) {\r\n      let projectChange = !state.project || state.project.id !== idProject;\r\n      let project = await Project.fetch(idProject);\r\n      commit('setProject', project);\r\n      commit(`projects/${project.id}/setProject`, project, {root: true});\r\n\r\n      let promises = [\r\n        dispatch('fetchUIConfig'),\r\n        dispatch('fetchOntology'),\r\n        dispatch('fetchProjectMembers')\r\n      ];\r\n\r\n      if(projectChange) {\r\n        promises.push(new ProjectConnection({project: idProject}).save());\r\n      }\r\n      await Promise.all(promises);\r\n    },\r\n    async reloadProject({state, commit}) {\r\n      let project = await Project.fetch(state.project.id);\r\n      commit('setProject', project);\r\n    },\r\n\r\n    async updateProject({state, dispatch, commit}, updatedProject) {\r\n      let reloadOntology = state.project.ontology !== updatedProject.ontology;\r\n      commit('setProject', updatedProject);\r\n      commit(`projects/${updatedProject.id}/setProject`, updatedProject, {root: true});\r\n      if(reloadOntology) {\r\n        await dispatch('fetchOntology');\r\n      }\r\n    },\r\n\r\n    async fetchUIConfig({state, commit}) {\r\n      let config = await Cytomine.instance.fetchUIConfigCurrentUser(state.project.id);\r\n      commit('setConfigUI', config);\r\n    },\r\n\r\n    async fetchProjectMembers({state, commit}) {\r\n      let collection = new UserCollection({\r\n        filterKey: 'project',\r\n        filterValue: state.project.id,\r\n      });\r\n\r\n      let members =  (await collection.fetchAll()).array;\r\n      let managers = members.filter(u => u.role == ProjectMemberRole.MANAGER || u.role == ProjectMemberRole.REPRESENTATIVE );\r\n\r\n      members.forEach(member => member.fullName = fullName(member));\r\n\r\n      commit('setManagers', managers);\r\n      commit('setMembers', members);\r\n    },\r\n\r\n    async fetchFollowers(_, {userId, imageId}) {\r\n      let followers = await UserCollection.fetchFollowers(userId, imageId);\r\n      //followers.forEach(follower => follower.fullName = fullName(follower));\r\n      return followers;\r\n    },\r\n\r\n    async fetchOntology({state, commit}) {\r\n      let ontology = state.project.ontology ? await Ontology.fetch(state.project.ontology) : null;\r\n      commit('setOntology', ontology);\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    canEditLayer: (state, getters, rootState) => idLayer => {\r\n      let currentUser = rootState.currentUser.user;\r\n      let project = state.project;\r\n      return getters.canManageProject ||\r\n        (!project.isReadOnly && (idLayer === currentUser.id || !project.isRestricted));\r\n    },\r\n\r\n    canEditAnnot: (_, getters, rootState) => annot => {\r\n      if (annot.type === AnnotationType.ALGO) {\r\n        return false;\r\n      }\r\n      let currentUser = rootState.currentUser.user;\r\n      let idLayer = annot.user;\r\n      if(annot.type === AnnotationType.REVIEWED) {\r\n        return currentUser.adminByNow || (!currentUser.guestByNow && annot.reviewUser === currentUser.id);\r\n      }\r\n      return getters.canEditLayer(idLayer);\r\n    },\r\n\r\n    canEditImage: (state, getters, rootState) => image => {\r\n      let currentUser = rootState.currentUser.user;\r\n      let project = state.project;\r\n      return getters.canManageProject ||\r\n        (!currentUser.guestByNow && !project.isReadOnly && (image.user === currentUser.id || !project.isRestricted));\r\n    },\r\n\r\n    canManageJob: (state, getters, rootState) => job => {\r\n      let currentUser = rootState.currentUser.user;\r\n      let project = state.project;\r\n      return getters.canManageProject ||\r\n        (!currentUser.guestByNow && !project.isReadOnly && (job.username === currentUser.username || !project.isRestricted));\r\n    },\r\n\r\n    canManageProject: (state, _, rootState) => { // true iff current user is admin or project manager\r\n      let currentUser = rootState.currentUser.user || {};\r\n      return currentUser.adminByNow || (!currentUser.guestByNow && state.managers.some(user => user.id === currentUser.id));\r\n    },\r\n\r\n    contributors: (state) => {\r\n      let idsManagers = state.managers.map(user => user.id);\r\n      return state.members.filter(user => !idsManagers.includes(user.id));\r\n    },\r\n\r\n    terms: (state) => {\r\n      return state.ontology ? getAllTerms(state.ontology) : null;\r\n    },\r\n\r\n    currentProjectModule: (state) => {\r\n      if(!state.project) {\r\n        return null;\r\n      }\r\n      return `projects/${state.project.id}/`;\r\n    },\r\n\r\n    currentViewer: (state, _, rootState) => {\r\n      if(!state.project) {\r\n        return null;\r\n      }\r\n      return rootState.projects[state.project.id].viewers[state.currentViewer];\r\n    },\r\n\r\n    currentViewerModule: (state, getters) => {\r\n      return `${getters.currentProjectModule}viewers/${state.currentViewer}/`;\r\n    },\r\n\r\n    imageModule: (_, getters) => index => {\r\n      return `${getters.currentViewerModule}images/${index}/`;\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nfunction getDefaultState() {\r\n  return {\r\n    searchString: '',\r\n    selectedOntology: null\r\n  };\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state: getDefaultState(),\r\n\r\n  mutations: {\r\n    setSelectedOntology(state, idOntology) {\r\n      state.selectedOntology = idOntology;\r\n    },\r\n\r\n    setSearchString(state, searchString) {\r\n      state.searchString = searchString;\r\n    },\r\n\r\n    resetState(state) {\r\n      Object.assign(state, getDefaultState());\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nfunction getDefaultState() {\r\n  return {\r\n    searchString: '',\r\n\r\n    filtersOpened: false,\r\n    filters: {\r\n      selectedOntologies: null,\r\n      selectedRoles: null,\r\n      selectedTags: null,\r\n      boundsMembers: null,\r\n      boundsImages: null,\r\n      boundsUserAnnotations: null,\r\n      boundsJobAnnotations: null,\r\n      boundsReviewedAnnotations: null\r\n    },\r\n\r\n    currentPage: 1,\r\n    perPage: 10,\r\n    sortField: 'lastActivity',\r\n    sortOrder: 'desc',\r\n    openedDetails: []\r\n  };\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state: getDefaultState(),\r\n\r\n  mutations: {\r\n    resetState(state) {\r\n      Object.assign(state, getDefaultState());\r\n    },\r\n\r\n    setSearchString(state, searchString) {\r\n      state.searchString = searchString;\r\n    },\r\n\r\n    setFiltersOpened(state, value) {\r\n      state.filtersOpened = value;\r\n    },\r\n\r\n    setFilter(state, {filterName, propValue}) {\r\n      state.filters[filterName] = propValue;\r\n    },\r\n\r\n    setCurrentPage(state, page) {\r\n      state.currentPage = page;\r\n    },\r\n\r\n    setPerPage(state, perPage) {\r\n      state.perPage = perPage;\r\n    },\r\n\r\n    setSortField(state, field) {\r\n      state.sortField = field;\r\n    },\r\n\r\n    setSortOrder(state, order) {\r\n      state.sortOrder = order;\r\n    },\r\n\r\n    setOpenedDetails(state, value) {\r\n      state.openedDetails = value;\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    nbActiveFilters: state => {\r\n      return Object.values(state.filters).filter(val => val).length; // count the number of not null values\r\n    },\r\n\r\n    nbEmptyFilters: state => {\r\n      return Object.values(state.filters).filter(val => val && val.length === 0).length;\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nfunction getDefaultState() {\r\n  return {\r\n    searchString: '',\r\n\r\n    filtersOpened: false,\r\n    filters: {\r\n      boundsJobs: null,\r\n      boundsSuccessJobs: null,\r\n      onlyLastReleases: true,\r\n      onlyExecutables: true,\r\n    },\r\n\r\n    currentPage: 1,\r\n    perPage: 10,\r\n    sort: {\r\n      field: 'name',\r\n      order: 'asc'\r\n    },\r\n    openedDetails: []\r\n  };\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state: getDefaultState(),\r\n\r\n  mutations: {\r\n    resetState(state) {\r\n      Object.assign(state, getDefaultState());\r\n    },\r\n\r\n    setSearchString(state, searchString) {\r\n      state.searchString = searchString;\r\n    },\r\n\r\n    setFiltersOpened(state, value) {\r\n      state.filtersOpened = value;\r\n    },\r\n\r\n    setFilter(state, {filterName, propValue}) {\r\n      state.filters[filterName] = propValue;\r\n    },\r\n\r\n    setCurrentPage(state, page) {\r\n      state.currentPage = page;\r\n    },\r\n\r\n    setPerPage(state, perPage) {\r\n      state.perPage = perPage;\r\n    },\r\n\r\n    setSort(state, sort) {\r\n      state.sort = sort;\r\n    },\r\n\r\n    setOpenedDetails(state, value) {\r\n      state.openedDetails = value;\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    nbActiveFilters: state => {\r\n      return Object.values(state.filters).filter(val => val).length; // count the number of not null values\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport Vue from 'vue';\r\nimport Vuex from 'vuex';\r\n\r\nimport currentUser from './modules/current-user.js';\r\nimport currentProject from './modules/current-project.js';\r\nimport ontologies from './modules/ontologies.js';\r\nimport listProjects from './modules/list-projects.js';\r\nimport listSoftware from './modules/list-software.js';\r\n\r\nVue.use(Vuex);\r\nlet store = new Vuex.Store({\r\n  actions: {\r\n    logout({ state, commit }) {\r\n      commit('currentUser/resetState');\r\n      commit('currentProject/resetState');\r\n      commit('ontologies/resetState');\r\n      commit('listProjects/resetState');\r\n      commit('listSoftware/resetState');\r\n      for (let key in state.projects) {\r\n        this.unregisterModule(['projects', key]);\r\n      }\r\n    }\r\n  },\r\n  modules: {\r\n    currentUser,\r\n    currentProject,\r\n    ontologies,\r\n    listProjects,\r\n    listSoftware,\r\n    projects: {\r\n      namespaced: true\r\n    }\r\n  },\r\n  strict: process.env.NODE_ENV !== 'production'\r\n});\r\n\r\nexport default store;\r\n\r\nexport function getModuleNamespace(state) { // to update if https://github.com/vuejs/vuex/issues/1244 is implemented\r\n  let pathes = Object.keys(store._modulesNamespaceMap);\r\n  let moduleNamespace = pathes.find(path => store._modulesNamespaceMap[path].context.state === state);\r\n  if (typeof moduleNamespace === 'string') {\r\n    return moduleNamespace.slice(0, -1).split('/');\r\n  }\r\n}\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      idImage: 0,\r\n      nbBitsPerSample: 8,\r\n      nbSamplesPerChannel: 1,\r\n\r\n      apparentChannels: null,\r\n\r\n      gammaPerApparentChannel: true,\r\n      invertedPerApparentChannel: true,\r\n      histogramLogScale: true,\r\n      intensitiesByMinMax: true,\r\n\r\n      filter: null\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setIdImage(state, id) {\r\n      state.idImage = id;\r\n    },\r\n\r\n    setNbBitsPerSample(state, value) {\r\n      state.nbBitsPerSample = value;\r\n    },\r\n\r\n    setNbSamplesPerChannel(state, value) {\r\n      state.nbSamplesPerChannel = value;\r\n    },\r\n\r\n    setGammaPerApparentChannel(state, value) {\r\n      state.gammaPerApparentChannel = value;\r\n    },\r\n\r\n    setInvertedPerApparentChannel(state, value) {\r\n      state.invertedPerApparentChannel = value;\r\n    },\r\n\r\n    setHistogramLogScale(state, value) {\r\n      state.histogramLogScale = value;\r\n    },\r\n\r\n    setIntensitiesByMinMax(state, value) {\r\n      state.intensitiesByMinMax = value;\r\n    },\r\n\r\n    setFilter(state, filter) {\r\n      state.filter = filter;\r\n    },\r\n\r\n    setApparentChannels(state, apparentChannels) {\r\n            state.apparentChannels = apparentChannels;\r\n    },\r\n\r\n    setApparentChannelVisibility(state, {indexApparentChannel, visible}) {\r\n      let channel = state.apparentChannels[indexApparentChannel];\r\n      channel.visible = visible;\r\n    },\r\n    setApparentChannelColor(state, {indexApparentChannel, color, isColormap}) {\r\n      let channel = state.apparentChannels[indexApparentChannel];\r\n      channel.color = color;\r\n      channel.isColormap = isColormap;\r\n    },\r\n    setApparentChannelBounds(state, {indexApparentChannel, bounds}) {\r\n      let channel = state.apparentChannels[indexApparentChannel];\r\n      channel.bounds = bounds;\r\n    },\r\n    setApparentChannelGamma(state, {indexApparentChannel, gamma}) {\r\n      let channel = state.apparentChannels[indexApparentChannel];\r\n      channel.gamma = gamma;\r\n    },\r\n    setApparentChannelInverted(state, {indexApparentChannel, inverted}) {\r\n      let channel = state.apparentChannels[indexApparentChannel];\r\n      channel.inverted = inverted;\r\n    },\r\n\r\n    resetApparentChannel(state, indexApparentChannel) {\r\n      let channel = state.apparentChannels[indexApparentChannel];\r\n      resetApparentChannel(channel, state.nbBitsPerSample);\r\n    },\r\n    resetApparentChannels(state) {\r\n      state.apparentChannels.forEach(apparentChannel => {\r\n        resetApparentChannel(apparentChannel, state.nbBitsPerSample);\r\n      });\r\n    },\r\n\r\n    resetApparentChannelIntensities(state, indexApparentChannel) {\r\n      let channel = state.apparentChannels[indexApparentChannel];\r\n      resetApparentChannel(channel, state.nbBitsPerSample, true);\r\n    },\r\n    resetApparentChannelsIntensities(state) {\r\n      state.apparentChannels.forEach(apparentChannel => {\r\n        resetApparentChannel(apparentChannel, state.nbBitsPerSample, true);\r\n      });\r\n    },\r\n\r\n    adjustToImage(state, indexApparentChannel) {\r\n      let channel = state.apparentChannels[indexApparentChannel];\r\n      channel.bounds = channel.imageBounds;\r\n    },\r\n    adjustAllToImage(state) {\r\n      state.apparentChannels.forEach(apparentChannel => {\r\n        if (apparentChannel.visible) {\r\n          apparentChannel.bounds = apparentChannel.imageBounds;\r\n        }\r\n      });\r\n    },\r\n    adjustToSlice(state, {indexApparentChannel, bounds}) {\r\n      let channel = state.apparentChannels[indexApparentChannel];\r\n      channel.bounds = bounds;\r\n    },\r\n    adjustAllToSlice(state, allBounds) {\r\n      state.apparentChannels.forEach((apparentChannel, i) => {\r\n        if (apparentChannel.visible) {\r\n          apparentChannel.bounds = allBounds[i];\r\n        }\r\n      });\r\n    },\r\n\r\n    setChannelsVisibility(state, channels) {\r\n      state.apparentChannels.forEach(ac => {\r\n        ac.visible = (channels.includes(ac.channel));\r\n      });\r\n    },\r\n\r\n    resetImageColorManipulationSettings(state) {\r\n      state.gammaPerApparentChannel = true;\r\n      state.invertedPerApparentChannel = true;\r\n      state.histogramLogScale = true;\r\n      state.intensitiesByMinMax = true;\r\n    },\r\n  },\r\n\r\n  actions: {\r\n    async initialize({commit, dispatch}, {image, slices}) {\r\n      commit('setIdImage', image.id);\r\n      commit('setNbBitsPerSample', image.bitPerSample);\r\n      commit('setNbSamplesPerChannel', image.samplePerPixel);\r\n      await dispatch('refreshApparentChannels', {image});\r\n      let channels = slices.map(slice => slice.channel);\r\n      commit('setChannelsVisibility', channels);\r\n    },\r\n    async setImageInstance({commit, dispatch}, {image}) {\r\n      commit('setIdImage', image.id);\r\n      commit('setNbBitsPerSample', image.bitPerSample);\r\n      commit('setNbSamplesPerChannel', image.samplePerPixel);\r\n      await dispatch('refreshApparentChannels', {image});\r\n    },\r\n    async refreshApparentChannels({commit}, {image}) {\r\n      let apparentChannels = formatApparentChannels(\r\n        await fetchApparentChannels(image),\r\n        image.bitPerSample\r\n      );\r\n      commit('setApparentChannels', apparentChannels);\r\n    },\r\n\r\n    resetColorManipulation({commit}) {\r\n      commit('resetApparentChannels');\r\n      commit('resetImageColorManipulationSettings');\r\n      commit('setFilter', null);\r\n    },\r\n\r\n    setApparentChannelVisibility({commit, state, dispatch}, {indexApparentChannel, visible}) {\r\n      let apparentChannel = state.apparentChannels[indexApparentChannel];\r\n      let count = state.apparentChannels.filter(ac =>\r\n        ac.visible && ac.channel === apparentChannel.channel\r\n      ).length;\r\n      if (visible && count === 0) {\r\n        dispatch('addActiveSliceChannel', {channel: apparentChannel.channel});\r\n      }\r\n      else if (!visible && count === 1) {\r\n        dispatch('removeActiveSliceChannel', {channel: apparentChannel.channel});\r\n      }\r\n      commit('setApparentChannelVisibility', {indexApparentChannel, visible});\r\n    },\r\n    async setActiveSlice({commit}, slice) {\r\n      commit('setChannelsVisibility', [slice.channel]);\r\n    },\r\n    async setActiveSliceByPosition({commit}, {channel}) {\r\n      commit('setChannelsVisibility', [channel]);\r\n    },\r\n    async setActiveSlicesByPosition({commit}, {channels}) {\r\n      commit('setChannelsVisibility', channels);\r\n    },\r\n    // async setActiveSliceByRank({dispatch}, rank) {\r\n    //   //TODO\r\n    // },\r\n    // async setActiveSlicesByRank({dispatch}, ranks) {\r\n    //   //TODO\r\n    // },\r\n  },\r\n\r\n  getters: {\r\n    tileRequestParams: (state) => {\r\n      let params = {};\r\n      if (state.filter !== null) {\r\n        params.filters = state.filter;\r\n      }\r\n      let visibleApparentChannels = [];\r\n      if (state.apparentChannels) {\r\n        visibleApparentChannels = state.apparentChannels.filter(\r\n          (apparentChannel) => apparentChannel.visible\r\n        );\r\n      }\r\n      if (visibleApparentChannels.length > 0) {\r\n        params.channels = [];\r\n        // eslint-disable-next-line camelcase\r\n        params.min_intensities = [];\r\n        // eslint-disable-next-line camelcase\r\n        params.max_intensities = [];\r\n        params.gammas = [];\r\n        params.colormaps = [];\r\n\r\n        visibleApparentChannels.forEach(ac => {\r\n          params.channels.push(ac.index);\r\n          params.min_intensities.push(ac.bounds.min);\r\n          params.max_intensities.push(ac.bounds.max);\r\n          params.gammas.push(ac.gamma);\r\n          params.colormaps.push(formatColormapRequestParam(ac.color, ac.inverted));\r\n        });\r\n      }\r\n      return params;\r\n    },\r\n  }\r\n};\r\n\r\nfunction formatColormapRequestParam(color, inverted) {\r\n  if (color === null) {\r\n    color = 'DEFAULT';\r\n  }\r\n  if (inverted) {\r\n    return `!${color}`;\r\n  }\r\n  return color;\r\n}\r\n\r\nfunction defaultBounds(nBits) {\r\n  return {min: 0, max: 2**nBits - 1};\r\n}\r\n\r\nfunction autoAdjustBounds(nBits, {min, max}) {\r\n  if (nBits > 8) {\r\n    return {min, max};\r\n  }\r\n  return {min: 0, max:255};\r\n}\r\n\r\nasync function fetchApparentChannels(image) {\r\n  return await image.fetchChannelHistogramBounds();\r\n}\r\n\r\nfunction formatApparentChannels(apparentChannels, nBits) {\r\n  if (!apparentChannels) {\r\n    return;\r\n  }\r\n\r\n  return apparentChannels.map(apparentChannel =>\r\n    formatApparentChannel(apparentChannel, nBits)\r\n  );\r\n}\r\n\r\nfunction formatApparentChannel(apparentChannel, nBits) {\r\n  let result = {index: apparentChannel.apparentChannel};\r\n  result.channel = apparentChannel.channel;\r\n  result.sample = apparentChannel.sample;\r\n\r\n  result.defaultColor = apparentChannel.color;\r\n  result.color = apparentChannel.color;\r\n  result.isColormap = false;\r\n  result.visible = true;\r\n  result.gamma = 1.0;\r\n  result.inverted = false;\r\n  result.imageBounds = {\r\n    min: apparentChannel.minimum,\r\n    max: apparentChannel.maximum\r\n  };\r\n  result.bounds = autoAdjustBounds(nBits, result.imageBounds);\r\n\r\n  return result;\r\n}\r\n\r\nfunction resetApparentChannel(apparentChannel, nBits, onlyIntensities=false) {\r\n  if (!onlyIntensities) {\r\n    apparentChannel.color = apparentChannel.defaultColor;\r\n    apparentChannel.isColormap = false;\r\n    apparentChannel.visible = true;\r\n  }\r\n\r\n  apparentChannel.gamma = 1.0;\r\n  apparentChannel.inverted = false;\r\n  apparentChannel.bounds = defaultBounds(nBits);\r\n}\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      activeTool: 'select',\r\n\r\n      termsNewAnnots: [],\r\n      tracksNewAnnots: [],\r\n\r\n      activeEditTool: null,\r\n      ongoingEdit: false\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    activateTool(state, tool) {\r\n      state.activeTool = tool;\r\n    },\r\n\r\n    activateEditTool(state, tool) {\r\n      state.activeEditTool = tool;\r\n    },\r\n\r\n    setOngoingEdit(state, value) {\r\n      state.ongoingEdit = value;\r\n    },\r\n\r\n    setTermsNewAnnots(state, terms) {\r\n      state.termsNewAnnots = terms;\r\n    },\r\n\r\n    filterTermsNewAnnots(state, terms) { // keep only the terms that still exist\r\n      let idTerms = terms.map(term => term.id);\r\n      state.termsNewAnnots = state.termsNewAnnots.filter(id => idTerms.includes(id));\r\n    },\r\n\r\n    setTracksNewAnnots(state, tracks) {\r\n      state.tracksNewAnnots = tracks;\r\n    },\r\n\r\n    filterTracksNewAnnots(state, tracks) {\r\n      let idTracks = tracks.map(track => track.id);\r\n      state.tracksNewAnnots = state.tracksNewAnnots.filter(id => idTracks.includes(id));\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    activateTool({state, commit}, tool) {\r\n      let previousTool = state.activeTool;\r\n      if(previousTool === 'select' && tool !== 'select') {\r\n        commit('clearSelectedFeatures');\r\n        commit('activateEditTool', {tool: null});\r\n      }\r\n      commit('activateTool', tool);\r\n    },\r\n\r\n    refreshData({commit, getters, rootGetters}) {\r\n      commit('filterTermsNewAnnots', rootGetters['currentProject/terms'] || []);\r\n      commit('filterTracksNewAnnots', getters.tracks || []);\r\n    },\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      selectedLayers: null\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    addLayer(state, layer) {\r\n      if(!state.selectedLayers) {\r\n        state.selectedLayers = [];\r\n      }\r\n      state.selectedLayers.push({...layer});\r\n    },\r\n\r\n    removeLayer(state, indexLayer) {\r\n      state.selectedLayers.splice(indexLayer, 1);\r\n    },\r\n\r\n    toggleLayerVisibility(state, indexLayer) {\r\n      let layer = state.selectedLayers[indexLayer];\r\n      layer.visible = !layer.visible;\r\n    },\r\n\r\n    toggleLayerDrawOn(state, indexLayer) {\r\n      let layer = state.selectedLayers[indexLayer];\r\n      layer.drawOn = !layer.drawOn;\r\n    },\r\n\r\n    filterSelectedLayers(state, idLayers) {\r\n      if(!state.selectedLayers) {\r\n        return;\r\n      }\r\n      state.selectedLayers = state.selectedLayers.filter(layer => idLayers.includes(layer.id));\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    async addLayer({commit}, layer) {\r\n      commit('addLayer', layer);\r\n    },\r\n\r\n    toggleLayerVisibility({state, commit}, indexLayer) {\r\n      commit('toggleLayerVisibility', indexLayer);\r\n      let layer = state.selectedLayers[indexLayer];\r\n      if(!layer.visible) {\r\n        commit('removeLayerFromSelectedFeatures', {layer});\r\n      }\r\n    },\r\n\r\n    removeLayer({state, commit}, indexLayer) {\r\n      let layer = state.selectedLayers[indexLayer];\r\n      commit('removeLayer', indexLayer);\r\n      commit('removeLayerFromSelectedFeatures', {layer});\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    selectedLayers: state => state.selectedLayers // expose in getter function because properties module need access to this value\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {defaultColors} from '@/utils/style-utils.js';\r\nimport {PropertyCollection} from 'cytomine-client';\r\nimport constants from '@/utils/constants';\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      idImage: 0,\r\n      propertiesKeys: null,\r\n      selectedPropertyKey: null,\r\n      selectedPropertyColor: defaultColors[0],\r\n      selectedPropertyValues: {},\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setIdImage(state, id) {\r\n      state.idImage = id;\r\n    },\r\n\r\n    setPropertiesKeys(state, keys) {\r\n      state.propertiesKeys = keys;\r\n    },\r\n\r\n    setSelectedPropertyKey(state, value) {\r\n      state.selectedPropertyKey = value;\r\n    },\r\n\r\n    setSelectedPropertyColor(state, value) {\r\n      state.selectedPropertyColor = value;\r\n    },\r\n\r\n    setSelectedPropertyValues(state, properties) {\r\n      state.selectedPropertyValues = properties;\r\n    },\r\n\r\n    addSelectedPropertyValues(state, newValues) {\r\n      state.selectedPropertyValues = {...state.selectedPropertyValues, ...newValues};\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    async initialize({commit, rootState}, {image}) {\r\n      commit('setIdImage', image.id);\r\n\r\n      let [propertiesKeys, projectProperties] = await Promise.all([\r\n        fetchPropertiesKeys(image.id),\r\n        PropertyCollection.fetchAll({object: rootState.currentProject.project})\r\n      ]);\r\n\r\n      let selectedPropertyKey = null;\r\n      let defaultPropertyProp = projectProperties.array.find(prop => prop.key === constants.DEFAULT_PROPERTY_KEY);\r\n      if(defaultPropertyProp && propertiesKeys.includes(defaultPropertyProp.value)) {\r\n        selectedPropertyKey = defaultPropertyProp.value;\r\n      }\r\n\r\n      commit('setPropertiesKeys', propertiesKeys);\r\n      commit('setSelectedPropertyKey', selectedPropertyKey);\r\n    },\r\n\r\n    async setSelectedPropertyKey({state, commit, getters}, value) {\r\n      let selectedLayers = getters.selectedLayers;\r\n\r\n      let properties = {};\r\n      if(value && selectedLayers) {\r\n        for(let layer of selectedLayers) {\r\n          let layerValues = await fetchLayerPropertiesValues(layer.id, state.idImage, value);\r\n          properties = {...properties, ...layerValues};\r\n        }\r\n      }\r\n\r\n      commit('setSelectedPropertyValues', properties);\r\n      commit('setSelectedPropertyKey', value);\r\n    },\r\n\r\n    async addLayer({state, commit}, layer) {\r\n      let key = state.selectedPropertyKey;\r\n      let propValues = {};\r\n      if(key) {\r\n        propValues = await fetchLayerPropertiesValues(layer.id, state.idImage, key);\r\n      }\r\n      commit('addSelectedPropertyValues', propValues);\r\n    },\r\n\r\n    async setImageInstance({commit, dispatch}, {image}) {\r\n      commit('setIdImage', image.id);\r\n      await dispatch('refreshProperties');\r\n    },\r\n\r\n    async refreshProperties({state, commit, dispatch}) {\r\n      let keys = await fetchPropertiesKeys(state.idImage);\r\n      commit('setPropertiesKeys', keys);\r\n\r\n      let currentKey = state.selectedPropertyKey;\r\n      let newKey = keys.includes(currentKey) ? currentKey : null;\r\n      dispatch('setSelectedPropertyKey', newKey);\r\n    },\r\n\r\n    async refreshData({dispatch}) {\r\n      await dispatch('refreshProperties');\r\n    }\r\n  }\r\n};\r\n\r\nasync function fetchLayerPropertiesValues(idLayer, idImage, key) {\r\n  if(idLayer === -1) {\r\n    return []; // currently not possible to retrieve properties of review layer (TODO in core)\r\n  }\r\n\r\n  let propertiesValues = await PropertyCollection.fetchPropertiesValuesAndPositions(\r\n    idLayer,\r\n    idImage,\r\n    key\r\n  );\r\n\r\n  // if several properties with target key for an annotation, concatenate their values\r\n  let properties = {};\r\n  propertiesValues.forEach(propVal => {\r\n    if(!properties[propVal.idAnnotation]) {\r\n      properties[propVal.idAnnotation] = propVal.value;\r\n    }\r\n    else {\r\n      properties[propVal.idAnnotation] += '; ' + propVal.value;\r\n    }\r\n  });\r\n\r\n  return properties;\r\n}\r\n\r\nasync function fetchPropertiesKeys(idImage) {\r\n  let data = await PropertyCollection.fetchKeysAnnotationProperties(null, idImage);\r\n  return data;\r\n}\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {createGeoJsonFmt} from 'vuelayers/lib/ol-ext/format';\r\nimport {annotBelongsToLayer} from '@/utils/annotation-utils';\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      selectionTargetedFeatures: [], // when we select a feature by clicking on a location, we can have multiple feature at this location.\r\n      selectedFeatures: [],\r\n      annotsToSelect: [],\r\n      showComments: null, // set to the identifier of an annotation to automatically open comments modal if this annotation if the first to be selected\r\n      displayAnnotDetails: true,\r\n      positionAnnotDetails: {x: 0, y: 0},\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setSelectionTargetedFeatures(state, targetedFeatures) {\r\n      state.selectionTargetedFeatures = targetedFeatures;\r\n    },\r\n\r\n    setSelectedFeatures(state, selectedFeatures) {\r\n      let newSelectedFeatures = JSON.stringify(selectedFeatures);\r\n      let currentSelectedFeatures = JSON.stringify(state.selectedFeatures);\r\n      if (newSelectedFeatures !== currentSelectedFeatures) {\r\n        state.selectedFeatures = selectedFeatures;\r\n      }\r\n    },\r\n\r\n    clearSelectedFeatures(state) {\r\n      state.selectedFeatures = [];\r\n      state.annotsToSelect = [];\r\n    },\r\n\r\n    selectFeature(state, feature) {\r\n      state.selectedFeatures.push(createGeoJsonFmt().writeFeatureObject(feature));\r\n    },\r\n\r\n    changeAnnotSelectedFeature(state, {indexFeature, annot}) {\r\n      if (state.selectedFeatures[indexFeature]) {\r\n        state.selectedFeatures[indexFeature].properties.annot = annot;\r\n      }\r\n    },\r\n\r\n    removeLayerFromSelectedFeatures(state, {layer, cache=false}) {\r\n      let selectedFeatures = state.selectedFeatures;\r\n      for(let index = selectedFeatures.length - 1; index >= 0; index--) {\r\n        let feature = selectedFeatures[index];\r\n        let annot = feature.properties.annot;\r\n        if(annotBelongsToLayer(annot, layer)) {\r\n          selectedFeatures.splice(index, 1);\r\n          if(cache) {\r\n            state.annotsToSelect.push(annot);\r\n          }\r\n        }\r\n      }\r\n\r\n      if(!cache) {\r\n        state.annotsToSelect = state.annotsToSelect.filter(annot => !annotBelongsToLayer(annot, layer));\r\n      }\r\n    },\r\n\r\n    removeTermFromSelectedFeatures(state, {idTerm, terms}) { // idTerm: id of the term no longer displayed\r\n      state.selectedFeatures = state.selectedFeatures.filter(feature => {\r\n        let annot = feature.properties.annot;\r\n        if(!annot.term.includes(idTerm)) {\r\n          return true; // feature not affected since it does not have the hidden term\r\n        }\r\n        // if feature associated with hidden term, check if it is associated to other terms still displayed\r\n        return terms.some(term => term.visible && annot.term.includes(term.id));\r\n      });\r\n    },\r\n\r\n    removeNoTermFromSelectedFeatures(state) {\r\n      state.selectedFeatures = state.selectedFeatures.filter(feature => {\r\n        let annot = feature.properties.annot;\r\n        return annot.term.length; // keep feature only iff it is associated to at least one term\r\n      });\r\n    },\r\n\r\n    setAnnotToSelect(state, annot) {\r\n      state.annotsToSelect = [annot];\r\n    },\r\n\r\n    setShowComments(state, annot) {\r\n      state.showComments = annot ? annot.id : null;\r\n    },\r\n\r\n    setDisplayAnnotDetails(state, value) {\r\n      state.displayAnnotDetails = value;\r\n    },\r\n\r\n    setPositionAnnotDetails(state, value) {\r\n      state.positionAnnotDetails = value;\r\n    },\r\n  },\r\n\r\n  actions: {\r\n    selectFeature({commit}, feature) {\r\n      commit('clearSelectedFeatures');\r\n      commit('selectFeature', feature);\r\n    },\r\n\r\n    setImageInstance({commit}) {\r\n      commit('clearSelectedFeatures');\r\n    },\r\n\r\n    setActiveSlice({commit}) {\r\n      commit('clearSelectedFeatures');\r\n    },\r\n\r\n    setActiveSlices({commit}) {\r\n      commit('clearSelectedFeatures');\r\n    },\r\n  },\r\n\r\n  getters: {\r\n    selectedFeature: state => {\r\n      if(state.selectedFeatures.length === 1) {\r\n        return state.selectedFeatures[0];\r\n      }\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {createColorStyle, createColorLineStyle, changeOpacity, createStrokeStyle, createLineStrokeStyle} from '@/utils/style-utils.js';\r\n\r\nlet initialTermsOpacity = 1;\r\nlet initialTracksOpacity = 1;\r\nlet initialLayersOpacity = 0.5;\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      terms: null,\r\n\r\n      displayNoTerm: true,\r\n      noTermOpacity: initialTermsOpacity,\r\n      noTermStyle: createColorStyle('#fff', initialLayersOpacity*initialTermsOpacity),\r\n\r\n      defaultStyle: createColorStyle('#fff', initialLayersOpacity),\r\n      multipleTermsStyle: createColorStyle('#fff', initialLayersOpacity),\r\n\r\n      layersOpacity: initialLayersOpacity,\r\n\r\n      wrappedTracks: null,\r\n      multipleTracksStyle: createStrokeStyle('#fff', initialLayersOpacity)\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    addTerm(state, term) {\r\n      state.terms.push(formatTerm(term, state.layersOpacity));\r\n    },\r\n\r\n    setTerms(state, terms) {\r\n      state.terms = terms;\r\n    },\r\n\r\n    setWrappedTracks(state, tracks) {\r\n      state.wrappedTracks = formatTracks(tracks, state.layersOpacity, state.wrappedTracks || []);\r\n    },\r\n\r\n    toggleTermVisibility(state, indexTerm) {\r\n      let term = state.terms[indexTerm];\r\n      term.visible = !term.visible;\r\n    },\r\n\r\n    setDisplayNoTerm(state, value) {\r\n      state.displayNoTerm = value;\r\n    },\r\n\r\n    setTermOpacity(state, {indexTerm, opacity}) {\r\n      let term = state.terms[indexTerm];\r\n      term.opacity = opacity;\r\n      changeOpacity(term.olStyle, state.layersOpacity*opacity);\r\n      changeOpacity(term.olLineStyle, state.layersOpacity*opacity);\r\n    },\r\n\r\n    setNoTermOpacity(state, opacity) {\r\n      state.noTermOpacity = opacity;\r\n      changeOpacity(state.noTermStyle, state.layersOpacity*opacity);\r\n    },\r\n\r\n    resetTermOpacities(state) {\r\n      state.terms.forEach(term => {\r\n        term.opacity = initialTermsOpacity;\r\n        changeOpacity(term.olStyle, state.layersOpacity*initialTermsOpacity);\r\n        changeOpacity(term.olLineStyle, state.layersOpacity*initialTermsOpacity);\r\n      });\r\n      state.noTermOpacity = initialTermsOpacity;\r\n      changeOpacity(state.noTermStyle, state.layersOpacity*state.noTermOpacity);\r\n    },\r\n\r\n    setLayersOpacity(state, opacity) {\r\n      state.layersOpacity = opacity;\r\n      if(state.terms) {\r\n        state.terms.forEach(term => {\r\n          changeOpacity(term.olStyle, opacity*term.opacity);\r\n          changeOpacity(term.olLineStyle, opacity*term.opacity);\r\n        });\r\n      }\r\n      changeOpacity(state.noTermStyle, opacity*state.noTermOpacity);\r\n      changeOpacity(state.multipleTermsStyle, opacity);\r\n      changeOpacity(state.defaultStyle, opacity);\r\n      if(state.wrappedTracks) {\r\n        state.wrappedTracks.forEach(track => {\r\n          changeOpacity(track.olStyle, opacity*track.opacity);\r\n          changeOpacity(track.olLineStyle, opacity*track.opacity);\r\n        });\r\n      }\r\n      changeOpacity(state.multipleTracksStyle, opacity);\r\n    },\r\n  },\r\n\r\n  actions: {\r\n    initialize({commit, getters, rootGetters}) {\r\n      let terms = formatTerms(rootGetters['currentProject/terms'], initialLayersOpacity);\r\n      commit('setTerms', terms);\r\n\r\n      let tracks = formatTracks(getters.tracks, initialLayersOpacity);\r\n      commit('setWrappedTracks', tracks);\r\n    },\r\n\r\n    toggleTermVisibility({state, commit}, indexTerm) {\r\n      commit('toggleTermVisibility', indexTerm);\r\n      let toggledTerm = state.terms[indexTerm];\r\n      if(!toggledTerm.visible) {\r\n        commit('removeTermFromSelectedFeatures', {idTerm: toggledTerm.id, terms: state.terms});\r\n      }\r\n    },\r\n\r\n    setDisplayNoTerm({commit}, value) {\r\n      commit('setDisplayNoTerm', value);\r\n      if(!value) {\r\n        commit('removeNoTermFromSelectedFeatures');\r\n      }\r\n    },\r\n\r\n    async refreshData({state, commit, getters, rootGetters}) {\r\n      let terms = formatTerms(rootGetters['currentProject/terms'], state.layersOpacity, state.terms);\r\n      commit('setTerms', terms);\r\n\r\n      let tracks = formatTracks(getters.tracks, state.layersOpacity, state.terms);\r\n      commit('setWrappedTracks', tracks);\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    termsMapping: state => {\r\n      if(!state.terms) {\r\n        return {};\r\n      }\r\n\r\n      return state.terms.reduce((mapping, term) => {\r\n        mapping[term.id] = term;\r\n        return mapping;\r\n      }, {});\r\n    },\r\n    tracksMapping: state => {\r\n      if(!state.wrappedTracks) {\r\n        return {};\r\n      }\r\n\r\n      return state.wrappedTracks.reduce((mapping, track) => {\r\n        mapping[track.id] = track;\r\n        return mapping;\r\n      }, {});\r\n    },\r\n    wrappedTracks: state => state.wrappedTracks,\r\n    hiddenTermsIds: state => {\r\n      if (!state.terms) {\r\n        return [];\r\n      }\r\n\r\n      let list = state.terms.filter(term => !term.visible).map(term => term.id);\r\n      if (!state.displayNoTerm)\r\n        list.push(0);\r\n      return list || [];\r\n    },\r\n  }\r\n};\r\n\r\n\r\nfunction formatTerms(terms, layersOpacity, previousTerms=[]) {\r\n  if(!terms) {\r\n    return;\r\n  }\r\n\r\n  let result = [];\r\n  let nbTerms = terms.length;\r\n  for(let i = 0; i < nbTerms; i++) {\r\n    let term = terms[i];\r\n    let prevTerm = previousTerms.find(prevTerm => prevTerm.id === term.id);\r\n    result.push(prevTerm ? prevTerm : formatTerm(term, layersOpacity));\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction formatTerm(term, layersOpacity) {\r\n  let result = {id: term.id};\r\n  result.opacity = initialTermsOpacity;\r\n  result.olStyle = createColorStyle(term.color, initialTermsOpacity*layersOpacity);\r\n  result.olLineStyle = createColorLineStyle(term.color, initialTermsOpacity*layersOpacity);\r\n  result.visible = true;\r\n  result.color = term.color;\r\n  return result;\r\n}\r\n\r\nfunction formatTracks(tracks, layersOpacity, previousTracks=[]) {\r\n  if(!tracks) {\r\n    return;\r\n  }\r\n\r\n  let result = [];\r\n  let nbTracks = tracks.length;\r\n  for(let i = 0; i < nbTracks; i++) {\r\n    let track = tracks[i];\r\n    let prevTrack = previousTracks.find(prevTrack => prevTrack.id === track.id && prevTrack.color === track.color);\r\n    result.push(prevTrack ? prevTrack : formatTrack(track, layersOpacity));\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction formatTrack(track, layersOpacity) {\r\n  let result = {id: track.id};\r\n  result.opacity = initialTracksOpacity;\r\n  result.olStyle = createStrokeStyle(track.color, initialTracksOpacity*layersOpacity);\r\n  result.olLineStyle = createLineStrokeStyle(track.color, initialTracksOpacity*layersOpacity);\r\n  result.color = track.color;\r\n  return result;\r\n}\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      broadcast: false,\r\n      trackedUser: null\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setBroadcast(state, value) {\r\n      state.broadcast = value;\r\n    },\r\n\r\n    setTrackedUser(state, idUser) {\r\n      state.trackedUser = idUser;\r\n    },\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {Cytomine} from 'cytomine-client';\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      actions: [],\r\n      undoneActions: []\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    resetActions(state) {\r\n      state.actions = [];\r\n      state.undoneActions = [];\r\n    },\r\n\r\n    addAction(state, {annot, type}) {\r\n      let action = {annot, type, command: Cytomine.instance.lastCommand};\r\n      state.actions.push(action);\r\n      state.undoneActions = [];\r\n    },\r\n\r\n    undoAction(state, opposedAction) {\r\n      state.actions.pop();\r\n      state.undoneActions.push(opposedAction);\r\n    },\r\n\r\n    redoAction(state, opposedAction) {\r\n      state.undoneActions.pop();\r\n      state.actions.push(opposedAction);\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    setImageInstance({commit}) {\r\n      commit('resetActions');\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      zoom: null, // will be initialized to appropriate value (depending on container size) in CytomineImage\r\n      center: [0, 0],\r\n      rotation: 0,\r\n      digitalZoom: true,\r\n      overviewCollapsed: false\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setCenter(state, center) {\r\n      state.center = center;\r\n    },\r\n\r\n    setZoom(state, zoom) {\r\n      state.zoom = zoom;\r\n    },\r\n\r\n    setRotation(state, rotation) {\r\n      state.rotation = rotation;\r\n    },\r\n\r\n    setDigitalZoom(state, digitalZoom) {\r\n      state.digitalZoom = digitalZoom;\r\n    },\r\n\r\n    setOverviewCollapsed(state, value) {\r\n      state.overviewCollapsed = value;\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    async initialize({commit}, {image}) {\r\n      commit('setCenter', [image.width/2, image.height/2]);\r\n    },\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      reviewMode: false\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setReviewMode(state, value) {\r\n      state.reviewMode = value;\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    setImageInstance({commit}) { // when image is changed, reset reviewMode value\r\n      commit('setReviewMode', false);\r\n    },\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {TrackCollection} from 'cytomine-client';\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      idImage: 0,\r\n      tracks: [],\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setIdImage(state, id) {\r\n      state.idImage = id;\r\n    },\r\n\r\n    setTracks(state, keys) {\r\n      state.tracks = keys;\r\n    },\r\n  },\r\n\r\n  actions: {\r\n    async initialize({commit}, {image}) {\r\n      commit('setIdImage', image.id);\r\n\r\n      let [tracks] = await Promise.all([\r\n        fetchTracks(image.id)\r\n      ]);\r\n\r\n      commit('setTracks', tracks);\r\n      commit('setWrappedTracks', tracks);\r\n    },\r\n\r\n    async setImageInstance({commit, dispatch}, {image}) {\r\n      commit('setIdImage', image.id);\r\n      await dispatch('refreshTracks');\r\n    },\r\n\r\n    async refreshTracks({state, commit}) {\r\n      let tracks = await fetchTracks(state.idImage);\r\n      commit('filterTracksNewAnnots', tracks || []);\r\n      commit('setTracks', tracks);\r\n      commit('setWrappedTracks', tracks);\r\n    },\r\n\r\n    async refreshData({dispatch}) {\r\n      await dispatch('refreshTracks');\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    tracks: state => state.tracks\r\n  }\r\n};\r\n\r\nasync function fetchTracks(idImage) {\r\n  let data = (await TrackCollection.fetchAll({filterKey: 'imageinstance', filterValue: idImage})).array;\r\n  return data;\r\n}\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport Vue from 'vue';\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      open: false,\r\n      currentPages: {} // mapping of type {idProp: currentPage}\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setShowAnnotationsList(state, value) {\r\n      state.open = value;\r\n    },\r\n    setCurrentPage(state, {prop, page}) {\r\n      Vue.set(state.currentPages, prop, page);\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport constants from '@/utils/constants';\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      step: {\r\n        channel: constants.DEFAULT_IMAGE_CONTROLS_STEP,\r\n        zStack: constants.DEFAULT_IMAGE_CONTROLS_STEP,\r\n        time: constants.DEFAULT_IMAGE_CONTROLS_STEP,\r\n      }\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setStep(state, {dimension, value}) {\r\n      state.step[dimension] = value;\r\n    }\r\n  },\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {ImageInstance, AnnotationType, SliceInstanceCollection, SliceInstance, CompanionFileCollection} from 'cytomine-client';\r\n\r\nimport constants from '@/utils/constants';\r\nimport {slicePositionToRank} from '@/utils/slice-utils';\r\n\r\nimport colors from './image_modules/colors';\r\nimport draw from './image_modules/draw';\r\nimport layers from './image_modules/layers';\r\nimport properties from './image_modules/properties';\r\nimport selectedFeatures from './image_modules/selected-features';\r\nimport style from './image_modules/style';\r\nimport tracking from './image_modules/tracking';\r\nimport undoRedo from './image_modules/undo-redo';\r\nimport view from './image_modules/view';\r\nimport review from './image_modules/review';\r\nimport tracks from './image_modules/tracks';\r\nimport annotationsList from './image_modules/annotations-list';\r\nimport controls from './image_modules/controls';\r\n\r\nimport _ from 'lodash';\r\n\r\nimport {\r\n  isCluster,\r\n  createTextStyle,\r\n  selectStyles,\r\n  verticesStyle,\r\n  reviewedStyles,\r\n  reviewedSelectStyles,\r\n  rejectedStyles,\r\n  rejectedSelectStyles,\r\n  trackedSelectStyles\r\n} from '@/utils/style-utils.js';\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state() {\r\n    return {\r\n      imageInstance: null,\r\n      profile: null,\r\n      sliceInstances: {},\r\n      loadedSlicePages: [],\r\n      activeSlices: null,\r\n      activePanel: null,\r\n      routedAnnotation: null\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setImageInstance(state, image) {\r\n      state.imageInstance = image;\r\n    },\r\n\r\n    setResolution(state, resolution) {\r\n      state.imageInstance.physicalSizeX = resolution.x;\r\n      state.imageInstance.physicalSizeY = resolution.y;\r\n      state.imageInstance.physicalSizeZ = resolution.z;\r\n      state.imageInstance.fps = resolution.t;\r\n    },\r\n\r\n    togglePanel(state, panel) {\r\n      state.activePanel = state.activePanel === panel ? null : panel;\r\n    },\r\n\r\n    clearSliceInstances(state) {\r\n      state.sliceInstances = {};\r\n      state.loadedSlicePages = [];\r\n    },\r\n\r\n    setSliceInstances(state, slices) {\r\n      state.sliceInstances = Object.assign(\r\n        {}, state.sliceInstances, slices.reduce((acc, v) => ({ ...acc, [v.rank]: v}), {})\r\n      );\r\n    },\r\n\r\n    setLoadedSlicePage(state, page) {\r\n      state.loadedSlicePages.push(page);\r\n    },\r\n\r\n    setActiveSlice(state, slice) {\r\n      state.activeSlices = [slice];\r\n    },\r\n\r\n    setActiveSlices(state, slices) {\r\n      state.activeSlices = slices;\r\n    },\r\n\r\n    setProfile(state, profile) {\r\n      state.profile = profile;\r\n    },\r\n\r\n    setRoutedAnnotation(state, annotation) {\r\n      state.routedAnnotation = annotation;\r\n    },\r\n    clearRoutedAnnotation(state) {\r\n      state.routedAnnotation = null;\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    async initialize({commit, dispatch}, {image, slices}) {\r\n      let clone = image.clone();\r\n      commit('setImageInstance', clone);\r\n\r\n      clone = _.cloneDeep(slices);\r\n      commit('setActiveSlices', clone);\r\n\r\n      await dispatch('fetchSliceInstancesAround', {rank: clone[0].rank});\r\n    },\r\n    async setImageInstance({dispatch, rootState}, {image, slices}) {\r\n      await dispatch('initialize', {image, slices});\r\n      let idProject = rootState.currentProject.project.id;\r\n      let idViewer = rootState.currentProject.currentViewer;\r\n      dispatch(`projects/${idProject}/viewers/${idViewer}/changePath`, null, {root: true});\r\n    },\r\n\r\n    async setActiveSlice({commit, dispatch, rootState}, slice) {\r\n      let idProject = rootState.currentProject.project.id;\r\n      let idViewer = rootState.currentProject.currentViewer;\r\n      commit('setActiveSlice', slice);\r\n      dispatch(`projects/${idProject}/viewers/${idViewer}/changePath`, null, {root: true});\r\n      await dispatch('fetchSliceInstancesAround', {rank: slice.rank});\r\n    },\r\n    async setActiveSliceByPosition({state, dispatch}, {channel, zStack, time}) {\r\n      let rank = slicePositionToRank({channel, zStack, time}, state.imageInstance);\r\n      await dispatch('setActiveSliceByRank', rank);\r\n    },\r\n    async setActiveSlicesByPosition({state, dispatch}, {channels, zStack, time}) {\r\n      let ranks = channels.map(channel => slicePositionToRank({channel, zStack, time}, state.imageInstance));\r\n      await dispatch('setActiveSlicesByRank', ranks);\r\n    },\r\n    async addActiveSliceChannel({state, dispatch}, {channel}) {\r\n      let activeSlice = state.activeSlices[0];\r\n      let ranks = state.activeSlices.map(s => s.rank);\r\n      ranks.push(slicePositionToRank({\r\n        channel, zStack: activeSlice.zStack, time: activeSlice.time\r\n      }, state.imageInstance));\r\n      await dispatch('setActiveSlicesByRank', ranks);\r\n    },\r\n    async removeActiveSliceChannel({state, dispatch}, {channel}) {\r\n      let channels = state.activeSlices.map(s => s.channel).filter(c => c !== channel);\r\n      let activeSlice = state.activeSlices[0];\r\n      let ranks = channels.map(channel => slicePositionToRank({\r\n        channel, zStack: activeSlice.zStack, time: activeSlice.time\r\n      }, state.imageInstance));\r\n      await dispatch('setActiveSlicesByRank', ranks);\r\n    },\r\n    async setActiveSliceByRank({state, commit, dispatch, rootState}, rank) {\r\n      let slice = state.sliceInstances[rank];\r\n      if (!slice) {\r\n        await dispatch('fetchSliceInstancesAround', {rank, setActive: true});\r\n      }\r\n      else {\r\n        commit('setActiveSlice', slice);\r\n      }\r\n\r\n      let idProject = rootState.currentProject.project.id;\r\n      let idViewer = rootState.currentProject.currentViewer;\r\n      dispatch(`projects/${idProject}/viewers/${idViewer}/changePath`, null, {root: true});\r\n    },\r\n    async setActiveSlicesByRank({state, commit, dispatch, rootState}, ranks) {\r\n      let slices = await Promise.all(ranks.map(async rank => {\r\n        let slice = state.sliceInstances[rank];\r\n        if (!slice) {\r\n          await dispatch('fetchSliceInstancesAround', {rank, setActive: false});\r\n          slice = state.sliceInstances[rank];\r\n        }\r\n        return slice;\r\n      }));\r\n      commit('setActiveSlices', slices);\r\n\r\n      let idProject = rootState.currentProject.project.id;\r\n      let idViewer = rootState.currentProject.currentViewer;\r\n      dispatch(`projects/${idProject}/viewers/${idViewer}/changePath`, null, {root: true});\r\n    },\r\n\r\n    async refreshData({state, commit, dispatch}) {\r\n      await Promise.all([\r\n        ImageInstance.fetch(state.imageInstance.id).then(\r\n          image => commit('setImageInstance', image)\r\n        ),\r\n        Promise.all(state.activeSlices.map(async slice => await SliceInstance.fetch(slice.id))).then(\r\n          slices => commit('setActiveSlices', slices)\r\n        )\r\n      ]);\r\n\r\n      commit('clearSliceInstances');\r\n      await dispatch('fetchSliceInstancesAround', {rank: state.activeSlices[0].rank});\r\n    },\r\n\r\n    async fetchSliceInstancesAround({state, commit}, {rank, setActive = false}) {\r\n      let promises = [];\r\n      let props = {filterKey: 'imageinstance', filterValue: state.imageInstance.id, max: constants.PRELOADED_SLICES};\r\n\r\n      let page = findRankPage(rank);\r\n      if (!state.loadedSlicePages.includes(page)) {\r\n        promises.push(new SliceInstanceCollection(props).fetchPage(page).then(data => {\r\n          commit('setSliceInstances', data.array);\r\n          if (setActive) {\r\n            let active = data.array.find(slice => slice.rank === rank);\r\n            if (active) {\r\n              commit('setActiveSlice', active);\r\n            }\r\n          }\r\n        }).then(() => commit('setLoadedSlicePage', page)));\r\n      }\r\n\r\n      let previous = page - 1;\r\n      if (previous >= 0 && !state.loadedSlicePages.includes(previous)) {\r\n        promises.push(new SliceInstanceCollection(props).fetchPage(previous).then(data => {\r\n          commit('setSliceInstances', data.array);\r\n        }).then(() => commit('setLoadedSlicePage', previous)));\r\n      }\r\n\r\n      let next = page + 1;\r\n      if (next < findSliceInstanceNbPage(state.imageInstance) && !state.loadedSlicePages.includes(previous)) {\r\n        promises.push(new SliceInstanceCollection(props).fetchPage(next).then(data => {\r\n          commit('setSliceInstances', data.array);\r\n        }).then(() => commit('setLoadedSlicePage', next)));\r\n      }\r\n\r\n      await Promise.all(promises);\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    genStyleFunction: (state, getters) => (feature) => {\r\n      let annot = feature.get('annot');\r\n      if(!annot) {\r\n        return;\r\n      }\r\n\r\n      // QUESTION: what to do with clusters (returned count does not take into account the selected terms) ?\r\n      // Possible solutions:\r\n      // 1. in backend, for clusters, send array with composition of cluster (x for term 1, y for term 2, z for term1-2)\r\n      // 2. force source refresh every time the list of terms to display is updated\r\n      // 3. add parameter allowing to provide the terms to take into account in kmeans (but only for kmeans)\r\n      if(isCluster(feature)) {\r\n        return [state.style.defaultStyle, createTextStyle(annot.count.toString())];\r\n      }\r\n\r\n      let styles = [];\r\n\r\n      let nbTerms = annot.term.length;\r\n      let terms = state.style.terms;\r\n\r\n      if(terms && nbTerms === 1) {\r\n        let wrappedTerm = getters.termsMapping[annot.term[0]];\r\n        if(wrappedTerm) {\r\n          if(!wrappedTerm.visible) {\r\n            return; // do not display annot\r\n          }\r\n          if(feature.getGeometry().getType() === 'LineString') {\r\n            styles.push(wrappedTerm.olLineStyle);\r\n          }\r\n          else {\r\n            styles.push(wrappedTerm.olStyle);\r\n          }\r\n        }\r\n        else {\r\n          styles.push(state.style.noTermStyle); // could not find term => display no term style\r\n        }\r\n      }\r\n      else if(terms && nbTerms > 1) {\r\n        let hasTermsToDisplay = terms.some(term => term.visible && annot.term.includes(term.id));\r\n        if(!hasTermsToDisplay) {\r\n          return; // do not display\r\n        }\r\n        styles.push(state.style.multipleTermsStyle);\r\n      }\r\n      else {\r\n        if(!state.style.displayNoTerm) {\r\n          return; // do not display annot\r\n        }\r\n        styles.push(state.style.noTermStyle);\r\n      }\r\n\r\n      let nbTracks = annot.track ? annot.track.length : 0;\r\n      let isReviewed = annot.type === AnnotationType.REVIEWED;\r\n      let isRejected = state.review.reviewMode && !isReviewed;\r\n\r\n      // Styles for selected elements\r\n      if(state.selectedFeatures.selectedFeatures.map(ftr => ftr.id).includes(feature.getId())) {\r\n        styles.push(...(isReviewed ? reviewedSelectStyles : isRejected ? rejectedSelectStyles : (nbTracks > 0) ? trackedSelectStyles : selectStyles));\r\n\r\n        // if in modify mode, display vertices\r\n        if(state.draw.activeEditTool === 'modify') {\r\n          styles.push(verticesStyle);\r\n        }\r\n      }\r\n      else if(isReviewed) {\r\n        styles.push(...reviewedStyles);\r\n      }\r\n      else if(isRejected) {\r\n        styles.push(...rejectedStyles);\r\n      }\r\n\r\n      let tracks = state.style.wrappedTracks;\r\n\r\n      if (tracks && nbTracks === 1) {\r\n        let wrappedTrack = getters.tracksMapping[annot.track[0]];\r\n        if(wrappedTrack) {\r\n          if(feature.getGeometry().getType() === 'LineString') {\r\n            styles.unshift(wrappedTrack.olLineStyle);\r\n          }\r\n          else {\r\n            styles.push(wrappedTrack.olStyle);\r\n          }\r\n        }\r\n      }\r\n      else if (tracks && nbTracks > 1) {\r\n        styles.push(state.style.multipleTracksStyle);\r\n      }\r\n\r\n      // Properties\r\n      let propValue = state.properties.selectedPropertyValues[annot.id];\r\n      if (propValue) {\r\n        let color = state.properties.selectedPropertyColor;\r\n        let fontSize = '34px';\r\n        if(state.view.zoom <= 3) {\r\n          fontSize = '12px';\r\n        }\r\n        else if(state.view.zoom <= 6) {\r\n          fontSize = '19px';\r\n        }\r\n        else if(state.view.zoom <= 8) {\r\n          fontSize = '26px';\r\n        }\r\n        styles.push(createTextStyle(propValue, fontSize, color.fill, null));\r\n      }\r\n\r\n      return styles;\r\n    },\r\n\r\n    maxZoom: state => {\r\n      if(!state.imageInstance) {\r\n        return 0;\r\n      }\r\n      let increment = state.view.digitalZoom ? constants.DIGITAL_ZOOM_INCREMENT : 0;\r\n      return state.imageInstance.zoom + increment;\r\n    },\r\n\r\n    maxRank: state => {\r\n      if(!state.imageInstance) {\r\n        return 0;\r\n      }\r\n\r\n      return state.imageInstance.depth * state.imageInstance.duration * state.imageInstance.channels;\r\n    },\r\n\r\n    channels: state => {\r\n      return _.orderBy(Object.values(_.groupBy(state.sliceInstances, 'channel')).map(slices => {\r\n        return {\r\n          index: slices[0].channel,\r\n          name: slices[0].channelName,\r\n          color: slices[0].channelColor\r\n        };\r\n      }), 'index');\r\n    }\r\n  },\r\n\r\n  modules: {\r\n    colors,\r\n    draw,\r\n    layers,\r\n    properties,\r\n    selectedFeatures,\r\n    style,\r\n    tracking,\r\n    undoRedo,\r\n    view,\r\n    review,\r\n    tracks,\r\n    annotationsList,\r\n    controls\r\n  }\r\n};\r\n\r\nfunction findRankPage(rank) {\r\n  return Math.ceil((rank + 1) / constants.PRELOADED_SLICES) - 1;\r\n}\r\n\r\nfunction findSliceInstanceNbPage(image) {\r\n  return Math.ceil(image.depth * image.duration * image.channels / constants.PRELOADED_SLICES);\r\n}\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport router from '@/routes';\r\nimport {getModuleNamespace} from '@/store/store';\r\nimport imageModule from './viewer_modules/image';\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state() {\r\n    return {\r\n      links: [],\r\n      linkMode: 'ABSOLUTE',\r\n      imageSelector: false,\r\n      activeImage: 0,\r\n      indexNextImage: 0,\r\n\r\n      copiedAnnot: null\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setImageSelector(state, value) {\r\n      state.imageSelector = value;\r\n    },\r\n\r\n    addImage(state) {\r\n      state.imageSelector = false;\r\n      state.activeImage = state.indexNextImage;\r\n      state.indexNextImage++;\r\n    },\r\n\r\n    setActiveImage(state, index) {\r\n      state.activeImage = index;\r\n    },\r\n\r\n    setCopiedAnnot(state, annot) {\r\n      state.copiedAnnot = annot;\r\n    },\r\n\r\n    setLinkMode(state, mode) {\r\n      state.linkMode = mode;\r\n    },\r\n\r\n    // ----- View links\r\n\r\n    createLinkGroup(state, indexes) {\r\n      state.links.push(indexes);\r\n    },\r\n\r\n    linkImageToGroup(state, {indexGroup, indexImage}) {\r\n      state.links[indexGroup].push(indexImage);\r\n    },\r\n\r\n\r\n    mergeLinkGroups(state, indexes) {\r\n      state.links[indexes[0]].push(...state.links[indexes[1]]);\r\n      state.links.splice(indexes[1], 1);\r\n    },\r\n\r\n    unlinkImage(state, {indexGroup, indexImage}) {\r\n      let links = state.links;\r\n      if(!indexGroup) { // if group not specified, find the group of the provided image\r\n        indexGroup = links.findIndex(group => group.includes(indexImage));\r\n        if(indexGroup === -1) {\r\n          return;\r\n        }\r\n      }\r\n\r\n      let group = links[indexGroup];\r\n      let indexWithinGroup = group.findIndex(idx => idx === indexImage);\r\n      group.splice(indexWithinGroup, 1);\r\n      if(group.length === 1) { // if group no longer contains several images, delete it\r\n        links.splice(indexGroup, 1);\r\n      }\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    changePath({getters}) {\r\n      let idAnnotation = router.currentRoute.params.idAnnotation;\r\n      let action = router.currentRoute.query.action;\r\n      router.replace(getters.pathViewer({idAnnotation, action}));\r\n    },\r\n\r\n    async addImage({state, commit, getters, dispatch}, {image, slices, annot=null}) {\r\n      let index = state.indexNextImage;\r\n      commit('addImage');\r\n      this.registerModule(getters.pathImageModule(index), imageModule);\r\n      if (annot) {\r\n        commit(`images/${index}/setRoutedAnnotation`, annot);\r\n      }\r\n      await dispatch(`images/${index}/initialize`, {image, slices});\r\n      dispatch('changePath');\r\n    },\r\n\r\n    setImageResolution({state, commit}, {idImage, resolution}) {\r\n      for(let index in state.images) {\r\n        let image = state.images[index].imageInstance;\r\n        if(image && image.id === idImage) {\r\n          commit(`images/${index}/setResolution`, resolution);\r\n        }\r\n      }\r\n    },\r\n\r\n    addTerm({state, commit}, term) { // add term to all image wrappers (as all images belong to same project)\r\n      for(let index in state.images) {\r\n        commit(`images/${index}/addTerm`, term);\r\n      }\r\n    },\r\n\r\n    refreshTracks({state, dispatch}, {idImage}) {\r\n      for(let index in state.images) {\r\n        let image = state.images[index].imageInstance;\r\n        if(image && image.id === idImage) {\r\n          dispatch(`images/${index}/refreshTracks`);\r\n        }\r\n      }\r\n    },\r\n\r\n    setCenter({state, getters, commit}, {index, center}) {\r\n      let relative = state.linkMode === 'RELATIVE';\r\n      let refImage = state.images[index];\r\n      let increments = refImage.view.center.map((val, i) => center[i] - val);\r\n      let refZoom = refImage.imageInstance.zoom - refImage.view.zoom;\r\n\r\n      let indexesToUpdate = getters.getLinkedIndexes(index);\r\n      indexesToUpdate.forEach(idx => {\r\n        let newCenter = center;\r\n        if (relative) {\r\n          let image = state.images[idx];\r\n          let diffZoom = image.imageInstance.zoom - image.view.zoom - refZoom;\r\n          let zoomFactor = Math.pow(2, diffZoom);\r\n          newCenter = image.view.center.map((val, i) => val + increments[i]*zoomFactor);\r\n        }\r\n        commit(`images/${idx}/setCenter`, newCenter);\r\n      });\r\n    },\r\n\r\n    setZoom({state, getters, commit}, {index, zoom}) {\r\n      let relative = state.linkMode === 'RELATIVE';\r\n      let zoomIncrement = zoom - state.images[index].view.zoom;\r\n      let indexesToUpdate = getters.getLinkedIndexes(index);\r\n      indexesToUpdate.forEach(idx => {\r\n        let newZoom = (relative) ? (state.images[idx].view.zoom + zoomIncrement) : zoom;\r\n        commit(`images/${idx}/setZoom`, newZoom);\r\n      });\r\n    },\r\n\r\n    setRotation({state, getters, commit}, {index, rotation}) {\r\n      let relative = state.linkMode === 'RELATIVE';\r\n      let rotationInc = rotation - state.images[index].view.rotation + 2*Math.PI;\r\n      let indexesToUpdate = getters.getLinkedIndexes(index);\r\n      indexesToUpdate.forEach(idx => {\r\n        let newRotation = (relative) ? (state.images[idx].view.rotation + rotationInc) % (2*Math.PI) : rotation;\r\n        commit(`images/${idx}/setRotation`, newRotation);\r\n      });\r\n    },\r\n\r\n    async refreshData({state, dispatch}) {\r\n      await Promise.all(Object.keys(state.images).map(async index => {\r\n        await dispatch(`images/${index}/refreshData`);\r\n      }));\r\n      dispatch('changePath');\r\n    },\r\n\r\n    removeImage({commit, getters, dispatch}, index) {\r\n      commit('unlinkImage', {indexImage: index});\r\n      this.unregisterModule(getters.pathImageModule(index), imageModule);\r\n      dispatch('changePath');\r\n    },\r\n  },\r\n\r\n  getters: {\r\n    pathModule: state => {\r\n      return getModuleNamespace(state);\r\n    },\r\n\r\n    pathImageModule: (_, getters) => index => {\r\n      return [...getters.pathModule, 'images', index];\r\n    },\r\n\r\n    pathViewer: (state, getters) => ({idAnnotation, action}={}) => {\r\n      // module path = ['projects', idProject, 'viewers', idViewer]\r\n      let idProject = getters.pathModule[1];\r\n      let idViewer = getters.pathModule[3];\r\n      // ---\r\n      let imagesIds = Object.values(state.images).map(img =>\r\n        img.imageInstance ? img.imageInstance.id : 0\r\n      );\r\n      let slicesIds = Object.values(state.images).map(img => {\r\n        if (img.activeSlices && img.activeSlices.length > 0) {\r\n          return img.activeSlices.map(slice => slice.id).join(':');\r\n        }\r\n        return 0;\r\n      });\r\n      let annot = idAnnotation ? `/annotation/${idAnnotation}` : '';\r\n      let actionStr = action ? '&action=' + action : '';\r\n      return `/project/${idProject}/image/${imagesIds.join('-')}/slice/${slicesIds.join('-')}${annot}?viewer=${idViewer}${actionStr}`;\r\n    },\r\n\r\n    getLinkedIndexes: state => index => { // find all indexes linked to provided index (if image is not linked, return only its index)\r\n      return state.links.find(group => group.includes(index)) || [index];\r\n    }\r\n  },\r\n\r\n  modules: {\r\n    images: {\r\n      namespaced: true\r\n    }\r\n  }\r\n};\r\n","const {detect} = require('detect-browser');\r\nconst browser = detect();\r\nconst shortkey = (browser && browser.os === 'Mac OS') ? 'meta' : 'ctrl';\r\n\r\n// Key list reference: https://github.com/iFgR/vue-shortkey#key-list\r\nexport default Object.freeze({\r\n  'general-close-modal': ['esc'], // Handled by Bulma\r\n  'general-shortcuts-modal': ['shift', '?'],\r\n  // 'navbar-dashboard': ['g', 'd'],\r\n  // 'navbar-projects': ['g', 'p'],\r\n  // 'navbar-ontologies': ['g', 'o'],\r\n  // 'navbar-storage': ['g', 's'],\r\n  // 'navbar-algorithms': ['g', 'a'],\r\n  // 'navbar-user': ['g', 'u'],\r\n  // 'navbar-help': ['g', 'h'],\r\n  // 'navbar-admin': ['g', 'z'],\r\n  // 'project-images': [],\r\n  // 'project-annotations': [],\r\n  // 'project-jobs': [],\r\n  // 'project-activities': [],\r\n  // 'project-information': [],\r\n  // 'project-configuration': [],\r\n  'viewer-nav-zoom-in': ['+'], // Handled by Openlayers KeyboardZoom\r\n  'viewer-nav-zoom-out': ['-'], // Handled by Openlayers KeyboardZoom\r\n  'viewer-nav-move-up': ['arrowup'], // Handled by Openlayers KeyboardPan\r\n  'viewer-nav-move-down': ['arrowdown'], // Handled by Openlayers KeyboardPan\r\n  'viewer-nav-move-left': ['arrowleft'], // Handled by Openlayers KeyboardPan\r\n  'viewer-nav-move-right': ['arrowright'], // Handled by Openlayers KeyboardPan\r\n  'viewer-nav-next-image': ['shift', 'arrowright'],\r\n  'viewer-nav-previous-image': ['shift', 'arrowleft'],\r\n  'viewer-nav-next-t': ['pageup'],\r\n  'viewer-nav-previous-t': ['pagedown'],\r\n  'viewer-nav-first-t': ['home'],\r\n  'viewer-nav-last-t': ['end'],\r\n  'viewer-nav-next-c': ['alt', 'pageup'],\r\n  'viewer-nav-previous-c': ['alt', 'pagedown'],\r\n  'viewer-nav-first-c': ['alt', 'home'],\r\n  'viewer-nav-last-c': ['alt', 'end'],\r\n  'viewer-nav-next-z': ['shift', 'pageup'],\r\n  'viewer-nav-previous-z': ['shift', 'pagedown'],\r\n  'viewer-nav-first-z': ['shift', 'home'],\r\n  'viewer-nav-last-z': ['shift', 'end'],\r\n  'viewer-nav-next-slice': ['alt', 'shift', 'pageup'],\r\n  'viewer-nav-previous-slice': ['alt', 'shift', 'pagedown'],\r\n  'viewer-nav-first-slice': ['alt', 'shift', 'home'],\r\n  'viewer-nav-last-slice': ['alt', 'shift', 'end'],\r\n  'viewer-nav-drag-rotate': ['alt', 'shift', 'drag'], // Handled by Openlayers\r\n  'viewer-nav-drag-zoom': ['shift', 'drag'], // Handled by Openlayers\r\n  'viewer-tool-select': ['s'],\r\n  'viewer-tool-point': ['o'],\r\n  'viewer-tool-line': ['l'],\r\n  'viewer-tool-freehand-line': ['shift', 'l'],\r\n  'viewer-tool-rectangle': ['r'],\r\n  'viewer-tool-circle': ['c'],\r\n  'viewer-tool-polygon': ['p'],\r\n  'viewer-tool-freehand-polygon': ['shift', 'p'],\r\n  'viewer-tool-screenshot': ['shift', 's'],\r\n  'viewer-tool-fill': ['f'],\r\n  'viewer-tool-correct-add': ['shift', 'c'],\r\n  'viewer-tool-correct-remove': ['alt', 'shift', 'c'],\r\n  'viewer-tool-modify': ['m'],\r\n  'viewer-tool-modify-delete-vertex': ['ctrl', 'click'], // Handled by Openlayers\r\n  'viewer-tool-rescale': ['shift', 'm'],\r\n  'viewer-tool-move': ['t'],\r\n  'viewer-tool-rotate': ['shift', 't'],\r\n  'viewer-tool-delete': ['del'],\r\n  'viewer-tool-copy': [shortkey, 'c'],\r\n  'viewer-tool-paste': [shortkey, 'v'],\r\n  'viewer-tool-undo': [shortkey, 'z'],\r\n  'viewer-tool-redo': [shortkey, 'y'],\r\n  'viewer-tool-review-accept': ['j'],\r\n  'viewer-tool-review-reject': ['k'],\r\n  'viewer-toggle-review-layer': ['i'],\r\n  'viewer-toggle-all-review-layer': [shortkey, 'i'],\r\n  'viewer-toggle-selected-layers': ['q'],\r\n  'viewer-toggle-all-selected-layers': [shortkey, 'q'],\r\n  // 'viewer-tool-go-to-slice-t': ['g'],\r\n  // 'viewer-tool-go-to-slice-z': ['shift', 'g'],\r\n  // 'viewer-tool-go-to-slice-c': ['alt', 'g'],\r\n  'viewer-toggle-information': ['alt', 'i'],\r\n  'viewer-toggle-all-information': [shortkey, 'alt', 'i'],\r\n  'viewer-toggle-zoom': ['alt', 'z'],\r\n  'viewer-toggle-all-zoom': [shortkey, 'alt', 'z'],\r\n  'viewer-toggle-link': ['alt', 's'],\r\n  'viewer-toggle-all-link': [shortkey, 'alt', 's'],\r\n  'viewer-toggle-filters': ['alt', 'f'],\r\n  'viewer-toggle-all-filters': [shortkey, 'alt', 'f'],\r\n  'viewer-toggle-layers': ['alt', 'l'],\r\n  'viewer-toggle-all-layers': [shortkey, 'alt', 'l'],\r\n  'viewer-toggle-ontology': ['alt', 't'],\r\n  'viewer-toggle-all-ontology': [shortkey, 'alt', 't'],\r\n  'viewer-toggle-properties': ['alt', 'p'],\r\n  'viewer-toggle-all-properties': [shortkey, 'alt', 'p'],\r\n  'viewer-toggle-broadcast': ['alt', 'b'],\r\n  'viewer-toggle-all-broadcast': [shortkey, 'alt', 'b'],\r\n  'viewer-toggle-review': ['alt', 'r'],\r\n  'viewer-toggle-all-review': [shortkey, 'alt', 'r'],\r\n  'viewer-toggle-overview': ['alt', 'o'],\r\n  'viewer-toggle-all-overview': [shortkey, 'alt', 'o'],\r\n  'viewer-toggle-annotations': ['alt', 'a'],\r\n  'viewer-toggle-all-annotations': [shortkey, 'alt', 'a'],\r\n  'viewer-toggle-current': ['alt', 'c'],\r\n  'viewer-toggle-all-current': [shortkey, 'alt', 'c'],\r\n  'viewer-toggle-add-image': ['alt', '+'],\r\n  'text-editor-bold': [shortkey, 'b'], // Handled by Quill editor\r\n  'text-editor-italic': [shortkey, 'i'], // Handled by Quill editor\r\n  'text-editor-underline': [shortkey, 'u'], // Handled by Quill editor\r\n});\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div v-if=\"error\" class=\"box error\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p>{{ $t('error-loading-image') }}</p>\r\n  <p v-if=\"errorBadImageProject\">{{ $t('error-loading-image-bad-project') }}</p>\r\n</div>\r\n<div v-else class=\"cytomine-viewer\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <div v-if=\"!loading\" class=\"maps-wrapper\">\r\n    <div class=\"map-cell\"\r\n      v-for=\"(cell, i) in cells\"\r\n      :key=\"i\"\r\n      :style=\"`height:${elementHeight}%; width:${elementWidth}%;`\"\r\n    >\r\n      <cytomine-image\r\n        v-if=\"cell && cell.image && cell.slices\"\r\n        :index=\"cell.index\"\r\n        :key=\"`${cell.index}-${cell.image.id}`\"\r\n        @close=\"closeMap(cell.index)\"\r\n      />\r\n    </div>\r\n\r\n    <image-selector />\r\n\r\n    <!-- Emit event when a hotkey is pressed (to rework once https://github.com/iFgR/vue-shortkey/issues/78 is implemented) -->\r\n    <div class=\"hidden\" v-shortkey.once=\"shortkeysMapping\" @shortkey=\"shortkeyEvent\"></div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport CytomineImage from './CytomineImage';\r\nimport ImageSelector from './ImageSelector';\r\n\r\nimport viewerModuleModel from '@/store/modules/project_modules/viewer';\r\n\r\nimport constants from '@/utils/constants.js';\r\nimport shortcuts from '@/utils/shortcuts.js';\r\n\r\nimport {ImageInstance, SliceInstance, Annotation} from 'cytomine-client';\r\n\r\nexport default {\r\n  name: 'cytomine-viewer',\r\n  components: {\r\n    CytomineImage,\r\n    ImageSelector\r\n  },\r\n  data() {\r\n    return {\r\n      error: false,\r\n      errorBadImageProject: false,\r\n      loading: true,\r\n      reloadInterval: null,\r\n      idViewer: null\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    currentUser: get('currentUser/user'),\r\n    viewers() {\r\n      return this.$store.state.projects[this.project.id].viewers;\r\n    },\r\n    idImages() {\r\n      return this.$route.params.idImages.split('-');\r\n    },\r\n    idSlices() {\r\n      return (this.$route.params.idSlices) ? this.$route.params.idSlices.split('-') : [];\r\n    },\r\n    paramIdViewer() {\r\n      return this.$route.query.viewer;\r\n    },\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    viewer() {\r\n      return this.viewers[this.idViewer];\r\n    },\r\n    indexImages() {\r\n      return this.viewer ? Object.keys(this.viewer.images) : [];\r\n    },\r\n    nbImages() {\r\n      return this.indexImages.length;\r\n    },\r\n    nbHorizontalCells() {\r\n      return Math.ceil(Math.sqrt(this.nbImages));\r\n    },\r\n    nbVerticalCells() {\r\n      return this.nbHorizontalCells ? Math.ceil(this.nbImages/this.nbHorizontalCells) : 0;\r\n    },\r\n    cells() {\r\n      let cells = new Array(this.nbHorizontalCells*this.nbVerticalCells);\r\n      for(let i = 0; i < this.nbImages; i++) {\r\n        let index = this.indexImages[i];\r\n        let image = this.viewer.images[index].imageInstance;\r\n        let slices = this.viewer.images[index].activeSlices;\r\n        cells[i] = {index, image, slices};\r\n      }\r\n      return cells;\r\n    },\r\n    elementHeight() {\r\n      return 100/this.nbVerticalCells;\r\n    },\r\n    elementWidth() {\r\n      return 100/this.nbHorizontalCells;\r\n    },\r\n    shortkeysMapping() {\r\n      let allowed = ['nav-next-image', 'nav-previous-image', 'nav-next-slice', 'nav-previous-slice', 'nav-next-t', 'nav-previous-t', 'nav-next-c',\r\n        'nav-previous-c', 'nav-first-slice', 'nav-last-slice', 'nav-first-t', 'nav-last-t', 'nav-first-z', 'nav-last-z', 'nav-first-c', 'nav-last-c',\r\n        'tool-select', 'tool-point', 'tool-line', 'tool-freehand-line', 'tool-rectangle', 'tool-circle', 'tool-polygon',\r\n        'tool-freehand-polygon', 'tool-screenshot', 'tool-fill', 'tool-correct-add', 'tool-correct-remove', 'tool-modify', 'tool-rescale',\r\n        'tool-move', 'tool-rotate', 'tool-delete', 'tool-undo', 'tool-redo', 'tool-review-accept', 'tool-review-reject',\r\n        'toggle-review-layer', 'toggle-all-review-layer', 'toggle-selected-layers', 'toggle-all-selected-layers',\r\n        'tool-go-to-slice-t', 'tool-go-to-slice-z', 'tool-go-to-slice-c', 'toggle-information',\r\n        'toggle-zoom', 'toggle-filters', 'toggle-layers', 'toggle-ontology', 'toggle-properties', 'toggle-broadcast',\r\n        'toggle-review', 'toggle-overview', 'toggle-annotations', 'toggle-current', 'toggle-add-image', 'toggle-link',\r\n        'nav-next-z', 'nav-previous-z', 'tool-copy', 'tool-paste', 'tool-review-reject', 'tool-review-toggle',\r\n        'tool-go-to-slice-t', 'tool-go-to-slice-z', 'tool-go-to-slice-c', 'toggle-all-information', 'toggle-all-zoom',\r\n        'toggle-all-filters', 'toggle-all-layers', 'toggle-all-ontology', 'toggle-all-properties',\r\n        'toggle-all-broadcast', 'toggle-all-review', 'toggle-all-overview', 'toggle-all-annotations',\r\n        'toggle-all-current', 'toggle-all-link'];\r\n\r\n      return Object.keys(shortcuts).filter(key => allowed.includes(key.replace('viewer-', ''))).reduce((object, key) => {\r\n        object[key.replace('viewer-', '')] = shortcuts[key];\r\n        return object;\r\n      }, {});\r\n    }\r\n  },\r\n  watch: {\r\n    paramIdViewer() {\r\n      this.findIdViewer();\r\n    },\r\n    idViewer(_, old) {\r\n      if(old) {\r\n        this.loading = true;\r\n        this.loadViewer();\r\n      }\r\n    },\r\n    viewer() {\r\n      if(!this.viewer) {\r\n        console.log('Viewer closed from external source');\r\n        this.$router.push(`/project/${this.$route.params.idProject}`);\r\n      }\r\n    },\r\n    nbImages() {\r\n      this.$eventBus.$emit('updateMapSize');\r\n    }\r\n  },\r\n  methods: {\r\n    findIdViewer() {\r\n      if(this.paramIdViewer) {\r\n        this.idViewer = this.paramIdViewer;\r\n        return;\r\n      }\r\n\r\n      for(let id in this.viewers) {\r\n        // if viewer containing the targetted images, and only them, store its id\r\n        let imagesViewer = Object.values(this.viewers[id].images).map(img => img.imageInstance.id).join('-');\r\n        if(imagesViewer === this.$route.params.idImages) {\r\n          this.idViewer = id;\r\n          return;\r\n        }\r\n      }\r\n\r\n      this.idViewer = Math.random().toString(36).substr(2, 9);\r\n    },\r\n\r\n    closeMap(index) {\r\n      if(this.nbImages === 1) {\r\n        this.$store.unregisterModule(['projects', this.project.id, 'viewers', this.idViewer]);\r\n        this.$router.push(`/project/${this.$route.params.idProject}`);\r\n      }\r\n      else {\r\n        this.$store.dispatch(this.viewerModule + 'removeImage', index);\r\n      }\r\n    },\r\n\r\n    async loadViewer() {\r\n      try {\r\n        this.$store.commit('currentProject/setCurrentViewer', this.idViewer);\r\n        if(!this.viewer) {\r\n          //TODO: rewrite !\r\n          this.$store.registerModule(['projects', this.project.id, 'viewers', this.idViewer], viewerModuleModel);\r\n          await Promise.all(this.idImages.map(async (id, idx) => {\r\n            let image = await ImageInstance.fetch(id);\r\n\r\n            let idSlices = this.idSlices[idx];\r\n            let slices;\r\n            if (idSlices) {\r\n              idSlices = idSlices.split(':');\r\n              slices = await Promise.all(idSlices.map(async id => await SliceInstance.fetch(id)));\r\n            }\r\n            else {\r\n              slices = [await image.fetchReferenceSlice()];\r\n            }\r\n            await this.$store.dispatch(this.viewerModule + 'addImage', {image, slices});\r\n          }));\r\n\r\n          let images = {};\r\n          //don't fetch multiple times the same image.\r\n          let idImages = [...new Set(this.idImages)];\r\n          await Promise.all(idImages.map(async id => {\r\n            let image = await ImageInstance.fetch(id);\r\n            images[id] = image;\r\n          }));\r\n          const imagesNotInCurrentProject = Object.values(images).filter(image => image.project != this.project.id);\r\n          if (imagesNotInCurrentProject.length > 0) {\r\n            this.errorBadImageProject = true;\r\n            throw new Error('Some images are not from this project');\r\n          }\r\n        }\r\n        else {\r\n          await this.$store.dispatch(this.viewerModule + 'refreshData');\r\n        }\r\n        this.loading = false;\r\n      }\r\n      catch(err) {\r\n        console.log(err);\r\n        this.error = true;\r\n      }\r\n    },\r\n\r\n    async selectAnnotationHandler({index, annot, center=false}) {\r\n      try {\r\n        if (index && annot.image !== this.viewer.images[index].imageInstance.id) {\r\n          annot = await Annotation.fetch(annot.id);\r\n          let [image, slice] = await Promise.all([\r\n            ImageInstance.fetch(annot.image),\r\n            SliceInstance.fetch(annot.slice)\r\n          ]);\r\n          this.$store.commit(`${this.viewerModule}images/${index}/setRoutedAnnotation`, annot);\r\n          await this.$store.dispatch(`${this.viewerModule}images/${index}/setImageInstance`, {image, slice});\r\n        }\r\n        else if (index === null) {\r\n          annot = await Annotation.fetch(annot.id);\r\n          if (this.idImages.includes(String(annot.image))) {\r\n            let index = this.cells.find(cell => cell.image.id === annot.image).index;\r\n            this.$eventBus.$emit('selectAnnotation', {index, annot, center});\r\n          }\r\n          else {\r\n            let [image, slice] = await Promise.all([\r\n              ImageInstance.fetch(annot.image),\r\n              SliceInstance.fetch(annot.slice)\r\n            ]);\r\n            await this.$store.dispatch(this.viewerModule + 'addImage', {image, slice, annot});\r\n          }\r\n        }\r\n      }\r\n      catch(err) {\r\n        console.log(err);\r\n        this.error = true;\r\n      }\r\n    },\r\n\r\n    shortkeyEvent(event) {\r\n      this.$eventBus.$emit('shortkeyEvent', event.srcKey);\r\n    }\r\n  },\r\n  async created() {\r\n    this.findIdViewer();\r\n    await this.loadViewer();\r\n    this.reloadInterval = setInterval(\r\n      () => this.$eventBus.$emit('reloadAnnotations'),\r\n      constants.VIEWER_ANNOTATIONS_REFRESH_INTERVAL\r\n    );\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('selectAnnotation', this.selectAnnotationHandler);\r\n  },\r\n  beforeDestroy() {\r\n    this.$eventBus.$off('selectAnnotation', this.selectAnnotationHandler);\r\n    clearInterval(this.reloadInterval);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.cytomine-viewer {\r\n  height: 100%;\r\n}\r\n\r\n.maps-wrapper {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.map-cell {\r\n  border-top: 0.2em solid #222;\r\n  overflow: hidden;\r\n}\r\n\r\n.hidden {\r\n  display: none;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineViewer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineViewer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineViewer.vue?vue&type=template&id=2b45029e&scoped=true\"\nimport script from \"./CytomineViewer.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineViewer.vue?vue&type=script&lang=js\"\nimport style0 from \"./CytomineViewer.vue?vue&type=style&index=0&id=2b45029e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b45029e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.permissionError || _vm.notFoundError)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t(_vm.permissionError ? 'access-denied' : 'not-found'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t(_vm.permissionError ? 'insufficient-permission' : 'not-found-error'))+\" \")])]):_c('div',{staticClass:\"project-container\"},[(!_vm.loading)?_c('project-sidebar',{key:_vm.idProject}):_vm._e(),_c('div',{staticClass:\"app-content\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('router-view'):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"sidebar\",staticClass:\"sidebar-wrapper\",class:{expanded: _vm.expanded}},[_c('nav',{staticClass:\"sidebar\",on:{\"click\":_vm.clickHandler}},[_c('h1',{staticClass:\"project-name\"},[_vm._v(_vm._s(`${_vm.$t('project')}: ${_vm.project.name}`))]),_c('ul',[(_vm.isTabDisplayed('images'))?[_c('router-link',{attrs:{\"tag\":\"li\",\"to\":`/project/${_vm.project.id}/images`}},[_c('a',[_c('i',{staticClass:\"far fa-images\"}),_vm._v(\" \"+_vm._s(_vm.$t('images'))+\" \")])])]:_vm._e(),(_vm.isTabDisplayed('annotations'))?_c('router-link',{attrs:{\"tag\":\"li\",\"to\":`/project/${_vm.project.id}/annotations`}},[_c('a',[_c('i',{staticClass:\"far fa-edit\"}),_vm._v(\" \"+_vm._s(_vm.$t('annotations'))+\" \")])]):_vm._e(),(_vm.isTabDisplayed('jobs') && _vm.algoEnabled)?_c('router-link',{attrs:{\"tag\":\"li\",\"to\":`/project/${_vm.project.id}/analysis`}},[_c('a',[_c('i',{staticClass:\"fas fa-tasks\"}),_vm._v(\" \"+_vm._s(_vm.$t('analysis'))+\" \")])]):_vm._e(),(_vm.isTabDisplayed('activities'))?_c('router-link',{attrs:{\"tag\":\"li\",\"to\":`/project/${_vm.project.id}/activity`}},[_c('a',[_c('i',{staticClass:\"fas fa-tachometer-alt\"}),_vm._v(\" \"+_vm._s(_vm.$t('activity'))+\" \")])]):_vm._e(),(_vm.isTabDisplayed('information'))?_c('router-link',{attrs:{\"tag\":\"li\",\"to\":`/project/${_vm.project.id}/information`}},[_c('a',[_c('i',{staticClass:\"fas fa-info-circle\"}),_vm._v(\" \"+_vm._s(_vm.$t('information'))+\" \")])]):_vm._e()],2),_c('ul',{staticClass:\"bottom-menu\"},[(_vm.isTabDisplayed('configuration'))?_c('router-link',{attrs:{\"tag\":\"li\",\"to\":`/project/${_vm.project.id}/configuration`}},[_c('a',[_c('i',{staticClass:\"fas fa-cogs\"}),_vm._v(\" \"+_vm._s(_vm.$t('configuration'))+\" \")])]):_vm._e()],1)]),_c('div',{staticClass:\"arrow-sidebar\",on:{\"click\":function($event){_vm.expanded = false}}},[_c('i')])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"sidebar-wrapper\" :class=\"{expanded: expanded}\" ref=\"sidebar\">\r\n  <nav class=\"sidebar\" @click=\"clickHandler\">\r\n    <h1 class=\"project-name\">{{`${$t('project')}: ${project.name}`}}</h1>\r\n    <ul>\r\n      <template v-if=\"isTabDisplayed('images')\">\r\n        <router-link tag=\"li\" :to=\"`/project/${project.id}/images`\">\r\n          <a>\r\n            <i class=\"far fa-images\"></i>\r\n            {{ $t('images') }}\r\n          </a>\r\n        </router-link>\r\n      </template>\r\n      <router-link v-if=\"isTabDisplayed('annotations')\" tag=\"li\" :to=\"`/project/${project.id}/annotations`\">\r\n        <a>\r\n          <i class=\"far fa-edit\"></i>\r\n          {{ $t('annotations') }}\r\n        </a>\r\n      </router-link>\r\n      <router-link  v-if=\"isTabDisplayed('jobs') && algoEnabled\" tag=\"li\" :to=\"`/project/${project.id}/analysis`\">\r\n        <a>\r\n          <i class=\"fas fa-tasks\"></i>\r\n          {{ $t('analysis') }}\r\n        </a>\r\n      </router-link>\r\n      <router-link v-if=\"isTabDisplayed('activities')\" tag=\"li\" :to=\"`/project/${project.id}/activity`\">\r\n        <a>\r\n          <i class=\"fas fa-tachometer-alt\"></i>\r\n          {{ $t('activity') }}\r\n        </a>\r\n      </router-link>\r\n      <router-link v-if=\"isTabDisplayed('information')\" tag=\"li\" :to=\"`/project/${project.id}/information`\">\r\n        <a>\r\n          <i class=\"fas fa-info-circle\"></i>\r\n          {{ $t('information') }}\r\n        </a>\r\n        </router-link>\r\n    </ul>\r\n    <ul class=\"bottom-menu\">\r\n      <router-link v-if=\"isTabDisplayed('configuration')\" tag=\"li\" :to=\"`/project/${project.id}/configuration`\">\r\n        <a>\r\n          <i class=\"fas fa-cogs\"></i>\r\n          {{ $t('configuration') }}\r\n        </a>\r\n      </router-link>\r\n    </ul>\r\n  </nav>\r\n\r\n  <div class=\"arrow-sidebar\" @click=\"expanded = false\">\r\n    <i></i>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get, sync} from '@/utils/store-helpers';\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'project-sidebar',\r\n  data(){\r\n    return {\r\n      algoEnabled: constants.ALGORITHMS_ENABLED\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    configUI: get('currentProject/configUI'),\r\n    expanded: sync('currentUser/expandedSidebar')\r\n  },\r\n  methods: {\r\n    clickHandler(event) {\r\n      let el = event.target;\r\n      if(!this.expanded && el.tagName !== 'I' && el.tagName !== 'A') { // if user clicked on icon, navigation purpose => do not expand the nav bar\r\n        this.expanded = true;\r\n      }\r\n    },\r\n    isTabDisplayed(tab) {\r\n      return this.configUI[`project-${tab}-tab`];\r\n    },\r\n    transitionEndHandler() { // led to a change of the size of the content div => need to reload OL map\r\n      this.$eventBus.$emit('updateMapSize');\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$refs.sidebar.addEventListener('transitionend', this.transitionEndHandler);\r\n  },\r\n  beforeDestroy() {\r\n    this.$refs.sidebar.removeEventListener('transitionend', this.transitionEndHandler);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n$background: #444;\r\n$activeBackground: #4f4f4f;\r\n$hoverBackground: #82aad8;\r\n$color: #ccc;\r\n$activeColor: #eee;\r\n$hoverColor: white;\r\n$arrowBackground: #484848;\r\n$border: #383838;\r\n$arrowColor: #888;\r\n\r\n.sidebar-wrapper {\r\n  display: flex;\r\n  height: 100%;\r\n  background: $background;\r\n  overflow: hidden;\r\n  transition: width .2s linear;\r\n  width: 4rem;\r\n}\r\n\r\n.sidebar-wrapper.expanded {\r\n  width:16rem;\r\n}\r\n\r\n.sidebar {\r\n  width: 16rem;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n}\r\n\r\n.project-name {\r\n  padding: 0.8em 0em 0.8em;\r\n  width: 14.5rem !important;\r\n  line-height: 1.8rem;\r\n  text-align: center;\r\n  color: $background;\r\n  font-size: 1rem;\r\n  margin: 0;\r\n  letter-spacing: 0.05em;\r\n  text-transform: uppercase;\r\n  text-align: center;\r\n  font-weight: 600;\r\n}\r\n\r\n.sidebar-wrapper.expanded .project-name {\r\n  color: $activeColor !important;\r\n}\r\n\r\nul {\r\n  width: 100%;\r\n}\r\n\r\nli {\r\n  height: 3.5rem;\r\n}\r\n\r\n.bottom-menu {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n}\r\n\r\na {\r\n  position: relative;\r\n  display: block;\r\n  font-size: 0.85rem;\r\n  height: 100%;\r\n  font-weight: 600;\r\n  color: $color;\r\n  text-decoration: none;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.fas, .far {\r\n  font-size: 1.25rem;\r\n  width: 4rem;\r\n  text-align: center;\r\n  flex-shrink: 0;\r\n}\r\n\r\nli a:hover {\r\n  color: $hoverColor;\r\n  background: $hoverBackground!important;\r\n}\r\n\r\nli.is-active a {\r\n  box-shadow: inset 5px 0 0 $hoverBackground;\r\n  color: $activeColor;\r\n  background: $activeBackground;\r\n}\r\n\r\n.arrow-sidebar {\r\n  width: 1.5rem;\r\n  border-left: 1px solid $border;\r\n  background: $arrowBackground;\r\n  justify-content: center;\r\n  display:flex;\r\n  align-items: center;\r\n}\r\n\r\n.arrow-sidebar i {\r\n  border: solid $arrowColor;\r\n  border-width: 0 2px 2px 0;\r\n  display: inline-block;\r\n  padding: 0.25rem;\r\n  transform: rotate(135deg);\r\n  margin-left: 0.25rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSidebar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSidebar.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProjectSidebar.vue?vue&type=template&id=291f472f&scoped=true\"\nimport script from \"./ProjectSidebar.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectSidebar.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProjectSidebar.vue?vue&type=style&index=0&id=291f472f&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"291f472f\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state() {\r\n    return {\r\n      searchString: '',\r\n\r\n      filtersOpened: false,\r\n      filters: {\r\n        formats: null,\r\n        vendors: null,\r\n        selectedTags: null,\r\n        magnifications: null,\r\n        resolutions: null,\r\n        boundsWidth: null,\r\n        boundsHeight: null,\r\n        boundsUserAnnotations: null,\r\n        boundsJobAnnotations: null,\r\n        boundsReviewedAnnotations: null\r\n      },\r\n\r\n      currentPage: 1,\r\n      perPage: 10,\r\n      sortField: null,\r\n      sortOrder: 'asc',\r\n      openedDetails: []\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setSearchString(state, searchString) {\r\n      state.searchString = searchString;\r\n    },\r\n\r\n    setFiltersOpened(state, value) {\r\n      state.filtersOpened = value;\r\n    },\r\n\r\n    setFilter(state, {filterName, propValue}) {\r\n      state.filters[filterName] = propValue;\r\n    },\r\n\r\n    setCurrentPage(state, page) {\r\n      state.currentPage = page;\r\n    },\r\n\r\n    setPerPage(state, perPage) {\r\n      state.perPage = perPage;\r\n    },\r\n\r\n    setSortField(state, field) {\r\n      state.sortField = field;\r\n    },\r\n\r\n    setSortOrder(state, order) {\r\n      state.sortOrder = order;\r\n    },\r\n\r\n    setOpenedDetails(state, value) {\r\n      state.openedDetails = value;\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    nbActiveFilters: state => {\r\n      return Object.values(state.filters).filter(val => val).length; // count the number of not null values\r\n    },\r\n\r\n    nbEmptyFilters: state => {\r\n      return Object.values(state.filters).filter(val => val && val.length === 0).length;\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport Vue from 'vue';\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state() {\r\n    return {\r\n      previewSize: null,\r\n      categorization: null,\r\n      perPage: 25,\r\n      outlineColor: null,\r\n\r\n      annotationType: null,\r\n      filters: {\r\n        members: null,\r\n        reviewers: null,\r\n        userJobs: null,\r\n        images: null,\r\n        termsIds: null,\r\n        tracksIds: null,\r\n        tags: null\r\n      },\r\n      fromDate: null,\r\n      toDate: null,\r\n\r\n      currentPages: {} // mapping of type {idProp: currentPage}\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setPreviewSize(state, size) {\r\n      state.previewSize = size;\r\n    },\r\n\r\n    setCategorization(state, categorization) {\r\n      state.categorization = categorization;\r\n    },\r\n\r\n    setPerPage(state, perPage) {\r\n      state.perPage = perPage;\r\n    },\r\n\r\n    setOutlineColor(state, color) {\r\n      state.outlineColor = color;\r\n    },\r\n\r\n    setAnnotationType(state, type) {\r\n      state.annotationType = type;\r\n    },\r\n\r\n    setFilter(state, {filterName, propValue}) {\r\n      state.filters[filterName] = propValue;\r\n    },\r\n\r\n    setFromDate(state, date) {\r\n      state.fromDate = date;\r\n    },\r\n\r\n    setToDate(state, date) {\r\n      state.toDate = date;\r\n    },\r\n\r\n    resetPagesAndFilters(state) {\r\n      for(let key in state.filters) {\r\n        state.filters[key] = null;\r\n      }\r\n      state.fromDate = null;\r\n      state.toDate = null;\r\n      state.currentPages = {};\r\n    },\r\n\r\n    setCurrentPage(state, {prop, page}) {\r\n      Vue.set(state.currentPages, prop, page);\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state() {\r\n    return {\r\n      filters: {\r\n        softwares: null,\r\n        launchers: null,\r\n        statuses: null,\r\n        favorites: null\r\n      },\r\n      executionDate: null,\r\n\r\n      currentPage: 1,\r\n      perPage: 10,\r\n      sortField: 'created',\r\n      sortOrder: 'desc',\r\n      openedDetails: []\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setFilter(state, {filterName, propValue}) {\r\n      state.filters[filterName] = propValue;\r\n    },\r\n\r\n    setExecutionDate(state, date) {\r\n      state.executionDate = date;\r\n    },\r\n\r\n    setCurrentPage(state, page) {\r\n      state.currentPage = page;\r\n    },\r\n\r\n    setPerPage(state, perPage) {\r\n      state.perPage = perPage;\r\n    },\r\n\r\n    setSortField(state, field) {\r\n      state.sortField = field;\r\n    },\r\n\r\n    setSortOrder(state, order) {\r\n      state.sortOrder = order;\r\n    },\r\n\r\n    setOpenedDetails(state, value) {\r\n      state.openedDetails = value;\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    nbActiveFilters: state => {\r\n      return Object.values(state.filters).filter(val => val).length; // count the number of not null values\r\n    },\r\n\r\n    nbEmptyFilters: state => {\r\n      return Object.values(state.filters).filter(val => val && val.length === 0).length;\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport listImages from './project_modules/list-images.js';\r\nimport listAnnotations from './project_modules/list-annotations.js';\r\nimport listJobs from './project_modules/list-jobs.js';\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state() {\r\n    return {\r\n      id: null,\r\n      name: null\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setProject(state, project) {\r\n      state.id = project.id;\r\n      state.name = project.name;\r\n    },\r\n  },\r\n\r\n  modules: {\r\n    viewers: {\r\n      namespaced: true\r\n    },\r\n    listImages,\r\n    listAnnotations,\r\n    listJobs\r\n  }\r\n};\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div class=\"box error\" v-if=\"permissionError || notFoundError\">\r\n    <h2> {{ $t(permissionError ? 'access-denied' : 'not-found') }} </h2>\r\n    <p> {{ $t(permissionError ? 'insufficient-permission' : 'not-found-error') }} </p>\r\n  </div>\r\n  <div v-else class=\"project-container\">\r\n    <project-sidebar v-if=\"!loading\" :key=\"idProject\" />\r\n\r\n    <div class=\"app-content\">\r\n      <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n      <router-view v-if=\"!loading\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport ProjectSidebar from './ProjectSidebar.vue';\r\nimport projectModuleModel from '@/store/modules/project';\r\n\r\nexport default {\r\n  name: 'cytomine-project',\r\n  components: {ProjectSidebar},\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      permissionError: false,\r\n      notFoundError: false\r\n    };\r\n  },\r\n  computed: {\r\n    idProject() {\r\n      return this.$route.params.idProject;\r\n    },\r\n    project: get('currentProject/project'),\r\n    projectModule() {\r\n      return this.$store.state.projects[this.idProject];\r\n    }\r\n  },\r\n  watch: {\r\n    async idProject() {\r\n      this.loading = true;\r\n      await this.loadProject();\r\n    },\r\n    projectModule() {\r\n      if(!this.projectModule) {\r\n        console.log('Project closed from external source');\r\n        this.$store.commit('currentProject/resetState');\r\n        this.$router.push('/projects');\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async loadProject() {\r\n      try {\r\n        if(!this.$store.state.projects[this.idProject]) { // module does not exist yet\r\n          this.$store.registerModule(['projects', this.idProject], projectModuleModel);\r\n        }\r\n        await this.$store.dispatch('currentProject/loadProject', this.idProject);\r\n        this.loading = false;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        if(error.response && error.response.status === 403) {\r\n          this.permissionError = true;\r\n        }\r\n        else {\r\n          this.notFoundError = true;\r\n        }\r\n      }\r\n    },\r\n    deleteAnnotationEventHandler(annot) {\r\n      let updatedProject = this.$store.state.currentProject.project.clone();\r\n      if(annot.type === 'UserAnnotation') {\r\n        updatedProject.numberOfAnnotations--;\r\n      }\r\n      else {\r\n        updatedProject.numberOfReviewedAnnotations--;\r\n      }\r\n\r\n      this.$store.dispatch('currentProject/updateProject', updatedProject);\r\n    }\r\n  },\r\n  async created() {\r\n    await this.loadProject();\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('deleteAnnotation', this.deleteAnnotationEventHandler);\r\n  },\r\n  beforeDestroy() {\r\n    this.$eventBus.$off('deleteAnnotation', this.deleteAnnotationEventHandler);\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.project-container {\r\n  display: flex;\r\n  height: 100%;\r\n  flex: 1;\r\n  background: #d4d4d4;\r\n  overflow-y: auto;\r\n  position: relative;\r\n}\r\n\r\n.app-content {\r\n  flex: 1;\r\n  position: relative;\r\n  overflow-y: auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProject.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProject.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineProject.vue?vue&type=template&id=56de602c\"\nimport script from \"./CytomineProject.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineProject.vue?vue&type=script&lang=js\"\nimport style0 from \"./CytomineProject.vue?vue&type=style&index=0&id=56de602c&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div')\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n\r\n<template>\r\n<div></div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nexport default {\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    configUI: get('currentProject/configUI')\r\n  },\r\n  created() {\r\n    if(this.configUI['project-images-tab']) {\r\n      this.$router.replace(`/project/${this.project.id}/images`);\r\n    }\r\n    else {\r\n      this.$router.replace(`/project/${this.project.id}/information`);\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectHome.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectHome.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProjectHome.vue?vue&type=template&id=37c44580\"\nimport script from \"./ProjectHome.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectHome.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"user-activity-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('div',{staticClass:\"content-wrapper\"},[_c('nav',{staticClass:\"breadcrumb\",attrs:{\"aria-label\":\"breadcrumbs\"}},[_c('ul',[_c('li',[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}`}},[_vm._v(_vm._s(_vm.project.name))])],1),_c('li',[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}/activity?tab=members`}},[_vm._v(_vm._s(_vm.$t('members-activity')))])],1),_c('li',{staticClass:\"is-active\"},[_c('a',{attrs:{\"href\":\"#\",\"aria-current\":\"page\"}},[_vm._v(_vm._s(_vm.$t('activity-of-user', {username: _vm.user.fullName})))])])])]),_c('div',{staticClass:\"box\"},[(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('p',{staticClass:\"last-update is-size-7 has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('data-last-updated-on', {time: _vm.$options.filters.moment(_vm.lastUpdate, 'LTS')}))+\" \")]),_c('h1',[_vm._v(_vm._s(_vm.$t('activity-of-user', {username: _vm.user.fullName})))]),_c('ul',[(_vm.currentUser.adminByNow)?_c('li',[_c('strong',[_vm._v(_vm._s(_vm.$t('email'))+\":\")]),_vm._v(\"\"),_c('a',{attrs:{\"href\":`mailto:${_vm.user.email}`}},[_vm._v(_vm._s(_vm.user.email))])]):_vm._e(),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.$t('registration-date'))+\":\")]),_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.user.created),'ll LTS')))]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.$t('first-project-connection'))+\":\")]),_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.resumeActivity.firstConnection),'ll LTS')))]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.$t('last-project-connection'))+\":\")]),_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.resumeActivity.lastConnection),'ll LTS')))])]),_c('hr'),_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('project-connections')))]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.resumeActivity.totalConnections))])])]),_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('image-consultations')))]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.resumeActivity.totalConsultations))])])]),_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('annotation-selections')))]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.resumeActivity.totalAnnotationSelections))])])]),_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('annotation-creations')))]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.resumeActivity.totalAnnotations))])])])]),_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('detailed-project-connections')))]),_c('b-table',{attrs:{\"data\":_vm.connections.array,\"default-sort\":\"created\",\"default-sort-direction\":\"desc\",\"paginated\":true,\"per-page\":_vm.connectionsPerPage,\"pagination-size\":\"is-small\",\"detailed\":\"\",\"detail-key\":\"id\"},scopedSlots:_vm._u([{key:\"default\",fn:function({row: connection}){return [_c('b-table-column',{attrs:{\"label\":_vm.$t('date'),\"field\":\"created\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(connection.created),'ll LT'))+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('duration'),\"field\":\"time\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"duration\")(connection.time,'humanize'))+\" \"),(connection.online)?_c('span',{staticClass:\"tag is-success\"},[_vm._v(_vm._s(_vm.$t('ongoing')))]):_vm._e()]),_c('b-table-column',{attrs:{\"label\":_vm.$t('number-viewed-images'),\"field\":\"countViewedImages\",\"centered\":\"\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(connection.countViewedImages)+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('number-annotation-creations'),\"field\":\"countCreatedAnnotations\",\"centered\":\"\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(connection.countCreatedAnnotations)+\" \")])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-project-connection')))])])]},proxy:true},{key:\"detail\",fn:function({row: connection}){return [_c('project-connection-details',{key:connection.id,attrs:{\"connection\":connection}})]}},{key:\"footer\",fn:function(){return [_c('p',{staticClass:\"has-text-centered\"},[_c('a',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.downloadConnections(_vm.connections)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-export-as-csv'))+\" \")])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.connectionsPerPage),callback:function ($$v) {_vm.connectionsPerPage=$$v},expression:\"connectionsPerPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}],null,false,1062019546)}),_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('connections-chart')))]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-narrow\"},[_c('b-field',{attrs:{\"label\":_vm.$t('by'),\"horizontal\":\"\"}},[_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.period),callback:function ($$v) {_vm.period=$$v},expression:\"period\"}},[_c('option',{attrs:{\"value\":\"hour\"}},[_vm._v(_vm._s(_vm.$t('hour')))]),_c('option',{attrs:{\"value\":\"day\"}},[_vm._v(_vm._s(_vm.$t('day')))]),_c('option',{attrs:{\"value\":\"week\"}},[_vm._v(_vm._s(_vm.$t('week')))])])],1)],1),_c('div',{staticClass:\"column is-narrow\"},[_c('b-field',{attrs:{\"label\":_vm.$t('from'),\"horizontal\":\"\"}},[_c('cytomine-datepicker',{attrs:{\"resetButton\":false,\"maxDate\":_vm.endDate || new Date()},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}})],1)],1),_c('div',{staticClass:\"column is-narrow\"},[_c('b-field',{attrs:{\"label\":_vm.$t('to'),\"horizontal\":\"\"}},[_c('cytomine-datepicker',{attrs:{\"minDate\":_vm.startDate,\"maxDate\":new Date()},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1)],1)]),_c('div',{staticClass:\"chart-container\"},[_c('last-connections-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project.id,\"user\":_vm.idUser,\"period\":_vm.period,\"startDate\":_vm.startDate.getTime(),\"endDate\":_vm.endDate ? _vm.endDate.setHours(23, 59, 59, 999) : null,\"showDates\":true,\"revision\":_vm.chartRevision}})],1),_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('detailed-image-consultations')))]),_c('b-table',{attrs:{\"data\":_vm.consultations.array,\"paginated\":true,\"per-page\":_vm.consultationsPerPage,\"pagination-size\":\"is-small\"},scopedSlots:_vm._u([{key:\"default\",fn:function({row: consultation}){return [_c('b-table-column',{attrs:{\"label\":_vm.$t('overview'),\"field\":\"created\"}},[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}/image/${consultation.image}`}},[_c('image-thumbnail',{key:consultation.imageThumb,attrs:{\"url\":consultation.imageThumb,\"size\":128,\"extra-parameters\":{Authorization: 'Bearer ' + _vm.shortTermToken }}})],1)],1),_c('b-table-column',{attrs:{\"label\":_vm.$t('image'),\"field\":\"imageName\",\"sortable\":\"\"}},[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}/image/${consultation.image}`}},[_vm._v(\" \"+_vm._s(consultation.imageName)+\" \")])],1),_c('b-table-column',{attrs:{\"label\":_vm.$t('duration'),\"field\":\"time\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"duration\")(consultation.time,'humanize'))+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('number-consultations'),\"field\":\"frequency\",\"centered\":\"\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(consultation.frequency)+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('first-consultation'),\"field\":\"first\",\"centered\":\"\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(consultation.first),'ll LT'))+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('last-consultation'),\"field\":\"last\",\"centered\":\"\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(consultation.last),'ll LT'))+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('number-annotation-creations'),\"field\":\"countCreatedAnnotations\",\"centered\":\"\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(consultation.countCreatedAnnotations)+\" \")])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-image-consultation')))])])]},proxy:true},{key:\"footer\",fn:function(){return [_c('p',{staticClass:\"has-text-centered\"},[_c('a',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.downloadConnections(_vm.consultations)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-export-as-csv'))+\" \")])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.consultationsPerPage),callback:function ($$v) {_vm.consultationsPerPage=$$v},expression:\"consultationsPerPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}],null,false,3460362066)})]],2)]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('table',{staticClass:\"table\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading},on:{\"update:active\":function($event){_vm.loading=$event}}}),(!_vm.loading)?_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('operating-system')))]),_c('td',[_vm._v(_vm._s(_vm.connection.os))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('browser')))]),_c('td',{staticClass:\"is-capitalized\"},[_vm._v(\" \"+_vm._s(_vm.connection.browser)+\" \"),(_vm.connection.browserVersion)?_c('span',[_vm._v(_vm._s(_vm.connection.browserVersion))]):_vm._e()])]),(_vm.consultations)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('image-consultations')))]),_c('td',[(_vm.consultations.length > 0)?_c('div',{staticClass:\"columns is-multiline\"},_vm._l((_vm.consultations),function(consultation){return _c('div',{key:consultation.id,staticClass:\"column\"},[_c('image-preview',{attrs:{\"image\":consultation,\"blindMode\":_vm.blindMode}},[_c('div',{staticClass:\"details\"},[_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t('duration'))+\":\")]),_vm._v(\" \"+_vm._s(_vm._f(\"duration\")(consultation.time,'humanize'))+\" \"),_c('br'),_c('strong',[_vm._v(_vm._s(_vm.$t('annotation-creations'))+\":\")]),_vm._v(\" \"+_vm._s(consultation.countCreatedAnnotations || 0)+\" \")])])])],1)}),0):_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-image-consultation')))])])]):_vm._e()]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<table class=\"table\">\r\n  <b-loading :is-full-page=\"false\" :active.sync=\"loading\" />\r\n  <tbody v-if=\"!loading\">\r\n    <tr>\r\n      <td>{{$t('operating-system')}}</td>\r\n      <td>{{connection.os}}</td>\r\n    </tr>\r\n    <tr>\r\n      <td>{{$t('browser')}}</td>\r\n      <td class=\"is-capitalized\">\r\n        {{connection.browser}} <span v-if=\"connection.browserVersion\">{{connection.browserVersion}}</span>\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"consultations\">\r\n      <td>{{$t('image-consultations')}}</td>\r\n      <td>\r\n        <div v-if=\"consultations.length > 0\" class=\"columns is-multiline\">\r\n          <div class=\"column\" v-for=\"consultation in consultations\" :key=\"consultation.id\">\r\n            <image-preview :image=\"consultation\" :blindMode=\"blindMode\">\r\n              <div class=\"details\">\r\n                <p>\r\n                  <strong>{{$t('duration')}}:</strong>\r\n                  {{ consultation.time | duration('humanize') }}\r\n                  <br>\r\n                  <strong>{{$t('annotation-creations')}}:</strong>\r\n                  {{consultation.countCreatedAnnotations || 0}}\r\n                </p>\r\n              </div>\r\n            </image-preview>\r\n          </div>\r\n        </div>\r\n        <em v-else class=\"has-text-grey\">{{$t('no-image-consultation')}}</em>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n</template>\r\n\r\n<script>\r\nimport {ImageConsultationCollection} from 'cytomine-client';\r\nimport ImagePreview from '@/components/image/ImagePreview';\r\n\r\nexport default {\r\n  name: 'project-connection-details',\r\n  components: {ImagePreview},\r\n  props: {\r\n    connection: Object\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      consultations: null\r\n    };\r\n  },\r\n  computed: {\r\n    blindMode() {\r\n      return this.$store.state.currentProject.project.blindMode;\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      this.consultations = (await ImageConsultationCollection.fetchAll({projectConnection: this.connection.id})).array;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.$notify({type: 'error', text: this.$t('error-failed-to-fetch-image-consultations')});\r\n    }\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n  background: none;\r\n  position: relative;\r\n}\r\n\r\ntd:first-child {\r\n  white-space: nowrap;\r\n  font-weight: 600;\r\n}\r\n\r\ntd:last-child {\r\n  width: 100%;\r\n}\r\n\r\n.column {\r\n  min-width: 18em;\r\n  max-width: 18em;\r\n}\r\n\r\n.details {\r\n  font-size: 0.85em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectConnectionDetails.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectConnectionDetails.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProjectConnectionDetails.vue?vue&type=template&id=9af9c308&scoped=true\"\nimport script from \"./ProjectConnectionDetails.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectConnectionDetails.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProjectConnectionDetails.vue?vue&type=style&index=0&id=9af9c308&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9af9c308\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {Bar} from 'vue-chartjs';\r\nimport {ProjectConnectionCollection} from 'cytomine-client';\r\nimport moment from 'moment';\r\n\r\nexport default {\r\n  name: 'last-connections-chart',\r\n  extends: Bar,\r\n  props: {\r\n    startDate: Number,\r\n    endDate: Number,\r\n    period: String,\r\n    project: Number,\r\n    user: Number,\r\n    showDates: {type: Boolean, default: false},\r\n    revision: Number\r\n  },\r\n  data() {\r\n    return {\r\n      chartData: null,\r\n      projectConnections: null\r\n    };\r\n  },\r\n  computed: {\r\n    locale() {\r\n      return this.$i18n.locale;\r\n    },\r\n    queryParams() {\r\n      this.revision; // update of revision value will trigger re-evaluation of queryParams => new object => fetch data\r\n      return {\r\n        afterThan: this.startDate,\r\n        beforeThan: this.endDate,\r\n        period: this.period,\r\n        user: this.user,\r\n        project: this.project\r\n      };\r\n    },\r\n    momentPeriod() {\r\n      return this.period + 's';\r\n    }\r\n  },\r\n  watch: {\r\n    async queryParams() {\r\n      await this.fetchData();\r\n      this.updateChart();\r\n    },\r\n    locale() {\r\n      this.updateLabels();\r\n      this.updateChart();\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchData() {\r\n      let connections = (await ProjectConnectionCollection.fetchConnectionsFrequency(this.queryParams)).sort();\r\n      connections.sort((a, b) => Number(a.time) < Number(b.time) ? -1 : 1);\r\n\r\n      let allConnections = [];\r\n      let iterMoment = moment(this.startDate);\r\n      let lastMoment = this.endDate ? moment(this.endDate) : moment();\r\n      let indexConnection = 0;\r\n      while(iterMoment.isBefore(lastMoment)) {\r\n        if(connections[indexConnection] && iterMoment.isSame(Number(connections[indexConnection].time), this.period)) {\r\n          allConnections.push(connections[indexConnection]);\r\n          indexConnection++;\r\n        }\r\n        else {\r\n          allConnections.push({time: iterMoment.valueOf(), frequency: 0});\r\n        }\r\n        iterMoment.add(1, this.momentPeriod);\r\n      }\r\n      this.projectConnections = allConnections;\r\n      this.chartData.datasets[0].data = this.projectConnections.map(item => item.frequency);\r\n      this.updateLabels();\r\n    },\r\n    updateLabels() {\r\n      this.chartData.labels = this.projectConnections.map(item => {\r\n        let time = Number(item.time);\r\n        switch(this.period) {\r\n          case 'hour':\r\n            return moment(time).format(this.showDates ? 'll LT' : 'LT') + ' - ' + moment(time).add(1, 'hours').format('LT');\r\n          case 'day':\r\n            return moment(time).format(this.showDates ? 'll' : 'dddd');\r\n          case 'week':\r\n            return moment(time).format('ll') + ' - ' + moment.min(moment(), moment(time).endOf('week')).format('ll');\r\n        }\r\n      });\r\n    },\r\n    async updateChart() {\r\n      this.$data._chart.update();\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.chartData = {\r\n      labels: [],\r\n      datasets: [\r\n        {\r\n          label: this.$t('project-connections'),\r\n          data: [],\r\n          backgroundColor: '#4480c4',\r\n          borderWidth: 0\r\n        }\r\n      ]\r\n    };\r\n\r\n    await this.fetchData();\r\n\r\n    this.renderChart(this.chartData, {\r\n      maintainAspectRatio: false,\r\n      legend: {display: false},\r\n      scales: {\r\n        yAxes: [{\r\n          ticks: {\r\n            min: 0,\r\n          }\r\n        }],\r\n        xAxes: [{\r\n          categoryPercentage: 0.6,\r\n          gridLines: {\r\n            display: false\r\n          }\r\n        }]\r\n      }\r\n    });\r\n  }\r\n};\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"user-activity-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <div class=\"content-wrapper\" v-if=\"!loading\">\r\n    <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\r\n      <ul>\r\n        <li><router-link :to=\"`/project/${project.id}`\">{{project.name}}</router-link></li>\r\n        <li><router-link :to=\"`/project/${project.id}/activity?tab=members`\">{{$t('members-activity')}}</router-link></li>\r\n        <li class=\"is-active\"><a href=\"#\" aria-current=\"page\">{{$t('activity-of-user', {username: user.fullName})}}</a></li>\r\n      </ul>\r\n    </nav>\r\n\r\n    <div class=\"box\">\r\n      <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n        <h2> {{ $t('error') }} </h2>\r\n        <p> {{ $t('unexpected-error-info-message') }} </p>\r\n      </b-message>\r\n\r\n      <template v-else>\r\n        <p class=\"last-update is-size-7 has-text-grey\">\r\n          {{$t('data-last-updated-on', {time: $options.filters.moment(lastUpdate, 'LTS')})}}\r\n        </p>\r\n\r\n        <h1>{{$t('activity-of-user', {username: user.fullName})}}</h1>\r\n\r\n        <ul>\r\n          <li v-if=\"currentUser.adminByNow\">\r\n            <strong>{{$t('email')}}:</strong>&nbsp;<a :href=\"`mailto:${user.email}`\">{{user.email}}</a>\r\n          </li>\r\n          <li><strong>{{$t('registration-date')}}:</strong> {{Number(user.created) | moment('ll LTS')}}</li>\r\n          <li><strong>{{$t('first-project-connection')}}:</strong> {{Number(resumeActivity.firstConnection) | moment('ll LTS')}}</li>\r\n          <li><strong>{{$t('last-project-connection')}}:</strong> {{Number(resumeActivity.lastConnection) | moment('ll LTS')}}</li>\r\n        </ul>\r\n\r\n        <hr>\r\n\r\n        <div class=\"level\">\r\n          <div class=\"level-item has-text-centered\">\r\n            <div>\r\n              <p class=\"heading\">{{$t('project-connections')}}</p>\r\n              <p class=\"title\">{{resumeActivity.totalConnections}}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"level-item has-text-centered\">\r\n            <div>\r\n              <p class=\"heading\">{{$t('image-consultations')}}</p>\r\n              <p class=\"title\">{{resumeActivity.totalConsultations}}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"level-item has-text-centered\">\r\n            <div>\r\n              <p class=\"heading\">{{$t('annotation-selections')}}</p>\r\n              <p class=\"title\">{{resumeActivity.totalAnnotationSelections}}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"level-item has-text-centered\">\r\n            <div>\r\n              <p class=\"heading\">{{$t('annotation-creations')}}</p>\r\n              <p class=\"title\">{{resumeActivity.totalAnnotations}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <hr>\r\n\r\n        <h2>{{$t('detailed-project-connections')}}</h2>\r\n\r\n        <b-table\r\n          :data=\"connections.array\"\r\n          default-sort=\"created\"\r\n          default-sort-direction=\"desc\"\r\n          :paginated=\"true\"\r\n          :per-page=\"connectionsPerPage\"\r\n          pagination-size=\"is-small\"\r\n          detailed detail-key=\"id\"\r\n        >\r\n          <template #default=\"{row: connection}\">\r\n            <b-table-column :label=\"$t('date')\" field=\"created\" sortable>\r\n              {{ Number(connection.created) | moment('ll LT') }}\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('duration')\" field=\"time\" sortable>\r\n              {{ connection.time | duration('humanize') }}\r\n              <span class=\"tag is-success\" v-if=\"connection.online\">{{$t('ongoing')}}</span>\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('number-viewed-images')\" field=\"countViewedImages\" centered sortable>\r\n              {{ connection.countViewedImages }}\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('number-annotation-creations')\" field=\"countCreatedAnnotations\" centered sortable>\r\n              {{ connection.countCreatedAnnotations }}\r\n            </b-table-column>\r\n          </template>\r\n\r\n          <template #empty>\r\n            <div class=\"content has-text-grey has-text-centered\">\r\n              <p>{{$t('no-project-connection')}}</p>\r\n            </div>\r\n          </template>\r\n\r\n          <template #detail=\"{row: connection}\">\r\n            <project-connection-details :connection=\"connection\" :key=\"connection.id\" />\r\n          </template>\r\n\r\n          <template #footer>\r\n            <p class=\"has-text-centered\">\r\n              <a class=\"button is-link\" @click=\"downloadConnections(connections)\">\r\n                {{$t('button-export-as-csv')}}\r\n              </a>\r\n            </p>\r\n          </template>\r\n\r\n          <template #bottom-left>\r\n            <b-select v-model=\"connectionsPerPage\" size=\"is-small\">\r\n              <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n              <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n              <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n              <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n            </b-select>\r\n          </template>\r\n        </b-table>\r\n\r\n        <hr>\r\n\r\n        <h2>{{$t('connections-chart')}}</h2>\r\n\r\n        <div class=\"columns\">\r\n          <div class=\"column is-narrow\">\r\n            <b-field :label=\"$t('by')\" horizontal>\r\n              <b-select size=\"is-small\" v-model=\"period\">\r\n                <option value=\"hour\">{{$t('hour')}}</option>\r\n                <option value=\"day\">{{$t('day')}}</option>\r\n                <option value=\"week\">{{$t('week')}}</option>\r\n              </b-select>\r\n            </b-field>\r\n          </div>\r\n          <div class=\"column is-narrow\">\r\n            <b-field :label=\"$t('from')\" horizontal>\r\n              <cytomine-datepicker v-model=\"startDate\" :resetButton=\"false\" :maxDate=\"endDate || new Date()\" />\r\n            </b-field>\r\n          </div>\r\n          <div class=\"column is-narrow\">\r\n            <b-field :label=\"$t('to')\" horizontal>\r\n              <cytomine-datepicker v-model=\"endDate\" :minDate=\"startDate\" :maxDate=\"new Date()\" />\r\n            </b-field>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"chart-container\">\r\n          <last-connections-chart\r\n            css-classes=\"chart\"\r\n            :project=\"project.id\"\r\n            :user=\"idUser\"\r\n            :period=\"period\"\r\n            :startDate=\"startDate.getTime()\"\r\n            :endDate=\"endDate ? endDate.setHours(23, 59, 59, 999) : null\"\r\n            :showDates=\"true\"\r\n            :revision=\"chartRevision\"\r\n          />\r\n        </div>\r\n\r\n        <hr>\r\n\r\n        <h2>{{$t('detailed-image-consultations')}}</h2>\r\n\r\n        <b-table :data=\"consultations.array\" :paginated=\"true\" :per-page=\"consultationsPerPage\" pagination-size=\"is-small\">\r\n          <template #default=\"{row: consultation}\">\r\n            <b-table-column :label=\"$t('overview')\" field=\"created\">\r\n              <router-link :to=\"`/project/${project.id}/image/${consultation.image}`\">\r\n                <image-thumbnail :url=\"consultation.imageThumb\" :size=\"128\" :key=\"consultation.imageThumb\" :extra-parameters=\"{Authorization: 'Bearer ' + shortTermToken }\"/>\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('image')\" field=\"imageName\" sortable>\r\n              <router-link :to=\"`/project/${project.id}/image/${consultation.image}`\">\r\n                {{ consultation.imageName }}\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('duration')\" field=\"time\" sortable>\r\n              {{ consultation.time | duration('humanize') }}\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('number-consultations')\" field=\"frequency\" centered sortable>\r\n              {{ consultation.frequency }}\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('first-consultation')\" field=\"first\" centered sortable>\r\n              {{ Number(consultation.first) | moment('ll LT')}}\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('last-consultation')\" field=\"last\" centered sortable>\r\n              {{ Number(consultation.last) | moment('ll LT')}}\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('number-annotation-creations')\" field=\"countCreatedAnnotations\" centered sortable>\r\n              {{ consultation.countCreatedAnnotations }}\r\n            </b-table-column>\r\n          </template>\r\n\r\n          <template #empty>\r\n            <div class=\"content has-text-grey has-text-centered\">\r\n              <p>{{$t('no-image-consultation')}}</p>\r\n            </div>\r\n          </template>\r\n\r\n          <template #footer>\r\n            <p class=\"has-text-centered\">\r\n              <a class=\"button is-link\" @click=\"downloadConnections(consultations)\">\r\n                {{$t('button-export-as-csv')}}\r\n              </a>\r\n            </p>\r\n          </template>\r\n\r\n          <template #bottom-left>\r\n            <b-select v-model=\"consultationsPerPage\" size=\"is-small\">\r\n              <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n              <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n              <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n              <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n            </b-select>\r\n          </template>\r\n        </b-table>\r\n      </template>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {fullName} from '@/utils/user-utils.js';\r\nimport {User, ProjectConnectionCollection, ImageConsultationCollection} from 'cytomine-client';\r\n\r\nimport CytomineDatepicker from '@/components/form/CytomineDatepicker';\r\nimport ProjectConnectionDetails from '@/components/project/ProjectConnectionDetails';\r\nimport LastConnectionsChart from '@/components/charts/LastConnectionsChart.js';\r\n\r\nimport constants from '@/utils/constants.js';\r\n\r\nimport moment from 'moment';\r\nimport ImageThumbnail from '@/components/image/ImageThumbnail';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\n\r\n\r\nexport default {\r\n  name: 'member-activity-details',\r\n  components: {\r\n    ImageThumbnail,\r\n    CytomineDatepicker,\r\n    ProjectConnectionDetails,\r\n    LastConnectionsChart\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n      user: null,\r\n      resumeActivity: null,\r\n\r\n      connections: null,\r\n      connectionsPerPage: 10,\r\n\r\n      consultations: null,\r\n      consultationsPerPage: 10,\r\n\r\n      lastUpdate: null,\r\n      timeout: null,\r\n\r\n      chartRevision: 0,\r\n      period: 'day',\r\n      startDate: moment().subtract(1, 'month').toDate(),\r\n      endDate: null\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    idUser() {\r\n      return Number(this.$route.params.idUser);\r\n    },\r\n    project: get('currentProject/project'),\r\n    shortTermToken: get('currentUser/shortTermToken')\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    async fetchData() {\r\n      try {\r\n        await Promise.all([\r\n          this.fetchUser(),\r\n          this.fetchResumeActivity(),\r\n          this.fetchConnections(),\r\n          this.fetchConsultations()\r\n        ]);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n        return;\r\n      }\r\n\r\n      this.chartRevision++;\r\n      this.lastUpdate = new Date();\r\n      clearTimeout(this.timeout);\r\n      this.timeout = setTimeout(this.fetchData, constants.MEMBERS_ACTIVITY_REFRESH_INTERVAL);\r\n    },\r\n    async fetchUser() {\r\n      await this.user.fetch();\r\n      this.user.fullName = fullName(this.user);\r\n    },\r\n    async fetchResumeActivity() {\r\n      this.resumeActivity = await this.user.fetchResumeActivity(this.project.id);\r\n    },\r\n    async fetchConnections() {\r\n      this.connections = await ProjectConnectionCollection.fetchAll({project: this.project.id, user: this.idUser});\r\n    },\r\n    async fetchConsultations() {\r\n      this.consultations = await ImageConsultationCollection.fetchAll({project: this.project.id, user: this.idUser, resume: true});\r\n    },\r\n    downloadConnections(connections) {\r\n      window.location.assign(appendShortTermToken(connections.downloadURL, this.shortTermToken), '_blank');\r\n    }\r\n  },\r\n  async created() {\r\n    this.user = new User({id: this.idUser});\r\n    await this.fetchData();\r\n    this.loading = false;\r\n  },\r\n  destroyed() {\r\n    clearTimeout(this.timeout);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  text-transform: initial;\r\n  letter-spacing: initial;\r\n  font-weight: 400;\r\n  font-size: 1.8rem;\r\n  margin-bottom: 0.7rem;\r\n}\r\n\r\nli {\r\n  margin-bottom: 0.5em;\r\n}\r\n\r\n.image-thumbnail {\r\n  max-height: 4rem;\r\n  max-width: 10rem;\r\n}\r\n\r\n.box {\r\n  position: relative;\r\n}\r\n\r\n.last-update {\r\n  position: absolute;\r\n  top: 1.5em;\r\n  right: 2em;\r\n}\r\n\r\n.tag {\r\n  margin-left: 0.5em;\r\n}\r\n\r\n.chart-container {\r\n  margin-top: 2em;\r\n  height: 18em;\r\n  position: relative;\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n.user-activity-wrapper {\r\n  .table-wrapper {\r\n    margin-bottom: 0;\r\n  }\r\n\r\n  .chart {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  .field.is-horizontal {\r\n    align-items: center;\r\n  }\r\n\r\n  .field-label {\r\n    margin-right: 1em !important;\r\n    padding-top: 0 !important;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberActivityDetails.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberActivityDetails.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MemberActivityDetails.vue?vue&type=template&id=3009d81c&scoped=true\"\nimport script from \"./MemberActivityDetails.vue?vue&type=script&lang=js\"\nexport * from \"./MemberActivityDetails.vue?vue&type=script&lang=js\"\nimport style0 from \"./MemberActivityDetails.vue?vue&type=style&index=0&id=3009d81c&prod&scoped=true&lang=css\"\nimport style1 from \"./MemberActivityDetails.vue?vue&type=style&index=1&id=3009d81c&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3009d81c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.currentUser.adminByNow)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):_c('div',{staticClass:\"content-wrapper\"},[_c('b-field',{staticClass:\"radio-buttons-fullwidth\"},[_c('b-radio-button',{attrs:{\"native-value\":\"dashboard\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('dashboard'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"users\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('users'))+\" \")]),_c('b-radio-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.algoEnabled),expression:\"algoEnabled\"}],attrs:{\"native-value\":\"trusted-sources\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('trusted-sources'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"tags\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('tags'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"configuration\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('configuration'))+\" \")])],1),_c('div',{staticClass:\"box\"},[_c('keep-alive',[_c(_vm.activeComponent,{tag:\"component\"})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"admin-dashboard-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[_c('h2',[_vm._v(_vm._s(_vm.$t('currently')))]),(!_vm.currentStats)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('failed-fetch-current-stats'))+\" \")]):[_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('online-users')))]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.currentStats.users))])])]),_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('active-projects')))]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.currentStats.projects))])])]),_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('used-storage-space')))]),_c('p',{staticClass:\"title\"},[(_vm.storageStats)?[_vm._v(_vm._s(Math.round(_vm.storageStats.usedP * 100))+\"%\")]:[_vm._v(\"?\")]],2)])])]),(_vm.currentStats.mostActiveProject)?_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t('most-active-project')))]),_vm._v(\": \"),_c('router-link',{attrs:{\"to\":`/project/${_vm.currentStats.mostActiveProject.project.id}`}},[_vm._v(\" \"+_vm._s(_vm.currentStats.mostActiveProject.project.name)+\" \")]),_vm._v(\" (\"+_vm._s(_vm.$tc(\"count-active-users\", _vm.currentStats.mostActiveProject.users, {count: _vm.currentStats.mostActiveProject.users}))+\") \")],1):_vm._e()],_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('total')))]),(!_vm.totalCounts)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('failed-fetch-total-counts'))+\" \")]):_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('table',{staticClass:\"table is-fullwidth\"},[_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.users))]),_c('td',[_vm._v(_vm._s(_vm.$t('users')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.projects))]),_c('td',[_vm._v(_vm._s(_vm.$t('projects')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.images))]),_c('td',[_vm._v(_vm._s(_vm.$t('images-in-projects')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.abstractImages))]),_c('td',[_vm._v(_vm._s(_vm.$t('uploaded-images')))])])])])]),_c('div',{staticClass:\"column\"},[_c('table',{staticClass:\"table is-fullwidth\"},[_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.ontologies))]),_c('td',[_vm._v(_vm._s(_vm.$t('ontologies')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.terms))]),_c('td',[_vm._v(_vm._s(_vm.$t('terms')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.userAnnotations))]),_c('td',[_vm._v(_vm._s(_vm.$t('user-annotations')))])]),_c('tr')])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.algoEnabled),expression:\"algoEnabled\"}],staticClass:\"column\"},[_c('table',{staticClass:\"table is-fullwidth\"},[_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.softwares))]),_c('td',[_vm._v(_vm._s(_vm.$t('algorithms')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.jobs))]),_c('td',[_vm._v(_vm._s(_vm.$t('analyses')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.jobAnnotations))]),_c('td',[_vm._v(_vm._s(_vm.$t('analysis-annotations')))])]),_c('tr')])])])]),_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('last-connections')))]),_c('div',{staticClass:\"is-flex\"},[_c('strong',{staticClass:\"has-margin-right\"},[_vm._v(_vm._s(_vm.$t('period')))]),_c('b-select',{model:{value:(_vm.selectedChartOption),callback:function ($$v) {_vm.selectedChartOption=$$v},expression:\"selectedChartOption\"}},_vm._l((_vm.chartOptions),function(option){return _c('option',{key:option.label,domProps:{\"value\":option}},[_vm._v(\" \"+_vm._s(option.label)+\" \")])}),0)],1),_c('div',{staticClass:\"chart-container\"},[_c('last-connections-chart',{attrs:{\"css-classes\":\"chart\",\"startDate\":_vm.selectedChartOption.startDate,\"period\":_vm.selectedChartOption.period}})],1)]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"admin-dashboard-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <template v-if=\"!loading\">\r\n    <h2>{{$t('currently')}}</h2>\r\n    <b-message v-if=\"!currentStats\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n      {{$t('failed-fetch-current-stats')}}\r\n    </b-message>\r\n    <template v-else>\r\n      <div class=\"level\">\r\n        <div class=\"level-item has-text-centered\">\r\n          <div>\r\n          <p class=\"heading\">{{$t('online-users')}}</p>\r\n          <p class=\"title\">{{currentStats.users}}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"level-item has-text-centered\">\r\n          <div>\r\n          <p class=\"heading\">{{$t('active-projects')}}</p>\r\n          <p class=\"title\">{{currentStats.projects}}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"level-item has-text-centered\">\r\n          <div>\r\n          <p class=\"heading\">{{$t('used-storage-space')}}</p>\r\n          <p class=\"title\">\r\n            <template v-if=\"storageStats\">{{Math.round(storageStats.usedP * 100)}}%</template>\r\n            <template v-else>?</template>\r\n          </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <p v-if=\"currentStats.mostActiveProject\">\r\n        <strong>{{$t('most-active-project')}}</strong>:\r\n        <router-link :to=\"`/project/${currentStats.mostActiveProject.project.id}`\">\r\n          {{currentStats.mostActiveProject.project.name}}\r\n        </router-link>\r\n        ({{$tc(\"count-active-users\", currentStats.mostActiveProject.users, {count: currentStats.mostActiveProject.users})}})\r\n      </p>\r\n    </template>\r\n\r\n    <hr>\r\n\r\n    <h2>{{$t('total')}}</h2>\r\n    <b-message v-if=\"!totalCounts\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n      {{$t('failed-fetch-total-counts')}}\r\n    </b-message>\r\n    <div v-else class=\"columns\">\r\n      <div class=\"column\">\r\n        <table class=\"table is-fullwidth\">\r\n          <tbody>\r\n            <tr>\r\n              <td>{{totalCounts.users}}</td>\r\n              <td>{{$t('users')}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>{{totalCounts.projects}}</td>\r\n              <td>{{$t('projects')}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>{{totalCounts.images}}</td>\r\n              <td>{{$t('images-in-projects')}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>{{totalCounts.abstractImages}}</td>\r\n              <td>{{$t('uploaded-images')}}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div class=\"column\">\r\n        <table class=\"table is-fullwidth\">\r\n          <tbody>\r\n            <tr>\r\n              <td>{{totalCounts.ontologies}}</td>\r\n              <td>{{$t('ontologies')}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>{{totalCounts.terms}}</td>\r\n              <td>{{$t('terms')}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>{{totalCounts.userAnnotations}}</td>\r\n              <td>{{$t('user-annotations')}}</td>\r\n            </tr>\r\n            <tr>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div class=\"column\" v-show=\"algoEnabled\">\r\n        <table class=\"table is-fullwidth\">\r\n          <tbody>\r\n            <tr>\r\n              <td>{{totalCounts.softwares}}</td>\r\n              <td>{{$t('algorithms')}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>{{totalCounts.jobs}}</td>\r\n              <td>{{$t('analyses')}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>{{totalCounts.jobAnnotations}}</td>\r\n              <td>{{$t('analysis-annotations')}}</td>\r\n            </tr>\r\n            <tr>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n\r\n    <hr>\r\n    <h2>{{$t('last-connections')}}</h2>\r\n\r\n    <div class=\"is-flex\">\r\n      <strong class=\"has-margin-right\">{{$t('period')}}</strong>\r\n      <b-select v-model=\"selectedChartOption\">\r\n        <option v-for=\"option in chartOptions\" :key=\"option.label\" :value=\"option\">\r\n          {{option.label}}\r\n        </option>\r\n      </b-select>\r\n    </div>\r\n\r\n    <div class=\"chart-container\">\r\n      <last-connections-chart\r\n        css-classes=\"chart\"\r\n        :startDate=\"selectedChartOption.startDate\"\r\n        :period=\"selectedChartOption.period\"\r\n      />\r\n    </div>\r\n\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport constants from '@/utils/constants.js';\r\nimport {Cytomine} from 'cytomine-client';\r\nimport LastConnectionsChart from '@/components/charts/LastConnectionsChart.js';\r\nimport moment from 'moment';\r\n\r\nexport default {\r\n  name: 'admin-dashboard',\r\n  components: {LastConnectionsChart},\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      currentStats: null,\r\n      totalCounts: null,\r\n      storageStats: null,\r\n      chartOptions: [],\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      selectedChartOption: null\r\n    };\r\n  },\r\n  methods: {\r\n    async fetchCurrentStats() {\r\n      this.currentStats = null; // reset to null so that we know if an error occurred (if so, variable remains null)\r\n      this.currentStats = await Cytomine.instance.fetchCurrentStats();\r\n    },\r\n    async fetchTotalCounts() {\r\n      this.totalCounts = null;\r\n      this.totalCounts = await Cytomine.instance.fetchTotalCounts();\r\n    },\r\n    async fetchStorageStats() {\r\n      this.storageStats = null;\r\n      this.storageStats = await Cytomine.instance.fetchStorageStats();\r\n    }\r\n  },\r\n  created() {\r\n    let chartOptions = [\r\n      {interval: 'day', period: 'hour'},\r\n      {interval: 'week', period: 'day'},\r\n      {interval: 'month', period: 'week'},\r\n      {interval: 'year', period: 'week'}\r\n    ];\r\n    this.chartOptions = chartOptions.map(option => {\r\n      let startDate = moment()\r\n        .add(1, option.period + 's')\r\n        .subtract(1, option.interval + 's')\r\n        .startOf(option.period)\r\n        .valueOf();\r\n      return {label: this.$t(`last-${option.interval}`), period: option.period, startDate};\r\n    });\r\n    this.selectedChartOption = this.chartOptions[0];\r\n  },\r\n  async activated() {\r\n    this.loading = true;\r\n    await Promise.all([\r\n      this.fetchCurrentStats(),\r\n      this.fetchTotalCounts(),\r\n      this.fetchStorageStats()\r\n    ].map(p => p.catch(e => console.log(e)))); // ignore errors (handled in template) and ensure all promises finish, even if some errors occur in the process\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.admin-dashboard-wrapper {\r\n  position: relative;\r\n  min-height: 10em;\r\n}\r\n\r\ntd:first-child {\r\n  font-weight: 600;\r\n  text-align: right;\r\n  padding-right: 1em;\r\n}\r\n\r\n.is-flex {\r\n  align-items: center;\r\n}\r\n\r\n.has-margin-right {\r\n  margin-right: 1em;\r\n}\r\n\r\n.chart-container {\r\n  margin-top: 2em;\r\n  height: 20em;\r\n  position: relative;\r\n}\r\n\r\n>>> .chart {\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminDashboard.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminDashboard.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AdminDashboard.vue?vue&type=template&id=2eaa6ab8&scoped=true\"\nimport script from \"./AdminDashboard.vue?vue&type=script&lang=js\"\nexport * from \"./AdminDashboard.vue?vue&type=script&lang=js\"\nimport style0 from \"./AdminDashboard.vue?vue&type=style&index=0&id=2eaa6ab8&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2eaa6ab8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('div',{staticClass:\"column is-one-half has-text-right-desktop\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.startUserCreation()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-new-user'))+\" \")])])]),_c('cytomine-table',{attrs:{\"collection\":_vm.userCollection,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"detailed\":true,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function({row: user}){return [_c('b-table-column',{attrs:{\"field\":\"username\",\"label\":_vm.$t('username'),\"sortable\":\"\",\"width\":\"100\"}},[_vm._v(\" \"+_vm._s(user.username)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"fullName\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(user.firstname)+\" \"+_vm._s(user.lastname)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"role\",\"label\":_vm.$t('role'),\"sortable\":\"\",\"width\":\"50\"}},[_c('span',{staticClass:\"tag\",class:_vm.getRoleData(user).class},[_vm._v(_vm._s(_vm.$t(_vm.getRoleData(user).label)))])]),_c('b-table-column',{attrs:{\"field\":\"email\",\"label\":_vm.$t('email'),\"sortable\":\"\",\"width\":\"150\"}},[_c('a',{attrs:{\"href\":`mailto:${user.email}`}},[_vm._v(_vm._s(user.email))])]),_c('b-table-column',{attrs:{\"field\":\"origin\",\"label\":_vm.$t('source'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"50\"}},[_c('span',{class:['tag', user.LDAP ? 'is-link' : 'is-grey']},[_vm._v(\" \"+_vm._s(_vm.displayMemberOrigin(user))+\" \")])]),_c('b-table-column',{attrs:{\"field\":\"created\",\"label\":_vm.$t('created'),\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(user.created),'ll LT'))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"updated\",\"label\":_vm.$t('updated'),\"sortable\":\"\",\"width\":\"150\"}},[(user.updated)?[_vm._v(_vm._s(_vm._f(\"moment\")(Number(user.updated),'ll LT')))]:[_vm._v(\"-\")]],2),_c('b-table-column',{attrs:{\"label\":\"\",\"width\":\"100\"}},[_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button is-link is-small\",on:{\"click\":function($event){return _vm.startUserEdition(user)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-edit'))+\" \")]),(user.enabled)?_c('button',{staticClass:\"button is-danger is-small\",on:{\"click\":function($event){return _vm.lock(user)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-lock'))+\" \")]):_c('button',{staticClass:\"button is-success is-small\",on:{\"click\":function($event){return _vm.unlock(user)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-unlock'))+\" \")])])])]}},{key:\"detail\",fn:function({row: user}){return [_c('user-details',{attrs:{\"user\":user}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-user-fitting-criteria')))])])]},proxy:true}],null,false,1975094862)}),_c('user-modal',{attrs:{\"active\":_vm.modal,\"user\":_vm.editedUser},on:{\"update:active\":function($event){_vm.modal=$event},\"addUser\":_vm.refreshUsers,\"updateUser\":_vm.updateUser}})]]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.title},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any() || !_vm.isAdminConfirmed()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('input',{staticClass:\"hidden\",attrs:{\"id\":\"username\",\"type\":\"text\"}}),_c('input',{staticClass:\"hidden\",attrs:{\"id\":\"password\",\"type\":\"password\"}}),_c('b-field',{key:'username',attrs:{\"label\":_vm.$t('username'),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has('username')},\"message\":_vm.errors.first('username')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":'username',\"type\":'text',\"disabled\":_vm.internalUser.id},model:{value:(_vm.internalUser['username']),callback:function ($$v) {_vm.$set(_vm.internalUser, 'username', $$v)},expression:\"internalUser['username']\"}})],1),_vm._l((_vm.editableFields),function({field, validationRules}){return _c('b-field',{key:field,attrs:{\"label\":_vm.$t(field === 'password' && _vm.editionMode ? 'password-new' : field),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has(field)},\"message\":_vm.errors.first(field)}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(validationRules),expression:\"validationRules\"}],attrs:{\"name\":field,\"type\":field === 'password' ? 'password': 'text',\"password-reveal\":field === 'password'},model:{value:(_vm.internalUser[field]),callback:function ($$v) {_vm.$set(_vm.internalUser, field, $$v)},expression:\"internalUser[field]\"}})],1)}),_c('b-field',{attrs:{\"label\":_vm.$t('role'),\"horizontal\":\"\"}},[_c('b-select',{model:{value:(_vm.selectedRole),callback:function ($$v) {_vm.selectedRole=$$v},expression:\"selectedRole\"}},_vm._l((_vm.roles),function(value,key){return _c('option',{key:key,domProps:{\"value\":key}},[_vm._v(\" \"+_vm._s(_vm.$t(value.label))+\" \")])}),0)],1),(_vm.isChangingRoleToAdmin())?_c('b-field',{attrs:{\"horizontal\":\"\"}},[_c('b-checkbox',{model:{value:(_vm.adminConfirm),callback:function ($$v) {_vm.adminConfirm=$$v},expression:\"adminConfirm\"}},[_vm._v(\" \"+_vm._s(_vm.$t('admin-warning'))+\" \")])],1):_vm._e(),_c('b-field',{attrs:{\"label\":_vm.$t('language'),\"horizontal\":\"\"}},[_c('b-select',{model:{value:(_vm.internalUser['language']),callback:function ($$v) {_vm.$set(_vm.internalUser, 'language', $$v)},expression:\"internalUser['language']\"}},_vm._l((_vm.languages),function({value, name}){return _c('option',{key:value,domProps:{\"value\":value}},[_vm._v(\" \"+_vm._s(name)+\" \")])}),0)],1),_c('b-field',{attrs:{\"label\":_vm.$t('developer-mode'),\"horizontal\":\"\"}},[_c('b-switch',{staticClass:\"switch\",model:{value:(_vm.internalUser.isDeveloper),callback:function ($$v) {_vm.$set(_vm.internalUser, \"isDeveloper\", $$v)},expression:\"internalUser.isDeveloper\"}},[(_vm.internalUser.isDeveloper)?[_vm._v(_vm._s(_vm.$t('yes')))]:[_vm._v(_vm._s(_vm.$t('no')))]],2)],1)],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<form @submit.prevent=\"save()\">\r\n  <cytomine-modal :active=\"active\" :title=\"title\" @close=\"$emit('update:active', false)\">\r\n    <!-- HACK: fake fields to prevent autofill -->\r\n    <input id=\"username\" class=\"hidden\" type=\"text\">\r\n    <input id=\"password\" class=\"hidden\" type=\"password\">\r\n\r\n    <b-field\r\n      :key=\"'username'\"\r\n      :label=\"$t('username')\"\r\n      horizontal\r\n      :type=\"{'is-danger': errors.has('username')}\"\r\n      :message=\"errors.first('username')\"\r\n    >\r\n      <b-input\r\n        v-model=\"internalUser['username']\"\r\n        :name=\"'username'\"\r\n        v-validate=\"'required'\"\r\n        :type=\"'text'\"\r\n        :disabled=\"internalUser.id\"\r\n      />\r\n    </b-field>\r\n\r\n    <b-field\r\n      v-for=\"{field, validationRules} in editableFields\"\r\n      :key=\"field\"\r\n      :label=\"$t(field === 'password' && editionMode ? 'password-new' : field)\"\r\n      horizontal\r\n      :type=\"{'is-danger': errors.has(field)}\"\r\n      :message=\"errors.first(field)\"\r\n    >\r\n      <b-input\r\n        v-model=\"internalUser[field]\"\r\n        :name=\"field\"\r\n        v-validate=\"validationRules\"\r\n        :type=\"field === 'password' ? 'password': 'text'\"\r\n        :password-reveal=\"field === 'password'\"\r\n      />\r\n    </b-field>\r\n\r\n    <b-field :label=\"$t('role')\" horizontal>\r\n      <b-select v-model=\"selectedRole\">\r\n        <option v-for=\"(value, key) in roles\" :value=\"key\" :key=\"key\">\r\n          {{$t(value.label)}}\r\n        </option>\r\n      </b-select>\r\n    </b-field>\r\n\r\n    <b-field horizontal v-if=\"isChangingRoleToAdmin()\">\r\n      <b-checkbox v-model=\"adminConfirm\">\r\n        {{$t('admin-warning')}}\r\n      </b-checkbox>\r\n    </b-field>\r\n\r\n    <b-field :label=\"$t('language')\" horizontal>\r\n      <b-select v-model=\"internalUser['language']\">\r\n        <option v-for=\"{value, name} in languages\" :key=\"value\" :value=\"value\">\r\n          {{name}}\r\n        </option>\r\n      </b-select>\r\n    </b-field>\r\n\r\n    <b-field :label=\"$t('developer-mode')\" horizontal>\r\n      <b-switch v-model=\"internalUser.isDeveloper\" class=\"switch\">\r\n        <template v-if=\"internalUser.isDeveloper\">{{$t('yes')}}</template>\r\n        <template v-else>{{$t('no')}}</template>\r\n      </b-switch>\r\n    </b-field>\r\n\r\n    <template #footer>\r\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" :disabled=\"errors.any() || !isAdminConfirmed()\">\r\n        {{$t('button-save')}}\r\n      </button>\r\n    </template>\r\n  </cytomine-modal>\r\n</form>\r\n</template>\r\n\r\n<script>\r\nimport {User, RoleCollection} from 'cytomine-client';\r\nimport {rolesMapping} from '@/utils/role-utils';\r\nconst defaultRole = 'ROLE_GUEST';\r\nconst defaultLanguage = {value: 'EN', name:'English'};\r\n\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\n\r\nexport default {\r\n  name: 'user-modal',\r\n  props: {\r\n    active: Boolean,\r\n    user: Object\r\n  },\r\n  components: {CytomineModal},\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      internalUser: {},\r\n      rolesWithIds: null,\r\n      selectedRole: defaultRole,\r\n      displayErrors: false,\r\n      adminConfirm: false,\r\n      languages: [\r\n        {value: 'EN', name:'English'},\r\n        {value: 'FR', name:'Franais'},\r\n        {value: 'ES', name:'Espaol'},\r\n        {value: 'NL', name:'Nederlands'}\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    roles() {\r\n      return rolesMapping;\r\n    },\r\n    editionMode() {\r\n      return Boolean(this.user);\r\n    },\r\n    title() {\r\n      return this.$t(this.editionMode ? 'update-user' : 'create-user');\r\n    },\r\n    editableFields() {\r\n      return [\r\n        {field: 'firstname', validationRules: 'required'},\r\n        {field: 'lastname', validationRules: 'required'},\r\n        //{field: 'username', validationRules: 'required'},\r\n        {field: 'email', validationRules: 'required|email'},\r\n        {field: 'password', validationRules: this.editionMode ? 'min:8' : 'required|min:8'}\r\n      ];\r\n    },\r\n    idRole() {\r\n      return this.rolesWithIds.find(role => role.authority === this.selectedRole).id;\r\n    }\r\n  },\r\n  watch: {\r\n    selectedRole() {\r\n      this.adminConfirm = !this.isChangingRoleToAdmin();\r\n    },\r\n    active(val) {\r\n      if(val) {\r\n        if(!this.rolesWithIds) {\r\n          this.$notify({type: 'error', text: this.$t('notif-unexpected-error')});\r\n          this.$emit('update:active', false);\r\n          return;\r\n        }\r\n        this.internalUser = this.user ? this.user.clone() : new User();\r\n        this.selectedRole = this.user ? this.user.role : defaultRole;\r\n        this.internalUser.language = this.user ? this.user.language : defaultLanguage.value;\r\n        this.displayErrors = false;\r\n        this.adminConfirm = false;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    isChangingRoleToAdmin() {\r\n      let currentRole = this.user ? this.user.role : defaultRole;\r\n      return this.isNotAdmin(currentRole) && !this.isNotAdmin(this.selectedRole);\r\n    },\r\n    isNotAdmin(role){\r\n      return role != 'ROLE_ADMIN' && role != 'ROLE_SUPER_ADMIN';\r\n    },\r\n    isAdminConfirmed(){\r\n      return this.adminConfirm || !this.isChangingRoleToAdmin();\r\n    },\r\n    \r\n    async save() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      let labelTranslation = this.editionMode ? 'update' : 'creation';\r\n\r\n      try {\r\n        await this.internalUser.save();\r\n        if(!this.editionMode || this.selectedRole !== this.user.role) {\r\n          await this.internalUser.defineRole(this.idRole);\r\n          this.internalUser.role = this.selectedRole; // for correct rendering in list\r\n        }\r\n        if(this.editionMode && this.internalUser.password) {\r\n          await this.internalUser.savePassword(this.internalUser.password);\r\n        }\r\n        this.internalUser.password = ''; // reinitialize password so that if modal reopened, field empty\r\n        this.$notify({type: 'success', text: this.$t('notif-success-user-' + labelTranslation)});\r\n        this.$emit('update:active', false);\r\n        this.$emit(this.editionMode ? 'updateUser' : 'addUser', this.internalUser);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-user-' + labelTranslation)});\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    try {\r\n      this.rolesWithIds = (await RoleCollection.fetchAll()).array;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.hidden {\r\n  display: none;\r\n}\r\n\r\n>>> .modal-card, >>> .modal-card-body {\r\n  width: 100vw;\r\n  max-width: 800px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UserModal.vue?vue&type=template&id=faba5b5c&scoped=true\"\nimport script from \"./UserModal.vue?vue&type=script&lang=js\"\nexport * from \"./UserModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./UserModal.vue?vue&type=style&index=0&id=faba5b5c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"faba5b5c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"details-wrapper\"},[_c('b-loading',{staticClass:\"small\",attrs:{\"active\":_vm.loading,\"is-full-page\":false}}),(!_vm.loading)?_c('table',{staticClass:\"table\"},[_c('tbody',[(_vm.currentUser.isDeveloper)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('id')))]),_c('td',{attrs:{\"colspan\":\"2\"}},[_vm._v(_vm._s(_vm.user.id))])]):_vm._e(),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('projects')))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.projects ? _vm.projects.length : '?')+\" \")]),_c('td',[(_vm.projects && _vm.projects.length)?_c('b-collapse',{attrs:{\"open\":false},scopedSlots:_vm._u([{key:\"trigger\",fn:function({open}){return [_c('button',{staticClass:\"button is-small\"},[_vm._v(\" \"+_vm._s(_vm.$t(open ? 'button-hide' : 'button-show'))+\" \")])]}}],null,false,3507901580)},[_c('ul',_vm._l((_vm.projects),function(project){return _c('li',{key:project.id},[_c('router-link',{attrs:{\"to\":`/project/${project.id}`}},[_vm._v(\" \"+_vm._s(project.name)+\" \")])],1)}),0)]):_vm._e()],1)]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('managed-projects')))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.managedProjects ? _vm.managedProjects.length : '?')+\" \")]),_c('td',[(_vm.managedProjects && _vm.managedProjects.length)?_c('b-collapse',{attrs:{\"open\":false},scopedSlots:_vm._u([{key:\"trigger\",fn:function({open}){return [_c('button',{staticClass:\"button is-small\"},[_vm._v(\" \"+_vm._s(_vm.$t(open ? 'button-hide' : 'button-show'))+\" \")])]}}],null,false,3507901580)},[_c('ul',_vm._l((_vm.managedProjects),function(project){return _c('li',{key:project.id},[_c('router-link',{attrs:{\"to\":`/project/${project.id}`}},[_vm._v(\" \"+_vm._s(project.name)+\" \")])],1)}),0)]):_vm._e()],1)]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('user-annotations')))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.nbAnnotations == null ? '?' : _vm.nbAnnotations)+\" \")]),_c('td')]),(_vm.currentUser.id !== _vm.user.id)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('actions')))]),_c('td',{attrs:{\"colspan\":\"2\"}},[_c('button',{staticClass:\"button is-link is-small\",on:{\"click\":function($event){return _vm.switchUser()}}},[_vm._v(\" \"+_vm._s(_vm.$t('connect-as-user', {username: _vm.user.username}))+\" \")])])]):_vm._e()])]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"details-wrapper\">\r\n  <b-loading :active=\"loading\" :is-full-page=\"false\" class=\"small\" />\r\n  <table v-if=\"!loading\" class=\"table\">\r\n    <tbody>\r\n      <tr v-if=\"currentUser.isDeveloper\">\r\n        <td>{{$t('id')}}</td>\r\n        <td colspan=\"2\">{{user.id}}</td>\r\n      </tr>\r\n      <tr>\r\n        <td>{{$t('projects')}}</td>\r\n        <td>\r\n          {{projects ? projects.length : '?'}}\r\n        </td>\r\n        <td>\r\n          <b-collapse v-if=\"projects && projects.length\" :open=\"false\">\r\n            <template #trigger=\"{open}\">\r\n              <button class=\"button is-small\">\r\n                {{$t(open ? 'button-hide' : 'button-show')}}\r\n              </button>\r\n            </template>\r\n            <ul>\r\n              <li v-for=\"project in projects\" :key=\"project.id\">\r\n                <router-link :to=\"`/project/${project.id}`\">\r\n                  {{ project.name }}\r\n                </router-link>\r\n              </li>\r\n            </ul>\r\n          </b-collapse>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td>{{$t('managed-projects')}}</td>\r\n        <td>\r\n          {{managedProjects ? managedProjects.length : '?'}}\r\n        </td>\r\n        <td>\r\n          <b-collapse v-if=\"managedProjects && managedProjects.length\" :open=\"false\">\r\n            <template #trigger=\"{open}\">\r\n              <button class=\"button is-small\">\r\n                {{$t(open ? 'button-hide' : 'button-show')}}\r\n              </button>\r\n            </template>\r\n            <ul>\r\n              <li v-for=\"project in managedProjects\" :key=\"project.id\">\r\n                <router-link :to=\"`/project/${project.id}`\">\r\n                  {{ project.name }}\r\n                </router-link>\r\n              </li>\r\n            </ul>\r\n          </b-collapse>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td>{{$t('user-annotations')}}</td>\r\n        <td>\r\n          {{nbAnnotations == null ? '?' : nbAnnotations}}\r\n        </td>\r\n        <td></td>\r\n      </tr>\r\n      <tr v-if=\"currentUser.id !== user.id\">\r\n        <td>{{$t('actions')}}</td>\r\n        <td colspan=\"2\">\r\n          <button class=\"button is-link is-small\" @click=\"switchUser()\">\r\n            {{$t('connect-as-user', {username: user.username})}}\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {Cytomine, ProjectCollection} from 'cytomine-client';\r\n\r\nexport default {\r\n  props: {\r\n    user: Object\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      projects: null,\r\n      managedProjects: null,\r\n      nbAnnotations: null,\r\n      showProjects: false,\r\n      showManagedProjects: false\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user')\r\n  },\r\n  methods: {\r\n    async fetchProjects() {\r\n      this.projects = (await ProjectCollection.fetchAll({\r\n        filterKey: 'user',\r\n        filterValue: this.user.id,\r\n        light: true\r\n      })).array;\r\n    },\r\n    async fetchManagedProjects() {\r\n      this.managedProjects = (await ProjectCollection.fetchAll({\r\n        filterKey: 'user',\r\n        filterValue: this.user.id,\r\n        light: true,\r\n        admin: true\r\n      })).array;\r\n    },\r\n    async fetchNbAnnotations() {\r\n      this.nbAnnotations = await this.user.fetchNbAnnotations();\r\n    },\r\n    async switchUser() {\r\n      try {\r\n        await Cytomine.instance.switchUser(this.user.username);\r\n        await this.$store.dispatch('currentUser/fetchUser');\r\n        this.$router.push('/');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-failed-to-connect-as-user')});\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    await Promise.all([\r\n      this.fetchProjects(),\r\n      this.fetchManagedProjects(),\r\n      this.fetchNbAnnotations()\r\n    ].map(p => p.catch(e => console.log(e)))); // ignore errors (handled in template) and ensure all promises finish, even if some errors occur in the process\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n  background: none;\r\n}\r\n\r\n.details-wrapper {\r\n  min-height: 3em;\r\n  position: relative;\r\n}\r\n\r\ntd:first-child {\r\n  font-weight: 600;\r\n}\r\n\r\ntd:not(:last-child) {\r\n  white-space: nowrap;\r\n}\r\n\r\ntd:last-child {\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserDetails.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserDetails.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UserDetails.vue?vue&type=template&id=5bd2ab78&scoped=true\"\nimport script from \"./UserDetails.vue?vue&type=script&lang=js\"\nexport * from \"./UserDetails.vue?vue&type=script&lang=js\"\nimport style0 from \"./UserDetails.vue?vue&type=style&index=0&id=5bd2ab78&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bd2ab78\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <template v-if=\"!loading\">\r\n    <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n      <h2> {{ $t('error') }} </h2>\r\n      <p> {{ $t('unexpected-error-info-message') }} </p>\r\n    </b-message>\r\n    <template v-else>\r\n      <div class=\"columns\">\r\n        <div class=\"column is-one-quarter\">\r\n          <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\r\n        </div>\r\n\r\n        <div class=\"column is-one-half has-text-right-desktop\">\r\n          <button class=\"button is-link\" @click=\"startUserCreation()\">\r\n            {{$t('button-new-user')}}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <cytomine-table\r\n        :collection=\"userCollection\"\r\n        :currentPage.sync=\"currentPage\"\r\n        :perPage.sync=\"perPage\"\r\n        :sort.sync=\"sortField\"\r\n        :order.sync=\"sortOrder\"\r\n        :detailed=true\r\n        :revision=\"revision\"\r\n      >\r\n        <template #default=\"{row: user}\">\r\n\r\n          <b-table-column field=\"username\" :label=\"$t('username')\" sortable width=\"100\">\r\n            {{user.username}}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"fullName\" :label=\"$t('name')\" sortable width=\"150\">\r\n            {{user.firstname}} {{user.lastname}}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"role\" :label=\"$t('role')\" sortable width=\"50\">\r\n            <span class=\"tag\" :class=\"getRoleData(user).class\">{{$t(getRoleData(user).label)}}</span>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"email\" :label=\"$t('email')\" sortable width=\"150\">\r\n            <a :href=\"`mailto:${user.email}`\">{{ user.email }}</a>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"origin\" :label=\"$t('source')\" centered sortable width=\"50\">\r\n            <span :class=\"['tag', user.LDAP ? 'is-link' : 'is-grey']\">\r\n              {{displayMemberOrigin(user)}}\r\n            </span>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"created\" :label=\"$t('created')\" sortable width=\"150\">\r\n            {{Number(user.created) | moment('ll LT')}}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"updated\" :label=\"$t('updated')\" sortable width=\"150\">\r\n            <template v-if=\"user.updated\">{{Number(user.updated) | moment('ll LT')}}</template>\r\n            <template v-else>-</template>\r\n          </b-table-column>\r\n\r\n          <b-table-column label=\"\" width=\"100\">\r\n            <div class=\"buttons\">\r\n              <button class=\"button is-link is-small\" @click=\"startUserEdition(user)\">\r\n                {{$t('button-edit')}}\r\n              </button>\r\n              <button v-if=\"user.enabled\" class=\"button is-danger is-small\" @click=\"lock(user)\">\r\n                {{$t('button-lock')}}\r\n              </button>\r\n              <button v-else class=\"button is-success is-small\" @click=\"unlock(user)\">\r\n                {{$t('button-unlock')}}\r\n              </button>\r\n            </div>\r\n          </b-table-column>\r\n        </template>\r\n\r\n        <template #detail=\"{row: user}\">\r\n          <user-details :user=\"user\" />\r\n        </template>\r\n\r\n        <template #empty>\r\n          <div class=\"content has-text-grey has-text-centered\">\r\n            <p>{{$t('no-user-fitting-criteria')}}</p>\r\n          </div>\r\n        </template>\r\n      </cytomine-table>\r\n\r\n      <user-modal :active.sync=\"modal\" :user=\"editedUser\" @addUser=\"refreshUsers\" @updateUser=\"updateUser\" />\r\n    </template>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport CytomineTable from '@/components/utils/CytomineTable';\r\nimport {UserCollection} from 'cytomine-client';\r\nimport UserModal from './UserModal';\r\nimport UserDetails from './UserDetails';\r\nimport {rolesMapping} from '@/utils/role-utils';\r\n\r\nexport default {\r\n  name: 'admin-users',\r\n  components: {\r\n    CytomineTable,\r\n    UserModal,\r\n    UserDetails\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n      addUserModal: false,\r\n      searchString: '',\r\n      currentPage: 1,\r\n      perPage: 25,\r\n      sortField: 'username',\r\n      sortOrder: '',\r\n      revision: 0,\r\n      modal: false,\r\n      editedUser: null\r\n    };\r\n  },\r\n  computed: {\r\n    roles() {\r\n      return rolesMapping;\r\n    },\r\n    userCollection() {\r\n      let collection = new UserCollection({\r\n        withRoles: true\r\n      });\r\n      if(this.searchString) {\r\n        collection['fullName'] = {\r\n          ilike: encodeURIComponent(this.searchString)\r\n        };\r\n      }\r\n\r\n      return collection;\r\n    }\r\n  },\r\n  methods: {\r\n    displayMemberOrigin(member){\r\n      let key;\r\n      if(member.origin === 'LDAP') key = 'LDAP';\r\n      if(member.origin === 'BOOTSTRAP') key = 'system';\r\n      else key = 'manual';\r\n\r\n      return this.$t(key);\r\n    },\r\n    getRoleData(user) {\r\n      return this.roles[user.role];\r\n    },\r\n    async lock(user) {\r\n      try {\r\n        await user.lock();\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-user-lock')});\r\n      }\r\n    },\r\n    async unlock(user) {\r\n      try {\r\n        await user.unlock();\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-user-unlock')});\r\n      }\r\n    },\r\n    startUserCreation() {\r\n      this.editedUser = null;\r\n      this.modal = true;\r\n    },\r\n    refreshUsers() {\r\n      this.revision++;\r\n    },\r\n    startUserEdition(user) {\r\n      this.editedUser = user;\r\n      this.modal = true;\r\n    },\r\n    updateUser(user) {\r\n      this.revision++;\r\n      this.editedUser.populate(user);\r\n    }\r\n  },\r\n  async created() {\r\n    this.revision++;\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminUsers.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminUsers.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AdminUsers.vue?vue&type=template&id=70fc0491\"\nimport script from \"./AdminUsers.vue?vue&type=script&lang=js\"\nexport * from \"./AdminUsers.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[(!_vm.trustedSources)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('div',{staticClass:\"column is-one-half has-text-right-desktop\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.startSourceCreation()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-new-trusted-source'))+\" \")])])]),_c('b-table',{attrs:{\"data\":_vm.filteredTrustedSources,\"paginated\":true,\"per-page\":_vm.perPage,\"pagination-size\":\"is-small\"},scopedSlots:_vm._u([{key:\"default\",fn:function({row: source}){return [_c('b-table-column',{attrs:{\"field\":\"source\",\"label\":_vm.$t('trusted-source'),\"width\":\"400\"}},[_c('software-source',{attrs:{\"source\":source}})],1),_c('b-table-column',{attrs:{\"label\":\"\",\"width\":\"50\"}},[_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button is-link is-small\",on:{\"click\":function($event){return _vm.startSourceEdition(source)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-edit'))+\" \")]),_c('button',{staticClass:\"button is-link is-small\",on:{\"click\":function($event){return _vm.refresh(source)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-refresh'))+\" \")]),_c('button',{staticClass:\"button is-danger is-small\",on:{\"click\":function($event){return _vm.deleteSourceDialog(source)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")])])])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-trusted-source-fitting-criteria')))])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}],null,false,3431149966)}),_c('trusted-source-modal',{attrs:{\"active\":_vm.modal,\"source\":_vm.editedSource},on:{\"update:active\":function($event){_vm.modal=$event},\"addSource\":_vm.addSource,\"updateSource\":_vm.updateSource}})]]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.title},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},_vm._l((_vm.editableFields),function({field, validationRules, disabled}){return _c('b-field',{key:field,attrs:{\"label\":_vm.$t(_vm.fieldLabels[field]),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has(field)},\"message\":_vm.errors.first(field)}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(validationRules),expression:\"validationRules\"}],attrs:{\"name\":field,\"placeholder\":\"\",\"disabled\":disabled},model:{value:(_vm.internalSource[field]),callback:function ($$v) {_vm.$set(_vm.internalSource, field, $$v)},expression:\"internalSource[field]\"}})],1)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <form @submit.prevent=\"save()\">\r\n    <cytomine-modal :active=\"active\" :title=\"title\" @close=\"$emit('update:active', false)\">\r\n      <b-field\r\n        v-for=\"{field, validationRules, disabled} in editableFields\"\r\n        :key=\"field\"\r\n        :label=\"$t(fieldLabels[field])\"\r\n        horizontal\r\n        :type=\"{'is-danger': errors.has(field)}\"\r\n        :message=\"errors.first(field)\"\r\n      >\r\n        <b-input\r\n          v-model=\"internalSource[field]\"\r\n          :name=\"field\"\r\n          v-validate=\"validationRules\"\r\n          placeholder=\"\"\r\n          :disabled=disabled\r\n        />\r\n      </b-field>\r\n\r\n      <template #footer>\r\n        <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\r\n          {{$t('button-cancel')}}\r\n        </button>\r\n        <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n          {{$t('button-save')}}\r\n        </button>\r\n      </template>\r\n    </cytomine-modal>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport {TrustedSource} from 'cytomine-client';\r\n\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\n\r\nexport default {\r\n  name: 'trusted-source-modal',\r\n  props: {\r\n    active: Boolean,\r\n    source: Object\r\n  },\r\n  components: {CytomineModal},\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      internalSource: {},\r\n      displayErrors: false\r\n    };\r\n  },\r\n  computed: {\r\n    editionMode() {\r\n      return Boolean(this.source);\r\n    },\r\n    title() {\r\n      return this.$t(this.editionMode ? 'update-source' : 'create-source');\r\n    },\r\n    editableFields() {\r\n      return [\r\n        {field: 'username', validationRules: 'required', disabled: false},\r\n        {field: 'dockerUsername', validationRules: 'required', disabled: false},\r\n        {field: 'prefix', validationRules: '', disabled: false},\r\n        {field: 'provider', validationRules: 'required', disabled: true},\r\n        {field: 'environmentProvider', validationRules: 'required', disabled: true},\r\n      ];\r\n    },\r\n    fieldLabels() {\r\n      return {\r\n        'provider': 'source-provider',\r\n        'username': 'source-provider-name',\r\n        'environmentProvider': 'environment-provider',\r\n        'dockerUsername': 'environment-provider-name',\r\n        'prefix': 'prefix'\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    active(val) {\r\n      if(val) {\r\n        this.internalSource = this.formatSource(this.source ? this.source.clone() : new TrustedSource());\r\n        this.displayErrors = false;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async save() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      let labelTranslation = this.editionMode ? 'update' : 'creation';\r\n\r\n      try {\r\n        let source = (await this.internalSource.save());\r\n        this.internalSource = this.formatSource(source);\r\n        this.$notify({type: 'success', text: this.$t('notif-success-source-' + labelTranslation)});\r\n        this.$emit('update:active', false);\r\n        this.$emit(this.editionMode ? 'updateSource' : 'addSource', this.internalSource);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-source-' + labelTranslation)});\r\n      }\r\n    },\r\n    formatSource(source) {\r\n      source.environmentProvider = 'docker';\r\n      source.provider = (!source.provider) ? 'github' : source.provider;\r\n      return source;\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n>>> .modal-card, >>> .modal-card-body {\r\n  width: 100vw;\r\n  max-width: 800px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSourceModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSourceModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TrustedSourceModal.vue?vue&type=template&id=0a1b2893&scoped=true\"\nimport script from \"./TrustedSourceModal.vue?vue&type=script&lang=js\"\nexport * from \"./TrustedSourceModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./TrustedSourceModal.vue?vue&type=style&index=0&id=0a1b2893&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a1b2893\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n    <template v-if=\"!loading\">\r\n      <b-message v-if=\"!trustedSources\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n        <h2> {{ $t('error') }} </h2>\r\n        <p> {{ $t('unexpected-error-info-message') }} </p>\r\n      </b-message>\r\n      <template v-else>\r\n        <div class=\"columns\">\r\n          <div class=\"column is-one-quarter\">\r\n            <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\r\n          </div>\r\n\r\n          <div class=\"column is-one-half has-text-right-desktop\">\r\n            <button class=\"button is-link\" @click=\"startSourceCreation()\">\r\n              {{$t('button-new-trusted-source')}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <b-table\r\n          :data=\"filteredTrustedSources\"\r\n          :paginated=\"true\"\r\n          :per-page=\"perPage\"\r\n          pagination-size=\"is-small\"\r\n        >\r\n\r\n          <template #default=\"{row: source}\">\r\n\r\n            <b-table-column field=\"source\" :label=\"$t('trusted-source')\" width=\"400\">\r\n              <software-source :source=\"source\" />\r\n            </b-table-column>\r\n\r\n            <b-table-column label=\"\" width=\"50\">\r\n              <div class=\"buttons\">\r\n                <button class=\"button is-link is-small\" @click=\"startSourceEdition(source)\">\r\n                  {{$t('button-edit')}}\r\n                </button>\r\n                <button class=\"button is-link is-small\" @click=\"refresh(source)\">\r\n                  {{$t('button-refresh')}}\r\n                </button>\r\n                <button class=\"button is-danger is-small\" @click=\"deleteSourceDialog(source)\">\r\n                  {{$t('button-delete')}}\r\n                </button>\r\n              </div>\r\n            </b-table-column>\r\n          </template>\r\n\r\n          <template #empty>\r\n            <div class=\"content has-text-grey has-text-centered\">\r\n              <p>{{$t('no-trusted-source-fitting-criteria')}}</p>\r\n            </div>\r\n          </template>\r\n\r\n          <template #bottom-left>\r\n            <b-select v-model=\"perPage\" size=\"is-small\">\r\n              <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n              <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n              <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n              <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n            </b-select>\r\n          </template>\r\n        </b-table>\r\n\r\n        <trusted-source-modal :active.sync=\"modal\" :source=\"editedSource\" @addSource=\"addSource\" @updateSource=\"updateSource\" />\r\n      </template>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {TrustedSourceCollection} from 'cytomine-client';\r\nimport TrustedSourceModal from './TrustedSourceModal';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\nimport SoftwareSource from '@/components/software/SoftwareSource';\r\n\r\nexport default {\r\n  name: 'admin-software',\r\n  components: {\r\n    SoftwareSource,\r\n    TrustedSourceModal,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      trustedSources: null,\r\n      addSourceModal: false,\r\n      searchString: '',\r\n      perPage: 25,\r\n      modal: false,\r\n      editedSource: null\r\n    };\r\n  },\r\n  computed: {\r\n    regexp() {\r\n      return getWildcardRegexp(this.searchString);\r\n    },\r\n    filteredTrustedSources() {\r\n      if(!this.searchString) {\r\n        return this.trustedSources;\r\n      }\r\n\r\n      return this.trustedSources.filter(ts => this.regexp.test(ts.name) ||\r\n        this.regexp.test(ts.username) || this.regexp.test(ts.provider) ||\r\n        this.regexp.test(ts.dockerUsername) || this.regexp.test(ts.environmentProvider));\r\n    }\r\n  },\r\n  methods: {\r\n    formatSource(source) {\r\n      source.environmentProvider = 'docker';\r\n    },\r\n    async refresh(source) {\r\n      try {\r\n        await source.refresh();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-source-refresh')});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-source-refresh')});\r\n      }\r\n    },\r\n    startSourceCreation() {\r\n      this.editedSource = null;\r\n      this.modal = true;\r\n    },\r\n    addSource(source) {\r\n      this.formatSource(source);\r\n      this.trustedSources.push(source);\r\n    },\r\n    startSourceEdition(source) {\r\n      this.editedSource = source;\r\n      this.modal = true;\r\n    },\r\n    updateSource(source) {\r\n      this.formatSource(source);\r\n      this.editedSource.populate(source);\r\n    },\r\n    deleteSourceDialog(source) {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('delete'),\r\n        message: this.$t('delete-source-confirmation-message', {username: source.username, dockerUsername: source.dockerUsername}),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.deleteSource(source)\r\n      });\r\n    },\r\n    deleteSource(source) {\r\n      try {\r\n        source.delete();\r\n        this.trustedSources.splice(this.trustedSources.indexOf(source), 1);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-source-delete', {username: source.username, dockerUsername: source.dockerUsername})\r\n        });\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-source-delete', {username: source.username, dockerUsername: source.dockerUsername})\r\n        });\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    try {\r\n      let sources = (await TrustedSourceCollection.fetchAll()).array;\r\n      sources.forEach(source => this.formatSource(source));\r\n      this.trustedSources = sources;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n    }\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminSoftware.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminSoftware.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AdminSoftware.vue?vue&type=template&id=2f522a1e\"\nimport script from \"./AdminSoftware.vue?vue&type=script&lang=js\"\nexport * from \"./AdminSoftware.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('welcome-message')))]),_c('cytomine-quill-editor',{model:{value:(_vm.welcomeConfig.value),callback:function ($$v) {_vm.$set(_vm.welcomeConfig, \"value\", $$v)},expression:\"welcomeConfig.value\"}}),_c('p',{staticClass:\"has-text-right\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":_vm.save}},[_vm._v(_vm._s(_vm.$t('button-save')))])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n\r\n<template>\r\n<div>\r\n  <h2>{{$t('welcome-message')}}</h2>\r\n  <cytomine-quill-editor v-model=\"welcomeConfig.value\" />\r\n  <p class=\"has-text-right\">\r\n    <button class=\"button is-link\" @click=\"save\">{{$t('button-save')}}</button>\r\n  </p>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport CytomineQuillEditor from '@/components/form/CytomineQuillEditor';\r\nimport {Configuration} from 'cytomine-client';\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'admin-configuration',\r\n  components: {CytomineQuillEditor},\r\n  data() {\r\n    return {\r\n      welcomeConfig: new Configuration({key: constants.CONFIG_KEY_WELCOME, value: '', readingRole: 'all'})\r\n    };\r\n  },\r\n  methods: {\r\n    async save() {\r\n      try {\r\n        if(!this.welcomeConfig.value) {\r\n          await this.welcomeConfig.delete();\r\n        }\r\n        else {\r\n          await this.welcomeConfig.save();\r\n        }\r\n        this.$notify({type: 'success', text: this.$t('notif-success-welcome-message-update')});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-welcome-message-update')});\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      await this.welcomeConfig.fetch();\r\n    }\r\n    catch(error) {\r\n      // no welcome message currently set\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n>>> .cytomine-quill-editor {\r\n  min-height: 25em !important;\r\n  max-height: 25em !important;\r\n}\r\n\r\n.button {\r\n  margin-top: 1em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminConfiguration.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminConfiguration.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AdminConfiguration.vue?vue&type=template&id=5d85b1f4&scoped=true\"\nimport script from \"./AdminConfiguration.vue?vue&type=script&lang=js\"\nexport * from \"./AdminConfiguration.vue?vue&type=script&lang=js\"\nimport style0 from \"./AdminConfiguration.vue?vue&type=style&index=0&id=5d85b1f4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d85b1f4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[(!_vm.tags)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('div',{staticClass:\"column is-one-half has-text-right-desktop\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.startTagCreation()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-new-tag'))+\" \")])])]),_c('b-table',{attrs:{\"data\":_vm.filteredTags,\"paginated\":true,\"per-page\":_vm.perPage,\"pagination-size\":\"is-small\"},scopedSlots:_vm._u([{key:\"default\",fn:function({row: tag}){return [_c('b-table-column',{attrs:{\"field\":'name',\"label\":_vm.$t('name'),\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(tag.name)+\" \")]),_c('b-table-column',{attrs:{\"field\":'creatorName',\"label\":_vm.$t('creator'),\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(tag.creatorName)+\" \")]),_c('b-table-column',{attrs:{\"field\":'created',\"label\":_vm.$t('created'),\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(tag.created),'ll'))+\" \")]),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\"}},[_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button is-small is-link\",on:{\"click\":function($event){return _vm.startTagEdition(tag)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-edit'))+\" \")]),_c('button',{staticClass:\"button is-small is-danger\",on:{\"click\":function($event){return _vm.deleteTagDialog(tag)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")])])])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-tag-fitting-criteria')))])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}],null,false,2904442176)}),_c('tag-modal',{attrs:{\"active\":_vm.modal,\"tag\":_vm.editedTag},on:{\"update:active\":function($event){_vm.modal=$event},\"addTag\":_vm.addTag,\"updateTag\":_vm.updateTag}})]]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.title},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-field',{attrs:{\"label\":_vm.$t('name'),\"type\":{'is-danger': _vm.errors.has('name')},\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"name\"},model:{value:(_vm.internalTag['name']),callback:function ($$v) {_vm.$set(_vm.internalTag, 'name', $$v)},expression:\"internalTag['name']\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n\r\n<template>\r\n<form @submit.prevent=\"save()\">\r\n  <cytomine-modal :active=\"active\" :title=\"title\" @close=\"$emit('update:active', false)\">\r\n    <b-field :label=\"$t('name')\" :type=\"{'is-danger': errors.has('name')}\" :message=\"errors.first('name')\">\r\n      <b-input v-model=\"internalTag['name']\" name=\"name\" v-validate=\"'required'\" />\r\n    </b-field>\r\n\r\n    <template #footer>\r\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n        {{$t('button-save')}}\r\n      </button>\r\n    </template>\r\n  </cytomine-modal>\r\n</form>\r\n</template>\r\n\r\n<script>\r\nimport {Tag} from 'cytomine-client';\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\n\r\nexport default {\r\n  name: 'tag-modal',\r\n  props: {\r\n    active: Boolean,\r\n    tag: Object\r\n  },\r\n  components: {CytomineModal},\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      internalTag: {},\r\n      displayErrors: false,\r\n    };\r\n  },\r\n  computed: {\r\n    editionMode() {\r\n      return Boolean(this.tag);\r\n    },\r\n    title() {\r\n      return this.$t(this.editionMode ? 'update-tag' : 'create-tag');\r\n    },\r\n  },\r\n  watch: {\r\n    active(val) {\r\n      if(val) {\r\n        this.internalTag = (this.tag) ? this.tag.clone() : new Tag();\r\n        this.displayErrors = false;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async save() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      let labelTranslation = this.editionMode ? 'update' : 'creation';\r\n\r\n      try {\r\n        await this.internalTag.save();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-tag-' + labelTranslation)});\r\n        this.$emit('update:active', false);\r\n        this.$emit(this.editionMode ? 'updateTag' : 'addTag', this.internalTag);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-tag-' + labelTranslation)});\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TagModal.vue?vue&type=template&id=8aa710e0\"\nimport script from \"./TagModal.vue?vue&type=script&lang=js\"\nexport * from \"./TagModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n    <template v-if=\"!loading\">\r\n      <b-message v-if=\"!tags\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n        <h2> {{ $t('error') }} </h2>\r\n        <p> {{ $t('unexpected-error-info-message') }} </p>\r\n      </b-message>\r\n      <template v-else>\r\n        <div class=\"columns\">\r\n          <div class=\"column is-one-quarter\">\r\n            <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\r\n          </div>\r\n\r\n          <div class=\"column is-one-half has-text-right-desktop\">\r\n            <button class=\"button is-link\" @click=\"startTagCreation()\">\r\n              {{$t('button-new-tag')}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <b-table\r\n          :data=\"filteredTags\"\r\n          :paginated=\"true\"\r\n          :per-page=\"perPage\"\r\n          pagination-size=\"is-small\"\r\n        >\r\n\r\n          <template #default=\"{row: tag}\">\r\n            <b-table-column\r\n              :field=\"'name'\"\r\n              :label=\"$t('name')\"\r\n              sortable\r\n            >\r\n            {{tag.name}}\r\n            </b-table-column>\r\n\r\n            <b-table-column\r\n              :field=\"'creatorName'\"\r\n              :label=\"$t('creator')\"\r\n              sortable\r\n            >\r\n              {{tag.creatorName}}\r\n            </b-table-column>\r\n\r\n            <b-table-column\r\n              :field=\"'created'\"\r\n              :label=\"$t('created')\"\r\n              sortable\r\n            >\r\n              {{ Number(tag.created) | moment('ll') }}\r\n            </b-table-column>\r\n\r\n            <b-table-column label=\" \" centered>\r\n              <div class=\"buttons\">\r\n                <button class=\"button is-small is-link\" @click=\"startTagEdition(tag)\">\r\n                  {{$t('button-edit')}}\r\n                </button>\r\n                <button class=\"button is-small is-danger\" @click=\"deleteTagDialog(tag)\">\r\n                  {{$t('button-delete')}}\r\n                </button>\r\n              </div>\r\n            </b-table-column>\r\n          </template>\r\n\r\n          <template #empty>\r\n            <div class=\"content has-text-grey has-text-centered\">\r\n              <p>{{$t('no-tag-fitting-criteria')}}</p>\r\n            </div>\r\n          </template>\r\n\r\n          <template #bottom-left>\r\n            <b-select v-model=\"perPage\" size=\"is-small\">\r\n              <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n              <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n              <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n              <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n            </b-select>\r\n          </template>\r\n        </b-table>\r\n\r\n        <tag-modal :active.sync=\"modal\" :tag=\"editedTag\" @addTag=\"addTag\" @updateTag=\"updateTag\" />\r\n      </template>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {TagCollection} from 'cytomine-client';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\nimport TagModal from '@/components/tag/TagModal';\r\n\r\nexport default {\r\n  name: 'admin-tags',\r\n  components: {\r\n    TagModal\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      tags: null,\r\n      addTagModal: false,\r\n      searchString: '',\r\n      perPage: 25,\r\n      modal: false,\r\n      editedTag: null\r\n    };\r\n  },\r\n  computed: {\r\n    regexp() {\r\n      return getWildcardRegexp(this.searchString);\r\n    },\r\n    filteredTags() {\r\n      if(!this.searchString) {\r\n        return this.tags;\r\n      }\r\n\r\n      return this.tags.filter(ts => this.regexp.test(ts.name));\r\n    }\r\n  },\r\n  methods: {\r\n    startTagCreation() {\r\n      this.editedTag = null;\r\n      this.modal = true;\r\n    },\r\n    addTag(tag) {\r\n      this.tags.push(tag);\r\n    },\r\n    startTagEdition(tag) {\r\n      this.editedTag = tag;\r\n      this.modal = true;\r\n    },\r\n    updateTag(tag) {\r\n      this.editedTag.populate(tag);\r\n    },\r\n\r\n    deleteTagDialog(tag) {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('delete'),\r\n        message: this.$t('delete-tag-confirmation-message', {tagName: tag.name}),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.deleteTag(tag)\r\n      });\r\n    },\r\n    deleteTag(tag) {\r\n      try {\r\n        tag.delete();\r\n        this.tags.splice(this.tags.indexOf(tag), 1);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-tag-delete', {tagName: tag.name})\r\n        });\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-tag-delete', {tagName: this.currentTag.name})\r\n        });\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    try {\r\n      this.tags = (await TagCollection.fetchAll()).array;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n    }\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTags.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTags.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AdminTags.vue?vue&type=template&id=47bd9de5\"\nimport script from \"./AdminTags.vue?vue&type=script&lang=js\"\nexport * from \"./AdminTags.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box error\" v-if=\"!currentUser.adminByNow\">\r\n  <h2> {{ $t('access-denied') }} </h2>\r\n  <p>{{ $t('insufficient-permission') }}</p>\r\n</div>\r\n<div class=\"content-wrapper\" v-else>\r\n  <b-field class=\"radio-buttons-fullwidth\">\r\n    <b-radio-button v-model=\"activeTab\" native-value=\"dashboard\" type=\"is-link\">\r\n      {{$t('dashboard')}}\r\n    </b-radio-button>\r\n\r\n    <b-radio-button v-model=\"activeTab\" native-value=\"users\" type=\"is-link\">\r\n      {{$t('users')}}\r\n    </b-radio-button>\r\n\r\n    <b-radio-button v-show=\"algoEnabled\"  v-model=\"activeTab\" native-value=\"trusted-sources\" type=\"is-link\">\r\n      {{$t('trusted-sources')}}\r\n    </b-radio-button>\r\n\r\n    <b-radio-button v-model=\"activeTab\" native-value=\"tags\" type=\"is-link\">\r\n      {{$t('tags')}}\r\n    </b-radio-button>\r\n\r\n    <b-radio-button v-model=\"activeTab\" native-value=\"configuration\" type=\"is-link\">\r\n      {{$t('configuration')}}\r\n    </b-radio-button>\r\n  </b-field>\r\n\r\n  <div class=\"box\">\r\n    <keep-alive>\r\n      <component :is=\"activeComponent\" />\r\n    </keep-alive>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport AdminDashboard from './AdminDashboard';\r\nimport AdminUsers from './AdminUsers';\r\nimport AdminSoftware from './AdminSoftware';\r\nimport AdminConfiguration from './AdminConfiguration';\r\nimport AdminTags from './AdminTags';\r\nimport constants from '@/utils/constants.js';\r\nconst defaultTab = 'dashboard';\r\n\r\nexport default {\r\n  name: 'admin-panel',\r\n  data() {\r\n    return {\r\n      activeTab: 0,\r\n      tabNames: [\r\n        'dashboard',\r\n        'users',\r\n        'trusted-sources',\r\n        'tags',\r\n        'configuration'\r\n      ],\r\n      algoEnabled: constants.ALGORITHMS_ENABLED\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    queriedTab() {\r\n      return this.$route.query.tab;\r\n    },\r\n    // eslint-disable-next-line vue/return-in-computed-property\r\n    activeComponent() {\r\n      switch(this.activeTab) {\r\n        case 'dashboard':\r\n          return AdminDashboard;\r\n        case 'users':\r\n          return AdminUsers;\r\n        case 'configuration':\r\n          return AdminConfiguration;\r\n        case 'trusted-sources':\r\n          return AdminSoftware;\r\n        case 'tags':\r\n          return AdminTags;\r\n      }\r\n      throw new Error('Cannot load active tabs ' + this.activeTab);\r\n    }\r\n  },\r\n  watch: {\r\n    queriedTab() {\r\n      this.changeTab();\r\n    },\r\n    activeTab() {\r\n      if(this.activeTab !== defaultTab || this.queriedTab) {\r\n        this.$router.push(`?tab=${this.activeTab}`);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    changeTab() {\r\n      this.activeTab = this.queriedTab || defaultTab;\r\n      if(!this.activeComponent) {\r\n        this.activeTab = defaultTab;\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.changeTab();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.box {\r\n  position: relative;\r\n  min-height: 20em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminPanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminPanel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AdminPanel.vue?vue&type=template&id=779e7332&scoped=true\"\nimport script from \"./AdminPanel.vue?vue&type=script&lang=js\"\nexport * from \"./AdminPanel.vue?vue&type=script&lang=js\"\nimport style0 from \"./AdminPanel.vue?vue&type=style&index=0&id=779e7332&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"779e7332\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"content-wrapper\"},[_c('div',{staticClass:\"box\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('activity-logs')))]),_c('activity-logs',{attrs:{\"idUser\":_vm.currentUser.id}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"content-wrapper\">\r\n  <div class=\"box\">\r\n    <h2>{{$t('activity-logs')}}</h2>\r\n    <activity-logs :idUser=\"currentUser.id\" />\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport ActivityLogs from '@/components/utils/ActivityLogs';\r\n\r\nexport default {\r\n  name: 'user-activity',\r\n  components: {ActivityLogs},\r\n  computed: {\r\n    currentUser: get('currentUser/user')\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.content-wrapper {\r\n  height: 100%;\r\n}\r\n\r\n.box {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserActivity.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserActivity.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UserActivity.vue?vue&type=template&id=0e92280e&scoped=true\"\nimport script from \"./UserActivity.vue?vue&type=script&lang=js\"\nexport * from \"./UserActivity.vue?vue&type=script&lang=js\"\nimport style0 from \"./UserActivity.vue?vue&type=style&index=0&id=0e92280e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e92280e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('h1',[_vm._v(\" \"+_vm._s(_vm.$t('page-not-found'))+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <h1>\r\n    {{$t('page-not-found')}}\r\n  </h1>\r\n</template>\r\n\r\n\r\n<script>\r\nexport default {\r\n  name: 'page-not-found'\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  padding: 2rem;\r\n  font-size: 1.5rem !important;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageNotFound.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageNotFound.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PageNotFound.vue?vue&type=template&id=38a884ba&scoped=true\"\nimport script from \"./PageNotFound.vue?vue&type=script&lang=js\"\nexport * from \"./PageNotFound.vue?vue&type=script&lang=js\"\nimport style0 from \"./PageNotFound.vue?vue&type=style&index=0&id=38a884ba&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38a884ba\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"software-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('div',{staticClass:\"content-wrapper\"},[_c('nav',{staticClass:\"breadcrumb\",attrs:{\"aria-label\":\"breadcrumbs\"}},[_c('ul',[_c('li',[_c('router-link',{attrs:{\"to\":`/algorithm`}},[_vm._v(_vm._s(_vm.$t('algorithms')))])],1),_c('li',{staticClass:\"is-active\"},[_c('a',{attrs:{\"href\":\"#\",\"aria-current\":\"page\"}},[_vm._v(_vm._s(_vm.software.fullName))])])])]),_c('div',{staticClass:\"box\"},[(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('h1',[_vm._v(_vm._s(_vm.software.fullName))]),_c('div',{staticClass:\"description\"},[_c('cytomine-description',{attrs:{\"object\":_vm.software,\"canEdit\":_vm.canManageSoftware}})],1),_c('hr'),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('projects')))]),(_vm.projects.length)?_vm._l((_vm.projects),function(project,index){return _c('span',{key:project.id},[_c('router-link',{attrs:{\"to\":`/project/${project.id}`}},[_vm._v(_vm._s(project.name))]),(index < _vm.projects.length - 1)?_c('span',[_vm._v(\", \")]):_vm._e()],1)}):(_vm.nbProjects > 0)?_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('used-in-project-no-access'))+\" \")]):_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('not-used-in-any-project'))+\" \")])],2),_c('div',{staticClass:\"column\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('statistics')))]),_c('div',{staticClass:\"chart-container\"},[_c('software-statistics-chart',{attrs:{\"css-classes\":\"chart\",\"software\":_vm.software}})],1)])]),_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('software-parameters')))]),_c('b-table',{attrs:{\"data\":_vm.softwareParameters,\"default-sort\":\"created\",\"default-sort-direction\":\"desc\",\"paginated\":true,\"per-page\":_vm.softwareParametersPerPage,\"pagination-size\":\"is-small\",\"detailed\":\"\",\"detail-key\":\"id\"},scopedSlots:_vm._u([{key:\"default\",fn:function({row: parameter}){return [_c('b-table-column',{attrs:{\"label\":_vm.$t('name'),\"field\":\"name\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(parameter.humanName)+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('type'),\"field\":\"type\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t(parameter.type.toLowerCase()))+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('default-value'),\"field\":\"defaultValue\"}},[_vm._v(\" \"+_vm._s(parameter.defaultParamValue)+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('mandatory'),\"field\":\"mandatory\"}},[(parameter.required)?[_vm._v(_vm._s(_vm.$t('yes')))]:[_vm._v(_vm._s(_vm.$t('no')))]],2)]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-software-parameter')))])])]},proxy:true},{key:\"detail\",fn:function({row: parameter}){return [_c('software-parameter-details',{key:parameter.id,attrs:{\"parameter\":parameter}})]}},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.softwareParametersPerPage),callback:function ($$v) {_vm.softwareParametersPerPage=$$v},expression:\"softwareParametersPerPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}],null,false,1795709409)}),_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('other-information')))]),_c('software-details',{attrs:{\"software\":_vm.software,\"excluded-properties\":['projects', 'name', 'description']}})]],2)]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\",\"size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):_c('table',{staticClass:\"table\"},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('tbody',[(_vm.isPropDisplayed('id') && _vm.currentUser.isDeveloper)?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('id')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(_vm._s(_vm.parameter.id))])]):_vm._e(),(_vm.isPropDisplayed('description'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('description')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-description',{attrs:{\"object\":_vm.parameter,\"canEdit\":_vm.canManageParameter}})],1)]):_vm._e(),(_vm.isPropDisplayed('name'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('name')))]),_c('td',{staticClass:\"prop-content\"},[_c('code',[_vm._v(_vm._s(_vm.parameter.name))])])]):_vm._e(),(_vm.isPropDisplayed('valueKey'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('value-key')))]),_c('td',{staticClass:\"prop-content\"},[_c('code',[_vm._v(_vm._s(_vm.parameter.valueKey))])])]):_vm._e(),(_vm.isPropDisplayed('commandLineFlag'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('command-line-flag')))]),_c('td',{staticClass:\"prop-content\"},[_c('code',[_vm._v(_vm._s(_vm.parameter.commandLineFlag))])])]):_vm._e()]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\" size=\"is-small\">\r\n    <h2> {{ $t('error') }} </h2>\r\n    <p> {{ $t('unexpected-error-info-message') }} </p>\r\n  </b-message>\r\n  <table v-else class=\"table\">\r\n    <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\r\n    <tbody v-if=\"!loading\">\r\n\r\n    <tr v-if=\"isPropDisplayed('id') && currentUser.isDeveloper\">\r\n      <td class=\"prop-label\">{{$t('id')}}</td>\r\n      <td class=\"prop-content\">{{parameter.id}}</td>\r\n    </tr>\r\n\r\n    <tr v-if=\"isPropDisplayed('description')\">\r\n      <td class=\"prop-label\">{{$t('description')}}</td>\r\n      <td class=\"prop-content\">\r\n        <cytomine-description :object=\"parameter\" :canEdit=\"canManageParameter\" />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('name')\">\r\n      <td class=\"prop-label\">{{$t('name')}}</td>\r\n      <td class=\"prop-content\">\r\n        <code>{{parameter.name}}</code>\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('valueKey')\">\r\n      <td class=\"prop-label\">{{$t('value-key')}}</td>\r\n      <td class=\"prop-content\">\r\n        <code>{{parameter.valueKey}}</code>\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('commandLineFlag')\">\r\n      <td class=\"prop-label\">{{$t('command-line-flag')}}</td>\r\n      <td class=\"prop-content\">\r\n        <code>{{parameter.commandLineFlag}}</code>\r\n      </td>\r\n    </tr>\r\n    <!--  <tr v-if=\"canManageParameter\">-->\r\n    <!--    <td class=\"prop-label\">{{$t('actions')}}</td>-->\r\n    <!--    <td class=\"prop-content\">-->\r\n    <!--      <parameter-actions :parameter=\"parameter\" @update=\"$emit('update', $event)\" @delete=\"$emit('delete')\" />-->\r\n    <!--    </td>-->\r\n    <!--  </tr>-->\r\n    </tbody>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport CytomineDescription from '@/components/description/CytomineDescription';\r\n\r\nexport default {\r\n  name: 'software-parameter-details',\r\n  props: {\r\n    parameter: Object,\r\n    excludedProperties: {type: Array, default: () => []}\r\n  },\r\n  components: {\r\n    CytomineDescription,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    canManageParameter() {\r\n      return this.currentUser.adminByNow;\r\n    },\r\n  },\r\n  methods: {\r\n    isPropDisplayed(prop) {\r\n      return !this.excludedProperties.includes(prop);\r\n    },\r\n    async fetchProjects() {\r\n      this.loading = true;\r\n      this.error = false;\r\n\r\n      this.loading = false;\r\n    },\r\n  },\r\n  created() {\r\n    this.fetchProjects();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n  background: none;\r\n  position: relative;\r\n  height: 3em;\r\n}\r\n\r\ntd.prop-label {\r\n  white-space: nowrap;\r\n  font-weight: 600;\r\n}\r\n\r\ntd.prop-content {\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareParameterDetails.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareParameterDetails.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SoftwareParameterDetails.vue?vue&type=template&id=5b5f6240&scoped=true\"\nimport script from \"./SoftwareParameterDetails.vue?vue&type=script&lang=js\"\nexport * from \"./SoftwareParameterDetails.vue?vue&type=script&lang=js\"\nimport style0 from \"./SoftwareParameterDetails.vue?vue&type=style&index=0&id=5b5f6240&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b5f6240\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {HorizontalBar} from 'vue-chartjs';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\nimport jobStatusMapping from '@/utils/job-utils';\r\n\r\nimport {asArray as hexToRgb} from 'ol/color';\r\n\r\nconst defaultColor = '#eee';\r\n\r\nexport default {\r\n  name: 'software-statistics-chart',\r\n  extends: HorizontalBar,\r\n  props: {\r\n    software: Object,\r\n    startDate: Number,\r\n    endDate: Number\r\n  },\r\n  data() {\r\n    return {\r\n      chartData: null\r\n    };\r\n  },\r\n  computed: {\r\n    queryParams() {\r\n      return {\r\n        startDate: this.startDate,\r\n        endDate: this.endDate\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    async queryParams() {\r\n      this.doRenderChart();\r\n    }\r\n  },\r\n  methods: {\r\n    async doRenderChart() {\r\n      let status = Object.values(jobStatusMapping);\r\n      let data = status.map(status => this.software[status.statLabel]);\r\n      let borderColors = status.map(status => {\r\n        let [r, g, b] = hexToRgb(status.color || defaultColor);\r\n        const factor = 0.8;\r\n        return `rgba(${r*factor}, ${g*factor}, ${b*factor}, 1)`;\r\n      });\r\n\r\n      this.$emit('nbElems', data.length);\r\n\r\n      this.renderChart({\r\n        labels: status.map(status => this.$t(status.label)),\r\n        datasets: [\r\n          {\r\n            data,\r\n            backgroundColor: status.map(status => status.color || defaultColor),\r\n            borderColor: borderColors,\r\n            borderWidth: 1,\r\n            hoverBorderColor: borderColors,\r\n          }\r\n        ]\r\n      }, {\r\n        maintainAspectRatio: false,\r\n        legend: {display: false},\r\n        scales: {\r\n          xAxes: [{\r\n            ticks: {\r\n              min: 0,\r\n              suggestedMax: Math.round(Math.max(...data)*1.2)+1\r\n            }\r\n          }],\r\n          yAxes: [{\r\n            gridLines: {\r\n              display: false\r\n            },\r\n            categoryPercentage: 0.6\r\n          }]\r\n        }\r\n      });\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.addPlugin(ChartDataLabels);\r\n    this.doRenderChart();\r\n  }\r\n};\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div class=\"software-wrapper\">\r\n    <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n    <div class=\"content-wrapper\" v-if=\"!loading\">\r\n      <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\r\n        <ul>\r\n          <li><router-link :to=\"`/algorithm`\">{{$t('algorithms')}}</router-link></li>\r\n          <li class=\"is-active\"><a href=\"#\" aria-current=\"page\">{{software.fullName}}</a></li>\r\n        </ul>\r\n      </nav>\r\n\r\n      <div class=\"box\">\r\n        <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n          <h2> {{ $t('error') }} </h2>\r\n          <p> {{ $t('unexpected-error-info-message') }} </p>\r\n        </b-message>\r\n\r\n        <template v-else>\r\n          <h1>{{software.fullName}}</h1>\r\n\r\n          <div class=\"description\">\r\n            <cytomine-description :object=\"software\" :canEdit=\"canManageSoftware\" />\r\n          </div>\r\n\r\n          <hr>\r\n\r\n          <div class=\"columns\">\r\n            <div class=\"column\">\r\n              <h2>{{$t('projects')}}</h2>\r\n              <template v-if=\"projects.length\">\r\n                <span v-for=\"(project, index) in projects\" :key=\"project.id\">\r\n                  <router-link :to=\"`/project/${project.id}`\">{{project.name}}</router-link>\r\n                  <span v-if=\"index < projects.length - 1\">, </span>\r\n                </span>\r\n              </template>\r\n              <em class=\"has-text-grey\" v-else-if=\"nbProjects > 0\">\r\n                {{$t('used-in-project-no-access')}}\r\n              </em>\r\n              <em class=\"has-text-grey\" v-else>\r\n                {{$t('not-used-in-any-project')}}\r\n              </em>\r\n            </div>\r\n            <div class=\"column\">\r\n              <h2>{{$t('statistics')}}</h2>\r\n              <div class=\"chart-container\">\r\n                <software-statistics-chart\r\n                  css-classes=\"chart\"\r\n                  :software=\"software\"\r\n                />\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n\r\n          <hr>\r\n\r\n          <h2>{{$t('software-parameters')}}</h2>\r\n\r\n          <b-table\r\n            :data=\"softwareParameters\"\r\n            default-sort=\"created\"\r\n            default-sort-direction=\"desc\"\r\n            :paginated=\"true\"\r\n            :per-page=\"softwareParametersPerPage\"\r\n            pagination-size=\"is-small\"\r\n            detailed detail-key=\"id\"\r\n          >\r\n            <template #default=\"{row: parameter}\">\r\n              <b-table-column :label=\"$t('name')\" field=\"name\" sortable>\r\n                {{parameter.humanName}}\r\n              </b-table-column>\r\n\r\n              <b-table-column :label=\"$t('type')\" field=\"type\" sortable>\r\n                {{$t(parameter.type.toLowerCase())}}\r\n              </b-table-column>\r\n\r\n              <b-table-column :label=\"$t('default-value')\" field=\"defaultValue\">\r\n                {{parameter.defaultParamValue}}\r\n              </b-table-column>\r\n\r\n              <b-table-column :label=\"$t('mandatory')\" field=\"mandatory\">\r\n                <template v-if=\"parameter.required\">{{$t('yes')}}</template>\r\n                <template v-else>{{$t('no')}}</template>\r\n              </b-table-column>\r\n            </template>\r\n\r\n            <template #empty>\r\n              <div class=\"content has-text-grey has-text-centered\">\r\n                <p>{{$t('no-software-parameter')}}</p>\r\n              </div>\r\n            </template>\r\n\r\n            <template #detail=\"{row: parameter}\">\r\n              <software-parameter-details :parameter=\"parameter\" :key=\"parameter.id\" />\r\n            </template>\r\n\r\n            <template #bottom-left>\r\n              <b-select v-model=\"softwareParametersPerPage\" size=\"is-small\">\r\n                <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n                <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n                <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n                <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n              </b-select>\r\n            </template>\r\n          </b-table>\r\n\r\n          <hr>\r\n\r\n          <h2>{{$t('other-information')}}</h2>\r\n\r\n          <software-details :software=\"software\" :excluded-properties=\"['projects', 'name', 'description']\"/>\r\n\r\n        </template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {Software, SoftwareParameterCollection, ProjectCollection} from 'cytomine-client';\r\n\r\nimport CytomineDescription from '@/components/description/CytomineDescription';\r\nimport SoftwareParameterDetails from '@/components/software/SoftwareParameterDetails';\r\nimport SoftwareStatisticsChart from '@/components/charts/SoftwareStatisticsChart';\r\nimport SoftwareDetails from '@/components/software/SoftwareDetails';\r\n\r\n\r\nexport default {\r\n  name: 'software-information',\r\n  components: {\r\n    SoftwareDetails,\r\n    SoftwareStatisticsChart,\r\n    SoftwareParameterDetails,\r\n    CytomineDescription\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      software: null,\r\n\r\n      softwareParameters: [],\r\n      softwareParametersPerPage: 10,\r\n\r\n      projects: [],\r\n\r\n      chartRevision: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    idSoftware() {\r\n      return Number(this.$route.params.idSoftware);\r\n    },\r\n    canManageSoftware() {\r\n      return this.currentUser.adminByNow;\r\n    },\r\n    nbProjects() {\r\n      return this.projects.length;\r\n    }\r\n  },\r\n  watch: {\r\n    async idSoftware() {\r\n      this.loading = true;\r\n      await this.loadSoftware();\r\n    },\r\n    async software() {\r\n      this.chartRevision++;\r\n    }\r\n  },\r\n  methods: {\r\n    async loadSoftware() {\r\n      try {\r\n        await Promise.all([\r\n          this.fetchSoftware(),\r\n          this.fetchSoftwareParameters(),\r\n          this.fetchProjects()\r\n        ]);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n        return;\r\n      }\r\n\r\n      this.chartRevision++;\r\n    },\r\n    async fetchSoftware() {\r\n      this.software = await Software.fetch(this.idSoftware);\r\n    },\r\n    async fetchSoftwareParameters() {\r\n      this.softwareParameters = (await SoftwareParameterCollection.fetchAll({filterKey: 'software', filterValue: this.idSoftware})).array;\r\n    },\r\n    async fetchProjects() {\r\n      this.projects = (await ProjectCollection.fetchAll({filterKey: 'software', filterValue: this.idSoftware})).array;\r\n    },\r\n  },\r\n  async created() {\r\n    await this.loadSoftware();\r\n    this.loading = false;\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  text-transform: initial;\r\n  letter-spacing: initial;\r\n  font-weight: 400;\r\n  font-size: 1.8rem;\r\n  margin-bottom: 0.7rem;\r\n}\r\n\r\nli {\r\n  margin-bottom: 0.5em;\r\n}\r\n\r\n.box {\r\n  position: relative;\r\n}\r\n\r\n.chart-container {\r\n  margin-top: 2em;\r\n  height: 10em;\r\n  position: relative;\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n.software-wrapper {\r\n  .table-wrapper {\r\n    margin-bottom: 0;\r\n  }\r\n\r\n  .chart {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  .field.is-horizontal {\r\n    align-items: center;\r\n  }\r\n\r\n  .field-label {\r\n    margin-right: 1em !important;\r\n    padding-top: 0 !important;\r\n  }\r\n}\r\n\r\n.table {\r\n  background: none;\r\n  position: relative;\r\n  height: 3em;\r\n}\r\n\r\ntd.prop-label {\r\n  white-space: nowrap;\r\n  font-weight: 600;\r\n}\r\n\r\ntd.prop-content {\r\n  width: 100%;\r\n}\r\n\r\n.description {\r\n  font-size: 14px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareInformation.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareInformation.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SoftwareInformation.vue?vue&type=template&id=067d1ba2&scoped=true\"\nimport script from \"./SoftwareInformation.vue?vue&type=script&lang=js\"\nexport * from \"./SoftwareInformation.vue?vue&type=script&lang=js\"\nimport style0 from \"./SoftwareInformation.vue?vue&type=style&index=0&id=067d1ba2&prod&scoped=true&lang=css\"\nimport style1 from \"./SoftwareInformation.vue?vue&type=style&index=1&id=067d1ba2&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"067d1ba2\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\nimport VueRouter from 'vue-router';\r\n\r\n// Import Components\r\nimport GlobalDashboard from './components/GlobalDashboard.vue';\r\nimport ListProjects from './components/project/ListProjects.vue';\r\nimport CytomineStorage from './components/storage/CytomineStorage.vue';\r\nimport ListOntologies from './components/ontology/ListOntologies.vue';\r\nimport ListSoftware from './components/software/ListSoftware.vue';\r\nimport ListImages from './components/image/ListImages.vue';\r\nimport ImageInformation from './components/image/ImageInformation.vue';\r\nimport ListAnnotations from './components/annotations/ListAnnotations.vue';\r\nimport ProjectActivity from './components/project/ProjectActivity.vue';\r\nimport ListJobs from './components/job/ListJobs.vue';\r\nimport ProjectInformation from './components/project/ProjectInformation.vue';\r\nimport ProjectConfiguration from './components/project/ProjectConfiguration.vue';\r\nimport Account from './components/user/Account.vue';\r\nimport AdvancedSearch from './components/search/AdvancedSearch.vue';\r\nimport CytomineViewer from './components/viewer/CytomineViewer.vue';\r\nimport CytomineProject from './components/project/CytomineProject.vue';\r\nimport ProjectHome from './components/project/ProjectHome.vue';\r\nimport MemberActivityDetails from './components/project/activity/MemberActivityDetails.vue';\r\nimport AdminPanel from './components/admin/AdminPanel.vue';\r\nimport UserActivity from './components/user/UserActivity.vue';\r\nimport PageNotFound from './components/PageNotFound.vue';\r\nimport SoftwareInformation from './components/software/SoftwareInformation.vue';\r\n\r\n// Define routes\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    component: GlobalDashboard, // Alternative: component: require(\"./components/GlobalDashboard.vue\").default\r\n  },\r\n  {\r\n    path: '/projects',\r\n    component: ListProjects,\r\n  },\r\n  {\r\n    path: '/storage',\r\n    component: CytomineStorage,\r\n  },\r\n  {\r\n    path: '/ontology/:idOntology?',\r\n    component: ListOntologies\r\n  },\r\n  {\r\n    path: '/algorithm',\r\n    component: ListSoftware\r\n  },\r\n  {\r\n    path: '/algorithm/:idSoftware',\r\n    component: SoftwareInformation\r\n  },\r\n  {\r\n    path: '/advanced-search/:searchString?',\r\n    component: AdvancedSearch\r\n  },\r\n  {\r\n    path: '/account',\r\n    component: Account,\r\n  },\r\n  {\r\n    path: '/project/:idProject',\r\n    component: CytomineProject,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: ProjectHome\r\n      },\r\n      {\r\n        path: 'images',\r\n        component: ListImages\r\n      },\r\n      {\r\n        path: 'image/:idImages',\r\n        component: CytomineViewer\r\n      },\r\n      {\r\n        path: 'image/:idImages/slice/:idSlices',\r\n        component: CytomineViewer\r\n      },\r\n      {\r\n        path: 'image/:idImage/information',\r\n        component: ImageInformation\r\n      },\r\n      {\r\n        path: 'image/:idImages/annotation/:idAnnotation',\r\n        component: CytomineViewer\r\n      },\r\n      {\r\n        path: 'image/:idImages/slice/:idSlices/annotation/:idAnnotation',\r\n        component: CytomineViewer\r\n      },\r\n      {\r\n        path: 'annotations',\r\n        component: ListAnnotations\r\n      },\r\n      {\r\n        path: 'analysis',\r\n        component: ListJobs\r\n      },\r\n      {\r\n        path: 'activity',\r\n        component: ProjectActivity\r\n      },\r\n      {\r\n        path: 'activity/user/:idUser',\r\n        component: MemberActivityDetails\r\n      },\r\n      {\r\n        path: 'information',\r\n        component: ProjectInformation\r\n      },\r\n      {\r\n        path: 'configuration',\r\n        component: ProjectConfiguration\r\n      },\r\n      {\r\n        path: '*',\r\n        component: PageNotFound\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '/activity',\r\n    component: UserActivity\r\n  },\r\n  {\r\n    path: '/admin',\r\n    component: AdminPanel\r\n  },\r\n\r\n  // redirections for old URLS\r\n  {path: '/userdashboard', redirect: '/'},\r\n  {path: '/project', redirect: '/projects'},\r\n  {path: '/explorer', redirect: '/'},\r\n  {path: '/upload', redirect: '/storage'},\r\n  {path: '/software', redirect: '/algorithm'},\r\n  {path: '/software/:idSoftware', redirect: '/algorithm/:idSoftware'},\r\n\r\n  {path: '/activity', redirect: '/'},\r\n  {path: '/activity-:idProject-', redirect: '/project/:idProject/activity'},\r\n  {path: '/activity-:idProject-:idUser', redirect: '/project/:idProject/activity/user/:idUser'},\r\n\r\n  {path: '/search-', redirect: '/advanced-search'},\r\n\r\n  {path: '/admin-tabs-dashboard', redirect: '/admin?tab=dashboard'},\r\n  {path: '/admin-tabs-users', redirect: '/admin?tab=users'},\r\n  {path: '/admin-tabs-groups', redirect: '/'}, // TODO\r\n  {path: '/admin-tabs-permissions', redirect: '/'}, // TODO\r\n  {path: '/admin-tabs-configuration', redirect: '/admin?tab=configuration'},\r\n\r\n  {path: '/tabs-dashboard-:idProject', redirect: '/project/:idProject/information'},\r\n  {path: '/tabs-images-:idProject', redirect: '/project/:idProject/images'},\r\n  {path: '/tabs-annotations-:idProject', redirect: '/project/:idProject/annotations'},\r\n  {path: '/tabs-annotationproperties-:idProject-:idAnnot', redirect: '/project/:idProject'},\r\n  {path: '/tabs-imageproperties-:idProject-:idImage', redirect: '/project/:idProject'},\r\n  {path: '/tabs-imageproperties-:idProject-:idImage', redirect: '/project/:idProject'},\r\n  {path: '/tabs-algos-:idProject', redirect: '/project/:idProject/analysis'},\r\n  {path: '/tabs-config-:idProject', redirect: '/project/:idProject/configuration'},\r\n  {path: '/tabs-usersconfig-:idProject', redirect: '/project/:idProject/configuration?tab=members'},\r\n  {path: '/tabs-#tabs-useractivity-:idProject-:idUser', redirect: '/project/:idProject/activity/user/:idUser'},\r\n  {path: '/tabs-image-:idProject-:idImage-0', redirect: '/project/:idProject/image/:idImage'},\r\n  {path: '/tabs-image-:idProject-:idImage-:idAnnotation', redirect: '/project/:idProject/image/:idImage/annotation/:idAnnotation'},\r\n  {path: '/tabs-image-:idProject-:idImage-', redirect: '/project/:idProject/image/:idImage'},\r\n  // -----\r\n\r\n  {\r\n    path: '*',\r\n    component: PageNotFound\r\n  }\r\n];\r\n\r\n// Create router instance\r\nconst router = new VueRouter({\r\n  routes: routes,\r\n  linkActiveClass: 'is-active'\r\n});\r\n\r\nexport default router;\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<script>\r\n/**\r\n * @module zoomify-source/source\r\n */\r\nimport ZoomifySource from 'ol/source/Zoomify';\r\nimport {createFromTileUrlFunctions} from 'ol/tileurlfunction';\r\nimport tileSource from 'vuelayers/lib/mixin/tile-source';\r\nimport TileGrid from 'ol/tilegrid/TileGrid';\r\nimport {DEFAULT_TILE_SIZE} from 'ol/tilegrid/common';\r\n\r\nconst props = {\r\n  tierSizeCalculation: {\r\n    type: String,\r\n  },\r\n  extent: {\r\n    type: Array,\r\n  },\r\n  size: {\r\n    type: Array,\r\n  },\r\n  url: {\r\n    type: [String, Function],\r\n    required: false // override property since it is not required if urls is set\r\n  },\r\n  urls: {\r\n    type: Array\r\n  },\r\n  tileSize: {\r\n    type: Number,\r\n    default: DEFAULT_TILE_SIZE\r\n  },\r\n};\r\n\r\nconst data = () => {\r\n  return {\r\n    tierSizeInTiles: null,\r\n    tileCountUpToTier: null,\r\n    resolutions: null\r\n  };\r\n};\r\n\r\nfunction created() { // source: https://github.com/openlayers/openlayers/blob/v5.3.0/src/ol/source/Zoomify.js#L137\r\n  const size = this.size;\r\n  const imageWidth = size[0];\r\n  const imageHeight = size[1];\r\n  const tierSizeInTiles = [];\r\n  let tileSizeForTierSizeCalculation = this.tileSize;\r\n  while (imageWidth > tileSizeForTierSizeCalculation || imageHeight > tileSizeForTierSizeCalculation) {\r\n    tierSizeInTiles.push([\r\n      Math.ceil(imageWidth / tileSizeForTierSizeCalculation),\r\n      Math.ceil(imageHeight / tileSizeForTierSizeCalculation),\r\n    ]);\r\n    tileSizeForTierSizeCalculation += tileSizeForTierSizeCalculation;\r\n  }\r\n  tierSizeInTiles.push([1, 1]);\r\n  tierSizeInTiles.reverse();\r\n\r\n  const resolutions = [1];\r\n  const tileCountUpToTier = [0];\r\n  for (let i = 1, ii = tierSizeInTiles.length; i < ii; i++) {\r\n    resolutions.push(1 << i);\r\n    tileCountUpToTier.push(\r\n      tierSizeInTiles[i - 1][0] * tierSizeInTiles[i - 1][1] +\r\n            tileCountUpToTier[i - 1]\r\n    );\r\n  }\r\n  resolutions.reverse();\r\n\r\n  this.tierSizeInTiles = tierSizeInTiles;\r\n  this.tileCountUpToTier = tileCountUpToTier;\r\n  this.resolutions = resolutions;\r\n}\r\n\r\nconst methods = {\r\n  createSource() {\r\n    if(!this.url && !this.urls) {\r\n      throw new Error('Either url or urls properties must be set for ZoomifySource');\r\n    }\r\n\r\n    let source = new ZoomifySource({\r\n      attributions: this.attributions,\r\n      cacheSize: this.cacheSize,\r\n      crossOrigin: this.crossOrigin,\r\n      projection: this.projection,\r\n      reprojectionErrorThreshold: this.reprojectionErrorThreshold,\r\n      url: this.urlTmpl,\r\n      tierSizeCalculation: this.tierSizeCalculation,\r\n      size: this.size,\r\n      extent: this.extent,\r\n      transition: this.transition,\r\n      tileSize: this.tileSize\r\n    });\r\n\r\n    if(this.urls) {\r\n      const tileUrlFunction = createFromTileUrlFunctions(this.urls.map(this.createFromTemplate(source)));\r\n      source.setTileUrlFunction(tileUrlFunction);\r\n    }\r\n\r\n    return source;\r\n  },\r\n  createTileGrid() {\r\n    const extent = this.extent || [0, -this.size[1], this.size[0], 0];\r\n    return new TileGrid({\r\n      tileSize: this.tileSize,\r\n      extent: extent,\r\n      origin: [extent[0], extent[3]],\r\n      resolutions: this.resolutions,\r\n    });\r\n  },\r\n  // source: https://github.com/openlayers/openlayers/blob/v5.3.0/src/ol/source/Zoomify.js#L202\r\n  // temporary hack since Zoomify does not support multiple URLs (https://github.com/openlayers/openlayers/issues/9352)\r\n  createFromTemplate(source) {\r\n    return template => {\r\n      return (\r\n        (tileCoord) => {\r\n          if (!tileCoord) {\r\n            return undefined;\r\n          }\r\n          else {\r\n            const tileCoordZ = tileCoord[0];\r\n            const tileCoordX = tileCoord[1];\r\n            const tileCoordY = -tileCoord[2] - 1;\r\n            const tileIndex = tileCoordX + tileCoordY * this.tierSizeInTiles[tileCoordZ][0];\r\n            const tileSize = source.tileGrid.getTileSize(tileCoordZ);\r\n            const tileWidth = Array.isArray(tileSize) ? tileSize[0] : tileSize;\r\n            const tileGroup = ((tileIndex + this.tileCountUpToTier[tileCoordZ]) / tileWidth) | 0;\r\n            const localContext = {\r\n              'z': tileCoordZ,\r\n              'x': tileCoordX,\r\n              'y': tileCoordY,\r\n              'tileIndex': tileIndex,\r\n              'TileGroup': 'TileGroup' + tileGroup\r\n            };\r\n            return template.replace(/\\{(\\w+?)\\}/g, function(m, p) {\r\n              return localContext[p];\r\n            });\r\n          }\r\n        }\r\n      );\r\n    };\r\n  }\r\n};\r\n\r\nconst watch = {\r\n  urls() {\r\n    //source: https://github.com/openlayers/openlayers/blob/v5.3.0/src/ol/source/UrlTile.js#L194\r\n    if (this.$source) {\r\n      const tileUrlFunction = createFromTileUrlFunctions(this.urls.map(this.createFromTemplate(this.$source)));\r\n      this.$source.setTileUrlFunction(tileUrlFunction, this.urls.join('\\n'));\r\n    }\r\n  },\r\n};\r\n\r\nexport default {\r\n  name: 'vl-source-zoomify',\r\n  mixins: [tileSource],\r\n  props,\r\n  data,\r\n  methods,\r\n  watch,\r\n  created\r\n};\r\n</script>\r\n","var render, staticRenderFns\nimport script from \"./source.vue?vue&type=script&lang=js\"\nexport * from \"./source.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./source.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./source.vue?vue&type=script&lang=js\"","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport { pick } from 'vuelayers/lib/util/minilo';\r\nimport Source from './source.vue';\r\n\r\n/**\r\n * @param {Vue} Vue\r\n * @param {VueLayersOptions} [options]\r\n */\r\nfunction plugin (Vue, options = {}) {\r\n  if (plugin.installed) {\r\n    return;\r\n  }\r\n  plugin.installed = true;\r\n\r\n  options = pick(options, 'dataProjection');\r\n  Object.assign(Source, options);\r\n\r\n  Vue.component(Source.name, Source);\r\n}\r\n\r\nexport default plugin;\r\n\r\nexport {\r\n  Source,\r\n  plugin as install,\r\n};\r\n","var render, staticRenderFns\nimport script from \"./source.vue?vue&type=script&lang=js\"\nexport * from \"./source.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<script>\r\n/**\r\n * @module raster-source/source\r\n */\r\nimport RasterSource from 'ol/source/Raster';\r\nimport tileSource from 'vuelayers/lib/mixin/image-source';\r\n\r\nconst props = {\r\n  sources: {type: Array},\r\n  operation: {type: Function},\r\n  lib: {type: Object},\r\n};\r\n\r\nconst methods = {\r\n  createSource() {\r\n    return new RasterSource({\r\n      sources: this.sources,\r\n      operation: this.operation,\r\n      lib: this.lib,\r\n    });\r\n  }\r\n};\r\n\r\nconst watch = {\r\n  operation() {\r\n    this.$source.setOperation(this.operation, this.lib);\r\n  },\r\n  lib() {\r\n    this.$source.setOperation(this.operation, this.lib);\r\n  }\r\n};\r\n\r\nexport default {\r\n  name: 'vl-source-raster',\r\n  mixins: [tileSource],\r\n  props,\r\n  methods,\r\n  watch\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./source.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./source.vue?vue&type=script&lang=js\"","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {pick} from 'vuelayers/lib/util/minilo';\r\nimport Source from './source.vue';\r\n\r\n/**\r\n * @param {Vue} Vue\r\n * @param {VueLayersOptions} [options]\r\n */\r\nfunction plugin (Vue, options = {}) {\r\n  if (plugin.installed) {\r\n    return;\r\n  }\r\n  plugin.installed = true;\r\n\r\n  options = pick(options, 'dataProjection');\r\n  Object.assign(Source, options);\r\n\r\n  Vue.component(Source.name, Source);\r\n}\r\n\r\nexport default plugin;\r\n\r\nexport {\r\n  Source,\r\n  plugin as install,\r\n};\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<script>\r\n/** @module translate-interaction/interaction */\r\nimport TranslateInteraction from 'ol/interaction/Translate';\r\nimport observableFromOlEvent from 'vuelayers/lib/rx-ext/from-ol-event';\r\nimport interaction from 'vuelayers/lib/mixin/interaction';\r\nimport { isCollection } from 'vuelayers/lib/ol-ext/util';\r\nimport { isFunction } from 'vuelayers/lib/util/minilo';\r\nimport { hasInteraction } from 'vuelayers/lib/util/assert';\r\nimport { makeWatchers } from 'vuelayers/lib/util/vue-helpers';\r\n\r\n/**\r\n * @vueProps\r\n */\r\nconst props = {\r\n  /**\r\n   * Source or collection identifier from IdentityMap.\r\n   * @type {String}\r\n   */\r\n  source: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  /**\r\n   * Hit-detection tolerance. Pixels inside the radius around the given position will be checked for features.\r\n   * This only works for the canvas renderer and not for WebGL.\r\n   * @type {number}\r\n   */\r\n  hitTolerance: {\r\n    type: Number,\r\n    default: 0,\r\n  },\r\n};\r\n\r\n/**\r\n * @vueMethods\r\n */\r\nconst methods = {\r\n  /**\r\n   * @return {Promise<ol.interaction.Translate>}\r\n   * @protected\r\n   */\r\n  async createInteraction () {\r\n    let sourceIdent = this.makeIdent(this.source);\r\n    let source = await this.$identityMap.get(sourceIdent, this.$options.INSTANCE_PROMISE_POOL);\r\n    if (isFunction(source.getFeatures)) {\r\n      let features = source.getFeatures();\r\n      if (isCollection(features)) {\r\n        source = features;\r\n      }\r\n    }\r\n    return new TranslateInteraction({\r\n      // source: isVectorSource(source) ? source : undefined,\r\n      features: isCollection(source) ? source : undefined,\r\n      hitTolerance: this.hitTolerance\r\n    });\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  mount () {\r\n    interaction.methods.mount.call(this);\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  unmount () {\r\n    interaction.methods.unmount.call(this);\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  subscribeAll () {\r\n    subscribeToInteractionChanges.call(this);\r\n  },\r\n};\r\n\r\nconst watch = makeWatchers(['source'], () => function () {\r\n  this.scheduleRecreate();\r\n});\r\n\r\n/**\r\n * @vueProto\r\n * @alias module:translate-interaction/interaction\r\n * @title vl-interaction-translate\r\n */\r\nexport default {\r\n  name: 'vl-interaction-translate',\r\n  mixins: [interaction],\r\n  props,\r\n  methods,\r\n  watch,\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nfunction subscribeToInteractionChanges () {\r\n  hasInteraction(this);\r\n  const translateEvents = observableFromOlEvent(this.$interaction, ['translatestart', 'translateend']);\r\n  this.subscribeTo(translateEvents, evt => {\r\n    ++this.rev;\r\n    this.$emit(evt.type, evt);\r\n  });\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js\"","var render, staticRenderFns\nimport script from \"./interaction.vue?vue&type=script&lang=js\"\nexport * from \"./interaction.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport { pick } from 'vuelayers/lib/util/minilo';\r\nimport Interaction from './interaction.vue';\r\n\r\nfunction plugin (Vue, options = {}) {\r\n  if (plugin.installed) {\r\n    return;\r\n  }\r\n  plugin.installed = true;\r\n\r\n  options = pick(options, 'dataProjection');\r\n  Object.assign(Interaction, options);\r\n\r\n  Vue.component(Interaction.name, Interaction);\r\n}\r\n\r\nexport default plugin;\r\n\r\nexport {\r\n  Interaction,\r\n  plugin as install,\r\n};\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<script>\r\n/** @module rotate-interaction/interaction */\r\nimport RotateFeatureInteraction from 'ol-rotate-feature';\r\nimport observableFromOlEvent from 'vuelayers/lib/rx-ext/from-ol-event';\r\nimport interaction from 'vuelayers/lib/mixin/interaction';\r\nimport stylesContainer from 'vuelayers/lib/mixin/styles-container';\r\nimport { defaultEditStyle, createStyle } from 'vuelayers/lib/ol-ext/style';\r\nimport { isCollection, isVectorSource } from 'vuelayers/lib/ol-ext/util';\r\nimport { mapValues, isFunction } from 'vuelayers/lib/util/minilo';\r\nimport mergeDescriptors from 'vuelayers/lib/util/multi-merge-descriptors';\r\nimport { hasInteraction } from 'vuelayers/lib/util/assert';\r\nimport { makeWatchers } from 'vuelayers/lib/util/vue-helpers';\r\n\r\n/**\r\n * @vueProps\r\n */\r\nconst props = {\r\n  /**\r\n   * Source or collection identifier from IdentityMap.\r\n   * @type {String}\r\n   */\r\n  source: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  /**\r\n   * Initial angle in radians (positive is counter-clockwise), applied for features already added to collection.\r\n   * @type {number}\r\n   */\r\n  angle: {\r\n    type: Number,\r\n    default: 0,\r\n  },\r\n};\r\n\r\n/**\r\n * @vueMethods\r\n */\r\nconst methods = {\r\n  /**\r\n   * @return {Promise<ol.interaction.Rotate>}\r\n   * @protected\r\n   */\r\n  async createInteraction () {\r\n    let sourceIdent = this.makeIdent(this.source);\r\n    let source = await this.$identityMap.get(sourceIdent, this.$options.INSTANCE_PROMISE_POOL);\r\n    if (isFunction(source.getFeatures)) {\r\n      let features = source.getFeatures();\r\n      if (isCollection(features)) {\r\n        source = features;\r\n      }\r\n    }\r\n    return new RotateFeatureInteraction({\r\n      source: isVectorSource(source) ? source : undefined,\r\n      features: isCollection(source) ? source : undefined,\r\n      deleteCondition: this.deleteCondition,\r\n      insertVertexCondition: this.insertVertexCondition,\r\n      pixelTolerance: this.pixelTolerance,\r\n      style: this.createStyleFunc(),\r\n      wrapX: this.wrapX,\r\n    });\r\n  },\r\n  /**\r\n   * @return {ol.StyleFunction}\r\n   * @protected\r\n   */\r\n  getDefaultStyles () {\r\n    const defaultStyles = mapValues(defaultEditStyle(), styles => styles.map(createStyle));\r\n    return function __selectDefaultStyleFunc (feature) {\r\n      if (feature.getGeometry()) {\r\n        return defaultStyles[feature.getGeometry().getType()];\r\n      }\r\n    };\r\n  },\r\n  /**\r\n   * @returns {Object}\r\n   * @protected\r\n   */\r\n  getServices () {\r\n    return mergeDescriptors(\r\n      interaction.methods.getServices.call(this),\r\n      stylesContainer.methods.getServices.call(this),\r\n    );\r\n  },\r\n  /**\r\n   * @return {ol.interaction.Interaction|undefined}\r\n   * @protected\r\n   */\r\n  getStyleTarget () {\r\n    return this.$interaction;\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  mount () {\r\n    interaction.methods.mount.call(this);\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  unmount () {\r\n    interaction.methods.unmount.call(this);\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  subscribeAll () {\r\n    subscribeToInteractionChanges.call(this);\r\n  },\r\n  /**\r\n   * @param {Array<{style: ol.style.Style, condition: (function|boolean|undefined)}>|ol.StyleFunction|Vue|undefined} styles\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  setStyle (styles) {\r\n    if (styles !== this._styles) {\r\n      this._styles = styles;\r\n      this.scheduleRefresh();\r\n    }\r\n  },\r\n};\r\n\r\nconst watch = makeWatchers(['source'], () => function () {\r\n  this.scheduleRecreate();\r\n});\r\n\r\n/**\r\n * @vueProto\r\n * @alias module:rotate-interaction/interaction\r\n * @title vl-interaction-rotate\r\n */\r\nexport default {\r\n  name: 'vl-interaction-rotate',\r\n  mixins: [interaction, stylesContainer],\r\n  props,\r\n  methods,\r\n  watch,\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nfunction subscribeToInteractionChanges () {\r\n  hasInteraction(this);\r\n  const rotateEvents = observableFromOlEvent(this.$interaction, ['rotatestart', 'rotateend']);\r\n  this.subscribeTo(rotateEvents, evt => {\r\n    ++this.rev;\r\n    this.$emit(evt.type, evt);\r\n  });\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js\"","var render, staticRenderFns\nimport script from \"./interaction.vue?vue&type=script&lang=js\"\nexport * from \"./interaction.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport { pick } from 'vuelayers/lib/util/minilo';\r\nimport Interaction from './interaction.vue';\r\n\r\nfunction plugin (Vue, options = {}) {\r\n  if (plugin.installed) {\r\n    return;\r\n  }\r\n  plugin.installed = true;\r\n\r\n  options = pick(options, 'dataProjection');\r\n  Object.assign(Interaction, options);\r\n\r\n  Vue.component(Interaction.name, Interaction);\r\n}\r\n\r\nexport default plugin;\r\n\r\nexport {\r\n  Interaction,\r\n  plugin as install,\r\n};\r\n","import ModifyInteractionBase from 'ol/interaction/Modify';\r\nimport GeometryType from 'ol/geom/GeometryType';\r\nimport {equals as coordinatesEqual, distance as coordinateDistance, closestOnSegment} from 'ol/coordinate';\r\nimport {getUid} from 'ol/util';\r\nimport {boundingExtent} from 'ol/extent';\r\nimport {isRectangle} from '@/utils/geometry-utils';\r\n\r\nfunction getSegmentDataUid(segmentData) {\r\n  let uid = getUid(segmentData.feature);\r\n  const depth = segmentData.depth;\r\n  if (depth) {\r\n    uid += '-' + depth.join('-'); // separate feature components\r\n  }\r\n\r\n  return uid;\r\n}\r\n\r\n/**\r\n * @param {SegmentData} a The first segment data.\r\n * @param {SegmentData} b The second segment data.\r\n * @return {number} The difference in indexes.\r\n */\r\nfunction compareIndexes(a, b) {\r\n  return a.index - b.index;\r\n}\r\n\r\n/**\r\n * Returns the point closest to a given line segment.\r\n *\r\n * @param {import(\"ol/coordinate\").Coordinate} pointCoordinates The point to which a closest point\r\n *        should be found.\r\n * @param {SegmentData} segmentData The object describing the line\r\n *        segment which should contain the closest point.\r\n * @return {import(\"ol/coordinate\").Coordinate} The point closest to the specified line segment.\r\n */\r\nfunction closestOnSegmentData(pointCoordinates, segmentData) {\r\n  const geometry = segmentData.geometry;\r\n\r\n  if (geometry.getType() === GeometryType.CIRCLE &&\r\n    segmentData.index === 1) {\r\n    return geometry.getClosestPoint(pointCoordinates);\r\n  }\r\n  return closestOnSegment(pointCoordinates, segmentData.segment);\r\n}\r\n\r\n\r\nexport default class ModifyInteraction extends ModifyInteractionBase {\r\n  handleDragEvent(evt) {\r\n    this.ignoreNextSingleClick_ = false;\r\n    this.willModifyFeatures_(evt);\r\n\r\n    const vertex = evt.coordinate;\r\n    for (let i = 0, ii = this.dragSegments_.length; i < ii; ++i) {\r\n      const dragSegment = this.dragSegments_[i];\r\n      const segmentData = dragSegment[0];\r\n      const depth = segmentData.depth;\r\n      const geometry = segmentData.geometry;\r\n      let coordinates, newVertex;\r\n      const segment = segmentData.segment;\r\n      const index = dragSegment[1];\r\n\r\n      while (vertex.length < geometry.getStride()) {\r\n        vertex.push(segment[index][vertex.length]);\r\n      }\r\n\r\n      switch (geometry.getType()) {\r\n        case GeometryType.POINT:\r\n          coordinates = vertex;\r\n          segment[0] = segment[1] = vertex;\r\n          break;\r\n        case GeometryType.MULTI_POINT:\r\n          coordinates = geometry.getCoordinates();\r\n          coordinates[segmentData.index] = vertex;\r\n          segment[0] = segment[1] = vertex;\r\n          break;\r\n        case GeometryType.LINE_STRING:\r\n          coordinates = geometry.getCoordinates();\r\n          coordinates[segmentData.index + index] = vertex;\r\n          segment[index] = vertex;\r\n          break;\r\n        case GeometryType.MULTI_LINE_STRING:\r\n          coordinates = geometry.getCoordinates();\r\n          coordinates[depth[0]][segmentData.index + index] = vertex;\r\n          segment[index] = vertex;\r\n          break;\r\n        case GeometryType.POLYGON:\r\n          coordinates = geometry.getCoordinates();\r\n          newVertex = vertex;\r\n          if (i === 2 || i === 3) {\r\n            newVertex = coordinates[depth[0]][segmentData.index + index];\r\n            newVertex[0] = vertex[0];\r\n          }\r\n          else if (i === 4 || i === 5) {\r\n            newVertex = coordinates[depth[0]][segmentData.index + index];\r\n            newVertex[1] = vertex[1];\r\n          }\r\n          coordinates[depth[0]][segmentData.index + index] = newVertex;\r\n          segment[index] = newVertex;\r\n          break;\r\n        case GeometryType.MULTI_POLYGON:\r\n          coordinates = geometry.getCoordinates();\r\n          coordinates[depth[1]][depth[0]][segmentData.index + index] = vertex;\r\n          segment[index] = vertex;\r\n          break;\r\n        case GeometryType.CIRCLE:\r\n          segment[0] = segment[1] = vertex;\r\n          if (segmentData.index === 1) {\r\n            this.changingFeature_ = true;\r\n            geometry.setCenter(vertex);\r\n            this.changingFeature_ = false;\r\n          }\r\n          else { // We're dragging the circle's circumference:\r\n            this.changingFeature_ = true;\r\n            geometry.setRadius(coordinateDistance(geometry.getCenter(), vertex));\r\n            this.changingFeature_ = false;\r\n          }\r\n          break;\r\n        default:\r\n        // pass\r\n      }\r\n\r\n      if (coordinates) {\r\n        this.setGeometryCoordinates_(geometry, coordinates);\r\n      }\r\n    }\r\n    this.createOrUpdateVertexFeature_(vertex);\r\n  }\r\n\r\n  /**\r\n   * @inheritDoc\r\n   */\r\n  handleDownEvent(evt) {\r\n    if (!this.condition_(evt)) {\r\n      return false;\r\n    }\r\n    this.handlePointerAtPixel_(evt.pixel, evt.map);\r\n    const pixelCoordinate = evt.map.getCoordinateFromPixel(evt.pixel);\r\n    this.dragSegments_.length = 0;\r\n    this.modified_ = false;\r\n    const vertexFeature = this.vertexFeature_;\r\n    if (vertexFeature) {\r\n      const insertVertices = [];\r\n      const geometry = /** @type {Point} */ (vertexFeature.getGeometry());\r\n      const vertex = geometry.getCoordinates();\r\n      const vertexExtent = boundingExtent([vertex]);\r\n      const segmentDataMatches = this.rBush_.getInExtent(vertexExtent);\r\n      const componentSegments = {};\r\n      segmentDataMatches.sort(compareIndexes);\r\n      for (let i = 0, ii = segmentDataMatches.length; i < ii; ++i) {\r\n        const segmentDataMatch = segmentDataMatches[i];\r\n        const segment = segmentDataMatch.segment;\r\n        let uid = getSegmentDataUid(segmentDataMatch);\r\n        if (!componentSegments[uid]) {\r\n          componentSegments[uid] = new Array(2);\r\n        }\r\n        if (segmentDataMatch.geometry.getType() === GeometryType.CIRCLE &&\r\n          segmentDataMatch.index === 1) {\r\n\r\n          const closestVertex = closestOnSegmentData(pixelCoordinate, segmentDataMatch);\r\n          if (coordinatesEqual(closestVertex, vertex) && !componentSegments[uid][0]) {\r\n            this.dragSegments_.push([segmentDataMatch, 0]);\r\n            componentSegments[uid][0] = segmentDataMatch;\r\n          }\r\n        }\r\n        else if (segmentDataMatch.geometry.getType() === GeometryType.POLYGON\r\n          && isRectangle(segmentDataMatch.geometry)) {\r\n          let cid = segmentDataMatch.feature.get('annot').id;\r\n          const segmentDataBbox = this.rBush_.getInExtent(segmentDataMatch.geometry.getExtent()).filter( sd => {\r\n            return sd.feature.get('annot').id === cid;\r\n          });\r\n\r\n          const otherVertices = segmentDataMatch.geometry.getCoordinates()[0]\r\n            .filter(coord => !coordinatesEqual(coord, vertex));\r\n\r\n          const predicates = [\r\n            (sd) => coordinatesEqual(sd.segment[0], vertex)\r\n              && !componentSegments[getSegmentDataUid(sd)][0],\r\n            (sd) => coordinatesEqual(sd.segment[1], vertex)\r\n              && !componentSegments[getSegmentDataUid(sd)][1],\r\n            (sd) => sd.segment[0][0] === vertex[0] && sd.segment[0][1] !== vertex[1]\r\n              && otherVertices.find(c => coordinatesEqual(c, sd.segment[0])),\r\n            (sd) => sd.segment[1][0] === vertex[0] && sd.segment[1][1] !== vertex[1]\r\n              && otherVertices.find(c => coordinatesEqual(c, sd.segment[1])),\r\n            (sd) => sd.segment[0][1] === vertex[1] && sd.segment[0][0] !== vertex[0]\r\n              && otherVertices.find(c => coordinatesEqual(c, sd.segment[0])),\r\n            (sd) => sd.segment[1][1] === vertex[1] && sd.segment[1][0] !== vertex[0]\r\n              && otherVertices.find(c => coordinatesEqual(c, sd.segment[1]))\r\n          ];\r\n\r\n          for (let j = 0, jj = predicates.length; j < jj; ++j) {\r\n            const sd = segmentDataBbox.find(predicates[j]);\r\n            if (!sd) {\r\n              break;\r\n            }\r\n            this.dragSegments_.push([sd, j % 2]);\r\n            let uid = getSegmentDataUid(sd);\r\n            if (!componentSegments[uid]) {\r\n              componentSegments[uid] = new Array(2);\r\n            }\r\n            componentSegments[uid][j % 2] = sd;\r\n          }\r\n          break;\r\n        }\r\n        else if (coordinatesEqual(segment[0], vertex) &&\r\n          !componentSegments[uid][0]) {\r\n          this.dragSegments_.push([segmentDataMatch, 0]);\r\n          componentSegments[uid][0] = segmentDataMatch;\r\n        }\r\n        else if (coordinatesEqual(segment[1], vertex) &&\r\n          !componentSegments[uid][1]) {\r\n\r\n          // prevent dragging closed linestrings by the connecting node\r\n          if ((segmentDataMatch.geometry.getType() ===\r\n            GeometryType.LINE_STRING ||\r\n            segmentDataMatch.geometry.getType() ===\r\n            GeometryType.MULTI_LINE_STRING) &&\r\n            componentSegments[uid][0] &&\r\n            componentSegments[uid][0].index === 0) {\r\n            continue;\r\n          }\r\n\r\n          this.dragSegments_.push([segmentDataMatch, 1]);\r\n          componentSegments[uid][1] = segmentDataMatch;\r\n        }\r\n        else if (this.insertVertexCondition_(evt) && getUid(segment) in this.vertexSegments_ &&\r\n          (!componentSegments[uid][0] && !componentSegments[uid][1])) {\r\n          insertVertices.push([segmentDataMatch, vertex]);\r\n        }\r\n      }\r\n      if (insertVertices.length) {\r\n        this.willModifyFeatures_(evt);\r\n      }\r\n      for (let j = insertVertices.length - 1; j >= 0; --j) {\r\n        this.insertVertex_.apply(this, insertVertices[j]);\r\n      }\r\n    }\r\n    return !!this.vertexFeature_;\r\n  }\r\n}\r\n\r\n","<script>\r\nimport {altKeyOnly, always, primaryAction} from 'ol/events/condition';\r\nimport ModifyInteraction from './modify';\r\nimport interaction from 'vuelayers/lib/mixin/interaction';\r\nimport stylesContainer from 'vuelayers/lib/mixin/styles-container';\r\nimport {createStyle, defaultEditStyle} from 'vuelayers/lib/ol-ext/style';\r\nimport {isCollection, isVectorSource} from 'vuelayers/lib/ol-ext/util';\r\nimport observableFromOlEvent from 'vuelayers/lib/rx-ext/from-ol-event';\r\nimport {hasInteraction} from 'vuelayers/lib/util/assert';\r\nimport {isFunction, mapValues} from 'vuelayers/lib/util/minilo';\r\nimport mergeDescriptors from 'vuelayers/lib/util/multi-merge-descriptors';\r\nimport {makeWatchers} from 'vuelayers/lib/util/vue-helpers';\r\n\r\n/**\r\n * @vueProps\r\n */\r\nconst props = {\r\n  /**\r\n   * Source or collection identifier from IdentityMap.\r\n   * @type {String}\r\n   */\r\n  source: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  /**\r\n   * A function that takes an `ol.MapBrowserEvent` and returns a boolean to indicate whether that event will be\r\n   * considered to add or move a vertex to the sketch. Default is `ol.events.condition.primaryAction`.\r\n   * @type {function|undefined}\r\n   */\r\n  condition: {\r\n    type: Function,\r\n    default: primaryAction,\r\n  },\r\n  /**\r\n   * A function that takes an `ol.MapBrowserEvent` and returns a boolean to indicate whether that event should be handled.\r\n   * By default, `ol.events.condition.singleClick` with `ol.events.condition.altKeyOnly` results in a vertex deletion.\r\n   * @type {function|undefined}\r\n   */\r\n  deleteCondition: {\r\n    type: Function,\r\n    default: altKeyOnly,\r\n  },\r\n  /**\r\n   * A function that takes an `ol.MapBrowserEvent` and returns a boolean to indicate whether a new vertex can be added\r\n   * to the sketch features. Default is `ol.events.condition.always`.\r\n   * @type {function|undefined}\r\n   */\r\n  insertVertexCondition: {\r\n    type: Function,\r\n    default: always,\r\n  },\r\n  /**\r\n   * Pixel tolerance for considering the pointer close enough to a segment or vertex for editing.\r\n   * @type {number}\r\n   */\r\n  pixelTolerance: {\r\n    type: Number,\r\n    default: 10,\r\n  },\r\n  /**\r\n   * Wrap the world horizontally on the sketch overlay.\r\n   * @type {boolean}\r\n   */\r\n  wrapX: {\r\n    type: Boolean,\r\n    default: false,\r\n  },\r\n};\r\n\r\n/**\r\n * @vueMethods\r\n */\r\nconst methods = {\r\n  /**\r\n   * @return {Promise<Modify>}\r\n   * @protected\r\n   */\r\n  async createInteraction() {\r\n    let sourceIdent = this.makeIdent(this.source);\r\n    let source = await this.$identityMap.get(sourceIdent, this.$options.INSTANCE_PROMISE_POOL);\r\n\r\n    if (isFunction(source.getFeatures)) {\r\n      let features = source.getFeatures();\r\n      if (isCollection(features)) {\r\n        source = features;\r\n      }\r\n    }\r\n\r\n    return new ModifyInteraction({\r\n      source: isVectorSource(source) ? source : undefined,\r\n      features: isCollection(source) ? source : undefined,\r\n      deleteCondition: this.deleteCondition,\r\n      insertVertexCondition: this.insertVertexCondition,\r\n      pixelTolerance: this.pixelTolerance,\r\n      style: this.createStyleFunc(),\r\n      wrapX: this.wrapX,\r\n    });\r\n  },\r\n  /**\r\n   * @return {function(feature: Feature): Style}\r\n   * @protected\r\n   */\r\n  getDefaultStyles() {\r\n    const defaultStyles = mapValues(defaultEditStyle(), styles => styles.map(createStyle));\r\n\r\n    return function __selectDefaultStyleFunc(feature) {\r\n      if (feature.getGeometry()) {\r\n        return defaultStyles[feature.getGeometry().getType()];\r\n      }\r\n    };\r\n  },\r\n  /**\r\n   * @returns {Object}\r\n   * @protected\r\n   */\r\n  getServices() {\r\n    return mergeDescriptors(\r\n      interaction.methods.getServices.call(this),\r\n      stylesContainer.methods.getServices.call(this),\r\n    );\r\n  },\r\n  /**\r\n   * @return {Interaction|undefined}\r\n   * @protected\r\n   */\r\n  getStyleTarget() {\r\n    return this.$interaction;\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  mount() {\r\n    interaction.methods.mount.call(this);\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  unmount() {\r\n    interaction.methods.unmount.call(this);\r\n  },\r\n  /**\r\n   * @param {Array<{style: Style, condition: (function|boolean|undefined)}>|function(feature: Feature): Style|Vue|undefined} styles\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  setStyle(styles) {\r\n    if (styles !== this._styles) {\r\n      this._styles = styles;\r\n      this.scheduleRefresh();\r\n    }\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  subscribeAll() {\r\n    subscribeToInteractionChanges.call(this);\r\n  },\r\n};\r\n\r\nconst watch = makeWatchers(['source'], () => function () {\r\n  this.scheduleRecreate();\r\n});\r\n\r\n/**\r\n * @vueProto\r\n * @alias module:modify-interaction/interaction\r\n * @title vl-interaction-modify\r\n */\r\nexport default {\r\n  name: 'vl-interaction-modify',\r\n  mixins: [interaction, stylesContainer],\r\n  props,\r\n  methods,\r\n  watch,\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nfunction subscribeToInteractionChanges() {\r\n  hasInteraction(this);\r\n\r\n  const modifyEvents = observableFromOlEvent(this.$interaction, ['modifystart', 'modifyend']);\r\n  this.subscribeTo(modifyEvents, evt => {\r\n    ++this.rev;\r\n    this.$emit(evt.type, evt);\r\n  });\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js\"","var render, staticRenderFns\nimport script from \"./interaction.vue?vue&type=script&lang=js\"\nexport * from \"./interaction.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport { pick } from 'vuelayers/lib/util/minilo';\r\nimport Interaction from './interaction.vue';\r\n\r\nfunction plugin (Vue, options = {}) {\r\n  if (plugin.installed) {\r\n    return;\r\n  }\r\n  plugin.installed = true;\r\n\r\n  options = pick(options, 'dataProjection');\r\n  Object.assign(Interaction, options);\r\n\r\n  Vue.component(Interaction.name, Interaction);\r\n}\r\n\r\nexport default plugin;\r\n\r\nexport {\r\n  Interaction,\r\n  plugin as install,\r\n};\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<script>\r\n/** @module rotate-interaction/interaction */\r\nimport RescaleFeatureInteraction from 'ol-rescale-feature';\r\nimport observableFromOlEvent from 'vuelayers/lib/rx-ext/from-ol-event';\r\nimport interaction from 'vuelayers/lib/mixin/interaction';\r\nimport stylesContainer from 'vuelayers/lib/mixin/styles-container';\r\nimport { defaultEditStyle, createStyle } from 'vuelayers/lib/ol-ext/style';\r\nimport { isCollection, isVectorSource } from 'vuelayers/lib/ol-ext/util';\r\nimport { mapValues, isFunction } from 'vuelayers/lib/util/minilo';\r\nimport mergeDescriptors from 'vuelayers/lib/util/multi-merge-descriptors';\r\nimport { hasInteraction } from 'vuelayers/lib/util/assert';\r\nimport { makeWatchers } from 'vuelayers/lib/util/vue-helpers';\r\n\r\n/**\r\n * @vueProps\r\n */\r\nconst props = {\r\n  /**\r\n   * Source or collection identifier from IdentityMap.\r\n   * @type {String}\r\n   */\r\n  source: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  /**\r\n   * Initial scale factor, applied for features already added to collection.\r\n   * @type {number}\r\n   */\r\n  factor: {\r\n    type: Number,\r\n    default: 1,\r\n  },\r\n};\r\n\r\n/**\r\n * @vueMethods\r\n */\r\nconst methods = {\r\n  /**\r\n   * @return {Promise<ol.interaction.Rescale>}\r\n   * @protected\r\n   */\r\n  async createInteraction () {\r\n    let sourceIdent = this.makeIdent(this.source);\r\n    let source = await this.$identityMap.get(sourceIdent, this.$options.INSTANCE_PROMISE_POOL);\r\n    if (isFunction(source.getFeatures)) {\r\n      let features = source.getFeatures();\r\n      if (isCollection(features)) {\r\n        source = features;\r\n      }\r\n    }\r\n    return new RescaleFeatureInteraction({\r\n      source: isVectorSource(source) ? source : undefined,\r\n      features: isCollection(source) ? source : undefined,\r\n      deleteCondition: this.deleteCondition,\r\n      insertVertexCondition: this.insertVertexCondition,\r\n      pixelTolerance: this.pixelTolerance,\r\n      style: this.createStyleFunc(),\r\n      wrapX: this.wrapX,\r\n    });\r\n  },\r\n  /**\r\n   * @return {ol.StyleFunction}\r\n   * @protected\r\n   */\r\n  getDefaultStyles () {\r\n    const defaultStyles = mapValues(defaultEditStyle(), styles => styles.map(createStyle));\r\n    return function __selectDefaultStyleFunc (feature) {\r\n      if (feature.getGeometry()) {\r\n        return defaultStyles[feature.getGeometry().getType()];\r\n      }\r\n    };\r\n  },\r\n  /**\r\n   * @returns {Object}\r\n   * @protected\r\n   */\r\n  getServices () {\r\n    return mergeDescriptors(\r\n      interaction.methods.getServices.call(this),\r\n      stylesContainer.methods.getServices.call(this),\r\n    );\r\n  },\r\n  /**\r\n   * @return {ol.interaction.Interaction|undefined}\r\n   * @protected\r\n   */\r\n  getStyleTarget () {\r\n    return this.$interaction;\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  mount () {\r\n    interaction.methods.mount.call(this);\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  unmount () {\r\n    interaction.methods.unmount.call(this);\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  subscribeAll () {\r\n    subscribeToInteractionChanges.call(this);\r\n  },\r\n  /**\r\n   * @param {Array<{style: ol.style.Style, condition: (function|boolean|undefined)}>|ol.StyleFunction|Vue|undefined} styles\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  setStyle (styles) {\r\n    if (styles !== this._styles) {\r\n      this._styles = styles;\r\n      this.scheduleRefresh();\r\n    }\r\n  },\r\n};\r\n\r\nconst watch = makeWatchers(['source'], () => function () {\r\n  this.scheduleRecreate();\r\n});\r\n\r\n/**\r\n * @vueProto\r\n * @alias module:rescale-interaction/interaction\r\n * @title vl-interaction-rescale\r\n */\r\nexport default {\r\n  name: 'vl-interaction-rescale',\r\n  mixins: [interaction, stylesContainer],\r\n  props,\r\n  methods,\r\n  watch,\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nfunction subscribeToInteractionChanges () {\r\n  hasInteraction(this);\r\n  const rescaleEvents = observableFromOlEvent(this.$interaction, ['rescalestart', 'rescaleend']);\r\n  this.subscribeTo(rescaleEvents, evt => {\r\n    ++this.rev;\r\n    this.$emit(evt.type, evt);\r\n  });\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js\"","var render, staticRenderFns\nimport script from \"./interaction.vue?vue&type=script&lang=js\"\nexport * from \"./interaction.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport { pick } from 'vuelayers/lib/util/minilo';\r\nimport Interaction from './interaction.vue';\r\n\r\nfunction plugin (Vue, options = {}) {\r\n  if (plugin.installed) {\r\n    return;\r\n  }\r\n  plugin.installed = true;\r\n\r\n  options = pick(options, 'dataProjection');\r\n  Object.assign(Interaction, options);\r\n\r\n  Vue.component(Interaction.name, Interaction);\r\n}\r\n\r\nexport default plugin;\r\n\r\nexport {\r\n  Interaction,\r\n  plugin as install,\r\n};\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wrapper\",attrs:{\"id\":\"app\"}},[_c('notifications',{attrs:{\"position\":\"top center\",\"width\":\"30%\",\"max\":5},scopedSlots:_vm._u([{key:\"body\",fn:function(props){return [_c('div',{staticClass:\"notification vue-notification\",class:props.item.type},[_c('button',{staticClass:\"delete\",on:{\"click\":props.close}}),_c('strong',{staticClass:\"notification-title\"},[_vm._v(\" \"+_vm._s(props.item.title)+\" \")]),_c('div',{staticClass:\"notification-content\",domProps:{\"innerHTML\":_vm._s(props.item.text)}})])]}}])}),(!_vm.loading)?[(_vm.communicationError)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t(\"communication-error\"))+\" \")]),_vm._v(\" \"+_vm._s(_vm.$t(\"core-cannot-be-reached\"))+\" \")]):(!_vm.currentUser)?_c('login'):[_c('cytomine-navbar'),_c('div',{staticClass:\"bottom\"},[_c('keep-alive',{attrs:{\"include\":\"cytomine-storage\"}},[(_vm.currentUser)?_c('router-view'):_vm._e()],1)],1)]]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('nav',{staticClass:\"navbar is-light\",attrs:{\"role\":\"navigation\"}},[_c('div',{staticClass:\"navbar-brand\"},[_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/\",\"exact\":\"\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.svg\"),\"id\":\"logo\",\"alt\":\"Cytomine\"}})]),_c('a',{staticClass:\"navbar-burger\",class:{ 'is-active': _vm.openedTopMenu },attrs:{\"role\":\"\"},on:{\"click\":function($event){_vm.openedTopMenu = !_vm.openedTopMenu}}},[_c('span'),_vm._v(\" \"),_c('span'),_vm._v(\" \"),_c('span')])],1),_c('div',{staticClass:\"navbar-menu\",class:{ 'is-active': _vm.openedTopMenu },attrs:{\"id\":\"topMenu\"}},[_c('div',{staticClass:\"navbar-start\"},[(this.nbActiveProjects > 0)?_c('navbar-dropdown',{attrs:{\"icon\":\"fa-folder-open\",\"title\":_vm.$t('workspace'),\"listPathes\":['/project/']}},[_c('navigation-tree')],1):_vm._e(),_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/projects\"}},[_c('i',{staticClass:\"fas fa-list-alt\"}),_vm._v(\" \"+_vm._s(_vm.$t(\"projects\"))+\" \")]),(!_vm.currentUser.guestByNow)?_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/storage\"}},[_c('i',{staticClass:\"fas fa-download\"}),_vm._v(\" \"+_vm._s(_vm.$t(\"storage\"))+\" \")]):_vm._e(),_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/ontology\"}},[_c('i',{staticClass:\"fas fa-hashtag\"}),_vm._v(\" \"+_vm._s(_vm.$t(\"ontologies\"))+\" \")]),_c('router-link',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.algoEnabled),expression:\"algoEnabled\"}],staticClass:\"navbar-item\",attrs:{\"to\":\"/algorithm\"}},[_c('i',{staticClass:\"fas fa-code\"}),_vm._v(\" \"+_vm._s(_vm.$t(\"algorithms\"))+\" \")]),(_vm.currentUser.adminByNow)?_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/admin\"}},[_c('i',{staticClass:\"fas fa-wrench\"}),_vm._v(\" \"+_vm._s(_vm.$t(\"admin-menu\"))+\" \")]):_vm._e()],1),_c('div',{staticClass:\"navbar-end\"},[_c('cytomine-searcher'),_c('navbar-dropdown',{attrs:{\"icon\":_vm.currentUser.adminByNow\n            ? 'fa-star'\n            : _vm.currentUser.isSwitched\n            ? 'fa-user-ninja'\n            : 'fa-user',\"title\":_vm.currentUserFullInfo,\"linkClasses\":{ 'has-text-dark-primary': _vm.currentUser.isSwitched },\"tag\":_vm.currentUser.adminByNow\n            ? { type: 'is-danger', text: _vm.$t('admin') }\n            : null,\"listPathes\":['/account', '/activity']}},[_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/account\"}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-user fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t(\"account\"))+\" \")]),_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/activity\"}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-history fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t(\"activity-history\"))+\" \")]),(_vm.currentUser.admin)?[(!_vm.currentUser.adminByNow)?_c('a',{staticClass:\"navbar-item\",on:{\"click\":function($event){return _vm.openAdminSession()}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-star fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t(\"open-admin-session\"))+\" \")]):_c('a',{staticClass:\"navbar-item\",on:{\"click\":function($event){return _vm.closeAdminSession()}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"far fa-star fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t(\"close-admin-session\"))+\" \")])]:_vm._e(),(_vm.currentUser.isSwitched)?[_c('a',{staticClass:\"navbar-item has-text-dark-primary\",on:{\"click\":function($event){return _vm.stopSwitchUser()}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-exchange-alt fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t(\"switch-back-to-user\", { username: _vm.currentUser.realUser }))+\" \")])]:_vm._e(),_c('a',{staticClass:\"navbar-item\",on:{\"click\":function($event){return _vm.logout()}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-power-off fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t(\"logout\"))+\" \")])],2),_c('navbar-dropdown',{attrs:{\"icon\":\"fa-question-circle\",\"title\":_vm.$t('help'),\"classes\":['is-right']}},[_c('a',{staticClass:\"navbar-item\",on:{\"click\":function($event){return _vm.openHotkeysModal()}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"far fa-keyboard fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t(\"shortcuts\"))+\" \")]),_c('a',{staticClass:\"navbar-item\",on:{\"click\":function($event){return _vm.openAboutModal()}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-info-circle fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t(\"about-cytomine\"))+\" \")])])],1)]),_c('div',{directives:[{name:\"shortkey\",rawName:\"v-shortkey.once\",value:(_vm.openHotkeysModalShortcut),expression:\"openHotkeysModalShortcut\",modifiers:{\"once\":true}}],staticClass:\"hidden\",on:{\"shortkey\":_vm.openHotkeysModal}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"navbar-item has-dropdown is-hoverable\"},[_c('span',{staticClass:\"navbar-link\",class:{'is-active': _vm.isActive, ..._vm.linkClasses},attrs:{\"tabindex\":\"0\"}},[(_vm.icon)?_c('i',{class:[_vm.iconPack, _vm.icon]}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.title)+\" \"),(_vm.tag)?_c('b-tag',{attrs:{\"type\":_vm.tag.type}},[_vm._v(_vm._s(_vm.tag.text))]):_vm._e()],1),_c('div',{staticClass:\"navbar-dropdown\",class:_vm.classes},[_vm._t(\"default\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"navbar-item has-dropdown is-hoverable\">\r\n  <span class=\"navbar-link\" :class=\"{'is-active': isActive, ...linkClasses}\" tabindex=\"0\">\r\n    <i v-if=\"icon\" :class=\"[iconPack, icon]\"></i>\r\n    {{title}}\r\n    <b-tag v-if=\"tag\" :type=\"tag.type\">{{tag.text}}</b-tag>\r\n  </span>\r\n  <div class=\"navbar-dropdown\" :class=\"classes\">\r\n    <slot></slot>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'navbar-dropdown',\r\n  props: {\r\n    icon: String,\r\n    iconPack: {type: String, default: 'fas'},\r\n    title: String,\r\n    tag: Object,\r\n    classes: Array,\r\n    linkClasses: Object,\r\n    listPathes: Array\r\n  },\r\n  data() {\r\n    return {\r\n      isActive: false\r\n    };\r\n  },\r\n  watch: {\r\n    '$route.path': {\r\n      handler() {\r\n        if (this.listPathes) {\r\n          this.isActive = !!this.listPathes.find(p => this.$route.path.match(p));\r\n        }\r\n        // required so dropdown doesn't remain open on route change.\r\n        document.activeElement.blur();\r\n      },\r\n      immediate: true\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.navbar-item .tag {\r\n  margin-left: 0.5rem;\r\n}\r\n@media screen and (min-width: 1024px) {\r\n  .navbar-item.is-hoverable:hover .navbar-dropdown {\r\n    display: block;\r\n  }\r\n  .navbar-item.is-hoverable:focus-within:not(:hover) .navbar-dropdown {\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavbarDropdown.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavbarDropdown.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./NavbarDropdown.vue?vue&type=template&id=92a0791a\"\nimport script from \"./NavbarDropdown.vue?vue&type=script&lang=js\"\nexport * from \"./NavbarDropdown.vue?vue&type=script&lang=js\"\nimport style0 from \"./NavbarDropdown.vue?vue&type=style&index=0&id=92a0791a&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"navigation-tree-wrapper\"},_vm._l((_vm.projects),function(project,_,index){return _c('div',{key:project.id},[_c('router-link',{staticClass:\"navbar-item project-item\",attrs:{\"to\":`/project/${project.id}`}},[_vm._v(\" \"+_vm._s(project.name)+\" \"),_c('a',{staticClass:\"delete is-small\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.closeProject(project)}}})]),_vm._l((project.viewers),function(viewer,idViewer){return [(_vm.nbImages(viewer))?_c('router-link',{key:idViewer,staticClass:\"navbar-item viewer-item\",attrs:{\"to\":_vm.viewerPath(project.id, idViewer),\"exact\":\"\"}},[_c('div',{staticClass:\"viewer-name\"},[_c('span',[_c('i',{staticClass:\"fas fa-caret-right\"}),(_vm.nbImages(viewer) === 1)?[_c('image-name',{attrs:{\"image\":Object.values(viewer.images)[0].imageInstance}})]:[_vm._v(\" \"+_vm._s(_vm.$t('viewer-group', {nbImages: _vm.nbImages(viewer)}))+\" \")],_vm._v(\" \"+_vm._s(viewer.name)+\" \")],2),(_vm.nbImages(viewer) > 1)?_c('ul',{staticClass:\"viewer-details\"},_vm._l((viewer.images),function(image,idx){return _c('li',{key:idx},[_c('image-name',{attrs:{\"image\":image.imageInstance}})],1)}),0):_vm._e()]),_c('a',{staticClass:\"delete is-small\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.closeViewer(project.id, idViewer)}}})]):_vm._e()]}),(index < _vm.projects.length - 1)?_c('hr',{staticClass:\"navbar-divider\"}):_vm._e()],2)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"navigation-tree-wrapper\">\r\n  <div v-for=\"(project, _, index) in projects\" :key=\"project.id\">\r\n\r\n    <router-link\r\n      class=\"navbar-item project-item\"\r\n      :to=\"`/project/${project.id}`\"\r\n    >\r\n      {{project.name}}\r\n      <a class=\"delete is-small\" @click.stop.prevent=\"closeProject(project)\"></a>\r\n    </router-link>\r\n\r\n    <template v-for=\"(viewer, idViewer) in project.viewers\">\r\n      <router-link\r\n        v-if=\"nbImages(viewer)\"\r\n        class=\"navbar-item viewer-item\"\r\n        :to=\"viewerPath(project.id, idViewer)\"\r\n        :key=\"idViewer\"\r\n        exact\r\n      >\r\n        <div class=\"viewer-name\">\r\n          <span>\r\n            <i class=\"fas fa-caret-right\"></i>\r\n            <template v-if=\"nbImages(viewer) === 1\">\r\n              <image-name :image=\"Object.values(viewer.images)[0].imageInstance\" />\r\n            </template>\r\n            <template v-else>\r\n              {{$t('viewer-group', {nbImages: nbImages(viewer)})}}\r\n            </template>\r\n            {{viewer.name}}\r\n          </span>\r\n          <ul class=\"viewer-details\" v-if=\"nbImages(viewer) > 1\">\r\n            <li v-for=\"(image, idx) in viewer.images\" :key=\"idx\">\r\n              <image-name :image=\"image.imageInstance\" />\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <a class=\"delete is-small\" @click.stop.prevent=\"closeViewer(project.id, idViewer)\"></a>\r\n      </router-link>\r\n    </template>\r\n    <hr v-if=\"index < projects.length - 1\" class=\"navbar-divider\">\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport ImageName from '@/components/image/ImageName';\r\n\r\nexport default {\r\n  name: 'navigation-tree',\r\n  components: {ImageName},\r\n  computed: {\r\n    projects: get('projects')\r\n  },\r\n  methods: {\r\n    nbImages(viewer) {\r\n      return Object.keys(viewer.images).length;\r\n    },\r\n    viewerPath(idProject, idViewer) {\r\n      return this.$store.getters[`projects/${idProject}/viewers/${idViewer}/pathViewer`]();\r\n    },\r\n    closeProject(project) {\r\n      let nbViewers = Object.keys(project.viewers).length;\r\n      if(nbViewers) {\r\n        this.$buefy.dialog.confirm({\r\n          title: this.$t('confirm-close-project'),\r\n          message: this.$t(\r\n            'confirm-close-project-message',\r\n            {viewers: this.$tc('count-viewers', nbViewers, {count: nbViewers})}\r\n          ),\r\n          type: 'is-danger',\r\n          confirmText: this.$t('button-confirm'),\r\n          cancelText: this.$t('button-cancel'),\r\n          onConfirm: () => this.doCloseProject(project)\r\n        });\r\n        return;\r\n      }\r\n      this.doCloseProject(project);\r\n    },\r\n    doCloseProject(project) {\r\n      this.$store.unregisterModule(['projects', project.id]);\r\n    },\r\n    closeViewer(idProject, idViewer) {\r\n      this.$store.unregisterModule(['projects', idProject, 'viewers', idViewer]);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~bulma/sass/utilities/mixins.sass';\r\n\r\n.project-item {\r\n  color: #333;\r\n}\r\n\r\n.viewer-item {\r\n  padding-left: 1.5rem !important;\r\n  padding-right: 1.5rem !important;\r\n  position: relative;\r\n}\r\n\r\n.viewer-item ul {\r\n  color: #888;\r\n  font-weight: normal;\r\n  margin-left: 1rem;\r\n  font-size: 0.85em;\r\n}\r\n\r\n.viewer-name {\r\n  padding-right: 2rem;\r\n}\r\n\r\n.delete {\r\n  position: absolute;\r\n  top: 0.5rem;\r\n  right: 0.5rem;\r\n}\r\n\r\n.navigation-tree-wrapper {\r\n  @include desktop {\r\n    max-height: 70vh;\r\n    overflow: auto;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationTree.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationTree.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./NavigationTree.vue?vue&type=template&id=5859de40&scoped=true\"\nimport script from \"./NavigationTree.vue?vue&type=script&lang=js\"\nexport * from \"./NavigationTree.vue?vue&type=script&lang=js\"\nimport style0 from \"./NavigationTree.vue?vue&type=style&index=0&id=5859de40&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5859de40\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('cytomine-modal-card',{attrs:{\"title\":_vm.$t('shortcuts'),\"footer\":false},on:{\"close\":function($event){return _vm.$parent.close()}}},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\",\"size\":\"is-small\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_vm._l((_vm.filteredCategories),function(category){return _c('div',{key:category},[_c('h2',[_vm._v(_vm._s(_vm.$t(`shortcut-${category}`)))]),_c('b-table',{staticClass:\"shortcut-list\",attrs:{\"data\":_vm.filteredShortcuts(category)},scopedSlots:_vm._u([{key:\"default\",fn:function({row: shortcut}){return [_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('description')}},[_vm._v(\" \"+_vm._s(_vm.$t(`shortcut-${shortcut.name}`))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"val\",\"label\":_vm.$t('shortcut')}},_vm._l((shortcut.key),function(k,index){return _c('span',{key:`${category}${shortcut.name}${k}`},[_c('span',{staticClass:\"key\"},[(k === 'click')?_c('i',{staticClass:\"fas fa-mouse-pointer\"}):(k === 'drag')?_c('i',{staticClass:\"fas fa-hand-pointer\"}):(k === '+')?_c('i',{staticClass:\"fas fa-plus\"}):(k === '-')?_c('i',{staticClass:\"fas fa-minus\"}):(k === 'arrowleft')?_c('i',{staticClass:\"fas fa-arrow-left\"}):(k === 'arrowright')?_c('i',{staticClass:\"fas fa-arrow-right\"}):(k === 'arrowup')?_c('i',{staticClass:\"fas fa-arrow-up\"}):(k === 'arrowdown')?_c('i',{staticClass:\"fas fa-arrow-down\"}):(k === 'meta')?_c('span',[_vm._v(\" Cmd\")]):(k === 'shift')?_c('span',[_vm._v(\" Shift\")]):(k === 'alt')?_c('span',[_vm._v(\" Alt\")]):(k === 'pageup')?_c('span',[_vm._v(\"Page Up\")]):(k === 'pagedown')?_c('span',[_vm._v(\"Page Down\")]):(k === 'del')?_c('span',[_vm._v(\"Delete\")]):_c('span',[_vm._v(_vm._s(k))])]),(index < shortcut.key.length - 1)?[_vm._v(\"+\")]:_vm._e()],2)}),0)]}}],null,true)})],1)}),(_vm.noResult)?_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_vm._v(\" \"+_vm._s(_vm.$t('no-result'))+\" \")]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<cytomine-modal-card :title=\"$t('shortcuts')\" @close=\"$parent.close()\" :footer=\"false\">\r\n  <b-input\r\n      v-model=\"searchString\"\r\n      :placeholder=\"$t('search-placeholder')\"\r\n      type=\"search\"\r\n      icon=\"search\"\r\n      size=\"is-small\"\r\n  />\r\n  <div v-for=\"category in filteredCategories\" :key=\"category\">\r\n    <h2>{{$t(`shortcut-${category}`)}}</h2>\r\n    <b-table :data=\"filteredShortcuts(category)\" class=\"shortcut-list\">\r\n      <template #default=\"{row: shortcut}\">\r\n        <b-table-column field=\"name\" :label=\"$t('description')\">\r\n          {{$t(`shortcut-${shortcut.name}`)}}\r\n        </b-table-column>\r\n\r\n        <b-table-column field=\"val\" :label=\"$t('shortcut')\">\r\n          <span v-for=\"(k, index) in shortcut.key\" :key=\"`${category}${shortcut.name}${k}`\">\r\n            <span class=\"key\">\r\n              <i v-if=\"k === 'click'\" class=\"fas fa-mouse-pointer\"></i>\r\n              <i v-else-if=\"k === 'drag'\" class=\"fas fa-hand-pointer\"></i>\r\n              <i v-else-if=\"k === '+'\" class=\"fas fa-plus\"></i>\r\n              <i v-else-if=\"k === '-'\" class=\"fas fa-minus\"></i>\r\n              <i v-else-if=\"k === 'arrowleft'\" class=\"fas fa-arrow-left\"></i>\r\n              <i v-else-if=\"k === 'arrowright'\" class=\"fas fa-arrow-right\"></i>\r\n              <i v-else-if=\"k === 'arrowup'\" class=\"fas fa-arrow-up\"></i>\r\n              <i v-else-if=\"k === 'arrowdown'\" class=\"fas fa-arrow-down\"></i>\r\n              <span v-else-if=\"k === 'meta'\">&#8984; Cmd</span>\r\n              <span v-else-if=\"k === 'shift'\">&#8679; Shift</span>\r\n              <span v-else-if=\"k === 'alt'\">&#8997; Alt</span>\r\n              <span v-else-if=\"k === 'pageup'\">Page Up</span>\r\n              <span v-else-if=\"k === 'pagedown'\">Page Down</span>\r\n              <span v-else-if=\"k === 'del'\">Delete</span>\r\n              <span v-else>{{k}}</span>\r\n            </span>\r\n            <template v-if=\"index < shortcut.key.length - 1\">+</template>\r\n          </span>\r\n        </b-table-column>\r\n      </template>\r\n    </b-table>\r\n  </div>\r\n  <div class=\"content has-text-grey has-text-centered\" v-if=\"noResult\">\r\n    {{$t('no-result')}}\r\n  </div>\r\n</cytomine-modal-card>\r\n</template>\r\n\r\n<script>\r\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\r\nimport shortcuts from '@/utils/shortcuts.js';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\n\r\nexport default {\r\n  name: 'hotkeys-modal',\r\n  components: {CytomineModalCard},\r\n  data() {\r\n    return {\r\n      categories: ['general', 'viewer-nav', 'viewer-tool', 'viewer-toggle', 'text-editor'],\r\n      searchString: ''\r\n    };\r\n  },\r\n  computed: {\r\n    shortcuts() {\r\n      return Object.entries(shortcuts).map(([name, key]) => {\r\n        return {name, key};\r\n      });\r\n    },\r\n    noResult() {\r\n      return this.categories.every(category => this.isEmpty(category));\r\n    },\r\n    filteredCategories() {\r\n      return this.categories.filter(category => this.filteredShortcuts(category).length > 0);\r\n    }\r\n  },\r\n  methods: {\r\n    filteredShortcuts(category) {\r\n      let regexp = getWildcardRegexp(this.searchString);\r\n      return this.shortcuts.filter(shortcut => {\r\n        return shortcut.name.startsWith(`${category}-`) &&\r\n          (!this.searchString || regexp.test(this.$t(`shortcut-${shortcut.name}`)));\r\n      });\r\n    },\r\n    isEmpty(category) {\r\n      return this.filteredShortcuts(category).length === 0;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.modal-card, .modal-card-body {\r\n  width: 50vw;\r\n  min-width: 600px;\r\n  font-weight: normal;\r\n}\r\n\r\n.key {\r\n  min-width: 3rem;\r\n  height: 2.25rem;\r\n  border: 1px solid #ddd;\r\n  padding: 0.5em 1em !important;\r\n  margin: 0 0.3em 0 0.3em;\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 3px;\r\n  color: #888;\r\n  background: #f8f8f8;\r\n  font-weight: 600;\r\n  text-transform: capitalize;\r\n}\r\n\r\n.shortcut-list {\r\n  margin-bottom: 2em;\r\n}\r\n\r\n>>> td, >>> th {\r\n  vertical-align: middle !important;\r\n  width: 50%;\r\n}\r\n\r\n>>> input {\r\n  max-width: 30em;\r\n  margin-bottom: 1em;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotkeysModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotkeysModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HotkeysModal.vue?vue&type=template&id=31a9f839&scoped=true\"\nimport script from \"./HotkeysModal.vue?vue&type=script&lang=js\"\nexport * from \"./HotkeysModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./HotkeysModal.vue?vue&type=style&index=0&id=31a9f839&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31a9f839\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('cytomine-modal-card',{attrs:{\"title\":_vm.$t('about-cytomine')},on:{\"close\":function($event){return _vm.$parent.close()}}},[[_c('dl',[_c('dt',[_vm._v(_vm._s(_vm.$t('version')))]),_c('dd',[_vm._v(_vm._s(_vm.version || '?'))]),_c('dt',[_vm._v(_vm._s(_vm.$t('sponsors')))]),_c('dd',[_c('a',{attrs:{\"href\":\"https://cytomine.coop\",\"target\":\"_blank\"}},[_c('img',{staticClass:\"sponsor\",attrs:{\"src\":require(\"@/assets/sponsors/logo-cytomine-coop.png\")}})]),_c('a',{attrs:{\"href\":\"https://www.uliege.be\",\"target\":\"_blank\"}},[_c('img',{staticClass:\"sponsor\",attrs:{\"src\":require(\"@/assets/sponsors/logo-uliege.png\")}})]),_c('a',{attrs:{\"href\":\"https://www.wallonie.be/\",\"target\":\"_blank\"}},[_c('img',{staticClass:\"sponsor\",attrs:{\"src\":require(\"@/assets/sponsors/logo-wallonie.png\")}})])]),_c('dt',[_vm._v(_vm._s(_vm.$t('description')))]),_c('dd',[_c('i18n',{attrs:{\"path\":\"cytomine-sponsors-info\"}},[_c('a',{attrs:{\"place\":\"cytomineCompanyLink\",\"href\":\"https://cytomine.coop\",\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.$t('cytomine-company')))])])],1),_c('dt',[_vm._v(_vm._s(_vm.$t('website')))]),_c('dd',[_c('i18n',{attrs:{\"path\":\"cytomine-website-info\"}},[_c('a',{attrs:{\"place\":\"websiteLink\",\"href\":\"https://cytomine.coop\",\"target\":\"_blank\"}},[_vm._v(\"cytomine.org\")])])],1),_c('dt',[_vm._v(_vm._s(_vm.$t('source-code')))]),_c('dd',[_c('i18n',{attrs:{\"path\":\"source-code-info\"}},[_c('a',{attrs:{\"place\":\"githubLink\",\"href\":\"http://github.com/cytomine/\",\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.$t('github-repository')))])])],1),_c('dt',[_vm._v(_vm._s(_vm.$t('documentation')))]),_c('dd',[_c('i18n',{attrs:{\"path\":\"documentation-info\"}},[_c('a',{attrs:{\"place\":\"docLink\",\"href\":\"https://documentation.cytomine.org/\",\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.$t('here')))])])],1),_c('dt',[_vm._v(_vm._s(_vm.$t('contact')))]),_c('dd',[_c('i18n',{attrs:{\"path\":\"contact-info\"}},[_c('a',{attrs:{\"place\":\"contactMail\",\"href\":\"mailto:info@cytomine.org\"}},[_vm._v(\"info@cytomine.org\")])])],1)])]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<cytomine-modal-card :title=\"$t('about-cytomine')\" @close=\"$parent.close()\">\r\n  <template>\r\n    <dl>\r\n      <dt>{{$t('version')}}</dt>\r\n      <dd>{{version || '?'}}</dd>\r\n\r\n      <dt>{{$t('sponsors')}}</dt>\r\n      <dd>\r\n        <a href=\"https://cytomine.coop\" target=\"_blank\">\r\n          <img src=\"@/assets/sponsors/logo-cytomine-coop.png\" class=\"sponsor\">\r\n        </a>\r\n        <a href=\"https://www.uliege.be\" target=\"_blank\">\r\n          <img src=\"@/assets/sponsors/logo-uliege.png\" class=\"sponsor\">\r\n        </a>\r\n        <a href=\"https://www.wallonie.be/\" target=\"_blank\">\r\n          <img src=\"@/assets/sponsors/logo-wallonie.png\" class=\"sponsor\">\r\n        </a>\r\n      </dd>\r\n\r\n      <dt>{{$t('description')}}</dt>\r\n      <dd>\r\n        <i18n path=\"cytomine-sponsors-info\">\r\n          <a place=\"cytomineCompanyLink\" href=\"https://cytomine.coop\" target=\"_blank\">\r\n            {{$t('cytomine-company')}}</a>\r\n        </i18n>\r\n      </dd>\r\n\r\n      <dt>{{$t('website')}}</dt>\r\n      <dd>\r\n        <i18n path=\"cytomine-website-info\">\r\n          <a place=\"websiteLink\" href=\"https://cytomine.coop\" target=\"_blank\">cytomine.org</a>\r\n        </i18n>\r\n      </dd>\r\n\r\n      <dt>{{$t('source-code')}}</dt>\r\n      <dd>\r\n        <i18n path=\"source-code-info\">\r\n          <a place=\"githubLink\" href=\"http://github.com/cytomine/\" target=\"_blank\">\r\n            {{$t('github-repository')}}</a>\r\n        </i18n>\r\n      </dd>\r\n\r\n      <dt>{{$t('documentation')}}</dt>\r\n      <dd>\r\n        <i18n path=\"documentation-info\">\r\n          <a place=\"docLink\" href=\"https://documentation.cytomine.org/\" target=\"_blank\">{{$t('here')}}</a>\r\n        </i18n>\r\n      </dd>\r\n\r\n      <dt>{{$t('contact')}}</dt>\r\n      <dd>\r\n        <i18n path=\"contact-info\">\r\n          <a place=\"contactMail\" href=\"mailto:info@cytomine.org\">info@cytomine.org</a>\r\n        </i18n>\r\n      </dd>\r\n    </dl>\r\n  </template>\r\n</cytomine-modal-card>\r\n</template>\r\n\r\n<script>\r\nimport constants from '@/utils/constants.js';\r\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\r\n\r\nexport default {\r\n  name: 'about-cytomine-wrapper',\r\n  components: {CytomineModalCard},\r\n  data() {\r\n    return {\r\n      version: constants.CYTOMINE_COMMERCIAL_VERSION\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.modal-card, .modal-card-body {\r\n  width: 50vw;\r\n  min-width: 700px;\r\n  font-weight: normal;\r\n}\r\n\r\ndt {\r\n  float: left;\r\n  width: 12rem;\r\n  text-align: right;\r\n  padding-right: 1rem;\r\n  clear: both;\r\n  font-weight: 600;\r\n}\r\n\r\ndd {\r\n  margin-left: 14rem;\r\n  background-color: #fff;\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\nimg.sponsor {\r\n  max-height: 7rem;\r\n  margin-right: 1rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutCytomineModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutCytomineModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AboutCytomineModal.vue?vue&type=template&id=9b72ba08&scoped=true\"\nimport script from \"./AboutCytomineModal.vue?vue&type=script&lang=js\"\nexport * from \"./AboutCytomineModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./AboutCytomineModal.vue?vue&type=style&index=0&id=9b72ba08&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9b72ba08\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.deactivate),expression:\"deactivate\"}],class:['navbar-item', 'search', _vm.displayResults ? 'is-active' : '']},[_c('b-field',{staticClass:\"no-margin\",attrs:{\"type\":_vm.error ? 'is-danger' : null}},[_c('b-input',{staticClass:\"global-search\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\",\"loading\":_vm.loading,\"disabled\":_vm.error},nativeOn:{\"click\":function($event){return _vm.activate()}},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('p',{staticClass:\"control\"},[_c('router-link',{staticClass:\"button\",attrs:{\"to\":\"/advanced-search\",\"active-class\":\"router-link-active\"},nativeOn:{\"click\":function($event){return _vm.deactivate.apply(null, arguments)}}},[_vm._v(\"+\")])],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(true),expression:\"true\"}],staticClass:\"navbar-dropdown search-results\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('project'))+\" (\"+_vm._s(_vm.filteredProjects.length)+\")\")]),(_vm.filteredProjects.length > 0)?_c('p',[_vm._l((_vm.subsetProjects),function(project){return _c('router-link',{key:project.id,staticClass:\"navbar-item\",attrs:{\"to\":`/project/${project.id}`},domProps:{\"innerHTML\":_vm._s(_vm.highlightedName(project.name))},nativeOn:{\"click\":function($event){return _vm.deactivate.apply(null, arguments)}}})}),(_vm.moreProjects)?_c('a',{staticClass:\"navbar-item\"},[_vm._v(\"...\")]):_vm._e()],2):_c('span',{staticClass:\"navbar-item no-result\"},[_vm._v(_vm._s(_vm.$t('no-project')))]),_c('h2',[_vm._v(_vm._s(_vm.$t('images'))+\" (\"+_vm._s(_vm.filteredImages.length)+\")\")]),(_vm.filteredImages.length > 0)?_c('p',[_vm._l((_vm.subsetImages),function(img){return _c('router-link',{key:img.id,staticClass:\"navbar-item\",attrs:{\"to\":`/project/${img.project}/image/${img.id}`},domProps:{\"innerHTML\":_vm._s(_vm.htmlImageName(img))},nativeOn:{\"click\":function($event){return _vm.deactivate.apply(null, arguments)}}})}),(_vm.moreImages)?_c('a',{staticClass:\"navbar-item\"},[_vm._v(\"...\")]):_vm._e()],2):_c('span',{staticClass:\"navbar-item no-result\"},[_vm._v(_vm._s(_vm.$t('no-image')))]),(_vm.moreImages || _vm.moreProjects)?_c('div',{staticClass:\"search-view-all\"},[_c('router-link',{staticClass:\"button is-small\",attrs:{\"to\":`/advanced-search/${_vm.searchString}`},nativeOn:{\"click\":function($event){return _vm.deactivate.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-view-all'))+\" (\"+_vm._s(_vm.totalNbResults)+\") \")])],1):_vm._e()])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div :class=\"['navbar-item', 'search', displayResults ? 'is-active' : '']\" v-click-outside=\"deactivate\">\r\n  <b-field class=\"no-margin\" :type=\"error ? 'is-danger' : null\">\r\n    <b-input\r\n      class=\"global-search\"\r\n      v-model=\"searchString\"\r\n      :placeholder=\"$t('search-placeholder')\"\r\n      type=\"search\"\r\n      icon=\"search\"\r\n      @click.native=\"activate()\"\r\n      :loading=\"loading\"\r\n      :disabled=\"error\"\r\n    />\r\n    <p class=\"control\">\r\n      <router-link class=\"button\" to=\"/advanced-search\" active-class=\"router-link-active\" @click.native=\"deactivate\">+</router-link>\r\n    </p>\r\n  </b-field>\r\n\r\n  <div class=\"navbar-dropdown search-results\" v-show=\"true\">\r\n    <h2>{{$t('project')}} ({{filteredProjects.length}})</h2>\r\n    <p v-if=\"filteredProjects.length > 0\">\r\n      <router-link\r\n        v-for=\"project in subsetProjects\"\r\n        :key=\"project.id\"\r\n        :to=\"`/project/${project.id}`\"\r\n        class=\"navbar-item\"\r\n        v-html=\"highlightedName(project.name)\"\r\n        @click.native=\"deactivate\"\r\n      />\r\n      <a v-if=\"moreProjects\" class=\"navbar-item\">...</a>\r\n    </p>\r\n    <span v-else class=\"navbar-item no-result\">{{$t('no-project')}}</span>\r\n\r\n    <h2>{{$t('images')}} ({{filteredImages.length}})</h2>\r\n    <p v-if=\"filteredImages.length > 0\">\r\n      <router-link\r\n        v-for=\"img in subsetImages\"\r\n        :key=\"img.id\"\r\n        :to=\"`/project/${img.project}/image/${img.id}`\"\r\n        class=\"navbar-item\"\r\n        @click.native=\"deactivate\"\r\n        v-html=\"htmlImageName(img)\"\r\n      />\r\n      <a v-if=\"moreImages\" class=\"navbar-item\">...</a>\r\n    </p>\r\n    <span v-else class=\"navbar-item no-result\">{{$t('no-image')}}</span>\r\n\r\n    <div v-if=\"moreImages || moreProjects\" class=\"search-view-all\">\r\n      <router-link class=\"button is-small\" :to=\"`/advanced-search/${searchString}`\" @click.native=\"deactivate\">\r\n        {{$t('button-view-all')}} ({{totalNbResults}})\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {ImageInstanceCollection, ProjectCollection} from 'cytomine-client';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\n\r\nexport default {\r\n  name: 'cytomine-searcher',\r\n  data() {\r\n    return {\r\n      isActive: false,\r\n      loading: false,\r\n      error: false,\r\n      searchString: '',\r\n      projects: [],\r\n      images: [],\r\n      maxNbDisplayed: 5\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    displayResults() {\r\n      return this.isActive && !this.error && this.searchString.length > 0;\r\n    },\r\n    regexp() {\r\n      return getWildcardRegexp(this.searchString);\r\n    },\r\n    filteredProjects() {\r\n      if(!this.searchString) {\r\n        return this.projects;\r\n      }\r\n\r\n      return this.projects.filter(project => {\r\n        return this.regexp.test(project.name);\r\n      });\r\n    },\r\n    subsetProjects() {\r\n      return this.filteredProjects.slice(0, this.maxNbDisplayed);\r\n    },\r\n    moreProjects() {\r\n      return this.filteredProjects > this.subsetProjects;\r\n    },\r\n    filteredImages() {\r\n      if(!this.searchString) {\r\n        return this.images;\r\n      }\r\n\r\n      return this.images.filter(image => {\r\n        return this.regexp.test(this.imageName(image));\r\n      });\r\n    },\r\n    subsetImages() {\r\n      return this.filteredImages.slice(0, this.maxNbDisplayed);\r\n    },\r\n    moreImages() {\r\n      return this.filteredImages > this.subsetImages;\r\n    },\r\n    totalNbResults() {\r\n      return this.filteredImages.length + this.filteredProjects.length;\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchImages() {\r\n      this.images = await ImageInstanceCollection.fetchAllLight();\r\n    },\r\n    async fetchProjects() {\r\n      this.projects = (await new ProjectCollection({\r\n        light: true,\r\n        filterKey: 'user',\r\n        filterValue: this.currentUser.id\r\n      }).fetchAll()).array;\r\n    },\r\n    async activate() {\r\n      if(!this.isActive) {\r\n        try {\r\n          this.loading = true;\r\n          await Promise.all([\r\n            this.fetchImages(),\r\n            this.fetchProjects()\r\n          ]);\r\n        }\r\n        catch(error) {\r\n          console.log(error);\r\n          this.error = true;\r\n        }\r\n        this.loading = false;\r\n        this.isActive = true;\r\n      }\r\n    },\r\n    deactivate() {\r\n      this.isActive = false;\r\n    },\r\n    imageName(image) {\r\n      return String(image.blindedName || image.instanceFilename);\r\n    },\r\n    highlightedName(value) {\r\n      return value.replace(this.regexp, '<strong>$1</strong>');\r\n    },\r\n    htmlImageName(img) {\r\n      let blindIndication = img.blindedName ? `<span class=\"blind\">[${this.$t('blinded-name-indication')}] </span>` : '';\r\n      let inProject = `<span class=\"in-project\">(${this.$t('in-project', {projectName: img.projectName})})</span>`;\r\n      return `${blindIndication}${this.highlightedName(this.imageName(img))}&nbsp;${inProject}`;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.navbar-item.search {\r\n  height: 100%;\r\n}\r\n\r\n.navbar-item:not(.is-active) .navbar-dropdown { /* display dropdown if inactive even on mobile */\r\n  display: none;\r\n}\r\n\r\n.navbar-dropdown.search-results h2 {\r\n  background: #f1f1f1;\r\n  text-transform: uppercase;\r\n  font-size: 0.9em;\r\n  font-weight: 600;\r\n  padding: 0.2em 0 0.3em 3em;\r\n  border-top: 1px solid #e3e3e3;\r\n  margin-bottom: 0;\r\n}\r\n\r\n.navbar-dropdown.search-results .navbar-item {\r\n  font-weight: normal;\r\n  padding: 0.2em 1em 0.2em 1.75em;\r\n  white-space: pre;\r\n}\r\n\r\n.search-view-all {\r\n  border-top: 1px solid #e3e3e3;\r\n  padding-top: 0.5em;\r\n  text-align: center;\r\n}\r\n\r\n.no-result {\r\n  color: grey;\r\n}\r\n\r\n>>> .blind {\r\n  font-size: 0.9em;\r\n  text-transform: uppercase;\r\n}\r\n\r\n.global-search {\r\n  max-width: 15em;\r\n}\r\n\r\n.no-margin {\r\n  margin: 0 !important;\r\n}\r\n\r\n>>> .global-search .fas {\r\n  padding-right: 0px !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineSearcher.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineSearcher.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineSearcher.vue?vue&type=template&id=714c3a7d&scoped=true\"\nimport script from \"./CytomineSearcher.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineSearcher.vue?vue&type=script&lang=js\"\nimport style0 from \"./CytomineSearcher.vue?vue&type=style&index=0&id=714c3a7d&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"714c3a7d\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <nav class=\"navbar is-light\" role=\"navigation\">\r\n    <div class=\"navbar-brand\">\r\n      <router-link to=\"/\" exact class=\"navbar-item\">\r\n        <img src=\"@/assets/logo.svg\" id=\"logo\" alt=\"Cytomine\" />\r\n      </router-link>\r\n      <a\r\n        role=\"\"\r\n        class=\"navbar-burger\"\r\n        :class=\"{ 'is-active': openedTopMenu }\"\r\n        @click=\"openedTopMenu = !openedTopMenu\"\r\n      >\r\n        <span></span> <span></span> <span></span>\r\n      </a>\r\n    </div>\r\n    <div\r\n      id=\"topMenu\"\r\n      class=\"navbar-menu\"\r\n      :class=\"{ 'is-active': openedTopMenu }\"\r\n    >\r\n      <div class=\"navbar-start\">\r\n        <navbar-dropdown\r\n          icon=\"fa-folder-open\"\r\n          v-if=\"this.nbActiveProjects > 0\"\r\n          :title=\"$t('workspace')\"\r\n          :listPathes=\"['/project/']\"\r\n        >\r\n          <navigation-tree />\r\n        </navbar-dropdown>\r\n        <router-link to=\"/projects\" class=\"navbar-item\">\r\n          <i class=\"fas fa-list-alt\"></i>\r\n          {{ $t(\"projects\") }}\r\n        </router-link>\r\n        <router-link\r\n          v-if=\"!currentUser.guestByNow\"\r\n          to=\"/storage\"\r\n          class=\"navbar-item\"\r\n        >\r\n          <i class=\"fas fa-download\"></i>\r\n          {{ $t(\"storage\") }}\r\n        </router-link>\r\n        <router-link to=\"/ontology\" class=\"navbar-item\">\r\n          <i class=\"fas fa-hashtag\"></i>\r\n          {{ $t(\"ontologies\") }}\r\n        </router-link>\r\n        <router-link v-show=\"algoEnabled\" to=\"/algorithm\" class=\"navbar-item\">\r\n          <i class=\"fas fa-code\"></i>\r\n          {{ $t(\"algorithms\") }}\r\n        </router-link>\r\n        <router-link\r\n          v-if=\"currentUser.adminByNow\"\r\n          to=\"/admin\"\r\n          class=\"navbar-item\"\r\n        >\r\n          <i class=\"fas fa-wrench\"></i>\r\n          {{ $t(\"admin-menu\") }}\r\n        </router-link>\r\n      </div>\r\n\r\n      <div class=\"navbar-end\">\r\n        <cytomine-searcher />\r\n\r\n        <navbar-dropdown\r\n          :icon=\"\r\n            currentUser.adminByNow\r\n              ? 'fa-star'\r\n              : currentUser.isSwitched\r\n              ? 'fa-user-ninja'\r\n              : 'fa-user'\r\n          \"\r\n          :title=\"currentUserFullInfo\"\r\n          :linkClasses=\"{ 'has-text-dark-primary': currentUser.isSwitched }\"\r\n          :tag=\"\r\n            currentUser.adminByNow\r\n              ? { type: 'is-danger', text: $t('admin') }\r\n              : null\r\n          \"\r\n          :listPathes=\"['/account', '/activity']\"\r\n        >\r\n          <router-link to=\"/account\" class=\"navbar-item\">\r\n            <span class=\"icon\"><i class=\"fas fa-user fa-xs\"></i></span>\r\n            {{ $t(\"account\") }}\r\n          </router-link>\r\n          <router-link to=\"/activity\" class=\"navbar-item\">\r\n            <span class=\"icon\"><i class=\"fas fa-history fa-xs\"></i></span>\r\n            {{ $t(\"activity-history\") }}\r\n          </router-link>\r\n          <template v-if=\"currentUser.admin\">\r\n            <a\r\n              v-if=\"!currentUser.adminByNow\"\r\n              class=\"navbar-item\"\r\n              @click=\"openAdminSession()\"\r\n            >\r\n              <span class=\"icon\"><i class=\"fas fa-star fa-xs\"></i></span>\r\n              {{ $t(\"open-admin-session\") }}\r\n            </a>\r\n            <a v-else class=\"navbar-item\" @click=\"closeAdminSession()\">\r\n              <span class=\"icon\"><i class=\"far fa-star fa-xs\"></i></span>\r\n              {{ $t(\"close-admin-session\") }}\r\n            </a>\r\n          </template>\r\n          <template v-if=\"currentUser.isSwitched\">\r\n            <a\r\n              class=\"navbar-item has-text-dark-primary\"\r\n              @click=\"stopSwitchUser()\"\r\n            >\r\n              <span class=\"icon\"\r\n                ><i class=\"fas fa-exchange-alt fa-xs\"></i\r\n              ></span>\r\n              {{\r\n                $t(\"switch-back-to-user\", { username: currentUser.realUser })\r\n              }}\r\n            </a>\r\n          </template>\r\n          <a class=\"navbar-item\" @click=\"logout()\">\r\n            <span class=\"icon\"><i class=\"fas fa-power-off fa-xs\"></i></span>\r\n            {{ $t(\"logout\") }}\r\n          </a>\r\n        </navbar-dropdown>\r\n\r\n        <navbar-dropdown\r\n          icon=\"fa-question-circle\"\r\n          :title=\"$t('help')\"\r\n          :classes=\"['is-right']\"\r\n        >\r\n          <a class=\"navbar-item\" @click=\"openHotkeysModal()\">\r\n            <span class=\"icon\"><i class=\"far fa-keyboard fa-xs\"></i></span>\r\n            {{ $t(\"shortcuts\") }}\r\n          </a>\r\n          <a class=\"navbar-item\" @click=\"openAboutModal()\">\r\n            <span class=\"icon\"><i class=\"fas fa-info-circle fa-xs\"></i></span>\r\n            {{ $t(\"about-cytomine\") }}\r\n          </a>\r\n        </navbar-dropdown>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"hidden\"\r\n      v-shortkey.once=\"openHotkeysModalShortcut\"\r\n      @shortkey=\"openHotkeysModal\"\r\n    ></div>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nimport { get } from \"@/utils/store-helpers\";\r\nimport { changeLanguageMixin } from \"@/lang.js\";\r\n\r\nimport NavbarDropdown from \"./NavbarDropdown\";\r\nimport NavigationTree from \"./NavigationTree\";\r\nimport HotkeysModal from \"./HotkeysModal\";\r\nimport AboutCytomineModal from \"./AboutCytomineModal\";\r\nimport CytomineSearcher from \"@/components/search/CytomineSearcher\";\r\nimport constants from \"@/utils/constants.js\";\r\nimport { Cytomine } from \"cytomine-client\";\r\nimport { fullName } from \"@/utils/user-utils.js\";\r\nimport shortcuts from \"@/utils/shortcuts.js\";\r\n\r\nexport default {\r\n  name: \"cytomine-navbar\",\r\n  components: {\r\n    NavbarDropdown,\r\n    NavigationTree,\r\n    CytomineSearcher,\r\n  },\r\n  mixins: [changeLanguageMixin],\r\n  data() {\r\n    return {\r\n      openedTopMenu: false,\r\n      hotkeysModal: null,\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      aboutModal: null,\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get(\"currentUser/user\"),\r\n    currentUserFullInfo() {\r\n      return fullName(this.currentUser);\r\n    },\r\n    nbActiveProjects() {\r\n      return Object.keys(this.$store.state.projects).length;\r\n    },\r\n    openHotkeysModalShortcut() {\r\n      return shortcuts[\"general-shortcuts-modal\"];\r\n    },\r\n  },\r\n  watch: {\r\n    $route() {\r\n      this.openedTopMenu = false;\r\n    },\r\n  },\r\n  methods: {\r\n    // required to use programmatic modal for correct display in IE11\r\n    openHotkeysModal() {\r\n      if (!this.hotkeysModal) {\r\n        this.hotkeysModal = this.$buefy.modal.open({\r\n          parent: this,\r\n          component: HotkeysModal,\r\n          hasModalCard: true,\r\n          onCancel: () => (this.hotkeysModal = null),\r\n        });\r\n      }\r\n    },\r\n    openAboutModal() {\r\n      this.$buefy.modal.open({\r\n        parent: this,\r\n        component: AboutCytomineModal,\r\n        hasModalCard: true,\r\n      });\r\n    },\r\n    // ---\r\n\r\n    async openAdminSession() {\r\n      try {\r\n        await this.$store.dispatch(\"currentUser/openAdminSession\");\r\n        this.$router.push(\"/admin\");\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    async closeAdminSession() {\r\n      try {\r\n        await this.$store.dispatch(\"currentUser/closeAdminSession\");\r\n        if (this.$router.currentRoute.path === \"/\")\r\n          this.$router.push(\"/projects\");\r\n        else this.$router.push(\"/\");\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    async stopSwitchUser() {\r\n      try {\r\n        await Cytomine.instance.stopSwitchUser();\r\n        await this.$store.dispatch(\"currentUser/fetchUser\");\r\n        this.$router.push(\"/\");\r\n      } catch (error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: \"error\",\r\n          text: this.$t(\"notif-error-failed-to-switch-back-as-real-user\"),\r\n        });\r\n      }\r\n    },\r\n\r\n    async logout() {\r\n      try {\r\n        alert(\"You are about to log out. Please confirm your action.\");\r\n        await this.$store.dispatch(\"currentUser/logout\");\r\n\r\n        await Cytomine.instance.logout();\r\n        this.$store.dispatch(\"logout\");\r\n        this.changeLanguage();\r\n        this.$router.push(\"/\");\r\n      } catch (error) {\r\n        console.log(error);\r\n        this.$notify({ type: \"error\", text: this.$t(\"notif-error-logout\") });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#logo {\r\n  height: 2rem;\r\n  font-family: \"cytomine\";\r\n  font-size: 2em;\r\n  font-weight: lighter;\r\n  line-height: 1em;\r\n}\r\n\r\n/* Special styling for IE */\r\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\r\n  #logo {\r\n    height: 40px !important;\r\n    max-height: none !important;\r\n  }\r\n}\r\n\r\n.navbar {\r\n  font-weight: 600;\r\n  z-index: 500 !important;\r\n\r\n  .fas,\r\n  .far {\r\n    padding-right: 0.5rem;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineNavbar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineNavbar.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineNavbar.vue?vue&type=template&id=69a1dd82\"\nimport script from \"./CytomineNavbar.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineNavbar.vue?vue&type=script&lang=js\"\nimport style0 from \"./CytomineNavbar.vue?vue&type=style&index=0&id=69a1dd82&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"panel\"},[(_vm.forgotUsername)?[_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-user\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"forgot-username\"))+\" \"),_vm._m(0)]),_c('div',{staticClass:\"panel-block\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.sendUsername.apply(null, arguments)}}},[_c('b-field',{attrs:{\"label\":_vm.$t('email')}},[_c('b-input',{model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_c('div',{staticClass:\"buttons is-right\"},[_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.forgotUsername = false}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"button-cancel\"))+\" \")]),_c('button',{staticClass:\"button is-link\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"button-get-username\"))+\" \")])])],1)])]:(_vm.forgotPassword)?[_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-user\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"forgot-password\"))+\" \"),_vm._m(1)]),_c('div',{staticClass:\"panel-block\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.resetPassword()}}},[_c('b-field',{attrs:{\"label\":_vm.$t('username')}},[_c('b-input',{model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}})],1),_c('div',{staticClass:\"buttons is-right\"},[_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.forgotPassword = false}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"button-cancel\"))+\" \")]),_c('button',{staticClass:\"button is-link\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"button-reset-password\"))+\" \")])])],1)])]:(_vm.registering)?_c('register',{on:{\"close\":function($event){_vm.registering = false}}}):[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\"UNDER CONSTRUCTION\")]),_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-user\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"login\"))+\" \"),_vm._m(2)]),_c('div',{staticClass:\"panel-block\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.login()}}},[_c('b-field',{attrs:{\"label\":_vm.$t('username')}},[_c('b-input',{attrs:{\"minlength\":\"1\",\"maxlength\":\"50\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('password')}},[_c('b-input',{attrs:{\"type\":\"password\",\"password-reveal\":\"\",\"minlength\":\"4\",\"maxlength\":\"100\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',[_c('b-checkbox',{attrs:{\"type\":\"is-info\"},model:{value:(_vm.rememberMe),callback:function ($$v) {_vm.rememberMe=$$v},expression:\"rememberMe\"}},[_vm._v(_vm._s(_vm.$t(\"remember-me\")))])],1)],1),_c('div',{staticClass:\"column has-text-right\"},[_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":!_vm.loginEnabled}},[_vm._v(\" \"+_vm._s(_vm.$t(\"button-login\"))+\" \")])])])],1)]),_c('i18n',{staticClass:\"is-size-7 has-text-centered forgot-credentials\",attrs:{\"path\":\"forgot-credentials\",\"tag\":\"p\"}},[_c('a',{attrs:{\"place\":\"username\"},on:{\"click\":function($event){_vm.forgotUsername = true}}},[_vm._v(_vm._s(_vm.$t(\"username\")))]),_c('a',{attrs:{\"place\":\"password\"},on:{\"click\":function($event){_vm.forgotPassword = true}}},[_vm._v(_vm._s(_vm.$t(\"password\")))])]),(_vm.allowedRegistration)?_c('i18n',{staticClass:\"is-size-7 has-text-centered\",attrs:{\"path\":\"no-account-yet\",\"tag\":\"p\"}},[_c('a',{attrs:{\"place\":\"registerLink\"},on:{\"click\":function($event){_vm.registering = true}}},[_vm._v(_vm._s(_vm.$t(\"register\")))])]):_vm._e()]],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('a',{attrs:{\"href\":\"https://doc.cytomine.org\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.svg\"),\"id\":\"logo\",\"alt\":\"Cytomine\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('a',{attrs:{\"href\":\"https://doc.cytomine.org\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.svg\"),\"id\":\"logo\",\"alt\":\"Cytomine\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('a',{attrs:{\"href\":\"https://doc.cytomine.org\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.svg\"),\"id\":\"logo\",\"alt\":\"Cytomine\"}})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-user-plus\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t('register'))+\" \")]),_c('div',{staticClass:\"panel-block\"},[(_vm.success)?[_c('b-message',{attrs:{\"type\":\"is-success\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('successful-registration'))+\" \")]),_c('p',{staticClass:\"has-text-centered\"},[_c('a',{on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(_vm._s(_vm.$t('back-to-login')))])])]:_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.register()}}},[_c('b-field',{attrs:{\"label\":_vm.$t('firstname'),\"type\":{'is-danger': _vm.errors.has('firstname')},\"message\":_vm.errors.first('firstname')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"firstname\"},model:{value:(_vm.firstname),callback:function ($$v) {_vm.firstname=$$v},expression:\"firstname\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('lastname'),\"type\":{'is-danger': _vm.errors.has('lastname')},\"message\":_vm.errors.first('lastname')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"lastname\"},model:{value:(_vm.lastname),callback:function ($$v) {_vm.lastname=$$v},expression:\"lastname\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('username'),\"type\":{'is-danger': _vm.errors.has('username')},\"message\":_vm.errors.first('username')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"username\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('email'),\"type\":{'is-danger': _vm.errors.has('email')},\"message\":_vm.errors.first('email')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|email'),expression:\"'required|email'\"}],attrs:{\"name\":\"email\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_c('div',{staticClass:\"buttons is-right\"},[_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\",\"disabled\":_vm.loading},on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",class:{'is-loading': _vm.loading},attrs:{\"disabled\":_vm.errors.any() || _vm.loading}},[_vm._v(\" \"+_vm._s(_vm.$t('button-register'))+\" \")])])],1)],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <p class=\"panel-heading\">\r\n    <i class=\"fas fa-user-plus\" aria-hidden=\"true\"></i>\r\n    {{$t('register')}}\r\n  </p>\r\n  <div class=\"panel-block\">\r\n    <template v-if=\"success\">\r\n      <b-message type=\"is-success\" has-icon icon-size=\"is-small\">\r\n        {{$t('successful-registration')}}\r\n      </b-message>\r\n      <p class=\"has-text-centered\">\r\n        <a @click=\"$emit('close')\">{{$t('back-to-login')}}</a>\r\n      </p>\r\n    </template>\r\n\r\n    <form v-else @submit.prevent=\"register()\">\r\n      <b-field :label=\"$t('firstname')\" :type=\"{'is-danger': errors.has('firstname')}\" :message=\"errors.first('firstname')\">\r\n        <b-input v-model=\"firstname\" name=\"firstname\" v-validate=\"'required'\" />\r\n      </b-field>\r\n\r\n      <b-field :label=\"$t('lastname')\" :type=\"{'is-danger': errors.has('lastname')}\" :message=\"errors.first('lastname')\">\r\n        <b-input v-model=\"lastname\" name=\"lastname\" v-validate=\"'required'\"  />\r\n      </b-field>\r\n\r\n      <b-field :label=\"$t('username')\" :type=\"{'is-danger': errors.has('username')}\" :message=\"errors.first('username')\">\r\n        <b-input v-model=\"username\" name=\"username\" v-validate=\"'required'\" />\r\n      </b-field>\r\n\r\n      <b-field :label=\"$t('email')\" :type=\"{'is-danger': errors.has('email')}\" :message=\"errors.first('email')\">\r\n        <b-input v-model=\"email\" name=\"email\" v-validate=\"'required|email'\"  />\r\n      </b-field>\r\n\r\n      <div class=\"buttons is-right\">\r\n        <button class=\"button\" type=\"button\" :disabled=\"loading\" @click=\"$emit('close')\">\r\n          {{$t('button-cancel')}}\r\n        </button>\r\n        <button class=\"button is-link\" :class=\"{'is-loading': loading}\" :disabled=\"errors.any() || loading\">\r\n          {{$t('button-register')}}\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {Cytomine} from 'cytomine-client';\r\n\r\nexport default {\r\n  name: 'register',\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return  {\r\n      username: '',\r\n      email: '',\r\n      firstname: '',\r\n      lastname: '',\r\n      success: false,\r\n      loading: false\r\n    };\r\n  },\r\n  methods: {\r\n    async register() {\r\n      console.log('register');\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        this.loading = true;\r\n        let params = new URLSearchParams();\r\n        params.append('firstname', this.firstname);\r\n        params.append('lastname', this.lastname);\r\n        params.append('username', this.username);\r\n        params.append('email', this.email);\r\n        await Cytomine.instance.api.post(`${Cytomine.instance.host}/login/createAccount`, params);\r\n        this.success = true;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        if(error.response && error.response.status === 409) {\r\n          this.$notify({type: 'error', text: this.$t('notif-error-register-username-exists')});\r\n        }\r\n        else {\r\n          this.$notify({type: 'error', text: this.$t('notif-error-register')});\r\n        }\r\n      }\r\n      this.loading = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=6cc2e326\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div class=\"panel\">\r\n    <template v-if=\"forgotUsername\">\r\n      <p class=\"panel-heading\">\r\n        <i class=\"fas fa-user\" aria-hidden=\"true\"></i>\r\n        {{ $t(\"forgot-username\") }}\r\n        <a href=\"https://doc.cytomine.org\" target=\"_blank\"\r\n          ><img src=\"@/assets/logo.svg\" id=\"logo\" alt=\"Cytomine\"\r\n        /></a>\r\n      </p>\r\n      <div class=\"panel-block\">\r\n        <form @submit.prevent=\"sendUsername\">\r\n          <b-field :label=\"$t('email')\">\r\n            <b-input v-model=\"email\" />\r\n          </b-field>\r\n\r\n          <div class=\"buttons is-right\">\r\n            <button\r\n              class=\"button\"\r\n              type=\"button\"\r\n              @click=\"forgotUsername = false\"\r\n            >\r\n              {{ $t(\"button-cancel\") }}\r\n            </button>\r\n            <button class=\"button is-link\">\r\n              {{ $t(\"button-get-username\") }}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </template>\r\n\r\n    <template v-else-if=\"forgotPassword\">\r\n      <p class=\"panel-heading\">\r\n        <i class=\"fas fa-user\" aria-hidden=\"true\"></i>\r\n        {{ $t(\"forgot-password\") }}\r\n        <a href=\"https://doc.cytomine.org\" target=\"_blank\"\r\n          ><img src=\"@/assets/logo.svg\" id=\"logo\" alt=\"Cytomine\"\r\n        /></a>\r\n      </p>\r\n      <div class=\"panel-block\">\r\n        <form @submit.prevent=\"resetPassword()\">\r\n          <b-field :label=\"$t('username')\">\r\n            <b-input v-model=\"username\" />\r\n          </b-field>\r\n\r\n          <div class=\"buttons is-right\">\r\n            <button\r\n              class=\"button\"\r\n              type=\"button\"\r\n              @click=\"forgotPassword = false\"\r\n            >\r\n              {{ $t(\"button-cancel\") }}\r\n            </button>\r\n            <button class=\"button is-link\">\r\n              {{ $t(\"button-reset-password\") }}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </template>\r\n\r\n    <register v-else-if=\"registering\" @close=\"registering = false\" />\r\n\r\n    <template v-else>\r\n      <p class=\"panel-heading\">UNDER CONSTRUCTION</p>\r\n      <p class=\"panel-heading\">\r\n        <i class=\"fas fa-user\" aria-hidden=\"true\"></i>\r\n        {{ $t(\"login\") }}\r\n        <a href=\"https://doc.cytomine.org\" target=\"_blank\"\r\n          ><img src=\"@/assets/logo.svg\" id=\"logo\" alt=\"Cytomine\"\r\n        /></a>\r\n      </p>\r\n      <div class=\"panel-block\">\r\n        <form @submit.prevent=\"login()\">\r\n          <b-field :label=\"$t('username')\">\r\n            <b-input minlength=\"1\" maxlength=\"50\" v-model=\"username\" />\r\n          </b-field>\r\n\r\n          <b-field :label=\"$t('password')\">\r\n            <b-input\r\n              type=\"password\"\r\n              password-reveal\r\n              minlength=\"4\"\r\n              maxlength=\"100\"\r\n              v-model=\"password\"\r\n            />\r\n          </b-field>\r\n\r\n          <div class=\"columns\">\r\n            <div class=\"column\">\r\n              <b-field>\r\n                <b-checkbox v-model=\"rememberMe\" type=\"is-info\">{{\r\n                  $t(\"remember-me\")\r\n                }}</b-checkbox>\r\n              </b-field>\r\n            </div>\r\n\r\n            <div class=\"column has-text-right\">\r\n              <button :disabled=\"!loginEnabled\" class=\"button is-link\">\r\n                {{ $t(\"button-login\") }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <i18n\r\n        path=\"forgot-credentials\"\r\n        tag=\"p\"\r\n        class=\"is-size-7 has-text-centered forgot-credentials\"\r\n      >\r\n        <a place=\"username\" @click=\"forgotUsername = true\">{{\r\n          $t(\"username\")\r\n        }}</a>\r\n        <a place=\"password\" @click=\"forgotPassword = true\">{{\r\n          $t(\"password\")\r\n        }}</a>\r\n      </i18n>\r\n      <i18n\r\n        v-if=\"allowedRegistration\"\r\n        path=\"no-account-yet\"\r\n        tag=\"p\"\r\n        class=\"is-size-7 has-text-centered\"\r\n      >\r\n        <a place=\"registerLink\" @click=\"registering = true\">{{\r\n          $t(\"register\")\r\n        }}</a>\r\n      </i18n>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { get } from \"@/utils/store-helpers\";\r\nimport { changeLanguageMixin } from \"@/lang.js\";\r\nimport { Cytomine } from \"cytomine-client\";\r\nimport Register from \"./Register\";\r\n\r\nexport default {\r\n  name: \"login\",\r\n  components: { Register },\r\n  mixins: [changeLanguageMixin],\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      password: \"\",\r\n      email: \"\",\r\n      rememberMe: true,\r\n\r\n      allowedRegistration: false, // TODO: retrieve info from core\r\n\r\n      forgotUsername: false,\r\n      forgotPassword: false,\r\n      registering: false,\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get(\"currentUser/user\"),\r\n    loginEnabled() {\r\n      return !!this.username && !!this.password;\r\n    },\r\n  },\r\n  methods: {\r\n    async login() {\r\n      try {\r\n        await this.$store.dispatch(\"currentUser/login\", {\r\n          username: this.username,\r\n          password: this.password,\r\n          rememberMe: this.rememberMe,\r\n        });\r\n        if (this.currentUser) {\r\n          this.changeLanguage(this.currentUser.language);\r\n          this.$notify({\r\n            type: \"success\",\r\n            text: this.$t(\"notif-success-login\"),\r\n          });\r\n        } else {\r\n          this.$notify({\r\n            type: \"error\",\r\n            text: this.$t(\"notif-unexpected-error\"),\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.log(error.response);\r\n        this.$notify({\r\n          type: \"error\",\r\n          text: error.response.data.errors.message,\r\n        });\r\n      }\r\n    },\r\n    async sendUsername() {\r\n      try {\r\n        await Cytomine.instance.forgotUsername(this.email);\r\n        this.$notify({\r\n          type: \"success\",\r\n          text: this.$t(\"notif-success-forgot-username\"),\r\n        });\r\n        this.forgotUsername = false;\r\n      } catch (error) {\r\n        this.$notify({\r\n          type: \"error\",\r\n          text: this.$t(\"notif-error-forgot-username\"),\r\n        });\r\n      }\r\n    },\r\n    async resetPassword() {\r\n      try {\r\n        await Cytomine.instance.forgotPassword(this.username);\r\n        this.$notify({\r\n          type: \"success\",\r\n          text: this.$t(\"notif-success-forgot-password\"),\r\n        });\r\n        this.forgotPassword = false;\r\n      } catch (error) {\r\n        this.$notify({\r\n          type: \"error\",\r\n          text: this.$t(\"notif-error-forgot-password\"),\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.panel {\r\n  width: 100%;\r\n  max-width: 40em;\r\n  margin: auto;\r\n  margin-top: 3em;\r\n}\r\n\r\n.columns,\r\n.buttons {\r\n  margin-top: 0.5em;\r\n}\r\n\r\n.panel-block {\r\n  margin-bottom: 1em;\r\n}\r\n\r\n.forgot-credentials a {\r\n  text-transform: lowercase;\r\n}\r\n\r\n.panel-heading img {\r\n  float: right;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=3b72230c&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=3b72230c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b72230c\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div id=\"app\" class=\"wrapper\">\r\n    <notifications position=\"top center\" width=\"30%\" :max=\"5\">\r\n      <template #body=\"props\">\r\n        <div class=\"notification vue-notification\" :class=\"props.item.type\">\r\n          <button class=\"delete\" @click=\"props.close\"></button>\r\n          <strong class=\"notification-title\">\r\n            {{ props.item.title }}\r\n          </strong>\r\n          <div class=\"notification-content\" v-html=\"props.item.text\"></div>\r\n        </div>\r\n      </template>\r\n    </notifications>\r\n\r\n    <template v-if=\"!loading\">\r\n      <div class=\"box error\" v-if=\"communicationError\">\r\n        <h2>\r\n          {{ $t(\"communication-error\") }}\r\n        </h2>\r\n        {{ $t(\"core-cannot-be-reached\") }}\r\n      </div>\r\n\r\n      <login v-else-if=\"!currentUser\" />\r\n\r\n      <template v-else>\r\n        <cytomine-navbar />\r\n        <div class=\"bottom\">\r\n          <keep-alive include=\"cytomine-storage\">\r\n            <router-view v-if=\"currentUser\" />\r\n          </keep-alive>\r\n        </div>\r\n      </template>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { get } from \"@/utils/store-helpers\";\r\nimport { changeLanguageMixin } from \"@/lang.js\";\r\n\r\nimport CytomineNavbar from \"./components/navbar/CytomineNavbar.vue\";\r\nimport Login from \"./components/user/Login.vue\";\r\n\r\nimport { Cytomine } from \"cytomine-client\";\r\n\r\nimport constants from \"@/utils/constants.js\";\r\nimport ifvisible from \"ifvisible\";\r\nifvisible.setIdleDuration(constants.IDLE_DURATION);\r\n\r\nexport default {\r\n  name: \"app\",\r\n  components: { CytomineNavbar, Login },\r\n  mixins: [changeLanguageMixin],\r\n  data() {\r\n    return {\r\n      communicationError: false,\r\n      loading: true,\r\n      timeout: null,\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get(\"currentUser/user\"),\r\n    project: get(\"currentProject/project\"),\r\n  },\r\n  methods: {\r\n    async loginWithToken() {\r\n      try {\r\n        let { shortTermToken } = await Cytomine.instance.loginWithToken(\r\n          this.$route.query.username,\r\n          this.$route.query.token\r\n        );\r\n        this.$store.commit(\"currentUser/setShortTermToken\", shortTermToken);\r\n\r\n        await this.fetchUser();\r\n      } catch (error) {\r\n        console.log(error);\r\n        this.$notify({ type: \"error\", text: this.$t(\"invalid-token\") });\r\n      }\r\n    },\r\n    async ping() {\r\n      if (!ifvisible.now()) {\r\n        return; // window not visible or inactive user => stop pinging\r\n      }\r\n      try {\r\n        let { authenticated, shortTermToken } = await Cytomine.instance.ping(\r\n          this.project ? this.project.id : null\r\n        );\r\n\r\n        this.$store.commit(\"currentUser/setShortTermToken\", shortTermToken);\r\n\r\n        if (this.currentUser && !authenticated) {\r\n          await this.$store.dispatch(\"logout\");\r\n        }\r\n        if (!this.currentUser && authenticated) {\r\n          await this.fetchUser();\r\n        }\r\n        this.communicationError = false;\r\n      } catch (error) {\r\n        console.log(error);\r\n        if (error.toString().indexOf(\"401\") !== -1) {\r\n          this.communicationError = false;\r\n          Cytomine.instance.logout();\r\n        } else {\r\n          this.communicationError = true;\r\n        }\r\n      }\r\n\r\n      clearTimeout(this.timeout);\r\n      this.timeout = setTimeout(this.ping, constants.PING_INTERVAL);\r\n    },\r\n    async fetchUser() {\r\n      await this.$store.dispatch(\"currentUser/fetchUser\");\r\n      if (this.currentUser) {\r\n        this.changeLanguage(this.currentUser.language);\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    let settings;\r\n    await axios\r\n      .get(\"configuration.json\")\r\n      .then((response) => (settings = response.data));\r\n\r\n    await axios.get(\"meta-prefixes.json\").then((response) => {\r\n      constants.METADATA_PREFIXES = response.data;\r\n    });\r\n\r\n    for (let i in settings) {\r\n      if (\r\n        Object.prototype.hasOwnProperty.call(constants, i) ||\r\n        i.includes(\"_NAMESPACE\") ||\r\n        i.includes(\"_VERSION\") ||\r\n        i.includes(\"_ENABLED\")\r\n      ) {\r\n        constants[i] = settings[i];\r\n      }\r\n    }\r\n    Object.freeze(constants);\r\n\r\n    new Cytomine(constants.CYTOMINE_CORE_HOST);\r\n\r\n    if (this.$route.query.token && this.$route.query.username) {\r\n      await this.loginWithToken();\r\n    }\r\n    await this.ping();\r\n    this.loading = false;\r\n    ifvisible.on(\"wakeup\", this.ping);\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"@/assets/styles/main.scss\";\r\n\r\n@font-face {\r\n  font-family: \"cytomine\";\r\n  src: url(\"assets/cytomine-font.woff\") format(\"woff\");\r\n}\r\n\r\nhtml,\r\nbody {\r\n  height: 100vh;\r\n  margin: 0;\r\n  padding: 0;\r\n  overflow: hidden;\r\n}\r\n\r\nbody {\r\n  font-family: \"Open Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif,\r\n    sans-serif;\r\n  color: #333;\r\n  background: #d4d4d4;\r\n}\r\n\r\n.wrapper {\r\n  display: flex;\r\n  height: 100%;\r\n  width: 100%;\r\n  flex-direction: column;\r\n  background: #d4d4d4;\r\n}\r\n\r\n.box.error {\r\n  max-width: 600px;\r\n  margin: auto;\r\n  margin-top: 3rem;\r\n}\r\n\r\n.notifications {\r\n  margin-top: 1em;\r\n}\r\n\r\n.notification.info {\r\n  background: #77b1ea;\r\n}\r\n\r\n.bottom {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  /* position: relative; */\r\n}\r\n\r\nh1 {\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.1rem;\r\n  font-size: 1.25rem;\r\n  text-align: center;\r\n  padding: 0.9rem;\r\n}\r\n\r\nh2 {\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.08rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.in-project {\r\n  color: grey;\r\n  font-size: 0.8em;\r\n}\r\n\r\n.input[readonly] {\r\n  background-color: whitesmoke;\r\n}\r\n\r\nstrong,\r\n.label {\r\n  font-weight: 600 !important;\r\n}\r\n\r\n.content-wrapper {\r\n  padding: 1.5% 2.5%;\r\n  position: relative;\r\n  min-height: 100%;\r\n}\r\n\r\n/* Filters */\r\n\r\n.filters {\r\n  background: #f8f8f8;\r\n  margin-top: 1.2rem;\r\n  border-radius: 10px;\r\n  padding: 1rem;\r\n}\r\n\r\n.filter-label {\r\n  text-transform: uppercase;\r\n  font-size: 0.8em;\r\n  margin-bottom: 0.5em;\r\n  margin-left: 1em;\r\n}\r\n\r\n.filter-label .no-uppercase {\r\n  text-transform: none;\r\n}\r\n\r\n.nb-active-filters {\r\n  display: inline-block;\r\n  background: $primary;\r\n  color: $primary-invert;\r\n  min-width: 1.25rem;\r\n  height: 1.25rem;\r\n  font-weight: 600;\r\n  border-radius: 0.625rem;\r\n  margin-left: 0.5em;\r\n  font-size: 0.9em;\r\n  line-height: 1.25em;\r\n  padding: 0 0.25em;\r\n  position: absolute;\r\n  top: -0.3em;\r\n  right: -0.6em;\r\n}\r\n\r\n/* For correct display of svg images on IE > 10 */\r\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\r\n  img[src$=\".svg\"] {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=30af6f9b\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=30af6f9b&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport Vue from 'vue';\r\n\r\nimport VueRouter from 'vue-router';\r\nimport router from './routes.js';\r\nVue.use(VueRouter);\r\n\r\nimport VueCookies from 'vue-cookies';\r\nVue.use(VueCookies);\r\n\r\nimport i18n from './lang.js';\r\n\r\nimport store from './store/store.js';\r\n\r\nimport Buefy from 'buefy';\r\nVue.use(Buefy, { defaultIconPack: 'fas' });\r\n\r\nimport VeeValidate, { Validator } from 'vee-validate';\r\nValidator.extend('positive', value => Number(value) > 0);\r\nVue.use(VeeValidate, {\r\n  i18nRootKey: 'validations',\r\n  i18n,\r\n  inject: false\r\n});\r\n\r\nimport Notifications from 'vue-notification';\r\nVue.use(Notifications);\r\n\r\nimport VTooltip from 'v-tooltip';\r\nVue.use(VTooltip);\r\n\r\nimport VueMoment from 'vue-moment';\r\nconst moment = require('moment');\r\nVue.use(VueMoment, { moment });\r\n\r\nimport VueShortKey from 'vue-shortkey';\r\nVue.use(VueShortKey, {\r\n  prevent: [\r\n    'input[type=text]',\r\n    'input[type=password]',\r\n    'input[type=search]',\r\n    'input[type=email]',\r\n    'textarea',\r\n    '.ql-editor'\r\n  ]\r\n});\r\n\r\nimport VueHtml2Canvas from 'vue-html2canvas';\r\n\r\nVue.use(VueHtml2Canvas);\r\n\r\nimport * as vClickOutside from 'v-click-outside-x';\r\nVue.use(vClickOutside);\r\n\r\nimport VueLayers from 'vuelayers';\r\nimport ZoomifySource from './vuelayers-suppl/zoomify-source';\r\nimport RasterSource from './vuelayers-suppl/raster-source';\r\nimport TranslateInteraction from './vuelayers-suppl/translate-interaction';\r\nimport RotateInteraction from './vuelayers-suppl/rotate-interaction';\r\nimport ModifyInteraction from './vuelayers-suppl/modify-interaction';\r\nimport RescaleInteraction from './vuelayers-suppl/rescale-interaction';\r\nVue.use(VueLayers);\r\nVue.use(ZoomifySource);\r\nVue.use(RasterSource);\r\nVue.use(TranslateInteraction);\r\nVue.use(RotateInteraction);\r\nVue.use(ModifyInteraction);\r\nVue.use(RescaleInteraction);\r\n\r\nimport Chart from 'chart.js';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\nimport ChartZoom from 'chartjs-plugin-zoom';\r\nChart.plugins.unregister(ChartZoom);\r\nChart.plugins.unregister(ChartDataLabels);\r\nChart.helpers.merge(Chart.defaults.global.plugins.datalabels, {\r\n  anchor: 'end',\r\n  align: 'end',\r\n  offset: 5,\r\n  clamp: true\r\n});\r\n\r\nimport App from './App.vue';\r\n\r\nVue.config.productionTip = false;\r\nVue.prototype.$eventBus = new Vue();\r\n\r\nnew Vue({\r\n  render: h => h(App),\r\n  router,\r\n  store,\r\n  i18n\r\n}).$mount('#app');\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDescription.vue?vue&type=style&index=0&id=2038f6b8&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminConfiguration.vue?vue&type=style&index=0&id=5d85b1f4&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTrack.vue?vue&type=style&index=0&id=62ec5aa4&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectConnectionDetails.vue?vue&type=style&index=0&id=9af9c308&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListImagesPreview.vue?vue&type=style&index=0&id=2744f546&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedSearch.vue?vue&type=style&index=0&id=729a7712&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackModal.vue?vue&type=style&index=0&id=451011d2&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutCytomineModal.vue?vue&type=style&index=0&id=9b72ba08&prod&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/aperio.bfe0ede1.jpg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListJobs.vue?vue&type=style&index=0&id=44623caa&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListUsernames.vue?vue&type=style&index=0&id=2e92ce16&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackTree.vue?vue&type=style&index=1&id=0a743348&prod&lang=css\"","module.exports = __webpack_public_path__ + \"img/leica.1ca27d5c.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddTagDomainAssociationModal.vue?vue&type=style&index=0&id=36d2ab80&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListOntologies.vue?vue&type=style&index=0&id=efcc5a5e&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProperties.vue?vue&type=style&index=1&id=fa6ad84e&prod&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberActivityDetails.vue?vue&type=style&index=0&id=3009d81c&prod&scoped=true&lang=css\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdjustableLookUpTable.vue?vue&type=style&index=0&id=8590653c&prod&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/logo-uliege.1f181756.png\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectImageFilters.vue?vue&type=style&index=0&id=646ef45a&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tags-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[_c('b-field',{attrs:{\"grouped\":\"\",\"group-multiline\":\"\"}},[(_vm.error)?_c('em',[_vm._v(_vm._s(_vm.$t('error-fetch-tags')))]):(_vm.associatedTags.length > 0)?_vm._l((_vm.associatedTags),function(association,idx){return _c('div',{key:association.id,staticClass:\"control\"},[_c('b-taglist',{attrs:{\"attached\":\"\"}},[_c('b-tag',{attrs:{\"type\":\"is-info\"}},[_vm._v(\" \"+_vm._s(association.tagName.toUpperCase())+\" \"),(_vm.currentUser.isDeveloper)?_c('span',[_vm._v(\" (\"+_vm._s(_vm.$t('id'))+\": \"+_vm._s(association.tag)+\")\")]):_vm._e()]),(_vm.canEdit)?_c('b-tag',[_c('button',{staticClass:\"delete is-small\",attrs:{\"title\":_vm.$t('button-delete')},on:{\"click\":function($event){return _vm.removeTag(association, idx)}}})]):_vm._e()],1)],1)}):(_vm.associatedTags.length === 0)?_c('em',[_vm._v(_vm._s(_vm.$t('no-tag')))]):_vm._e(),(_vm.canEdit)?_c('button',{staticClass:\"button is-small add-tag\",on:{\"click\":function($event){return _vm.displayModal()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")]):_vm._e()],2)]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('cytomine-modal-card',{attrs:{\"title\":_vm.$t('associate-tags'),\"active\":\"\"},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$parent.close()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",on:{\"click\":_vm.addAssociations}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")])]},proxy:true}])},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[_c('b-field',[_c('domain-tag-input',{attrs:{\"domains\":_vm.notAssociatedTags,\"placeholder\":\"search-or-create-tag\",\"allowNew\":\"\"},model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})],1)]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n\r\n<template>\r\n<cytomine-modal-card :title=\"$t('associate-tags')\" active>\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\r\n  <template v-if=\"!loading\">\r\n    <b-field>\r\n      <domain-tag-input v-model=\"selectedTags\" :domains=\"notAssociatedTags\" placeholder=\"search-or-create-tag\" allowNew />\r\n    </b-field>\r\n  </template>\r\n\r\n  <template #footer>\r\n    <button class=\"button\" @click=\"$parent.close()\">\r\n      {{$t('button-cancel')}}\r\n    </button>\r\n    <button class=\"button is-link\" @click=\"addAssociations\">\r\n      {{$t('button-add')}}\r\n    </button>\r\n  </template>\r\n</cytomine-modal-card>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {TagCollection} from 'cytomine-client';\r\nimport DomainTagInput from '@/components/utils/DomainTagInput';\r\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\r\n\r\nexport default {\r\n  name: 'add-tag-modal',\r\n  props: {\r\n    associatedTags: Array\r\n  },\r\n  components: {\r\n    CytomineModalCard,\r\n    DomainTagInput,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      tags: [],\r\n      selectedTags: []\r\n    };\r\n  },\r\n  computed: {\r\n    notAssociatedTags() {\r\n      return this.tags.filter(tag => !this.associatedTags.map(u => u.tag).includes(tag.id));\r\n    }\r\n  },\r\n  methods: {\r\n    async addAssociations() {\r\n      this.$emit('addObjects', this.selectedTags);\r\n      this.$parent.close();\r\n    },\r\n    async fetchTags() {\r\n      this.tags = (await TagCollection.fetchAll()).array;\r\n    },\r\n\r\n  },\r\n  async created() {\r\n    this.fetchTags();\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n>>> .modal-card, >>> .modal-card-body {\r\n  overflow: visible !important;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddTagDomainAssociationModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddTagDomainAssociationModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AddTagDomainAssociationModal.vue?vue&type=template&id=36d2ab80&scoped=true\"\nimport script from \"./AddTagDomainAssociationModal.vue?vue&type=script&lang=js\"\nexport * from \"./AddTagDomainAssociationModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./AddTagDomainAssociationModal.vue?vue&type=style&index=0&id=36d2ab80&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36d2ab80\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n\r\n<template>\r\n<div class=\"tags-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <template v-if=\"!loading\">\r\n    <b-field grouped group-multiline>\r\n      <em v-if=\"error\">{{$t('error-fetch-tags')}}</em>\r\n      <div class=\"control\" v-else-if=\"associatedTags.length > 0\" v-for=\"(association, idx) in associatedTags\" :key=\"association.id\">\r\n        <b-taglist attached>\r\n          <b-tag type=\"is-info\">\r\n            {{association.tagName.toUpperCase()}}\r\n            <span v-if=\"currentUser.isDeveloper\"> ({{$t('id')}}: {{association.tag}})</span>\r\n          </b-tag>\r\n          <b-tag v-if=\"canEdit\">\r\n            <button class=\"delete is-small\" :title=\"$t('button-delete')\" @click=\"removeTag(association, idx)\">\r\n            </button>\r\n          </b-tag>\r\n        </b-taglist>\r\n      </div>\r\n      <em v-else-if=\"associatedTags.length === 0\">{{$t('no-tag')}}</em>\r\n\r\n      <button v-if=\"canEdit\" class=\"button is-small add-tag\" @click=\"displayModal()\">\r\n        {{$t('button-add')}}\r\n      </button>\r\n    </b-field>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {Tag, TagDomainAssociation, TagDomainAssociationCollection} from 'cytomine-client';\r\nimport AddTagDomainAssociationModal from '@/components/tag/AddTagDomainAssociationModal';\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nexport default {\r\n  name: 'cytomine-tags',\r\n  props: {\r\n    object: {type: Object},\r\n    canEdit: {type: Boolean, default: true}\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n      addTagModal:false,\r\n      associatedTags: []\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n  },\r\n  methods: {\r\n    displayModal() {\r\n      //this.addTagModal = true;\r\n      // required to use programmatic modal because the description is sometimes displayed in elements with a\r\n      // CSS transform (e.g. popover) that conflict with the fixed position of the modal\r\n      // (http://meyerweb.com/eric/thoughts/2011/09/12/un-fixing-fixed-elements-with-css-transforms/)\r\n\r\n      this.$buefy.modal.open({\r\n        parent: this,\r\n        component: AddTagDomainAssociationModal,\r\n        props: {associatedTags: this.associatedTags},\r\n        hasModalCard: true,\r\n        events: {'addObjects': this.addAssociations}\r\n      });\r\n    },\r\n    sortAssociatedTags() {\r\n      this.associatedTags.sort((a, b) => a.tagName.localeCompare(b.tagName));\r\n    },\r\n    async addAssociations(tags){\r\n      if(tags.length === 0) {\r\n        this.$notify({type: 'error', text: this.$t('notif-error-add-tag-domain-associations')});\r\n        return;\r\n      }\r\n\r\n      let [existingTags, newTags] = tags.reduce(\r\n        (result, element) => {\r\n          result[element instanceof Tag ? 0 : 1].push(element); // Determine and push to which arr\r\n          return result;\r\n        },\r\n        [[], []] // Default values\r\n      );\r\n\r\n      try{\r\n        let tagPromises = [];\r\n        for(let i = 0; i < newTags.length; i++) {\r\n          tagPromises.push(new Tag({name : newTags[i]}, this.object).save());\r\n        }\r\n        newTags = await Promise.all(tagPromises).then(function(values) {\r\n          return values;\r\n        });\r\n        tags = existingTags.concat(newTags);\r\n      }\r\n      catch(error){\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-add-tags')});\r\n      }\r\n\r\n      try{\r\n        let associationPromises = [];\r\n        for(let i = 0; i < tags.length; i++) {\r\n          associationPromises.push(new TagDomainAssociation({tag : tags[i].id}, this.object).save());\r\n        }\r\n        let newAssocations = await Promise.all(associationPromises).then(function(values) {\r\n          return values;\r\n        });\r\n        this.associatedTags = this.associatedTags.concat(newAssocations);\r\n        this.sortAssociatedTags();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-add-tag-domain-association')});\r\n      }\r\n      catch(error){\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-add-tag-domain-associations')});\r\n      }\r\n    },\r\n    async removeTag(association, idx) {\r\n      try {\r\n        await TagDomainAssociation.delete(association.id);\r\n        this.associatedTags.splice(idx, 1);\r\n        this.$emit('update');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-remove-tag')});\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    try {\r\n      this.associatedTags = (await new TagDomainAssociationCollection({object: this.object}).fetchAll()).array;\r\n      this.sortAssociatedTags();\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nem {\r\n  margin-right: 0.5em;\r\n}\r\n</style>\r\n\r\n<style>\r\n.tags-wrapper .control, .tags-wrapper .tags {\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\n.tags-wrapper .tag {\r\n  margin-right: 0.5em;\r\n  margin-bottom: 0.3em !important;\r\n  background-color: rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n.tags-wrapper .tag.is-dark {\r\n  background-color: rgba(0, 0, 0, 0.1);\r\n  color: black;\r\n}\r\n\r\n.tags-wrapper .field.is-grouped.is-grouped-multiline {\r\n  margin-bottom: 0 !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTags.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTags.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineTags.vue?vue&type=template&id=36bde01e&scoped=true\"\nimport script from \"./CytomineTags.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineTags.vue?vue&type=script&lang=js\"\nimport style0 from \"./CytomineTags.vue?vue&type=style&index=0&id=36bde01e&prod&scoped=true&lang=css\"\nimport style1 from \"./CytomineTags.vue?vue&type=style&index=1&id=36bde01e&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36bde01e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddMemberModal.vue?vue&type=style&index=0&id=085e2b90&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareDetails.vue?vue&type=style&index=0&id=14cd0d56&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSoftwares.vue?vue&type=style&index=0&id=50b0beee&prod&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalDashboard.vue?vue&type=style&index=0&id=bbd1f22e&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobParameterRow.vue?vue&type=style&index=0&id=35dc6b43&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobDetails.vue?vue&type=style&index=0&id=4eb4085b&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InformationPanel.vue?vue&type=style&index=0&id=c76e9400&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyTree.vue?vue&type=style&index=1&id=4cca4912&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTags.vue?vue&type=style&index=1&id=36bde01e&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImagePreview.vue?vue&type=style&index=0&id=1af6021b&prod&scoped=true&lang=css\"","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\n// Helpers for vuex (inspired by https://github.com/davestewart/vuex-pathify)\r\n\r\nimport _ from 'lodash';\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {String|Array} rootModuleProp  The name of the component property containing the path to the root module to\r\n *                                          use; this root path will be prefixed to the provided path\r\n * @property {Number} debounced The debounce delay\r\n */\r\n\r\n/**\r\n * Getter for a computed property allowing to easily retrieve the value of a store property\r\n * This function must be called from a Vue.js component\r\n * @example\r\n * computed: {\r\n *   myProp: get('myModule/myProp')\r\n * }\r\n *\r\n * @example\r\n * computed: {\r\n *   myProp: sync('myProp', {rootModuleProp: 'modulePath'}),\r\n *   modulePath() {\r\n *     return 'myModule';\r\n *   }\r\n * }\r\n *\r\n * @param {String|Array<String>} path Store path to the property\r\n * @param {Options} [options] Options refining the way to get the property\r\n * @returns A computed getter for the targetted property\r\n */\r\nexport function get(path, options={}) {\r\n  path = arrayPath(path);\r\n  return {\r\n    get() {\r\n      return getValue(this.$store, fullPath(path, this, options));\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * Provides getter and setter for a computed property that should be synchronized with a store property\r\n * This function must be called from a Vue.js component\r\n * @example\r\n * computed: {\r\n *   myProp: sync('myModule/myProp')\r\n * }\r\n *\r\n * @param {String|Array<String>} path Store path to the property\r\n * @param {Options} [options] Options refining the way to sync the property\r\n * @returns Computed getter and setter for the targetted property\r\n */\r\nexport function sync(path, options={}) {\r\n  path = arrayPath(path);\r\n  return {\r\n    ...get(path, options),\r\n    set: debounce(function(value) {\r\n      this.$store.commit(getMutationName(fullPath(path, this, options)), value);\r\n    }, options)\r\n  };\r\n}\r\n\r\n/**\r\n * Provides getter and setter for a computed property that should be synchronized with a simple filter\r\n * stored in Vuex\r\n * This function must be called from a Vue.js component and the targetted module should be constructed as shown\r\n * in the example\r\n * @example\r\n * // Vue.js component\r\n * computed: {\r\n *   myFilter: sync('myModule', 'myFilter'),\r\n * }\r\n * // myModule structure\r\n * namespaced: true,\r\n * state: {\r\n *   filters: {\r\n *     myFilter: null // null value for inactive filter\r\n *   }\r\n * },\r\n * mutations: {\r\n *   setFilter(state, {filterName, propValue}) {\r\n *     state.filters[filterName] = propValue;\r\n *   },\r\n * }\r\n *\r\n *\r\n * @param {String|Array<String>} modulePath Path to the store module containing the filters\r\n * @param {String} filterName The name of the filter property\r\n * @param {Options} [options] Options refining the way to sync the filter\r\n * @returns Computed getter and setter for the targetted filter\r\n */\r\nexport function syncFilter(modulePath, filterName, options={}) {\r\n  modulePath = arrayPath(modulePath);\r\n\r\n  return {\r\n    get() {\r\n      return getValue(this.$store, fullPath(modulePath, this, options)).filters[filterName];\r\n    },\r\n    set(propValue) {\r\n      let path = fullPath(modulePath, this, options);\r\n      this.$store.commit(path.join('/') + '/setFilter', {filterName, propValue});\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * Provides getter and setter for a computed property that should be synchronized with a bounds filter (min, max bounds)\r\n * stored in Vuex\r\n * This function must be called from a Vue.js component, that also defines a property giving the max upper bound, and the\r\n * targetted module should be constructed as shown in the example\r\n * @example\r\n * // Vue.js component\r\n * computed: {\r\n *   myFilter: sync('myModule', 'myFilter', 'maxValue'),\r\n *   maxValue() {return 15;}\r\n * }\r\n * // myModule structure\r\n * namespaced: true,\r\n * state: {\r\n *   filters: {\r\n *     myFilter: null // null value for inactive filter (computed property will be equal to [0, maxValue])\r\n *   }\r\n * },\r\n * mutations: {\r\n *   setFilter(state, {filterName, propValue}) {\r\n *     state.filters[filterName] = propValue;\r\n *   },\r\n * }\r\n *\r\n *\r\n * @param {String|Array<String>} modulePath Path to the store module containing the filters\r\n * @param {String} filterName The name of the filter property\r\n * @param {String} maxProp The name of the component property containing the max allowed value\r\n * @param {Options} [options] Options refining the way to sync the filter\r\n * @returns Computed getter and setter for the targetted filter\r\n */\r\nexport function syncBoundsFilter(modulePath, filterName, maxProp, options={}) {\r\n  modulePath = arrayPath(modulePath);\r\n\r\n  return {\r\n    get() {\r\n      let value = getValue(this.$store, fullPath(modulePath, this, options)).filters[filterName];\r\n      return value ? value : [0, this[maxProp]];\r\n    },\r\n    set: debounce(function(bounds) {\r\n      let path = fullPath(modulePath, this, options);\r\n      let propValue = bounds[0] !== 0 || bounds[1] !== this[maxProp] ? bounds : null;\r\n      this.$store.commit(path.join('/') + '/setFilter', {filterName, propValue});\r\n    }, options)\r\n  };\r\n}\r\n\r\n/**\r\n * Provides getter and setter for a computed property that should be synchronized with a multiselect filter stored in Vuex\r\n * This function must be called from a Vue.js component, that also defines a property giving the available options, and the\r\n * targetted module should be constructed as shown in the example\r\n * @example\r\n * // Vue.js component\r\n * computed: {\r\n *   myFilter: sync('myModule', 'myFilter', 'availableOptions'),\r\n *   availableOptions() {return [1, 2, 3];}\r\n * }\r\n * // myModule structure\r\n * namespaced: true,\r\n * state: {\r\n *   filters: {\r\n *     myFilter: null // null value for inactive filter (computed property will be equal to copy of available options)\r\n *   }\r\n * },\r\n * mutations: {\r\n *   setFilter(state, {filterName, propValue}) {\r\n *     state.filters[filterName] = propValue;\r\n *   },\r\n * }\r\n *\r\n *\r\n * @param {String|Array<String>} path Path to the store module containing the filters\r\n * @param {String} filterName The name of the filter property\r\n * @param {String} optionsProp The name of the component property containing the available options\r\n * @param {Options} [options] Options refining the way to sync the filter\r\n * @returns Computed getter and setter for the targetted filter\r\n */\r\nexport function syncMultiselectFilter(modulePath, filterName, optionsProp, options={}) {\r\n  modulePath = arrayPath(modulePath);\r\n\r\n  return {\r\n    get() {\r\n      let value = getValue(this.$store, fullPath(modulePath, this, options)).filters[filterName];\r\n      return value ? value : this[optionsProp].slice();\r\n    },\r\n    set: debounce(function(selectedOptions) {\r\n      let path = fullPath(modulePath, this, options);\r\n      let propValue = (selectedOptions.length === this[optionsProp].length) ? null : selectedOptions;\r\n      this.$store.commit(path.join('/') + '/setFilter', {filterName, propValue});\r\n    }, options)\r\n  };\r\n}\r\n\r\n// wrapper for lodash debounce that debounces the function iff the debounce delay specified in options is > 0\r\nfunction debounce(fct, options) {\r\n  if(options.debounce) {\r\n    return _.debounce(fct, options.debounce);\r\n  }\r\n  else {\r\n    return fct;\r\n  }\r\n}\r\n\r\nfunction arrayPath(path) {\r\n  if(!path) {\r\n    return [];\r\n  }\r\n  if(Array.isArray(path)) {\r\n    return path;\r\n  }\r\n  if(typeof path === 'string') {\r\n    return path.split('/');\r\n  }\r\n  throw new Error('Path must be a string or an array');\r\n}\r\n\r\nfunction fullPath(path, component, options) {\r\n  if(options.rootModuleProp) {\r\n    path = arrayPath(component[options.rootModuleProp]).concat(path);\r\n  }\r\n  return path;\r\n}\r\n\r\nfunction getValue(store, path) {\r\n  let obj = store.state;\r\n  for(let i = 0; i < path.length; i++) {\r\n    obj = obj[path[i]];\r\n  }\r\n  return obj;\r\n}\r\n\r\nfunction getMutationName(path) {\r\n  let variableName = path[path.length - 1];\r\n  let modulePath = path.slice(0, path.length -1);\r\n  return modulePath.join('/') + '/set' + variableName.charAt(0).toUpperCase() + variableName.slice(1);\r\n}\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageNotFound.vue?vue&type=style&index=0&id=38a884ba&prod&scoped=true&lang=css\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineChannel.vue?vue&type=style&index=1&id=23cfb05c&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavbarDropdown.vue?vue&type=style&index=0&id=92a0791a&prod&lang=css\"","/*\r\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport function appendShortTermToken(url, shortTermToken) {\r\n  if(url==null || shortTermToken==null) {\r\n    return url;\r\n  }\r\n  if(url.indexOf('?')===-1) {\r\n    return url + '?Authorization=Bearer ' + shortTermToken;\r\n  }\r\n  else {\r\n    return url + '&Authorization=' + encodeURI('Bearer ' + shortTermToken);\r\n  }\r\n}\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityLogsItem.vue?vue&type=style&index=0&id=10699078&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationTree.vue?vue&type=style&index=0&id=5859de40&prod&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAnnotations.vue?vue&type=style&index=0&id=8e411a6c&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedFileModal.vue?vue&type=style&index=0&id=64b34ee5&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"attached-files-wrapper\"},[(!_vm.loading)?[(_vm.error)?_c('em',[_vm._v(_vm._s(_vm.$t('error-attached-files')))]):(_vm.attachedFiles.length > 0)?_vm._l((_vm.attachedFiles),function(file,index){return _c('span',{key:file.id,staticClass:\"file-item\"},[_c('a',{on:{\"click\":function($event){return _vm.downloadAttachedFile(_vm.host, file)}}},[_vm._v(_vm._s(file.filename))]),(_vm.canEdit)?_c('button',{staticClass:\"delete is-small\",on:{\"click\":function($event){return _vm.confirmDeletion(file, index)}}}):_vm._e(),(index < _vm.attachedFiles.length - 1)?[_vm._v(\",\")]:_vm._e()],2)}):_c('em',[_vm._v(_vm._s(_vm.$t('no-attached-file'))+\" \")]),(_vm.canEdit)?_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.displayModal()}}},[_vm._v(_vm._s(_vm.$t('button-add')))]):_vm._e()]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('cytomine-modal-card',{attrs:{\"title\":_vm.$t('add-attached-file')},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$parent.close()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":!_vm.selectedFile || _vm.errors.any()},on:{\"click\":function($event){return _vm.save()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-field',[_c('b-upload',{attrs:{\"type\":\"is-link\",\"drag-drop\":\"\"},model:{value:(_vm.selectedFile),callback:function ($$v) {_vm.selectedFile=$$v},expression:\"selectedFile\"}},[_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"content has-text-centered\"},[(!_vm.selectedFile)?[_c('p',[_c('i',{staticClass:\"fas fa-upload fa-3x\"})]),_c('p',[_vm._v(_vm._s(_vm.$t('choose-file-or-drop')))])]:[_c('p',{staticClass:\"filename is-size-4\"},[_c('i',{staticClass:\"fas fa-file\"}),_vm._v(\" \"+_vm._s(_vm.selectedFile.name))]),_c('p',{staticClass:\"has-text-grey is-size-6\"},[_vm._v(_vm._s(_vm.$t('click-or-drop-new-file')))])]],2)])])],1),_c('b-field',{attrs:{\"label\":_vm.$t('name'),\"type\":{'is-danger': _vm.errors.has('name')},\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"disabled\":!_vm.selectedFile,\"name\":\"name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<cytomine-modal-card :title=\"$t('add-attached-file')\">\r\n  <b-field>\r\n    <b-upload v-model=\"selectedFile\" type=\"is-link\" drag-drop>\r\n      <section class=\"section\">\r\n        <div class=\"content has-text-centered\">\r\n          <template v-if=\"!selectedFile\">\r\n            <p><i class=\"fas fa-upload fa-3x\"></i></p>\r\n            <p>{{$t('choose-file-or-drop')}}</p>\r\n          </template>\r\n          <template v-else>\r\n            <p class=\"filename is-size-4\"><i class=\"fas fa-file\"></i> {{selectedFile.name}}</p>\r\n            <p class=\"has-text-grey is-size-6\">{{$t('click-or-drop-new-file')}}</p>\r\n          </template>\r\n        </div>\r\n      </section>\r\n    </b-upload>\r\n  </b-field>\r\n\r\n  <b-field :label=\"$t('name')\" :type=\"{'is-danger': errors.has('name')}\" :message=\"errors.first('name')\">\r\n    <b-input v-model=\"name\" :disabled=\"!selectedFile\" name=\"name\" v-validate=\"'required'\" />\r\n  </b-field>\r\n\r\n  <template #footer>\r\n    <button class=\"button\" @click=\"$parent.close()\">\r\n      {{$t('button-cancel')}}\r\n    </button>\r\n    <button class=\"button is-link\" :disabled=\"!selectedFile || errors.any()\" @click=\"save()\">\r\n      {{$t('button-save')}}\r\n    </button>\r\n  </template>\r\n</cytomine-modal-card>\r\n</template>\r\n\r\n<script>\r\nimport {AttachedFile} from 'cytomine-client';\r\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\r\n\r\nexport default {\r\n  name: 'attached-file-modal',\r\n  props: {\r\n    object: Object\r\n  },\r\n  components: {CytomineModalCard},\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      selectedFile: null,\r\n      name: ''\r\n    };\r\n  },\r\n  watch: {\r\n    selectedFile(file) {\r\n      if(file) {\r\n        this.name = file.name;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async save() {\r\n      let result = await this.$validator.validateAll('password');\r\n      if(!this.selectedFile || !result) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        let attached = await new AttachedFile({file: this.selectedFile, filename: this.name}, this.object).save();\r\n        this.$emit('addAttachedFile', attached);\r\n        this.$notify({type: 'success', text: this.$t('notif-success-attached-file-creation')});\r\n        this.$parent.close();\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-attached-file-creation')});\r\n      }\r\n    },\r\n  }\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.filename {\r\n  color: rgb(50, 115, 220);\r\n}\r\n\r\n.filename .fas {\r\n  margin-right: 0.5em;\r\n}\r\n\r\n>>> .upload-draggable {\r\n  margin-left: 10%;\r\n  width: 80%;\r\n}\r\n</style>\r\n\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedFileModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedFileModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AttachedFileModal.vue?vue&type=template&id=64b34ee5&scoped=true\"\nimport script from \"./AttachedFileModal.vue?vue&type=script&lang=js\"\nexport * from \"./AttachedFileModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./AttachedFileModal.vue?vue&type=style&index=0&id=64b34ee5&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64b34ee5\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"attached-files-wrapper\">\r\n  <template v-if=\"!loading\">\r\n    <em v-if=\"error\">{{$t('error-attached-files')}}</em>\r\n    <template v-else-if=\"attachedFiles.length > 0\">\r\n      <span class=\"file-item\" v-for=\"(file, index) in attachedFiles\" :key=\"file.id\">\r\n        <a @click=\"downloadAttachedFile(host, file)\">{{file.filename}}</a>\r\n        <button v-if=\"canEdit\" class=\"delete is-small\" @click=\"confirmDeletion(file, index)\"></button>\r\n        <template v-if=\"index < attachedFiles.length - 1\">,</template>\r\n      </span>\r\n    </template>\r\n    <em v-else>{{$t('no-attached-file')}} </em>\r\n    <button v-if=\"canEdit\" class=\"button is-small\" @click=\"displayModal()\">{{$t('button-add')}}</button>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {Cytomine, AttachedFileCollection} from 'cytomine-client';\r\nimport AttachedFileModal from './AttachedFileModal';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\nimport {get} from '@/utils/store-helpers.js';\r\n\r\nexport default {\r\n  name: 'attached-files',\r\n  props: {\r\n    object: {type: Object},\r\n    canEdit: {type: Boolean, default: true}\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n      attachedFiles: []\r\n    };\r\n  },\r\n  computed: {\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    host() {\r\n      return Cytomine.instance.host;\r\n    }\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    displayModal() {\r\n      // required to use programmatic modal because the description is sometimes displayed in elements with a\r\n      // CSS transform (e.g. popover) that conflict with the fixed position of the modal\r\n      // (http://meyerweb.com/eric/thoughts/2011/09/12/un-fixing-fixed-elements-with-css-transforms/)\r\n\r\n      this.$buefy.modal.open({\r\n        parent: this,\r\n        component: AttachedFileModal,\r\n        props: {object: this.object},\r\n        hasModalCard: true,\r\n        events: {'addAttachedFile': this.addAttachedFile}\r\n      });\r\n    },\r\n    downloadAttachedFile(host, attachedFile) {\r\n      window.location.assign(appendShortTermToken(host + attachedFile.url, this.shortTermToken));\r\n    },\r\n    addAttachedFile(attachedFile) {\r\n      this.attachedFiles.push(attachedFile);\r\n    },\r\n    confirmDeletion(attachedFile, idx) {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('confirm-deletion'),\r\n        message: this.$t('confirm-deletion-attached-file', {filename: attachedFile.filename}),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.deleteAttachedFile(attachedFile, idx)\r\n      });\r\n    },\r\n    async deleteAttachedFile(attachedFile, idx) {\r\n      try {\r\n        await attachedFile.delete();\r\n        this.attachedFiles.splice(idx, 1);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-attached-file-deletion', {filename: attachedFile.filename})\r\n        });\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-attached-file-deletion', {filename: attachedFile.filename})\r\n        });\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      this.attachedFiles = (await AttachedFileCollection.fetchAll({object: this.object})).array;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n    this.loading = false;\r\n  }\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.attached-files-wrapper {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.file-item {\r\n  margin-right: 0.5em;\r\n}\r\n\r\n.file-item .delete {\r\n  margin-left: 0.4rem;\r\n  margin-right: 0.1rem;\r\n  position: relative;\r\n  top: 2px;\r\n}\r\n\r\n.button {\r\n  margin-left: 0.5em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedFiles.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedFiles.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AttachedFiles.vue?vue&type=template&id=5a01c499&scoped=true\"\nimport script from \"./AttachedFiles.vue?vue&type=script&lang=js\"\nexport * from \"./AttachedFiles.vue?vue&type=script&lang=js\"\nimport style0 from \"./AttachedFiles.vue?vue&type=style&index=0&id=5a01c499&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a01c499\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkPanel.vue?vue&type=style&index=0&id=53934cea&prod&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/roche.092e0cab.gif\";","module.exports = __webpack_public_path__ + \"img/logo.8bfe6faf.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyTree.vue?vue&type=style&index=0&id=4cca4912&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReviewPanel.vue?vue&type=style&index=0&id=2a9f2ca9&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUIProject.vue?vue&type=style&index=1&id=740dcc38&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenameModal.vue?vue&type=style&index=0&id=7aaff35b&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconProjectMemberRole.vue?vue&type=style&index=0&id=2f080369&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.image)?_c('span',[(_vm.image.blindedName)?[_c('span',{staticClass:\"blind-indication\"},[_vm._v(\"[\"+_vm._s(this.$t('blinded-name-indication'))+\"]\")]),_vm._v(\" \"+_vm._s(_vm.image.blindedName)+\" \"),(_vm.image.instanceFilename && _vm.showBothNames)?[_c('br'),_c('span',{staticClass:\"true-name\"},[_vm._v(\" \"+_vm._s(_vm.image.instanceFilename)+\" \")])]:_vm._e()]:[_vm._v(_vm._s(_vm.image.instanceFilename))]],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<span v-if=\"image\">\r\n  <template v-if=\"image.blindedName\">\r\n    <span class=\"blind-indication\">[{{this.$t('blinded-name-indication')}}]</span>\r\n    {{image.blindedName}}\r\n    <template v-if=\"image.instanceFilename && showBothNames\">\r\n      <br>\r\n      <span class=\"true-name\">\r\n        {{image.instanceFilename}} <!-- backend will return this prop iff user is allowed to view it (admin or project manager) -->\r\n      </span>\r\n    </template>\r\n  </template>\r\n  <template v-else>{{image.instanceFilename}}</template>\r\n</span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'image-name',\r\n  props: {\r\n    image: Object,\r\n    showBothNames: {type: Boolean, default: false}\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.blind-indication {\r\n  font-size: 0.9em;\r\n  text-transform: uppercase;\r\n}\r\n\r\n.true-name {\r\n  margin-top: 0.2em;\r\n  font-size: 0.9em;\r\n  color: #888;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageName.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageName.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ImageName.vue?vue&type=template&id=6643e86b&scoped=true\"\nimport script from \"./ImageName.vue?vue&type=script&lang=js\"\nexport * from \"./ImageName.vue?vue&type=script&lang=js\"\nimport style0 from \"./ImageName.vue?vue&type=style&index=0&id=6643e86b&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6643e86b\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAnnotationsBy.vue?vue&type=style&index=0&id=357d368c&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageMetadataModal.vue?vue&type=style&index=0&id=3735e86c&prod&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSidebar.vue?vue&type=style&index=0&id=291f472f&prod&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotkeysModal.vue?vue&type=style&index=0&id=31a9f839&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageInformation.vue?vue&type=style&index=0&id=2ffeee81&prod&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectConfiguration.vue?vue&type=style&index=0&id=b2c4095a&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChannelName.vue?vue&type=style&index=0&id=2d881ed8&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareParameterDetails.vue?vue&type=style&index=0&id=5b5f6240&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTable.vue?vue&type=style&index=0&id=0fa69708&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PropertiesPanel.vue?vue&type=style&index=0&id=4c1e15ee&prod&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal-card\"},[_c('header',{staticClass:\"modal-card-head\"},[_c('p',{staticClass:\"modal-card-title\"},[_vm._v(_vm._s(_vm.title))]),_vm._t(\"controls\")],2),_c('section',{staticClass:\"modal-card-body\"},[_vm._t(\"default\")],2),(_vm.footer)?_c('footer',{staticClass:\"modal-card-foot\"},[_vm._t(\"footer\",function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-close'))+\" \")])]})],2):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"modal-card\">\r\n  <header class=\"modal-card-head\">\r\n    <p class=\"modal-card-title\">{{title}}</p>\r\n    <slot name=\"controls\"></slot>\r\n  </header>\r\n  <section class=\"modal-card-body\">\r\n    <slot></slot>\r\n  </section>\r\n  <footer class=\"modal-card-foot\" v-if=\"footer\">\r\n    <slot name=\"footer\">\r\n      <button class=\"button\" type=\"button\" @click=\"$emit('close')\">\r\n        {{$t('button-close')}}\r\n      </button>\r\n    </slot>\r\n  </footer>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'cytomine-modal-card',\r\n  props: {\r\n    title: String,\r\n    footer: {type: Boolean, default: true}\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineModalCard.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineModalCard.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineModalCard.vue?vue&type=template&id=b6e500b4\"\nimport script from \"./CytomineModalCard.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineModalCard.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=style&index=0&id=31271cb5&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListSoftware.vue?vue&type=style&index=1&id=3fd487a5&prod&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSoftwares.vue?vue&type=style&index=1&id=50b0beee&prod&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayersPanel.vue?vue&type=style&index=0&id=1376cde3&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageControls.vue?vue&type=style&index=0&id=ff293574&prod&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminPanel.vue?vue&type=style&index=0&id=779e7332&prod&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/3dh.bb638da6.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListImages.vue?vue&type=style&index=0&id=793e07ba&prod&scoped=true&lang=css\"","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport _ from 'lodash';\r\n\r\n/**\r\n * Return a Regexp based on the provided search string, and using * as a wildcard character.\r\n * @param {String} str The string entered by the user\r\n * @return {RegExp}\r\n */\r\nexport function getWildcardRegexp(str) {\r\n  let escapedString = _.escapeRegExp(str); // escape all RegExp special characters (only * should have a special behaviour)\r\n  return new RegExp('(' + escapedString.split('\\\\*').join('.*') + ')', 'i');\r\n}\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineMultiselect.vue?vue&type=style&index=0&id=1187e655&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityLogs.vue?vue&type=style&index=0&id=511a34d2&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorManipulation.vue?vue&type=style&index=0&id=49a921d7&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddJobModal.vue?vue&type=style&index=0&id=8e5202c0&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageSelector.vue?vue&type=style&index=0&id=64d47f27&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DigitalZoom.vue?vue&type=style&index=0&id=319faf68&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Username.vue?vue&type=style&index=0&id=48b343f5&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowPanel.vue?vue&type=style&index=0&id=f95581d2&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityCharts.vue?vue&type=style&index=1&id=a5f175d8&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageName.vue?vue&type=style&index=0&id=6643e86b&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivity.vue?vue&type=style&index=1&id=77d5a06f&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTask.vue?vue&type=style&index=0&id=6d0d3d7d&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminDashboard.vue?vue&type=style&index=0&id=2eaa6ab8&prod&scoped=true&lang=css\"","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport default {\r\n  CYTOMINE_CORE_HOST: 'https://localhost-core',\r\n  CYTOMINE_UPLOAD_HOST: 'https://localhost-upload',\r\n  STOP_PREVIEW_KEYWORD: 'STOP_PREVIEW',\r\n  DIGITAL_ZOOM_INCREMENT: 4,\r\n  // features switches\r\n  ALGORITHMS_ENABLED: true,\r\n  PRELOADED_SLICES: 50,\r\n  MAX_MERGEABLE_CHANNELS: 36,\r\n  // Refresh intervals (expressed in milliseconds)\r\n  VIEWER_ANNOTATIONS_REFRESH_INTERVAL: 10000,\r\n  MEMBERS_ACTIVITY_REFRESH_INTERVAL: 30000,\r\n  PING_INTERVAL: 20000, // should be lower than 30 seconds (otherwise, not counted in backend)\r\n  JOB_DETAILS_REFRESH_INTERVAL: 2000,\r\n  JOB_LOGS_REFRESH_INTERVAL: 5000,\r\n  TASK_REFRESH_INTERVAL: 2000,\r\n  STORAGE_REFRESH_INTERVAL: 10000,\r\n  ONGOING_UPLOAD_REFRESH_INTERVAL: 500,\r\n  SAVE_POSITION_IN_IMAGE_INTERVAL: 5000, // position also stored each time the user moves in the image\r\n  BROADCASTING_USERS_REFRESH_INTERVAL: 10000,\r\n  TRACKING_REFRESH_INTERVAL: 500,\r\n  ANNOTATION_STROKE_COLOR: [0, 0, 0, 1],\r\n  ANNOTATION_STROKE_SELECT_COLOR: [0, 153, 255, 1],\r\n  MAX_IMAGES_FOR_FILTER: 50000,\r\n  // ---\r\n  IDLE_DURATION: 120, // if the user does not move his mouse on the page during this duration, he is considered as inactive - no more ping (expressed in seconds)\r\n  CONFIG_KEY_WELCOME: 'WELCOME',\r\n  PREFIX_HIDDEN_PROPERTY_KEY: '@',\r\n  METADATA_PREFIXES: '',\r\n  DEFAULT_PROPERTY_KEY: '@DEFAULT_PROPERTY',\r\n  DEFAULT_IMAGE_CONTROLS_STEP: 2,\r\n  CATEGORY_ITEMS_PER_BATCH: 10,\r\n  ANNOTATIONS_MAX_ITEMS_PER_CATEGORY: 10,\r\n  // To keep the WebSockets alive by sending the broadcaster viewer position\r\n  WS_POSITION_KEEP_ALIVE_INTERVAL: 10000,\r\n\r\n};\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineQuillEditor.vue?vue&type=style&index=0&id=e3c24ba2&prod&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberActivityDetails.vue?vue&type=style&index=1&id=3009d81c&prod&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralConfiguration.vue?vue&type=style&index=0&id=3cd00c07&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectImageFilters.vue?vue&type=style&index=1&id=646ef45a&prod&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"track-tree\",class:{selector: _vm.allowSelection, draggable: _vm.allowDrag, editable: _vm.allowEdition}},[_c('sl-vue-tree',{ref:\"tree\",attrs:{\"allowMultiselect\":false},on:{\"select\":_vm.select,\"drop\":_vm.drop},scopedSlots:_vm._u([{key:\"toggle\",fn:function({node}){return [(!node.data.hidden && !node.isLeaf && node.children.length > 0)?[_c('i',{class:['tree-toggle', 'fas', node.isExpanded ? 'fa-angle-down' : 'fa-angle-right']})]:_vm._e(),_c('div',{staticClass:\"sl-vue-tree-gap\"})]}},{key:\"title\",fn:function({node}){return [(!node.data.hidden)?_c('div',{staticClass:\"tree-selector\"},[(_vm.allowSelection)?_c('i',{staticClass:\"tree-checkbox\",class:_vm.classNames(node)}):_vm._e(),_c('cytomine-track',{attrs:{\"track\":node.data}})],1):_c('div')]}},{key:\"sidebar\",fn:function({node}){return [(!node.data.hidden)?_vm._t(\"custom-sidebar\",function(){return [(_vm.allowEdition)?_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.startTrackUpdate(node)}}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-edit\"})])]),_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.confirmTrackDeletion(node)}}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"far fa-trash-alt\"})])])]):_vm._e()]},{\"track\":node.data}):_vm._e()]}}],null,true),model:{value:(_vm.treeNodes),callback:function ($$v) {_vm.treeNodes=$$v},expression:\"treeNodes\"}}),(_vm.noResult)?_vm._t(\"no-result\",function(){return [_c('em',{staticClass:\"has-text-grey no-result\"},[_vm._v(_vm._s(_vm.$t('no-result')))])]}):_vm._e(),(_vm.allowEdition || _vm.allowNew)?_c('div',{staticClass:\"add-track-container\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.startTrackCreation()}}},[_vm._v(_vm._s(_vm.$t('add-track')))])]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save()}}},[_c('cytomine-modal-card',{staticClass:\"track-modal\",attrs:{\"title\":_vm.$t(_vm.track ? 'update-track' : 'create-track')},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$parent.close()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-field',{attrs:{\"label\":_vm.$t('name'),\"type\":{'is-danger': _vm.errors.has('name')},\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('sketch-picker',{attrs:{\"presetColors\":_vm.presetColors},model:{value:(_vm.color),callback:function ($$v) {_vm.color=$$v},expression:\"color\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <form @submit.prevent=\"save()\">\r\n    <cytomine-modal-card :title=\"$t(track ? 'update-track' : 'create-track')\" class=\"track-modal\">\r\n      <b-field :label=\"$t('name')\" :type=\"{'is-danger': errors.has('name')}\" :message=\"errors.first('name')\">\r\n        <b-input v-model=\"name\" name=\"name\" v-validate=\"'required'\" />\r\n      </b-field>\r\n\r\n      <sketch-picker v-model=\"color\" :presetColors=\"presetColors\" />\r\n\r\n      <template #footer>\r\n        <button class=\"button\" type=\"button\" @click=\"$parent.close()\">\r\n          {{$t('button-cancel')}}\r\n        </button>\r\n        <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n          {{$t('button-save')}}\r\n        </button>\r\n      </template>\r\n    </cytomine-modal-card>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport {Track} from 'cytomine-client';\r\nimport {Sketch} from 'vue-color';\r\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\r\n\r\nexport default {\r\n  name: 'track-modal',\r\n  props: {\r\n    track: Object,\r\n    image: Object\r\n  },\r\n  components: {\r\n    'sketch-picker': Sketch,\r\n    CytomineModalCard\r\n  },\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      name: '',\r\n      color: null\r\n    };\r\n  },\r\n  computed: {\r\n    presetColors() {\r\n      return [\r\n        '#F44E3B',\r\n        '#FB9E00',\r\n        '#FCDC00',\r\n        '#68BC00',\r\n        '#16A5A5',\r\n        '#009CE0',\r\n        '#7B10D8',\r\n        '#F06292',\r\n        '#000',\r\n        '#777',\r\n        '#FFF'\r\n      ];\r\n    }\r\n  },\r\n  methods: {\r\n    randomColor() {\r\n      return '#' + (Math.random().toString(16) + '0000000').slice(2, 8);\r\n    },\r\n    async save() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      if(this.track) {\r\n        this.update();\r\n      }\r\n      else {\r\n        this.create();\r\n      }\r\n    },\r\n    async create() {\r\n      try {\r\n        let track = await new Track({name: this.name, color: this.color.hex, image: this.image.id}).save();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-track-creation')});\r\n        this.$emit('newTrack', track);\r\n        this.$parent.close();\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-track-creation')});\r\n      }\r\n    },\r\n    async update() {\r\n      let track = new Track(this.track);\r\n      track.color = this.color.hex;\r\n      track.name = this.name;\r\n      try {\r\n        await track.save();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-track-update')});\r\n        this.$emit('updateTrack', track);\r\n        this.$parent.close();\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-track-update')});\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.name = this.track ? this.track.name : '';\r\n    this.color = {hex: this.track ? this.track.color : this.randomColor()};\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n  .track-modal .vc-sketch {\r\n    width: auto;\r\n    box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n  }\r\n\r\n  .track-modal .vc-sketch-active-color {\r\n    box-shadow: inset 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n  }\r\n\r\n  .track-modal .vc-sketch-saturation-wrap {\r\n    padding-bottom: 15vh;\r\n  }\r\n\r\n  /* hide alpha channel */\r\n  .track-modal .vc-sketch-field--single:last-child {\r\n    display: none;\r\n  }\r\n  /* --- */\r\n\r\n  .track-modal .vc-sketch-sliders {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .track-modal .vc-sketch-hue-wrap {\r\n    flex-grow: 1;\r\n  }\r\n\r\n  .track-modal .vc-sketch-alpha-wrap {\r\n    display: none;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TrackModal.vue?vue&type=template&id=451011d2\"\nimport script from \"./TrackModal.vue?vue&type=script&lang=js\"\nexport * from \"./TrackModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./TrackModal.vue?vue&type=style&index=0&id=451011d2&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div class=\"track-tree\" :class=\"{selector: allowSelection, draggable: allowDrag, editable: allowEdition}\">\r\n    <sl-vue-tree v-model=\"treeNodes\" :allowMultiselect=\"false\" @select=\"select\" @drop=\"drop\" ref=\"tree\">\r\n      <template #toggle=\"{node}\">\r\n        <template v-if=\"!node.data.hidden && !node.isLeaf && node.children.length > 0\">\r\n          <i :class=\"['tree-toggle', 'fas', node.isExpanded ? 'fa-angle-down' : 'fa-angle-right']\"></i>\r\n        </template>\r\n        <div class=\"sl-vue-tree-gap\"></div>\r\n      </template>\r\n\r\n      <template #title=\"{node}\">\r\n        <div v-if=\"!node.data.hidden\" class=\"tree-selector\">\r\n          <i class=\"tree-checkbox\"\r\n             v-if=\"allowSelection\"\r\n             :class=\"classNames(node)\">\r\n          </i>\r\n          <cytomine-track :track=\"node.data\" />\r\n        </div>\r\n        <div v-else></div>\r\n      </template>\r\n\r\n      <template #sidebar=\"{node}\">\r\n        <slot v-if=\"!node.data.hidden\" name=\"custom-sidebar\" :track=\"node.data\">\r\n          <div v-if=\"allowEdition\" class=\"buttons\">\r\n            <button class=\"button is-small\" @click=\"startTrackUpdate(node)\">\r\n            <span class=\"icon is-small\">\r\n              <i class=\"fas fa-edit\"></i>\r\n            </span>\r\n            </button>\r\n            <button class=\"button is-small\" @click=\"confirmTrackDeletion(node)\">\r\n            <span class=\"icon is-small\">\r\n              <i class=\"far fa-trash-alt\"></i>\r\n            </span>\r\n            </button>\r\n          </div>\r\n        </slot>\r\n      </template>\r\n    </sl-vue-tree>\r\n\r\n    <slot v-if=\"noResult\" name=\"no-result\">\r\n      <em class=\"has-text-grey no-result\">{{$t('no-result')}}</em>\r\n    </slot>\r\n\r\n    <div v-if=\"allowEdition || allowNew\" class=\"add-track-container\">\r\n      <button class=\"button is-small\" @click=\"startTrackCreation()\">{{$t('add-track')}}</button>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SlVueTree from 'sl-vue-tree';\r\nimport CytomineTrack from './CytomineTrack';\r\nimport TrackModal from './TrackModal';\r\nimport {Track} from 'cytomine-client';\r\n\r\nexport default {\r\n  name: 'track-tree',\r\n  model: {\r\n    prop: 'selectedNodes',\r\n    event: 'setSelectedNodes'\r\n  },\r\n  props: {\r\n    tracks: {type: Array},\r\n    additionalNodes: {type: Array, default: () => []},\r\n    startWithAdditionalNodes: {type: Boolean, default: false},\r\n    searchString: {type: String, default: ''},\r\n    selectedNodes: {type: Array, default: () => []},\r\n    allowSelection: {type: Boolean, default: true},\r\n    multipleSelection: {type: Boolean, default: true},\r\n    allowDrag: {type: Boolean, default: false},\r\n    allowEdition: {type: Boolean, default: false},\r\n    allowNew: {type: Boolean, default: false},\r\n    image: {type: Object, default: null} //Cannot be null if allowNew\r\n  },\r\n  components: {\r\n    SlVueTree,\r\n    CytomineTrack\r\n  },\r\n  data() {\r\n    return {\r\n      treeNodes: [],\r\n      internalSelectedNodes: [],\r\n      editedNode: null\r\n    };\r\n  },\r\n  computed: {\r\n    lowCaseSearchString() {\r\n      return this.searchString.toLowerCase();\r\n    },\r\n    noResult() {\r\n      return this.treeNodes.every(node => node.data.hidden);\r\n    }\r\n  },\r\n  watch: {\r\n    tracks() {\r\n      this.makeTree();\r\n    },\r\n    additionalNodes() {\r\n      this.makeTree();\r\n    },\r\n    selectedNodes() {\r\n      this.internalSelectedNodes = this.selectedNodes.slice();\r\n      this.refreshNodeSelection();\r\n    },\r\n    lowCaseSearchString() {\r\n      this.filter();\r\n    }\r\n  },\r\n  methods: {\r\n    makeTree() {\r\n      if(!this.tracks) {\r\n        this.treeNodes = [];\r\n        return;\r\n      }\r\n\r\n      let nodes = this.createSubTree(this.tracks.slice());\r\n      let additionalNodes = this.createSubTree(this.additionalNodes.slice());\r\n      this.treeNodes = this.startWithAdditionalNodes ? additionalNodes.concat(nodes) : nodes.concat(additionalNodes);\r\n\r\n      this.filter();\r\n    },\r\n\r\n    createSubTree(tracks) {\r\n      return tracks.map(track => this.createNode(track));\r\n    },\r\n\r\n    createNode(track) {\r\n      return {\r\n        title: track.name,\r\n        isLeaf: false, // all tracks can be used as parent for drag and drop\r\n        isDraggable: this.allowDrag,\r\n        isExpanded: true,\r\n        isSelected: this.internalSelectedNodes.includes(track.id),\r\n        data: {\r\n          id: track.id,\r\n          name: track.name,\r\n          color: track.color,\r\n          parent: track.parent,\r\n          image: track.image,\r\n          hidden: false\r\n        },\r\n        children: track.children && track.children.length > 0 ? this.createSubTree(track.children) : []\r\n      };\r\n    },\r\n\r\n    filter() {\r\n      let str = this.lowCaseSearchString;\r\n      this.applyToAllNodes(node => {\r\n        let match = node.title.toLowerCase().indexOf(str) >= 0;\r\n        if(node.children) {\r\n          let matchInChildren = node.children.some(child => !child.data.hidden); // OK because applyToAllNodes performs bottom-up operations\r\n          node.isExpanded = matchInChildren;\r\n          match = match || matchInChildren;\r\n        }\r\n        node.data.hidden = !match;\r\n      });\r\n    },\r\n\r\n    classNames(node) {\r\n      if(this.multipleSelection) {\r\n        return node.isSelected ? ['fas', 'fa-check-square'] : ['far', 'fa-square'];\r\n      }\r\n      else {\r\n        return node.isSelected ? ['fas', 'fa-dot-circle'] : ['far', 'fa-circle'];\r\n      }\r\n    },\r\n\r\n    select(nodes, event) {\r\n      if(!this.allowSelection) {\r\n        return;\r\n      }\r\n\r\n      if(this.clickOnTreeSelector(event.target)) {\r\n        nodes.forEach(node => {\r\n          if(this.multipleSelection) {\r\n            let indexSelected = this.internalSelectedNodes.indexOf(node.data.id);\r\n            if(indexSelected >= 0) {\r\n              this.internalSelectedNodes.splice(indexSelected, 1);\r\n              this.$emit('unselect', node.data.id);\r\n            }\r\n            else {\r\n              this.internalSelectedNodes.push(node.data.id);\r\n              this.$emit('select', node.data.id);\r\n            }\r\n          }\r\n          else {\r\n            this.internalSelectedNodes = [node.data.id];\r\n            this.$emit('select', node.data.id);\r\n          }\r\n        });\r\n        this.$emit('setSelectedNodes', this.internalSelectedNodes);\r\n      }\r\n\r\n      this.refreshNodeSelection();\r\n    },\r\n    refreshNodeSelection() {\r\n      if(!this.allowSelection) {\r\n        return;\r\n      }\r\n\r\n      this.applyToAllNodes(node => {\r\n        node.isSelected = this.internalSelectedNodes.some(id => id === node.data.id);\r\n      });\r\n    },\r\n    clickOnTreeSelector(elem) {\r\n      if(elem.classList.contains('tree-selector')) {\r\n        return true;\r\n      }\r\n      return elem.parentElement ? this.clickOnTreeSelector(elem.parentElement) : false;\r\n    },\r\n    applyToAllNodes(fct, nodes=this.treeNodes) {\r\n      nodes.forEach(node => {\r\n        if(node.children) {\r\n          this.applyToAllNodes(fct, node.children);\r\n        }\r\n        fct(node);\r\n      });\r\n    },\r\n\r\n    startTrackCreation() {\r\n      this.editedNode = null;\r\n      this.openModal();\r\n    },\r\n    createTrack(track) {\r\n      this.treeNodes.push(this.createNode(track));\r\n      this.$emit('newTrack', track);\r\n    },\r\n\r\n    startTrackUpdate(node) {\r\n      this.editedNode = node;\r\n      this.openModal();\r\n    },\r\n    updateTrack(track) {\r\n      this.$refs.tree.updateNode(this.editedNode.path, {data: {...track}});\r\n      this.$emit('updatedTrack', track);\r\n    },\r\n\r\n    openModal() {\r\n      this.$buefy.modal.open({\r\n        parent: this,\r\n        component: TrackModal,\r\n        props: {\r\n          track: this.editedNode ? this.editedNode.data : null,\r\n          image: this.image\r\n        },\r\n        events: {\r\n          newTrack: this.createTrack,\r\n          updateTrack: this.updateTrack\r\n        },\r\n        hasModalCard: true\r\n      });\r\n    },\r\n\r\n    drop(nodes, position) {\r\n      nodes.forEach(async node => {\r\n        let idParent = (position.placement === 'inside') ? position.node.data.id : position.node.data.parent;\r\n        if(node.data.parent !== idParent) {\r\n          try {\r\n            await new Track(node.data).changeParent(idParent);\r\n            this.applyToAllNodes(tmp => {\r\n              if(tmp.data.id === node.data.id) {\r\n                tmp.data.parent = idParent;\r\n              }\r\n            });\r\n          }\r\n          catch(error) {\r\n            console.log(error);\r\n            this.$notify({type: 'error', text: this.$t('notif-error-track-tree-update')});\r\n          }\r\n        }\r\n        else {\r\n          this.$notify({type: 'warn', text: this.$t('notif-warn-track-tree-order-not-persisted')});\r\n        }\r\n      });\r\n    },\r\n\r\n    confirmTrackDeletion(node) {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('confirm-deletion'),\r\n        message: this.$t('confirm-deletion-track', {name: node.data.name}),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.deleteTrack(node)\r\n      });\r\n    },\r\n    async deleteTrack(node) {\r\n      try {\r\n        await Track.delete(node.data.id);\r\n        this.$refs.tree.remove([node.path]);\r\n        this.$emit('deletedTrack', node.data.id);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-track-deletion')});\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.internalSelectedNodes = this.selectedNodes.slice();\r\n    this.makeTree();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .add-track-container {\r\n    text-align: center;\r\n    margin-top: 0.5em;\r\n    margin-bottom: 0.5em;\r\n  }\r\n</style>\r\n\r\n\r\n<style>\r\n  .track-tree {\r\n    padding: 0 0 2px 0;\r\n  }\r\n\r\n  .track-tree .tree-checkbox {\r\n    margin-right: 10px;\r\n    color: rgba(0, 0, 0, 0.2);\r\n    font-size: 1rem;\r\n  }\r\n\r\n  .track-tree.selector .sl-vue-tree-node-item:hover {\r\n    background: rgba(0, 0, 0, 0.05);\r\n  }\r\n\r\n  .track-tree.selector .sl-vue-tree-selected > .sl-vue-tree-node-item {\r\n    background: rgba(0, 0, 0, 0.05);\r\n    font-weight: 600;\r\n  }\r\n\r\n  .track-tree .sl-vue-tree-selected > .sl-vue-tree-node-item .tree-checkbox {\r\n    color: #61b2e8;\r\n  }\r\n\r\n  .track-tree.selector .sl-vue-tree-gap {\r\n    width: 24px;\r\n  }\r\n\r\n  .track-tree.selector .tree-selector {\r\n    cursor: pointer;\r\n    flex-grow: 1;\r\n  }\r\n\r\n  .track-tree .tree-selector {\r\n    min-width: 0; /* to allow correct handling of overflow-wrap */\r\n  }\r\n\r\n  .track-tree .tree-selector:hover .tree-checkbox {\r\n    color: #61b2e8;\r\n  }\r\n\r\n  .track-tree .no-result {\r\n    margin-left: 20px;\r\n    line-height: 1.5;\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  .track-tree .buttons, .track-tree .button {\r\n    margin-bottom: 0 !important;\r\n  }\r\n\r\n  .track-tree.editable .sl-vue-tree-sidebar {\r\n    padding-left: 20px;\r\n    flex-shrink: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackTree.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackTree.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TrackTree.vue?vue&type=template&id=0a743348&scoped=true\"\nimport script from \"./TrackTree.vue?vue&type=script&lang=js\"\nexport * from \"./TrackTree.vue?vue&type=script&lang=js\"\nimport style0 from \"./TrackTree.vue?vue&type=style&index=0&id=0a743348&prod&scoped=true&lang=css\"\nimport style1 from \"./TrackTree.vue?vue&type=style&index=1&id=0a743348&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a743348\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowPanel.vue?vue&type=style&index=1&id=f95581d2&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackTree.vue?vue&type=style&index=0&id=0a743348&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=3b72230c&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedFiles.vue?vue&type=style&index=0&id=5a01c499&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFileDetails.vue?vue&type=style&index=0&id=030ffa62&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetails.vue?vue&type=style&index=0&id=67b2b09b&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCommentsModal.vue?vue&type=style&index=0&id=5fbb43ad&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListSoftware.vue?vue&type=style&index=0&id=3fd487a5&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-taginput',{attrs:{\"value\":_vm.value,\"data\":_vm.filteredDomains,\"autocomplete\":\"\",\"open-on-focus\":true,\"append-to-body\":true,\"field\":_vm.displayedProperty,\"placeholder\":_vm.$t(_vm.placeholder),\"allow-new\":_vm.allowNew,\"allow-duplicates\":false},on:{\"input\":function($event){return _vm.$emit('input', $event)},\"typing\":val => _vm.searchString = val,\"add\":function($event){_vm.searchString = ''}}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n\r\n<template>\r\n<b-taginput\r\n  :value=\"value\"\r\n  @input=\"$emit('input', $event)\"\r\n  :data=\"filteredDomains\"\r\n  autocomplete\r\n  :open-on-focus=\"true\"\r\n  :append-to-body=\"true\"\r\n  :field=\"displayedProperty\"\r\n  :placeholder=\"$t(placeholder)\"\r\n  @typing=\"val => searchString = val\"\r\n  @add=\"searchString = ''\"\r\n  :allow-new=\"allowNew\"\r\n  :allow-duplicates=\"false\"\r\n/>\r\n</template>\r\n\r\n<script>\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\n\r\nexport default {\r\n  name: 'domain-tag-input',\r\n  props: {\r\n    value: Array,\r\n    domains: Array,\r\n    identifier: {\r\n      type: String,\r\n      default: 'id'\r\n    },\r\n    displayedProperty: {\r\n      type: String,\r\n      default: 'name'\r\n    },\r\n    searchedProperty: {\r\n      type: String,\r\n      default: 'name'\r\n    },\r\n    allowNew: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: 'search-placeholder'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      searchString: ''\r\n    };\r\n  },\r\n  computed: {\r\n    filteredDomains() {\r\n      let selectedIds = this.value.map(v => v[this.identifier]);\r\n      let filtered = this.domains.filter(user => !selectedIds.includes(user[this.identifier]));\r\n      if(this.searchString === '') {\r\n        return filtered;\r\n      }\r\n\r\n      let regexp = getWildcardRegexp(this.searchString);\r\n\r\n      return filtered.filter(user => regexp.test(user[this.searchedProperty]));\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.taginput {\r\n  width: 82% !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainTagInput.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainTagInput.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DomainTagInput.vue?vue&type=template&id=45831b03&scoped=true\"\nimport script from \"./DomainTagInput.vue?vue&type=script&lang=js\"\nexport * from \"./DomainTagInput.vue?vue&type=script&lang=js\"\nimport style0 from \"./DomainTagInput.vue?vue&type=style&index=0&id=45831b03&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45831b03\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaleLine.vue?vue&type=style&index=0&id=543499ef&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineViewer.vue?vue&type=style&index=0&id=2b45029e&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.channel)?_c('span',[_c('i',{staticClass:\"fa fa-circle color-preview\",style:({color: _vm.color})}),_vm._v(\" \"+_vm._s(_vm.name)+\" \")]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <span v-if=\"channel\">\r\n    <i class=\"fa fa-circle color-preview\" :style=\"{color}\" />\r\n    {{ name }}\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ChannelName',\r\n  props: {\r\n    channel: Object\r\n  },\r\n  computed: {\r\n    channelIndex() {\r\n      return this.channel.channel || this.channel.index;\r\n    },\r\n    color() {\r\n      return this.channel.color || this.channel.channelColor || '#C0C0C0';\r\n    },\r\n    name() {\r\n      if (this.channel.name) {\r\n        return this.channel.name;\r\n      }\r\n      if (this.channel.channelName) {\r\n        return this.channel.channelName;\r\n      }\r\n      return `${this.$t('channel-abbr')} ${this.channelIndex}`;\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.color-preview {\r\n  margin-right: 0.25em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChannelName.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChannelName.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChannelName.vue?vue&type=template&id=2d881ed8&scoped=true\"\nimport script from \"./ChannelName.vue?vue&type=script&lang=js\"\nexport * from \"./ChannelName.vue?vue&type=script&lang=js\"\nimport style0 from \"./ChannelName.vue?vue&type=style&index=0&id=2d881ed8&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d881ed8\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport moment from 'moment';\r\n\r\nexport function fullName(user) {\r\n  if(!user) {\r\n    return '';\r\n  }\r\n\r\n  if(!user.algo) {\r\n    return `${user.firstname} ${user.lastname} (${user.username})`;\r\n  }\r\n  else {\r\n    let date = moment(Number(user.created)).format('L LTS');\r\n    return `${user.softwareName} - ${date}`;\r\n  }\r\n}\r\n","module.exports = __webpack_public_path__ + \"img/logo-wallonie.45258121.png\";","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineChannel.vue?vue&type=style&index=0&id=23cfb05c&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDatepicker.vue?vue&type=style&index=0&id=ac55ba94&prod&lang=scss\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"cytomine-quill-editor\"},[_c('div',{attrs:{\"id\":\"tooltip-container\"}}),_vm._v(\" \"),_c('quill-editor',{ref:\"quillEditor\",attrs:{\"value\":_vm.value,\"options\":_vm.editorOptions},on:{\"input\":function($event){return _vm.$emit('input', $event)}},scopedSlots:_vm._u([{key:\"toolbar\",fn:function(){return [_c('div',{attrs:{\"id\":\"toolbar\"}},[_c('span',{staticClass:\"ql-formats\"},[_c('select',{staticClass:\"ql-header\"},[_c('option',{attrs:{\"selected\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('ql-paragraph'))+\" \")]),_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(\" \"+_vm._s(_vm.$t('ql-header-1'))+\" \")]),_c('option',{attrs:{\"value\":\"2\"}},[_vm._v(\" \"+_vm._s(_vm.$t('ql-header-2'))+\" \")]),_c('option',{attrs:{\"value\":\"3\"}},[_vm._v(\" \"+_vm._s(_vm.$t('ql-header-3'))+\" \")]),_c('option',{attrs:{\"value\":\"4\"}},[_vm._v(\" \"+_vm._s(_vm.$t('ql-header-4'))+\" \")])])]),_c('span',{staticClass:\"ql-formats\",attrs:{\"title\":_vm.$t('ql-font')}},[_c('select',{staticClass:\"ql-font\"},[_c('option',{attrs:{\"selected\":\"\"}}),_c('option',{attrs:{\"value\":\"serif\"}}),_c('option',{attrs:{\"value\":\"monospace\"}})])]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-bold\",attrs:{\"title\":_vm.$t('ql-bold')}}),_c('button',{staticClass:\"ql-italic\",attrs:{\"title\":_vm.$t('ql-italic')}}),_c('button',{staticClass:\"ql-underline\",attrs:{\"title\":_vm.$t('ql-underline')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-script\",attrs:{\"value\":\"sub\",\"title\":_vm.$t('ql-subscript')}}),_c('button',{staticClass:\"ql-script\",attrs:{\"value\":\"super\",\"title\":_vm.$t('ql-superscript')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('span',{attrs:{\"title\":_vm.$t('ql-font-color')}},[_c('select',{staticClass:\"ql-color\"})]),_c('span',{attrs:{\"title\":_vm.$t('ql-background-color')}},[_c('select',{staticClass:\"ql-background\"})])]),_c('span',{staticClass:\"ql-formats\",attrs:{\"title\":_vm.$t('ql-align')}},[_c('select',{staticClass:\"ql-align\"},[_c('option',{attrs:{\"selected\":\"\"}}),_c('option',{attrs:{\"value\":\"center\"}}),_c('option',{attrs:{\"value\":\"right\"}})])]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-indent\",attrs:{\"value\":\"-1\",\"title\":_vm.$t('ql-indent-left')}}),_c('button',{staticClass:\"ql-indent\",attrs:{\"value\":\"+1\",\"title\":_vm.$t('ql-indent-right')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-list\",attrs:{\"value\":\"ordered\",\"title\":_vm.$t('ql-ordered-list')}}),_c('button',{staticClass:\"ql-list\",attrs:{\"value\":\"bullet\",\"title\":_vm.$t('ql-bullet-list')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-blockquote\",attrs:{\"title\":_vm.$t('ql-blockquote')}}),_c('button',{staticClass:\"ql-code-block\",attrs:{\"title\":_vm.$t('ql-code-block')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-clean\",attrs:{\"title\":_vm.$t('ql-clean-format')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-link\",attrs:{\"title\":_vm.$t('ql-link')}}),_c('button',{staticClass:\"ql-image\",attrs:{\"title\":_vm.$t('ql-image')}}),_c('button',{staticClass:\"ql-video\",attrs:{\"title\":_vm.$t('ql-video')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('span',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(() => _vm.expandedSpecialChars = false),expression:\"() => expandedSpecialChars = false\"}],class:['ql-picker', _vm.expandedSpecialChars ? 'ql-expanded' : '', 'ql-special-characters'],attrs:{\"title\":_vm.$t('ql-special-character')},on:{\"click\":function($event){_vm.expandedSpecialChars = !_vm.expandedSpecialChars}}},[_c('span',{staticClass:\"ql-picker-label\",attrs:{\"tabindex\":\"0\",\"role\":\"button\"}},[_c('svg',{attrs:{\"viewBox\":\"0 0 18 18\"}},[_c('polygon',{staticClass:\"ql-stroke\",attrs:{\"points\":\"7 11 9 13 11 11 7 11\"}}),_c('polygon',{staticClass:\"ql-stroke\",attrs:{\"points\":\"7 7 9 5 11 7 7 7\"}})])]),_c('span',{staticClass:\"ql-picker-options\"},_vm._l((_vm.specialCharacters),function(char){return _c('button',{key:char,staticClass:\"special-char\",on:{\"click\":function($event){return _vm.insertSpecialCharacter(char)}}},[_vm._v(\" \"+_vm._s(char)+\" \")])}),0)])])])]},proxy:true}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"cytomine-quill-editor\">\r\n  <div id=\"tooltip-container\"></div> <!-- invisible div defining the allowed positions for ql tooltip -->\r\n\r\n  <quill-editor :value=\"value\" @input=\"$emit('input', $event)\" :options=\"editorOptions\" ref=\"quillEditor\">\r\n    <template #toolbar>\r\n      <div id=\"toolbar\">\r\n        <span class=\"ql-formats\">\r\n          <select class=\"ql-header\">\r\n            <option selected> {{ $t('ql-paragraph') }} </option>\r\n            <option value=\"1\"> {{ $t('ql-header-1') }} </option>\r\n            <option value=\"2\"> {{ $t('ql-header-2') }} </option>\r\n            <option value=\"3\"> {{ $t('ql-header-3') }} </option>\r\n            <option value=\"4\"> {{ $t('ql-header-4') }} </option>\r\n          </select>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\" :title=\"$t('ql-font')\">\r\n          <select class=\"ql-font\">\r\n            <option selected></option>\r\n            <option value=\"serif\"></option>\r\n            <option value=\"monospace\"></option>\r\n          </select>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\">\r\n          <button class=\"ql-bold\" :title=\"$t('ql-bold')\"></button>\r\n          <button class=\"ql-italic\" :title=\"$t('ql-italic')\"></button>\r\n          <button class=\"ql-underline\" :title=\"$t('ql-underline')\"></button>\r\n        </span>\r\n\r\n        <!-- Add subscript and superscript buttons -->\r\n        <span class=\"ql-formats\">\r\n          <button class=\"ql-script\" value=\"sub\" :title=\"$t('ql-subscript')\"></button>\r\n          <button class=\"ql-script\" value=\"super\" :title=\"$t('ql-superscript')\"></button>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\">\r\n          <span :title=\"$t('ql-font-color')\">\r\n            <select class=\"ql-color\"></select>\r\n          </span>\r\n          <span :title=\"$t('ql-background-color')\">\r\n            <select class=\"ql-background\"></select>\r\n          </span>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\" :title=\"$t('ql-align')\">\r\n          <select class=\"ql-align\">\r\n            <option selected></option>\r\n            <option value=\"center\"></option>\r\n            <option value=\"right\"></option>\r\n          </select>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\">\r\n          <button class=\"ql-indent\" value=\"-1\" :title=\"$t('ql-indent-left')\"></button>\r\n          <button class=\"ql-indent\" value=\"+1\" :title=\"$t('ql-indent-right')\"></button>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\">\r\n          <button class=\"ql-list\" value=\"ordered\" :title=\"$t('ql-ordered-list')\"></button>\r\n          <button class=\"ql-list\" value=\"bullet\" :title=\"$t('ql-bullet-list')\"></button>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\">\r\n          <button class=\"ql-blockquote\" :title=\"$t('ql-blockquote')\"></button>\r\n          <button class=\"ql-code-block\" :title=\"$t('ql-code-block')\"></button>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\">\r\n          <button class=\"ql-clean\" :title=\"$t('ql-clean-format')\"></button>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\">\r\n          <button class=\"ql-link\" :title=\"$t('ql-link')\"></button>\r\n          <button class=\"ql-image\" :title=\"$t('ql-image')\"></button>\r\n          <button class=\"ql-video\" :title=\"$t('ql-video')\"></button>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\">\r\n          <span\r\n            :class=\"['ql-picker', expandedSpecialChars ? 'ql-expanded' : '', 'ql-special-characters']\"\r\n            :title=\"$t('ql-special-character')\"\r\n            @click=\"expandedSpecialChars = !expandedSpecialChars\"\r\n            v-click-outside=\"() => expandedSpecialChars = false\"\r\n          >\r\n            <span class=\"ql-picker-label\" tabindex=\"0\" role=\"button\">\r\n              <svg viewBox=\"0 0 18 18\">\r\n                <polygon class=\"ql-stroke\" points=\"7 11 9 13 11 11 7 11\"></polygon>\r\n                <polygon class=\"ql-stroke\" points=\"7 7 9 5 11 7 7 7\"></polygon>\r\n              </svg>\r\n            </span>\r\n\r\n            <span class=\"ql-picker-options\">\r\n              <button\r\n                class=\"special-char\"\r\n                v-for=\"char in specialCharacters\" :key=\"char\"\r\n                @click=\"insertSpecialCharacter(char)\"\r\n              >\r\n                {{ char }}\r\n              </button>\r\n            </span>\r\n          </span>\r\n        </span>\r\n      </div>\r\n    </template>\r\n  </quill-editor>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {quillEditor} from 'vue-quill-editor';\r\n\r\nexport default {\r\n  name: 'cytomine-quill-editor',\r\n  components: {quillEditor},\r\n  props: {\r\n    value: String,\r\n    placeholder: String\r\n  },\r\n  data() {\r\n    return {\r\n      editorOptions: {\r\n        bounds: '#tooltip-container',\r\n        placeholder: this.placeholder || this.$t('enter-text'),\r\n        modules: {\r\n          toolbar: '#toolbar'\r\n        }\r\n      },\r\n      expandedSpecialChars: false,\r\n      specialCharacters: [\r\n        '$', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\r\n        '', '', '', '', '', '', '', '', '', ''\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    quill() {\r\n      return this.$refs.quillEditor.quill;\r\n    }\r\n  },\r\n  methods: {\r\n    insertSpecialCharacter(char) {\r\n      let range = this.quill.getSelection(true);\r\n      if(range.length > 0) {\r\n        this.quill.deleteText(range.index, range.length, 'user');\r\n      }\r\n      this.quill.insertText(range.index, char, 'user');\r\n      this.quill.setSelection(range.index + 1);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.cytomine-quill-editor {\r\n  position: relative;\r\n  min-height: 30vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  .ql-toolbar {\r\n    flex-shrink: 0;\r\n  }\r\n\r\n  .ql-bold svg, .ql-italic svg, .ql-underline svg {\r\n    display: none;\r\n  }\r\n\r\n  .ql-bold::before {\r\n    content: \"A\";\r\n    font-weight: 600;\r\n  }\r\n\r\n  .ql-italic::before {\r\n    content: \"A\";\r\n    font-style: italic;\r\n  }\r\n\r\n  .ql-underline::before {\r\n    content:\"A\";\r\n    text-decoration: underline;\r\n  }\r\n\r\n  .ql-picker.ql-special-characters .ql-picker-label::before {\r\n    content: \"\\03A9\"; /* Omega */\r\n    font-weight: 600;\r\n    margin-right: 1.5em;\r\n  }\r\n\r\n  .ql-picker.ql-special-characters .ql-picker-options  {\r\n    white-space: normal;\r\n    width: 13.3em;\r\n  }\r\n\r\n  .special-char {\r\n    display: inline-block !important;\r\n  }\r\n\r\n  .special-char:hover {\r\n    background: #f5f5f5 !important;\r\n  }\r\n\r\n  #tooltip-container {\r\n    position: absolute;\r\n    left: 1em;\r\n    right: 1em;\r\n    top: 0;\r\n    bottom: 0;\r\n    pointer-events: none; /* to allow selection of elements below it */\r\n  }\r\n\r\n  .quill-editor {\r\n    min-height: 30vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex: 1;\r\n  }\r\n\r\n  .ql-container {\r\n    overflow: auto;\r\n    flex-grow: 1;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineQuillEditor.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineQuillEditor.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineQuillEditor.vue?vue&type=template&id=e3c24ba2\"\nimport script from \"./CytomineQuillEditor.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineQuillEditor.vue?vue&type=script&lang=js\"\nimport style0 from \"./CytomineQuillEditor.vue?vue&type=style&index=0&id=e3c24ba2&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageControls.vue?vue&type=style&index=1&id=ff293574&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageControlsShiftButtons.vue?vue&type=style&index=0&id=5eb6685e&prod&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorManipulation.vue?vue&type=style&index=1&id=49a921d7&prod&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"properties-wrapper\"},[[_c('b-field',{attrs:{\"grouped\":\"\",\"group-multiline\":\"\"}},[(_vm.error)?_c('em',[_vm._v(_vm._s(_vm.$t('error-fetch-properties')))]):(_vm.properties.length > 0)?_vm._l((_vm.notEditedProperties),function(prop,idx){return _c('div',{key:prop.id,staticClass:\"control\"},[_c('b-taglist',{attrs:{\"attached\":\"\"}},[_c('b-tag',{attrs:{\"type\":\"is-dark\"}},[_vm._v(_vm._s(prop.key))]),_c('b-tag',[_vm._v(\" \"+_vm._s(prop.value)+\" \"),(_vm.canEdit)?[_c('button',{staticClass:\"edit is-small\",attrs:{\"title\":_vm.$t('button-edit')},on:{\"click\":function($event){return _vm.startPropEdition(prop)}}},[_c('i',{staticClass:\"fas fa-pencil-alt\"})]),_c('button',{staticClass:\"delete is-small\",attrs:{\"title\":_vm.$t('button-delete')},on:{\"click\":function($event){return _vm.removeProp(idx)}}})]:_vm._e()],2)],1)],1)}):_c('em',[_vm._v(_vm._s(_vm.$t('no-properties')))]),(_vm.canEdit)?_c('button',{key:\"showForm\",staticClass:\"button is-small add-prop\",on:{\"click\":function($event){return _vm.addNewProp()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")]):_vm._e()],2),_vm._l((_vm.editedProperties),function(prop,idx){return _c('form',{key:prop.id,staticClass:\"new-prop-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.saveProp(idx)}}},[_c('b-input',{attrs:{\"size\":\"is-small\",\"placeholder\":_vm.$t('key')},model:{value:(prop.key),callback:function ($$v) {_vm.$set(prop, \"key\", $$v)},expression:\"prop.key\"}}),_c('b-input',{attrs:{\"size\":\"is-small\",\"placeholder\":_vm.$t('value')},model:{value:(prop.value),callback:function ($$v) {_vm.$set(prop, \"value\", $$v)},expression:\"prop.value\"}}),_c('button',{staticClass:\"button is-small\"},[_vm._v(\" \"+_vm._s(prop.id ? _vm.$t('button-save') : _vm.$t('button-add'))+\" \")]),_c('button',{staticClass:\"button is-small\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.cancelPropEdition(idx)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")])],1)})]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"properties-wrapper\">\r\n  <template>\r\n    <b-field grouped group-multiline>\r\n      <em v-if=\"error\">{{$t('error-fetch-properties')}}</em>\r\n      <div class=\"control\" v-else-if=\"properties.length > 0\" v-for=\"(prop, idx) in notEditedProperties\" :key=\"prop.id\">\r\n        <b-taglist attached>\r\n          <b-tag type=\"is-dark\">{{prop.key}}</b-tag>\r\n          <b-tag>\r\n            {{prop.value}}\r\n            <template v-if=\"canEdit\">\r\n              <button class=\"edit is-small\" :title=\"$t('button-edit')\" @click=\"startPropEdition(prop)\">\r\n                <i class=\"fas fa-pencil-alt\"></i>\r\n              </button>\r\n              <button class=\"delete is-small\" :title=\"$t('button-delete')\" @click=\"removeProp(idx)\">\r\n              </button>\r\n            </template>\r\n          </b-tag>\r\n        </b-taglist>\r\n      </div>\r\n      <em v-else>{{$t('no-properties')}}</em>\r\n\r\n      <button v-if=\"canEdit\" class=\"button is-small add-prop\" @click=\"addNewProp()\" key=\"showForm\">\r\n        {{$t('button-add')}}\r\n      </button>\r\n    </b-field>\r\n\r\n    <form @submit.prevent=\"saveProp(idx)\" class=\"new-prop-form\" v-for=\"(prop, idx) in editedProperties\" :key=\"prop.id\">\r\n      <b-input size=\"is-small\" v-model=\"prop.key\" :placeholder=\"$t('key')\" />\r\n      <b-input size=\"is-small\" v-model=\"prop.value\" :placeholder=\"$t('value')\" />\r\n      <button class=\"button is-small\">\r\n        {{prop.id ? $t('button-save') : $t('button-add')}}\r\n      </button>\r\n      <button class=\"button is-small\" type=\"button\" @click=\"cancelPropEdition(idx)\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n    </form>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {Property, PropertyCollection} from 'cytomine-client';\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'cytomine-properties',\r\n  props: {\r\n    object: {type: Object},\r\n    canEdit: {type: Boolean, default: true},\r\n    properties: {type: Array},\r\n    error: {type: Boolean, default: false}\r\n  },\r\n  data() {\r\n    return {\r\n      editedProperties: [],\r\n      newPropKey: '',\r\n      newPropValue: '',\r\n      showNewPropForm: false\r\n    };\r\n  },\r\n  computed: {\r\n    notEditedProperties() {\r\n      let editedIds = this.editedProperties.map(prop => prop.id);\r\n      return this.properties.filter(prop => !editedIds.includes(prop.id));\r\n    }\r\n  },\r\n  methods: {\r\n    addNewProp() {\r\n      let newProp = new Property({object: this.object});\r\n      this.editedProperties.push(newProp);\r\n    },\r\n    async removeProp(idx) {\r\n      let prop = this.properties[idx];\r\n      try {\r\n        await Property.delete(prop.id, this.object);\r\n        // In a future and longer refactor, add, editing and removing should simply send events to the parent\r\n        // Or dispatch an action that would trigger an \"effect\" on the store...\r\n        this.$emit('deleted', prop);\r\n        // For PropertiesPanel update\r\n        this.$emit('updateProperties');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-remove-prop')});\r\n      }\r\n    },\r\n    startPropEdition(prop) {\r\n      // store current values of key and value, so that they can be restored if needed (e.g. edit cancellation)\r\n      prop.oldKey = prop.key;\r\n      prop.oldValue = prop.value;\r\n      this.editedProperties.splice(0, 0, prop); // insert at first position\r\n    },\r\n    async saveProp(idx) {\r\n      let prop = this.editedProperties[idx];\r\n\r\n      // prevent user from saving a property whose key starts with the internal prefix (would be hidden aftewards)\r\n      if(prop.key.startsWith(constants.PREFIX_HIDDEN_PROPERTY_KEY)) {\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-invalid-key-prefix', {prefix: constants.PREFIX_HIDDEN_PROPERTY_KEY})\r\n        });\r\n        return;\r\n      }\r\n\r\n      let newProp = prop.isNew();\r\n      try {\r\n        await prop.save();\r\n        this.editedProperties.splice(idx, 1);\r\n        if(newProp) {\r\n        // In a future and longer refactor, add, editing and removing should simply send events to the parent\r\n        // Or dispatch an action that would trigger an \"effect\" on the store...\r\n          this.$emit('added', prop);\r\n        }\r\n        // For PropertiesPanel update\r\n        this.$emit('updateProperties');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-save-prop')});\r\n      }\r\n    },\r\n    cancelPropEdition(idx) {\r\n      let prop = this.editedProperties[idx];\r\n      prop.key = prop.oldKey;\r\n      prop.value = prop.oldValue;\r\n      this.editedProperties.splice(idx, 1);\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.new-prop-form {\r\n  margin-bottom: 0.45em;\r\n  margin-top: 0.45em;\r\n}\r\n\r\n.new-prop-form .button {\r\n  margin: 0;\r\n  margin-right: 0.45em;\r\n}\r\n\r\n.new-prop-form .control {\r\n  margin-right: 0.5em;\r\n  display: inline-block;\r\n}\r\n\r\n.tag button.edit {\r\n  height: 16px;\r\n  width: 16px;\r\n  background-color: rgba(10, 10, 10, 0.2);\r\n  border: none;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  pointer-events: auto;\r\n  display: inline-block;\r\n  font-size: 8px;\r\n  padding: 0;\r\n  outline: none;\r\n  position: relative;\r\n  vertical-align: top;\r\n  color: white;\r\n  margin-left: 0.5em;\r\n  line-height: 17px;\r\n}\r\n\r\n.tag button.edit:hover {\r\n  background-color: rgba(10, 10, 10, 0.3);\r\n}\r\n\r\nem {\r\n  margin-right: 0.5em;\r\n}\r\n</style>\r\n\r\n<style>\r\n.properties-wrapper .control, .properties-wrapper .tags {\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\n.properties-wrapper .tag {\r\n  margin-right: 0.5em;\r\n  margin-bottom: 0.3em !important;\r\n  background-color: rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n.properties-wrapper .tag.is-dark {\r\n  background-color: rgba(0, 0, 0, 0.1);\r\n  color: black;\r\n}\r\n\r\n.properties-wrapper .field.is-grouped.is-grouped-multiline {\r\n  margin-bottom: 0 !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProperties.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProperties.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CytomineProperties.vue?vue&type=template&id=fa6ad84e&scoped=true\"\nimport script from \"./CytomineProperties.vue?vue&type=script&lang=js\"\nexport * from \"./CytomineProperties.vue?vue&type=script&lang=js\"\nimport style0 from \"./CytomineProperties.vue?vue&type=style&index=0&id=fa6ad84e&prod&scoped=true&lang=css\"\nimport style1 from \"./CytomineProperties.vue?vue&type=style&index=1&id=fa6ad84e&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fa6ad84e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineSearcher.vue?vue&type=style&index=0&id=714c3a7d&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineSlider.vue?vue&type=style&index=0&id=3416f5aa&prod&lang=scss\""],"sourceRoot":""}