{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/viewer/RotationSelector.vue?3e9a","webpack:///./src/components/viewer/panels/colors/CytomineChannel.vue?b4e4","webpack:///./src/components/user/Username.vue?f60e","webpack:///./src/components/viewer/panels/colors/AdjustableLookUpTable.vue?f302","webpack:///./src/components/user/Login.vue?b64a","webpack:///./src/components/navbar/CytomineNavbar.vue?9cea","webpack:///./src/components/project/activity/ProjectActivityCharts.vue?1342","webpack:///./src/components/viewer/panels/FollowPanel.vue?5ac7","webpack:///./src/components/project/configuration-panels/ProjectMembers.vue?32a8","webpack:///./src/components/ontology/OntologyTree.vue","webpack:///./src/components/ontology/TermModal.vue","webpack:///src/components/ontology/TermModal.vue","webpack:///./src/components/ontology/TermModal.vue?7609","webpack:///./src/components/ontology/TermModal.vue?9c9b","webpack:///src/components/ontology/OntologyTree.vue","webpack:///./src/components/ontology/OntologyTree.vue?72fd","webpack:///./src/components/ontology/OntologyTree.vue?1de7","webpack:///./src/components/admin/AdminConfiguration.vue?02c7","webpack:///./src/components/user/UserActivity.vue?9e0e","webpack:///./src/components/image/AddImageModal.vue?3316","webpack:///./src/components/icons/IconProjectMemberRole.vue?7960","webpack:///./src/components/viewer/ScaleLine.vue?1499","webpack:///./src/components/viewer/panels/ColorManipulation.vue?75ae","webpack:///./src/components/project/ProjectActivity.vue?79b7","webpack:///./src/components/software/ListSoftware.vue?abb7","webpack:///./src/components/viewer/AnnotationDetailsContainer.vue?9fc9","webpack:///./src/App.vue?4b1d","webpack:///./src/components/utils/ActivityLogs.vue?a715","webpack:///./src/components/storage/UploadedFileStatus.vue?1801","webpack:///./src/components/project/ListProjects.vue?4ba0","webpack:///./src/assets/sponsors/logo-cytomine-coop.png","webpack:///./src/components/search/AdvancedSearch.vue?5a2f","webpack:///./src/components/project/configuration-panels/ProjectSoftwares.vue?d410","webpack:///./src/components/description/CytomineDescription.vue","webpack:///./src/components/description/CytomineDescriptionModal.vue","webpack:///src/components/description/CytomineDescriptionModal.vue","webpack:///./src/components/description/CytomineDescriptionModal.vue?21fe","webpack:///./src/components/description/CytomineDescriptionModal.vue?1ab0","webpack:///src/components/description/CytomineDescription.vue","webpack:///./src/components/description/CytomineDescription.vue?d9a8","webpack:///./src/components/description/CytomineDescription.vue?a8fc","webpack:///./src/components/project/ProjectDetails.vue?1a90","webpack:///./src/components/annotations/AnnotationDetails.vue","webpack:///./src/components/annotations/AnnotationCommentsModal.vue","webpack:///src/components/annotations/AnnotationCommentsModal.vue","webpack:///./src/components/annotations/AnnotationCommentsModal.vue?abc0","webpack:///./src/components/annotations/AnnotationCommentsModal.vue?8ce4","webpack:///src/components/annotations/AnnotationDetails.vue","webpack:///./src/components/annotations/AnnotationDetails.vue?5254","webpack:///./src/components/annotations/AnnotationDetails.vue?b5b5","webpack:///./src/components/software/SoftwareParameterDetails.vue?a608","webpack:///./src/components/job/AddJobModal.vue?02b8","webpack:///./src/components/viewer/panels/colors/CytomineChannel.vue?cf57","webpack:///./src/assets/brands/philips.svg","webpack:///./src/components/search/MetadataFilter.vue?353d","webpack:///./src/components/navbar/NavigationTree.vue?b0c3","webpack:///./src/assets/brands/hamamatsu.jpg","webpack:///./src/components/ontology/ListOntologies.vue?fc68","webpack:///./src/components/viewer/RotationSelector.vue?4a9f","webpack:///./src/components/track/CytomineTrack.vue","webpack:///src/components/track/CytomineTrack.vue","webpack:///./src/components/track/CytomineTrack.vue?b63e","webpack:///./src/components/track/CytomineTrack.vue?aaf6","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/annotations/AnnotationCommentsModal.vue?69f1","webpack:///./src/components/ontology/CytomineTerm.vue","webpack:///src/components/ontology/CytomineTerm.vue","webpack:///./src/components/ontology/CytomineTerm.vue?ce56","webpack:///./src/components/ontology/CytomineTerm.vue?ea1c","webpack:///./src/components/viewer/panels/LayersPanel.vue?a7f5","webpack:///./src/components/project/ProjectConnectionDetails.vue?e5ed","webpack:///./src/components/storage/UploadedFileDetails.vue?dee1","webpack:///./src/components/track/CytomineTrack.vue?13b5","webpack:///./src/components/navbar/AboutCytomineModal.vue?e965","webpack:///./src/components/viewer/CytomineViewer.vue?86ad","webpack:///./src/components/viewer/ImageControlsShiftButtons.vue?dea6","webpack:///./src/components/image/ImageName.vue?2318","webpack:///./src/components/software/SoftwareDetails.vue?fc59","webpack:///./src/components/GlobalDashboard.vue","webpack:///./src/components/image/ListImagesPreview.vue","webpack:///./src/components/image/ImagePreview.vue","webpack:///./src/utils/image-utils.js","webpack:///src/components/image/ImagePreview.vue","webpack:///./src/components/image/ImagePreview.vue?f9bc","webpack:///./src/components/image/ImagePreview.vue?01a9","webpack:///src/components/image/ListImagesPreview.vue","webpack:///./src/components/image/ListImagesPreview.vue?c567","webpack:///./src/components/image/ListImagesPreview.vue?36c3","webpack:///src/components/GlobalDashboard.vue","webpack:///./src/components/GlobalDashboard.vue?c2f1","webpack:///./src/components/GlobalDashboard.vue?0151","webpack:///./src/components/project/ListProjects.vue","webpack:///./src/components/utils/CytomineTable.vue","webpack:///src/components/utils/CytomineTable.vue","webpack:///./src/components/utils/CytomineTable.vue?9689","webpack:///./src/components/utils/CytomineTable.vue?3064","webpack:///./src/components/form/CytomineMultiselect.vue","webpack:///src/components/form/CytomineMultiselect.vue","webpack:///./src/components/form/CytomineMultiselect.vue?fda8","webpack:///./src/components/form/CytomineMultiselect.vue?d874","webpack:///./src/components/form/CytomineSlider.vue","webpack:///src/components/form/CytomineSlider.vue","webpack:///./src/components/form/CytomineSlider.vue?305d","webpack:///./src/components/form/CytomineSlider.vue?4d0d","webpack:///./src/components/project/ProjectDetails.vue","webpack:///./src/components/user/ListUsernames.vue","webpack:///./src/components/user/Username.vue","webpack:///src/components/user/Username.vue","webpack:///./src/components/user/Username.vue?a2f3","webpack:///./src/components/user/Username.vue?7707","webpack:///src/components/user/ListUsernames.vue","webpack:///./src/components/user/ListUsernames.vue?f855","webpack:///./src/components/user/ListUsernames.vue?4504","webpack:///./src/components/project/ProjectActions.vue","webpack:///./src/components/utils/CytomineModal.vue","webpack:///src/components/utils/CytomineModal.vue","webpack:///./src/components/utils/CytomineModal.vue?4dcd","webpack:///./src/components/utils/CytomineModal.vue?6d4c","webpack:///./src/components/utils/RenameModal.vue","webpack:///src/components/utils/RenameModal.vue","webpack:///./src/components/utils/RenameModal.vue?d046","webpack:///./src/components/utils/RenameModal.vue?3b32","webpack:///src/components/project/ProjectActions.vue","webpack:///./src/components/project/ProjectActions.vue?669f","webpack:///./src/components/project/ProjectActions.vue?06c4","webpack:///src/components/project/ProjectDetails.vue","webpack:///./src/components/project/ProjectDetails.vue?1881","webpack:///./src/components/project/ProjectDetails.vue?d7e0","webpack:///./src/components/project/AddProjectModal.vue","webpack:///src/components/project/AddProjectModal.vue","webpack:///./src/components/project/AddProjectModal.vue?c3ad","webpack:///./src/components/project/AddProjectModal.vue?3571","webpack:///./src/components/icons/IconProjectMemberRole.vue","webpack:///src/components/icons/IconProjectMemberRole.vue","webpack:///./src/components/icons/IconProjectMemberRole.vue?018b","webpack:///./src/components/icons/IconProjectMemberRole.vue?f59b","webpack:///src/components/project/ListProjects.vue","webpack:///./src/components/project/ListProjects.vue?39cd","webpack:///./src/components/project/ListProjects.vue?6829","webpack:///./src/components/storage/CytomineStorage.vue","webpack:///./src/utils/metadata.js","webpack:///./src/components/storage/UploadedFileStatus.vue","webpack:///src/components/storage/UploadedFileStatus.vue","webpack:///./src/components/storage/UploadedFileStatus.vue?2896","webpack:///./src/components/storage/UploadedFileStatus.vue?c8af","webpack:///./src/components/storage/UploadedFileDetails.vue","webpack:///./src/components/image/ImageThumbnail.vue","webpack:///src/components/image/ImageThumbnail.vue","webpack:///./src/components/image/ImageThumbnail.vue?a466","webpack:///./src/components/image/ImageThumbnail.vue?1e65","webpack:///src/components/storage/UploadedFileDetails.vue","webpack:///./src/components/storage/UploadedFileDetails.vue?f0fe","webpack:///./src/components/storage/UploadedFileDetails.vue?e137","webpack:///./src/components/search/MetadataFilter.vue","webpack:///src/components/search/MetadataFilter.vue","webpack:///./src/components/search/MetadataFilter.vue?1c67","webpack:///./src/components/search/MetadataFilter.vue?3d71","webpack:///./src/utils/vendor.js","webpack:///src/components/storage/CytomineStorage.vue","webpack:///./src/components/storage/CytomineStorage.vue?f55a","webpack:///./src/components/storage/CytomineStorage.vue?b0d5","webpack:///./src/components/ontology/ListOntologies.vue","webpack:///./src/components/ontology/OntologyDetails.vue","webpack:///src/components/ontology/OntologyDetails.vue","webpack:///./src/components/ontology/OntologyDetails.vue?05b5","webpack:///./src/components/ontology/OntologyDetails.vue?9859","webpack:///./src/components/ontology/AddOntologyModal.vue","webpack:///src/components/ontology/AddOntologyModal.vue","webpack:///./src/components/ontology/AddOntologyModal.vue?1936","webpack:///./src/components/ontology/AddOntologyModal.vue?5da7","webpack:///src/components/ontology/ListOntologies.vue","webpack:///./src/components/ontology/ListOntologies.vue?a83f","webpack:///./src/components/ontology/ListOntologies.vue?bef2","webpack:///./src/components/software/ListSoftware.vue","webpack:///./src/components/software/SoftwareStatus.vue","webpack:///src/components/software/SoftwareStatus.vue","webpack:///./src/components/software/SoftwareStatus.vue?52b4","webpack:///./src/components/software/SoftwareStatus.vue?2007","webpack:///./src/components/utils/BooleanItem.vue","webpack:///src/components/utils/BooleanItem.vue","webpack:///./src/components/utils/BooleanItem.vue?5471","webpack:///./src/components/utils/BooleanItem.vue?4ce6","webpack:///./src/components/software/SoftwareDetails.vue","webpack:///./src/components/software/SoftwareSource.vue","webpack:///src/components/software/SoftwareSource.vue","webpack:///./src/components/software/SoftwareSource.vue?90b2","webpack:///./src/components/software/SoftwareSource.vue?2c6c","webpack:///./src/components/software/SoftwareSourceButtons.vue","webpack:///src/components/software/SoftwareSourceButtons.vue","webpack:///./src/components/software/SoftwareSourceButtons.vue?ae9b","webpack:///./src/components/software/SoftwareSourceButtons.vue?8d60","webpack:///src/components/software/SoftwareDetails.vue","webpack:///./src/components/software/SoftwareDetails.vue?2f08","webpack:///./src/components/software/SoftwareDetails.vue?1722","webpack:///./src/utils/bounds.js","webpack:///src/components/software/ListSoftware.vue","webpack:///./src/components/software/ListSoftware.vue?5af4","webpack:///./src/components/software/ListSoftware.vue?5afa","webpack:///./src/components/image/ListImages.vue","webpack:///./src/components/search/MetadataSearch.vue","webpack:///src/components/search/MetadataSearch.vue","webpack:///./src/components/search/MetadataSearch.vue?5643","webpack:///./src/components/search/MetadataSearch.vue?437a","webpack:///./src/components/image/ImageDetails.vue","webpack:///./src/components/image/MagnificationModal.vue","webpack:///src/components/image/MagnificationModal.vue","webpack:///./src/components/image/MagnificationModal.vue?d3f5","webpack:///./src/components/image/MagnificationModal.vue?013c","webpack:///./src/components/image/CalibrationModal.vue","webpack:///src/components/image/CalibrationModal.vue","webpack:///./src/components/image/CalibrationModal.vue?4366","webpack:///./src/components/image/CalibrationModal.vue?fe7b","webpack:///./src/components/image/ImageMetadataModal.vue","webpack:///src/components/image/ImageMetadataModal.vue","webpack:///./src/components/image/ImageMetadataModal.vue?de5b","webpack:///./src/components/image/ImageMetadataModal.vue?6c5b","webpack:///./src/components/image/ImageStatus.vue","webpack:///src/components/image/ImageStatus.vue","webpack:///./src/components/image/ImageStatus.vue?8019","webpack:///./src/components/image/ImageStatus.vue?c963","webpack:///./src/utils/slice-utils.js","webpack:///src/components/image/ImageDetails.vue","webpack:///./src/components/image/ImageDetails.vue?6910","webpack:///./src/components/image/ImageDetails.vue?cb37","webpack:///./src/components/image/AddImageModal.vue","webpack:///src/components/image/AddImageModal.vue","webpack:///./src/components/image/AddImageModal.vue?6ff9","webpack:///./src/components/image/AddImageModal.vue?191f","webpack:///src/components/image/ListImages.vue","webpack:///./src/components/image/ListImages.vue?b817","webpack:///./src/components/image/ListImages.vue?b3c4","webpack:///./src/components/image/ImageInformation.vue","webpack:///src/components/image/ImageInformation.vue","webpack:///./src/components/image/ImageInformation.vue?f572","webpack:///./src/components/image/ImageInformation.vue?5377","webpack:///./src/components/annotations/ListAnnotations.vue","webpack:///./src/components/form/CytomineDatepicker.vue","webpack:///src/components/form/CytomineDatepicker.vue","webpack:///./src/components/form/CytomineDatepicker.vue?1a92","webpack:///./src/components/form/CytomineDatepicker.vue?1adf","webpack:///./src/components/ontology/OntologyTreeMultiselect.vue","webpack:///./src/utils/ontology-utils.js","webpack:///src/components/ontology/OntologyTreeMultiselect.vue","webpack:///./src/components/ontology/OntologyTreeMultiselect.vue?7974","webpack:///./src/components/ontology/OntologyTreeMultiselect.vue?36b0","webpack:///./src/components/annotations/ListAnnotationsBy.vue","webpack:///./src/components/annotations/AnnotationPreview.vue","webpack:///src/components/annotations/AnnotationPreview.vue","webpack:///./src/components/annotations/AnnotationPreview.vue?a20b","webpack:///./src/components/annotations/AnnotationPreview.vue?851e","webpack:///src/components/annotations/ListAnnotationsBy.vue","webpack:///./src/components/annotations/ListAnnotationsBy.vue?dc88","webpack:///./src/components/annotations/ListAnnotationsBy.vue?5442","webpack:///./src/utils/style-utils.js","webpack:///./src/components/track/TrackTreeMultiselect.vue","webpack:///src/components/track/TrackTreeMultiselect.vue","webpack:///./src/components/track/TrackTreeMultiselect.vue?ce59","webpack:///./src/components/track/TrackTreeMultiselect.vue?1049","webpack:///src/components/annotations/ListAnnotations.vue","webpack:///./src/components/annotations/ListAnnotations.vue?18d1","webpack:///./src/components/annotations/ListAnnotations.vue?ed4c","webpack:///./src/components/project/ProjectActivity.vue","webpack:///./src/components/project/activity/ProjectActivityCharts.vue","webpack:///./src/components/charts/NumberAnnotationsChart.js","webpack:///./src/components/charts/AnnotationTermChart.js","webpack:///./src/components/charts/AnnotatedImagesByTermChart.js","webpack:///./src/components/charts/AnnotationContributorChart.js","webpack:///./src/components/charts/AnnotatedImagesByContributorChart.js","webpack:///./src/components/charts/ActivityOverviewChart.js","webpack:///src/components/project/activity/ProjectActivityCharts.vue","webpack:///./src/components/project/activity/ProjectActivityCharts.vue?9830","webpack:///./src/components/project/activity/ProjectActivityCharts.vue?6f43","webpack:///./src/components/project/activity/MembersActivity.vue","webpack:///src/components/project/activity/MembersActivity.vue","webpack:///./src/components/project/activity/MembersActivity.vue?d047","webpack:///./src/components/project/activity/MembersActivity.vue?9da6","webpack:///./src/components/project/activity/ProjectActivityLogs.vue","webpack:///./src/components/utils/ActivityLogs.vue","webpack:///./src/components/utils/ActivityLogsItem.vue","webpack:///src/components/utils/ActivityLogsItem.vue","webpack:///./src/components/utils/ActivityLogsItem.vue?28cf","webpack:///./src/components/utils/ActivityLogsItem.vue?4b95","webpack:///src/components/utils/ActivityLogs.vue","webpack:///./src/components/utils/ActivityLogs.vue?de31","webpack:///./src/components/utils/ActivityLogs.vue?4512","webpack:///src/components/project/activity/ProjectActivityLogs.vue","webpack:///./src/components/project/activity/ProjectActivityLogs.vue?f434","webpack:///./src/components/project/activity/ProjectActivityLogs.vue?ceed","webpack:///src/components/project/ProjectActivity.vue","webpack:///./src/components/project/ProjectActivity.vue?41e4","webpack:///./src/components/project/ProjectActivity.vue?7cae","webpack:///./src/components/job/ListJobs.vue","webpack:///./src/components/job/JobStatus.vue","webpack:///./src/utils/job-utils.js","webpack:///src/components/job/JobStatus.vue","webpack:///./src/components/job/JobStatus.vue?0244","webpack:///./src/components/job/JobStatus.vue?8d1d","webpack:///./src/components/job/JobDetails.vue","webpack:///./src/components/utils/CytomineTask.vue","webpack:///src/components/utils/CytomineTask.vue","webpack:///./src/components/utils/CytomineTask.vue?1caf","webpack:///./src/components/utils/CytomineTask.vue?acf4","webpack:///src/components/job/JobDetails.vue","webpack:///./src/components/job/JobDetails.vue?f811","webpack:///./src/components/job/JobDetails.vue?0b8c","webpack:///./src/components/job/AddJobModal.vue","webpack:///./src/components/job/JobParameterRow.vue","webpack:///src/components/job/JobParameterRow.vue","webpack:///./src/components/job/JobParameterRow.vue?6e37","webpack:///./src/components/job/JobParameterRow.vue?398c","webpack:///src/components/job/AddJobModal.vue","webpack:///./src/components/job/AddJobModal.vue?9cd0","webpack:///./src/components/job/AddJobModal.vue?fda8","webpack:///src/components/job/ListJobs.vue","webpack:///./src/components/job/ListJobs.vue?575c","webpack:///./src/components/job/ListJobs.vue?8dff","webpack:///./src/components/project/ProjectInformation.vue","webpack:///src/components/project/ProjectInformation.vue","webpack:///./src/components/project/ProjectInformation.vue?ad6b","webpack:///./src/components/project/ProjectInformation.vue?d5af","webpack:///./src/components/project/ProjectConfiguration.vue","webpack:///./src/components/project/configuration-panels/GeneralConfiguration.vue","webpack:///./src/components/project/configuration-panels/DefaultProperty.vue","webpack:///src/components/project/configuration-panels/DefaultProperty.vue","webpack:///./src/components/project/configuration-panels/DefaultProperty.vue?cd80","webpack:///./src/components/project/configuration-panels/DefaultProperty.vue?1882","webpack:///src/components/project/configuration-panels/GeneralConfiguration.vue","webpack:///./src/components/project/configuration-panels/GeneralConfiguration.vue?2fdc","webpack:///./src/components/project/configuration-panels/GeneralConfiguration.vue?ec0e","webpack:///./src/components/project/configuration-panels/ProjectMembers.vue","webpack:///./src/components/project/configuration-panels/AddMemberModal.vue","webpack:///src/components/project/configuration-panels/AddMemberModal.vue","webpack:///./src/components/project/configuration-panels/AddMemberModal.vue?15d4","webpack:///./src/components/project/configuration-panels/AddMemberModal.vue?d7b6","webpack:///src/components/project/configuration-panels/ProjectMembers.vue","webpack:///./src/components/project/configuration-panels/ProjectMembers.vue?abf8","webpack:///./src/components/project/configuration-panels/ProjectMembers.vue?4099","webpack:///./src/components/project/configuration-panels/CustomUIProject.vue","webpack:///./src/components/icons/IconPolygonFreeHand.vue","webpack:///src/components/icons/IconPolygonFreeHand.vue","webpack:///./src/components/icons/IconPolygonFreeHand.vue?9dfe","webpack:///./src/components/icons/IconPolygonFreeHand.vue?6bac","webpack:///./src/components/icons/IconLineFreeHand.vue","webpack:///src/components/icons/IconLineFreeHand.vue","webpack:///./src/components/icons/IconLineFreeHand.vue?e26c","webpack:///./src/components/icons/IconLineFreeHand.vue?0e97","webpack:///src/components/project/configuration-panels/CustomUIProject.vue","webpack:///./src/components/project/configuration-panels/CustomUIProject.vue?a6e2","webpack:///./src/components/project/configuration-panels/CustomUIProject.vue?e3c5","webpack:///./src/components/project/configuration-panels/ProjectSoftwares.vue","webpack:///src/components/project/configuration-panels/ProjectSoftwares.vue","webpack:///./src/components/project/configuration-panels/ProjectSoftwares.vue?9cf4","webpack:///./src/components/project/configuration-panels/ProjectSoftwares.vue?ac8b","webpack:///./src/components/project/configuration-panels/ProjectImageFilters.vue","webpack:///src/components/project/configuration-panels/ProjectImageFilters.vue","webpack:///./src/components/project/configuration-panels/ProjectImageFilters.vue?1bc6","webpack:///./src/components/project/configuration-panels/ProjectImageFilters.vue?4f93","webpack:///src/components/project/ProjectConfiguration.vue","webpack:///./src/components/project/ProjectConfiguration.vue?2bd7","webpack:///./src/components/project/ProjectConfiguration.vue?a4a5","webpack:///./src/components/user/Account.vue","webpack:///./src/lang.js","webpack:///./src/utils/role-utils.js","webpack:///src/components/user/Account.vue","webpack:///./src/components/user/Account.vue?6301","webpack:///./src/components/user/Account.vue?6735","webpack:///./src/components/search/AdvancedSearch.vue","webpack:///src/components/search/AdvancedSearch.vue","webpack:///./src/components/search/AdvancedSearch.vue?2cea","webpack:///./src/components/search/AdvancedSearch.vue?dea8","webpack:///./src/components/viewer/CytomineViewer.vue","webpack:///./src/components/viewer/CytomineImage.vue","webpack:///./src/components/viewer/AnnotationLayer.vue","webpack:///./src/utils/annotation-utils.js","webpack:///src/components/viewer/AnnotationLayer.vue","webpack:///./src/components/viewer/AnnotationLayer.vue?6733","webpack:///./src/components/viewer/AnnotationLayer.vue?371a","webpack:///./src/components/viewer/RotationSelector.vue","webpack:///src/components/viewer/RotationSelector.vue","webpack:///./src/components/viewer/RotationSelector.vue?53f2","webpack:///./src/components/viewer/RotationSelector.vue?0722","webpack:///./src/components/viewer/ScaleLine.vue","webpack:///src/components/viewer/ScaleLine.vue","webpack:///./src/components/viewer/ScaleLine.vue?ac68","webpack:///./src/components/viewer/ScaleLine.vue?267a","webpack:///./src/components/viewer/DrawTools.vue","webpack:///src/components/viewer/DrawTools.vue","webpack:///./src/components/viewer/DrawTools.vue?b289","webpack:///./src/components/viewer/DrawTools.vue?8e23","webpack:///./src/components/viewer/ImageControls.vue","webpack:///./src/components/viewer/ImageControlsShiftButtons.vue","webpack:///src/components/viewer/ImageControlsShiftButtons.vue","webpack:///./src/components/viewer/ImageControlsShiftButtons.vue?f103","webpack:///./src/components/viewer/ImageControlsShiftButtons.vue?a0ff","webpack:///src/components/viewer/ImageControls.vue","webpack:///./src/components/viewer/ImageControls.vue?221a","webpack:///./src/components/viewer/ImageControls.vue?3e86","webpack:///./src/components/viewer/AnnotationsContainer.vue","webpack:///./src/components/viewer/AnnotationDetailsContainer.vue","webpack:///src/components/viewer/AnnotationDetailsContainer.vue","webpack:///./src/components/viewer/AnnotationDetailsContainer.vue?706b","webpack:///./src/components/viewer/AnnotationDetailsContainer.vue?de4f","webpack:///src/components/viewer/AnnotationsContainer.vue","webpack:///./src/components/viewer/AnnotationsContainer.vue?9637","webpack:///./src/components/viewer/AnnotationsContainer.vue?40b9","webpack:///./src/components/viewer/panels/InformationPanel.vue","webpack:///src/components/viewer/panels/InformationPanel.vue","webpack:///./src/components/viewer/panels/InformationPanel.vue?972a","webpack:///./src/components/viewer/panels/InformationPanel.vue?8133","webpack:///./src/components/viewer/panels/MetadataPanel.vue","webpack:///src/components/viewer/panels/MetadataPanel.vue","webpack:///./src/components/viewer/panels/MetadataPanel.vue?0138","webpack:///./src/components/viewer/panels/MetadataPanel.vue?b133","webpack:///./src/components/viewer/panels/DigitalZoom.vue","webpack:///src/components/viewer/panels/DigitalZoom.vue","webpack:///./src/components/viewer/panels/DigitalZoom.vue?7f5f","webpack:///./src/components/viewer/panels/DigitalZoom.vue?6501","webpack:///./src/components/viewer/panels/ColorManipulation.vue","webpack:///./src/utils/histogram-utils.js","webpack:///./src/components/viewer/panels/colors/CytomineChannel.vue","webpack:///src/components/viewer/panels/colors/CytomineChannel.vue","webpack:///./src/components/viewer/panels/colors/CytomineChannel.vue?1594","webpack:///./src/components/viewer/panels/colors/CytomineChannel.vue?df9d","webpack:///./src/components/viewer/panels/colors/AdjustableLookUpTable.vue","webpack:///src/components/viewer/panels/colors/AdjustableLookUpTable.vue","webpack:///./src/components/viewer/panels/colors/AdjustableLookUpTable.vue?4c1e","webpack:///./src/components/viewer/panels/colors/AdjustableLookUpTable.vue?f6f2","webpack:///./src/components/charts/HistogramChart.js","webpack:///src/components/viewer/panels/ColorManipulation.vue","webpack:///./src/components/viewer/panels/ColorManipulation.vue?8cd2","webpack:///./src/components/viewer/panels/ColorManipulation.vue?9866","webpack:///./src/components/viewer/panels/LinkPanel.vue","webpack:///src/components/viewer/panels/LinkPanel.vue","webpack:///./src/components/viewer/panels/LinkPanel.vue?53b5","webpack:///./src/components/viewer/panels/LinkPanel.vue?4f04","webpack:///./src/components/viewer/panels/LayersPanel.vue","webpack:///src/components/viewer/panels/LayersPanel.vue","webpack:///./src/components/viewer/panels/LayersPanel.vue?12df","webpack:///./src/components/viewer/panels/LayersPanel.vue?ebd7","webpack:///./src/components/viewer/panels/OntologyPanel.vue","webpack:///src/components/viewer/panels/OntologyPanel.vue","webpack:///./src/components/viewer/panels/OntologyPanel.vue?fe20","webpack:///./src/components/viewer/panels/OntologyPanel.vue?581f","webpack:///./src/components/viewer/panels/PropertiesPanel.vue","webpack:///src/components/viewer/panels/PropertiesPanel.vue","webpack:///./src/components/viewer/panels/PropertiesPanel.vue?28eb","webpack:///./src/components/viewer/panels/PropertiesPanel.vue?0ef3","webpack:///./src/components/viewer/panels/FollowPanel.vue","webpack:///src/components/viewer/panels/FollowPanel.vue","webpack:///./src/components/viewer/panels/FollowPanel.vue?2c24","webpack:///./src/components/viewer/panels/FollowPanel.vue?464c","webpack:///./src/components/viewer/panels/ReviewPanel.vue","webpack:///src/components/viewer/panels/ReviewPanel.vue","webpack:///./src/components/viewer/panels/ReviewPanel.vue?1da2","webpack:///./src/components/viewer/panels/ReviewPanel.vue?6dd6","webpack:///./src/components/viewer/interactions/SelectInteraction.vue","webpack:///src/components/viewer/interactions/SelectInteraction.vue","webpack:///./src/components/viewer/interactions/SelectInteraction.vue?40b9","webpack:///./src/components/viewer/interactions/SelectInteraction.vue?5f6b","webpack:///./src/components/viewer/interactions/DrawInteraction.vue","webpack:///src/components/viewer/interactions/DrawInteraction.vue","webpack:///./src/components/viewer/interactions/DrawInteraction.vue?4d95","webpack:///./src/components/viewer/interactions/DrawInteraction.vue?c7c1","webpack:///./src/components/viewer/interactions/ModifyInteraction.vue","webpack:///./src/utils/geometry-utils.js","webpack:///src/components/viewer/interactions/ModifyInteraction.vue","webpack:///./src/components/viewer/interactions/ModifyInteraction.vue?440e","webpack:///./src/components/viewer/interactions/ModifyInteraction.vue?1785","webpack:///src/components/viewer/CytomineImage.vue","webpack:///./src/components/viewer/CytomineImage.vue?3d6a","webpack:///./src/components/viewer/CytomineImage.vue?b8ed","webpack:///./src/components/viewer/ImageSelector.vue","webpack:///src/components/viewer/ImageSelector.vue","webpack:///./src/components/viewer/ImageSelector.vue?7ea2","webpack:///./src/components/viewer/ImageSelector.vue?ecfc","webpack:///./src/store/modules/current-user.js","webpack:///./src/store/modules/current-project.js","webpack:///./src/store/modules/ontologies.js","webpack:///./src/store/modules/list-projects.js","webpack:///./src/store/modules/list-software.js","webpack:///./src/store/store.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/colors.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/draw.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/layers.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/properties.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/selected-features.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/style.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/tracking.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/undo-redo.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/view.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/review.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/tracks.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/annotations-list.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/controls.js","webpack:///./src/store/modules/project_modules/viewer_modules/image.js","webpack:///./src/store/modules/project_modules/viewer.js","webpack:///./src/utils/shortcuts.js","webpack:///src/components/viewer/CytomineViewer.vue","webpack:///./src/components/viewer/CytomineViewer.vue?76f3","webpack:///./src/components/viewer/CytomineViewer.vue?24f5","webpack:///./src/components/project/CytomineProject.vue","webpack:///./src/components/project/ProjectSidebar.vue","webpack:///src/components/project/ProjectSidebar.vue","webpack:///./src/components/project/ProjectSidebar.vue?7af0","webpack:///./src/components/project/ProjectSidebar.vue?da9a","webpack:///./src/store/modules/project_modules/list-images.js","webpack:///./src/store/modules/project_modules/list-annotations.js","webpack:///./src/store/modules/project_modules/list-jobs.js","webpack:///./src/store/modules/project.js","webpack:///src/components/project/CytomineProject.vue","webpack:///./src/components/project/CytomineProject.vue?49d3","webpack:///./src/components/project/CytomineProject.vue?1478","webpack:///./src/components/project/ProjectHome.vue","webpack:///src/components/project/ProjectHome.vue","webpack:///./src/components/project/ProjectHome.vue?feed","webpack:///./src/components/project/ProjectHome.vue?cf95","webpack:///./src/components/project/activity/MemberActivityDetails.vue","webpack:///./src/components/project/ProjectConnectionDetails.vue","webpack:///src/components/project/ProjectConnectionDetails.vue","webpack:///./src/components/project/ProjectConnectionDetails.vue?763f","webpack:///./src/components/project/ProjectConnectionDetails.vue?828e","webpack:///./src/components/charts/LastConnectionsChart.js","webpack:///src/components/project/activity/MemberActivityDetails.vue","webpack:///./src/components/project/activity/MemberActivityDetails.vue?e85f","webpack:///./src/components/project/activity/MemberActivityDetails.vue?9daf","webpack:///./src/components/admin/AdminPanel.vue","webpack:///./src/components/admin/AdminDashboard.vue","webpack:///src/components/admin/AdminDashboard.vue","webpack:///./src/components/admin/AdminDashboard.vue?89e6","webpack:///./src/components/admin/AdminDashboard.vue?50b3","webpack:///./src/components/admin/AdminUsers.vue","webpack:///./src/components/admin/UserModal.vue","webpack:///src/components/admin/UserModal.vue","webpack:///./src/components/admin/UserModal.vue?95fa","webpack:///./src/components/admin/UserModal.vue?a203","webpack:///./src/components/admin/UserDetails.vue","webpack:///src/components/admin/UserDetails.vue","webpack:///./src/components/admin/UserDetails.vue?7370","webpack:///./src/components/admin/UserDetails.vue?2168","webpack:///src/components/admin/AdminUsers.vue","webpack:///./src/components/admin/AdminUsers.vue?f1e6","webpack:///./src/components/admin/AdminUsers.vue?af68","webpack:///./src/components/admin/AdminSoftware.vue","webpack:///./src/components/admin/TrustedSourceModal.vue","webpack:///src/components/admin/TrustedSourceModal.vue","webpack:///./src/components/admin/TrustedSourceModal.vue?f71a","webpack:///./src/components/admin/TrustedSourceModal.vue?db49","webpack:///src/components/admin/AdminSoftware.vue","webpack:///./src/components/admin/AdminSoftware.vue?4297","webpack:///./src/components/admin/AdminSoftware.vue?45e5","webpack:///./src/components/admin/AdminConfiguration.vue","webpack:///src/components/admin/AdminConfiguration.vue","webpack:///./src/components/admin/AdminConfiguration.vue?a2a9","webpack:///./src/components/admin/AdminConfiguration.vue?54e2","webpack:///./src/components/admin/AdminTags.vue","webpack:///./src/components/tag/TagModal.vue","webpack:///src/components/tag/TagModal.vue","webpack:///./src/components/tag/TagModal.vue?b273","webpack:///./src/components/tag/TagModal.vue?5e14","webpack:///src/components/admin/AdminTags.vue","webpack:///./src/components/admin/AdminTags.vue?b495","webpack:///./src/components/admin/AdminTags.vue?7b67","webpack:///src/components/admin/AdminPanel.vue","webpack:///./src/components/admin/AdminPanel.vue?d932","webpack:///./src/components/admin/AdminPanel.vue?795b","webpack:///./src/components/user/UserActivity.vue","webpack:///src/components/user/UserActivity.vue","webpack:///./src/components/user/UserActivity.vue?9481","webpack:///./src/components/user/UserActivity.vue?4656","webpack:///./src/components/PageNotFound.vue","webpack:///src/components/PageNotFound.vue","webpack:///./src/components/PageNotFound.vue?f43f","webpack:///./src/components/PageNotFound.vue?2fe0","webpack:///./src/components/software/SoftwareInformation.vue","webpack:///./src/components/software/SoftwareParameterDetails.vue","webpack:///src/components/software/SoftwareParameterDetails.vue","webpack:///./src/components/software/SoftwareParameterDetails.vue?e3eb","webpack:///./src/components/software/SoftwareParameterDetails.vue?40db","webpack:///./src/components/charts/SoftwareStatisticsChart.js","webpack:///src/components/software/SoftwareInformation.vue","webpack:///./src/components/software/SoftwareInformation.vue?15bc","webpack:///./src/components/software/SoftwareInformation.vue?aa76","webpack:///./src/routes.js","webpack:///src/vuelayers-suppl/zoomify-source/source.vue","webpack:///./src/vuelayers-suppl/zoomify-source/source.vue","webpack:///./src/vuelayers-suppl/zoomify-source/source.vue?9601","webpack:///./src/vuelayers-suppl/zoomify-source/index.js","webpack:///./src/vuelayers-suppl/raster-source/source.vue","webpack:///src/vuelayers-suppl/raster-source/source.vue","webpack:///./src/vuelayers-suppl/raster-source/source.vue?34b3","webpack:///./src/vuelayers-suppl/raster-source/index.js","webpack:///src/vuelayers-suppl/translate-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/translate-interaction/interaction.vue?6820","webpack:///./src/vuelayers-suppl/translate-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/translate-interaction/index.js","webpack:///src/vuelayers-suppl/rotate-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/rotate-interaction/interaction.vue?db50","webpack:///./src/vuelayers-suppl/rotate-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/rotate-interaction/index.js","webpack:///./src/vuelayers-suppl/modify-interaction/modify.js","webpack:///src/vuelayers-suppl/modify-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/modify-interaction/interaction.vue?4560","webpack:///./src/vuelayers-suppl/modify-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/modify-interaction/index.js","webpack:///src/vuelayers-suppl/rescale-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/rescale-interaction/interaction.vue?de55","webpack:///./src/vuelayers-suppl/rescale-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/rescale-interaction/index.js","webpack:///./src/App.vue","webpack:///./src/components/navbar/CytomineNavbar.vue","webpack:///./src/components/navbar/NavbarDropdown.vue","webpack:///src/components/navbar/NavbarDropdown.vue","webpack:///./src/components/navbar/NavbarDropdown.vue?e2d0","webpack:///./src/components/navbar/NavbarDropdown.vue?7640","webpack:///./src/components/navbar/NavigationTree.vue","webpack:///src/components/navbar/NavigationTree.vue","webpack:///./src/components/navbar/NavigationTree.vue?e767","webpack:///./src/components/navbar/NavigationTree.vue?0eeb","webpack:///./src/components/navbar/HotkeysModal.vue","webpack:///src/components/navbar/HotkeysModal.vue","webpack:///./src/components/navbar/HotkeysModal.vue?47b4","webpack:///./src/components/navbar/HotkeysModal.vue?83b3","webpack:///./src/components/navbar/AboutCytomineModal.vue","webpack:///src/components/navbar/AboutCytomineModal.vue","webpack:///./src/components/navbar/AboutCytomineModal.vue?3c4a","webpack:///./src/components/navbar/AboutCytomineModal.vue?db1f","webpack:///./src/components/search/CytomineSearcher.vue","webpack:///src/components/search/CytomineSearcher.vue","webpack:///./src/components/search/CytomineSearcher.vue?172b","webpack:///./src/components/search/CytomineSearcher.vue?1a09","webpack:///src/components/navbar/CytomineNavbar.vue","webpack:///./src/components/navbar/CytomineNavbar.vue?ee80","webpack:///./src/components/navbar/CytomineNavbar.vue?e801","webpack:///./src/components/user/Login.vue","webpack:///./src/components/user/Register.vue","webpack:///src/components/user/Register.vue","webpack:///./src/components/user/Register.vue?0866","webpack:///./src/components/user/Register.vue?6cda","webpack:///src/components/user/Login.vue","webpack:///./src/components/user/Login.vue?b6b2","webpack:///./src/components/user/Login.vue?4011","webpack:///src/App.vue","webpack:///./src/App.vue?4c4f","webpack:///./src/App.vue?3746","webpack:///./src/main.js","webpack:///./src/components/project/ListProjects.vue?5cc9","webpack:///./src/components/annotations/ListAnnotationsBy.vue?cd49","webpack:///./src/components/utils/RenameModal.vue?1394","webpack:///./src/components/ontology/CytomineTerm.vue?69a4","webpack:///./src/components/track/TrackTree.vue?4ed8","webpack:///./src/components/form/CytomineSlider.vue?cea2","webpack:///./src/components/project/configuration-panels/ProjectImageFilters.vue?71fe","webpack:///./src/components/job/JobParameterRow.vue?7590","webpack:///./src/assets/brands/aperio.jpg","webpack:///./src/components/software/SoftwareInformation.vue?0923","webpack:///./src/components/user/ListUsernames.vue?8fcd","webpack:///./src/components/tag/CytomineTags.vue?85b3","webpack:///./src/components/viewer/panels/MetadataPanel.vue?83d3","webpack:///./src/components/project/ProjectActivity.vue?1e05","webpack:///./src/components/navbar/HotkeysModal.vue?4f89","webpack:///./src/assets/brands/leica.png","webpack:///./src/components/viewer/ImageControls.vue?e486","webpack:///./src/components/tag/CytomineTags.vue?78c9","webpack:///./src/components/attached-file/AttachedFileModal.vue?d906","webpack:///./src/components/ontology/OntologyTree.vue?8223","webpack:///./src/components/project/activity/ProjectActivityCharts.vue?6aec","webpack:///./src/components/viewer/panels/DigitalZoom.vue?f1b5","webpack:///./src/assets/sponsors/logo-uliege.png","webpack:///./src/components/ontology/TermModal.vue?6ac4","webpack:///./src/components/tag/CytomineTags.vue","webpack:///./src/components/tag/AddTagDomainAssociationModal.vue","webpack:///src/components/tag/AddTagDomainAssociationModal.vue","webpack:///./src/components/tag/AddTagDomainAssociationModal.vue?eb54","webpack:///./src/components/tag/AddTagDomainAssociationModal.vue?43bd","webpack:///src/components/tag/CytomineTags.vue","webpack:///./src/components/tag/CytomineTags.vue?9060","webpack:///./src/components/tag/CytomineTags.vue?a0fc","webpack:///./src/components/image/ImagePreview.vue?df85","webpack:///./src/components/admin/UserDetails.vue?b1ad","webpack:///./src/components/GlobalDashboard.vue?e394","webpack:///./src/components/form/CytomineQuillEditor.vue?58ca","webpack:///./src/components/project/CytomineProject.vue?b74c","webpack:///./src/components/viewer/panels/OntologyPanel.vue?e8b0","webpack:///./src/components/description/CytomineDescriptionModal.vue?6ad9","webpack:///./src/components/track/TrackModal.vue?752f","webpack:///./src/components/storage/CytomineStorage.vue?cb5c","webpack:///./src/components/viewer/ImageSelector.vue?d5db","webpack:///./src/utils/store-helpers.js","webpack:///./src/components/viewer/panels/ReviewPanel.vue?8218","webpack:///./src/components/image/ImageDetails.vue?ed26","webpack:///./src/components/ontology/OntologyTree.vue?08c4","webpack:///./src/components/software/SoftwareSourceButtons.vue?9e35","webpack:///./src/utils/token-utils.js","webpack:///./src/components/property/CytomineProperties.vue?8896","webpack:///./src/components/property/CytomineProperties.vue?9548","webpack:///./src/components/form/CytomineDatepicker.vue?ec00","webpack:///./src/components/utils/CytomineTask.vue?82df","webpack:///./src/components/annotations/ListAnnotations.vue?2753","webpack:///./src/components/admin/UserModal.vue?11c3","webpack:///./src/components/project/activity/ProjectActivityLogs.vue?8195","webpack:///./src/components/attached-file/AttachedFiles.vue","webpack:///./src/components/attached-file/AttachedFileModal.vue","webpack:///src/components/attached-file/AttachedFileModal.vue","webpack:///./src/components/attached-file/AttachedFileModal.vue?41f8","webpack:///./src/components/attached-file/AttachedFileModal.vue?8269","webpack:///src/components/attached-file/AttachedFiles.vue","webpack:///./src/components/attached-file/AttachedFiles.vue?baaa","webpack:///./src/components/attached-file/AttachedFiles.vue?f128","webpack:///./src/assets/brands/roche.gif","webpack:///./src/components/project/activity/MemberActivityDetails.vue?9323","webpack:///./src/assets/logo.svg","webpack:///./src/components/project/configuration-panels/ProjectMembers.vue?a364","webpack:///./src/components/utils/ActivityLogsItem.vue?d77a","webpack:///./src/components/job/JobDetails.vue?33bb","webpack:///./src/components/image/ImageName.vue","webpack:///src/components/image/ImageName.vue","webpack:///./src/components/image/ImageName.vue?89d5","webpack:///./src/components/image/ImageName.vue?1456","webpack:///./src/components/project/configuration-panels/ProjectImageFilters.vue?e201","webpack:///./src/components/admin/AdminDashboard.vue?81db","webpack:///./src/components/project/configuration-panels/ProjectSoftwares.vue?5390","webpack:///./src/components/viewer/DrawTools.vue?2384","webpack:///./src/components/software/ListSoftware.vue?0049","webpack:///./src/components/annotations/AnnotationPreview.vue?fa87","webpack:///./src/components/storage/CytomineStorage.vue?359d","webpack:///./src/components/user/Account.vue?2bab","webpack:///./src/components/description/CytomineDescription.vue?81e0","webpack:///./src/components/viewer/ChannelName.vue?eff4","webpack:///./src/components/utils/CytomineModalCard.vue","webpack:///src/components/utils/CytomineModalCard.vue","webpack:///./src/components/utils/CytomineModalCard.vue?322c","webpack:///./src/components/utils/CytomineModalCard.vue?976d","webpack:///./src/components/viewer/panels/PropertiesPanel.vue?d77f","webpack:///./src/assets/brands/3dh.png","webpack:///./src/utils/string-utils.js","webpack:///./src/components/attached-file/AttachedFiles.vue?9c15","webpack:///./src/components/search/CytomineSearcher.vue?954d","webpack:///./src/components/viewer/ImageControlsShiftButtons.vue?5829","webpack:///./src/components/viewer/panels/ColorManipulation.vue?e5c6","webpack:///./src/components/project/configuration-panels/CustomUIProject.vue?2a49","webpack:///./src/components/viewer/ImageControls.vue?c3c4","webpack:///./src/components/annotations/AnnotationDetails.vue?29af","webpack:///./src/components/viewer/panels/InformationPanel.vue?6a92","webpack:///./src/components/navbar/NavbarDropdown.vue?6681","webpack:///./src/components/viewer/panels/FollowPanel.vue?f579","webpack:///./src/utils/constants.js","webpack:///./src/components/image/ListImages.vue?8c51","webpack:///./src/components/project/activity/MembersActivity.vue?c4f4","webpack:///./src/components/tag/AddTagDomainAssociationModal.vue?dd1e","webpack:///./src/components/ontology/OntologyDetails.vue?39d8","webpack:///./src/components/image/ImageInformation.vue?846e","webpack:///./src/components/software/SoftwareInformation.vue?75b9","webpack:///./src/components/form/CytomineMultiselect.vue?05cc","webpack:///./src/components/track/TrackTree.vue","webpack:///./src/components/track/TrackModal.vue","webpack:///src/components/track/TrackModal.vue","webpack:///./src/components/track/TrackModal.vue?9596","webpack:///./src/components/track/TrackModal.vue?8734","webpack:///src/components/track/TrackTree.vue","webpack:///./src/components/track/TrackTree.vue?f76c","webpack:///./src/components/track/TrackTree.vue?35b8","webpack:///./src/components/utils/CytomineTable.vue?9161","webpack:///./src/components/admin/AdminPanel.vue?cb05","webpack:///./src/components/track/TrackTree.vue?4143","webpack:///./src/components/viewer/panels/LinkPanel.vue?c456","webpack:///./src/components/image/ListImagesPreview.vue?c71a","webpack:///./src/components/admin/TrustedSourceModal.vue?8d39","webpack:///./src/components/project/ProjectConfiguration.vue?f88b","webpack:///./src/components/image/ImageMetadataModal.vue?2eaf","webpack:///./src/components/viewer/DrawTools.vue?829e","webpack:///./src/components/utils/DomainTagInput.vue","webpack:///src/components/utils/DomainTagInput.vue","webpack:///./src/components/utils/DomainTagInput.vue?4b24","webpack:///./src/components/utils/DomainTagInput.vue?4ff9","webpack:///./src/components/project/configuration-panels/GeneralConfiguration.vue?c170","webpack:///./src/components/viewer/ChannelName.vue","webpack:///src/components/viewer/ChannelName.vue","webpack:///./src/components/viewer/ChannelName.vue?9334","webpack:///./src/components/viewer/ChannelName.vue?61f0","webpack:///./src/utils/user-utils.js","webpack:///./src/components/project/configuration-panels/CustomUIProject.vue?ed52","webpack:///./src/assets/sponsors/logo-wallonie.png","webpack:///./src/components/project/activity/MemberActivityDetails.vue?ccd2","webpack:///./src/components/form/CytomineQuillEditor.vue","webpack:///src/components/form/CytomineQuillEditor.vue","webpack:///./src/components/form/CytomineQuillEditor.vue?6f18","webpack:///./src/components/form/CytomineQuillEditor.vue?788b","webpack:///./src/components/project/configuration-panels/AddMemberModal.vue?a387","webpack:///./src/components/viewer/AnnotationDetailsContainer.vue?ebd7","webpack:///./src/components/property/CytomineProperties.vue","webpack:///src/components/property/CytomineProperties.vue","webpack:///./src/components/property/CytomineProperties.vue?628d","webpack:///./src/components/property/CytomineProperties.vue?f45d","webpack:///./src/components/viewer/CytomineImage.vue?7bbe","webpack:///./src/components/job/JobDetails.vue?c370","webpack:///./src/components/PageNotFound.vue?b1dc","webpack:///./src/components/project/ProjectSidebar.vue?a14a","webpack:///./src/components/utils/DomainTagInput.vue?1bd0","webpack:///./src/components/job/ListJobs.vue?fe8b"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","staticClass","class","selector","allowSelection","draggable","allowDrag","editable","allowEdition","ref","attrs","on","select","drop","scopedSlots","_u","fn","_ref","node","hidden","isLeaf","children","isExpanded","_e","_ref2","classNames","_ref3","_t","$event","startTermUpdate","confirmTermDeletion","model","treeNodes","callback","$$v","expression","noResult","_v","_s","$t","allowNew","startTermCreation","staticRenderFns","preventDefault","save","term","$parent","close","errors","any","proxy","has","first","directives","rawName","presetColors","color","props","ontology","components","Sketch","CytomineModalCard","$_veeValidate","validator","computed","methods","randomColor","Math","random","toString","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","$validator","validateAll","sent","abrupt","update","stop","_this2","_callee2","_context2","Term","hex","id","$notify","type","text","$emit","t0","_this3","_callee3","_context3","created","component","prop","event","additionalNodes","Array","default","startWithAdditionalNodes","Boolean","searchString","String","selectedNodes","multipleSelection","hiddenNodes","SlVueTree","CytomineTerm","internalSelectedNodes","editedNode","regexp","getWildcardRegexp","every","watch","makeTree","refreshNodeSelection","filter","nodes","createSubTree","array","concat","terms","map","createNode","title","isDraggable","isSelected","includes","parent","applyToAllNodes","match","test","matchInChildren","some","child","clickOnTreeSelector","target","forEach","indexSelected","indexOf","_this4","elem","classList","contains","parentElement","fct","_this5","arguments","undefined","openModal","createTerm","updateTerm","$refs","tree","updateNode","path","_objectSpread","$buefy","modal","open","TermModal","events","newTerm","hasModalCard","position","_this6","idParent","placement","changeParent","tmp","_x","_this7","dialog","confirm","message","confirmText","cancelText","onConfirm","deleteTerm","_this8","delete","remove","loading","description","domProps","previewDescription","croppedDescription","canEdit","expanded","edit","stopPreviewKeyword","descriptionContent","descriptionWithoutKeywords","CytomineQuillEditor","replace","RegExp","constants","STOP_PREVIEW_KEYWORD","updatedDesc","clone","maxPreviewLength","Number","modalOpened","posStop","substring","DescriptionModal","Description","change","newDesc","fetch","showImageInfo","annotation","project","image","showChannelInfo","sliceChannel","isPropDisplayed","area","toFixed","areaUnit","perimeter","perimeterUnit","_l","associatedTerms","user","username","fullName","canEditTerms","removeTerm","showTermSelector","addTermString","associatedTermsIds","addTerm","maxRank","associatedTracks","track","removeTrack","showTrackSelector","addTrackString","availableTracks","associatedTracksIds","newTrack","addTrack","internalUseFilteredProperties","removeProp","addProp","creator","isReviewedAnnotation","reviewer","_f","isImageInReviewMode","currentUser","isDeveloper","annotationURL","openCrop","copyURL","comments","openCommentsModal","confirmDeletion","comment","senderName","addingComment","guestByNow","members","sendToAllMembers","selectedMembers","share","DomainTagInput","allMembers","member","uri","location","origin","$nextTick","reset","sender","newComment","AnnotationComment","subject","from","receivers","shareAnnotationURL","ChannelName","ImageName","CytomineDescription","OntologyTree","CytomineTags","CytomineProperties","AttachedFiles","AnnotationCommentsModal","TrackTree","CytomineTrack","tracks","users","images","slices","showComments","revTerms","revTracks","properties","loadPropertiesError","configUI","shortTermToken","find","AnnotationType","REVIEWED","reviewUser","$store","getters","USER","instanceFilename","inReview","depth","duration","channels","userByTerm","ubt","annotationTrack","at","isPoint","startsWith","PREFIX_HIDDEN_PROPERTY_KEY","appendShortTermToken","assign","url","copyToClipboard","dispatch","idTerm","_this9","AnnotationTerm","finish","idUser","_this10","findUserByTerm","_this11","_callee4","_context4","idTrack","_this12","_callee5","_context5","AnnotationTrack","_this13","_callee6","_context6","addComment","unshift","_this14","deleteAnnot","_this15","_callee7","_context7","_this16","_callee8","_context8","ALGO","AnnotationCommentCollection","fetchAll","PropertyCollection","t1","style","webpackContext","req","webpackContextResolve","e","Error","code","keys","resolve","background","welcomeMessage","recentProjects","row","projects","nbImages","nbUserAnnots","nbReviewed","lastOpenedImage","blindMode","fullHeightCard","idProject","idImage","figureStyle","isBlindMode","blindedName","imageName","showProject","projectName","isWebPSupported","document","createElement","getContext","toDataURL","SUPPORT_WEBP","IMAGE_FORMAT","splitImageUrl","rawUrl","URL","pathname","split","params","searchParams","host","protocol","combineImageUrl","format","URLSearchParams","formattedParams","sep","changeImageUrlFormat","newFormat","rawPreviewUrl","thumb","imageThumb","previewUrl","backgroundImage","ImagePreview","nbRecent","ImageInstanceCollection","fetchLastOpened","max","ListImagesPreview","recentProjectsId","recentImages","reduce","count","numberOfImages","lastOpened","fetchProjects","ProjectCollection","fetchNbAnnots","fetchNbAnnotations","fetchNbReviewedAnnots","fetchRecentProjectsId","listRecent","recent","fetchRecentImages","fetchWelcomeMessage","Configuration","CONFIG_KEY_WELCOME","Promise","all","catch","error","creationModal","toggleFilterDisplay","_m","filtersOpened","nbActiveFilters","availableOntologies","selectedOntologies","availableRoles","selectedRoles","availableTags","selectedTags","maxNbMembers","boundsMembers","maxNbImages","boundsImages","maxNbUserAnnotations","boundsUserAnnotations","algoEnabled","maxNbJobAnnotations","boundsJobAnnotations","maxNbReviewedAnnotations","boundsReviewedAnnotations","projectCollection","nbEmptyFilters","currentPage","perPage","openedDetails","sortField","sortOrder","revision","currentUserRoles","admin","representative","membersCount","numberOfAnnotations","numberOfJobAnnotations","numberOfReviewedAnnotations","lastActivity","excludedProperties","updateProject","deleteProject","ontologies","total","internalPerPage","internalCurrentPage","detailed","detailKey","openedDetailed","sort","order","checkable","internalCheckedRows","isRowCheckable","updateSort","column","label","index","perPageOptions","option","collection","isEmpty","refreshInterval","checkedRows","Function","internalSort","internalOrder","timeout","internalCollection","fetchPage","page","previousValue","chckedRows","clearTimeout","_arguments","showLoading","totalNbItems","u","setTimeout","trackBy","groupLabel","groupValues","options","multiple","internalCloseOnSelect","searchable","allowEmpty","disabled","selectAllAvailable","selectAll","allSelected","isOpen","allPlaceholder","displayedOptions","countNotDisplayed","$tc","Multiselect","closeOnSelect","maxNbDisplayed","opt","newValue","tooltip","isArray","smartTooltipPosition","size","min","interval","tooltipPlacement","lazy","dotSize","contained","internalValue","stopPropagation","startEdition","indexEdited","round","focus","stopEdition","nativeOn","_k","keyCode","editedValue","VueSlider","integerOnly","range","middle","values","v","_","isNaN","parsedValue","parseInt","newVal","reverse","inputSlider","canManageProject","ontologyName","onlines","representatives","managers","contributors","filteredUsers","usersToDisplay","isOnline","tooManyUsers","resolvedUser","online","displayFullName","fetchedUser","User","Username","nbDisplayed","isRenameModalActive","rename","saveOntology","isOntologyModalActive","savingOntology","errorOntologies","loadingOntologies","selectedOntology","cannotDeleteOntology","active","newName","extends","CytomineModal","currentName","RenameModal","val","OntologyCollection","light","a","b","localeCompare","updatedProject","forceOntologyUpdate","counts","response","errorValues","algoAssociatedTermsCount","reviewedAssociatedTermsCount","userAssociatedTermsCount","ListUsernames","ProjectActions","adminByNow","managersIds","manager","fetchCreator","fetchManagers","fetchAdministrators","fetchRepresentatives","fetchMembers","fetchUsers","fetchOnlines","fetchConnectedUsers","createProject","ufiles","idOntology","Ontology","Project","uFile","ImageInstance","baseImage","commit","$router","status","mounted","$eventBus","$on","beforeDestroy","$off","isManager","isRepresentative","IconProjectMemberRole","CytomineTable","ProjectDetails","AddProjectModal","CytomineMultiselect","CytomineSlider","contributorLabel","managerLabel","ALGORITHMS_ENABLED","sync","debounce","_toConsumableArray","querySearchTags","$route","query","tags","syncMultiselectFilter","syncBoundsFilter","selectedOntologiesIds","boundsFilters","bounds","withMembersCount","withLastActivity","withCurrentUserRoles","in","join","toLowerCase","ilike","encodeURIComponent","_step","_iterator","_createForOfIteratorHelper","done","_step$value","lte","err","f","fetchOntologies","fetchMaxFilters","queriedTags","tag","stats","fetchBounds","fetchTags","TagCollection","t2","t3","projectToDelete","newUploadError","formatInfos","remarks","labelButton","storages","extendedName","selectedStorage","selectedProjects","dropFiles","wrapper","idx","file","filesize","uploadedFile","progress","startUpload","cancelUpload","ongoingUpload","overallProgress","plainFiles","filesChange","filesPendingUpload","startAll","cancelAll","filesFinishedUpload","hideFinished","debounceSearchString","availableVendors","selectedVendors","availableFormats","selectedFormats","availableMagnifications","selectedMagnifications","maxHeight","boundsHeight","maxWidth","boundsWidth","aiIDs","metadataKeys","metadataMax","metadataType","uploadedFileCollection","tableRefreshInterval","thumbURL","Authorization","originalFilename","projectPlaceholders","selectedProjectsToLink","$set","filteredProjects","addImage","updatedTree","createModal","stripIDfromKey","keywords","toRemove","words","word","striped","keyword","substr","lastIndexOf","filterAutoCompletion","suggestions","subKeys","subKey","suggestion","iconOnly","textClass","iconClass","labels","isSuccessful","nbChildren","tagClass","UploadedFileStatus","CONVERTED","DEPLOYED","_defineProperty","UPLOADED","ERROR_FORMAT","ERROR_CONVERSION","EXTRACTED","ERROR_DEPLOYMENT","DETECTING_FORMAT","EXTRACTING_DATA","ERROR_EXTRACTION","CONVERTING","DEPLOYING","download","samplePreview","macroURL","slidePreview","nbUploadedFiles","nbPerPage","filename","webpSrc","jpegSrc","macro","extraParameters","formatSrc","splitURL","urlParts","set","_i","_Object$entries","entries","_Object$entries$_i","_slicedToArray","combineURL","associatedImageURL","ImageThumbnail","rootId","uploadedFiles","UploadedFileCollection","root","findRoot","fetchAbstractImage","UFStatus","AbstractImage","createNodes","directChildren","missingIds","lTree","UploadedFile","downloadURL","_x2","base","deleteFile","_callee9","_context9","projectNames","imageNames","names","filters","removeFilter","filteredKeys","currentKey","searchKey","sliderValue","Date","searchValue","searchChoices","searchImage","imageIds","currentValue","sliderValues","searchModule","item","fetchAutoCompletion","Cytomine","instance","api","searchTerm","encodeURI","$forceUpdate","filteredImageIds","post","endsWith","vendors","hamamatsu","imgPath","require","aperio","leica","roche","philips","vendorFromFormat","UploadedFileStatusComponent","UploadedFileDetails","MetadataFilter","timeoutRefreshSessionUploads","STORAGE_REFRESH_INTERVAL","abstractImages","filteredImageIDs","signature","signatureDate","ids","ai","contentType","finishedStatus","uploading","nbUploads","totalProgress","floor","queryString","str","CYTOMINE_CORE_HOST","multiSelectFilters","selected","onlyRootsWithDetails","_step2","_iterator2","_step2$value","filteredIDs","toISOString","fetchSignature","method","date","addAbstractImage","oldMaxHeight","oldMaxWidth","magnification","vendorFormatted","fetchMetadata","height","width","getMagnification","getVendor","vendor","propsTranslation","filteredUFileCollection","Set","add","isNumeric","k","fetchAbstractImages","formats","magnifications","aiToImages","_loop","AbstractImageCollection","delegateYield","fetchStorages","StorageCollection","storage","_context10","_callee10","_context11","fetchFormatInfos","_callee11","_context12","refreshStatusSessionUploads","_callee13","pendingStatus","unfinishedConversions","statusChange","_context14","_callee12","oldStatus","_context13","ONGOING_UPLOAD_REFRESH_INTERVAL","files","processed","cancelToken","fileWrapper","formData","FormData","append","axios","CancelToken","source","CYTOMINE_UPLOAD_HOST","headers","publicKey","onUploadProgress","loaded","token","then","isCancel","finally","cancel","nbFiles","_callee14","_context15","_x3","includeImageIDs","imageIDs","$delete","activated","deactivated","filteredOntologies","selectOntology","deleteOntology","renameOntology","addOntology","fullOntology","nbProjects","creatorFullname","managedProjects","hasAccessToAllProjects","allProjectsAreCollaborative","manageAllProjects","isRestricted","isReadOnly","mp","fetchOntology","filterKey","filterValue","fetchManagedProjects","oldName","createOntology","OntologyDetails","AddOntologyModal","idTargetOntology","state","selectTargetOntology","sortOntologies","findIndex","maxNbJobs","boundsJobs","maxNbSuccessJobs","boundsSuccessJobs","onlyLastReleases","onlyExecutables","filteredSoftwares","field","software","sortBySoftwareStatus","executable","numberOfJob","numberOfSuccess","updateSoftware","deleteSoftware","softwareVersion","deprecated","canManageSoftware","executeCommand","pullingCommand","sourceCodeProviderIcon","sourceCodeProvider","prefix","environmentProviderIcon","environmentProvider","dockerUsername","supportedProviders","provider","formatProvider","sourceCodeProviderLink","environmentProviderLink","SoftwareSourceButtons","SoftwareSource","BooleanItem","SoftwareStatus","fetchData","promises","fetchSource","softwareUserRepository","TrustedSource","isBetweenBounds","SoftwareDetails","softwares","syncFilter","filtered","listSoftware","asc","getSoftwareStatusValue","updatedSoftware","populate","softwareToDelete","softwareName","SoftwareCollection","canAddImage","addImageModal","metadata","availableResolutions","imageCollection","refreshData","selectedResolutions","storeOptions","rootModuleProp","localSyncMultiselectFilter","filterName","localSyncBoundsFilter","maxProp","resolutions","showSpecificMetadata","storeModule","metadataFilteredProperties","isBlindModeAndContributor","isMetadataModalActive","physicalSizeX","physicalSizeY","physicalSizeZ","fps","formatMinutesSeconds","time","apparentChannels","samplePerPixel","reviewed","cancelReview","isCalibrationModalActive","isMagnificationModalActive","canDownloadImages","onlyMetadataProperties","setMagnification","fieldType","newMagnification","currentProject","updateImage","setResolution","calibrationFieldX","calibrationFactorX","calibrationFieldZ","calibrationFactorZ","calibrationFieldT","x","y","z","styleImagePreview","rotationAngle","rotate","filteredProps","clientWidth","clientHeight","minutes","remainder","seconds","milliseconds","padStart","slicePositionToRank","channel","zStack","MagnificationModal","CalibrationModal","ImageMetadataModal","ImageStatus","areImagesDownloadable","imageNameNotif","METADATA_PREFIXES","errorLabel","stopReview","deleteImage","wasAdded","isInProject","idsAddedImages","abstractImage","inProject","ImageDetails","AddImageModal","MetadataSearch","selectedContentTypes","allowUnknown","ct","_Object$values","fetchFilters","countImageAnnotations","countImageJobAnnotations","countImageReviewedAnnotations","list","fetchImages","permissionError","notFoundError","prevRoute","resolution","beforeRouteEnter","to","vm","loadImage","allowedCategorizations","selectedCategorization","allowedSizes","selectedSize","colors","selectedColor","annotationTypes","selectedAnnotationType","additionalTermNodes","selectedTermsIds","filteredTracks","additionalTrackNodes","selectedTracksIds","tagsOptions","jobAnnotationOption","userJobs","selectedUserJobs","userAnnotationOption","filteredMembers","selectedReviewers","tooManyImages","selectedImages","toDate","fromDate","scrollHandler","limitedCategoryOptions","showList","categorization","hexaCode","allUsers","isByTerm","multipleTermsOption","noTermOption","noTerm","isByTrack","multipleTracksOption","noTrackOption","noTrack","selectedTagsIds","isByTag","noTagOption","noTag","selectedImagesIds","selectedUsersIds","reviewUsersIds","afterThan","beforeThan","viewAnnot","areAllOptionsLoaded","loadCategories","styles","placeholder","minDate","maxDate","moment","months","weekdaysMin","resetButton","activeSelector","displayedSelectedTerms","composing","handleSelection","getAllTerms","processNodes","allTerms","input","isInViewer","titlePrefix","titleSuffix","nbAnnotations","annotations","annot","activeSlicesIds","allImages","allTracks","opened","modifiers","clickable","styleAnnotDetails","currentTarget","sameViewOnClick","showDetails","showSliceInfo","AnnotationDetails","revisionCrop","cropParameters","square","complete","thickness","increaseArea","rev","draw","updated","cropUrl","annotationCropURL","backgroundRepeat","trySameView","el","isSameNode","previewButton","reloadAnnotationCropHandler","multipleTerms","multipleTracks","termsIds","tracksIds","tagsIds","imagesIds","usersIds","slicesIds","allTags","visible","AnnotationPreview","pendingReload","savedSlice","isByUser","isByImage","isUncategorized","filteredTermsIds","filteredTracksIds","MAX_IMAGES_FOR_FILTER","AnnotationCollection","multipleTerm","multipleTrack","reviewUsers","showTerm","showGIS","showTrack","showWKT","showImage","showSlice","projectModule","imageModule","imageWrapper","annotationsList","currentPages","listAnnotations","activeSlices","activeSliceWithSmallestRank","orderBy","newCollection","oldCollection","initialize","findPage","countCollection","beforeSlice","t4","ceil","setLoading","isCluster","feature","createStrokeStyle","opacity","colorArray","hexToRgb","colorWithOpacity","stroke","Stroke","Style","Circle","radius","createLineStrokeStyle","createStroke","ANNOTATION_STROKE_COLOR","black","createColorStyle","fill","Fill","circleStyle","setOpacity","createColorLineStyle","textFill","textStroke","createTextStyle","fontSize","Text","font","overflow","blue","green","lightGreen","red","lightRed","white","blueStroke","greenStroke","lightGreenStroke","redStroke","lightRedStroke","whiteStroke","selectStroke","ANNOTATION_STROKE_SELECT_COLOR","trackedSelectStyles","selectStyles","verticesStyle","geometry","coordinates","getGeometry","getCoordinates","MultiPoint","reviewedStyles","reviewedSelectStyles","rejectedStyles","rejectedSelectStyles","changeOpacity","getStroke","getColor","getFill","getImage","createDefaultColor","defaultColors","freeze","displayedSelectedTracks","categoryBatch","CATEGORY_ITEMS_PER_BATCH","TrackTreeMultiselect","CytomineDatepicker","OntologyTreeMultiselect","ListAnnotationsBy","projectUsers","reviewedAnnotationOption","uncategorizedOption","nLoadedOptionsPerCategory","ANNOTATIONS_MAX_ITEMS_PER_CATEGORY","categorizations","targetAnnotationType","hideUsersLayers","hideAdminsLayers","idManagers","termsOptions","termOptionsIds","tracksOptions","trackOptionsIds","getTime","setHours","querySearchImage","img","categoryOptions","scrollBlock","listAnnots","actualScrollPos","scrollTop","scrollHeight","newCount","UserCollection","fetchUserJobs","UserJobCollection","userJob","fetchTracks","TrackCollection","getDownloadURL","resetPagesAndFilters","queriedImage","queriedUserJob","uj","activeTab","endDate","startDate","activeComponent","daysRange","nbProjectVisits","nbImageConsultations","nbAnnotationSelections","selectedTerms","styleAnnotationTermChart","nbElemsAnnotationTermChart","styleAnnotationContributorChart","nbElemsAnnotationContributorChart","Bar","_annotationsEvolution","annotationsEvolution","chartData","locale","$i18n","queryParams","accumulate","reverseOrder","updateChart","updateLabels","fetchAnnotationsEvolution","annotationType","datasets","$options","$data","_chart","backgroundColor","borderWidth","renderChart","maintainAspectRatio","scales","yAxes","ticks","xAxes","categoryPercentage","gridLines","display","defaultColor","HorizontalBar","leafsOnly","doRenderChart","borderColors","fetchStatsTerms","_hexToRgb","_hexToRgb2","g","factor","borderColor","hoverBorderColor","legend","suggestedMax","addPlugin","ChartDataLabels","fetchStatsAnnotatedImagesByTerm","contribs","fetchStatsAnnotationCreators","fetchStatsAnnotatedImagesByCreator","projectConnections","imageConsultations","annotationSelections","fetchProjectConnections","fetchConnectionsEvolution","fetchImageConsultations","fetchImageConsultationsEvolution","fetchAnnotationSelections","fetchAnnotationActionsEvolution","action","NumberAnnotationsChart","AnnotationTermChart","AnnotatedImagesByTermChart","AnnotationContributorChart","AnnotatedImagesByContributorChart","ActivityOverviewChart","_nbAnnotations","dayDuration","intervalDuration","loadData","fetchNbConnections","fetchNbImageConsultations","fetchNbAnnotationSelections","fetchNbAnnotationActions","lastUpdate","availableStatus","selectedStatus","onlineIds","role","managerRole","lastImageId","lastImageName","lastConnection","frequency","contributorRole","onlineStatus","offlineStatus","statusKnown","includeOnline","includeOffline","MEMBERS_ACTIVITY_REFRESH_INTERVAL","fetchUsersActivity","firstname","lastname","selectedUser","uJob","actions","formattedActions","month","refDate","days","day","loadedAllActions","loadActions","enter","leave","route","showPreview","ANNOT","IMAGE","PROJECT","actionData","JSON","parse","serviceName","annotationHandler","imageHandler","deleted","projectHandler","addCommandHandler","editCommandHandler","newUserAnnotation","newReviewedAnnotation","newAlgoAnnotation","newAnnotation","newImageInstance","className","ActivityLogsItem","offset","nbActionsPerPage","fullData","results","lastDate","idxMonths","idxDays","isSame","listActions","bottom","_this$actions","fetchCommandHistory","ActivityLogs","defaultTab","queriedTab","tab","ProjectActivityCharts","MembersActivity","ProjectActivityLogs","changeTab","canAddJob","launchModal","availableSoftwares","selectedSoftwares","availableLaunchers","selectedLaunchers","selectedDate","jobCollection","job","number","deleteJob","addJob","jobStatusMapping","_Object$freeze","JobStatus","RUNNING","statLabel","SUCCESS","FAILED","NOTLAUNCH","WAIT","INQUEUE","INDETERMINATE","KILLED","PREVIEWED","isRunning","statusComment","showParameters","jobParameters","param","humanName","isFinished","isJustFinished","log","showLog","canManageJob","hasAnnotationResult","allData","hasFileResult","jobData","viewData","downloadData","dataDeleted","relaunchJob","deletionModal","confirmJobDeletion","confirmJobKilling","deleteData","annotationsTerm","jobDatas","deletionTask","task","lastComment","TASK_REFRESH_INTERVAL","refresh","updatedTask","Task","REFRESH_INTERVAL","JOB_DETAILS_REFRESH_INTERVAL","REFRESH_LOG_INTERVAL","JOB_LOGS_REFRESH_INTERVAL","CytomineTask","justFinishedInterval","timeoutRefresh","now","force","Job","fetchLog","viewURL","maxRetries","fetchAllData","JobDataCollection","deleteAllData","killJob","kill","newJob","copy","execute","createJob","executableSoftwares","selectedSoftware","paramsMandatoryNoDefault","optionalParams","showOptional","prefilledParams","showPrefilled","validationName","validationRules","uriPrintAttribut","areAnnotationObjects","smallCropURL","areTermObjects","areJobObjects","formatJob","inject","processedUri","uri_","basePath","required","decimal","objectsClass","getInitialValue","defaultParamValue","attribute","_yield$Cytomine$insta","uriSortAttribut","paramName","JobParameterRow","parameters","JobParameter","softwareParameter","JobDetails","AddJobModal","availableFavorites","selectedFavorites","JobCollection","gte","fetchMultiselectOptions","jobToDelete","refreshJobs","editingMode","hideManagersLayers","hideContributorsLayers","layerToAdd","unselectedLayers","layer","addDefaultLayer","selectedLayers","saveDefaultLayer","defaultLayers","hideByDefault","deleteDefaultLayer","imagesDownloadable","externalProjectUpdate","defaultPropertyProp","keysAnnotationProps","fetchKeysAnnotationProperties","fetchDefaultPropertyProp","projectProps","DEFAULT_PROPERTY_KEY","Property","onCancel","isNew","DefaultProperty","layers","currentEditingMode","defaultLayer","selectedLayersIds","initData","fetchDefaultLayers","ProjectDefaultLayerCollection","newProps","ProjectDefaultLayer","addMemberModal","confirmMembersRemoval","MemberCollection","representativeRole","confirmToggleManager","toggleRepresentative","ldap","LDAP","displayMemberOrigin","exportURL","refreshMembers","addMembers","notMemberUsers","projectMembersIds","projectMembers","newProjectMembers","addUsers","AddMemberModal","removeSelectedMembers","deleteUsers","toggleManager","ProjectRepresentative","deleteAdmin","addAdmin","customUITree","category","superscript","icon","iconComponent","customUI","ADMIN_PROJECT","isParentDisabled","toggleProp","CONTRIBUTOR_PROJECT","staticStyle","parentConfiguration","IconLineFreeHand","IconPolygonFreeHand","userType","saveUIConfig","fetchUIConfig","loadingToggleSoftware","toggleSoftware","softwareProject","SoftwareProject","promiseSoftwares","promiseSoftwareProjects","softwareProjects","SoftwareProjectCollection","sp","filteredImageFilters","toggleFilter","imageFilters","imgFilter","filterProject","imageFilterProject","ImageFilterProject","imageFilter","promiseFilters","promiseFiltersProjects","filtersProject","ImageFilterCollection","ImageFilterProjectCollection","available","fp","GeneralConfiguration","ProjectMembers","CustomUIProject","ProjectSoftwares","ProjectImageFilters","editDetails","updatedUser","email","language","languages","savePassword","passwordExpired","typeCurrentPassword","messageCurrentPassword","isCheckingPassword","currentPassword","newPasswordDisabled","newPassword","is","confirmPassword","privateKey","regenerateKeys","Vue","use","VueI18n","fallbackLocale","messages","changeLanguageMixin","changeLanguage","$moment","rolesMapping","mixins","correctPassword","checkPassword","userNewPassword","password","scope","checkCurrentPassword","projectBlind","_ref4","pathSearchString","querySearchString","lowCaseSearchString","errorBadImageProject","cells","cell","elementHeight","elementWidth","closeMap","shortkeysMapping","shortkeyEvent","isActiveImage","zoom","projectionName","projectedMousePosition","coordinate","updateKeyboardInteractions","center","rotation","maxZoom","pow","extent","viewMounted","addOverviewMap","baseLayerURLs","imageSize","imageServerUrl","tileSize","setBaseSource","activeSelectInteraction","activeDrawInteraction","activeModifyInteraction","takeScreenshot","isPanelDisplayed","activePanel","togglePanel","view","animate","fitZoom","layersToPreload","tracking","broadcast","centerViewOnAnnot","overviewCollapsed","imageExtent","loaderFactory","strategyFactory","styleFunctionFactory","Action","SELECT","CREATE","UPDATE","DELETE","updateTermProperties","_updateTermProperties","annotTerms","mapping","AnnotationTermCollection","updateTrackProperties","_updateTrackProperties","annotTracks","AnnotationTrackCollection","annotBelongsToLayer","isReviewed","isReview","WKT","lastExtent","clustered","maxResolutionNoClusters","imageInstance","sliceIds","annotsIdsToSelect","selectedFeatures","annotsToSelect","ongoingEdit","layersOpacity","displayNoTerm","noTermOpacity","selectedPropertyKey","selectedPropertyColor","review","reviewMode","wrappedTracks","clearFeatures","cache","olSource","addAnnotationHandler","addFeature","createFeature","selectAnnotationHandler","olFeature","getFeatureById","reloadAnnotationsHandler","_ref2$clear","clear","_ref2$hard","hard","loader","reviewAnnotationHandler","deleteAnnotationHandler","editAnnotationHandler","setGeometry","readGeometry","indexSelectedFeature","ftr","indexFeature","removeFeature","$source","loadedExtentsRtree_","fetchAnnots","annots","notReviewedOnly","bbox","kmeans","updateFeature","getId","isFeatureSelected","storedAnnot","sameTerms","arrayAnnots","wasClustered","seenAnnots","features","obj","getFeatures","getFeaturesInExtent","readFeature","setId","terms1","terms2","transform","degreesRotation","increment","viewerModule","PI","inc","interpolation","scaleLineLength","scaleLength","mousePosition","unit","toPrecision","isToolDisplayed","activeTool","activateTool","isToolDisabled","accept","reject","termsToAssociate","disabledDraw","disabledDrawMessage","backgroundTermsNewAnnot","searchStringTerm","tracksToAssociate","backgroundTracksNewAnnot","searchStringTrack","refreshTracks","displayAnnotDetails","selectedFeature","activeEditTool","activateEditTool","disabledPaste","paste","maxRepeats","showRepeatSelector","nbRepeats","repeat","undo","undoneActions","redo","viewerWrapper","multipleActiveSlices","termsNewAnnots","tracksNewAnnots","tool","noActiveLayer","drawOn","undoRedo","activeImage","copiedAnnot","rank","geomType","Annotation","containsExtent","getExtent","translate","writeGeometry","opposedAction","reverseAction","command","newType","newAnnot","_collection","_newAnnot","lastCommand","getUpdatedAnnotation","jsonAnnot","reviewedannotation","reviewedAnnot","parentIdent","shortkeyHandler","isImageMultidimensional","hasChannels","areChannelsMergeable","currentChannelsIndexesOption","setCurrentChannelsIndexes","orderedCurrentChannels","currentChannelsIndexes","channelOptions","currentSlice","hasChannelName","channelValue","currentChannelIndex","hasDepth","currentZStackIndex","hasDuration","currentTimeIndex","forward","canShift","shiftOne","selectorPlacement","arg","step","current","dimension","controls","shiftDirection","inputStepSelector","ImageControlsShiftButtons","currentSlices","nbSlices","seek","showMultiChannels","sliceInstances","channelName","channelIndex","MAX_MERGEABLE_CHANNELS","info","goToRank","canShiftForward","canShiftBackward","selectAnnotation","centerView","sameView","updateTermsOrTracks","updateProperties","handleDeletion","reload","positionAnnotDetails","dragStop","profiles","VueDraggableResizable","profile","targetAnnot","handleResize","maxX","maxY","playground","detailsPanel","addEventListener","destroyed","removeEventListener","AnnotationDetailsContainer","panel","updatedAnnot","_ref2$sameView","calibrationModal","isFirstImage","previousImage","isLastImage","nextImage","fetchPrevious","fetchReferenceSlice","fetchNext","closeMetadata","digitalZoom","areBoundsAdjustedToSlice","adjustAllToSlice","adjustImageLabel","areBoundsAdjustedToImage","adjustAllToImage","areBoundsDefault","resetAll","histogramLogScale","intensitiesByMinMax","filteredManipulableChannels","mc","isApparentChannelVisibilityDisabled","setApparentChannelVisibility","sample","setApparentChannelColor","toggleLookUpTableDetails","isVisibleLookUpTableDetails","histogram","nBins","firstBin","lastBin","defaultBounds","minimum","maximum","gamma","inverted","manipulableChannels","imageBounds","setApparentChannelBounds","adjustToImage","adjustToSlice","setApparentChannelGamma","setApparentChannelInverted","selectedFilter","sameHistogramBounds","bounds1","bounds2","showColorSelector","formattedColor","setColor","editableColor","openColorSelector","formattedName","sampleIndex","nbSamplesPerChannel","rgbColors","leading","showAdjustButtons","arrayBounds","setBounds","brightness","setBrightness","contrast","setContrast","sliceBounds","defaultRange","defaultCenter","deep","handler","computeBrightness","computeContrast","second","mid","slope","Line","logScale","currentBounds","extendedHistogram","missingLeft","missingRight","logHistogram","scaledHistogram","binSize","integerBinSize","imageBoundsLabel","findLabel","currentBoundsLabel","boundsLabel","currentLabels","systemResponse","nbPoints","ymin","ymax","uniqBy","pointRadius","pointHoverRadius","cubicInterpolationMode","yAxisID","findBin","tooltips","tooltipItem","datasetIndex","callbacks","exp","tooltipItems","left","right","responsive","animation","scaleLabel","AdjustableLookUpTable","CytomineChannel","HistogramChart","histograms","visibleLookUpTableDetails","sliceChannels","plane","bitPerSample","_this$apparentChannel","ac","h","apparentChannel","visibleManipulableChannels","_this$manipulableChan","nbVisibleManipulableChannels","_this$visibleManipula","_this$visibleManipula2","_this$visibleManipula3","_this$visibleManipula4","_this$visibleManipula5","_this$visibleManipula6","_this$visibleManipula7","_this$visibleManipula8","fetchHistograms","indexApparentChannel","isColormap","manipulableChannel","found","fetchChannelHistograms","prefixes","imagingServer","baseUrl","linkMode","modeOptions","linkedIndexes","imagesWithNum","unlink","otherGroups","otherSoloImages","handleCheckboxChange","indexImage","revisionNumber","linkGroups","links","linkGroupsWithNum","indexCurrentGroup","group","inGroupsIndexes","idxs","trackedUser","indexGroup","checked","link","selectedLayer","layerName","addLayer","toggleLayerVisibility","canDraw","toggleLayerDrawOn","removeLayer","indexLayers","layersIds","nbReviewedAnnotations","cnt","countReviewedAnnotation","hasReviewLayer","reviewLayer","fetchIndexLayers","layerId","addLayerById","addAnnotationEventHandler","saved","annotationEventHandler","deleteAnnotationEventHandler","indexLayer","countAnnotation","algo","fetchLayers","idLayers","fetchUserLayers","fetchAnnotationsIndex","groupBy","flat","userIndexLayers","layersToAdd","addedIds","termsMapping","toggleTermVisibility","resetOpacities","indexTerm","propertiesKeys","disabledBroadcast","broadcastModel","followers","trackedUserModel","onlineManagers","onlineContributors","onlineUsers","timeoutOnlineUsers","timeoutTracking","wsUserPositionPath","replaceAll","userPostitionWebsock","wsConnected","wsInterval","viewerPositionChanged","lastPositionUpdate","projectManagers","projectContributors","linkedIndexTracking","alreadyBroadcastingImage","trackedUserFullName","fetchOnline","stopTrack","initWebSocket","setInterval","sendPosition","TRACKING_REFRESH_INTERVAL","clearInterval","initTracking","onopen","onOpentracking","WebSocket","onOpen","onclose","onClose","onmessage","onMessage","send","pos","moveView","shouldRefreshForKeepAlive","WS_POSITION_KEEP_ALIVE_INTERVAL","stringify","viewCenter","UserPosition","fetchLastPosition","followersIds","userId","imageId","BROADCASTING_USERS_REFRESH_INTERVAL","isReviewer","reviewStop","unvalidate","visibleUserLayers","taskReviewAll","reviewAll","validate","reviewStart","startReview","visibleUserLayerIds","commitImage","filterFunction","never","shiftKeyOnly","notAnnotations","previousTarget","selectionTargetedFeatures","previousSelectedFeature","visitedFeatures","recordAction","selectedPropertyValues","interactionSelect","$interaction","ft","changed","drawSourceName","nbActiveLayers","drawCorrection","drawType","drawFreehand","drawGeometryFunction","drawEndHandler","rotatedCoords","rotateCoords","_rotatedCoords","firstCorner","thirdCorner","secondCorner","fourthCorner","rotatedBoxCoordinates","boxCoordinates","setCoordinates","Polygon","activeLayers","olDrawInteraction","scheduleRecreate","coords","theta","cosTheta","cos","sinTheta","sin","clearDrawnFeatures","olSourceDrawTarget","endCorrection","endDraw","drawnFeature","getWktLocation","correctedAnnot","correctAnnotations","getType","polygonFromCircle","writeFeature","selectSource","deleteCondition","insertVertexCondition","startEdit","endEdit","isRectangle","getLinearRingCount","prevX","prevY","xChanged","yChanged","mapBrowserEvent","originalEvent","ctrlKey","singleClick","features_","getArray","oldLocation","AnnotationLayer","RotationSelector","ScaleLine","DrawTools","ImageControls","AnnotationsContainer","InformationPanel","MetadataPanel","DigitalZoom","ColorManipulation","LinkPanel","LayersPanel","OntologyPanel","PropertiesPanel","FollowPanel","ReviewPanel","SelectInteraction","DrawInteraction","ModifyInteraction","minZoom","baseSource","routedAnnotation","selectedAnnotation","timeoutSavePosition","overview","_document","routedAction","viewState","baseLayerProcessingParams","baseLayerSliceParams","z_slices","timepoints","baseLayerURLQuery","getCollapsed","correction","idealZoom","container","mapWidth","mapHeight","savePosition","setInitialZoom","updateMapSize","updateSize","$createPromise","$map","getInteractions","interaction","KeyboardPan","KeyboardZoom","condition_","noModifierKeys","targetNotEditable","baseLayer","OverviewMap","View","projection","$layer","tipLabel","collapsed","addControl","getOverviewMap","evt","getSize","getView","centerOn","toggleOverview","setCollapsed","$view","calculateExtent","bottomLeftX","bottomLeftY","bottomRightX","bottomRightY","topLeftX","topLeftY","topRightX","topRightY","SAVE_POSITION_IN_IMAGE_INTERVAL","fit","padding","getFirstCoordinate","centroid","_ref2$center","_ref2$showComments","sliceChange","SliceInstance","containerHeight","querySelector","$html2canvas","href","click","idRoutedAnnot","getProj","createProj","units","addProj","idAnnotation","ImageConsultation","imageSelectorEnabled","displayedImages","imageThumbUrl","nbImagesDisplayed","filteredImages","more","content","imageSelector","toggle","getDefaultState","expandedSidebar","namespaced","mutations","setUser","setShortTermToken","setAdminByNow","setExpandedSidebar","resetState","fetchUser","fetchCurrent","updateUser","openAdminSession","closeAdminSession","_ref5","login","_ref6","payload","rememberMe","currentShortTermToken","rootState","currentViewer","currentMetadataSearch","setProject","setOntology","setConfigUI","config","setManagers","setMembers","setCurrentViewer","setImageFormat","setCurrentMetadataSearch","removeMetadataFilter","resetMetadataFilters","loadProject","projectChange","ProjectConnection","reloadProject","reloadOntology","fetchUIConfigCurrentUser","fetchProjectMembers","_ref7","ProjectMemberRole","MANAGER","REPRESENTATIVE","fetchFollowers","_ref8","_ref9","canEditLayer","idLayer","canEditAnnot","canEditImage","idsManagers","currentProjectModule","viewers","currentViewerModule","setSelectedOntology","setSearchString","setFiltersOpened","setFilter","propValue","setCurrentPage","setPerPage","setSortField","setSortOrder","setOpenedDetails","setSort","Vuex","store","Store","logout","unregisterModule","listProjects","strict","process","getModuleNamespace","pathes","_modulesNamespaceMap","moduleNamespace","context","nbBitsPerSample","gammaPerApparentChannel","invertedPerApparentChannel","setIdImage","setNbBitsPerSample","setNbSamplesPerChannel","setGammaPerApparentChannel","setInvertedPerApparentChannel","setHistogramLogScale","setIntensitiesByMinMax","setApparentChannels","resetApparentChannel","resetApparentChannels","resetApparentChannelIntensities","resetApparentChannelsIntensities","allBounds","setChannelsVisibility","resetImageColorManipulationSettings","setImageInstance","_ref10","refreshApparentChannels","_ref11","_ref12","formatApparentChannels","fetchApparentChannels","resetColorManipulation","_ref13","_ref14","_ref15","setActiveSlice","_ref16","setActiveSliceByPosition","_ref17","_ref18","setActiveSlicesByPosition","_ref19","_ref20","tileRequestParams","visibleApparentChannels","min_intensities","max_intensities","gammas","colormaps","formatColormapRequestParam","nBits","autoAdjustBounds","_ref21","_fetchApparentChannels","fetchChannelHistogramBounds","formatApparentChannel","onlyIntensities","setOngoingEdit","setTermsNewAnnots","filterTermsNewAnnots","idTerms","setTracksNewAnnots","filterTracksNewAnnots","idTracks","previousTool","rootGetters","filterSelectedLayers","setPropertiesKeys","setSelectedPropertyKey","setSelectedPropertyColor","setSelectedPropertyValues","addSelectedPropertyValues","newValues","_yield$Promise$all","_yield$Promise$all2","projectProperties","fetchPropertiesKeys","layerValues","fetchLayerPropertiesValues","propValues","refreshProperties","newKey","_fetchLayerPropertiesValues","propertiesValues","fetchPropertiesValuesAndPositions","propVal","_x4","_fetchPropertiesKeys","setSelectionTargetedFeatures","targetedFeatures","setSelectedFeatures","newSelectedFeatures","currentSelectedFeatures","clearSelectedFeatures","selectFeature","createGeoJsonFmt","writeFeatureObject","changeAnnotSelectedFeature","removeLayerFromSelectedFeatures","_ref2$cache","removeTermFromSelectedFeatures","removeNoTermFromSelectedFeatures","setAnnotToSelect","setShowComments","setDisplayAnnotDetails","setPositionAnnotDetails","setActiveSlices","initialTermsOpacity","initialTracksOpacity","initialLayersOpacity","noTermStyle","defaultStyle","multipleTermsStyle","multipleTracksStyle","formatTerm","setTerms","setWrappedTracks","formatTracks","setDisplayNoTerm","setTermOpacity","olStyle","olLineStyle","setNoTermOpacity","resetTermOpacities","setLayersOpacity","formatTerms","toggledTerm","tracksMapping","hiddenTermsIds","previousTerms","nbTerms","prevTerm","previousTracks","nbTracks","_loop2","prevTrack","formatTrack","setBroadcast","setTrackedUser","resetActions","addAction","undoAction","pop","redoAction","setCenter","setZoom","setRotation","setDigitalZoom","setOverviewCollapsed","setReviewMode","setTracks","_fetchTracks","setShowAnnotationsList","DEFAULT_IMAGE_CONTROLS_STEP","setStep","loadedSlicePages","clearSliceInstances","setSliceInstances","acc","setLoadedSlicePage","setProfile","setRoutedAnnotation","clearRoutedAnnotation","cloneDeep","idViewer","ranks","addActiveSliceChannel","activeSlice","removeActiveSliceChannel","setActiveSliceByRank","setActive","setActiveSlicesByRank","fetchSliceInstancesAround","_ref20$setActive","previous","PRELOADED_SLICES","findRankPage","SliceInstanceCollection","findSliceInstanceNbPage","genStyleFunction","wrappedTerm","hasTermsToDisplay","isRejected","wrappedTrack","DIGITAL_ZOOM_INCREMENT","channelColor","indexNextImage","setImageSelector","setActiveImage","setCopiedAnnot","setLinkMode","createLinkGroup","indexes","linkImageToGroup","mergeLinkGroups","_state$links$indexes$","unlinkImage","indexWithinGroup","changePath","router","currentRoute","pathViewer","_ref5$annot","registerModule","pathImageModule","setImageResolution","relative","refImage","increments","refZoom","indexesToUpdate","getLinkedIndexes","newCenter","diffZoom","zoomFactor","zoomIncrement","newZoom","rotationInc","newRotation","removeImage","pathModule","actionStr","_require","detect","browser","shortkey","os","CytomineImage","ImageSelector","reloadInterval","idImages","idSlices","paramIdViewer","viewer","indexImages","nbHorizontalCells","sqrt","nbVerticalCells","allowed","shortcuts","findIdViewer","old","loadViewer","imagesViewer","imagesNotInCurrentProject","viewerModuleModel","_ref4$center","_index","_yield$Promise$all3","_yield$Promise$all4","_image","_slice","srcKey","VIEWER_ANNOTATIONS_REFRESH_INTERVAL","clickHandler","isTabDisplayed","tagName","transitionEndHandler","sidebar","specificFormatFilters","previewSize","outlineColor","reviewers","setPreviewSize","setCategorization","setOutlineColor","setAnnotationType","setFromDate","setToDate","launchers","statuses","favorites","executionDate","setExecutionDate","listImages","listJobs","ProjectSidebar","projectModuleModel","resumeActivity","firstConnection","totalConnections","totalConsultations","totalAnnotationSelections","totalAnnotations","connections","connectionsPerPage","connection","countViewedImages","countCreatedAnnotations","downloadConnections","period","chartRevision","consultations","consultationsPerPage","consultation","last","browserVersion","ImageConsultationCollection","projectConnection","showDates","momentPeriod","allConnections","iterMoment","lastMoment","indexConnection","ProjectConnectionCollection","fetchConnectionsFrequency","isBefore","valueOf","endOf","ProjectConnectionDetails","LastConnectionsChart","subtract","fetchResumeActivity","fetchConnections","fetchConsultations","resume","currentStats","storageStats","usedP","mostActiveProject","totalCounts","userAnnotations","jobs","jobAnnotations","selectedChartOption","chartOptions","fetchCurrentStats","fetchTotalCounts","fetchStorageStats","startOf","startUserCreation","userCollection","getRoleData","startUserEdition","enabled","lock","unlock","editedUser","refreshUsers","isAdminConfirmed","internalUser","editableFields","editionMode","selectedRole","roles","isChangingRoleToAdmin","adminConfirm","defaultRole","defaultLanguage","rolesWithIds","displayErrors","idRole","authority","currentRole","isNotAdmin","labelTranslation","defineRole","RoleCollection","switchUser","showProjects","showManagedProjects","UserModal","UserDetails","addUserModal","withRoles","trustedSources","startSourceCreation","filteredTrustedSources","startSourceEdition","deleteSourceDialog","editedSource","addSource","updateSource","fieldLabels","internalSource","formatSource","TrustedSourceModal","addSourceModal","ts","deleteSource","sources","TrustedSourceCollection","welcomeConfig","readingRole","startTagCreation","filteredTags","creatorName","startTagEdition","deleteTagDialog","editedTag","addTag","updateTag","internalTag","Tag","TagModal","addTagModal","deleteTag","currentTag","tabNames","AdminDashboard","AdminUsers","AdminConfiguration","AdminSoftware","AdminTags","softwareParameters","softwareParametersPerPage","parameter","canManageParameter","valueKey","commandLineFlag","SoftwareStatisticsChart","SoftwareParameterDetails","idSoftware","loadSoftware","fetchSoftware","fetchSoftwareParameters","Software","SoftwareParameterCollection","routes","GlobalDashboard","ListProjects","CytomineStorage","ListOntologies","ListSoftware","SoftwareInformation","AdvancedSearch","Account","CytomineProject","ProjectHome","ListImages","CytomineViewer","ImageInformation","ListAnnotations","ListJobs","ProjectActivity","MemberActivityDetails","ProjectInformation","ProjectConfiguration","PageNotFound","UserActivity","AdminPanel","redirect","VueRouter","linkActiveClass","tierSizeCalculation","urls","DEFAULT_TILE_SIZE","tierSizeInTiles","tileCountUpToTier","imageWidth","imageHeight","tileSizeForTierSizeCalculation","ii","createSource","ZoomifySource","attributions","cacheSize","crossOrigin","reprojectionErrorThreshold","urlTmpl","transition","tileUrlFunction","createFromTileUrlFunctions","createFromTemplate","setTileUrlFunction","createTileGrid","TileGrid","template","tileCoord","tileCoordZ","tileCoordX","tileCoordY","tileIndex","tileGrid","getTileSize","tileWidth","tileGroup","localContext","tileSource","plugin","installed","pick","Source","operation","lib","RasterSource","setOperation","hitTolerance","createInteraction","sourceIdent","makeIdent","$identityMap","INSTANCE_PROMISE_POOL","isFunction","isCollection","TranslateInteraction","mount","unmount","subscribeAll","subscribeToInteractionChanges","makeWatchers","hasInteraction","translateEvents","observableFromOlEvent","subscribeTo","Interaction","angle","RotateFeatureInteraction","isVectorSource","pixelTolerance","createStyleFunc","wrapX","getDefaultStyles","defaultStyles","mapValues","defaultEditStyle","createStyle","getServices","mergeDescriptors","stylesContainer","getStyleTarget","setStyle","_styles","scheduleRefresh","rotateEvents","getSegmentDataUid","segmentData","uid","getUid","compareIndexes","closestOnSegmentData","pointCoordinates","GeometryType","CIRCLE","getClosestPoint","closestOnSegment","segment","_ModifyInteractionBas","_inherits","_super","_createSuper","_classCallCheck","_createClass","ignoreNextSingleClick_","willModifyFeatures_","vertex","dragSegments_","dragSegment","newVertex","getStride","POINT","MULTI_POINT","LINE_STRING","MULTI_LINE_STRING","POLYGON","MULTI_POLYGON","changingFeature_","setRadius","coordinateDistance","getCenter","setGeometryCoordinates_","createOrUpdateVertexFeature_","handlePointerAtPixel_","pixel","pixelCoordinate","getCoordinateFromPixel","modified_","vertexFeature","vertexFeature_","insertVertices","vertexExtent","boundingExtent","segmentDataMatches","rBush_","getInExtent","componentSegments","segmentDataMatch","closestVertex","coordinatesEqual","cid","segmentDataBbox","sd","otherVertices","coord","predicates","jj","insertVertexCondition_","vertexSegments_","_ret","insertVertex_","ModifyInteractionBase","condition","primaryAction","altKeyOnly","always","modifyEvents","RescaleFeatureInteraction","rescaleEvents","communicationError","openedTopMenu","nbActiveProjects","isSwitched","currentUserFullInfo","stopSwitchUser","realUser","openHotkeysModal","openAboutModal","openHotkeysModalShortcut","isActive","linkClasses","iconPack","classes","listPathes","activeElement","blur","immediate","closeProject","viewerPath","closeViewer","nbViewers","doCloseProject","filteredCategories","filteredShortcuts","shortcut","categories","version","CYTOMINE_COMMERCIAL_VERSION","deactivate","displayResults","activate","subsetProjects","highlightedName","moreProjects","subsetImages","htmlImageName","moreImages","totalNbResults","fetchAllLight","blindIndication","NavbarDropdown","NavigationTree","CytomineSearcher","hotkeysModal","aboutModal","HotkeysModal","AboutCytomineModal","forgotUsername","sendUsername","forgotPassword","resetPassword","registering","loginEnabled","allowedRegistration","success","register","Register","ifvisible","setIdleDuration","IDLE_DURATION","CytomineNavbar","Login","loginWithToken","ping","_yield$Cytomine$insta2","authenticated","PING_INTERVAL","settings","Buefy","defaultIconPack","Validator","extend","VeeValidate","i18nRootKey","i18n","Notifications","VTooltip","VueMoment","VueShortKey","prevent","VueHtml2Canvas","vClickOutside","VueLayers","RotateInteraction","RescaleInteraction","Chart","plugins","unregister","ChartZoom","helpers","merge","defaults","global","datalabels","anchor","align","clamp","productionTip","App","$mount","associatedTags","association","toUpperCase","removeTag","displayModal","addAssociations","notAssociatedTags","AddTagDomainAssociationModal","sortAssociatedTags","_tags$reduce","_tags$reduce2","existingTags","newTags","tagPromises","associationPromises","newAssocations","element","TagDomainAssociation","TagDomainAssociationCollection","arrayPath","getValue","fullPath","getMutationName","modulePath","optionsProp","selectedOptions","variableName","charAt","attachedFiles","downloadAttachedFile","selectedFile","attached","AttachedFile","AttachedFileModal","addAttachedFile","attachedFile","deleteAttachedFile","AttachedFileCollection","showBothNames","footer","escapedString","escapeRegExp","startTrackUpdate","confirmTrackDeletion","startTrackCreation","Track","createTrack","updateTrack","TrackModal","deleteTrack","filteredDomains","displayedProperty","domains","identifier","searchedProperty","selectedIds","editorOptions","expandedSpecialChars","specialCharacters","char","insertSpecialCharacter","quillEditor","toolbar","quill","getSelection","deleteText","insertText","setSelection","notEditedProperties","startPropEdition","addNewProp","editedProperties","saveProp","cancelPropEdition","newPropKey","newPropValue","showNewPropForm","editedIds","newProp","oldKey","oldValue"],"mappings":"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","file":"js/app.6a53700b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotationSelector.vue?vue&type=style&index=1&id=3ef9c304&prod&lang=css&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineChannel.vue?vue&type=style&index=1&id=23cfb05c&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Username.vue?vue&type=style&index=0&id=48b343f5&prod&scoped=true&lang=css&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdjustableLookUpTable.vue?vue&type=style&index=0&id=8590653c&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=d00c21ee&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineNavbar.vue?vue&type=style&index=0&id=564ccd5a&prod&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityCharts.vue?vue&type=style&index=1&id=a5f175d8&prod&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowPanel.vue?vue&type=style&index=0&id=f95581d2&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectMembers.vue?vue&type=style&index=0&id=6e85a606&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ontology-tree\",class:{selector: _vm.allowSelection, draggable: _vm.allowDrag, editable: _vm.allowEdition}},[_c('sl-vue-tree',{ref:\"tree\",attrs:{\"allowMultiselect\":false},on:{\"select\":_vm.select,\"drop\":_vm.drop},scopedSlots:_vm._u([{key:\"toggle\",fn:function({node}){return [(!node.data.hidden && !node.isLeaf && node.children.length > 0)?[_c('i',{class:['tree-toggle', 'fas', node.isExpanded ? 'fa-angle-down' : 'fa-angle-right']})]:_vm._e(),_c('div',{staticClass:\"sl-vue-tree-gap\"})]}},{key:\"title\",fn:function({node}){return [(!node.data.hidden)?_c('div',{staticClass:\"tree-selector\"},[(_vm.allowSelection)?_c('i',{staticClass:\"tree-checkbox\",class:_vm.classNames(node)}):_vm._e(),_c('cytomine-term',{attrs:{\"term\":node.data}})],1):_c('div')]}},{key:\"sidebar\",fn:function({node}){return [(!node.data.hidden)?_vm._t(\"custom-sidebar\",function(){return [(_vm.allowEdition)?_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.startTermUpdate(node)}}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-edit\"})])]),_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.confirmTermDeletion(node)}}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"far fa-trash-alt\"})])])]):_vm._e()]},{\"term\":node.data}):_vm._e()]}}],null,true),model:{value:(_vm.treeNodes),callback:function ($$v) {_vm.treeNodes=$$v},expression:\"treeNodes\"}}),(_vm.noResult)?_vm._t(\"no-result\",function(){return [_c('em',{staticClass:\"has-text-grey no-result\"},[_vm._v(_vm._s(_vm.$t('no-result')))])]}):_vm._e(),(_vm.allowEdition || _vm.allowNew)?_c('div',{staticClass:\"add-term-container\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.startTermCreation()}}},[_vm._v(_vm._s(_vm.$t('add-term')))])]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save()}}},[_c('cytomine-modal-card',{staticClass:\"term-modal\",attrs:{\"title\":_vm.$t(_vm.term ? 'update-term' : 'create-term')},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$parent.close()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-field',{attrs:{\"label\":_vm.$t('name'),\"type\":{'is-danger': _vm.errors.has('name')},\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('sketch-picker',{attrs:{\"presetColors\":_vm.presetColors},model:{value:(_vm.color),callback:function ($$v) {_vm.color=$$v},expression:\"color\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<form @submit.prevent=\"save()\">\r\n  <cytomine-modal-card :title=\"$t(term ? 'update-term' : 'create-term')\" class=\"term-modal\">\r\n    <b-field :label=\"$t('name')\" :type=\"{'is-danger': errors.has('name')}\" :message=\"errors.first('name')\">\r\n      <b-input v-model=\"name\" name=\"name\" v-validate=\"'required'\" />\r\n    </b-field>\r\n\r\n    <sketch-picker v-model=\"color\" :presetColors=\"presetColors\" />\r\n\r\n    <template #footer>\r\n      <button class=\"button\" type=\"button\" @click=\"$parent.close()\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n        {{$t('button-save')}}\r\n      </button>\r\n    </template>\r\n  </cytomine-modal-card>\r\n</form>\r\n</template>\r\n\r\n<script>\r\nimport {Term} from 'cytomine-client';\r\nimport {Sketch} from 'vue-color';\r\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\r\n\r\nexport default {\r\n  name: 'term-modal',\r\n  props: {\r\n    term: Object,\r\n    ontology: Object\r\n  },\r\n  components: {\r\n    'sketch-picker': Sketch,\r\n    CytomineModalCard\r\n  },\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      name: '',\r\n      color: null\r\n    };\r\n  },\r\n  computed: {\r\n    presetColors() {\r\n      return [\r\n        '#F44E3B',\r\n        '#FB9E00',\r\n        '#FCDC00',\r\n        '#68BC00',\r\n        '#16A5A5',\r\n        '#009CE0',\r\n        '#7B10D8',\r\n        '#F06292',\r\n        '#000',\r\n        '#777',\r\n        '#FFF'\r\n      ];\r\n    }\r\n  },\r\n  methods: {\r\n    randomColor() {\r\n      return '#' + (Math.random().toString(16) + '0000000').slice(2, 8);\r\n    },\r\n    async save() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      if(this.term) {\r\n        this.update();\r\n      }\r\n      else {\r\n        this.create();\r\n      }\r\n    },\r\n    async create() {\r\n      try {\r\n        let term = await new Term({name: this.name, color: this.color.hex, ontology: this.ontology.id}).save();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-term-creation')});\r\n        this.$emit('newTerm', term);\r\n        this.$parent.close();\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-term-creation')});\r\n      }\r\n    },\r\n    async update() {\r\n      let term = new Term(this.term);\r\n      term.color = this.color.hex;\r\n      term.name = this.name;\r\n      try {\r\n        await term.save();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-term-update')});\r\n        this.$emit('updateTerm', term);\r\n        this.$parent.close();\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-term-update')});\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.name = this.term ? this.term.name : '';\r\n    this.color = {hex: this.term ? this.term.color : this.randomColor()};\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.term-modal .vc-sketch {\r\n  width: auto;\r\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n}\r\n\r\n.term-modal .vc-sketch-active-color {\r\n  box-shadow: inset 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n}\r\n\r\n.term-modal .vc-sketch-saturation-wrap {\r\n  padding-bottom: 15vh;\r\n}\r\n\r\n/* hide alpha channel */\r\n.term-modal .vc-sketch-field--single:last-child {\r\n  display: none;\r\n}\r\n/* --- */\r\n\r\n.term-modal .vc-sketch-sliders {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.term-modal .vc-sketch-hue-wrap {\r\n  flex-grow: 1;\r\n}\r\n\r\n.term-modal .vc-sketch-alpha-wrap {\r\n  display: none;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TermModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TermModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TermModal.vue?vue&type=template&id=5dc37d20&\"\nimport script from \"./TermModal.vue?vue&type=script&lang=js&\"\nexport * from \"./TermModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TermModal.vue?vue&type=style&index=0&id=5dc37d20&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"ontology-tree\" :class=\"{selector: allowSelection, draggable: allowDrag, editable: allowEdition}\">\r\n  <sl-vue-tree v-model=\"treeNodes\" :allowMultiselect=\"false\" @select=\"select\" @drop=\"drop\" ref=\"tree\">\r\n    <template #toggle=\"{node}\">\r\n      <template v-if=\"!node.data.hidden && !node.isLeaf && node.children.length > 0\">\r\n        <i :class=\"['tree-toggle', 'fas', node.isExpanded ? 'fa-angle-down' : 'fa-angle-right']\"></i>\r\n      </template>\r\n      <div class=\"sl-vue-tree-gap\"></div>\r\n    </template>\r\n\r\n    <template #title=\"{node}\">\r\n      <div v-if=\"!node.data.hidden\" class=\"tree-selector\">\r\n        <i class=\"tree-checkbox\"\r\n          v-if=\"allowSelection\"\r\n          :class=\"classNames(node)\">\r\n        </i>\r\n        <cytomine-term :term=\"node.data\" />\r\n      </div>\r\n      <div v-else></div>\r\n    </template>\r\n\r\n    <template #sidebar=\"{node}\">\r\n      <slot v-if=\"!node.data.hidden\" name=\"custom-sidebar\" :term=\"node.data\">\r\n        <div v-if=\"allowEdition\" class=\"buttons\">\r\n          <button class=\"button is-small\" @click=\"startTermUpdate(node)\">\r\n            <span class=\"icon is-small\">\r\n              <i class=\"fas fa-edit\"></i>\r\n            </span>\r\n          </button>\r\n          <button class=\"button is-small\" @click=\"confirmTermDeletion(node)\">\r\n            <span class=\"icon is-small\">\r\n              <i class=\"far fa-trash-alt\"></i>\r\n            </span>\r\n          </button>\r\n        </div>\r\n      </slot>\r\n    </template>\r\n  </sl-vue-tree>\r\n\r\n  <slot v-if=\"noResult\" name=\"no-result\">\r\n    <em class=\"has-text-grey no-result\">{{$t('no-result')}}</em>\r\n  </slot>\r\n\r\n  <div v-if=\"allowEdition || allowNew\" class=\"add-term-container\">\r\n    <button class=\"button is-small\" @click=\"startTermCreation()\">{{$t('add-term')}}</button>\r\n  </div>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport SlVueTree from 'sl-vue-tree';\r\nimport CytomineTerm from './CytomineTerm';\r\nimport TermModal from './TermModal';\r\nimport {Term} from 'cytomine-client';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\n\r\nexport default {\r\n  name: 'ontology-tree',\r\n  model: {\r\n    prop: 'selectedNodes',\r\n    event: 'setSelectedNodes'\r\n  },\r\n  props: {\r\n    ontology: {type: Object},\r\n    additionalNodes: {type: Array, default: () => []},\r\n    startWithAdditionalNodes: {type: Boolean, default: false},\r\n    searchString: {type: String, default: ''},\r\n    selectedNodes: {type: Array, default: () => []},\r\n    allowSelection: {type: Boolean, default: true},\r\n    multipleSelection: {type: Boolean, default: true},\r\n    allowDrag: {type: Boolean, default: false},\r\n    allowEdition: {type: Boolean, default: false},\r\n    allowNew: {type: Boolean, default: false},\r\n    hiddenNodes: {type: Array, default: () => []}\r\n  },\r\n  components: {\r\n    SlVueTree,\r\n    CytomineTerm\r\n  },\r\n  data() {\r\n    return {\r\n      treeNodes: [],\r\n      internalSelectedNodes: [],\r\n      editedNode: null\r\n    };\r\n  },\r\n  computed: {\r\n    regexp() {\r\n      return getWildcardRegexp(this.searchString);\r\n    },\r\n    noResult() {\r\n      return this.treeNodes.every(node => node.data.hidden);\r\n    }\r\n  },\r\n  watch: {\r\n    ontology() {\r\n      this.makeTree();\r\n    },\r\n    additionalNodes() {\r\n      this.makeTree();\r\n    },\r\n    selectedNodes() {\r\n      this.internalSelectedNodes = this.selectedNodes.slice();\r\n      this.refreshNodeSelection();\r\n    },\r\n    regexp() {\r\n      this.filter();\r\n    },\r\n    hiddenNodes() {\r\n      this.filter();\r\n    }\r\n  },\r\n  methods: {\r\n    makeTree() {\r\n      let nodes = (this.ontology) ? this.createSubTree(this.ontology.children.array.slice()) : [];\r\n      let additionalNodes = this.createSubTree(this.additionalNodes.slice());\r\n      this.treeNodes = this.startWithAdditionalNodes ? additionalNodes.concat(nodes) : nodes.concat(additionalNodes);\r\n\r\n      this.filter();\r\n    },\r\n\r\n    createSubTree(terms) {\r\n      return terms.map(term => this.createNode(term));\r\n    },\r\n\r\n    createNode(term) {\r\n      return {\r\n        title: term.name,\r\n        isLeaf: false, // all terms can be used as parent for drag and drop\r\n        isDraggable: this.allowDrag,\r\n        isExpanded: true,\r\n        isSelected: this.internalSelectedNodes.includes(term.id),\r\n        data: {\r\n          id: term.id,\r\n          name: term.name,\r\n          color: term.color,\r\n          parent: term.parent,\r\n          ontology: (this.ontology) ? this.ontology.id : null,\r\n          hidden: false\r\n        },\r\n        children: term.children && term.children.length > 0 ? this.createSubTree(term.children) : []\r\n      };\r\n    },\r\n\r\n    filter() {\r\n      this.applyToAllNodes(node => {\r\n        let match = this.regexp.test(node.title) && !this.hiddenNodes.includes(node.data.id);\r\n        if(node.children) {\r\n          let matchInChildren = node.children.some(child => !child.data.hidden); // OK because applyToAllNodes performs bottom-up operations\r\n          node.isExpanded = matchInChildren;\r\n          match = match || matchInChildren;\r\n        }\r\n        node.data.hidden = !match;\r\n      });\r\n    },\r\n\r\n    classNames(node) {\r\n      if(this.multipleSelection) {\r\n        return node.isSelected ? ['fas', 'fa-check-square'] : ['far', 'fa-square'];\r\n      }\r\n      else {\r\n        return node.isSelected ? ['fas', 'fa-dot-circle'] : ['far', 'fa-circle'];\r\n      }\r\n    },\r\n\r\n    select(nodes, event) {\r\n      if(!this.allowSelection) {\r\n        return;\r\n      }\r\n\r\n      if(this.clickOnTreeSelector(event.target)) {\r\n        nodes.forEach(node => {\r\n          if(this.multipleSelection) {\r\n            let indexSelected = this.internalSelectedNodes.indexOf(node.data.id);\r\n            if(indexSelected >= 0) {\r\n              this.internalSelectedNodes.splice(indexSelected, 1);\r\n              this.$emit('unselect', node.data.id);\r\n            }\r\n            else {\r\n              this.internalSelectedNodes.push(node.data.id);\r\n              this.$emit('select', node.data.id);\r\n            }\r\n          }\r\n          else {\r\n            if(this.internalSelectedNodes.includes(node.data.id)) this.internalSelectedNodes = [];\r\n            else this.internalSelectedNodes = [node.data.id];\r\n\r\n            this.$emit('select', node.data.id);\r\n          }\r\n        });\r\n        this.$emit('setSelectedNodes', this.internalSelectedNodes);\r\n      }\r\n\r\n      this.refreshNodeSelection();\r\n    },\r\n    refreshNodeSelection() {\r\n      if(!this.allowSelection) {\r\n        return;\r\n      }\r\n\r\n      this.applyToAllNodes(node => {\r\n        node.isSelected = this.internalSelectedNodes.some(id => id === node.data.id);\r\n      });\r\n    },\r\n    clickOnTreeSelector(elem) {\r\n      if(elem.classList.contains('tree-selector')) {\r\n        return true;\r\n      }\r\n      return elem.parentElement ? this.clickOnTreeSelector(elem.parentElement) : false;\r\n    },\r\n    applyToAllNodes(fct, nodes=this.treeNodes) {\r\n      nodes.forEach(node => {\r\n        if(node.children) {\r\n          this.applyToAllNodes(fct, node.children);\r\n        }\r\n        fct(node);\r\n      });\r\n    },\r\n\r\n    startTermCreation() {\r\n      this.editedNode = null;\r\n      this.openModal();\r\n    },\r\n    createTerm(term) {\r\n      this.treeNodes.push(this.createNode(term));\r\n      this.$emit('newTerm', term);\r\n    },\r\n\r\n    startTermUpdate(node) {\r\n      this.editedNode = node;\r\n      this.openModal();\r\n    },\r\n    updateTerm(term) {\r\n      this.$refs.tree.updateNode(this.editedNode.path, {data: {...term}});\r\n    },\r\n\r\n    openModal() {\r\n      this.$buefy.modal.open({\r\n        parent: this,\r\n        component: TermModal,\r\n        props: {\r\n          term: this.editedNode ? this.editedNode.data : null,\r\n          ontology: this.ontology\r\n        },\r\n        events: {\r\n          newTerm: this.createTerm,\r\n          updateTerm: this.updateTerm\r\n        },\r\n        hasModalCard: true\r\n      });\r\n    },\r\n\r\n    drop(nodes, position) {\r\n      nodes.forEach(async node => {\r\n        let idParent = (position.placement === 'inside') ? position.node.data.id : position.node.data.parent;\r\n        if(node.data.parent !== idParent) {\r\n          try {\r\n            await new Term(node.data).changeParent(idParent);\r\n            this.applyToAllNodes(tmp => {\r\n              if(tmp.data.id === node.data.id) {\r\n                tmp.data.parent = idParent;\r\n              }\r\n            });\r\n          }\r\n          catch(error) {\r\n            console.log(error);\r\n            this.$notify({type: 'error', text: this.$t('notif-error-ontology-tree-update')});\r\n          }\r\n        }\r\n        else {\r\n          this.$notify({type: 'warn', text: this.$t('notif-warn-ontology-tree-order-not-persisted')});\r\n        }\r\n      });\r\n    },\r\n\r\n    confirmTermDeletion(node) {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('confirm-deletion'),\r\n        message: this.$t('confirm-deletion-term', {name: node.data.name}),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.deleteTerm(node)\r\n      });\r\n    },\r\n    async deleteTerm(node) {\r\n      try {\r\n        await Term.delete(node.data.id);\r\n        this.$refs.tree.remove([node.path]);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-term-deletion')});\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.internalSelectedNodes = this.selectedNodes.slice();\r\n    this.makeTree();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.add-term-container {\r\n  text-align: center;\r\n  margin-top: 0.5em;\r\n  margin-bottom: 0.5em;\r\n}\r\n</style>\r\n\r\n\r\n<style>\r\n.ontology-tree {\r\n  padding: 0 0 2px 0;\r\n}\r\n\r\n.ontology-tree .tree-checkbox {\r\n  margin-right: 10px;\r\n  color: rgba(0, 0, 0, 0.2);\r\n  font-size: 1rem;\r\n}\r\n\r\n.ontology-tree.selector .sl-vue-tree-node-item:hover {\r\n  background: rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.ontology-tree.selector .sl-vue-tree-selected > .sl-vue-tree-node-item {\r\n  background: rgba(0, 0, 0, 0.05);\r\n  font-weight: 600;\r\n}\r\n\r\n.ontology-tree .sl-vue-tree-selected > .sl-vue-tree-node-item .tree-checkbox {\r\n  color: #61b2e8;\r\n}\r\n\r\n.ontology-tree.selector .sl-vue-tree-gap {\r\n  width: 24px;\r\n}\r\n\r\n.ontology-tree.selector .tree-selector {\r\n  cursor: pointer;\r\n  flex-grow: 1;\r\n}\r\n\r\n.ontology-tree .tree-selector {\r\n  min-width: 0; /* to allow correct handling of overflow-wrap */\r\n}\r\n\r\n.ontology-tree .tree-selector:hover .tree-checkbox {\r\n  color: #61b2e8;\r\n}\r\n\r\n.ontology-tree .no-result {\r\n  margin-left: 20px;\r\n  line-height: 1.5;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.ontology-tree .buttons, .ontology-tree .button {\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\n.ontology-tree.editable .sl-vue-tree-sidebar {\r\n  width: 100px;\r\n  padding-left: 20px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.ontology-tree.editable .sl-vue-tree-sidebar {\r\n  display: flex;\r\n  align-items: top;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OntologyTree.vue?vue&type=template&id=4cca4912&scoped=true&\"\nimport script from \"./OntologyTree.vue?vue&type=script&lang=js&\"\nexport * from \"./OntologyTree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OntologyTree.vue?vue&type=style&index=0&id=4cca4912&prod&scoped=true&lang=css&\"\nimport style1 from \"./OntologyTree.vue?vue&type=style&index=1&id=4cca4912&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4cca4912\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminConfiguration.vue?vue&type=style&index=0&id=5d85b1f4&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserActivity.vue?vue&type=style&index=0&id=0e92280e&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddImageModal.vue?vue&type=style&index=0&id=48f99de6&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconProjectMemberRole.vue?vue&type=style&index=0&id=2f080369&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaleLine.vue?vue&type=style&index=0&id=543499ef&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorManipulation.vue?vue&type=style&index=1&id=49a921d7&prod&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivity.vue?vue&type=style&index=0&id=77d5a06f&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListSoftware.vue?vue&type=style&index=1&id=3fd487a5&prod&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetailsContainer.vue?vue&type=style&index=0&id=0d23ef15&prod&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=ec623fc8&prod&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityLogs.vue?vue&type=style&index=0&id=511a34d2&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFileStatus.vue?vue&type=style&index=0&id=3b65473a&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListProjects.vue?vue&type=style&index=1&id=719f2815&prod&lang=css&\"","module.exports = __webpack_public_path__ + \"img/logo-cytomine-coop.4a5cd544.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedSearch.vue?vue&type=style&index=0&id=729a7712&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSoftwares.vue?vue&type=style&index=1&id=50b0beee&prod&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:['description-wrapper', _vm.loading ? 'loading' : '']},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[(_vm.description)?[_c('div',{staticClass:\"ql-snow\"},[_c('div',{staticClass:\"ql-editor\",domProps:{\"innerHTML\":_vm._s(_vm.previewDescription)}})]),_c('div',{staticClass:\"buttons are-small\"},[(_vm.croppedDescription)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.openModal(false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-full-text'))+\" \")]):_vm._e(),(_vm.canEdit)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.openModal(true)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-edit'))+\" \")]):_vm._e()])]:[_c('em',[_vm._v(_vm._s(_vm.$t('no-description')))]),(_vm.canEdit)?_c('button',{staticClass:\"button is-small margin\",on:{\"click\":function($event){return _vm.openModal(true)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")]):_vm._e()]]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('cytomine-modal-card',{staticClass:\"description-modal\",class:{expanded: _vm.expanded},attrs:{\"title\":_vm.$t('description')},on:{\"close\":function($event){return _vm.$parent.close()}},scopedSlots:_vm._u([{key:\"controls\",fn:function(){return [_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.expanded = !_vm.expanded}}},[_c('i',{class:['fas', _vm.expanded ? 'fa-compress' : 'fa-expand']})])]},proxy:true},(_vm.edit)?{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$parent.close()}}},[_vm._v(_vm._s(_vm.$t('button-cancel')))]),(_vm.edit)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.save()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")]):_vm._e()]},proxy:true}:null],null,true)},[(!_vm.edit)?_c('div',{staticClass:\"ql-snow\"},[_c('div',{staticClass:\"ql-editor preview\",domProps:{\"innerHTML\":_vm._s(_vm.descriptionWithoutKeywords)}})]):[_c('div',{staticClass:\"keyword-info\"},[_c('i',{staticClass:\"fas fa-info-circle\"}),_c('i18n',{attrs:{\"path\":\"info-keyword-stop-preview-description\"}},[_c('span',{staticClass:\"keyword\",attrs:{\"place\":\"keyword\"}},[_vm._v(\" \"+_vm._s(_vm.stopPreviewKeyword)+\" \")])])],1),_c('cytomine-quill-editor',{attrs:{\"placeholder\":_vm.$t('enter-description')},model:{value:(_vm.descriptionContent),callback:function ($$v) {_vm.descriptionContent=$$v},expression:\"descriptionContent\"}})]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<cytomine-modal-card\r\n  :title=\"$t('description')\"\r\n  class=\"description-modal\"\r\n  :class=\"{expanded: expanded}\"\r\n  @close=\"$parent.close()\"\r\n>\r\n  <template #controls>\r\n    <button class=\"button is-small\" @click=\"expanded = !expanded\">\r\n      <i :class=\"['fas', expanded ? 'fa-compress' : 'fa-expand']\"></i>\r\n    </button>\r\n  </template>\r\n\r\n  <div v-if=\"!edit\" class=\"ql-snow\">\r\n    <div class=\"ql-editor preview\" v-html=\"descriptionWithoutKeywords\"></div>\r\n  </div>\r\n\r\n  <template v-else>\r\n    <div class=\"keyword-info\">\r\n      <i class=\"fas fa-info-circle\"></i>\r\n      <i18n path=\"info-keyword-stop-preview-description\">\r\n        <span place=\"keyword\" class=\"keyword\"> {{ stopPreviewKeyword }} </span>\r\n      </i18n>\r\n    </div>\r\n\r\n    <cytomine-quill-editor v-model=\"descriptionContent\" :placeholder=\"$t('enter-description')\" />\r\n  </template>\r\n\r\n  <template v-if=\"edit\" #footer>\r\n    <button class=\"button\" @click=\"$parent.close()\">{{$t('button-cancel')}}</button>\r\n    <button v-if=\"edit\" class=\"button is-link\" @click=\"save()\"> {{ $t('button-save') }} </button>\r\n  </template>\r\n</cytomine-modal-card>\r\n</template>\r\n\r\n<script>\r\nimport CytomineQuillEditor from '@/components/form/CytomineQuillEditor';\r\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'cytomine-description-modal',\r\n  props: {\r\n    description: Object,\r\n    edit: Boolean\r\n  },\r\n  components: {\r\n    CytomineModalCard,\r\n    CytomineQuillEditor\r\n  },\r\n  data() {\r\n    return {\r\n      descriptionContent: '',\r\n      expanded: false\r\n    };\r\n  },\r\n  computed: {\r\n    descriptionWithoutKeywords() {\r\n      return this.description.data.replace(new RegExp(constants.STOP_PREVIEW_KEYWORD, 'g'), '');\r\n    },\r\n    stopPreviewKeyword() {\r\n      return constants.STOP_PREVIEW_KEYWORD;\r\n    }\r\n  },\r\n  methods: {\r\n    async save() {\r\n      let updatedDesc = this.description.clone();\r\n      try {\r\n        if(this.descriptionContent) {\r\n          updatedDesc.data = this.descriptionContent;\r\n          await updatedDesc.save();\r\n          this.$emit('change', updatedDesc);\r\n        }\r\n        else if(this.description.data) { // if description existed, and content was emptied by user, delete description model\r\n          await updatedDesc.delete();\r\n          this.$emit('change', null);\r\n        }\r\n        this.$parent.close();\r\n      }\r\n      catch(error) {\r\n        this.descriptionContent = this.description.data;\r\n        this.$notify({type: 'error', text: this.$t('notif-error-update-description')});\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.descriptionContent = this.description.data;\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.description-modal {\r\n  &.expanded, &.expanded .modal-card-body {\r\n    width: 90vw;\r\n    height: 90vh;\r\n    max-height: 90vh;\r\n  }\r\n\r\n  &:not(.expanded), &:not(.expanded) .modal-card-body {\r\n    width: 50vw;\r\n    height: 60vh;\r\n    max-height: 60vh;\r\n  }\r\n\r\n  .ql-editor.preview {\r\n    padding: 0 0 1em 0;\r\n    text-align: justify;\r\n    white-space: normal;\r\n  }\r\n\r\n  .modal-card-body {\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n  }\r\n\r\n  .keyword-info {\r\n    margin-bottom: 1em;\r\n\r\n    .fas {\r\n      margin-right: 0.75em;\r\n    }\r\n\r\n    .keyword {\r\n      font-weight: 600;\r\n    }\r\n  }\r\n\r\n  .cytomine-quill-editor {\r\n    flex: 1;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDescriptionModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDescriptionModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineDescriptionModal.vue?vue&type=template&id=c1872c3e&\"\nimport script from \"./CytomineDescriptionModal.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineDescriptionModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineDescriptionModal.vue?vue&type=style&index=0&id=c1872c3e&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div :class=\"['description-wrapper', loading ? 'loading' : '']\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\r\n  <template v-if=\"!loading\">\r\n    <template v-if=\"description\">\r\n      <div class=\"ql-snow\">\r\n        <div class=\"ql-editor\" v-html=\"previewDescription\"></div> <!-- WARNING can lead to js injection -->\r\n      </div>\r\n      <div class=\"buttons are-small\">\r\n        <button class=\"button\" v-if=\"croppedDescription\" @click=\"openModal(false)\">\r\n          {{ $t('button-full-text') }}\r\n        </button>\r\n        <button class=\"button\" v-if=\"canEdit\" @click=\"openModal(true)\">\r\n          {{ $t('button-edit') }}\r\n        </button>\r\n      </div>\r\n    </template>\r\n    <template v-else>\r\n      <em>{{$t('no-description')}}</em>\r\n      <button v-if=\"canEdit\" class=\"button is-small margin\" @click=\"openModal(true)\">\r\n        {{$t('button-add')}}\r\n      </button>\r\n    </template>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {Description} from 'cytomine-client';\r\nimport DescriptionModal from './CytomineDescriptionModal';\r\n\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'cytomine-description',\r\n  props: {\r\n    object: {type: Object},\r\n    canEdit: {type: Boolean, default: true},\r\n    maxPreviewLength: {type: Number, default: 0} // if set to 0, the description preview is not limited unless stop preview keyword is present\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      description: null,\r\n      modalOpened: false\r\n    };\r\n  },\r\n  computed: {\r\n    previewDescription() {\r\n      let posStop = this.description.data.indexOf(constants.STOP_PREVIEW_KEYWORD);\r\n      if(posStop !== -1) {\r\n        return this.description.data.substring(0, posStop);\r\n      }\r\n      else if(this.maxPreviewLength && this.description.data.length > this.maxPreviewLength) {\r\n        return this.description.data.substring(0, this.maxPreviewLength) + '...';\r\n      }\r\n      else {\r\n        return this.description.data;\r\n      }\r\n    },\r\n    croppedDescription() {\r\n      return this.description.data.length !== this.previewDescription.length;\r\n    }\r\n  },\r\n  methods: {\r\n    openModal(edit) {\r\n      // required to use programmatic modal because the description is sometimes displayed in elements with a\r\n      // CSS transform (e.g. popover) that conflict with the fixed position of the modal\r\n      // (http://meyerweb.com/eric/thoughts/2011/09/12/un-fixing-fixed-elements-with-css-transforms/)\r\n\r\n      this.$buefy.modal.open({\r\n        parent: this,\r\n        component: DescriptionModal,\r\n        props: {\r\n          description: this.description || new Description({data: '', object: this.object}),\r\n          edit\r\n        },\r\n        hasModalCard: true,\r\n        events: {\r\n          change: newDesc => this.description = newDesc\r\n        }\r\n      });\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      this.description = await Description.fetch(this.object);\r\n    }\r\n    catch(err) {\r\n      // the error may make sense if the object has no description\r\n    }\r\n    this.loading = false;\r\n  }\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.description-wrapper {\r\n  position: relative;\r\n}\r\n\r\n.description-wrapper .ql-editor {\r\n  padding: 0;\r\n  white-space: normal;\r\n}\r\n\r\n.description-wrapper.loading {\r\n  min-height: 3em;\r\n}\r\n\r\n.button.margin {\r\n  margin-left: 0.5em;\r\n}\r\n\r\n.ql-snow {\r\n  margin-bottom: 0.5em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDescription.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDescription.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineDescription.vue?vue&type=template&id=2038f6b8&scoped=true&\"\nimport script from \"./CytomineDescription.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineDescription.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineDescription.vue?vue&type=style&index=0&id=2038f6b8&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2038f6b8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetails.vue?vue&type=style&index=0&id=4c41cfd4&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"annotation-details\"},[_c('table',{staticClass:\"table\"},[_c('tbody',[(_vm.showImageInfo)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('image')))])]),_c('td',[_c('router-link',{attrs:{\"to\":`/project/${_vm.annotation.project}/image/${_vm.annotation.image}`}},[_c('image-name',{attrs:{\"image\":_vm.image}})],1)],1)]):_vm._e(),(_vm.showChannelInfo)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('channel')))])]),_c('td',[_c('channel-name',{attrs:{\"channel\":_vm.sliceChannel}})],1)]):_vm._e(),(_vm.isPropDisplayed('geometry-info'))?[(_vm.annotation.area > 0)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('area')))])]),_c('td',[_vm._v(_vm._s(`${_vm.annotation.area.toFixed(3)} ${_vm.annotation.areaUnit}`))])]):_vm._e(),(_vm.annotation.perimeter > 0)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t(_vm.annotation.area > 0 ? 'perimeter' : 'length')))])]),_c('td',[_vm._v(_vm._s(`${_vm.annotation.perimeter.toFixed(3)} ${_vm.annotation.perimeterUnit}`))])]):_vm._e()]:_vm._e(),(_vm.isPropDisplayed('description'))?_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('h5',[_vm._v(_vm._s(_vm.$t('description')))]),_c('cytomine-description',{attrs:{\"object\":_vm.annotation,\"canEdit\":_vm.canEdit,\"maxPreviewLength\":300}})],1)]):_vm._e(),(_vm.isPropDisplayed('terms') && _vm.ontology)?_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('h5',[_vm._v(_vm._s(_vm.$t('terms')))]),_vm._l((_vm.associatedTerms),function({term, user}){return _c('b-tag',{key:term.id,attrs:{\"title\":_vm.$t('associated-by', {username: user.fullName})}},[_c('cytomine-term',{attrs:{\"term\":term}}),(_vm.canEditTerms)?_c('button',{staticClass:\"delete is-small\",attrs:{\"title\":_vm.$t('button-delete')},on:{\"click\":function($event){return _vm.removeTerm(term.id, user.id)}}}):_vm._e()],1)}),(_vm.canEditTerms)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(() => _vm.showTermSelector = false),expression:\"() => showTermSelector = false\"}],staticClass:\"add-term-wrapper\"},[_c('b-field',[_c('b-input',{attrs:{\"size\":\"is-small\",\"expanded\":\"\",\"placeholder\":_vm.$t('add-term')},on:{\"focus\":function($event){_vm.showTermSelector = true}},model:{value:(_vm.addTermString),callback:function ($$v) {_vm.addTermString=$$v},expression:\"addTermString\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTermSelector),expression:\"showTermSelector\"}],staticClass:\"ontology-tree-container\"},[_c('ontology-tree',{staticClass:\"ontology-tree\",attrs:{\"ontology\":_vm.ontology,\"searchString\":_vm.addTermString,\"selectedNodes\":_vm.associatedTermsIds,\"allowNew\":true},on:{\"newTerm\":_vm.newTerm,\"select\":_vm.addTerm,\"unselect\":_vm.removeTerm}})],1)],1):(!_vm.associatedTerms.length)?_c('em',[_vm._v(_vm._s(_vm.$t('no-term')))]):_vm._e()],2)]):_vm._e(),(_vm.isPropDisplayed('tracks') && _vm.maxRank > 1)?_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('h5',[_vm._v(_vm._s(_vm.$t('tracks')))]),_vm._l((_vm.associatedTracks),function({track}){return _c('b-tag',{key:track.id},[_c('cytomine-track',{attrs:{\"track\":track}}),(_vm.canEditTerms)?_c('button',{staticClass:\"delete is-small\",attrs:{\"title\":_vm.$t('button-delete')},on:{\"click\":function($event){return _vm.removeTrack(track.id)}}}):_vm._e()],1)}),(_vm.canEditTerms)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(() => _vm.showTrackSelector = false),expression:\"() => showTrackSelector = false\"}],staticClass:\"add-track-wrapper\"},[_c('b-field',[_c('b-input',{attrs:{\"size\":\"is-small\",\"expanded\":\"\",\"placeholder\":_vm.$t('add-track')},on:{\"focus\":function($event){_vm.showTrackSelector = true}},model:{value:(_vm.addTrackString),callback:function ($$v) {_vm.addTrackString=$$v},expression:\"addTrackString\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTrackSelector),expression:\"showTrackSelector\"}],staticClass:\"track-tree-container\"},[_c('track-tree',{staticClass:\"track-tree\",attrs:{\"tracks\":_vm.availableTracks,\"searchString\":_vm.addTrackString,\"selectedNodes\":_vm.associatedTracksIds,\"allowNew\":true,\"image\":_vm.image},on:{\"newTrack\":_vm.newTrack,\"select\":_vm.addTrack,\"unselect\":_vm.removeTrack}})],1)],1):(!_vm.associatedTracks.length)?_c('em',[_vm._v(_vm._s(_vm.$t('no-track')))]):_vm._e()],2)]):_vm._e(),(_vm.isPropDisplayed('tags'))?_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('h5',[_vm._v(_vm._s(_vm.$t('tags')))]),_c('cytomine-tags',{attrs:{\"object\":_vm.annotation,\"canEdit\":_vm.canEdit}})],1)]):_vm._e(),(_vm.isPropDisplayed('properties'))?_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('h5',[_vm._v(_vm._s(_vm.$t('properties')))]),_c('cytomine-properties',{attrs:{\"object\":_vm.annotation,\"canEdit\":_vm.canEdit,\"properties\":_vm.internalUseFilteredProperties},on:{\"deleted\":_vm.removeProp,\"added\":_vm.addProp,\"updateProperties\":function($event){return _vm.$emit('updateProperties')}}})],1)]):_vm._e(),(_vm.isPropDisplayed('attached-files'))?_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('h5',[_vm._v(_vm._s(_vm.$t('attached-files')))]),_c('attached-files',{attrs:{\"object\":_vm.annotation,\"canEdit\":_vm.canEdit}})],1)]):_vm._e(),(_vm.isPropDisplayed('creation-info'))?[_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('created-by')))])]),_c('td',[_vm._v(\" \"+_vm._s(_vm.creator.fullName)+\" \")])]),(!_vm.isReviewedAnnotation)?[_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('created-on')))])]),_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.annotation.created),'ll'))+\" \")])]),(_vm.isImageInReviewMode)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('reviewed-annotation-status')))])]),_c('td',[_c('span',{staticClass:\"tag is-danger\"},[_vm._v(\" \"+_vm._s(_vm.$t('reviewed-annotation-status-not-validated'))+\" \")])])]):_vm._e()]:[_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('reviewed-by')))])]),_c('td',[_vm._v(\" \"+_vm._s(_vm.reviewer.fullName)+\" \")])]),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('reviewed-on')))])]),_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.annotation.created),'ll'))+\" \")])]),(_vm.isImageInReviewMode)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('reviewed-annotation-status')))])]),_c('td',[_c('span',{staticClass:\"tag is-success\"},[_vm._v(\" \"+_vm._s(_vm.$t('reviewed-annotation-status-validated'))+\" \")])])]):_vm._e()]]:_vm._e(),(_vm.currentUser.isDeveloper)?[_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('id')))])]),_c('td',[_vm._v(_vm._s(_vm.annotation.id))])])]:_vm._e()],2)]),_c('div',{staticClass:\"actions\"},[(_vm.showImageInfo)?_c('router-link',{staticClass:\"button is-link is-small is-fullwidth\",attrs:{\"to\":_vm.annotationURL}},[_vm._v(\" \"+_vm._s(_vm.$t('button-view-in-image'))+\" \")]):_c('a',{staticClass:\"button is-link is-small is-fullwidth\",on:{\"click\":function($event){return _vm.$emit('centerView')}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-center-view-on-annot'))+\" \")]),_c('div',{staticClass:\"level\"},[_c('a',{staticClass:\"level-item button is-small\",on:{\"click\":function($event){return _vm.openCrop(_vm.annotation)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-view-crop'))+\" \")]),_c('button',{staticClass:\"level-item button is-small\",on:{\"click\":function($event){return _vm.copyURL()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-copy-url'))+\" \")]),(_vm.isPropDisplayed('comments') && _vm.comments)?_c('button',{staticClass:\"level-item button is-small\",on:{\"click\":function($event){return _vm.openCommentsModal()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-comments'))+\" (\"+_vm._s(_vm.comments.length)+\") \")]):_vm._e(),(_vm.canEdit)?_c('button',{staticClass:\"level-item button is-small is-danger\",on:{\"click\":function($event){return _vm.confirmDeletion()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")]):_vm._e()])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('cytomine-modal-card',{attrs:{\"title\":_vm.$t('annotation-comments')},on:{\"close\":function($event){return _vm.$parent.close()}}},[(!_vm.comments || !_vm.comments.length)?_c('div',[_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('no-annotation-comments'))+\" \")]),_c('hr')]):[_c('div',{staticClass:\"comments-wrapper\"},_vm._l((_vm.comments),function(comment){return _c('div',{key:comment.id},[_c('p',{staticClass:\"comment-sender is-size-7\"},[_c('strong',[_vm._v(_vm._s(comment.senderName))]),_c('span',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm._f(\"moment\")(Number(comment.created),'ll LT')))])]),_c('p',{staticClass:\"comment-content\"},[_vm._v(_vm._s(comment.comment))]),_c('hr')])}),0)],_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.addingComment),expression:\"!addingComment\"}],staticClass:\"has-text-centered\"},[(!_vm.currentUser.guestByNow)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){_vm.addingComment = true}}},[_vm._v(_vm._s(_vm.$t('button-add-comment')))]):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.addingComment),expression:\"addingComment\"}]},[_c('h2',[_vm._v(_vm._s(_vm.$t('add-new-comment')))]),_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('comment-will-be-sent-by-email'))+\" \")]),_c('b-field',[_c('b-radio',{attrs:{\"native-value\":true,\"disabled\":_vm.members.length == 0},model:{value:(_vm.sendToAllMembers),callback:function ($$v) {_vm.sendToAllMembers=$$v},expression:\"sendToAllMembers\"}},[_vm._v(\" \"+_vm._s(_vm.$t('send-to-all-project-members'))+\" \")])],1),_c('b-field',[_c('b-radio',{attrs:{\"native-value\":false},model:{value:(_vm.sendToAllMembers),callback:function ($$v) {_vm.sendToAllMembers=$$v},expression:\"sendToAllMembers\"}},[_vm._v(\" \"+_vm._s(_vm.$t('send-to-some-members'))+\" \")])],1),(!_vm.sendToAllMembers)?_c('b-field',{attrs:{\"type\":{'is-danger': _vm.errors.has('members')},\"message\":_vm.errors.first('members')}},[_c('domain-tag-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"domains\":_vm.members,\"placeholder\":\"search-user\",\"name\":\"members\",\"searchedProperty\":\"fullName\",\"displayedProperty\":\"fullName\"},model:{value:(_vm.selectedMembers),callback:function ($$v) {_vm.selectedMembers=$$v},expression:\"selectedMembers\"}})],1):_vm._e(),_c('b-field',{attrs:{\"type\":{'is-danger': _vm.errors.has('comment')},\"message\":_vm.errors.first('comment')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"type\":\"textarea\",\"placeholder\":_vm.$t('enter-comment'),\"rows\":\"2\",\"name\":\"comment\"},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1),_c('p',{staticClass:\"buttons is-right are-small\"},[_c('button',{staticClass:\"button\",attrs:{\"disabled\":_vm.loading},on:{\"click\":function($event){_vm.addingComment = false}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",class:{'is-loading': _vm.loading},attrs:{\"disabled\":_vm.loading || _vm.members.length == 0 || _vm.errors.any()},on:{\"click\":function($event){return _vm.share()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-share'))+\" \")])])],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<cytomine-modal-card :title=\"$t('annotation-comments')\" @close=\"$parent.close()\">\r\n  <div v-if=\"!comments || !comments.length\">\r\n    <em class=\"has-text-grey\">\r\n      {{$t('no-annotation-comments')}}\r\n    </em>\r\n    <hr>\r\n  </div>\r\n  <template v-else>\r\n    <div class=\"comments-wrapper\">\r\n      <div v-for=\"comment in comments\" :key=\"comment.id\">\r\n        <p class=\"comment-sender is-size-7\">\r\n          <strong>{{ comment.senderName }}</strong>\r\n          <span class=\"has-text-grey\">{{Number(comment.created) | moment('ll LT')}}</span>\r\n        </p>\r\n        <p class=\"comment-content\">{{comment.comment}}</p>\r\n        <hr>\r\n      </div>\r\n    </div>\r\n  </template>\r\n\r\n  <div v-show=\"!addingComment\" class=\"has-text-centered\">\r\n    <button class=\"button is-link\" v-if=\"!currentUser.guestByNow\" @click=\"addingComment = true\">{{$t('button-add-comment')}}</button>\r\n  </div>\r\n\r\n  <div v-show=\"addingComment\">\r\n    <h2>{{$t('add-new-comment')}}</h2>\r\n    <b-message type=\"is-info\" has-icon size=\"is-small\">\r\n      {{$t('comment-will-be-sent-by-email')}}\r\n    </b-message>\r\n    <b-field>\r\n      <b-radio v-model=\"sendToAllMembers\" :native-value=\"true\" :disabled=\"members.length == 0\">\r\n        {{$t('send-to-all-project-members')}}\r\n      </b-radio>\r\n    </b-field>\r\n    <b-field>\r\n      <b-radio v-model=\"sendToAllMembers\" :native-value=\"false\">\r\n        {{$t('send-to-some-members')}}\r\n      </b-radio>\r\n    </b-field>\r\n    <b-field v-if=\"!sendToAllMembers\" :type=\"{'is-danger': errors.has('members')}\" :message=\"errors.first('members')\">\r\n      <domain-tag-input v-model=\"selectedMembers\" :domains=\"members\" placeholder=\"search-user\" name=\"members\" v-validate=\"'required'\" searchedProperty=\"fullName\" displayedProperty=\"fullName\" />\r\n    </b-field>\r\n    <b-field :type=\"{'is-danger': errors.has('comment')}\" :message=\"errors.first('comment')\">\r\n      <b-input v-model=\"text\" type=\"textarea\" :placeholder=\"$t('enter-comment')\" rows=\"2\" name=\"comment\" v-validate=\"'required'\" />\r\n    </b-field>\r\n    <p class=\"buttons is-right are-small\">\r\n      <button class=\"button\" @click=\"addingComment = false\" :disabled=\"loading\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" :class=\"{'is-loading': loading}\"\r\n        :disabled=\"loading || members.length == 0 || errors.any()\" @click=\"share()\">\r\n        {{$t('button-share')}}\r\n      </button>\r\n    </p>\r\n  </div>\r\n</cytomine-modal-card>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {AnnotationComment} from 'cytomine-client';\r\nimport DomainTagInput from '@/components/utils/DomainTagInput';\r\n\r\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\r\nimport {fullName} from '@/utils/user-utils.js';\r\n\r\nexport default {\r\n  name: 'annotation-comments-modal',\r\n  components: {\r\n    DomainTagInput,\r\n    CytomineModalCard\r\n  },\r\n  $_veeValidate: {validator: 'new'},\r\n  props: {\r\n    annotation: Object,\r\n    comments: Array\r\n  },\r\n  data() {\r\n    return {\r\n      addingComment: false,\r\n      sendToAllMembers: true,\r\n      selectedMembers: [],\r\n      text: '',\r\n      loading: false\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    allMembers: get('currentProject/members'),\r\n    members() { // all project members except current user\r\n      return this.allMembers.filter(member => member.id !== this.currentUser.id);\r\n    },\r\n    annotationURL() {\r\n      let uri = `project/${this.annotation.project}/image/${this.annotation.image}/annotation/${this.annotation.id}`;\r\n      return `${window.location.origin}/#/${uri}`;\r\n    }\r\n  },\r\n  watch: {\r\n    addingComment() {\r\n      this.text = '';\r\n      this.selectedMembers = [];\r\n      this.$nextTick(() => {\r\n        this.sendToAllMembers = true;\r\n        this.$validator.reset();\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    async share() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      this.loading = true;\r\n      try {\r\n        let sender = fullName(this.currentUser);\r\n        let newComment = await new AnnotationComment({\r\n          annotation: this.annotation,\r\n          subject: `Cytomine: ${sender} commented an annotation`, // not translated because the content of the mail will be in english\r\n          from: sender,\r\n          receivers: (this.sendToAllMembers ? this.members : this.selectedMembers).map(m => m.id),\r\n          comment: this.text,\r\n          annotationURL: this.annotationURL,\r\n          shareAnnotationURL: this.annotationURL + '?action=comments'\r\n        }).save();\r\n        this.$emit('addComment', newComment);\r\n        this.$notify({type: 'success', text: this.$t('notif-success-new-comment')});\r\n        this.addingComment = false;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-new-comment')});\r\n      }\r\n      this.loading = false;\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n>>> .modal-card {\r\n  max-height: 80vh;\r\n}\r\n\r\n>>> .modal-card-body {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.comments-wrapper {\r\n  overflow: auto;\r\n  margin-bottom: 1em;\r\n  min-height: 5em;\r\n}\r\n\r\n.comment-sender strong {\r\n  margin-right: 0.5em;\r\n}\r\n\r\n.comment-content {\r\n  margin-top: 0.25em;\r\n  margin-bottom: 0.5em;\r\n}\r\n\r\n>>> textarea {\r\n  margin: 0.75em 0 0;\r\n}\r\n\r\nhr {\r\n  margin: 0.75em 0 !important;\r\n}\r\n\r\n>>> .dropdown-content {\r\n  max-height: 7em !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCommentsModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCommentsModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationCommentsModal.vue?vue&type=template&id=5fbb43ad&scoped=true&\"\nimport script from \"./AnnotationCommentsModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationCommentsModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnnotationCommentsModal.vue?vue&type=style&index=0&id=5fbb43ad&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5fbb43ad\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"annotation-details\">\r\n  <table class=\"table\">\r\n    <tbody>\r\n      <tr v-if=\"showImageInfo\">\r\n        <td><strong>{{$t('image')}}</strong></td>\r\n        <td>\r\n          <router-link :to=\"`/project/${annotation.project}/image/${annotation.image}`\">\r\n            <image-name :image=\"image\" />\r\n          </router-link>\r\n        </td>\r\n      </tr>\r\n\r\n      <tr v-if=\"showChannelInfo\">\r\n        <td><strong>{{$t('channel')}}</strong></td>\r\n        <td>\r\n          <channel-name :channel=\"sliceChannel\" />\r\n        </td>\r\n      </tr>\r\n\r\n      <template v-if=\"isPropDisplayed('geometry-info')\">\r\n        <tr v-if=\"annotation.area > 0\">\r\n          <td><strong>{{$t('area')}}</strong></td>\r\n          <td>{{ `${annotation.area.toFixed(3)} ${annotation.areaUnit}` }}</td>\r\n        </tr>\r\n\r\n        <tr v-if=\"annotation.perimeter > 0\">\r\n          <td><strong>{{$t(annotation.area > 0 ? 'perimeter' : 'length')}}</strong></td>\r\n          <td>{{ `${annotation.perimeter.toFixed(3)} ${annotation.perimeterUnit}` }}</td>\r\n        </tr>\r\n      </template>\r\n\r\n      <tr v-if=\"isPropDisplayed('description')\">\r\n        <td colspan=\"2\">\r\n          <h5>{{$t('description')}}</h5>\r\n          <cytomine-description :object=\"annotation\" :canEdit=\"canEdit\" :maxPreviewLength=\"300\" />\r\n        </td>\r\n      </tr>\r\n\r\n      <!-- TERMS -->\r\n      <tr v-if=\"isPropDisplayed('terms') && ontology\">\r\n        <td colspan=\"2\">\r\n          <h5>{{$t('terms')}}</h5>\r\n          <b-tag v-for=\"{term, user} in associatedTerms\" :key=\"term.id\"\r\n          :title=\"$t('associated-by', {username: user.fullName})\">\r\n            <cytomine-term :term=\"term\" />\r\n            <button v-if=\"canEditTerms\" class=\"delete is-small\" :title=\"$t('button-delete')\"\r\n              @click=\"removeTerm(term.id, user.id)\">\r\n            </button>\r\n          </b-tag>\r\n          <div class=\"add-term-wrapper\" v-if=\"canEditTerms\" v-click-outside=\"() => showTermSelector = false\">\r\n            <b-field>\r\n              <b-input\r\n                size=\"is-small\"\r\n                expanded\r\n                :placeholder=\"$t('add-term')\"\r\n                v-model=\"addTermString\"\r\n                @focus=\"showTermSelector = true\"\r\n              />\r\n            </b-field>\r\n\r\n            <div class=\"ontology-tree-container\" v-show=\"showTermSelector\">\r\n              <ontology-tree\r\n                class=\"ontology-tree\"\r\n                :ontology=\"ontology\"\r\n                :searchString=\"addTermString\"\r\n                :selectedNodes=\"associatedTermsIds\"\r\n                :allowNew=\"true\"\r\n                @newTerm=\"newTerm\"\r\n                @select=\"addTerm\"\r\n                @unselect=\"removeTerm\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <em v-else-if=\"!associatedTerms.length\">{{$t('no-term')}}</em>\r\n        </td>\r\n      </tr>\r\n\r\n      <!-- TRACKS -->\r\n      <tr v-if=\"isPropDisplayed('tracks') && maxRank > 1\">\r\n        <td colspan=\"2\">\r\n          <h5>{{$t('tracks')}}</h5>\r\n          <b-tag v-for=\"{track} in associatedTracks\" :key=\"track.id\">\r\n            <cytomine-track :track=\"track\" />\r\n            <button v-if=\"canEditTerms\" class=\"delete is-small\" :title=\"$t('button-delete')\"\r\n                    @click=\"removeTrack(track.id)\">\r\n            </button>\r\n          </b-tag>\r\n          <div class=\"add-track-wrapper\" v-if=\"canEditTerms\" v-click-outside=\"() => showTrackSelector = false\">\r\n            <b-field>\r\n              <b-input\r\n                size=\"is-small\"\r\n                expanded\r\n                :placeholder=\"$t('add-track')\"\r\n                v-model=\"addTrackString\"\r\n                @focus=\"showTrackSelector = true\"\r\n              />\r\n            </b-field>\r\n\r\n            <div class=\"track-tree-container\" v-show=\"showTrackSelector\">\r\n              <track-tree\r\n                class=\"track-tree\"\r\n                :tracks=\"availableTracks\"\r\n                :searchString=\"addTrackString\"\r\n                :selectedNodes=\"associatedTracksIds\"\r\n                :allowNew=\"true\"\r\n                :image=\"image\"\r\n                @newTrack=\"newTrack\"\r\n                @select=\"addTrack\"\r\n                @unselect=\"removeTrack\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <em v-else-if=\"!associatedTracks.length\">{{$t('no-track')}}</em>\r\n        </td>\r\n      </tr>\r\n\r\n      <tr v-if=\"isPropDisplayed('tags')\">\r\n        <td colspan=\"2\">\r\n          <h5>{{$t('tags')}}</h5>\r\n          <cytomine-tags :object=\"annotation\" :canEdit=\"canEdit\" />\r\n        </td>\r\n      </tr>\r\n\r\n      <!-- PROPERTIES -->\r\n      <tr v-if=\"isPropDisplayed('properties')\">\r\n        <td colspan=\"2\">\r\n          <h5>{{$t('properties')}}</h5>\r\n          <cytomine-properties\r\n            :object=\"annotation\"\r\n            :canEdit=\"canEdit\"\r\n            :properties=\"internalUseFilteredProperties\"\r\n            @deleted=\"removeProp\"\r\n            @added=\"addProp\"\r\n            @updateProperties=\"$emit('updateProperties')\"\r\n             />\r\n        </td>\r\n      </tr>\r\n\r\n      <tr v-if=\"isPropDisplayed('attached-files')\">\r\n        <td colspan=\"2\">\r\n          <h5>{{$t('attached-files')}}</h5>\r\n          <attached-files :object=\"annotation\" :canEdit=\"canEdit\" />\r\n        </td>\r\n      </tr>\r\n\r\n      <template v-if=\"isPropDisplayed('creation-info')\">\r\n        <tr>\r\n          <td><strong>{{$t('created-by')}}</strong></td>\r\n          <td>\r\n            {{ creator.fullName }}\r\n          </td>\r\n        </tr>\r\n        <template v-if=\"!isReviewedAnnotation\">\r\n          <tr>\r\n            <td><strong>{{ $t('created-on') }}</strong></td>\r\n              <td> {{ Number(annotation.created) | moment('ll') }} </td>\r\n          </tr>\r\n          <tr v-if=\"isImageInReviewMode\">\r\n            <td><strong>{{ $t('reviewed-annotation-status') }}</strong></td>\r\n            <td> \r\n              <span class=\"tag is-danger\">\r\n                {{ $t('reviewed-annotation-status-not-validated') }}\r\n              </span>  \r\n            </td>\r\n          </tr>\r\n        </template>\r\n        <template v-else>\r\n          <tr>\r\n            <td><strong>{{$t('reviewed-by')}}</strong></td>\r\n            <td>\r\n              {{ reviewer.fullName }}\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td><strong>{{$t('reviewed-on')}}</strong></td>\r\n            <td> {{ Number(annotation.created) | moment('ll') }} </td>\r\n          </tr>\r\n          <tr v-if=\"isImageInReviewMode\">\r\n            <td><strong>{{ $t('reviewed-annotation-status') }}</strong></td>\r\n            <td>\r\n              <span class=\"tag is-success\">\r\n                {{ $t('reviewed-annotation-status-validated') }}\r\n              </span>\r\n            </td>\r\n          </tr>\r\n        </template>\r\n      </template>\r\n\r\n      <template v-if=\"currentUser.isDeveloper\">\r\n        <tr>\r\n          <td><strong>{{$t('id')}}</strong></td>\r\n          <td>{{annotation.id}}</td>\r\n        </tr>\r\n      </template>\r\n    </tbody>\r\n  </table>\r\n\r\n  <div class=\"actions\">\r\n    <router-link\r\n      v-if=\"showImageInfo\"\r\n      :to=\"annotationURL\"\r\n      class=\"button is-link is-small is-fullwidth\"\r\n    >\r\n      {{ $t('button-view-in-image') }}\r\n    </router-link>\r\n\r\n    <a v-else class=\"button is-link is-small is-fullwidth\" @click=\"$emit('centerView')\">\r\n      {{ $t('button-center-view-on-annot') }}\r\n    </a>\r\n\r\n    <div class=\"level\">\r\n      <a @click=\"openCrop(annotation)\" class=\"level-item button is-small\">\r\n        {{ $t('button-view-crop') }}\r\n      </a>\r\n\r\n      <button class=\"level-item button is-small\" @click=\"copyURL()\">\r\n        {{ $t('button-copy-url') }}\r\n      </button>\r\n\r\n      <button v-if=\"isPropDisplayed('comments') && comments\" class=\"level-item button is-small\"\r\n        @click=\"openCommentsModal()\"\r\n      >\r\n        {{ $t('button-comments') }} ({{comments.length}})\r\n      </button>\r\n\r\n      <button v-if=\"canEdit\" class=\"level-item button is-small is-danger\" @click=\"confirmDeletion()\">\r\n        {{ $t('button-delete') }}\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {AnnotationTerm, AnnotationType, AnnotationCommentCollection, AnnotationTrack} from 'cytomine-client';\r\nimport copyToClipboard from 'copy-to-clipboard';\r\nimport ImageName from '@/components/image/ImageName';\r\nimport CytomineDescription from '@/components/description/CytomineDescription';\r\nimport CytomineProperties from '@/components/property/CytomineProperties';\r\nimport CytomineTags from '@/components/tag/CytomineTags';\r\nimport CytomineTerm from '@/components/ontology/CytomineTerm';\r\nimport AttachedFiles from '@/components/attached-file/AttachedFiles';\r\nimport OntologyTree from '@/components/ontology/OntologyTree';\r\nimport TrackTree from '@/components/track/TrackTree';\r\nimport CytomineTrack from '@/components/track/CytomineTrack';\r\nimport AnnotationCommentsModal from './AnnotationCommentsModal';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\nimport ChannelName from '@/components/viewer/ChannelName';\r\nimport {PropertyCollection} from 'cytomine-client';\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'annotations-details',\r\n  components: {\r\n    ChannelName,\r\n    ImageName,\r\n    CytomineDescription,\r\n    CytomineTerm,\r\n    OntologyTree,\r\n    CytomineTags,\r\n    CytomineProperties,\r\n    AttachedFiles,\r\n    AnnotationCommentsModal,\r\n    TrackTree,\r\n    CytomineTrack\r\n  },\r\n  props: {\r\n    annotation: {type: Object},\r\n    terms: {type: Array},\r\n    tracks: {type: Array},\r\n    users: {type: Array},\r\n    images: {type: Array},\r\n    slices: {type: Array, default: () => []},\r\n    showImageInfo: {type: Boolean, default: true},\r\n    showChannelInfo: {type: Boolean, default: false},\r\n    showComments: {type: Boolean, default: false}\r\n  },\r\n  data() {\r\n    return {\r\n      addTermString: '',\r\n      addTrackString: '',\r\n      showTermSelector: false,\r\n      showTrackSelector: false,\r\n      comments: null,\r\n      revTerms: 0,\r\n      revTracks: 0,\r\n      properties: [],\r\n      loadPropertiesError: false\r\n    };\r\n  },\r\n  computed: {\r\n    configUI: get('currentProject/configUI'),\r\n    ontology: get('currentProject/ontology'),\r\n    currentUser: get('currentUser/user'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    creator() {\r\n      return this.users.find(user => user.id === this.annotation.user) || {};\r\n    },\r\n    isReviewedAnnotation() {\r\n      return this.annotation.type === AnnotationType.REVIEWED;\r\n    },\r\n    reviewer() {\r\n      if(this.isReviewedAnnotation) {\r\n        return this.users.find(user => user.id === this.annotation.reviewUser) || {};\r\n      }\r\n      return null;\r\n    },\r\n    canEdit() {\r\n      return this.$store.getters['currentProject/canEditAnnot'](this.annotation);\r\n    },\r\n    canEditTerms() {\r\n      // HACK: because core prevents from modifying term of algo annot (https://github.com/cytomine/Cytomine-core/issues/1138 & 1139)\r\n      // + term modification forbidden for reviewed annotation\r\n      return this.canEdit && this.annotation.type === AnnotationType.USER;\r\n    },\r\n    image() {\r\n      return this.images.find(image => image.id === this.annotation.image) ||\r\n        {'id': this.annotation.image, 'instanceFilename': this.annotation.instanceFilename};\r\n    },\r\n    isImageInReviewMode() {\r\n      return this.image.inReview;\r\n    },\r\n    sliceChannel() {\r\n      return this.slices.find(slice => slice.id === this.annotation.slice) || {};\r\n    },\r\n    maxRank() {\r\n      return this.image.depth * this.image.duration * this.image.channels;\r\n    },\r\n    annotationURL() {\r\n      return `/project/${this.annotation.project}/image/${this.annotation.image}/annotation/${this.annotation.id}`;\r\n    },\r\n    associatedTerms() {\r\n      if(this.annotation.userByTerm) {\r\n        return this.annotation.userByTerm.map(ubt => {\r\n          let term = this.terms.find(term => ubt.term === term.id);\r\n          let user = this.users.find(user => user.id === ubt.user[0]) || {}; // QUESTION: can we have several users?\r\n          return {term, user};\r\n        });\r\n      }\r\n      else {\r\n        return [];\r\n      }\r\n    },\r\n    associatedTermsIds() {\r\n      this.revTerms;\r\n      return this.associatedTerms.map(({term}) => term.id);\r\n    },\r\n    associatedTracks() {\r\n      if(this.annotation.annotationTrack) {\r\n        return this.annotation.annotationTrack.map(at => {\r\n          let track = this.tracks.find(track => at.track === track.id);\r\n          return {track};\r\n        });\r\n      }\r\n      else {\r\n        return [];\r\n      }\r\n    },\r\n    associatedTracksIds() {\r\n      this.revTracks;\r\n      return this.associatedTracks.map(({track}) => track.id);\r\n    },\r\n    availableTracks() {\r\n      return this.tracks.filter(track => track.image === this.annotation.image);\r\n    },\r\n    isPoint() {\r\n      return this.annotation.location && this.annotation.location.includes('POINT');\r\n    },\r\n    internalUseFilteredProperties() {\r\n      return this.properties.filter(prop => !prop.key.startsWith(constants.PREFIX_HIDDEN_PROPERTY_KEY));\r\n    },\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    isPropDisplayed(prop) {\r\n      return this.configUI[`project-explore-annotation-${prop}`];\r\n    },\r\n    openCrop(annotation) {\r\n      window.location.assign(appendShortTermToken(annotation.url + '?draw=true&complete=true&increaseArea=1.25', this.shortTermToken), '_blank');\r\n    },\r\n    copyURL() {\r\n      copyToClipboard(window.location.origin + '/#' + this.annotationURL);\r\n      this.$notify({type: 'success', text: this.$t('notif-success-annot-URL-copied')});\r\n    },\r\n\r\n    async newTerm(term) { // a new term was added to the ontology\r\n      this.$emit('addTerm', term);\r\n      this.$store.dispatch('currentProject/fetchOntology');\r\n      this.addTerm(term.id);\r\n    },\r\n\r\n    async addTerm(idTerm) {\r\n      if(idTerm) {\r\n        try {\r\n          // TODO: fix issue with AlgoAnnotation https://github.com/cytomine/Cytomine-core/issues/1139\r\n          await new AnnotationTerm({annotation: this.annotation.id, term: idTerm}).save();\r\n          this.$emit('updateTerms');\r\n          this.showTermSelector = false;\r\n        }\r\n        catch(error) {\r\n          this.$notify({type: 'error', text: this.$t('notif-error-add-term')});\r\n          this.revTerms++;\r\n        }\r\n        finally {\r\n          this.addTermString = '';\r\n        }\r\n      }\r\n    },\r\n    async removeTerm(idTerm, idUser) {\r\n      idUser = idUser || this.findUserByTerm(idTerm); // if term removed from ontology tree, idUser not set => find it manually\r\n      if(!idUser) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // TODO fix issue with AlgoAnnotationTerm: https://github.com/cytomine/Cytomine-core/issues/1138\r\n        await AnnotationTerm.delete(this.annotation.id, idTerm, Number(idUser));\r\n        this.$emit('updateTerms');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-remove-term')});\r\n        this.revTerms++;\r\n      }\r\n    },\r\n    findUserByTerm(idTerm) {\r\n      if(this.annotation.userByTerm) {\r\n        let match = this.annotation.userByTerm.find(ubt => ubt.term === idTerm);\r\n        if(match) {\r\n          return match.user[0];\r\n        }\r\n      }\r\n    },\r\n\r\n    async newTrack(track) {\r\n      this.$emit('addTrack', track);\r\n      this.addTrack(track.id);\r\n    },\r\n    async addTrack(idTrack) {\r\n      if(idTrack) {\r\n        try {\r\n          await new AnnotationTrack({annotation: this.annotation.id, track: idTrack}).save();\r\n          this.$emit('updateTracks');\r\n          this.showTrackSelector = false;\r\n        }\r\n        catch(error) {\r\n          this.$notify({type: 'error', text: this.$t('notif-error-add-track')});\r\n          this.revTracks++;\r\n        }\r\n        finally {\r\n          this.addTrackString = '';\r\n        }\r\n      }\r\n    },\r\n    async removeTrack(idTrack) {\r\n      if(idTrack) {\r\n        try {\r\n          await AnnotationTrack.delete(this.annotation.id, idTrack);\r\n          this.$emit('updateTracks');\r\n        }\r\n        catch(error) {\r\n          this.$notify({type: 'error', text: this.$t('notif-error-remove-track')});\r\n          this.revTracks++;\r\n        }\r\n        finally {\r\n          this.addTrackString = '';\r\n        }\r\n      }\r\n    },\r\n\r\n    openCommentsModal() {\r\n      this.$buefy.modal.open({\r\n        parent: this,\r\n        component: AnnotationCommentsModal,\r\n        props: {annotation: this.annotation, comments: this.comments},\r\n        hasModalCard: true,\r\n        events: {'addComment': this.addComment}\r\n      });\r\n    },\r\n\r\n    addComment(comment) {\r\n      this.comments.unshift(comment);\r\n    },\r\n\r\n    confirmDeletion() {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('confirm-deletion'),\r\n        message: this.$t('confirm-deletion-annotation'),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.deleteAnnot()\r\n      });\r\n    },\r\n\r\n    async deleteAnnot() {\r\n      try {\r\n        await this.annotation.delete();\r\n        this.$emit('deletion');\r\n      }\r\n      catch(err) {\r\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-deletion')});\r\n      }\r\n    },\r\n    removeProp(prop) {\r\n      this.properties = this.properties.filter(p => p.id !== prop.id);\r\n    },\r\n    addProp(prop) {\r\n      this.properties.push(prop);\r\n    }\r\n  },\r\n  async created() {\r\n    if(this.isPropDisplayed('comments') && [AnnotationType.ALGO, AnnotationType.USER].includes(this.annotation.type)) {\r\n      try {\r\n        this.comments = (await AnnotationCommentCollection.fetchAll({annotation: this.annotation})).array;\r\n        if(this.showComments) {\r\n          this.openCommentsModal();\r\n        }\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-fetch-annotation-comments')});\r\n      }\r\n    }\r\n\r\n    try {\r\n      this.properties = (await PropertyCollection.fetchAll({ object: this.annotation })).array;\r\n    }\r\n    catch (error) {\r\n      this.loadPropertiesError = true;\r\n      console.log(error);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.annotation-details {\r\n  position: relative;\r\n  font-size: 0.85rem;\r\n}\r\n\r\n.table {\r\n  width: 100%;\r\n  margin-bottom: 0.7em !important;\r\n  background: transparent;\r\n}\r\n\r\n.table th, .table td {\r\n  vertical-align: middle;\r\n}\r\n\r\nh5 {\r\n  font-weight: 600;\r\n  margin-bottom: 0.6em;\r\n}\r\n\r\n.actions {\r\n  margin-bottom: 0.5em;\r\n}\r\n\r\n.actions .button {\r\n  margin: 3px;\r\n  box-sizing: border-box;\r\n}\r\n\r\na.is-fullwidth {\r\n  width: auto;\r\n}\r\n\r\n.add-term-wrapper, .add-track-wrapper {\r\n  position: relative;\r\n}\r\n\r\n.ontology-tree-container, .track-tree-container {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  z-index: 500;\r\n  padding-top: 5px;\r\n  background: white;\r\n  width: 100%;\r\n  max-height: 30vh;\r\n  overflow: auto;\r\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n  border-radius: 4px;\r\n  margin-top: 4px;\r\n}\r\n\r\n/**\r\n* https://stackoverflow.com/a/55368933\r\n* Since the project is using Sass and Vue 2.6.10, use `::v-deep` instead of `>>>` so it doesn't break validation.\r\n* Note that it's deprecated but will in Vue 3.\r\n* TODO: update >>> and ::v-deep using the unified :deep() selector when using the latest Vue.\r\n*/\r\n::v-deep .sl-vue-tree-node-item {\r\n  font-size: 0.9em;\r\n}\r\n\r\n::v-deep .tag {\r\n    margin-right: 5px;\r\n    margin-bottom: 5px !important;\r\n    background-color: rgba(0, 0, 0, 0.04);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationDetails.vue?vue&type=template&id=67b2b09b&scoped=true&\"\nimport script from \"./AnnotationDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnnotationDetails.vue?vue&type=style&index=0&id=67b2b09b&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67b2b09b\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareParameterDetails.vue?vue&type=style&index=0&id=5b5f6240&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddJobModal.vue?vue&type=style&index=0&id=8e5202c0&prod&scoped=true&lang=css&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineChannel.vue?vue&type=style&index=0&id=23cfb05c&prod&lang=css&\"","module.exports = __webpack_public_path__ + \"img/philips.11891926.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetadataFilter.vue?vue&type=style&index=0&id=013ed4b0&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationTree.vue?vue&type=style&index=0&id=5859de40&prod&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/hamamatsu.d2b568a4.jpg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListOntologies.vue?vue&type=style&index=0&id=efcc5a5e&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotationSelector.vue?vue&type=style&index=0&id=3ef9c304&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.track)?_c('span',[(_vm.track.color)?_c('i',{staticClass:\"far fa-square color-preview\",style:({color: _vm.track.color})}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.track.name)+\" \"),(_vm.currentUser.isDeveloper && _vm.track.id > 0)?_c('span',[_vm._v(\" (\"+_vm._s(_vm.$t('id'))+\": \"+_vm._s(_vm.track.id)+\")\")]):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<span v-if=\"track\">\r\n  <i class=\"far fa-square color-preview\" v-if=\"track.color\" :style=\"{color: track.color}\"></i>\r\n  {{track.name}}\r\n  <span v-if=\"currentUser.isDeveloper && track.id > 0\"> ({{$t('id')}}: {{track.id}})</span>\r\n</span>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nexport default {\r\n  name: 'cytomine-track',\r\n  props: {\r\n    track: Object\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .color-preview {\r\n    margin-right: 0.25em;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTrack.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTrack.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineTrack.vue?vue&type=template&id=62ec5aa4&scoped=true&\"\nimport script from \"./CytomineTrack.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineTrack.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineTrack.vue?vue&type=style&index=0&id=62ec5aa4&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62ec5aa4\",\n  null\n  \n)\n\nexport default component.exports","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d833\",\n\t\"./ar-tn.js\": \"6d833\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a391\",\n\t\"./ne.js\": \"3a391\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCommentsModal.vue?vue&type=style&index=0&id=5fbb43ad&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.term)?_c('span',[(_vm.term.color)?_c('div',{staticClass:\"color-preview\",style:({background: _vm.term.color})}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.term.name)+\" \"),(_vm.currentUser.isDeveloper && _vm.term.id > 0)?_c('span',[_vm._v(\" (\"+_vm._s(_vm.$t('id'))+\": \"+_vm._s(_vm.term.id)+\")\")]):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<span v-if=\"term\">\r\n  <div class=\"color-preview\" v-if=\"term.color\" :style=\"{background: term.color}\"></div>\r\n  {{term.name}}\r\n  <span v-if=\"currentUser.isDeveloper && term.id > 0\"> ({{$t('id')}}: {{term.id}})</span>\r\n</span>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nexport default {\r\n  name: 'cytomine-term',\r\n  props: {\r\n    term: Object\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.color-preview {\r\n  width: 1em;\r\n  height: 1em;\r\n  display: inline-block;\r\n  margin-right: 0.25em;\r\n  border-radius: 0.25em;\r\n  box-shadow: 0 0 1px #777;\r\n  position: relative;\r\n  top: 0.2em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTerm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTerm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineTerm.vue?vue&type=template&id=23b57a24&scoped=true&\"\nimport script from \"./CytomineTerm.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineTerm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineTerm.vue?vue&type=style&index=0&id=23b57a24&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23b57a24\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayersPanel.vue?vue&type=style&index=0&id=1376cde3&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectConnectionDetails.vue?vue&type=style&index=0&id=9af9c308&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFileDetails.vue?vue&type=style&index=0&id=030ffa62&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTrack.vue?vue&type=style&index=0&id=62ec5aa4&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutCytomineModal.vue?vue&type=style&index=0&id=9b72ba08&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineViewer.vue?vue&type=style&index=0&id=2b45029e&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageControlsShiftButtons.vue?vue&type=style&index=0&id=5eb6685e&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageName.vue?vue&type=style&index=0&id=6643e86b&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareDetails.vue?vue&type=style&index=0&id=14cd0d56&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading},on:{\"update:active\":function($event){_vm.loading=$event}}}),(!_vm.loading)?[(_vm.welcomeMessage)?_c('div',{staticClass:\"box\",domProps:{\"innerHTML\":_vm._s(_vm.welcomeMessage)}}):_vm._e(),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-two-thirds\"},[_c('div',{staticClass:\"box\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('recently-opened'))+\" \")]),(!_vm.recentProjects)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('failed-fetch-recent-projects'))+\" \")]):_c('b-table',{attrs:{\"data\":_vm.recentProjects},scopedSlots:_vm._u([{key:\"default\",fn:function({row: project}){return [_c('b-table-column',{attrs:{\"label\":_vm.$t('project'),\"width\":\"100\",\"centered\":\"\"}},[_c('router-link',{staticClass:\"project-name\",attrs:{\"to\":`/project/${project.id}`}},[_vm._v(\" \"+_vm._s(project.name)+\" \")])],1),_c('b-table-column',{attrs:{\"label\":_vm.$t('images'),\"width\":\"400\"}},[_c('list-images-preview',{attrs:{\"project\":project}})],1)]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-recent-project')))])])]},proxy:true}],null,false,4264962988)}),_c('p',{staticClass:\"has-text-centered all-projects\"},[_c('router-link',{staticClass:\"button is-link\",attrs:{\"to\":\"/projects\"}},[_vm._v(_vm._s(_vm.$t('view-all-projects')))])],1)],1)]),_c('div',{staticClass:\"column right-column\"},[_c('div',{staticClass:\"box stats\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('statistics'))+\" \")]),_c('table',{staticClass:\"table is-fullwidth\"},[_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.projects ? _vm.projects.length : \"?\"))]),_c('td',[_vm._v(_vm._s(_vm.$t('projects')))]),_c('td',[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t('number-projects-info-message')))])]},proxy:true}],null,false,2258136266)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.nbImages != null ? _vm.nbImages : \"?\"))]),_c('td',[_vm._v(_vm._s(_vm.$t('images')))]),_c('td',[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t('number-images-info-message')))])]},proxy:true}],null,false,2856895864)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.nbUserAnnots != null ? _vm.nbUserAnnots : \"?\"))]),_c('td',[_vm._v(_vm._s(_vm.$t('user-annotations')))]),_c('td',[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t('number-annotations-info-message')))])]},proxy:true}],null,false,3793819640)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.nbReviewed != null ? _vm.nbReviewed : \"?\"))]),_c('td',[_vm._v(_vm._s(_vm.$t('reviewed-annotations')))]),_c('td',[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t('number-reviewed-annotations-info-message')))])]},proxy:true}],null,false,4053539854)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)])])])]),_c('div',{staticClass:\"box\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('last-opened-image'))+\" \")]),(_vm.lastOpenedImage)?_c('image-preview',{attrs:{\"image\":_vm.lastOpenedImage,\"fullHeightCard\":false,\"showProject\":true,\"blindMode\":_vm.lastOpenedImage.blindMode}}):_c('div',{staticClass:\"has-text-grey has-text-centered\"},[_vm._v(\" \"+_vm._s(_vm.$t('no-recent-image'))+\" \")])],1)])])]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.images && _vm.images.length)?_c('div',{staticClass:\"columns\"},[_vm._l((_vm.images),function(image){return _c('div',{key:image.image,staticClass:\"column\"},[_c('image-preview',{attrs:{\"image\":image,\"blindMode\":_vm.project.blindMode}})],1)}),_c('div',{staticClass:\"column is-narrow vertical-center\"},[_c('router-link',{staticClass:\"button\",attrs:{\"to\":`/project/${this.project.id}/images`}},[_vm._v(_vm._s(_vm.$t('button-view-all')))])],1)],2):_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('no-image-recently-opened'))+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card\",class:{'full-height-card': _vm.fullHeightCard}},[_c('router-link',{staticClass:\"card-image recent-image\",attrs:{\"to\":`/project/${_vm.idProject}/image/${_vm.idImage}`}},[_c('figure',{staticClass:\"image is-5by3\",style:(_vm.figureStyle)})]),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('p',[_c('router-link',{attrs:{\"to\":`/project/${_vm.idProject}/image/${_vm.idImage}`}},[(_vm.isBlindMode)?_c('span',{staticClass:\"blind-indication\"},[_vm._v(\"[\"+_vm._s(this.$t('blinded-name-indication'))+\"]\")]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.image.blindedName || _vm.image.instanceFilename || _vm.image.imageName)+\" \"),(_vm.showProject)?_c('span',{staticClass:\"in-project\"},[_vm._v(\"(\"+_vm._s(_vm.$t('in-project', {projectName: _vm.image.projectName}))+\")\")]):_vm._e()])],1),_vm._t(\"default\")],2)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nfunction isWebPSupported() {\r\n  let elem = document.createElement('canvas');\r\n  if (elem.getContext && elem.getContext('2d')) {\r\n    return elem.toDataURL('image/webp').indexOf('data:image/webp') === 0;\r\n  }\r\n\r\n  // very old browser like IE 8, canvas not supported\r\n  return false;\r\n}\r\n\r\nexport const SUPPORT_WEBP = isWebPSupported();\r\nexport const IMAGE_FORMAT = (SUPPORT_WEBP) ? 'webp' : 'jpg';\r\n\r\nexport function splitImageUrl(rawUrl) {\r\n  let url = new URL(rawUrl);\r\n  let pathname = url.pathname.split('.')[0];\r\n  let params = url.searchParams;\r\n\r\n  return {\r\n    host: `${url.protocol}//${url.host}`,\r\n    pathname: pathname,\r\n    params: params\r\n  };\r\n}\r\n\r\nexport function combineImageUrl({host, pathname, format, params}) {\r\n  if (!(params instanceof URLSearchParams)) {\r\n    params = new URLSearchParams(params);\r\n  }\r\n  let formattedParams = params.toString();\r\n  let sep = (formattedParams.length > 0) ? '?' : '';\r\n  return `${host}${pathname}.${format}${sep}${formattedParams}`;\r\n}\r\n\r\n\r\nexport function changeImageUrlFormat(url, newFormat=IMAGE_FORMAT) {\r\n  return combineImageUrl({format: newFormat, ...splitImageUrl(url)});\r\n}\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"card\" :class=\"{'full-height-card': fullHeightCard}\">\r\n  <router-link class=\"card-image recent-image\" :to=\"`/project/${idProject}/image/${idImage}`\">\r\n    <figure class=\"image is-5by3\" :style=\"figureStyle\">\r\n    </figure>\r\n  </router-link>\r\n  <div class=\"card-content\">\r\n    <div class=\"content\">\r\n      <p>\r\n        <router-link :to=\"`/project/${idProject}/image/${idImage}`\">\r\n          <span v-if=\"isBlindMode\" class=\"blind-indication\">[{{this.$t('blinded-name-indication')}}]</span>\r\n          {{ image.blindedName || image.instanceFilename || image.imageName }}\r\n          <span v-if=\"showProject\" class=\"in-project\">({{$t('in-project', {projectName: image.projectName})}})</span>\r\n        </router-link>\r\n      </p>\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {changeImageUrlFormat} from '@/utils/image-utils';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\n\r\nexport default {\r\n  name: 'image-preview',\r\n  props: {\r\n    image: {type: Object},\r\n    project: {type: Object, default: null},\r\n    fullHeightCard: {type: Boolean, default: true},\r\n    showProject: {type: Boolean, default: false},\r\n    blindMode: {type: Boolean, default: false},\r\n    shortTermToken: {type: String, default: null}\r\n  },\r\n  computed: {\r\n    idImage() {\r\n      return this.image.image || this.image.id; // if provided object is image consultation, image.image\r\n    },\r\n    idProject() {\r\n      return (this.project) ? this.project.id : this.image.project;\r\n    },\r\n    isBlindMode() {\r\n      return (this.project) ? this.project.blindMode : this.blindMode;\r\n    },\r\n    rawPreviewUrl() {\r\n      return this.image.thumb || this.image.imageThumb;\r\n    },\r\n    previewUrl() {\r\n      return changeImageUrlFormat(this.rawPreviewUrl);\r\n    },\r\n    figureStyle() {\r\n      return {backgroundImage: `url(\"${appendShortTermToken(this.previewUrl, this.shortTermToken)}\")`};\r\n    }\r\n  },\r\n  created() {\r\n    this.shortTermToken = this.$store.getters['currentUser/currentShortTermToken'];\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.image {\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  background-size: cover;\r\n  position: relative;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.card.full-height-card {\r\n  height: 100%;\r\n}\r\n\r\n.card-content {\r\n  padding: 1.5rem;\r\n  overflow-wrap: break-word;\r\n}\r\n\r\n.card-content a {\r\n  font-weight: 600;\r\n}\r\n\r\n.blind-indication {\r\n  font-size: 0.9em;\r\n  text-transform: uppercase;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImagePreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImagePreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImagePreview.vue?vue&type=template&id=1af6021b&scoped=true&\"\nimport script from \"./ImagePreview.vue?vue&type=script&lang=js&\"\nexport * from \"./ImagePreview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImagePreview.vue?vue&type=style&index=0&id=1af6021b&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1af6021b\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"columns\" v-if=\"images && images.length\">\r\n  <div class=\"column\" v-for=\"image in images\" :key=\"image.image\">\r\n    <image-preview :image=\"image\" :blindMode=\"project.blindMode\" />\r\n  </div>\r\n  <div class=\"column is-narrow vertical-center\">\r\n    <router-link class=\"button\" :to=\"`/project/${this.project.id}/images`\">{{$t('button-view-all')}}</router-link>\r\n  </div>\r\n</div>\r\n<div v-else>\r\n  {{$t('no-image-recently-opened')}}\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {ImageInstanceCollection} from 'cytomine-client';\r\n\r\nimport ImagePreview from './ImagePreview';\r\n\r\nexport default {\r\n  name: 'list-images-preview',\r\n  components: {ImagePreview},\r\n  props: {\r\n    project: Object,\r\n    nbRecent: {\r\n      type: Number,\r\n      default: 3\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      images: []\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user')\r\n  },\r\n  async created() {\r\n    this.images = await ImageInstanceCollection.fetchLastOpened({\r\n      max: this.nbRecent,\r\n      project: this.project.id,\r\n      user: this.currentUser.id\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.column:not(.is-narrow) {\r\n  max-width: 12.5rem;\r\n  min-width: 12.5rem;\r\n}\r\n\r\n.vertical-center {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListImagesPreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListImagesPreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListImagesPreview.vue?vue&type=template&id=2744f546&scoped=true&\"\nimport script from \"./ListImagesPreview.vue?vue&type=script&lang=js&\"\nexport * from \"./ListImagesPreview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListImagesPreview.vue?vue&type=style&index=0&id=2744f546&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2744f546\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"content-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active.sync=\"loading\" />\r\n\r\n  <template v-if=\"!loading\">\r\n    <div v-if=\"welcomeMessage\" class=\"box\" v-html=\"welcomeMessage\"></div>\r\n\r\n    <div class=\"columns\">\r\n      <div class=\"column is-two-thirds\">\r\n        <div class=\"box\">\r\n          <h2> {{ $t('recently-opened') }} </h2>\r\n          <b-message v-if=\"!recentProjects\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n            {{$t('failed-fetch-recent-projects')}}\r\n          </b-message>\r\n          <b-table v-else :data=\"recentProjects\">\r\n\r\n            <template #default=\"{row: project}\">\r\n              <b-table-column :label=\"$t('project')\" width=\"100\" centered>\r\n                <router-link class=\"project-name\" :to=\"`/project/${project.id}`\">\r\n                  {{ project.name }}\r\n                </router-link>\r\n              </b-table-column>\r\n\r\n              <b-table-column :label=\"$t('images')\" width=\"400\">\r\n                <list-images-preview :project=\"project\" />\r\n              </b-table-column>\r\n            </template>\r\n\r\n            <template #empty>\r\n              <div class=\"content has-text-grey has-text-centered\">\r\n                <p>{{$t('no-recent-project')}}</p>\r\n              </div>\r\n            </template>\r\n          </b-table>\r\n\r\n          <p class=\"has-text-centered all-projects\">\r\n            <router-link class=\"button is-link\" to=\"/projects\">{{$t('view-all-projects')}}</router-link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"column right-column\">\r\n        <div class=\"box stats\">\r\n          <h2> {{ $t('statistics') }} </h2>\r\n          <table class=\"table is-fullwidth\">\r\n            <tbody>\r\n              <tr>\r\n                <td>{{projects ? projects.length : \"?\"}}</td>\r\n                <td>{{$t('projects')}}</td>\r\n                <td>\r\n                  <v-popover>\r\n                    <i class=\"fas fa-info-circle\"></i>\r\n                    <template #popover>\r\n                      <p>{{$t('number-projects-info-message')}}</p>\r\n                    </template>\r\n                  </v-popover>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>{{nbImages != null ? nbImages : \"?\"}}</td>\r\n                <td>{{$t('images')}}</td>\r\n                <td>\r\n                  <v-popover>\r\n                    <i class=\"fas fa-info-circle\"></i>\r\n                    <template #popover>\r\n                      <p>{{$t('number-images-info-message')}}</p>\r\n                    </template>\r\n                  </v-popover>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>{{nbUserAnnots != null ? nbUserAnnots : \"?\"}}</td>\r\n                <td>{{$t('user-annotations')}}</td>\r\n                <td>\r\n                  <v-popover>\r\n                    <i class=\"fas fa-info-circle\"></i>\r\n                    <template #popover>\r\n                      <p>{{$t('number-annotations-info-message')}}</p>\r\n                    </template>\r\n                  </v-popover>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>{{nbReviewed != null ? nbReviewed : \"?\"}}</td>\r\n                <td>{{$t('reviewed-annotations')}}</td>\r\n                <td>\r\n                  <v-popover>\r\n                    <i class=\"fas fa-info-circle\"></i>\r\n                    <template #popover>\r\n                      <p>{{$t('number-reviewed-annotations-info-message')}}</p>\r\n                    </template>\r\n                  </v-popover>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <div class=\"box\">\r\n          <h2> {{ $t('last-opened-image') }} </h2>\r\n          <image-preview\r\n            v-if=\"lastOpenedImage\"\r\n            :image=\"lastOpenedImage\"\r\n            :fullHeightCard=\"false\"\r\n            :showProject=\"true\"\r\n            :blindMode=\"lastOpenedImage.blindMode\"\r\n          />\r\n          <div class=\"has-text-grey has-text-centered\" v-else>\r\n            {{$t('no-recent-image')}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport ListImagesPreview from '@/components/image/ListImagesPreview';\r\nimport ImagePreview from '@/components/image/ImagePreview';\r\n\r\nimport {ImageInstanceCollection, ProjectCollection, Configuration} from 'cytomine-client';\r\n\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'global-dashboard',\r\n  components: {\r\n    ListImagesPreview,\r\n    ImagePreview\r\n  },\r\n  props: {\r\n    nbRecent: {\r\n      type: Number,\r\n      default: 3\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      projects: null,\r\n      recentProjectsId: null,\r\n      recentImages: [],\r\n      nbUserAnnots: null,\r\n      nbReviewed: null,\r\n      welcomeMessage: null,\r\n      loading: true\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n\r\n    nbImages() {\r\n      if(!this.projects) {\r\n        return;\r\n      }\r\n\r\n      return this.projects.array.reduce((count, project) => {\r\n        return count + project.numberOfImages;\r\n      }, 0);\r\n    },\r\n    recentProjects() {\r\n      if(!this.recentProjectsId || !this.projects) {\r\n        return;\r\n      }\r\n\r\n      let array = [];\r\n      this.recentProjectsId.forEach(id => {\r\n        let project = this.projects.array.find(project => project.id === id);\r\n        if(project) {\r\n          array.push(project);\r\n        }\r\n      });\r\n      return array;\r\n    },\r\n    lastOpenedImage() {\r\n      if(this.recentImages && this.recentImages.length > 0 && this.projects) {\r\n        let lastOpened = this.recentImages[0];\r\n        let project = this.projects.array.find(project => project.id === lastOpened.project);\r\n        if(project) {\r\n          lastOpened.projectName = project.name;\r\n          lastOpened.blindMode = project.blindMode;\r\n        }\r\n        return lastOpened;\r\n      }\r\n      return false;\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchProjects() {\r\n      this.projects = await ProjectCollection.fetchAll();\r\n    },\r\n    async fetchNbAnnots() {\r\n      this.nbUserAnnots = await this.currentUser.fetchNbAnnotations();\r\n    },\r\n    async fetchNbReviewedAnnots() {\r\n      this.nbReviewed = await this.currentUser.fetchNbAnnotations(true);\r\n    },\r\n    async fetchRecentProjectsId() {\r\n      let listRecent = await ProjectCollection.fetchLastOpened(this.nbRecent);\r\n      this.recentProjectsId = listRecent.map(recent => recent.id);\r\n    },\r\n    async fetchRecentImages() {\r\n      this.recentImages = await ImageInstanceCollection.fetchLastOpened({max: 1});\r\n    },\r\n    async fetchWelcomeMessage() {\r\n      try {\r\n        this.welcomeMessage = (await Configuration.fetch(constants.CONFIG_KEY_WELCOME)).value;\r\n      }\r\n      catch(error) {\r\n        // no welcome message defined\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    await Promise.all([\r\n      this.fetchProjects(),\r\n      this.fetchNbAnnots(),\r\n      this.fetchNbReviewedAnnots(),\r\n      this.fetchRecentProjectsId(),\r\n      this.fetchRecentImages(),\r\n      this.fetchWelcomeMessage()\r\n    ].map(p => p.catch(e => console.log(e)))); // ignore errors (handled in template) and ensure all promises finish, even if some errors occur in the process\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ntd {\r\n  vertical-align: middle !important;\r\n}\r\n\r\na.project-name {\r\n  font-weight: 600;\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.all-projects {\r\n  margin-top: 1rem;\r\n}\r\n\r\n.right-column {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.stats {\r\n  padding-bottom: 2.5rem;\r\n}\r\n\r\ntd:first-child {\r\n  font-weight: 600;\r\n  text-align: right;\r\n  width: 25%;\r\n}\r\n\r\n.fas.fa-info-circle {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalDashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalDashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GlobalDashboard.vue?vue&type=template&id=bbd1f22e&scoped=true&\"\nimport script from \"./GlobalDashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./GlobalDashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GlobalDashboard.vue?vue&type=style&index=0&id=bbd1f22e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bbd1f22e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"list-projects-wrapper content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('unexpected-error-info-message')))])]):(!_vm.loading)?_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('projects'))+\" \"),(!_vm.currentUser.guestByNow)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){_vm.creationModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('new-project'))+\" \")]):_vm._e()]),_c('div',{staticClass:\"panel-block\"},[_c('div',{staticClass:\"search-block\"},[_c('b-input',{staticClass:\"search-projects\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.toggleFilterDisplay()}}},[_vm._m(0),_c('span',[_vm._v(\" \"+_vm._s(_vm.filtersOpened ? _vm.$t('button-hide-filters') : _vm.$t('button-show-filters'))+\" \")]),(_vm.nbActiveFilters)?_c('span',{staticClass:\"nb-active-filters\"},[_vm._v(\" \"+_vm._s(_vm.nbActiveFilters)+\" \")]):_vm._e()])],1),_c('b-collapse',{attrs:{\"open\":_vm.filtersOpened}},[_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('ontology'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableOntologies,\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"allPlaceholder\":_vm.$t('all-ontologies')},model:{value:(_vm.selectedOntologies),callback:function ($$v) {_vm.selectedOntologies=$$v},expression:\"selectedOntologies\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('my-role'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableRoles,\"multiple\":\"\",\"searchable\":false},model:{value:(_vm.selectedRoles),callback:function ($$v) {_vm.selectedRoles=$$v},expression:\"selectedRoles\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('tags'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableTags,\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"allPlaceholder\":_vm.$t('all')},model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})],1)])]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('members'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbMembers},model:{value:(_vm.boundsMembers),callback:function ($$v) {_vm.boundsMembers=$$v},expression:\"boundsMembers\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('images'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbImages},model:{value:(_vm.boundsImages),callback:function ($$v) {_vm.boundsImages=$$v},expression:\"boundsImages\"}})],1)]),_c('div',{staticClass:\"column\"})]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('user-annotations'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbUserAnnotations},model:{value:(_vm.boundsUserAnnotations),callback:function ($$v) {_vm.boundsUserAnnotations=$$v},expression:\"boundsUserAnnotations\"}})],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.algoEnabled),expression:\"algoEnabled\"}],staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('analysis-annotations'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbJobAnnotations},model:{value:(_vm.boundsJobAnnotations),callback:function ($$v) {_vm.boundsJobAnnotations=$$v},expression:\"boundsJobAnnotations\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('reviewed-annotations'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbReviewedAnnotations},model:{value:(_vm.boundsReviewedAnnotations),callback:function ($$v) {_vm.boundsReviewedAnnotations=$$v},expression:\"boundsReviewedAnnotations\"}})],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.algoEnabled),expression:\"!algoEnabled\"}],staticClass:\"column\"})])])]),_c('cytomine-table',{staticClass:\"table-projects\",attrs:{\"collection\":_vm.projectCollection,\"is-empty\":_vm.nbEmptyFilters > 0,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"openedDetailed\":_vm.openedDetails,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function({row: project}){return [_c('b-table-column',{attrs:{\"field\":\"currentUserRole\",\"label\":\"\",\"centered\":\"\",\"width\":\"1\",\"sortable\":\"\"}},[_c('icon-project-member-role',{attrs:{\"is-manager\":project.currentUserRoles.admin,\"is-representative\":project.currentUserRoles.representative}})],1),_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"250\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}`}},[_vm._v(\" \"+_vm._s(project.name)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"membersCount\",\"label\":_vm.$t('members'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(project.membersCount)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"numberOfImages\",\"label\":_vm.$t('images'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}/images`}},[_vm._v(_vm._s(project.numberOfImages))])],1),_c('b-table-column',{attrs:{\"field\":\"numberOfAnnotations\",\"label\":_vm.$t('user-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}/annotations?type=user`}},[_vm._v(\" \"+_vm._s(project.numberOfAnnotations)+\" \")])],1),(_vm.algoEnabled)?_c('b-table-column',{attrs:{\"field\":\"numberOfJobAnnotations\",\"label\":_vm.$t('analysis-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}/annotations?type=algo`}},[_vm._v(\" \"+_vm._s(project.numberOfJobAnnotations)+\" \")])],1):_vm._e(),_c('b-table-column',{attrs:{\"field\":\"numberOfReviewedAnnotations\",\"label\":_vm.$t('reviewed-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}/annotations?type=reviewed`}},[_vm._v(\" \"+_vm._s(project.numberOfReviewedAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"lastActivity\",\"label\":_vm.$t('last-activity'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"180\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(project.lastActivity),'ll'))+\" \")]),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\",\"width\":\"150\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":`/project/${project.id}`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-open'))+\" \")])],1)]}},{key:\"detail\",fn:function({row: project}){return [_c('project-details',{attrs:{\"project\":project,\"excluded-properties\":_vm.excludedProperties,\"editable\":\"\"},on:{\"update\":function($event){return _vm.updateProject()},\"delete\":function($event){return _vm.deleteProject(project)}}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-project')))])])]},proxy:true}])}),_c('div',{staticClass:\"legend\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('legend')))]),_c('p',[_c('icon-project-member-role'),_vm._v(\" : \"+_vm._s(_vm.$t('contributor-icon-label')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('manager-icon-label')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true,\"is-representative\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('representative-icon-label')))],1)])],1)]):_vm._e(),_c('add-project-modal',{attrs:{\"active\":_vm.creationModal,\"ontologies\":_vm.ontologies},on:{\"update:active\":function($event){_vm.creationModal=$event}}})],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-filter\"})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._t(\"error\",function(){return [_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]})],2):_c('div',{staticClass:\"cytomine-table-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":!_vm.data}}),(_vm.data)?_c('b-table',{attrs:{\"data\":_vm.data,\"loading\":_vm.loading,\"paginated\":\"\",\"backend-pagination\":\"\",\"total\":_vm.total,\"per-page\":_vm.internalPerPage,\"current-page\":_vm.internalCurrentPage,\"pagination-size\":\"is-small\",\"detailed\":_vm.detailed,\"detail-key\":_vm.detailKey,\"opened-detailed\":_vm.openedDetailed.slice(),\"backend-sorting\":\"\",\"default-sort\":_vm.sort,\"default-sort-direction\":_vm.order,\"checkable\":_vm.checkable,\"checked-rows\":_vm.internalCheckedRows,\"is-row-checkable\":_vm.isRowCheckable},on:{\"update:currentPage\":function($event){_vm.internalCurrentPage=$event},\"update:current-page\":function($event){_vm.internalCurrentPage=$event},\"update:openedDetailed\":function($event){return _vm.$emit('update:openedDetailed', $event)},\"update:checkedRows\":function($event){_vm.internalCheckedRows=$event},\"update:checked-rows\":function($event){_vm.internalCheckedRows=$event},\"sort\":_vm.updateSort},scopedSlots:_vm._u([{key:\"header\",fn:function({column}){return [_vm._t(\"header\",function(){return [_vm._v(\" \"+_vm._s(column.label)+\" \")]},{\"column\":column,\"index\":_vm.index})]}},{key:\"default\",fn:function({row, index}){return [_vm._t(\"default\",null,{\"row\":row,\"index\":index})]}},{key:\"detail\",fn:function({row, index}){return [_vm._t(\"detail\",null,{\"row\":row,\"index\":index})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_vm._t(\"empty\",function(){return [_vm._v(\" \"+_vm._s(_vm.$t('no-result'))+\" \")]},{\"row\":_vm.row,\"index\":_vm.index})],2)]},proxy:true},{key:\"footer\",fn:function(){return [_vm._t(\"footer\")]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.internalPerPage),callback:function ($$v) {_vm.internalPerPage=$$v},expression:\"internalPerPage\"}},_vm._l((_vm.perPageOptions),function(option){return _c('option',{key:option,domProps:{\"value\":option}},[_vm._v(\" \"+_vm._s(_vm.$t('count-per-page', {count: option}))+\" \")])}),0)]},proxy:true}],null,true)}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n\r\n<template>\r\n<b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n  <slot name=\"error\">\r\n    <h2> {{ $t('error') }} </h2>\r\n    <p> {{ $t('unexpected-error-info-message') }} </p>\r\n  </slot>\r\n</b-message>\r\n<div v-else class=\"cytomine-table-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"!data\" />\r\n  <b-table\r\n    v-if=\"data\"\r\n    :data=\"data\"\r\n    :loading=\"loading\"\r\n    paginated\r\n    backend-pagination\r\n    :total=\"total\"\r\n    :per-page=\"internalPerPage\"\r\n    :current-page.sync=\"internalCurrentPage\"\r\n    pagination-size=\"is-small\"\r\n    :detailed=\"detailed\"\r\n    :detail-key=\"detailKey\"\r\n    :opened-detailed=\"openedDetailed.slice()\" @update:openedDetailed=\"$emit('update:openedDetailed', $event)\"\r\n    backend-sorting\r\n    :default-sort=\"sort\"\r\n    :default-sort-direction=\"order\"\r\n    :checkable=\"checkable\"\r\n    :checked-rows.sync=\"internalCheckedRows\"\r\n    :is-row-checkable=\"isRowCheckable\"\r\n    @sort=\"updateSort\"\r\n  >\r\n    <template #header=\"{column}\">\r\n      <slot name=\"header\" :column=\"column\" :index=\"index\">\r\n        {{ column.label }}\r\n      </slot>\r\n    </template>\r\n\r\n    <template #default=\"{row, index}\">\r\n      <slot :row=\"row\" :index=\"index\"></slot>\r\n    </template>\r\n\r\n    <template #detail=\"{row, index}\">\r\n      <slot name=\"detail\" :row=\"row\" :index=\"index\"></slot>\r\n    </template>\r\n\r\n    <template #empty>\r\n      <div class=\"content has-text-grey has-text-centered\">\r\n        <slot name=\"empty\" :row=\"row\" :index=\"index\">\r\n          {{$t('no-result')}}\r\n        </slot>\r\n      </div>\r\n    </template>\r\n\r\n    <template #footer>\r\n      <slot name=\"footer\"></slot>\r\n    </template>\r\n\r\n    <template #bottom-left>\r\n      <b-select v-model=\"internalPerPage\" size=\"is-small\">\r\n        <option v-for=\"option in perPageOptions\" :key=\"option\" :value=\"option\">\r\n          {{$t('count-per-page', {count: option})}}\r\n        </option>\r\n      </b-select>\r\n    </template>\r\n  </b-table>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'cytomine-table',\r\n  props: {\r\n    collection: Object,\r\n    isEmpty: {type: Boolean, default: false},\r\n    perPageOptions: {type: Array, default: () => [5, 10, 25, 50, 100]},\r\n    perPage: {type: Number, default: 25},\r\n    currentPage: {type: Number, default: 1},\r\n    detailed: {type: Boolean, default: true},\r\n    detailKey: {type: String, default: 'id'},\r\n    openedDetailed: {type: Array, default: () => []},\r\n    sort: {type: String},\r\n    order: {type: String, default: 'asc'},\r\n    revision: Number, // updating this value will result in update of table data\r\n    refreshInterval: {type: Number, default: 0}, // if > 0, table data will be refreshed according to refreshInterval (expressed in ms)\r\n    checkable: {type: Boolean, default: false},\r\n    checkedRows: {type: Array, default: () => []},\r\n    isRowCheckable: { type: Function }\r\n  },\r\n  data() {\r\n    return {\r\n      index: 0,\r\n      row: null,\r\n\r\n      data: null,\r\n      error: false,\r\n      loading: true,\r\n      total: 0,\r\n      internalCheckedRows: [],\r\n      internalCurrentPage: null,\r\n      internalPerPage: null,\r\n      internalSort: null,\r\n      internalOrder: null,\r\n      timeout: null\r\n    };\r\n  },\r\n  computed: {\r\n    internalCollection() {\r\n      let collection = this.collection.clone();\r\n      collection.max = this.internalPerPage;\r\n      collection.sort = this.internalSort;\r\n      collection.order = this.internalOrder;\r\n      return collection;\r\n    }\r\n  },\r\n  watch: {\r\n    internalCollection() {\r\n      this.fetchPage(true);\r\n    },\r\n    internalCurrentPage(page, previousValue) {\r\n      if(previousValue) { // do not trigger change for value initialization\r\n        this.$emit('update:currentPage', page);\r\n        this.fetchPage(true);\r\n      }\r\n    },\r\n    internalCheckedRows(chckedRows) {\r\n      this.$emit('update:checkedRows', chckedRows);\r\n    },\r\n    internalPerPage(perPage) {\r\n      this.$emit('update:perPage', perPage);\r\n    },\r\n    revision() {\r\n      this.fetchPage();\r\n    },\r\n    refreshInterval(value) {\r\n      if(value === 0) {\r\n        clearTimeout(this.timeout);\r\n        this.timeout = null;\r\n      }\r\n      else if(!this.timeout) { // user provided a valid refresh interval, and no fetch page planned => relaunch fetch page\r\n        this.fetchPage();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    updateSort(sort, order) {\r\n      this.internalSort = sort;\r\n      this.internalOrder = order;\r\n      this.$emit('update:sort', sort);\r\n      this.$emit('update:order', order);\r\n    },\r\n    async fetchPage(showLoading=false) {\r\n      if(showLoading) {\r\n        this.loading = true;\r\n      }\r\n\r\n      try {\r\n        let data = {array: [], totalNbItems: 0};\r\n        if (this.isEmpty) {\r\n          this.internalCurrentPage = 1;\r\n        }\r\n        else {\r\n          data = await this.internalCollection.fetchPage(this.internalCurrentPage - 1);\r\n        }\r\n\r\n        this.data = data.array;\r\n        this.total = data.totalNbItems;\r\n\r\n        //as data is refetched, we need to update the selected rows\r\n        this.internalCheckedRows = this.data.filter(member => {\r\n          return this.internalCheckedRows.map(u => u.id).includes(member.id);\r\n        });\r\n\r\n        this.$emit('update:checkedRows', this.internalCheckedRows);\r\n        this.$emit('update:data', data);\r\n      }\r\n      catch(error) {\r\n        if(this.internalCurrentPage > 1) { // error may be due to the page number (not enough elements) => retry on first page\r\n          this.internalCurrentPage = 1;\r\n          return;\r\n        }\r\n\r\n        console.log(error);\r\n        this.error = true;\r\n        return;\r\n      }\r\n\r\n      this.loading = false;\r\n\r\n      clearTimeout(this.timeout);\r\n      if(this.refreshInterval) {\r\n        this.timeout = setTimeout(this.fetchPage, this.refreshInterval);\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.internalCurrentPage = this.currentPage;\r\n    this.internalPerPage = this.perPage;\r\n    this.internalSort = this.sort;\r\n    this.internalOrder = this.order;\r\n    this.internalCheckedRows = this.checkedRows;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.cytomine-table-wrapper {\r\n  min-height: 10em;\r\n  position: relative;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineTable.vue?vue&type=template&id=0fa69708&scoped=true&\"\nimport script from \"./CytomineTable.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineTable.vue?vue&type=style&index=0&id=0fa69708&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0fa69708\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('multiselect',{attrs:{\"value\":_vm.value,\"label\":_vm.label,\"track-by\":_vm.trackBy,\"group-label\":_vm.groupLabel,\"group-values\":_vm.groupValues,\"group-select\":true,\"options\":_vm.options,\"optionHeight\":30,\"showLabels\":false,\"multiple\":_vm.multiple,\"close-on-select\":_vm.internalCloseOnSelect,\"searchable\":_vm.searchable,\"clear-on-select\":_vm.multiple ? false : true,\"showPointer\":false,\"placeholder\":_vm.$t('select-options'),\"allow-empty\":_vm.allowEmpty,\"disabled\":_vm.disabled},on:{\"input\":function($event){return _vm.$emit('input', $event)}},scopedSlots:_vm._u([(_vm.multiple && _vm.options.length > 0 && _vm.selectAllAvailable)?{key:\"beforeList\",fn:function(){return [_c('li',{staticClass:\"multiselect__element multiselect__select-all\",on:{\"click\":function($event){return _vm.selectAll()}}},[_c('span',{class:['multiselect__option', _vm.allSelected ? 'multiselect__option--selected' : '']},[_vm._v(\" \"+_vm._s(_vm.$t('select-all'))+\" \")])])]},proxy:true}:null,(_vm.multiple && _vm.options.length > 0)?{key:\"selection\",fn:function({isOpen}){return [(!isOpen)?_c('div',{staticClass:\"multiselect__tags-wrap\"},[(_vm.allSelected)?_c('strong',[_vm._v(\" \"+_vm._s(_vm.allPlaceholder || _vm.$t('all'))+\" \")]):[_vm._l((_vm.displayedOptions),function(option,index){return _c('span',{key:option[_vm.trackBy]},[_vm._v(\" \"+_vm._s(_vm.label ? option[_vm.label] : option)),(index < _vm.displayedOptions.length - 1)?[_vm._v(\",\")]:_vm._e()],2)}),(_vm.countNotDisplayed > 0)?_c('strong',[_vm._v(\" \"+_vm._s(_vm.$tc(\"and-count-others\", _vm.countNotDisplayed, {count: _vm.countNotDisplayed}))+\" \")]):_vm._e()]],2):_c('div')]}}:null,{key:\"option\",fn:function({option}){return [_vm._t(\"option\",null,{\"option\":option})]}}],null,true)})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<multiselect\r\n  :value=\"value\" @input=\"$emit('input', $event)\"\r\n  :label=\"label\"\r\n  :track-by=\"trackBy\"\r\n  :group-label=\"groupLabel\"\r\n  :group-values=\"groupValues\"\r\n  :group-select=\"true\"\r\n  :options=\"options\"\r\n  :optionHeight=\"30\"\r\n  :showLabels=\"false\"\r\n  :multiple=\"multiple\"\r\n  :close-on-select=\"internalCloseOnSelect\"\r\n  :searchable=\"searchable\"\r\n  :clear-on-select=\"multiple ? false : true\"\r\n  :showPointer=\"false\"\r\n  :placeholder=\"$t('select-options')\"\r\n  :allow-empty=\"allowEmpty\"\r\n  :disabled=\"disabled\"\r\n>\r\n\r\n  <template #beforeList v-if=\"multiple && options.length > 0 && selectAllAvailable\">\r\n    <li class=\"multiselect__element multiselect__select-all\" @click=\"selectAll()\">\r\n      <span :class=\"['multiselect__option', allSelected ? 'multiselect__option--selected' : '']\">\r\n        {{$t('select-all')}}\r\n      </span>\r\n    </li>\r\n  </template>\r\n\r\n  <template #selection=\"{isOpen}\" v-if=\"multiple && options.length > 0\">\r\n    <div class=\"multiselect__tags-wrap\" v-if=\"!isOpen\">\r\n      <strong v-if=\"allSelected\"> {{allPlaceholder || $t('all')}} </strong>\r\n      <template v-else>\r\n        <span v-for=\"(option, index) in displayedOptions\" :key=\"option[trackBy]\">\r\n          {{label ? option[label] : option}}<template v-if=\"index < displayedOptions.length - 1\">,</template>\r\n        </span>\r\n        <strong v-if=\"countNotDisplayed > 0\">\r\n          {{ $tc(\"and-count-others\", countNotDisplayed, {count: countNotDisplayed}) }}\r\n        </strong>\r\n      </template>\r\n    </div>\r\n    <div v-else></div>\r\n  </template>\r\n\r\n  <template #option=\"{option}\">\r\n    <slot name=\"option\" :option=\"option\"></slot>\r\n  </template>\r\n\r\n</multiselect>\r\n</template>\r\n\r\n<script>\r\nimport Multiselect from 'vue-multiselect';\r\n\r\nexport default {\r\n  name: 'cytomine-multiselect',\r\n  components: {Multiselect},\r\n  props: {\r\n    value: {type: null},\r\n    options: {type: null},\r\n    label: {type: String},\r\n    trackBy: {type: String},\r\n    groupLabel: {type: String},\r\n    groupValues: {type: String},\r\n    multiple: {type: Boolean, default: false},\r\n    closeOnSelect: {type: Boolean, default: null},\r\n    selectAllAvailable: {type: Boolean, default: true},\r\n    searchable: {type: Boolean, default: true},\r\n    allowEmpty: {type: Boolean, default: true},\r\n    disabled: {type: Boolean, default: false},\r\n    allPlaceholder: {type: String}\r\n  },\r\n  data() {\r\n    return {\r\n      maxNbDisplayed: 3\r\n    };\r\n  },\r\n  computed: {\r\n    allSelected() {\r\n      if(!this.multiple) {\r\n        return false;\r\n      }\r\n\r\n      return this.options.every(opt => this.value.includes(opt));\r\n    },\r\n    displayedOptions() {\r\n      return this.value.slice(0, this.maxNbDisplayed);\r\n    },\r\n    countNotDisplayed() {\r\n      return this.value.length - this.maxNbDisplayed;\r\n    },\r\n    internalCloseOnSelect() {\r\n      return (this.closeOnSelect === null) ? (!this.multiple) : this.closeOnSelect;\r\n    }\r\n  },\r\n  methods: {\r\n    selectAll() {\r\n      let newValue = this.allSelected ? [] : this.options;\r\n      this.$emit('input', newValue);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '~vue-multiselect/dist/vue-multiselect.min.css';\r\n@import '~bulma/sass/utilities/initial-variables.sass';\r\n\r\n.multiselect--active, .multiselect__content-wrapper {\r\n  z-index: 50 !important;\r\n}\r\n\r\n.multiselect__option--selected {\r\n  font-weight: 600 !important;\r\n}\r\n\r\n.multiselect__option--selected::before {\r\n  content: \"\\f00c\";\r\n  font-family: 'Font Awesome 5 Free';\r\n  font-size: 10px;\r\n  position: absolute;\r\n  left: 10px;\r\n}\r\n\r\n.multiselect__option {\r\n  padding: 6px 5px 5px 30px !important;\r\n  font-size: 1rem !important;\r\n  min-height: 30px !important;\r\n}\r\n\r\n.multiselect__option:hover {\r\n  background: #61b2e8 !important;\r\n  color: white;\r\n}\r\n\r\n.multiselect__select-all {\r\n  border-bottom: 1px solid #eee;\r\n  display: inline-block;\r\n  width: 100%;\r\n  height:100%;\r\n}\r\n\r\n.multiselect__placeholder, .multiselect__tags-wrap, .multiselect__single {\r\n  margin-bottom: 8px;\r\n  line-height: 20px;\r\n  vertical-align: top;\r\n  font-size: 1rem;\r\n}\r\n\r\n.multiselect__tags-wrap :first-child {\r\n  margin-left: 5px;\r\n}\r\n\r\n.multiselect__placeholder, .multiselect__single {\r\n  padding-left: 5px;\r\n  position: relative;\r\n  padding-top: 0 !important;\r\n}\r\n\r\n.multiselect__input {\r\n  font-size: 1rem !important;\r\n}\r\n\r\n.is-danger .multiselect__tags {\r\n  border-color: $red;\r\n}\r\n\r\n.is-danger .multiselect__select::before {\r\n  border-color: $red transparent transparent;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineMultiselect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineMultiselect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineMultiselect.vue?vue&type=template&id=1187e655&\"\nimport script from \"./CytomineMultiselect.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineMultiselect.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineMultiselect.vue?vue&type=style&index=0&id=1187e655&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('vue-slider',{class:[\r\n    {'vue-slider-margin-for-tooltip': _vm.tooltip && _vm.isArray && !_vm.smartTooltipPosition},\r\n    _vm.size\r\n  ],attrs:{\"value\":_vm.value,\"min\":_vm.min,\"max\":_vm.max,\"tooltip\":(_vm.tooltip) ? 'always' : 'none',\"interval\":_vm.interval,\"tooltip-placement\":_vm.tooltipPlacement,\"lazy\":_vm.lazy,\"dot-size\":_vm.dotSize,\"contained\":_vm.contained,\"enable-cross\":false},on:{\"change\":function($event){return _vm.$emit('input', $event)},\"dragging\":function($event){_vm.internalValue = $event}},scopedSlots:_vm._u([(_vm.tooltip)?{key:\"tooltip\",fn:function({value, index}){return [_c('div',{class:[\r\n        'vue-slider-dot-tooltip-inner',\r\n        `vue-slider-dot-tooltip-inner-${_vm.tooltipPlacement[index]}`,\r\n        _vm.size\r\n        ],on:{\"mousedown\":function($event){$event.stopPropagation();},\"click\":function($event){$event.stopPropagation();return _vm.startEdition(index)}}},[(_vm.indexEdited !== index)?[_vm._t(\"default\",function(){return [_vm._v(\" \"+_vm._s(Math.round(value * 1000)/1000)+\" \")]},{\"value\":value})]:_c('b-input',{ref:\"inputSlider\",attrs:{\"type\":\"text\",\"size\":_vm.size},on:{\"hook:mounted\":function($event){return _vm.focus()},\"blur\":function($event){return _vm.stopEdition(index)}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.stopEdition(index)}},model:{value:(_vm.editedValue),callback:function ($$v) {_vm.editedValue=$$v},expression:\"editedValue\"}})],2)]}}:null],null,true)})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<vue-slider\r\n  :value=\"value\" @change=\"$emit('input', $event)\"\r\n  :min=\"min\"\r\n  :max=\"max\"\r\n  :tooltip=\"(tooltip) ? 'always' : 'none'\"\r\n  :interval=\"interval\"\r\n  :tooltip-placement=\"tooltipPlacement\"\r\n  :lazy=\"lazy\"\r\n  :dot-size=\"dotSize\"\r\n  :contained=\"contained\"\r\n  :enable-cross=\"false\"\r\n  @dragging=\"internalValue = $event\"\r\n  :class=\"[\r\n    {'vue-slider-margin-for-tooltip': tooltip && isArray && !smartTooltipPosition},\r\n    size\r\n  ]\"\r\n>\r\n  <template #tooltip=\"{value, index}\" v-if=\"tooltip\">\r\n    <div\r\n      :class=\"[\r\n        'vue-slider-dot-tooltip-inner',\r\n        `vue-slider-dot-tooltip-inner-${tooltipPlacement[index]}`,\r\n        size\r\n        ]\"\r\n      @mousedown.stop\r\n      @click.stop=\"startEdition(index)\"\r\n    >\r\n        <template v-if=\"indexEdited !== index\">\r\n          <slot name=\"default\" :value=\"value\" >\r\n            {{Math.round(value * 1000)/1000}}\r\n          </slot>\r\n        </template>\r\n        <b-input\r\n          v-else\r\n          type=\"text\"\r\n          ref=\"inputSlider\"\r\n          v-model=\"editedValue\"\r\n          @hook:mounted=\"focus()\"\r\n          @blur=\"stopEdition(index)\"\r\n          @keyup.enter.native=\"stopEdition(index)\"\r\n          :size=\"size\"\r\n        />\r\n    </div>\r\n  </template>\r\n</vue-slider>\r\n</template>\r\n\r\n<script>\r\nimport VueSlider from 'vue-slider-component';\r\n\r\nexport default {\r\n  name: 'cytomine-slider',\r\n  components: {VueSlider},\r\n  props: {\r\n    value: {type: null},\r\n    min: {type: Number, default: 0},\r\n    max: {type: Number, default: 100},\r\n    interval: {type: Number},\r\n    integerOnly: {type: Boolean, default: true},\r\n    lazy: {type: Boolean, default: true},\r\n    tooltip: {type: Boolean, default: true},\r\n    size: {type: String, default: 'is-normal'}, // is-small, is-normal\r\n    contained: {type: Boolean, default: false}, // Whether the slider should be fully contained within its containing element.\r\n    smartTooltipPosition: {type: Boolean, default: false}\r\n  },\r\n  data() {\r\n    return {\r\n      indexEdited: null,\r\n      editedValue: 0,\r\n      internalValue: 0, // Bypass slider lazy update\r\n    };\r\n  },\r\n  computed: {\r\n    isArray() {\r\n      return Array.isArray(this.value);\r\n    },\r\n    range() {\r\n      return this.max - this.min;\r\n    },\r\n    middle() {\r\n      return this.range / 2;\r\n    },\r\n    tooltipPlacement() {\r\n      if (this.isArray) {\r\n        if (this.smartTooltipPosition) {\r\n          const n = this.value.length + 1;\r\n          const values = (Array.isArray(this.internalValue)) ? this.internalValue : this.value;\r\n          return values.map((v, i) => (v >= this.range * (i+1)/n) ? 'left' : 'right');\r\n        }\r\n        return this.value.map((_, i) => (i === 0) ? 'left' : 'right');\r\n      }\r\n\r\n      if (this.internalValue >= this.middle)\r\n        return ['left'];\r\n\r\n      return ['right'];\r\n    },\r\n    dotSize() {\r\n      switch (this.size) {\r\n        case 'is-small':\r\n          return 10.5;\r\n        default:\r\n          return 14;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    value() {\r\n      this.internalValue = this.value;\r\n    }\r\n  },\r\n  methods: {\r\n    startEdition(index) {\r\n      if(this.indexEdited !== index) {\r\n        this.editedValue = this.isArray ? this.value[index] : this.value;\r\n        this.indexEdited = index;\r\n      }\r\n    },\r\n    stopEdition(index=0) {\r\n      if(this.indexEdited === index) {\r\n        this.indexEdited = null;\r\n\r\n        if(!this.editedValue || isNaN(this.editedValue)) {\r\n          return; // if entered value is not a number, ignore\r\n        }\r\n\r\n        let parsedValue = this.integerOnly ? parseInt(this.editedValue) : Number(this.editedValue);\r\n        parsedValue = Math.min(parsedValue, this.max);\r\n        parsedValue = Math.max(parsedValue, this.min);\r\n\r\n        if(this.isArray) {\r\n          let newVal = this.value.slice();\r\n          newVal[index] = parsedValue;\r\n          if(newVal[0] > newVal[1]) { // reorder bounds if needed\r\n            newVal.reverse();\r\n          }\r\n          this.$emit('input', newVal);\r\n        }\r\n        else {\r\n          this.$emit('input', parsedValue);\r\n        }\r\n      }\r\n    },\r\n    focus() {\r\n      this.$refs.inputSlider.focus();\r\n    }\r\n  },\r\n  created() {\r\n    this.internalValue = this.value;\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '~vue-slider-component/theme/default.css';\r\n\r\n.vue-slider-dot-tooltip-inner {\r\n  font-size: 0.9rem !important;\r\n}\r\n\r\n.vue-slider-dot-tooltip-inner .control {\r\n  font-size: inherit;\r\n}\r\n\r\n.vue-slider-dot-tooltip-inner input {\r\n  width: 4rem;\r\n  height: 1.5rem;\r\n  font-size: 0.8rem;\r\n}\r\n\r\n.vue-slider-dot-tooltip-inner.is-small {\r\n  font-size: 0.7rem !important;\r\n  padding: 1px 3px;\r\n  min-width: 10px;\r\n  border-radius: 3px;\r\n}\r\n.vue-slider-dot-tooltip-inner.is-small input {\r\n  width: 2rem;\r\n  height: 1rem;\r\n  font-size: 0.6rem;\r\n}\r\n\r\n.vue-slider-margin-for-tooltip {\r\n  margin-left: 4rem;\r\n  margin-right: 6rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineSlider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineSlider.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineSlider.vue?vue&type=template&id=3416f5aa&\"\nimport script from \"./CytomineSlider.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineSlider.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineSlider.vue?vue&type=style&index=0&id=3416f5aa&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\",\"size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):_c('table',{staticClass:\"table\"},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('tbody',[(_vm.isPropDisplayed('id') && _vm.currentUser.isDeveloper)?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('id')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(_vm._s(_vm.project.id))])]):_vm._e(),(_vm.isPropDisplayed('name'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('name')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(\" \"+_vm._s(_vm.project.name)+\" \")])]):_vm._e(),(_vm.isPropDisplayed('numberOfImages'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('images')))]),_c('td',{staticClass:\"prop-content\"},[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}/images`}},[_vm._v(_vm._s(_vm.project.numberOfImages))])],1)]):_vm._e(),(_vm.isPropDisplayed('membersCount'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('members')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(\" \"+_vm._s(this.members.length)+\" \")])]):_vm._e(),(_vm.isPropDisplayed('numberOfAnnotations'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('user-annotations')))]),_c('td',{staticClass:\"prop-content\"},[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}/annotations?type=user`}},[_vm._v(\" \"+_vm._s(_vm.project.numberOfAnnotations)+\" \")])],1)]):_vm._e(),(_vm.isPropDisplayed('numberOfJobAnnotations'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('analysis-annotations')))]),_c('td',{staticClass:\"prop-content\"},[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}/annotations?type=algo`}},[_vm._v(\" \"+_vm._s(_vm.project.numberOfJobAnnotations)+\" \")])],1)]):_vm._e(),(_vm.isPropDisplayed('numberOfReviewedAnnotations'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('reviewed-annotations')))]),_c('td',{staticClass:\"prop-content\"},[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}/annotations?type=reviewed`}},[_vm._v(\" \"+_vm._s(_vm.project.numberOfReviewedAnnotations)+\" \")])],1)]):_vm._e(),(_vm.isPropDisplayed('description'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('description')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-description',{attrs:{\"object\":_vm.project,\"canEdit\":_vm.canManageProject}})],1)]):_vm._e(),(_vm.isPropDisplayed('tags'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('tags')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-tags',{attrs:{\"object\":_vm.project,\"canEdit\":_vm.canManageProject}})],1)]):_vm._e(),(_vm.isPropDisplayed('properties'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('properties')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-properties',{attrs:{\"object\":_vm.project,\"canEdit\":_vm.canManageProject,\"properties\":_vm.internalUseFilteredProperties},on:{\"deleted\":_vm.removeProp,\"added\":_vm.addProp}})],1)]):_vm._e(),(_vm.isPropDisplayed('attachedFiles'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('attached-files')))]),_c('td',{staticClass:\"prop-content\"},[_c('attached-files',{attrs:{\"object\":_vm.project,\"canEdit\":_vm.canManageProject}})],1)]):_vm._e(),(_vm.isPropDisplayed('ontology'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('ontology')))]),_c('td',{staticClass:\"prop-content\"},[(_vm.project.ontology)?_c('router-link',{attrs:{\"to\":`/ontology/${_vm.project.ontology}`}},[_vm._v(\" \"+_vm._s(_vm.project.ontologyName)+\" \")]):_c('em',[_vm._v(_vm._s(_vm.$t('no-ontology')))])],1)]):_vm._e(),(_vm.isPropDisplayed('created'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('created-on')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.project.created),'ll'))+\" \")])]):_vm._e(),(_vm.isPropDisplayed('creator'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('creator')))]),_c('td',{staticClass:\"prop-content\"},[_c('list-usernames',{attrs:{\"users\":[_vm.creator],\"onlines\":_vm.onlines}})],1)]):_vm._e(),(_vm.isPropDisplayed('representatives'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('representatives'))+\" (\"+_vm._s(_vm.representatives.length)+\")\")]),_c('td',{staticClass:\"prop-content\"},[_c('list-usernames',{attrs:{\"users\":_vm.representatives,\"onlines\":_vm.onlines}})],1)]):_vm._e(),(_vm.isPropDisplayed('managers'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('managers'))+\" (\"+_vm._s(_vm.managers.length)+\")\")]),_c('td',{staticClass:\"prop-content\"},[_c('list-usernames',{attrs:{\"users\":_vm.managers,\"onlines\":_vm.onlines}})],1)]):_vm._e(),(_vm.isPropDisplayed('contributors'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('contributors'))+\" (\"+_vm._s(_vm.contributors.length)+\")\")]),_c('td',{staticClass:\"prop-content\"},[_c('list-usernames',{attrs:{\"users\":_vm.contributors,\"onlines\":_vm.onlines}})],1)]):_vm._e(),(_vm.isPropDisplayed('imagesPreview'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('images')))]),_c('td',{staticClass:\"prop-content\"},[_c('list-images-preview',{attrs:{\"project\":_vm.project}})],1)]):_vm._e(),(_vm.canManageProject)?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('actions')))]),_c('td',{staticClass:\"prop-content\"},[_c('project-actions',{attrs:{\"project\":_vm.project},on:{\"update\":function($event){return _vm.$emit('update', $event)},\"delete\":function($event){return _vm.$emit('delete')}}})],1)]):_vm._e()]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.filteredUsers.length)?_c('span',[_vm._l((_vm.usersToDisplay),function(user,index){return _c('span',{key:user.id},[_c('username',{attrs:{\"user\":user,\"online\":_vm.isOnline(user.id)}}),(index < _vm.usersToDisplay.length - 1)?[_vm._v(\", \")]:_vm._e()],2)}),(_vm.tooManyUsers)?_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.expanded=!_vm.expanded}}},[_vm._v(\" \"+_vm._s(_vm.expanded ? _vm.$t('button-less') : _vm.$t('button-more'))+\" \")]):_vm._e()],2):_c('span',[_vm._v(\" - \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.resolvedUser)?_c('span',[(_vm.online !== null)?_c('span',{class:[_vm.online ? 'online-dot' : 'offline-dot']}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.displayFullName ? _vm.fullName : _vm.resolvedUser.username))]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<span v-if=\"resolvedUser\">\r\n  <span :class=\"[online ? 'online-dot' : 'offline-dot']\" v-if=\"online !== null\"></span>\r\n  {{displayFullName ? fullName : resolvedUser.username}}</span></template>\r\n\r\n<script>\r\nimport {User} from 'cytomine-client';\r\nimport {fullName} from '@/utils/user-utils.js';\r\n\r\nexport default {\r\n  name: 'username',\r\n  props: {\r\n    user: Object,\r\n    id: Number, // if user not set, the user corresponding to the provided id will be fetched\r\n    online: {type: Boolean, default: null},\r\n    displayFullName: {type: Boolean, default: true}\r\n  },\r\n  data() {\r\n    return {\r\n      fetchedUser: {}\r\n    };\r\n  },\r\n  computed: {\r\n    resolvedUser() {\r\n      return this.user || this.fetchedUser;\r\n    },\r\n    fullName() {\r\n      return fullName(this.resolvedUser);\r\n    }\r\n  },\r\n  async created() {\r\n    if(!this.user && this.id) {\r\n      this.fetchedUser = await User.fetch(this.id);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.online-dot, .offline-dot {\r\n  height: 0.8em;\r\n  width: 0.8em;\r\n  border-radius: 50%;\r\n  display: inline-block;\r\n  margin-right: 0.2em;\r\n}\r\n\r\n.online-dot {\r\n  background: limegreen;\r\n}\r\n\r\n.offline-dot {\r\n  background: lightgrey;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Username.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Username.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Username.vue?vue&type=template&id=48b343f5&scoped=true&\"\nimport script from \"./Username.vue?vue&type=script&lang=js&\"\nexport * from \"./Username.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Username.vue?vue&type=style&index=0&id=48b343f5&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48b343f5\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<span v-if=\"filteredUsers.length\">\r\n  <span v-for=\"(user, index) in usersToDisplay\" :key=\"user.id\">\r\n    <username :user=\"user\" :online=\"isOnline(user.id)\" /><template v-if=\"index < usersToDisplay.length - 1\">, </template>\r\n  </span>\r\n  <button class=\"button is-small\" @click=\"expanded=!expanded\" v-if=\"tooManyUsers\">\r\n    {{ expanded ? $t('button-less') : $t('button-more')}}\r\n  </button>\r\n</span>\r\n<span v-else>\r\n  -\r\n</span>\r\n</template>\r\n\r\n<script>\r\nimport Username from './Username';\r\nexport default {\r\n  name: 'list-usernames',\r\n  components: {Username},\r\n  props: {\r\n    users: Array,\r\n    onlines: Array,\r\n    nbDisplayed: {\r\n      type: Number,\r\n      default: 5\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      expanded: false\r\n    };\r\n  },\r\n  computed: {\r\n    filteredUsers() {\r\n      return this.users.filter(user => user); // Filter null users\r\n    },\r\n    tooManyUsers() {\r\n      return this.filteredUsers && this.filteredUsers.length > this.nbDisplayed;\r\n    },\r\n    usersToDisplay() {\r\n      if(!this.tooManyUsers || this.expanded || this.nbDisplayed === 0) {\r\n        return this.filteredUsers;\r\n      }\r\n      else {\r\n        return this.filteredUsers.slice(0, this.nbDisplayed);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    isOnline(id) {\r\n      if(!this.onlines) {\r\n        return null;\r\n      }\r\n\r\n      return this.onlines.some(online => online.id === id);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.button {\r\n  line-height: initial;\r\n  height: initial;\r\n  margin-left: 0.5em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListUsernames.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListUsernames.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListUsernames.vue?vue&type=template&id=2e92ce16&scoped=true&\"\nimport script from \"./ListUsernames.vue?vue&type=script&lang=js&\"\nexport * from \"./ListUsernames.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListUsernames.vue?vue&type=style&index=0&id=2e92ce16&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e92ce16\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"project-actions-wrapper\"},[_c('rename-modal',{attrs:{\"title\":_vm.$t('rename-project'),\"currentName\":_vm.project.name,\"active\":_vm.isRenameModalActive},on:{\"update:active\":function($event){_vm.isRenameModalActive=$event},\"rename\":_vm.rename}}),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.saveOntology()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.isOntologyModalActive,\"title\":_vm.$t('change-ontology')},on:{\"close\":function($event){_vm.isOntologyModalActive = false}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\",\"disabled\":_vm.savingOntology},on:{\"click\":function($event){_vm.isOntologyModalActive = false}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),(!_vm.errorOntologies)?_c('button',{staticClass:\"button is-link\",class:{'is-loading': _vm.savingOntology},attrs:{\"disabled\":_vm.loadingOntologies || _vm.savingOntology}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")]):_vm._e()]},proxy:true}])},[(_vm.errorOntologies)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[(_vm.project.ontology)?_c('b-message',{attrs:{\"type\":\"is-warning\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('change-ontology-warning-message'))+\" \")]):_vm._e(),_c('b-field',{attrs:{\"label\":_vm.$t('ontology')}},[_c('b-select',{attrs:{\"placeholder\":_vm.$t('no-ontology'),\"disabled\":_vm.loadingOntologies,\"loading\":_vm.loadingOntologies},model:{value:(_vm.selectedOntology),callback:function ($$v) {_vm.selectedOntology=$$v},expression:\"selectedOntology\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\" \"+_vm._s(_vm.$t('no-ontology'))+\" \")]),_vm._l((_vm.ontologies),function(ontology){return _c('option',{key:ontology.id,domProps:{\"value\":ontology.id}},[_vm._v(\" \"+_vm._s(ontology.name)+\" \")])})],2)],1)]],2)],1),_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",class:_vm.size,on:{\"click\":function($event){_vm.isRenameModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-rename'))+\" \")]),_c('button',{staticClass:\"button\",class:_vm.size,attrs:{\"disabled\":_vm.cannotDeleteOntology},on:{\"click\":function($event){_vm.isOntologyModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-change-ontology'))+\" \")]),_c('button',{staticClass:\"button is-danger\",class:_vm.size,on:{\"click\":function($event){return _vm.deleteProject()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-modal',{attrs:{\"active\":_vm.active,\"has-modal-card\":\"\"},on:{\"close\":function($event){return _vm.close()}}},[_c('cytomine-modal-card',{attrs:{\"title\":_vm.title},on:{\"close\":function($event){return _vm.close()}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_vm._t(\"footer\")]},proxy:true}],null,true)},[_vm._t(\"default\")],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n\r\n<template>\r\n<b-modal :active=\"active\" @close=\"close()\" has-modal-card>\r\n  <cytomine-modal-card :title=\"title\" @close=\"close()\">\r\n    <slot></slot>\r\n    <template #footer>\r\n      <slot name=\"footer\"></slot>\r\n    </template>\r\n  </cytomine-modal-card>\r\n</b-modal>\r\n</template>\r\n\r\n<script>\r\nimport CytomineModalCard from './CytomineModalCard';\r\n\r\nexport default {\r\n  name: 'cytomine-modal',\r\n  props: {\r\n    active: Boolean,\r\n    title: String\r\n  },\r\n  components: {CytomineModalCard},\r\n  methods: {\r\n    close() {\r\n      this.$emit('close');\r\n      this.$emit('update:active', false);\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineModal.vue?vue&type=template&id=77000052&\"\nimport script from \"./CytomineModal.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.rename()}}},[_c('cytomine-modal',{attrs:{\"title\":_vm.title,\"active\":_vm.active},on:{\"close\":function($event){return _vm.close()}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.close()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-field',{attrs:{\"label\":_vm.$t('new-name'),\"type\":{'is-danger': _vm.errors.has('name')},\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"name\"},model:{value:(_vm.newName),callback:function ($$v) {_vm.newName=$$v},expression:\"newName\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<form @submit.prevent=\"rename()\">\r\n  <cytomine-modal :title=\"title\" :active=\"active\" @close=\"close()\">\r\n    <b-field :label=\"$t('new-name')\" :type=\"{'is-danger': errors.has('name')}\" :message=\"errors.first('name')\">\r\n      <b-input v-model=\"newName\" name=\"name\" v-validate=\"'required'\" />\r\n    </b-field>\r\n    <template #footer>\r\n      <button class=\"button\" type=\"button\" @click=\"close()\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n        {{$t('button-save')}}\r\n      </button>\r\n    </template>\r\n  </cytomine-modal>\r\n</form>\r\n</template>\r\n\r\n<script>\r\nimport CytomineModal from './CytomineModal';\r\n\r\nexport default {\r\n  name: 'rename-modal',\r\n  extends: CytomineModal,\r\n  props: {\r\n    currentName: String,\r\n    title: String\r\n  },\r\n  components: {CytomineModal},\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      newName: ''\r\n    };\r\n  },\r\n  watch: {\r\n    active(active) {\r\n      if(active) {\r\n        this.newName = this.currentName;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async rename() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n      this.$emit('rename', this.newName);\r\n      this.$emit('update:active', false);\r\n    }\r\n  },\r\n  async created() {\r\n    this.newName = this.currentName;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n>>> input[type=text] {\r\n  width: 26em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenameModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenameModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RenameModal.vue?vue&type=template&id=7aaff35b&scoped=true&\"\nimport script from \"./RenameModal.vue?vue&type=script&lang=js&\"\nexport * from \"./RenameModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RenameModal.vue?vue&type=style&index=0&id=7aaff35b&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7aaff35b\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"project-actions-wrapper\">\r\n  <rename-modal\r\n    :title=\"$t('rename-project')\"\r\n    :currentName=\"project.name\"\r\n    :active.sync=\"isRenameModalActive\"\r\n    @rename=\"rename\"\r\n  />\r\n\r\n  <form @submit.prevent=\"saveOntology()\">\r\n    <cytomine-modal :active=\"isOntologyModalActive\" :title=\"$t('change-ontology')\" @close=\"isOntologyModalActive = false\">\r\n      <b-message v-if=\"errorOntologies\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n        <h2> {{ $t('error') }} </h2>\r\n        <p> {{ $t('unexpected-error-info-message') }} </p>\r\n      </b-message>\r\n      <template v-else>\r\n        <b-message v-if=\"project.ontology\" type=\"is-warning\" has-icon icon-size=\"is-small\">\r\n          {{$t('change-ontology-warning-message')}}\r\n        </b-message>\r\n        <b-field :label=\"$t('ontology')\">\r\n          <b-select\r\n            v-model=\"selectedOntology\"\r\n            :placeholder=\"$t('no-ontology')\"\r\n            :disabled=\"loadingOntologies\"\r\n            :loading=\"loadingOntologies\"\r\n          >\r\n            <option :value=\"null\">\r\n              {{$t('no-ontology')}}\r\n            </option>\r\n            <option v-for=\"ontology in ontologies\" :value=\"ontology.id\" :key=\"ontology.id\">\r\n              {{ontology.name}}\r\n            </option>\r\n          </b-select>\r\n        </b-field>\r\n      </template>\r\n\r\n      <template #footer>\r\n        <button\r\n          class=\"button\"\r\n          type=\"button\"\r\n          @click=\"isOntologyModalActive = false\"\r\n          :disabled=\"savingOntology\"\r\n        >\r\n          {{$t('button-cancel')}}\r\n        </button>\r\n        <button\r\n          v-if=\"!errorOntologies\"\r\n          class=\"button is-link\"\r\n          :class=\"{'is-loading': savingOntology}\"\r\n          :disabled=\"loadingOntologies || savingOntology\"\r\n        >\r\n          {{$t('button-save')}}\r\n        </button>\r\n      </template>\r\n    </cytomine-modal>\r\n  </form>\r\n\r\n  <div class=\"buttons\">\r\n    <button class=\"button\" :class=\"size\" @click=\"isRenameModalActive = true\">\r\n      {{$t('button-rename')}}\r\n    </button>\r\n    <button class=\"button\" :class=\"size\" @click=\"isOntologyModalActive = true\" :disabled=\"cannotDeleteOntology\">\r\n      {{$t('button-change-ontology')}}\r\n    </button>\r\n    <button class=\"button is-danger\" :class=\"size\" @click=\"deleteProject()\">\r\n      {{$t('button-delete')}}\r\n    </button>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {OntologyCollection} from 'cytomine-client';\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\nimport RenameModal from '@/components/utils/RenameModal';\r\n\r\nexport default {\r\n  name: 'project-actions',\r\n  props: {\r\n    project: {type: Object},\r\n    size: {type: String, default: 'is-small'}\r\n  },\r\n  components: {\r\n    CytomineModal,\r\n    RenameModal\r\n  },\r\n  data() {\r\n    return {\r\n      isRenameModalActive: false,\r\n      isOntologyModalActive: false,\r\n      loadingOntologies: true,\r\n      errorOntologies: false,\r\n      ontologies: null,\r\n      selectedOntology: null,\r\n      cannotDeleteOntology: false,\r\n      savingOntology: false\r\n    };\r\n  },\r\n  watch: {\r\n    async isOntologyModalActive(val) {\r\n      if(val) {\r\n        if(this.loadingOntologies) { // first opening of the ontology modal => load ontologies\r\n          try {\r\n            this.ontologies = (await OntologyCollection.fetchAll({light: true})).array;\r\n            this.ontologies.sort((a, b) => a.name.localeCompare(b.name));\r\n            this.loadingOntologies = false;\r\n          }\r\n          catch(error) {\r\n            console.log(error);\r\n            this.errorOntologies = true;\r\n          }\r\n        }\r\n\r\n        // preselect the ontology of the project\r\n        this.selectedOntology = this.project.ontology;\r\n        this.savingOntology = false;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async rename(newName) {\r\n      let updatedProject = this.project.clone();\r\n      try {\r\n        updatedProject.name = newName;\r\n        await updatedProject.save();\r\n        this.$emit('update', updatedProject);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-project-rename', {projectName: updatedProject.name})\r\n        });\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-project-rename', {projectName: this.project.name})\r\n        });\r\n      }\r\n      this.isRenameModalActive = false;\r\n    },\r\n\r\n    async saveOntology(forceOntologyUpdate=false) {\r\n      this.savingOntology = true; // possibly long operation => give user visual indication that it is in progress\r\n      let updatedProject = this.project.clone();\r\n      try {\r\n        updatedProject.ontology = this.selectedOntology;\r\n        updatedProject.forceOntologyUpdate = forceOntologyUpdate; // to delete annotationterms if some exist\r\n        await updatedProject.save();\r\n        this.$emit('update', updatedProject);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-project-ontology-change', {projectName: this.project.name})\r\n        });\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        if(error.response && error.response.data.errorValues) {\r\n          let counts = error.response.data.errorValues;\r\n\r\n          // if the only terms associations are performed by users, ask confirmation and delete them\r\n          if(counts.algoAssociatedTermsCount === 0 && counts.reviewedAssociatedTermsCount === 0) {\r\n            this.$buefy.dialog.confirm({\r\n              title: this.$t('confirm-ontology-change'),\r\n              message: this.$t('confirm-ontology-change-delete-user-terms', {count: counts.userAssociatedTermsCount}),\r\n              type: 'is-danger',\r\n              confirmText: this.$t('button-confirm'),\r\n              cancelText: this.$t('button-cancel'),\r\n              onConfirm: () => this.saveOntology(true)\r\n            });\r\n          }\r\n          else { // otherwise, backend does not allow automatic deletion => notify of error\r\n            this.cannotDeleteOntology = true;\r\n            this.$notify({\r\n              type: 'error',\r\n              text: this.$t('notif-error-project-ontology-change-' +\r\n                                (counts.algoAssociatedTermsCount ? 'job-terms' : 'reviewed-terms'))\r\n            });\r\n          }\r\n        }\r\n        else {\r\n          this.$notify({\r\n            type: 'error',\r\n            text: this.$t('notif-error-project-ontology-change', {projectName: this.project.name})\r\n          });\r\n        }\r\n      }\r\n      this.savingOntology = false;\r\n      this.isOntologyModalActive = false;\r\n    },\r\n\r\n    deleteProject() {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('delete-project'),\r\n        message: this.$t('delete-project-confirmation-message', {projectName: this.project.name}),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.$emit('delete')\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectActions.vue?vue&type=template&id=aa5bf276&\"\nimport script from \"./ProjectActions.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectActions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\" size=\"is-small\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p> {{ $t('unexpected-error-info-message') }} </p>\r\n</b-message>\r\n<table v-else class=\"table\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\r\n  <tbody v-if=\"!loading\">\r\n    <tr v-if=\"isPropDisplayed('id') && currentUser.isDeveloper\">\r\n      <td class=\"prop-label\">{{$t('id')}}</td>\r\n      <td class=\"prop-content\">{{project.id}}</td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('name')\">\r\n      <td class=\"prop-label\">{{$t('name')}}</td>\r\n      <td class=\"prop-content\">\r\n        {{project.name}}\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('numberOfImages')\">\r\n      <td class=\"prop-label\">{{$t('images')}}</td>\r\n      <td class=\"prop-content\">\r\n        <router-link :to=\"`/project/${project.id}/images`\">{{project.numberOfImages}}</router-link>\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('membersCount')\">\r\n      <td class=\"prop-label\">{{$t('members')}}</td>\r\n      <td class=\"prop-content\">\r\n        {{this.members.length}}\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('numberOfAnnotations')\">\r\n      <td class=\"prop-label\">{{$t('user-annotations')}}</td>\r\n      <td class=\"prop-content\">\r\n        <router-link :to=\"`/project/${project.id}/annotations?type=user`\">\r\n          {{ project.numberOfAnnotations }}\r\n        </router-link>\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('numberOfJobAnnotations')\">\r\n      <td class=\"prop-label\">{{$t('analysis-annotations')}}</td>\r\n      <td class=\"prop-content\">\r\n        <router-link :to=\"`/project/${project.id}/annotations?type=algo`\">\r\n          {{ project.numberOfJobAnnotations }}\r\n        </router-link>\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('numberOfReviewedAnnotations')\">\r\n      <td class=\"prop-label\">{{$t('reviewed-annotations')}}</td>\r\n      <td class=\"prop-content\">\r\n        <router-link :to=\"`/project/${project.id}/annotations?type=reviewed`\">\r\n          {{project.numberOfReviewedAnnotations}}\r\n        </router-link>\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('description')\">\r\n      <td class=\"prop-label\">{{$t('description')}}</td>\r\n      <td class=\"prop-content\">\r\n        <cytomine-description :object=\"project\" :canEdit=\"canManageProject\" />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('tags')\">\r\n      <td class=\"prop-label\">{{$t('tags')}}</td>\r\n      <td class=\"prop-content\">\r\n        <cytomine-tags :object=\"project\" :canEdit=\"canManageProject\" />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('properties')\">\r\n      <td class=\"prop-label\">{{$t('properties')}}</td>\r\n      <td class=\"prop-content\">\r\n        <cytomine-properties\r\n          :object=\"project\"\r\n          :canEdit=\"canManageProject\"\r\n          :properties=\"internalUseFilteredProperties\"\r\n          @deleted=\"removeProp\"\r\n          @added=\"addProp\"\r\n        />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('attachedFiles')\">\r\n      <td class=\"prop-label\">{{$t('attached-files')}}</td>\r\n      <td class=\"prop-content\">\r\n        <attached-files :object=\"project\" :canEdit=\"canManageProject\" />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('ontology')\">\r\n      <td class=\"prop-label\">{{$t('ontology')}}</td>\r\n      <td class=\"prop-content\">\r\n        <router-link v-if=\"project.ontology\" :to=\"`/ontology/${project.ontology}`\">\r\n          {{project.ontologyName}}\r\n        </router-link>\r\n        <em v-else>{{$t('no-ontology')}}</em>\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('created')\">\r\n      <td class=\"prop-label\">{{$t('created-on')}}</td>\r\n      <td class=\"prop-content\">\r\n        {{ Number(project.created) | moment('ll') }}\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('creator')\">\r\n      <td class=\"prop-label\">{{$t('creator')}}</td>\r\n      <td class=\"prop-content\">\r\n        <list-usernames :users=\"[creator]\" :onlines=\"onlines\" />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('representatives')\">\r\n      <td class=\"prop-label\">{{$t('representatives')}} ({{representatives.length}})</td>\r\n      <td class=\"prop-content\">\r\n        <list-usernames :users=\"representatives\" :onlines=\"onlines\" />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('managers')\">\r\n      <td class=\"prop-label\">{{$t('managers')}} ({{managers.length}})</td>\r\n      <td class=\"prop-content\">\r\n        <list-usernames :users=\"managers\" :onlines=\"onlines\" />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('contributors')\">\r\n      <td class=\"prop-label\">{{$t('contributors')}} ({{contributors.length}})</td>\r\n      <td class=\"prop-content\">\r\n        <list-usernames :users=\"contributors\" :onlines=\"onlines\" />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('imagesPreview')\">\r\n      <td class=\"prop-label\">{{$t('images')}}</td>\r\n      <td class=\"prop-content\">\r\n        <list-images-preview :project=\"project\" />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"canManageProject\">\r\n      <td class=\"prop-label\">{{$t('actions')}}</td>\r\n      <td class=\"prop-content\">\r\n        <project-actions :project=\"project\" @update=\"$emit('update', $event)\" @delete=\"$emit('delete')\" />\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport ListImagesPreview from '@/components/image/ListImagesPreview';\r\nimport ListUsernames from '@/components/user/ListUsernames';\r\nimport ProjectActions from './ProjectActions';\r\nimport CytomineDescription from '@/components/description/CytomineDescription';\r\nimport CytomineProperties from '../property/CytomineProperties';\r\nimport CytomineTags from '@/components/tag/CytomineTags';\r\nimport AttachedFiles from '@/components/attached-file/AttachedFiles';\r\nimport {PropertyCollection} from 'cytomine-client';\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'project-details',\r\n  components: {\r\n    ListImagesPreview,\r\n    ListUsernames,\r\n    ProjectActions,\r\n    CytomineDescription,\r\n    CytomineProperties,\r\n    CytomineTags,\r\n    AttachedFiles\r\n  },\r\n  props: {\r\n    project: {type: Object},\r\n    excludedProperties: {type: Array, default: () => []},\r\n    editable: {type: Boolean, default: false}\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      creator: null,\r\n      managers: [],\r\n      members: [],\r\n      onlines: [],\r\n      representatives: [],\r\n      properties: [],\r\n      loadPropertiesError: false\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    blindMode() {\r\n      return ((this.project || {}).blindMode) || false;\r\n    },\r\n    canManageProject() {\r\n      return this.editable && (this.currentUser.adminByNow || this.managersIds.includes(this.currentUser.id));\r\n    },\r\n    managersIds() {\r\n      return this.managers.map(manager => manager.id);\r\n    },\r\n    contributors() {\r\n      return this.members.filter(member => !this.managersIds.includes(member.id));\r\n    },\r\n    internalUseFilteredProperties() {\r\n      return this.properties.filter(prop => !prop.key.startsWith(constants.PREFIX_HIDDEN_PROPERTY_KEY));\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchCreator() {\r\n      this.creator = await this.project.fetchCreator();\r\n    },\r\n    async fetchManagers() {\r\n      this.managers = (await this.project.fetchAdministrators()).array;\r\n    },\r\n    async fetchRepresentatives() {\r\n      this.representatives = (await this.project.fetchRepresentatives()).array;\r\n    },\r\n    async fetchMembers() {\r\n      this.members = (await this.project.fetchUsers()).array;\r\n    },\r\n    async fetchOnlines() {\r\n      this.onlines = await this.project.fetchConnectedUsers();\r\n    },\r\n\r\n    isPropDisplayed(prop) {\r\n      return !this.excludedProperties.includes(prop);\r\n    },\r\n\r\n    deleteProject() {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('delete-project'),\r\n        message: this.$t('delete-project-confirmation-message', {projectName: this.project.name}),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.$emit('delete')\r\n      });\r\n    },\r\n    removeProp(prop) {\r\n      this.properties = this.properties.filter(p => p.id !== prop.id);\r\n    },\r\n    addProp(prop) {\r\n      this.properties.push(prop);\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      await Promise.all([\r\n        this.fetchCreator(),\r\n        this.fetchManagers(),\r\n        this.fetchRepresentatives(),\r\n        this.fetchMembers(),\r\n        this.fetchOnlines()\r\n      ]);\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n    try {\r\n      this.properties = (await PropertyCollection.fetchAll({ object: this.project })).array;\r\n    }\r\n    catch (error) {\r\n      this.loadPropertiesError = true;\r\n      console.log(error);\r\n    }\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n  background: none;\r\n  position: relative;\r\n  height: 3em;\r\n}\r\n\r\ntd.prop-label {\r\n  white-space: nowrap;\r\n  font-weight: 600;\r\n}\r\n\r\ntd.prop-content {\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectDetails.vue?vue&type=template&id=4c41cfd4&scoped=true&\"\nimport script from \"./ProjectDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectDetails.vue?vue&type=style&index=0&id=4c41cfd4&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c41cfd4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();_vm.createProject(); _vm.loading = true}}},[_c('b-loading',{attrs:{\"active\":_vm.loading,\"is-full-page\":false}}),(!_vm.loading)?[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('create-project')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}],null,false,3492396900)},[_c('b-field',{attrs:{\"label\":_vm.$t('name'),\"type\":{ 'is-danger': _vm.errors.has('name') },\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('ontology')}},[_c('b-radio',{attrs:{\"native-value\":\"NEW\"},model:{value:(_vm.ontology),callback:function ($$v) {_vm.ontology=$$v},expression:\"ontology\"}},[_vm._v(\" \"+_vm._s(_vm.$t('create-ontology-for-project'))+\" \")])],1),_c('b-field',[_c('b-radio',{attrs:{\"native-value\":\"EXISTING\"},model:{value:(_vm.ontology),callback:function ($$v) {_vm.ontology=$$v},expression:\"ontology\"}},[_vm._v(\" \"+_vm._s(_vm.$t('use-existing-ontology'))+\" \")])],1),_c('b-field',[_c('b-radio',{attrs:{\"native-value\":\"NO\"},model:{value:(_vm.ontology),callback:function ($$v) {_vm.ontology=$$v},expression:\"ontology\"}},[_vm._v(\" \"+_vm._s(_vm.$t('no-ontology'))+\" \")])],1),(_vm.ontology === 'EXISTING')?[_c('b-field',{attrs:{\"type\":{ 'is-danger': _vm.errors.has('ontology') },\"message\":_vm.errors.first('ontology')}},[_c('b-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"size\":\"is-small\",\"placeholder\":_vm.$t('select-ontology'),\"name\":\"ontology\"},model:{value:(_vm.selectedOntology),callback:function ($$v) {_vm.selectedOntology=$$v},expression:\"selectedOntology\"}},_vm._l((_vm.ontologies),function(ontology){return _c('option',{key:ontology.id,domProps:{\"value\":ontology.id}},[_vm._v(\" \"+_vm._s(ontology.name)+\" \")])}),0)],1)]:_vm._e()],2)]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<form @submit.prevent=\"createProject(); loading = true\">\r\n  <b-loading :active=\"loading\" :is-full-page=\"false\" />\r\n\r\n  <template v-if=\"!loading\">\r\n    <cytomine-modal :active=\"active\" :title=\"$t('create-project')\" @close=\"$emit('update:active', false)\">\r\n      <b-field :label=\"$t('name')\" :type=\"{ 'is-danger': errors.has('name') }\" :message=\"errors.first('name')\">\r\n        <b-input v-model=\"name\" name=\"name\" v-validate=\"'required'\" />\r\n      </b-field>\r\n\r\n      <b-field :label=\"$t('ontology')\">\r\n        <b-radio v-model=\"ontology\" native-value=\"NEW\">\r\n          {{ $t('create-ontology-for-project') }}\r\n        </b-radio>\r\n      </b-field>\r\n      <b-field>\r\n        <b-radio v-model=\"ontology\" native-value=\"EXISTING\">\r\n          {{ $t('use-existing-ontology') }}\r\n        </b-radio>\r\n      </b-field>\r\n      <b-field>\r\n        <b-radio v-model=\"ontology\" native-value=\"NO\">\r\n          {{ $t('no-ontology') }}\r\n        </b-radio>\r\n      </b-field>\r\n\r\n      <template v-if=\"ontology === 'EXISTING'\">\r\n        <b-field :type=\"{ 'is-danger': errors.has('ontology') }\" :message=\"errors.first('ontology')\">\r\n          <b-select\r\n            size=\"is-small\"\r\n            v-model=\"selectedOntology\"\r\n            :placeholder=\"$t('select-ontology')\"\r\n            name=\"ontology\"\r\n            v-validate=\"'required'\"\r\n          >\r\n            <option v-for=\"ontology in ontologies\" :value=\"ontology.id\" :key=\"ontology.id\">\r\n              {{ ontology.name }}\r\n            </option>\r\n          </b-select>\r\n        </b-field>\r\n      </template>\r\n\r\n      <template #footer>\r\n        <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\r\n          {{ $t('button-cancel') }}\r\n        </button>\r\n        <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n          {{ $t('button-save') }}\r\n        </button>\r\n      </template>\r\n    </cytomine-modal>\r\n  </template>\r\n</form>\r\n</template>\r\n\r\n<script>\r\nimport {ImageInstance, Project, Ontology} from 'cytomine-client';\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\n\r\nexport default {\r\n  name: 'add-project-modal',\r\n  props: {\r\n    active: Boolean,\r\n    ontologies: Array\r\n  },\r\n  components: {CytomineModal},\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      name: '',\r\n      ontology: 'NEW',\r\n      selectedOntology: null,\r\n      ufiles: []\r\n    };\r\n  },\r\n  watch: {\r\n    active(val) {\r\n      if(val) {\r\n        this.name = '';\r\n        this.ontology = 'NEW';\r\n        this.selectedOntology = null;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async createProject() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        let idOntology;\r\n        if(this.ontology === 'NEW') {\r\n          let ontology = await new Ontology({name: this.name}).save();\r\n          idOntology = ontology.id;\r\n        }\r\n        else if(this.ontology === 'EXISTING') {\r\n          idOntology = this.selectedOntology;\r\n        }\r\n\r\n        let project = await new Project({name: this.name, ontology: idOntology}).save();\r\n\r\n        if (this.ufiles) {\r\n          await Promise.all(\r\n            this.ufiles.map(async (uFile) => await new ImageInstance({\r\n              baseImage: uFile.image,\r\n              project: project.id\r\n            }).save())\r\n          );\r\n        }\r\n\r\n        this.loading = false;\r\n        this.$notify({type: 'success', text: this.$t('notif-success-project-creation')});\r\n        this.$emit('update:active', false);\r\n        this.$store.commit('currentProject/resetMetadataFilters');\r\n        await this.$router.push(`/project/${project.id}/configuration`);\r\n      }\r\n      catch(error) {\r\n        if(error.response.status == 409) {\r\n          this.$notify({type: 'error', text: this.$t('notif-error-project-already-exists')});\r\n        }\r\n        else {\r\n          this.$notify({type: 'error', text: this.$t('notif-error-project-creation')});\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('update-ufiles', (ufiles) => this.ufiles = ufiles);\r\n  },\r\n  beforeDestroy() {\r\n    this.$eventBus.$off('update-ufiles');\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddProjectModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddProjectModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddProjectModal.vue?vue&type=template&id=28fa05be&\"\nimport script from \"./AddProjectModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddProjectModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('i',{staticClass:\"fas fa-user-cog\",class:{disabled: !_vm.isManager, editable: _vm.editable},attrs:{\"title\":_vm.$t(_vm.label)},on:{\"click\":function($event){return _vm.$emit('toggleManager')}}}),((!_vm.editable && _vm.isRepresentative))?_c('i',{staticClass:\"superscript fas fa-flag\"}):((_vm.editable && _vm.isManager))?_c('i',{staticClass:\"superscript fas fa-flag editable\",class:{disabled: !_vm.isRepresentative},on:{\"click\":function($event){return _vm.$emit('toggleRepresentative')}}}):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div>\r\n    <i\r\n      class=\"fas fa-user-cog\"\r\n      :class=\"{disabled: !isManager, editable: editable}\"\r\n      :title=\"$t(label)\"\r\n      @click=\"$emit('toggleManager')\"\r\n    >\r\n    </i>\r\n    <i v-if=\"(!editable && isRepresentative)\" class=\"superscript fas fa-flag\"></i>\r\n    <i v-else-if=\"(editable && isManager)\"\r\n       class=\"superscript fas fa-flag editable\"\r\n       :class=\"{disabled: !isRepresentative}\"\r\n       @click=\"$emit('toggleRepresentative')\"\r\n    ></i>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'IconProjectMemberRole',\r\n  props: {\r\n    isManager: {type: Boolean, default: false},\r\n    isRepresentative: {type: Boolean, default: false},\r\n    editable: {type: Boolean, default: false}\r\n  },\r\n  computed: {\r\n    label() {\r\n      if (this.editable) {\r\n        return '';\r\n      }\r\n      if (this.isRepresentative) {\r\n        return 'representative-icon-label';\r\n      }\r\n      if (this.isManager) {\r\n        return 'manager-icon-label';\r\n      }\r\n      return 'contributor-icon-label';\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .fas.fa-user-cog {\r\n    width: 20px;\r\n    position: relative;\r\n    text-align: center;\r\n  }\r\n\r\n  .superscript {\r\n    font-size: 8px;\r\n    position: relative;\r\n    top: -8px;\r\n    left: -8px;\r\n    right: 0;\r\n  }\r\n\r\n  .fas.disabled, .disabled .fas {\r\n    color: rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  .editable:hover {\r\n    color: #2778ad !important;\r\n    cursor: pointer;\r\n  }\r\n\r\n  div {\r\n    width: 30px;\r\n    text-align: left;\r\n    display: inline-block;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconProjectMemberRole.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconProjectMemberRole.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconProjectMemberRole.vue?vue&type=template&id=2f080369&scoped=true&\"\nimport script from \"./IconProjectMemberRole.vue?vue&type=script&lang=js&\"\nexport * from \"./IconProjectMemberRole.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconProjectMemberRole.vue?vue&type=style&index=0&id=2f080369&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f080369\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"list-projects-wrapper content-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <div class=\"box error\" v-if=\"error\">\r\n    <h2> {{ $t('error') }} </h2>\r\n    <p>{{ $t('unexpected-error-info-message') }}</p>\r\n  </div>\r\n  <div v-else-if=\"!loading\" class=\"panel\">\r\n    <p class=\"panel-heading\">\r\n      {{$t('projects')}}\r\n      <button v-if=\"!currentUser.guestByNow\" class=\"button is-link\" @click=\"creationModal = true\">\r\n        {{$t('new-project')}}\r\n      </button>\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <div class=\"search-block\">\r\n        <b-input\r\n          class=\"search-projects\"\r\n          v-model=\"searchString\"\r\n          :placeholder=\"$t('search-placeholder')\"\r\n          type=\"search\" icon=\"search\"\r\n        />\r\n        <button class=\"button\" @click=\"toggleFilterDisplay()\">\r\n          <span class=\"icon\">\r\n            <i class=\"fas fa-filter\"></i>\r\n          </span>\r\n          <span>\r\n            {{filtersOpened ? $t('button-hide-filters') : $t('button-show-filters')}}\r\n          </span>\r\n          <span v-if=\"nbActiveFilters\" class=\"nb-active-filters\">\r\n            {{nbActiveFilters}}\r\n          </span>\r\n        </button>\r\n      </div>\r\n\r\n      <b-collapse :open=\"filtersOpened\">\r\n        <div class=\"filters\">\r\n          <div class=\"columns\">\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('ontology')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-multiselect v-model=\"selectedOntologies\" :options=\"availableOntologies\"\r\n                  label=\"name\" track-by=\"id\" :multiple=\"true\" :allPlaceholder=\"$t('all-ontologies')\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('my-role')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-multiselect v-model=\"selectedRoles\" :options=\"availableRoles\" multiple :searchable=\"false\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('tags')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-multiselect v-model=\"selectedTags\" :options=\"availableTags\"\r\n                  label=\"name\" track-by=\"id\" :multiple=\"true\" :allPlaceholder=\"$t('all')\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"columns\">\r\n              <div class=\"column filter\">\r\n                <div class=\"filter-label\">\r\n                  {{$t('members')}}\r\n                </div>\r\n                <div class=\"filter-body\">\r\n                  <cytomine-slider v-model=\"boundsMembers\" :max=\"maxNbMembers\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"column filter\">\r\n                <div class=\"filter-label\">\r\n                  {{$t('images')}}\r\n                </div>\r\n                <div class=\"filter-body\">\r\n                  <cytomine-slider v-model=\"boundsImages\" :max=\"maxNbImages\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"column\"></div>\r\n          </div>\r\n\r\n          <div class=\"columns\">\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('user-annotations')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-slider v-model=\"boundsUserAnnotations\" :max=\"maxNbUserAnnotations\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div v-show=\"algoEnabled\" class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('analysis-annotations')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-slider v-model=\"boundsJobAnnotations\" :max=\"maxNbJobAnnotations\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('reviewed-annotations')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-slider v-model=\"boundsReviewedAnnotations\" :max=\"maxNbReviewedAnnotations\" />\r\n              </div>\r\n            </div>\r\n            <div v-show=\"!algoEnabled\" class=\"column\"></div>\r\n          </div>\r\n        </div>\r\n      </b-collapse>\r\n\r\n      <cytomine-table\r\n        :collection=\"projectCollection\"\r\n        :is-empty=\"nbEmptyFilters > 0\"\r\n        class=\"table-projects\"\r\n        :currentPage.sync=\"currentPage\"\r\n        :perPage.sync=\"perPage\"\r\n        :openedDetailed.sync=\"openedDetails\"\r\n        :sort.sync=\"sortField\"\r\n        :order.sync=\"sortOrder\"\r\n        :revision=\"revision\"\r\n      >\r\n        <template #default=\"{row: project}\">\r\n          <b-table-column field=\"currentUserRole\" label=\"\" centered width=\"1\" sortable>\r\n            <icon-project-member-role\r\n              :is-manager=\"project.currentUserRoles.admin\"\r\n              :is-representative=\"project.currentUserRoles.representative\"\r\n            />\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"name\" :label=\"$t('name')\" sortable width=\"250\">\r\n            <router-link :to=\"`/project/${project.id}`\">\r\n              {{ project.name }}\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"membersCount\" :label=\"$t('members')\" centered sortable width=\"150\">\r\n            {{ project.membersCount }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"numberOfImages\" :label=\"$t('images')\" centered sortable width=\"150\">\r\n            <router-link :to=\"`/project/${project.id}/images`\">{{ project.numberOfImages }}</router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"numberOfAnnotations\" :label=\"$t('user-annotations')\" centered sortable width=\"150\">\r\n            <router-link :to=\"`/project/${project.id}/annotations?type=user`\">\r\n              {{ project.numberOfAnnotations }}\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column v-if=\"algoEnabled\" field=\"numberOfJobAnnotations\" :label=\"$t('analysis-annotations')\" centered sortable width=\"150\">\r\n            <router-link :to=\"`/project/${project.id}/annotations?type=algo`\">\r\n              {{ project.numberOfJobAnnotations }}\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"numberOfReviewedAnnotations\" :label=\"$t('reviewed-annotations')\" centered sortable width=\"150\">\r\n            <router-link :to=\"`/project/${project.id}/annotations?type=reviewed`\">\r\n              {{ project.numberOfReviewedAnnotations }}\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"lastActivity\" :label=\"$t('last-activity')\" centered sortable width=\"180\">\r\n            {{ Number(project.lastActivity) | moment('ll') }}\r\n          </b-table-column>\r\n\r\n          <b-table-column label=\" \" centered width=\"150\">\r\n            <router-link :to=\"`/project/${project.id}`\" class=\"button is-small is-link\">\r\n              {{$t('button-open')}}\r\n            </router-link>\r\n          </b-table-column>\r\n        </template>\r\n\r\n        <template #detail=\"{row: project}\">\r\n          <project-details\r\n            :project=\"project\"\r\n            :excluded-properties=\"excludedProperties\"\r\n            editable\r\n            @update=\"updateProject()\"\r\n            @delete=\"deleteProject(project)\"\r\n          />\r\n        </template>\r\n\r\n        <template #empty>\r\n          <div class=\"content has-text-grey has-text-centered\">\r\n            <p>{{$t('no-project')}}</p>\r\n          </div>\r\n        </template>\r\n      </cytomine-table>\r\n\r\n      <div class=\"legend\">\r\n          <h2>{{$t('legend')}}</h2>\r\n          <p><icon-project-member-role /> : {{$t('contributor-icon-label')}}</p>\r\n          <p><icon-project-member-role :is-manager=\"true\" /> : {{$t('manager-icon-label')}}</p>\r\n          <p><icon-project-member-role :is-manager=\"true\" :is-representative=\"true\" /> : {{$t('representative-icon-label')}}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <add-project-modal :active.sync=\"creationModal\" :ontologies=\"ontologies\" />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport CytomineTable from '@/components/utils/CytomineTable';\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport CytomineSlider from '@/components/form/CytomineSlider';\r\nimport ProjectDetails from './ProjectDetails';\r\nimport AddProjectModal from './AddProjectModal';\r\n\r\nimport {get, sync, syncBoundsFilter, syncMultiselectFilter} from '@/utils/store-helpers';\r\n\r\nimport {ProjectCollection, OntologyCollection, TagCollection} from 'cytomine-client';\r\nimport IconProjectMemberRole from '@/components/icons/IconProjectMemberRole';\r\nimport constants from '@/utils/constants.js';\r\nexport default {\r\n  name: 'list-projects',\r\n  components: {\r\n    IconProjectMemberRole,\r\n    CytomineTable,\r\n    ProjectDetails,\r\n    AddProjectModal,\r\n    CytomineMultiselect,\r\n    CytomineSlider\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      projects: [],\r\n      ontologies: [],\r\n      availableTags:[],\r\n\r\n      contributorLabel: this.$t('contributor'),\r\n      managerLabel: this.$t('manager'),\r\n\r\n      creationModal: false,\r\n\r\n      excludedProperties: [\r\n        'name',\r\n        'membersCount',\r\n        'numberOfImages',\r\n        'numberOfAnnotations',\r\n        'numberOfJobAnnotations',\r\n        'numberOfReviewedAnnotations',\r\n        'lastActivity'\r\n      ],\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      maxNbMembers: 10,\r\n      maxNbImages: 10,\r\n      maxNbUserAnnotations: 100,\r\n      maxNbJobAnnotations: 100,\r\n      maxNbReviewedAnnotations: 100,\r\n\r\n      revision: 0\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n\r\n    searchString: sync('listProjects/searchString', {debounce: 500}),\r\n    filtersOpened: sync('listProjects/filtersOpened'),\r\n\r\n    availableRoles() {\r\n      return [this.contributorLabel, this.managerLabel];\r\n    },\r\n    availableOntologies() {\r\n      return [{id: 'null', name: this.$t('no-ontology')}, ...this.ontologies];\r\n    },\r\n\r\n    querySearchTags() {\r\n      return this.$route.query.tags;\r\n    },\r\n    selectedOntologies: syncMultiselectFilter('listProjects', 'selectedOntologies', 'availableOntologies'),\r\n    selectedRoles: syncMultiselectFilter('listProjects', 'selectedRoles', 'availableRoles'),\r\n    selectedTags: syncMultiselectFilter('listProjects', 'selectedTags', 'availableTags'),\r\n    boundsMembers: syncBoundsFilter('listProjects', 'boundsMembers', 'maxNbMembers'),\r\n    boundsImages: syncBoundsFilter('listProjects', 'boundsImages', 'maxNbImages'),\r\n    boundsUserAnnotations: syncBoundsFilter('listProjects', 'boundsUserAnnotations', 'maxNbUserAnnotations'),\r\n    boundsJobAnnotations: syncBoundsFilter('listProjects', 'boundsJobAnnotations', 'maxNbJobAnnotations'),\r\n    boundsReviewedAnnotations: syncBoundsFilter('listProjects', 'boundsReviewedAnnotations', 'maxNbReviewedAnnotations'),\r\n\r\n    nbActiveFilters() {\r\n      return this.$store.getters['listProjects/nbActiveFilters'];\r\n    },\r\n    nbEmptyFilters() {\r\n      return this.$store.getters['listProjects/nbEmptyFilters'];\r\n    },\r\n\r\n    selectedOntologiesIds() {\r\n      return this.selectedOntologies.map(ontology => ontology.id);\r\n    },\r\n\r\n    boundsFilters() {\r\n      return [\r\n        {prop: 'numberOfImages', bounds: this.boundsImages, max: this.maxNbImages},\r\n        {prop: 'membersCount', bounds: this.boundsMembers, max: this.maxNbMembers},\r\n        {prop: 'numberOfAnnotations', bounds: this.boundsUserAnnotations, max: this.maxNbUserAnnotations},\r\n        {prop: 'numberOfJobAnnotations', bounds: this.boundsJobAnnotations, max: this.maxNbJobAnnotations},\r\n        {prop: 'numberOfReviewedAnnotations', bounds: this.boundsReviewedAnnotations, max: this.maxNbReviewedAnnotations},\r\n      ];\r\n    },\r\n\r\n    projectCollection() {\r\n      let collection = new ProjectCollection({\r\n        withMembersCount: true,\r\n        withLastActivity: true,\r\n        withCurrentUserRoles: true\r\n      });\r\n      if(this.selectedOntologiesIds.length > 0 && this.selectedOntologiesIds.length < this.availableOntologies.length){\r\n        collection['ontology'] = {\r\n          in: this.selectedOntologiesIds.join()\r\n        };\r\n      }\r\n      if(this.selectedRoles.length > 0){\r\n        collection['currentUserRole'] = {\r\n          in: this.selectedRoles.join().toLowerCase()\r\n        };\r\n      }\r\n      if(this.searchString) {\r\n        collection['name'] = {\r\n          ilike: encodeURIComponent(this.searchString)\r\n        };\r\n      }\r\n      if(this.selectedTags.length > 0 && this.selectedTags.length < this.availableTags.length){\r\n        collection['tag'] = {\r\n          in: this.selectedTags.map(t => t.id).join()\r\n        };\r\n      }\r\n      for(let {prop, bounds, max} of this.boundsFilters) {\r\n        collection[prop] = {};\r\n        if (bounds[1]!==max) {\r\n          // if max bounds is the max possible value, do not set the filter in the request\r\n          // so that if an event (ex: algo creates an annotation) happens between the bounds request and the query request\r\n          // the image will not be skipped from the result\r\n          collection[prop] = {\r\n            lte: bounds[1]\r\n          };\r\n        }\r\n        if(bounds[0] > 0) collection[prop]['gte'] = bounds[0];\r\n      }\r\n      return collection;\r\n    },\r\n\r\n    currentPage: sync('listProjects/currentPage'),\r\n    perPage: sync('listProjects/perPage'),\r\n    sortField: sync('listProjects/sortField'),\r\n    sortOrder: sync('listProjects/sortOrder'),\r\n    openedDetails: sync('listProjects/openedDetails')\r\n  },\r\n  watch: {\r\n    revision() {\r\n      this.fetchOntologies();\r\n      this.fetchMaxFilters();\r\n    },\r\n    querySearchTags(values) {\r\n      if(values) {\r\n        this.selectedTags = [];\r\n        let queriedTags = this.availableTags.filter(tag => values.split(',').includes(tag.name));\r\n        if(queriedTags) {\r\n          this.selectedTags = queriedTags;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchOntologies() {\r\n      let ontologies = (await OntologyCollection.fetchAll({light: true})).array;\r\n      ontologies.sort((a, b) => a.name.localeCompare(b.name));\r\n      this.ontologies = ontologies;\r\n    },\r\n    async fetchMaxFilters() {\r\n      let stats = await new ProjectCollection.fetchBounds({withMembersCount:true});\r\n\r\n      this.maxNbMembers = Math.max(10, stats.members.max);\r\n      this.maxNbImages = Math.max(10, stats.numberOfImages.max);\r\n      this.maxNbUserAnnotations = Math.max(100, stats.numberOfAnnotations.max);\r\n      this.maxNbJobAnnotations = Math.max(100, stats.numberOfJobAnnotations.max);\r\n      this.maxNbReviewedAnnotations = Math.max(100, stats.numberOfReviewedAnnotations.max);\r\n    },\r\n    async fetchTags() {\r\n      this.availableTags = [{id: 'null', name: this.$t('no-tag')}, ...(await TagCollection.fetchAll()).array];\r\n    },\r\n    toggleFilterDisplay() {\r\n      this.filtersOpened = !this.filtersOpened;\r\n    },\r\n    updateProject() {\r\n      this.revision++;\r\n    },\r\n    async deleteProject(projectToDelete) {\r\n      try {\r\n        await projectToDelete.delete();\r\n        this.revision++;\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-project-deletion', {projectName: projectToDelete.name})\r\n        });\r\n      }\r\n      catch(error) {\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-project-deletion', {projectName: projectToDelete.name})\r\n        });\r\n        return;\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      await Promise.all([\r\n        this.fetchOntologies(),\r\n        this.fetchMaxFilters(),\r\n        this.fetchTags()\r\n      ]);\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n    if(this.$route.query.tags) {\r\n      let queriedTags = this.availableTags.filter(tag => this.$route.query.tags.split(',').includes(tag.name));\r\n      if(queriedTags) {\r\n        this.selectedTags = queriedTags;\r\n      }\r\n    }\r\n\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.panel-block {\r\n  padding-top: 0.8em;\r\n}\r\n\r\n.panel-heading {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.search-block {\r\n  display: flex;\r\n}\r\n\r\n.legend {\r\n  margin-top: 0.8rem;\r\n  margin-bottom: 1rem;\r\n  border-radius: 10px;\r\n  padding: 1rem 1.5em;\r\n  background: #f8f8f8;\r\n}\r\n\r\n.legend p:not(:last-child) {\r\n  margin-bottom: 0.4em;\r\n}\r\n</style>\r\n\r\n<style>\r\n.search-projects {\r\n  max-width: 25em;\r\n  margin-right: 1em;\r\n}\r\n\r\n.table-projects {\r\n  margin-top: 1rem;\r\n}\r\n\r\n.list-projects-wrapper td, .list-projects-wrapper th {\r\n  vertical-align: middle !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListProjects.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListProjects.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListProjects.vue?vue&type=template&id=719f2815&scoped=true&\"\nimport script from \"./ListProjects.vue?vue&type=script&lang=js&\"\nexport * from \"./ListProjects.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListProjects.vue?vue&type=style&index=0&id=719f2815&prod&scoped=true&lang=css&\"\nimport style1 from \"./ListProjects.vue?vue&type=style&index=1&id=719f2815&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"719f2815\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"storage-wrapper content-wrapper\"},[_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('upload'))+\" \")]),(_vm.newUploadError)?_c('div',{staticClass:\"panel-block\"},[_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('error-cannot-upload'))+\" \")])],1):_c('div',{staticClass:\"panel-block\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(_vm._s(_vm.$t('important-notes')))]),_c('ul',{staticClass:\"small-text\"},[_c('li',[_vm._v(\" \"+_vm._s(_vm.$t('allowed-formats-upload-info'))+\" \"),(_vm.formatInfos.length)?_vm._l((_vm.formatInfos),function(format,index){return _c('span',{key:format.id},[_vm._v(\" \"+_vm._s(format.name)),(format.remarks)?_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(format.remarks))])]},proxy:true}],null,true)},[_c('i',{staticClass:\"fas fa-info-circle\"})]):_vm._e(),(index < _vm.formatInfos.length - 1)?[_vm._v(\", \")]:_vm._e()],2)}):_vm._e()],2),_c('li',[_vm._v(_vm._s(_vm.$t('drag-drop-upload-info', {labelButton: _vm.$t('add-files')})))]),_c('li',[_vm._v(_vm._s(_vm.$t('link-to-project-upload-info')))])])]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter has-text-right\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('storage')))])]),_c('div',{staticClass:\"column is-half\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.storages,\"label\":\"extendedName\",\"track-by\":\"id\",\"allow-empty\":false},scopedSlots:_vm._u([{key:\"option\",fn:function({option}){return [_vm._v(\" \"+_vm._s(option.extendedName)+\" \"),(_vm.currentUser.isDeveloper)?[_vm._v(\" (\"+_vm._s(_vm.$t('id'))+\": \"+_vm._s(option.id)+\") \")]:_vm._e()]}}]),model:{value:(_vm.selectedStorage),callback:function ($$v) {_vm.selectedStorage=$$v},expression:\"selectedStorage\"}})],1)]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter has-text-right\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('link-with-project')))])]),_c('div',{staticClass:\"column is-half\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.projects,\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"close-on-select\":true},model:{value:(_vm.selectedProjects),callback:function ($$v) {_vm.selectedProjects=$$v},expression:\"selectedProjects\"}})],1)]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter has-text-right\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('files')))])]),_c('div',{staticClass:\"column is-half\"},[(_vm.dropFiles.length > 0)?_c('table',{staticClass:\"table is-fullwidth upload-table\"},[_c('tbody',_vm._l((_vm.dropFiles),function(wrapper,idx){return _c('tr',{key:idx},[_c('td',[_vm._v(_vm._s(wrapper.file.name))]),_c('td',[_vm._v(_vm._s(_vm.filesize(wrapper.file.size)))]),(wrapper.uploadedFile === null)?[_c('td',[_c('progress',{staticClass:\"progress is-info\",attrs:{\"max\":\"100\"},domProps:{\"value\":wrapper.progress}},[_vm._v(\" \"+_vm._s(wrapper.progress)+\"% \")])]),_c('td',[_c('div',{staticClass:\"field is-grouped\"},[_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.startUpload(wrapper)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-start'))+\" \")])]),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.cancelUpload(idx)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")])])])])]:[_c('td',[(wrapper.uploadedFile)?_c('uploaded-file-status',{attrs:{\"file\":wrapper.uploadedFile}}):_c('span',{staticClass:\"tag is-danger\"},[_vm._v(\" \"+_vm._s(_vm.$t('upload-error'))+\" \")])],1),_c('td',[_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.cancelUpload(idx)}}},[_vm._v(_vm._s(_vm.$t('button-hide')))])])])]],2)}),0)]):_c('em',{staticClass:\"first-child-like has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-file')))])])]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-half flex-column is-offset-one-quarter\"},[(_vm.ongoingUpload)?_c('progress',{staticClass:\"progress is-success\",attrs:{\"max\":\"100\"},domProps:{\"value\":_vm.overallProgress}},[_vm._v(\" \"+_vm._s(_vm.overallProgress)+\"% \")]):_vm._e(),_c('div',{staticClass:\"buttons\"},[_c('b-upload',{attrs:{\"value\":_vm.plainFiles,\"type\":\"is-link\",\"multiple\":\"\",\"drag-drop\":\"\"},on:{\"input\":_vm.filesChange}},[_c('a',{staticClass:\"button is-success\"},[_vm._v(_vm._s(_vm.$t('add-files')))])]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":!_vm.filesPendingUpload},on:{\"click\":function($event){return _vm.startAll()}}},[_vm._v(\" \"+_vm._s(_vm.$t('start-upload'))+\" \")]),_c('button',{staticClass:\"button\",attrs:{\"disabled\":!_vm.filesPendingUpload && !_vm.ongoingUpload},on:{\"click\":function($event){return _vm.cancelAll()}}},[_vm._v(\" \"+_vm._s(_vm.$t('cancel-upload'))+\" \")]),(_vm.filesFinishedUpload)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.hideFinished()}}},[_vm._v(\" \"+_vm._s(_vm.$t('hide-successful-upload'))+\" \")]):_vm._e()],1)])])],1)]),_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('storage'))+\" \")]),_c('div',{staticClass:\"panel-block storage\"},[_c('div',{staticClass:\"search-block\"},[_c('b-input',{staticClass:\"search-uploaded-file\",attrs:{\"value\":_vm.searchString,\"placeholder\":_vm.$t('search-placeholder'),\"icon\":\"search\",\"type\":\"search\"},on:{\"input\":_vm.debounceSearchString}}),_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.filtersOpened = !_vm.filtersOpened}}},[_vm._m(0),_c('span',[_vm._v(\" \"+_vm._s(_vm.filtersOpened ? _vm.$t('button-hide-filters') : _vm.$t('button-show-filters'))+\" \")])])],1),_c('b-collapse',{attrs:{\"open\":_vm.filtersOpened}},[_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-third\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(_vm._s(_vm.$t('vendor')))]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"multiple\":true,\"options\":_vm.availableVendors,\"label\":\"label\",\"track-by\":\"value\"},model:{value:(_vm.selectedVendors),callback:function ($$v) {_vm.selectedVendors=$$v},expression:\"selectedVendors\"}})],1),_c('div',{staticClass:\"filter-label\"},[_vm._v(_vm._s(_vm.$t('format')))]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"multiple\":true,\"options\":_vm.availableFormats},model:{value:(_vm.selectedFormats),callback:function ($$v) {_vm.selectedFormats=$$v},expression:\"selectedFormats\"}})],1)]),_c('div',{staticClass:\"column is-one-third\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(_vm._s(_vm.$t('magnification')))]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableMagnifications,\"multiple\":true,\"searchable\":false,\"label\":\"label\",\"track-by\":\"value\"},model:{value:(_vm.selectedMagnifications),callback:function ($$v) {_vm.selectedMagnifications=$$v},expression:\"selectedMagnifications\"}})],1)]),_c('div',{staticClass:\"column is-one-third\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(_vm._s(_vm.$t('height')))]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxHeight},model:{value:(_vm.boundsHeight),callback:function ($$v) {_vm.boundsHeight=$$v},expression:\"boundsHeight\"}})],1),_c('div',{staticClass:\"filter-label\"},[_vm._v(_vm._s(_vm.$t('width')))]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxWidth},model:{value:(_vm.boundsWidth),callback:function ($$v) {_vm.boundsWidth=$$v},expression:\"boundsWidth\"}})],1)])]),_c('div',{staticClass:\"columns is-multiline\"},_vm._l((_vm.selectedFormats),function(format){return _c('div',{key:format,staticClass:\"column is-half\"},[_c('metadata-filter',{attrs:{\"format\":format,\"image-ids\":_vm.aiIDs[format],\"keys\":_vm.metadataKeys[format],\"max\":_vm.metadataMax,\"type\":_vm.metadataType}})],1)}),0)]),_c('div',{staticClass:\"buttons button-add is-right\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.createProject()}}},[_vm._v(\" \"+_vm._s(_vm.$t('new-project-with-filtered-images'))+\" \")])])]),_c('cytomine-table',{attrs:{\"collection\":_vm.uploadedFileCollection,\"sort\":\"created\",\"order\":\"desc\",\"revision\":_vm.revision,\"refreshInterval\":_vm.tableRefreshInterval,\"openedDetailed\":_vm.openedDetails},on:{\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function({row: uFile}){return [_c('b-table-column',{staticClass:\"image-overview\",attrs:{\"label\":_vm.$t('preview'),\"width\":\"80\"}},[(uFile.thumbURL)?_c('image-thumbnail',{key:uFile.thumbURL,attrs:{\"url\":uFile.thumbURL,\"size\":128,\"extra-parameters\":{Authorization: 'Bearer ' + _vm.shortTermToken }}}):_c('div',{staticClass:\"is-size-7 has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-preview-available')))])],1),_c('b-table-column',{attrs:{\"field\":\"originalFilename\",\"label\":_vm.$t('filename'),\"sortable\":\"\",\"width\":\"200\"}},[_vm._v(\" \"+_vm._s(uFile.originalFilename)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"created\",\"label\":_vm.$t('created'),\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(uFile.created),'lll'))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"size\",\"label\":_vm.$t('size'),\"sortable\":\"\",\"width\":\"80\"}},[_vm._v(\" \"+_vm._s(_vm.filesize(uFile.size))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"status\",\"label\":_vm.$t('status'),\"sortable\":\"\",\"width\":\"80\"}},[_c('uploaded-file-status',{attrs:{\"file\":uFile}})],1),_c('b-table-column',{attrs:{\"label\":\"\",\"centered\":\"\",\"width\":\"80\"}},[_c('div',{staticClass:\"columns is-vcentered\"},[_c('div',{staticClass:\"column is-two-thirds\"},[_c('b-select',{attrs:{\"placeholder\":_vm.projectPlaceholders[uFile.image] ? _vm.$t('select-project') : _vm.$t('no-project'),\"disabled\":!_vm.projectPlaceholders[uFile.image],\"expanded\":\"\"},model:{value:(_vm.selectedProjectsToLink[uFile.image]),callback:function ($$v) {_vm.$set(_vm.selectedProjectsToLink, uFile.image, $$v)},expression:\"selectedProjectsToLink[uFile.image]\"}},_vm._l((_vm.filteredProjects[uFile.image]),function(project){return _c('option',{key:project.id,domProps:{\"value\":project}},[_vm._v(\" \"+_vm._s(project.name)+\" \")])}),0)],1),_c('div',{staticClass:\"column is-one-quarter\"},[_c('button',{staticClass:\"button is-small is-link\",attrs:{\"disabled\":!_vm.projectPlaceholders[uFile.image]},on:{\"click\":function($event){return _vm.addImage(uFile)}}},[_vm._v(\" \"+_vm._s(_vm.$t('add-image'))+\" \")])])])])]}},{key:\"detail\",fn:function({row: uFile}){return [_c('uploaded-file-details',{key:uFile.id,attrs:{\"file\":uFile},on:{\"update\":function($event){return _vm.updatedTree()}}})]}},{key:\"empty\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t('no-uploaded-file')))])]},proxy:true}])})],1)]),_c('add-project-modal',{attrs:{\"active\":_vm.createModal,\"ontologies\":_vm.ontologies},on:{\"update:active\":function($event){_vm.createModal=$event}}})],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-filter\"})])\n}]\n\nexport { render, staticRenderFns }","/*\r\n * Copyright (c) 2009-2023. Authors: see NOTICE file.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nexport function stripIDfromKey(key) {\r\n  if (!key.startsWith('MSMDAD')) {\r\n    return key;\r\n  }\r\n\r\n  const keywords = [\r\n    'BiologicalBeing',\r\n    'Block',\r\n    'Case',\r\n    'Dataset',\r\n    'Image',\r\n    'Observation',\r\n    'Slide',\r\n    'Specimen',\r\n    'Study'\r\n  ];\r\n  const toRemove = [\r\n    'blocks',\r\n    'cases',\r\n    'images',\r\n    'observations',\r\n    'slides',\r\n    'specimens'\r\n  ];\r\n\r\n  let words = key.split('.').filter(word => !toRemove.includes(word));\r\n  let striped = words.map(word => {\r\n    if (keywords.some(keyword => word.startsWith(keyword))) {\r\n      word = word.substr(0, word.lastIndexOf('_'));\r\n    }\r\n\r\n    return word;\r\n  });\r\n\r\n  return striped.join('.');\r\n}\r\n\r\nexport function filterAutoCompletion(key, suggestions) {\r\n  let subKeys = key.split('.');\r\n  let subKey = subKeys[subKeys.length - 2];\r\n\r\n  return suggestions.filter(suggestion => suggestion.startsWith(subKey));\r\n}\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.iconOnly)?_c('div',[(!_vm.isSuccessful || _vm.file.nbChildren === undefined)?_c('span',{staticClass:\"tag\",class:_vm.tagClass},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.labels[_vm.file.status]))+\" \")]):_c('div',{staticClass:\"tags has-addons\"},[_c('span',{staticClass:\"tag\",class:_vm.tagClass},[_vm._v(_vm._s(_vm.$t(_vm.labels[_vm.file.status])))]),_c('span',{staticClass:\"tag is-light\"},[_vm._v(_vm._s(_vm.$tc(\"count-files\", _vm.file.nbChildren + 1, {count: _vm.file.nbChildren + 1})))])])]):_c('span',{class:['icon', _vm.textClass]},[_c('i',{class:['fas', _vm.iconClass],attrs:{\"title\":_vm.$t(_vm.labels[_vm.file.status])}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2019. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div v-if=\"!iconOnly\">\r\n  <span v-if=\"!isSuccessful || file.nbChildren === undefined\" class=\"tag\" :class=\"tagClass\">\r\n    {{$t(labels[file.status])}}\r\n  </span>\r\n  <div v-else class=\"tags has-addons\">\r\n    <span class=\"tag\" :class=\"tagClass\">{{$t(labels[file.status])}}</span>\r\n    <span class=\"tag is-light\">{{$tc(\"count-files\", file.nbChildren + 1, {count: file.nbChildren + 1})}}</span>\r\n  </div>\r\n</div>\r\n<span v-else :class=\"['icon', textClass]\">\r\n  <i :class=\"['fas', iconClass]\" :title=\"$t(labels[file.status])\"></i>\r\n</span>\r\n</template>\r\n\r\n<script>\r\nimport {UploadedFileStatus} from 'cytomine-client';\r\n\r\nexport default {\r\n  name: 'uploaded-file-status',\r\n  props: {\r\n    file: Object,\r\n    iconOnly: {type: Boolean, default: false}\r\n  },\r\n  computed: {\r\n    isSuccessful() {\r\n      return this.file.status === UploadedFileStatus.CONVERTED || this.file.status === UploadedFileStatus.DEPLOYED;\r\n    },\r\n    labels() {\r\n      return {\r\n        [UploadedFileStatus.UPLOADED]: 'uploaded',\r\n        [UploadedFileStatus.CONVERTED]: 'converted',\r\n        [UploadedFileStatus.DEPLOYED]: 'deployed',\r\n        [UploadedFileStatus.ERROR_FORMAT]: 'error-format',\r\n        [UploadedFileStatus.ERROR_CONVERSION]: 'error-convert',\r\n        [UploadedFileStatus.EXTRACTED]: 'uncompressed',\r\n        [UploadedFileStatus.ERROR_DEPLOYMENT]: 'error-deployment',\r\n        [UploadedFileStatus.DETECTING_FORMAT]: 'detecting-format',\r\n        [UploadedFileStatus.EXTRACTING_DATA]: 'extracting-data',\r\n        [UploadedFileStatus.ERROR_EXTRACTION]: 'error-extraction',\r\n        [UploadedFileStatus.CONVERTING]: 'converting',\r\n        [UploadedFileStatus.DEPLOYING]: 'deploying',\r\n        50: 'unpacking',\r\n        51: 'error-unpacking',\r\n        60: 'checking-integrity',\r\n        61: 'error-integrity',\r\n        106: 'unpacked'\r\n      };\r\n    },\r\n    // eslint-disable-next-line vue/return-in-computed-property\r\n    result() {\r\n      switch(this.file.status) {\r\n        case UploadedFileStatus.UPLOADED:\r\n        case UploadedFileStatus.DETECTING_FORMAT:\r\n        case UploadedFileStatus.EXTRACTING_DATA:\r\n        case UploadedFileStatus.CONVERTING:\r\n        case UploadedFileStatus.DEPLOYING:\r\n        case UploadedFileStatus.EXTRACTED:\r\n        case 50:\r\n        case 60:\r\n          return 'info';\r\n        case UploadedFileStatus.CONVERTED:\r\n        case UploadedFileStatus.DEPLOYED:\r\n        case 106:\r\n          return 'success';\r\n        case UploadedFileStatus.ERROR_FORMAT:\r\n        case UploadedFileStatus.ERROR_CONVERSION:\r\n        case UploadedFileStatus.ERROR_DEPLOYMENT:\r\n        case UploadedFileStatus.ERROR_EXTRACTION:\r\n        case 51:\r\n        case 61:\r\n          return 'danger';\r\n        default:\r\n          return null;\r\n      }\r\n    },\r\n    tagClass() {\r\n      return 'is-' + this.result;\r\n    },\r\n    textClass() {\r\n      return 'has-text-' + this.result;\r\n    },\r\n    // eslint-disable-next-line vue/return-in-computed-property\r\n    iconClass() {\r\n      switch(this.result) {\r\n        case 'info':\r\n          return 'fa-spinner';\r\n        case 'success':\r\n          return 'fa-check-square';\r\n        case 'danger':\r\n          return 'fa-times-circle';\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.fas {\r\n  font-size: 1.3em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFileStatus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFileStatus.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadedFileStatus.vue?vue&type=template&id=3b65473a&scoped=true&\"\nimport script from \"./UploadedFileStatus.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadedFileStatus.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadedFileStatus.vue?vue&type=style&index=0&id=3b65473a&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b65473a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('file-tree'))+\" \")]),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\",\"size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):_c('sl-vue-tree',{attrs:{\"allowMultiselect\":false},scopedSlots:_vm._u([{key:\"toggle\",fn:function({node}){return [(!node.isLeaf)?[_c('i',{class:['tree-toggle', 'fas', node.isExpanded ? 'fa-angle-down' : 'fa-angle-right']})]:_vm._e()]}},{key:\"title\",fn:function({node}){return [_c('p',{class:{'target-element': node.data.id === _vm.file.id}},[_vm._v(_vm._s(node.title))])]}},{key:\"sidebar\",fn:function({node}){return [_c('div',{staticClass:\"filesize\"},[_vm._v(\" \"+_vm._s(_vm.filesize(node.data.size))+\" \")]),_c('div',{staticClass:\"status\"},[_c('uploaded-file-status',{attrs:{\"file\":node.data,\"iconOnly\":true}})],1),_c('div',{staticClass:\"buttons\"},[_c('a',{staticClass:\"button is-small is-link\",on:{\"click\":function($event){return _vm.download(node.data)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-download'))+\" \")]),_c('button',{staticClass:\"button is-small is-danger\",on:{\"click\":function($event){return _vm.confirmDeletion(node.data)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")])]),_c('p',{staticClass:\"preview\"},[(node.data.thumbURL)?_c('a',{on:{\"click\":function($event){_vm.samplePreview = node.data}}},[_vm._v(\" \"+_vm._s(_vm.$t('sample-preview'))+\" \")]):_vm._e(),(node.data.thumbURL && node.data.macroURL)?_c('span',[_vm._v(\"/\")]):_vm._e(),(node.data.macroURL)?_c('a',{on:{\"click\":function($event){_vm.slidePreview = node.data}}},[_vm._v(\" \"+_vm._s(_vm.$t('slide-preview'))+\" \")]):_vm._e()])]}}]),model:{value:(_vm.nodes),callback:function ($$v) {_vm.nodes=$$v},expression:\"nodes\"}}),(_vm.nbUploadedFiles > 10)?[_c('div',{staticClass:\"level\"},[_c('b-select',{staticClass:\"level-left\",attrs:{\"size\":\"is-small\"},model:{value:(_vm.nbPerPage),callback:function ($$v) {_vm.nbPerPage=$$v},expression:\"nbPerPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])]),_c('b-pagination',{staticClass:\"level-right\",attrs:{\"total\":_vm.nbUploadedFiles,\"current\":_vm.currentPage,\"size\":\"is-small\",\"per-page\":_vm.nbPerPage},on:{\"update:current\":function($event){_vm.currentPage=$event}}})],1)]:_vm._e(),(_vm.samplePreview)?[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('sample-preview-of', {filename: _vm.samplePreview.originalFilename}))+\" \"),_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.samplePreview = null}}},[_vm._v(_vm._s(_vm.$t('button-hide')))])]),_c('image-thumbnail',{key:_vm.samplePreview.thumbURL,attrs:{\"url\":_vm.samplePreview.thumbURL,\"size\":512,\"extra-parameters\":{Authorization: 'Bearer ' + _vm.shortTermToken }}})]:(_vm.slidePreview)?[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('slide-preview-of', {filename: _vm.slidePreview.originalFilename}))+\" \"),_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.slidePreview = null}}},[_vm._v(_vm._s(_vm.$t('button-hide')))])]),_c('image-thumbnail',{key:_vm.slidePreview.macroURL,attrs:{\"url\":_vm.slidePreview.macroURL,\"size\":512,\"macro\":true,\"extra-parameters\":{Authorization: 'Bearer ' + _vm.shortTermToken }}})]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('picture',[_c('source',{attrs:{\"srcset\":_vm.webpSrc,\"type\":\"image/webp\"}}),_c('source',{attrs:{\"srcset\":_vm.jpegSrc,\"type\":\"image/jpeg\"}}),_c('img',{staticClass:\"image-thumbnail\",attrs:{\"src\":_vm.jpegSrc,\"alt\":\"\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <picture>\r\n    <source :srcset=\"webpSrc\" type=\"image/webp\">\r\n    <source :srcset=\"jpegSrc\" type=\"image/jpeg\">\r\n    <img :src=\"jpegSrc\" alt=\"\" class=\"image-thumbnail\">\r\n  </picture>\r\n</template>\r\n\r\n<script>\r\nimport {combineImageUrl, splitImageUrl} from '@/utils/image-utils';\r\n\r\nexport default {\r\n  name: 'ImageThumbnail',\r\n  props: {\r\n    image: {type: Object, default: () => {}},\r\n    macro: {type: Boolean, default: false}, // Ignored if URL is used\r\n    url: {type: String, default: null}, // Cannot be null if image is null or empty\r\n    size: {type: Number},\r\n    extraParameters: {type: Object, default: () => {}}\r\n  },\r\n  computed: {\r\n    jpegSrc() {\r\n      return this.formatSrc('jpg');\r\n    },\r\n    webpSrc() {\r\n      return this.formatSrc('webp');\r\n    },\r\n    splitURL() {\r\n      if (this.url === null) {\r\n        return [];\r\n      }\r\n\r\n      let urlParts = splitImageUrl(this.url);\r\n      urlParts.params.set('maxSize', this.size.toString());\r\n      if (this.extraParameters) {\r\n        for (const [key, value] of Object.entries(this.extraParameters)) {\r\n          urlParts.params.set(key, value.toString());\r\n        }\r\n      }\r\n      return urlParts;\r\n    }\r\n  },\r\n  methods: {\r\n    combineURL({host, pathname, format, params}) {\r\n      return combineImageUrl({host, pathname, format, params});\r\n    },\r\n    formatSrc(format) {\r\n      if (this.url !== null) {\r\n        return this.combineURL({format, ...this.splitURL});\r\n      }\r\n      if (this.macro) {\r\n        return this.image.associatedImageURL('macro', this.size, format, this.extraParameters);\r\n      }\r\n      return this.image.thumbURL(this.size, format, this.extraParameters);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageThumbnail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageThumbnail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageThumbnail.vue?vue&type=template&id=bcf10388&scoped=true&\"\nimport script from \"./ImageThumbnail.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageThumbnail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bcf10388\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <h2>\r\n    {{$t('file-tree')}}\r\n  </h2>\r\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\" size=\"is-small\">\r\n    <h2> {{ $t('error') }} </h2>\r\n    <p> {{ $t('unexpected-error-info-message') }} </p>\r\n  </b-message>\r\n  <sl-vue-tree v-else v-model=\"nodes\" :allowMultiselect=\"false\">\r\n    <template #toggle=\"{node}\">\r\n      <template v-if=\"!node.isLeaf\">\r\n        <i :class=\"['tree-toggle', 'fas', node.isExpanded ? 'fa-angle-down' : 'fa-angle-right']\"></i>\r\n      </template>\r\n    </template>\r\n\r\n    <template #title=\"{node}\">\r\n      <p :class=\"{'target-element': node.data.id === file.id}\">{{node.title}}</p>\r\n    </template>\r\n\r\n    <template #sidebar=\"{node}\">\r\n      <div class=\"filesize\">\r\n        {{filesize(node.data.size)}}\r\n      </div>\r\n      <div class=\"status\">\r\n        <uploaded-file-status :file=\"node.data\" :iconOnly=\"true\" />\r\n      </div>\r\n      <div class=\"buttons\">\r\n        <a class=\"button is-small is-link\" @click=\"download(node.data)\">\r\n          {{$t('button-download')}}\r\n        </a>\r\n        <button class=\"button is-small is-danger\" @click=\"confirmDeletion(node.data)\">\r\n          {{$t('button-delete')}}\r\n        </button>\r\n      </div>\r\n      <p class=\"preview\">\r\n        <a v-if=\"node.data.thumbURL\" @click=\"samplePreview = node.data\">\r\n          {{$t('sample-preview')}}\r\n        </a>\r\n        <span v-if=\"node.data.thumbURL && node.data.macroURL\">/</span>\r\n        <a v-if=\"node.data.macroURL\" @click=\"slidePreview = node.data\">\r\n          {{$t('slide-preview')}}\r\n        </a>\r\n      </p>\r\n    </template>\r\n  </sl-vue-tree>\r\n\r\n  <template v-if=\"nbUploadedFiles > 10\">\r\n    <div class=\"level\">\r\n      <b-select v-model=\"nbPerPage\" size=\"is-small\" class=\"level-left\">\r\n        <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n        <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n        <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n        <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n      </b-select>\r\n\r\n      <b-pagination\r\n        class=\"level-right\"\r\n        :total=\"nbUploadedFiles\"\r\n        :current.sync=\"currentPage\"\r\n        size=\"is-small\"\r\n        :per-page=\"nbPerPage\"\r\n      />\r\n    </div>\r\n  </template>\r\n\r\n  <template v-if=\"samplePreview\">\r\n    <h2>\r\n      {{$t('sample-preview-of', {filename: samplePreview.originalFilename})}}\r\n      <button class=\"button is-small\" @click=\"samplePreview = null\">{{$t('button-hide')}}</button>\r\n    </h2>\r\n    <image-thumbnail :url=\"samplePreview.thumbURL\" :size=\"512\" :key=\"samplePreview.thumbURL\" :extra-parameters=\"{Authorization: 'Bearer ' + shortTermToken }\" />\r\n  </template>\r\n  <template v-else-if=\"slidePreview\">\r\n    <h2>\r\n      {{$t('slide-preview-of', {filename: slidePreview.originalFilename})}}\r\n      <button class=\"button is-small\" @click=\"slidePreview = null\">{{$t('button-hide')}}</button>\r\n    </h2>\r\n    <image-thumbnail :url=\"slidePreview.macroURL\" :size=\"512\" :key=\"slidePreview.macroURL\" :macro=\"true\" :extra-parameters=\"{Authorization: 'Bearer ' + shortTermToken }\"/>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport SlVueTree from 'sl-vue-tree';\r\nimport {UploadedFile, UploadedFileCollection, AbstractImage, UploadedFileStatus as UFStatus} from 'cytomine-client';\r\nimport UploadedFileStatus from './UploadedFileStatus';\r\nimport filesize from 'filesize';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\nimport {get} from '@/utils/store-helpers.js';\r\nimport ImageThumbnail from '@/components/image/ImageThumbnail';\r\n\r\nexport default {\r\n  name: 'uploaded-file-details',\r\n  components: {\r\n    ImageThumbnail,\r\n    SlVueTree,\r\n    UploadedFileStatus\r\n  },\r\n  props: {\r\n    file: Object // WARNING: the root of the tree must be the file or its direct parent\r\n  },\r\n  data() {\r\n    return {\r\n      rootId: null,\r\n      uploadedFiles: [],\r\n      nodes: [],\r\n      image: null,\r\n      slidePreview: null,\r\n      samplePreview: null,\r\n      error: false,\r\n\r\n      nbUploadedFiles: 0,\r\n      currentPage: 1,\r\n      nbPerPage: 10,\r\n    };\r\n  },\r\n  computed: {\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    collection() {\r\n      return new UploadedFileCollection({\r\n        root: this.rootId,\r\n        max: this.nbPerPage\r\n      });\r\n    },\r\n  },\r\n  watch: {\r\n    async file() {\r\n      this.findRoot();\r\n      await Promise.all([this.fetchAbstractImage(), this.makeTree()]);\r\n    },\r\n    async currentPage() {\r\n      this.findRoot();\r\n      await this.makeTree();\r\n    },\r\n    async collection() {\r\n      await this.makeTree();\r\n    },\r\n    slidePreview(val) {\r\n      if(val) {\r\n        this.samplePreview = null; // if slide preview enabled, disable sample preview\r\n      }\r\n    },\r\n    samplePreview(val) {\r\n      if(val) {\r\n        this.slidePreview = null; // if sample preview enabled, disable slide preview\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    findRoot() {\r\n      this.rootId = this.file.root || this.file.id;\r\n    },\r\n    async fetchAbstractImage() {\r\n      if (this.file.image && (this.file.status === UFStatus.CONVERTED || this.file.status === UFStatus.DEPLOYED)) {\r\n        try {\r\n          this.image = await AbstractImage.fetch(this.file.image);\r\n        }\r\n        catch(error) {\r\n          console.log(error);\r\n          this.error = true;\r\n        }\r\n      }\r\n    },\r\n    async makeTree() {\r\n      try {\r\n        let data = (await this.collection.fetchPage(this.currentPage - 1));\r\n        this.uploadedFiles = data.array;\r\n        this.nbUploadedFiles = data.totalNbItems;\r\n        this.nodes = (await this.createNodes(null));\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n      }\r\n    },\r\n    async createNodes(idParent) {\r\n      let directChildren = this.uploadedFiles.filter(file => file.parent === idParent);\r\n\r\n      if (directChildren.length === 0 && idParent === null) {\r\n        let missingIds = this.uploadedFiles[0].lTree.split('.');\r\n        await Promise.all(missingIds.slice(0, missingIds.length - 1).map(async id => {\r\n          this.uploadedFiles.unshift((await UploadedFile.fetch(id)));\r\n        }));\r\n        return this.createNodes(null);\r\n      }\r\n\r\n      return await Promise.all(directChildren.map(async file => {\r\n        let children = await this.createNodes(file.id);\r\n        return {\r\n          title: file.originalFilename,\r\n          isLeaf: children.length === 0,\r\n          isDraggable: false,\r\n          isExpanded: true,\r\n          data: {downloadURL: file.downloadURL, ...file}, // data converted to object by sl-vue-tree => need to define downloadURL as property\r\n          children\r\n        };\r\n      }));\r\n    },\r\n    filesize(size) {\r\n      return filesize(size, {base: 10});\r\n    },\r\n    confirmDeletion(file) {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('confirm-deletion'),\r\n        message: this.$t('confirm-deletion-file'),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.deleteFile(file)\r\n      });\r\n    },\r\n    async deleteFile(file) {\r\n      try {\r\n        await UploadedFile.delete(file.id);\r\n        this.$emit('update');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        let errorValues = error.response.data.errorValues;\r\n        let text;\r\n        if(errorValues && errorValues.projectNames && errorValues.imageNames) {\r\n          text = this.$t('notif-error-delete-used-uploaded-file', {\r\n            projects: errorValues.projectNames.join(', '),\r\n            names: errorValues.imageNames.join(', ')\r\n          });\r\n        }\r\n        else {\r\n          text = this.$t('notif-error-delete-uploaded-file');\r\n        }\r\n        this.$notify({type: 'error', text});\r\n      }\r\n    },\r\n    download(data) {\r\n      window.location.assign(appendShortTermToken(data.downloadURL, this.shortTermToken));\r\n    }\r\n  },\r\n  created() {\r\n    this.findRoot();\r\n    this.fetchAbstractImage();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.target-element {\r\n  font-weight: 600;\r\n  min-width: 0; /* to allow correct handling of overflow-wrap */\r\n}\r\n\r\n.filesize {\r\n  width: 8em;\r\n  margin-left: 1em;\r\n}\r\n\r\n.status {\r\n  width: 5em;\r\n}\r\n\r\n.preview {\r\n  width: 20em;\r\n}\r\n\r\n.buttons {\r\n  margin-right: 2em;\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\n.buttons .button {\r\n  margin-bottom: 0.5em !important;\r\n  margin-top: 0.2em !important;\r\n}\r\n\r\nh2:not(:first-child) {\r\n  margin-top: 1em;\r\n  /*border-bottom: 2px solid #ddd;*/\r\n}\r\n\r\nh2 .button {\r\n  position: relative;\r\n  bottom: 3px;\r\n  margin-left: 0.8em;\r\n  text-transform: none;\r\n}\r\n\r\n>>> .sl-vue-tree-sidebar {\r\n  display: flex;\r\n  align-items: top;\r\n  justify-content: flex-end;\r\n}\r\n\r\n>>> .sl-vue-tree-gap {\r\n  border: 0 dotted #bbb;\r\n  border-left-width: 1px;\r\n  position: relative;\r\n  right: 0.95em;\r\n  bottom: 1.25em;\r\n}\r\n\r\n>>> .sl-vue-tree-toggle {\r\n  background: #fafafa;\r\n  z-index: 1;\r\n}\r\n\r\n>>> .sl-vue-tree-gap:nth-last-child(3) {\r\n  border-width: 0 0 1px 1px !important;\r\n}\r\n\r\n>>> ul.pagination-list {\r\n  justify-content: flex-end;\r\n}\r\n\r\n.level {\r\n  padding-bottom: 0.5rem !important;\r\n}\r\n\r\n.table {\r\n  /*background: none;*/\r\n  position: relative;\r\n  height: 3em;\r\n}\r\n\r\ntd.prop-label {\r\n  white-space: nowrap;\r\n  font-weight: 600;\r\n}\r\n\r\ntd.prop-content {\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFileDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFileDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadedFileDetails.vue?vue&type=template&id=030ffa62&scoped=true&\"\nimport script from \"./UploadedFileDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadedFileDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadedFileDetails.vue?vue&type=style&index=0&id=030ffa62&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"030ffa62\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"metadata-filter\"},[_c('h2',[_vm._v(_vm._s(_vm.format))]),_c('div',{staticClass:\"columns is-multiline\"},_vm._l((_vm.filters),function(value,key){return _c('div',{key:key,staticClass:\"column is-narrow\"},[_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"filter\"},[_c('strong',{staticClass:\"key\"},[_vm._v(_vm._s(key))]),_vm._v(\": \"+_vm._s(value))]),_c('button',{staticClass:\"delete\",on:{\"click\":function($event){return _vm.removeFilter(key)}}})])])}),0),(_vm.filteredKeys)?_c('div',{staticClass:\"search-block\"},[_c('b-dropdown',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"scrollable\":\"\"},scopedSlots:_vm._u([{key:\"trigger\",fn:function(){return [_c('b-button',{staticClass:\"crop\",attrs:{\"label\":_vm.currentKey,\"type\":\"is-primary\"}})]},proxy:true}],null,false,3085157798),model:{value:(_vm.currentKey),callback:function ($$v) {_vm.currentKey=$$v},expression:\"currentKey\"}},[_c('b-dropdown-item',{attrs:{\"custom\":\"\"}},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"icon\":\"search\",\"type\":\"search\"},model:{value:(_vm.searchKey),callback:function ($$v) {_vm.searchKey=$$v},expression:\"searchKey\"}})],1),_vm._l((_vm.filteredKeys),function(key){return _c('b-dropdown-item',{key:key,attrs:{\"value\":key}},[_vm._v(\" \"+_vm._s(key)+\" \")])})],2),(_vm.type[_vm.currentKey] === Number)?_c('div',{staticClass:\"metadata\"},[_c('div',{staticClass:\"metadata-slider\"},[_c('cytomine-slider',{attrs:{\"max\":Number(_vm.max[_vm.currentKey])},model:{value:(_vm.sliderValue),callback:function ($$v) {_vm.sliderValue=$$v},expression:\"sliderValue\"}})],1)]):(_vm.type[_vm.currentKey] === Date)?_c('div',[_c('b-datetimepicker',{staticClass:\"search-images\",attrs:{\"first-day-of-week\":1,\"icon\":\"calendar\",\"placeholder\":\"Click to select...\"},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('b-button',{attrs:{\"label\":\"Now\",\"type\":\"is-primary\",\"icon-left\":\"clock\"},on:{\"click\":function($event){_vm.searchValue = new Date()}}})]},proxy:true},{key:\"right\",fn:function(){return [_c('b-button',{attrs:{\"label\":\"Clear\",\"type\":\"is-danger\",\"icon-left\":\"times-circle\",\"outlined\":\"\"},on:{\"click\":function($event){_vm.searchValue = null}}})]},proxy:true}],null,false,2421844635),model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}})],1):_c('b-autocomplete',{staticClass:\"search-images\",attrs:{\"data\":_vm.searchChoices,\"disabled\":_vm.currentKey === 'Select metadata',\"open-on-focus\":true,\"placeholder\":_vm.$t('search-placeholder'),\"icon\":\"search\",\"type\":\"search\",\"clearable\":\"\"},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}}),_c('b-button',{attrs:{\"disabled\":(_vm.searchValue === '') && (_vm.type[_vm.currentKey] === String)},on:{\"click\":_vm.searchImage}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")])],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"metadata-filter\">\r\n    <h2>{{ format }}</h2>\r\n    <div class=\"columns is-multiline\">\r\n      <div class=\"column is-narrow\" v-for=\"(value, key) in filters\" :key=\"key\">\r\n        <div class=\"box\">\r\n          <div class=\"filter\"><strong class=\"key\">{{ key }}</strong>: {{ value }}</div>\r\n          <button class=\"delete\" @click=\"removeFilter(key)\"/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"search-block\" v-if=\"filteredKeys\">\r\n      <b-dropdown v-model=\"currentKey\" :placeholder=\"$t('search-placeholder')\" scrollable>\r\n        <template #trigger>\r\n          <b-button class=\"crop\" :label=\"currentKey\" type=\"is-primary\"/>\r\n        </template>\r\n\r\n        <b-dropdown-item custom>\r\n          <b-input\r\n            v-model=\"searchKey\"\r\n            :placeholder=\"$t('search-placeholder')\"\r\n            icon=\"search\"\r\n            type=\"search\"\r\n          />\r\n        </b-dropdown-item>\r\n\r\n        <b-dropdown-item v-for=\"key in filteredKeys\" :key=\"key\" :value=\"key\">\r\n          {{ key }}\r\n        </b-dropdown-item>\r\n      </b-dropdown>\r\n\r\n      <div class=\"metadata\" v-if=\"type[currentKey] === Number\">\r\n        <div class=\"metadata-slider\">\r\n          <cytomine-slider v-model=\"sliderValue\" :max=\"Number(max[currentKey])\"/>\r\n        </div>\r\n      </div>\r\n\r\n      <div v-else-if=\"type[currentKey] === Date\">\r\n        <b-datetimepicker\r\n          class=\"search-images\"\r\n          v-model=\"searchValue\"\r\n          :first-day-of-week=\"1\"\r\n          icon=\"calendar\"\r\n          placeholder=\"Click to select...\"\r\n        >\r\n          <template #left>\r\n            <b-button\r\n              label=\"Now\"\r\n              type=\"is-primary\"\r\n              icon-left=\"clock\"\r\n              @click=\"searchValue = new Date()\"\r\n            />\r\n          </template>\r\n\r\n          <template #right>\r\n            <b-button\r\n              label=\"Clear\"\r\n              type=\"is-danger\"\r\n              icon-left=\"times-circle\"\r\n              outlined\r\n              @click=\"searchValue = null\"\r\n            />\r\n          </template>\r\n        </b-datetimepicker>\r\n      </div>\r\n\r\n      <b-autocomplete\r\n        class=\"search-images\"\r\n        v-else\r\n        v-model=\"searchValue\"\r\n        :data=\"searchChoices\"\r\n        :disabled=\"currentKey === 'Select metadata'\"\r\n        :open-on-focus=\"true\"\r\n        :placeholder=\"$t('search-placeholder')\"\r\n        icon=\"search\"\r\n        type=\"search\"\r\n        clearable\r\n      />\r\n\r\n      <b-button\r\n        @click=\"searchImage\"\r\n        :disabled=\"(searchValue === '') && (type[currentKey] === String)\"\r\n      >\r\n        {{ $t('button-add') }}\r\n      </b-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {Cytomine} from 'cytomine-client';\r\n\r\nimport CytomineSlider from '@/components/form/CytomineSlider.vue';\r\nimport {filterAutoCompletion} from '@/utils/metadata.js';\r\n\r\nexport default {\r\n  name: 'metadata-filter',\r\n  components: {\r\n    CytomineSlider,\r\n  },\r\n  props: {\r\n    format: {type: String, default: ''},\r\n    imageIds: {type: Array, default: []},\r\n    keys: {type: Array, default: []},\r\n    max: {type: Object, default: {}},\r\n    type: {type: Object, default: {}},\r\n  },\r\n  data() {\r\n    return {\r\n      currentKey: 'Select metadata',\r\n      currentValue: '',\r\n      searchChoices: [],\r\n      searchKey: '',\r\n      searchValue: '',\r\n      sliderValues: {},\r\n    };\r\n  },\r\n  computed: {\r\n    searchModule() {\r\n      return this.$store.getters['currentProject/currentMetadataSearch'];\r\n    },\r\n    filters: {\r\n      get() {\r\n        if (this.format in this.searchModule) {\r\n          return this.searchModule[this.format];\r\n        }\r\n\r\n        return {};\r\n      },\r\n      set(value) {\r\n        this.currentValue = value;\r\n        this.$store.commit(\r\n          'currentProject/setCurrentMetadataSearch',\r\n          {format: this.format, key: this.currentKey, searchValue: value},\r\n        );\r\n      }\r\n    },\r\n    sliderValue: {\r\n      get() {\r\n        return this.sliderValues[this.currentKey];\r\n      },\r\n      set(value) {\r\n        this.$set(this.sliderValues, this.currentKey, value);\r\n        this.searchValue = this.sliderValues[this.currentKey];\r\n      }\r\n    },\r\n    filteredKeys() {\r\n      return this.keys.filter((item) => item.toLowerCase().indexOf(this.searchKey.toLowerCase()) >= 0);\r\n    },\r\n  },\r\n  methods: {\r\n    async fetchAutoCompletion() {\r\n      return (await Cytomine.instance.api.get(\r\n        'search/autocomplete.json',\r\n        {params: {key: this.currentKey, searchTerm: encodeURI(this.searchValue)}}\r\n      )).data['collection'];\r\n    },\r\n    async removeFilter(key) {\r\n      this.$store.commit(\r\n        'currentProject/removeMetadataFilter',\r\n        {format: this.format, key},\r\n      );\r\n\r\n      await this.searchImage();\r\n      this.$forceUpdate();\r\n    },\r\n    async searchImage() {\r\n      if (this.searchValue) {\r\n        this.filters = this.searchValue;\r\n        this.searchValue = '';\r\n      }\r\n\r\n      let filteredImageIds = this.imageIds;\r\n      if (Object.keys(this.filters).length) {\r\n        let data = {\r\n          'filters': this.filters,\r\n          'imageIds': this.imageIds,\r\n        };\r\n\r\n        filteredImageIds = (await Cytomine.instance.api.post('search.json', data)).data['collection'];\r\n      }\r\n\r\n      this.$eventBus.$emit('includeImageIDs', this.format, filteredImageIds);\r\n    }\r\n  },\r\n  watch: {\r\n    keys() {\r\n      this.keys.forEach(key => this.sliderValues[key] = [0, Number(this.max[key])]);\r\n    },\r\n    async currentKey() {\r\n      if (this.type[this.currentKey] === Number) {\r\n        this.searchValue = this.sliderValues[this.currentKey];\r\n      }\r\n      else {\r\n        this.searchValue = '';\r\n        this.searchChoices = await this.fetchAutoCompletion();\r\n      }\r\n    },\r\n    async searchValue() {\r\n      if (this.type[this.currentKey] !== String) {\r\n        return;\r\n      }\r\n\r\n      this.searchChoices = await this.fetchAutoCompletion();\r\n\r\n      if (this.currentKey.endsWith('alias') || this.currentKey.endsWith('id')) {\r\n        this.searchChoices = filterAutoCompletion(\r\n          this.currentKey,\r\n          this.searchChoices\r\n        );\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.$store.commit('currentProject/setImageFormat', this.format);\r\n\r\n    this.keys.forEach(key => this.sliderValues[key] = [0, Number(this.max[key])]);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.box {\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  max-width: 750px;\r\n  white-space: initial;\r\n  word-break: break-word;\r\n}\r\n\r\n.crop {\r\n  height: auto;\r\n  white-space: initial;\r\n  word-break: break-word;\r\n}\r\n\r\n.delete {\r\n  float: right;\r\n}\r\n\r\n.filter {\r\n  display: flex;\r\n  margin-right: 10px;\r\n}\r\n\r\n.key {\r\n  max-width: 75%;\r\n}\r\n\r\n.metadata {\r\n  width: 300px;\r\n}\r\n\r\n.metadata-filter {\r\n  margin: 10px;\r\n}\r\n\r\n.metadata-slider {\r\n  flex-grow: 3;\r\n}\r\n\r\n.search-block {\r\n  display: flex;\r\n}\r\n\r\n>>> .search-images {\r\n  display: flex;\r\n  max-width: 30rem;\r\n  margin-left: 1rem;\r\n  margin-right: 1rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetadataFilter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetadataFilter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MetadataFilter.vue?vue&type=template&id=013ed4b0&scoped=true&\"\nimport script from \"./MetadataFilter.vue?vue&type=script&lang=js&\"\nexport * from \"./MetadataFilter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MetadataFilter.vue?vue&type=style&index=0&id=013ed4b0&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"013ed4b0\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nlet vendors = {\r\n  hamamatsu: {\r\n    imgPath: require('@/assets/brands/hamamatsu.jpg'),\r\n    name: 'Hamamatsu Photonics'\r\n  },\r\n  '3dh': {\r\n    imgPath: require('@/assets/brands/3dh.png'),\r\n    name: '3DHISTECH Ltd.'\r\n  },\r\n  aperio: {\r\n    imgPath: require('@/assets/brands/aperio.jpg'),\r\n    name: 'Aperio'\r\n  },\r\n  leica: {\r\n    imgPath: require('@/assets/brands/leica.png'),\r\n    name: 'Leica Biosystems'\r\n  },\r\n  roche: {\r\n    imgPath: require('@/assets/brands/roche.gif'),\r\n    name: 'La Roche Ltd.'\r\n  },\r\n  philips: {\r\n    imgPath: require('@/assets/brands/philips.svg'),\r\n    name: 'Philips'\r\n  }\r\n};\r\n\r\nexport default function vendorFromFormat(format) {\r\n  switch(format) {\r\n    case 'NDPI':\r\n    case 'VMS':\r\n      return vendors['hamamatsu'];\r\n    case 'MRXS':\r\n      return vendors['3dh'];\r\n    case 'SVS':\r\n      return vendors['aperio'];\r\n    case 'SCN':\r\n      return vendors['leica'];\r\n    case 'VENTANA':\r\n    case 'BIF':\r\n      return vendors['roche'];\r\n    case 'PHILIPS':\r\n      return vendors['philips'];\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"storage-wrapper content-wrapper\">\r\n  <div class=\"panel\">\r\n    <p class=\"panel-heading\">\r\n      {{ $t('upload') }}\r\n    </p>\r\n    <div class=\"panel-block\" v-if=\"newUploadError\">\r\n      <b-message type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n        {{ $t('error-cannot-upload') }}\r\n      </b-message>\r\n    </div>\r\n    <div class=\"panel-block\" v-else>\r\n      <b-message type=\"is-info\" has-icon icon-size=\"is-small\">\r\n        <h2>{{$t('important-notes')}}</h2>\r\n        <ul class=\"small-text\">\r\n<!--          <li>{{$t('max-size-upload-info')}}</li>-->\r\n          <li>\r\n            {{$t('allowed-formats-upload-info')}}\r\n            <template v-if=\"formatInfos.length\">\r\n            <span v-for=\"(format, index) in formatInfos\" :key=\"format.id\">\r\n              {{format.name}}<v-popover v-if=\"format.remarks\">\r\n                <i class=\"fas fa-info-circle\"></i>\r\n                <template #popover>\r\n                  <p>{{format.remarks}}</p>\r\n                </template>\r\n              </v-popover><template v-if=\"index < formatInfos.length - 1\">, </template>\r\n            </span>\r\n            </template>\r\n          </li>\r\n          <li>{{$t('drag-drop-upload-info', {labelButton: $t('add-files')})}}</li>\r\n          <li>{{$t('link-to-project-upload-info')}}</li>\r\n\r\n        </ul>\r\n      </b-message>\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column is-one-quarter has-text-right\">\r\n          <strong>{{$t('storage')}}</strong>\r\n        </div>\r\n        <div class=\"column is-half\">\r\n          <cytomine-multiselect v-model=\"selectedStorage\" :options=\"storages\" label=\"extendedName\" track-by=\"id\" :allow-empty=\"false\">\r\n            <template #option=\"{option}\">\r\n              {{option.extendedName}}\r\n              <template v-if=\"currentUser.isDeveloper\">\r\n                 ({{$t('id')}}: {{option.id}})\r\n              </template>\r\n            </template>\r\n          </cytomine-multiselect>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column is-one-quarter has-text-right\">\r\n          <strong>{{$t('link-with-project')}}</strong>\r\n        </div>\r\n        <div class=\"column is-half\">\r\n          <cytomine-multiselect\r\n            v-model=\"selectedProjects\"\r\n            :options=\"projects\"\r\n            label=\"name\"\r\n            track-by=\"id\"\r\n            :multiple=\"true\"\r\n            :close-on-select=\"true\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column is-one-quarter has-text-right\">\r\n          <strong>{{$t('files')}}</strong>\r\n        </div>\r\n        <div class=\"column is-half\">\r\n          <table v-if=\"dropFiles.length > 0\" class=\"table is-fullwidth upload-table\">\r\n            <tbody>\r\n              <tr v-for=\"(wrapper, idx) in dropFiles\" :key=\"idx\">\r\n                <td>{{wrapper.file.name}}</td>\r\n                <td>{{filesize(wrapper.file.size)}}</td>\r\n                <template v-if=\"wrapper.uploadedFile === null\">\r\n                  <td>\r\n                    <progress class=\"progress is-info\" :value=\"wrapper.progress\" max=\"100\">\r\n                      {{wrapper.progress}}%\r\n                    </progress>\r\n                  </td>\r\n                  <td>\r\n                    <div class=\"field is-grouped\">\r\n                      <p class=\"control\">\r\n                        <button class=\"button is-link\" @click=\"startUpload(wrapper)\">\r\n                          {{$t('button-start')}}\r\n                        </button>\r\n                      </p>\r\n                      <p class=\"control\">\r\n                        <button class=\"button\" @click=\"cancelUpload(idx)\">\r\n                          {{$t('button-cancel')}}\r\n                        </button>\r\n                      </p>\r\n                    </div>\r\n                  </td>\r\n                </template>\r\n                <template v-else>\r\n                  <td>\r\n                    <uploaded-file-status v-if=\"wrapper.uploadedFile\" :file=\"wrapper.uploadedFile\" />\r\n                    <span v-else class=\"tag is-danger\">\r\n                      {{$t('upload-error')}}\r\n                    </span>\r\n                  </td>\r\n                  <td>\r\n                    <p class=\"control\">\r\n                      <button class=\"button\" @click=\"cancelUpload(idx)\">{{$t('button-hide')}}</button>\r\n                    </p>\r\n                  </td>\r\n                </template>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <em v-else class=\"first-child-like has-text-grey\">{{$t('no-file')}}</em>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column is-half flex-column is-offset-one-quarter\">\r\n          <progress v-if=\"ongoingUpload\" class=\"progress is-success\" :value=\"overallProgress\" max=\"100\">\r\n            {{overallProgress}}%\r\n          </progress>\r\n\r\n          <div class=\"buttons\">\r\n            <b-upload :value=\"plainFiles\" type=\"is-link\" multiple drag-drop @input=\"filesChange\">\r\n              <a class=\"button is-success\">{{$t('add-files')}}</a>\r\n            </b-upload>\r\n            <button class=\"button is-link\" @click=\"startAll()\" :disabled=\"!filesPendingUpload\">\r\n              {{$t('start-upload')}}\r\n            </button>\r\n            <button class=\"button\" @click=\"cancelAll()\" :disabled=\"!filesPendingUpload && !ongoingUpload\">\r\n              {{$t('cancel-upload')}}\r\n            </button>\r\n            <button class=\"button\" @click=\"hideFinished()\" v-if=\"filesFinishedUpload\">\r\n              {{$t('hide-successful-upload')}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"panel\">\r\n    <p class=\"panel-heading\">\r\n      {{ $t('storage') }}\r\n    </p>\r\n    <div class=\"panel-block storage\">\r\n      <div class=\"search-block\">\r\n        <b-input\r\n          :value=\"searchString\"\r\n          @input=\"debounceSearchString\"\r\n          class=\"search-uploaded-file\"\r\n          :placeholder=\"$t('search-placeholder')\"\r\n          icon=\"search\"\r\n          type=\"search\"\r\n        />\r\n\r\n        <button class=\"button\" @click=\"filtersOpened = !filtersOpened\">\r\n          <span class=\"icon\">\r\n            <i class=\"fas fa-filter\"></i>\r\n          </span>\r\n          <span>\r\n            {{filtersOpened ? $t('button-hide-filters') : $t('button-show-filters')}}\r\n          </span>\r\n        </button>\r\n      </div>\r\n\r\n      <b-collapse :open=\"filtersOpened\">\r\n        <div class=\"filters\">\r\n          <div class=\"columns\">\r\n            <div class=\"column is-one-third\">\r\n              <div class=\"filter-label\">{{ $t('vendor') }}</div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-multiselect\r\n                  v-model=\"selectedVendors\"\r\n                  :multiple=\"true\"\r\n                  :options=\"availableVendors\"\r\n                  label=\"label\"\r\n                  track-by=\"value\"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"filter-label\">{{ $t('format') }}</div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-multiselect\r\n                  v-model=\"selectedFormats\"\r\n                  :multiple=\"true\"\r\n                  :options=\"availableFormats\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column is-one-third\">\r\n              <div class=\"filter-label\">{{ $t('magnification') }}</div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-multiselect\r\n                  v-model=\"selectedMagnifications\"\r\n                  :options=\"availableMagnifications\"\r\n                  :multiple=\"true\"\r\n                  :searchable=\"false\"\r\n                  label=\"label\"\r\n                  track-by=\"value\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column is-one-third\">\r\n              <div class=\"filter-label\">{{ $t('height') }}</div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-slider v-model=\"boundsHeight\" :max=\"maxHeight\" />\r\n              </div>\r\n\r\n              <div class=\"filter-label\">{{ $t('width') }}</div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-slider v-model=\"boundsWidth\" :max=\"maxWidth\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"columns is-multiline\">\r\n            <div class=\"column is-half\" v-for=\"format in selectedFormats\" :key=\"format\">\r\n              <metadata-filter\r\n                :format=\"format\"\r\n                :image-ids=\"aiIDs[format]\"\r\n                :keys=\"metadataKeys[format]\"\r\n                :max=\"metadataMax\"\r\n                :type=\"metadataType\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"buttons button-add is-right\">\r\n          <button class=\"button is-link\" @click=\"createProject()\">\r\n            {{ $t('new-project-with-filtered-images') }}\r\n          </button>\r\n        </div>\r\n      </b-collapse>\r\n\r\n      <cytomine-table\r\n        :collection=\"uploadedFileCollection\"\r\n        sort=\"created\" order=\"desc\"\r\n        :revision=\"revision\"\r\n        :refreshInterval=\"tableRefreshInterval\"\r\n        :openedDetailed.sync=\"openedDetails\"\r\n      >\r\n        <template #default=\"{row: uFile}\">\r\n          <b-table-column :label=\"$t('preview')\" width=\"80\" class=\"image-overview\">\r\n            <image-thumbnail v-if=\"uFile.thumbURL\" :url=\"uFile.thumbURL\" :size=\"128\" :key=\"uFile.thumbURL\" :extra-parameters=\"{Authorization: 'Bearer ' + shortTermToken }\"/>\r\n            <div v-else class=\"is-size-7 has-text-grey\">{{$t('no-preview-available')}}</div>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"originalFilename\" :label=\"$t('filename')\" sortable width=\"200\">\r\n            {{ uFile.originalFilename }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"created\" :label=\"$t('created')\" sortable width=\"150\">\r\n            {{ Number(uFile.created) | moment('lll') }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"size\" :label=\"$t('size')\" sortable width=\"80\">\r\n            {{ filesize(uFile.size) }}\r\n          </b-table-column>\r\n\r\n<!--          <b-table-column field=\"globalSize\" :label=\"$t('global-size')\" sortable width=\"80\">-->\r\n<!--            {{ filesize(uFile.globalSize) }}-->\r\n<!--          </b-table-column>-->\r\n\r\n          <b-table-column field=\"status\" :label=\"$t('status')\" sortable width=\"80\">\r\n            <uploaded-file-status :file=\"uFile\" />\r\n          </b-table-column>\r\n\r\n          <!--<b-table-column field=\"parentFilename\" :label=\"$t('from-file')\" sortable width=\"150\">-->\r\n            <!--{{ uFile.parentFilename ? uFile.parentFilename : \"-\" }}-->\r\n          <!--</b-table-column>-->\r\n\r\n          <b-table-column label=\"\" centered width=\"80\">\r\n            <div class=\"columns is-vcentered\">\r\n              <div class=\"column is-two-thirds\">\r\n                <b-select\r\n                  v-model=\"selectedProjectsToLink[uFile.image]\"\r\n                  :placeholder=\"projectPlaceholders[uFile.image] ? $t('select-project') : $t('no-project')\"\r\n                  :disabled=\"!projectPlaceholders[uFile.image]\"\r\n                  expanded\r\n                >\r\n                  <option v-for=\"project in filteredProjects[uFile.image]\" :key=\"project.id\" :value=\"project\">\r\n                    {{ project.name }}\r\n                  </option>\r\n                </b-select>\r\n              </div>\r\n\r\n              <div class=\"column is-one-quarter\">\r\n                <button\r\n                  class=\"button is-small is-link\"\r\n                  :disabled=\"!projectPlaceholders[uFile.image]\"\r\n                  @click=\"addImage(uFile)\"\r\n                >\r\n                  {{ $t('add-image') }}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </b-table-column>\r\n        </template>\r\n\r\n        <template #detail=\"{row: uFile}\">\r\n          <uploaded-file-details :file=\"uFile\" :key=\"uFile.id\" @update=\"updatedTree()\" />\r\n        </template>\r\n\r\n        <template #empty>\r\n          <p>{{$t('no-uploaded-file')}}</p>\r\n        </template>\r\n      </cytomine-table>\r\n    </div>\r\n  </div>\r\n\r\n  <add-project-modal :active.sync=\"createModal\" :ontologies=\"ontologies\" />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {stripIDfromKey} from '@/utils/metadata.js';\r\nimport {get} from '@/utils/store-helpers';\r\nimport {isNumeric} from '@/utils/string-utils';\r\n\r\nimport {\r\n  AbstractImage,\r\n  AbstractImageCollection,\r\n  Cytomine,\r\n  ImageInstance,\r\n  StorageCollection,\r\n  OntologyCollection,\r\n  ProjectCollection,\r\n  PropertyCollection,\r\n  UploadedFileCollection,\r\n  UploadedFile,\r\n  UploadedFileStatus\r\n} from 'cytomine-client';\r\nimport axios from 'axios';\r\nimport filesize from 'filesize';\r\nimport _ from 'lodash';\r\nimport constants from '@/utils/constants.js';\r\n\r\nimport UploadedFileStatusComponent from './UploadedFileStatus';\r\nimport UploadedFileDetails from './UploadedFileDetails';\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport CytomineSlider from '@/components/form/CytomineSlider';\r\nimport CytomineTable from '@/components/utils/CytomineTable';\r\nimport ImageThumbnail from '@/components/image/ImageThumbnail';\r\nimport AddProjectModal from '@/components/project/AddProjectModal';\r\nimport MetadataFilter from '@/components/search/MetadataFilter.vue';\r\nimport vendorFromFormat from '@/utils/vendor';\r\n\r\nexport default {\r\n  name: 'cytomine-storage',\r\n  components: {\r\n    AddProjectModal,\r\n    ImageThumbnail,\r\n    CytomineMultiselect,\r\n    CytomineSlider,\r\n    'uploaded-file-status': UploadedFileStatusComponent,\r\n    UploadedFileDetails,\r\n    CytomineTable,\r\n    MetadataFilter,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      newUploadError: false,\r\n      timeoutRefreshSessionUploads: null,\r\n      tableRefreshInterval: constants.STORAGE_REFRESH_INTERVAL,\r\n\r\n      abstractImages: [],\r\n      availableFormats: [],\r\n      availableMagnifications: [],\r\n      availableVendors: [],\r\n      boundsHeight: [],\r\n      boundsWidth: [],\r\n      createModal: false,\r\n      filteredImageIDs: {},\r\n      filtersOpened: false,\r\n      filteredProjects: {},\r\n      maxHeight: 100,\r\n      maxWidth: 100,\r\n      metadataKeys: {},\r\n      metadataMax: {},\r\n      metadataType: {},\r\n      ontologies: [],\r\n      projectPlaceholders: {},\r\n      properties: {},\r\n      selectedFormats: [],\r\n      selectedMagnifications: [],\r\n      selectedProjectsToLink: {},\r\n      selectedVendors: [],\r\n\r\n      storages: [],\r\n      selectedStorage: null,\r\n      projects: [],\r\n      selectedProjects: [],\r\n      formatInfos: [],\r\n\r\n      searchString: '',\r\n      openedDetails: [],\r\n\r\n      dropFiles: [],\r\n\r\n      signature: '',\r\n      signatureDate: '',\r\n\r\n      revision: 0\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    aiIDs() {\r\n      let ids = {};\r\n      this.availableFormats.forEach(format => ids[format] = []);\r\n      this.abstractImages.forEach(ai => ids[ai.contentType].push(ai.id));\r\n\r\n      return ids;\r\n    },\r\n    finishedStatus() {\r\n      return [\r\n        UploadedFileStatus.CONVERTED,\r\n        UploadedFileStatus.DEPLOYED\r\n      ];\r\n    },\r\n    ongoingUpload() {\r\n      return this.dropFiles.some(wrapper => wrapper.uploading);\r\n    },\r\n    filesPendingUpload() {\r\n      return this.dropFiles.some(wrapper => !wrapper.uploading && wrapper.uploadedFile === null);\r\n    },\r\n    filesFinishedUpload() {\r\n      return this.dropFiles.some(wrapper => !wrapper.uploading && wrapper.uploadedFile !== null\r\n        && this.finishedStatus.includes(wrapper.uploadedFile.status));\r\n    },\r\n    overallProgress() {\r\n      let nbUploads = 0;\r\n      let totalProgress = 0;\r\n      this.dropFiles.forEach(wrapper => {\r\n        if(wrapper.uploading) {\r\n          nbUploads++;\r\n          totalProgress += wrapper.progress;\r\n        }\r\n      });\r\n      return Math.floor(totalProgress / nbUploads);\r\n    },\r\n    uri() {\r\n      return '/upload';\r\n    },\r\n    queryString() {\r\n      let str = `cytomine=${constants.CYTOMINE_CORE_HOST}`;\r\n      if(this.selectedStorage) {\r\n        str += `&idStorage=${this.selectedStorage.id}`;\r\n      }\r\n      if(this.selectedProjects) {\r\n        str += `&idProject=${this.selectedProjects.map(project => project.id).join(',')}`;\r\n      }\r\n      return str;\r\n    },\r\n    plainFiles() {\r\n      return this.dropFiles.map(wrapper => wrapper.file);\r\n    },\r\n\r\n    multiSelectFilters() {\r\n      return [\r\n        { prop: 'contentType', selected: this.selectedFormats, total: this.availableFormats.length },\r\n        { prop: 'magnification', selected: this.selectedMagnifications.map(option => option.value), total: this.availableMagnifications.length },\r\n        { prop: 'vendor', selected: this.selectedVendors.map(option => option.value), total: this.availableVendors.length },\r\n      ];\r\n    },\r\n\r\n    boundsFilters() {\r\n      return [\r\n        { prop: 'height', bounds: this.boundsHeight },\r\n        { prop: 'width', bounds: this.boundsWidth },\r\n      ];\r\n    },\r\n\r\n    uploadedFileCollection() {\r\n      let collection = new UploadedFileCollection({\r\n        onlyRootsWithDetails: true,\r\n        originalFilename: {ilike: encodeURIComponent(this.searchString)}\r\n      });\r\n\r\n      for (let { prop, bounds } of this.boundsFilters) {\r\n        collection[prop] = {\r\n          lte: bounds[1]\r\n        };\r\n\r\n        if(bounds[0] > 0) {\r\n          collection[prop]['gte'] = bounds[0];\r\n        }\r\n      }\r\n\r\n      for (let { prop, selected, total } of this.multiSelectFilters) {\r\n        if (prop === 'vendor') {\r\n          prop = 'mimeType';\r\n        }\r\n\r\n        if (selected.length > 0 && selected.length < total) {\r\n          collection[prop] = {\r\n            in: selected.join()\r\n          };\r\n        }\r\n      }\r\n\r\n      let filteredIDs = [];\r\n      this.selectedFormats.forEach(format => {\r\n        filteredIDs = filteredIDs.concat(this.filteredImageIDs[format]);\r\n      });\r\n      if (filteredIDs.length > 0) {\r\n        collection['include'] = {\r\n          in: filteredIDs.join(',')\r\n        };\r\n      }\r\n\r\n      return collection;\r\n    }\r\n  },\r\n  watch: {\r\n    async queryString() {\r\n      this.signatureDate = new Date().toISOString();\r\n      try {\r\n        this.signature = await Cytomine.instance.fetchSignature({\r\n          uri: this.uri,\r\n          queryString: this.queryString,\r\n          method: 'POST',\r\n          date: this.signatureDate\r\n        });\r\n      }\r\n      catch(error) {\r\n        this.newUploadError = true;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async addAbstractImage(uFile) {\r\n      let ai = (await Cytomine.instance.api.get(\r\n        `uploadedfile/${uFile.id}/abstractimage.json`\r\n      )).data;\r\n      ai = await AbstractImage.fetch(ai.id); /* ai not the same object */\r\n      this.$set(this.filteredProjects, ai.id, this.projects);\r\n      this.$set(this.projectPlaceholders, ai.id, true);\r\n\r\n      await this.fetchMetadata(ai);\r\n\r\n      let oldMaxHeight = this.maxHeight;\r\n      let oldMaxWidth = this.maxWidth;\r\n      this.maxHeight = Math.max(ai.height, this.maxHeight);\r\n      this.maxWidth = Math.max(ai.width, this.maxWidth);\r\n      this.boundsHeight = this.boundsHeight[1] === oldMaxHeight ? [0, this.maxHeight] : this.boundsHeight;\r\n      this.boundsWidth = this.boundsWidth[1] === oldMaxWidth ? [0, this.maxWidth] : this.boundsWidth;\r\n\r\n      if (!this.availableFormats.includes(ai.contentType)) {\r\n        this.availableFormats.push(ai.contentType);\r\n        this.$set(this.filteredImageIDs, ai.contentType, []);\r\n      }\r\n      this.abstractImages.push(ai);\r\n\r\n      if ((this.availableFormats.length-1) === this.selectedFormats.length) {\r\n        this.selectedFormats.push(ai.contentType);\r\n      }\r\n      if (this.selectedFormats.includes(ai.contentType)) {\r\n        this.filteredImageIDs[ai.contentType].push(ai.id);\r\n      }\r\n\r\n      let magnification = this.getMagnification(ai.magnification);\r\n      if (!this.availableMagnifications.includes(magnification)) {\r\n        this.availableMagnifications.push(magnification);\r\n      }\r\n      if ((this.availableMagnifications.length-1) === this.selectedMagnifications.length) {\r\n        this.selectedMagnifications.push(magnification);\r\n      }\r\n\r\n      let vendorFormatted = this.getVendor(ai.contentType);\r\n      if (!this.availableVendors.find(vendor => vendor.value === vendorFormatted.value)) {\r\n        this.availableVendors.push(vendorFormatted);\r\n      }\r\n      if ((this.availableVendors.length-1) === this.selectedVendors.length) {\r\n        this.selectedVendors.push(vendorFormatted);\r\n      }\r\n    },\r\n    async addImage(uFile) {\r\n      if (this.selectedProjectsToLink[uFile.image] === undefined) {\r\n        return;\r\n      }\r\n\r\n      let project = this.selectedProjectsToLink[uFile.image];\r\n      let propsTranslation = {\r\n        imageName: uFile.originalFilename,\r\n        projectName: project.name\r\n      };\r\n\r\n      try {\r\n        await new ImageInstance({\r\n          baseImage: uFile.image,\r\n          project: project.id\r\n        }).save();\r\n\r\n        let projects = this.filteredProjects[uFile.image];\r\n        projects.splice(projects.indexOf(project), 1);\r\n        this.$set(this.filteredProjects, uFile.image, projects);\r\n        this.$set(this.projectPlaceholders, uFile.image, projects.length != 0);\r\n        this.$set(this.selectedProjectsToLink, uFile.image, null);\r\n\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-add-image', propsTranslation)\r\n        });\r\n      }\r\n      catch (error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-add-image', propsTranslation)\r\n        });\r\n      }\r\n    },\r\n    async createProject() {\r\n      let filteredUFileCollection = (await this.uploadedFileCollection.fetchAll()).array;\r\n      this.$eventBus.$emit('update-ufiles', filteredUFileCollection);\r\n      this.createModal = true;\r\n    },\r\n    async fetchMetadata(ai) {\r\n      let properties = (await PropertyCollection.fetchAll({object: ai})).array;\r\n      properties.sort((a, b) => a.key.localeCompare(b.key));\r\n      this.properties[ai.id] = properties;\r\n\r\n      let keys = new Set();\r\n      properties.forEach(property => {\r\n        let key = stripIDfromKey(property.key);\r\n        keys.add(key);\r\n        this.metadataType[key] = isNumeric(property.value) ? Number : String;\r\n\r\n        if (!(key in this.metadataMax)) {\r\n          this.metadataMax[key] = property.value;\r\n        }\r\n\r\n        if (this.metadataMax[key] < property.value) {\r\n          this.metadataMax[key] = isNumeric(property.value) ? +property.value : property.value;\r\n        }\r\n      });\r\n\r\n      this.metadataKeys[ai.contentType].forEach((k) => keys.add(k));\r\n      this.metadataKeys[ai.contentType] = Array.from(keys);\r\n    },\r\n    getMagnification(magnification) {\r\n      return {\r\n        value: magnification || 'null',\r\n        label: magnification || this.$t('unknown')\r\n      };\r\n    },\r\n    getVendor(format) {\r\n      let vendor = vendorFromFormat(format);\r\n      return {\r\n        value: vendor ? format : 'null',\r\n        label: vendor ? vendor.name : this.$t('unknown')\r\n      };\r\n    },\r\n    async fetchAbstractImages() {\r\n      this.abstractImages = (await AbstractImageCollection.fetchAll()).array;\r\n      this.maxHeight = Math.max(...this.abstractImages.map(ai => ai.height), this.maxHeight);\r\n      this.maxWidth = Math.max(...this.abstractImages.map(ai => ai.width), this.maxWidth);\r\n      this.boundsHeight = [0, this.maxHeight];\r\n      this.boundsWidth = [0, this.maxWidth];\r\n\r\n      let formats = new Set();\r\n      let magnifications = new Set();\r\n\r\n      this.abstractImages.forEach(ai => {\r\n        formats.add(ai.contentType);\r\n        magnifications.add(ai.magnification);\r\n      });\r\n\r\n      this.availableFormats = Array.from(formats);\r\n      this.availableMagnifications = Array.from(magnifications).map(m => this.getMagnification(m));\r\n\r\n      this.availableFormats.forEach(format => {\r\n        let vendorFormatted = this.getVendor(format);\r\n        if (!this.availableVendors.find(vendor => vendor.value === vendorFormatted.value)) {\r\n          this.availableVendors.push(vendorFormatted);\r\n        }\r\n\r\n        this.filteredImageIDs[format] = [];\r\n        this.metadataKeys[format] = [];\r\n      });\r\n\r\n      this.selectedFormats = [...this.availableFormats];\r\n      this.selectedMagnifications = [...this.availableMagnifications];\r\n      this.selectedVendors = [...this.availableVendors];\r\n\r\n      let aiToImages = {};\r\n      await Promise.all(this.abstractImages.map(async (ai) => {\r\n        await this.fetchMetadata(ai);\r\n\r\n        aiToImages[ai.id] = (await Cytomine.instance.api.get(\r\n          `abstractimage/${ai.id}/imageinstance.json`\r\n        )).data.collection;\r\n\r\n        this.filteredImageIDs[ai.contentType].push(ai.id);\r\n      }));\r\n\r\n      for (const [key, value] of Object.entries(aiToImages)) {\r\n        let toRemove = value.map(image => image.project);\r\n        this.filteredProjects[key] = this.projects.filter(project => {\r\n          return !toRemove.includes(project.id);\r\n        });\r\n\r\n        this.projectPlaceholders[key] = this.filteredProjects[key].length !== 0;\r\n      }\r\n    },\r\n    async fetchStorages() {\r\n      try {\r\n        this.storages = (await StorageCollection.fetchAll()).array;\r\n        this.storages.forEach(v => {\r\n          v.extendedName = v.name;\r\n          if(this.currentUser.isDeveloper) v.extendedName +=' '+this.$t('id')+': '+v.id;\r\n        });\r\n\r\n        this.selectedStorage = this.storages.find(storage => storage.user === this.currentUser.id);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.newUploadError = true;\r\n      }\r\n    },\r\n    async fetchOntologies() {\r\n      let ontologies = (await OntologyCollection.fetchAll({light: true})).array;\r\n      ontologies.sort((a, b) => a.name.localeCompare(b.name));\r\n      this.ontologies = ontologies;\r\n    },\r\n    async fetchProjects() {\r\n      try {\r\n        this.projects = (await ProjectCollection.fetchAll()).array;\r\n      }\r\n      catch(error) {\r\n        console.log(error); // not mandatory for upload => only log error, no other action\r\n      }\r\n    },\r\n    async fetchFormatInfos() {\r\n      try {\r\n        this.formatInfos = (await Cytomine.instance.api.get('imageserver/format.json')).data.collection;\r\n      }\r\n      catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    async refreshStatusSessionUploads() {\r\n      let pendingStatus = [\r\n        UploadedFileStatus.UPLOADED,\r\n        UploadedFileStatus.DETECTING_FORMAT,\r\n        UploadedFileStatus.EXTRACTING_DATA,\r\n        UploadedFileStatus.CONVERTING,\r\n        UploadedFileStatus.DEPLOYING,\r\n        50,\r\n        60\r\n      ];\r\n\r\n      let unfinishedConversions = false;\r\n      let statusChange = false;\r\n\r\n      try {\r\n        await Promise.all(this.dropFiles.map(async wrapper => {\r\n          if(wrapper.uploadedFile) {\r\n            let oldStatus = wrapper.uploadedFile.status;\r\n            if(!pendingStatus.includes(oldStatus)) {\r\n              return;\r\n            }\r\n\r\n            await wrapper.uploadedFile.fetch();\r\n            let status = wrapper.uploadedFile.status;\r\n            if(status !== oldStatus) {\r\n              statusChange = true;\r\n            }\r\n            if(pendingStatus.includes(status)) {\r\n              unfinishedConversions = true;\r\n            }\r\n          }\r\n        }));\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        return;\r\n      }\r\n\r\n      if(statusChange) {\r\n        this.revision++;\r\n      }\r\n\r\n      if(unfinishedConversions) {\r\n        clearTimeout(this.timeoutRefreshSessionUploads);\r\n        this.timeoutRefreshSessionUploads = setTimeout(this.refreshStatusSessionUploads, constants.ONGOING_UPLOAD_REFRESH_INTERVAL);\r\n      }\r\n    },\r\n\r\n    filesChange(files) {\r\n      files.forEach(file => {\r\n        if(!file.processed) {\r\n          file.processed = true;\r\n          this.dropFiles.push({\r\n            file,\r\n            uploading: false,\r\n            progress: 0,\r\n            uploadedFile: null, // null if upload not finished, false if upload failed, UploadedFile instance if upload successful\r\n            cancelToken: null\r\n          });\r\n        }\r\n      });\r\n    },\r\n    filesize(size) {\r\n      return (size) ? filesize(size, {base: 10}) : null;\r\n    },\r\n\r\n    startUpload(fileWrapper) {\r\n      if(fileWrapper.uploading || fileWrapper.uploadedFile !== null) {\r\n        return;\r\n      }\r\n\r\n      let formData = new FormData();\r\n      formData.append('files[]', fileWrapper.file);\r\n      fileWrapper.cancelToken = axios.CancelToken.source();\r\n      fileWrapper.uploading = true;\r\n      axios.post(\r\n        constants.CYTOMINE_UPLOAD_HOST + this.uri + '?' + this.queryString,\r\n        formData,\r\n        {\r\n          headers: {\r\n            'authorization': `CYTOMINE ${this.currentUser.publicKey}:${this.signature}`,\r\n            'dateFull': this.signatureDate, // will replace actual date value, so that signature is valid\r\n            'content-type-full': 'null' // will erase actual content-type value, so that signature is valid\r\n          },\r\n          onUploadProgress: progress => {\r\n            fileWrapper.progress = Math.floor((progress.loaded * 100) / progress.total);\r\n          },\r\n          cancelToken: fileWrapper.cancelToken.token\r\n        }\r\n      ).then(response => {\r\n        fileWrapper.uploadedFile = new UploadedFile(response.data[0].uploadedFile);\r\n        this.refreshStatusSessionUploads();\r\n        this.revision++;\r\n        setTimeout(\r\n          this.addAbstractImage,\r\n          constants.STORAGE_REFRESH_INTERVAL,\r\n          fileWrapper.uploadedFile\r\n        );\r\n      }).catch(error => {\r\n        if(!axios.isCancel(error)) {\r\n          console.log(error);\r\n          fileWrapper.uploadedFile = false;\r\n        }\r\n      }).finally(() => fileWrapper.uploading = false);\r\n    },\r\n    startAll() {\r\n      this.dropFiles.forEach(wrapper => this.startUpload(wrapper));\r\n    },\r\n\r\n    cancelUpload(index) {\r\n      let fileWrapper = this.dropFiles[index];\r\n      if(fileWrapper.cancelToken) {\r\n        fileWrapper.cancelToken.cancel();\r\n      }\r\n      this.dropFiles.splice(index, 1);\r\n    },\r\n    cancelAll() {\r\n      let nbFiles = this.dropFiles.length;\r\n      let idx = 0;\r\n      for(let i = 0; i < nbFiles; i++) {\r\n        if(this.dropFiles[idx].uploadedFile !== null) {\r\n          idx++;\r\n        }\r\n        else {\r\n          this.cancelUpload(idx);\r\n        }\r\n      }\r\n    },\r\n\r\n    hideFinished() {\r\n      let nbFiles = this.dropFiles.length;\r\n      let idx = 0;\r\n      for(let i = 0; i < nbFiles; i++) {\r\n        let uploadedFile = this.dropFiles[idx].uploadedFile;\r\n        if (uploadedFile !== null && this.finishedStatus.includes(uploadedFile.status)) {\r\n          this.cancelUpload(idx);\r\n        }\r\n        else {\r\n          idx++;\r\n        }\r\n      }\r\n    },\r\n\r\n    updatedTree() {\r\n      this.revision++; // updating the table will result in new files objects => the uf details will also be updated\r\n    },\r\n\r\n    debounceSearchString: _.debounce(async function(value) {\r\n      this.searchString = value;\r\n    }, 500),\r\n\r\n    includeImageIDs(format, imageIDs) {\r\n      this.$delete(this.filteredImageIDs, format);\r\n      this.$set(this.filteredImageIDs, format, imageIDs);\r\n    }\r\n  },\r\n  activated() {\r\n    this.fetchAbstractImages();\r\n    this.fetchStorages();\r\n    this.fetchOntologies();\r\n    this.fetchProjects();\r\n    this.fetchFormatInfos();\r\n    this.refreshStatusSessionUploads();\r\n    this.tableRefreshInterval = constants.STORAGE_REFRESH_INTERVAL;\r\n\r\n    this.$eventBus.$on('includeImageIDs', this.includeImageIDs);\r\n  },\r\n  deactivated() {\r\n    clearTimeout(this.timeoutRefreshSessionUploads);\r\n    this.tableRefreshInterval = 0;\r\n\r\n    this.$eventBus.$off('includeImageIDs', this.includeImageIDs);\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.small-text {\r\n  font-size: 0.9em;\r\n}\r\n\r\n.upload-table  {\r\n  position: relative;\r\n  bottom: 0.4em;\r\n}\r\n\r\n.upload-table td {\r\n  vertical-align: middle !important;\r\n}\r\n\r\n.upload-table td:first-child {\r\n  width: 20vw;\r\n}\r\n\r\n.upload-table td:nth-child(2) {\r\n  width: 10em;\r\n}\r\n\r\n.upload-table td:nth-child(3) {\r\n  width: 15vw;\r\n}\r\n\r\n.upload-table td:last-child .field {\r\n  justify-content: flex-end;\r\n}\r\n\r\n.upload-table td:last-child .control {\r\n  text-align: right;\r\n}\r\n\r\n.column.flex-column {\r\n  flex-direction: column;\r\n}\r\n\r\n.progress:not(:last-child) {\r\n  margin-bottom: 0.75em;\r\n}\r\n\r\n.column:first-child {\r\n  padding-top: 1.25em;\r\n}\r\n\r\n.first-child-like {\r\n  display: block;\r\n  padding-top: 0.5em;\r\n}\r\n\r\n.image-overview >>> .image-thumbnail {\r\n  max-height: 4em;\r\n  max-width: 6em;\r\n}\r\n\r\n.panel-block.storage {\r\n  min-height: 20vh;\r\n  position: relative;\r\n}\r\n\r\n.search-block {\r\n  display: flex;\r\n}\r\n\r\n.b-table td, th {\r\n  vertical-align: middle !important;\r\n}\r\n\r\n.button-add {\r\n  padding: 1rem;\r\n}\r\n</style>\r\n\r\n<style>\r\n.storage-wrapper .upload-draggable .button {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.storage-wrapper .upload-draggable {\r\n  margin-right: 0.75em;\r\n  position: relative;\r\n  bottom: 4px;\r\n}\r\n\r\n.search-uploaded-file {\r\n  margin-right: 1rem;\r\n  max-width: 25em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineStorage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineStorage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineStorage.vue?vue&type=template&id=496c9281&scoped=true&\"\nimport script from \"./CytomineStorage.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineStorage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineStorage.vue?vue&type=style&index=0&id=496c9281&prod&scoped=true&lang=css&\"\nimport style1 from \"./CytomineStorage.vue?vue&type=style&index=1&id=496c9281&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"496c9281\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[(!_vm.ontologies)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('unexpected-error-info-message')))])]):(_vm.ontologies.length > 0)?_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('ontologies'))+\" \"),(!_vm.currentUser.guestByNow)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){_vm.creationModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('new-ontology'))+\" \")]):_vm._e()]),_c('div',{staticClass:\"panel-block\"},[_c('b-input',{attrs:{\"size\":\"is-small\",\"type\":\"search\",\"icon\":\"search\",\"placeholder\":_vm.$t('search-placeholder')},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('div',{staticClass:\"panel-main-content\"},_vm._l((_vm.filteredOntologies),function(ontology){return _c('a',{key:ontology.id,staticClass:\"panel-block\",class:{'is-active': _vm.isSelected(ontology)},on:{\"click\":function($event){return _vm.selectOntology(ontology)}}},[_c('span',{staticClass:\"panel-icon\"},[(_vm.isSelected(ontology))?_c('i',{staticClass:\"fas fa-caret-right\",attrs:{\"aria-hidden\":\"true\"}}):_vm._e()]),_vm._v(\" \"+_vm._s(ontology.name)+\" \")])}),0)])]),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.selectedOntology ? _vm.selectedOntology.name : _vm.$t('not-found'))+\" \")]),_c('div',{staticClass:\"panel-block panel-main-content\"},[(_vm.selectedOntology)?_c('ontology-details',{attrs:{\"ontology\":_vm.selectedOntology},on:{\"delete\":function($event){return _vm.deleteOntology()},\"rename\":_vm.renameOntology}}):_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('not-found-error'))+\" \")])],1)])])]):_c('div',{staticClass:\"box error\"},[_c('div',{staticClass:\"columns\"},[_c('p',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t('dont-have-access-to-any-ontology')))]),_c('p',{staticClass:\"column has-text-right\"},[(!_vm.currentUser.guestByNow)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){_vm.creationModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('new-ontology'))+\" \")]):_vm._e()])])])]:_vm._e(),_c('add-ontology-modal',{attrs:{\"active\":_vm.creationModal},on:{\"update:active\":function($event){_vm.creationModal=$event},\"newOntology\":_vm.addOntology}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")]):(!_vm.loading)?_c('div',{staticClass:\"ontology-details-wrapper\"},[_c('table',{staticClass:\"table is-fullwidth\"},[_c('tbody',[_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('strong',[_vm._v(_vm._s(_vm.$t('terms')))]),_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('hierarchical-drag-drop-term'))+\" \")]),_c('ontology-tree',{attrs:{\"ontology\":_vm.fullOntology,\"allowSelection\":false,\"allowDrag\":_vm.canEdit,\"allowEdition\":_vm.canEdit},scopedSlots:_vm._u([{key:\"no-result\",fn:function(){return [_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-term')))])]},proxy:true}])})],1)]),(_vm.currentUser.isDeveloper)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('id')))])]),_c('td',[_vm._v(_vm._s(_vm.ontology.id))])]):_vm._e(),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('projects')))])]),_c('td',[(_vm.projects.length)?_vm._l((_vm.projects),function(project,index){return _c('span',{key:project.id},[_c('router-link',{attrs:{\"to\":`/project/${project.id}`}},[_vm._v(_vm._s(project.name))]),(index < _vm.projects.length - 1)?_c('span',[_vm._v(\", \")]):_vm._e()],1)}):(_vm.nbProjects > 0)?_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('used-in-project-no-access'))+\" \")]):_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('not-used-in-any-project'))+\" \")])],2)]),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('creator')))])]),_c('td',[_vm._v(\" \"+_vm._s(_vm.creatorFullname || _vm.$t('unknown'))+\" \")])]),(_vm.canEdit)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('actions')))])]),_c('td',[_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.isRenameModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-rename'))+\" \")]),_c('button',{staticClass:\"button is-danger\",attrs:{\"disabled\":_vm.nbProjects > 0,\"title\":_vm.nbProjects ? _vm.$t('cannot-delete-ontology-with-projects') : ''},on:{\"click\":function($event){return _vm.confirmDeletion()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")])])])]):_vm._e()])]),_c('rename-modal',{attrs:{\"title\":_vm.$t('rename-ontology'),\"currentName\":_vm.ontology.name,\"active\":_vm.isRenameModalActive},on:{\"update:active\":function($event){_vm.isRenameModalActive=$event},\"rename\":_vm.rename}})],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div>\r\n    <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n    <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n      {{$t('unexpected-error-info-message')}}\r\n    </b-message>\r\n    <div v-else-if=\"!loading\" class=\"ontology-details-wrapper\">\r\n      <table class=\"table is-fullwidth\">\r\n        <tbody>\r\n        <tr>\r\n          <td colspan=\"2\">\r\n            <strong>{{$t('terms')}}</strong>\r\n            <b-message type=\"is-info\" has-icon icon-size=\"is-small\">\r\n            {{$t('hierarchical-drag-drop-term')}}\r\n          </b-message>\r\n          <ontology-tree :ontology=\"fullOntology\" :allowSelection=\"false\" :allowDrag=\"canEdit\" :allowEdition=\"canEdit\">\r\n              <template #no-result>\r\n                <em class=\"has-text-grey\">{{$t('no-term')}}</em>\r\n              </template>\r\n            </ontology-tree>\r\n          </td>\r\n        </tr>\r\n        <tr v-if=\"currentUser.isDeveloper\">\r\n          <td><strong>{{$t('id')}}</strong></td>\r\n          <td>{{ontology.id}}</td>\r\n        </tr>\r\n        <tr>\r\n          <td><strong>{{$t('projects')}}</strong></td>\r\n          <td>\r\n            <template v-if=\"projects.length\">\r\n            <span v-for=\"(project, index) in projects\" :key=\"project.id\">\r\n              <router-link :to=\"`/project/${project.id}`\">{{project.name}}</router-link>\r\n              <span v-if=\"index < projects.length - 1\">, </span>\r\n            </span>\r\n            </template>\r\n            <em class=\"has-text-grey\" v-else-if=\"nbProjects > 0\">\r\n              {{$t('used-in-project-no-access')}}\r\n            </em>\r\n            <em class=\"has-text-grey\" v-else>\r\n              {{$t('not-used-in-any-project')}}\r\n            </em>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td><strong>{{$t('creator')}}</strong></td>\r\n          <td>\r\n            {{creatorFullname || $t('unknown')}}\r\n          </td>\r\n        </tr>\r\n        <tr v-if=\"canEdit\">\r\n          <td><strong>{{$t('actions')}}</strong></td>\r\n          <td>\r\n            <div class=\"buttons\">\r\n              <button class=\"button\" @click=\"isRenameModalActive = true\">\r\n                {{$t('button-rename')}}\r\n              </button>\r\n              <button\r\n                  class=\"button is-danger\"\r\n                  @click=\"confirmDeletion()\"\r\n                  :disabled=\"nbProjects > 0\"\r\n                  :title=\"nbProjects ? $t('cannot-delete-ontology-with-projects') : ''\"\r\n              >\r\n                {{$t('button-delete')}}\r\n              </button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n      <rename-modal\r\n          :title=\"$t('rename-ontology')\"\r\n          :currentName=\"ontology.name\"\r\n          :active.sync=\"isRenameModalActive\"\r\n          @rename=\"rename\"\r\n      />\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {Ontology, User, ProjectCollection} from 'cytomine-client';\r\nimport OntologyTree from './OntologyTree';\r\nimport RenameModal from '@/components/utils/RenameModal';\r\nimport {fullName} from '@/utils/user-utils.js';\r\n\r\nexport default {\r\n  name: 'ontology-details',\r\n  props: {\r\n    ontology: Object\r\n  },\r\n  components: {\r\n    OntologyTree,\r\n    RenameModal\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      fullOntology: {},\r\n      projects: [],\r\n      managedProjects: [],\r\n      creatorFullname: null,\r\n\r\n      isRenameModalActive: false\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    canEdit() {\r\n      return !this.currentUser.guestByNow && (this.currentUser.adminByNow || this.currentUser.id === this.fullOntology.user ||\r\n        (this.hasAccessToAllProjects && (this.allProjectsAreCollaborative || this.manageAllProjects)));\r\n    },\r\n    nbProjects() {\r\n      return this.fullOntology.projects.length;\r\n    },\r\n    hasAccessToAllProjects() {\r\n      return this.nbProjects === this.projects.length;\r\n    },\r\n    allProjectsAreCollaborative() {\r\n      return !this.projects.some(p => p.isRestricted || p.isReadOnly);\r\n    },\r\n    manageAllProjects() {\r\n      return !this.projects.some(p => !this.managedProjects.find(mp => mp.id === p.id));\r\n    }\r\n  },\r\n  watch: {\r\n    ontology() {\r\n      this.fetchOntology();\r\n    },\r\n  },\r\n  methods: {\r\n    async fetchOntology() {\r\n      this.loading = true;\r\n      this.error = false;\r\n\r\n      try {\r\n        this.fullOntology = await Ontology.fetch(this.ontology.id);\r\n\r\n        // projects prop of ontology contains all projects, including those that the current user cannot see => need to refetch the collection\r\n        this.projects = (await ProjectCollection.fetchAll({filterKey: 'ontology', filterValue: this.ontology.id})).array;\r\n        // ---\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n      }\r\n\r\n      this.fetchManagedProjects();\r\n\r\n      try {\r\n        let creator = await User.fetch(this.fullOntology.user);\r\n        this.creatorFullname = fullName(creator);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n      }\r\n\r\n      this.loading = false;\r\n    },\r\n    async fetchManagedProjects() {\r\n      this.managedProjects = (await ProjectCollection.fetchAll({\r\n        filterKey: 'user',\r\n        filterValue: this.currentUser.id,\r\n        light: true,\r\n        admin: true\r\n      })).array;\r\n    },\r\n\r\n    async rename(newName) {\r\n      let oldName = this.ontology.name;\r\n      try {\r\n        this.fullOntology.name = newName;\r\n        await this.fullOntology.save();\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-ontology-rename', {name: this.fullOntology.name})\r\n        });\r\n        this.$emit('rename', newName);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-ontology-rename', {name: oldName})\r\n        });\r\n      }\r\n      this.isRenameModalActive = false;\r\n    },\r\n\r\n    confirmDeletion() {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('confirm-deletion'),\r\n        message: this.$t('confirm-deletion-ontology', {name: this.ontology.name}),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.$emit('delete')\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchOntology();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.ontology-details-wrapper .ontology-tree {\r\n  max-width: 40em;\r\n}\r\n\r\n.ontology-details-wrapper td:first-child {\r\n  width: 8em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OntologyDetails.vue?vue&type=template&id=e68b0e42&\"\nimport script from \"./OntologyDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./OntologyDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OntologyDetails.vue?vue&type=style&index=0&id=e68b0e42&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createOntology()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('create-ontology')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-field',{attrs:{\"label\":_vm.$t('name'),\"type\":{'is-danger': _vm.errors.has('name')},\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<form @submit.prevent=\"createOntology()\">\r\n  <cytomine-modal :active=\"active\" :title=\"$t('create-ontology')\" @close=\"$emit('update:active', false)\">\r\n    <b-field :label=\"$t('name')\" :type=\"{'is-danger': errors.has('name')}\" :message=\"errors.first('name')\">\r\n      <b-input v-model=\"name\" name=\"name\" v-validate=\"'required'\" />\r\n    </b-field>\r\n\r\n    <template #footer>\r\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n        {{$t('button-save')}}\r\n      </button>\r\n    </template>\r\n  </cytomine-modal>\r\n</form>\r\n</template>\r\n\r\n<script>\r\nimport {Ontology} from 'cytomine-client';\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\n\r\nexport default {\r\n  name: 'add-ontology-modal',\r\n  props: {\r\n    active: Boolean\r\n  },\r\n  components: {CytomineModal},\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      name: ''\r\n    };\r\n  },\r\n  watch: {\r\n    active(val) {\r\n      if(val) {\r\n        this.name = '';\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async createOntology() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        let ontology = await new Ontology({name: this.name}).save();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-ontology-creation')});\r\n        this.$emit('newOntology', ontology);\r\n        this.$emit('update:active', false);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-ontology-creation')});\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddOntologyModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddOntologyModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddOntologyModal.vue?vue&type=template&id=1858a392&\"\nimport script from \"./AddOntologyModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddOntologyModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"content-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n\r\n  <template v-if=\"!loading\">\r\n    <div class=\"box error\" v-if=\"!ontologies\">\r\n      <h2> {{ $t('error') }} </h2>\r\n      <p>{{ $t('unexpected-error-info-message') }}</p>\r\n    </div>\r\n\r\n    <div v-else-if=\"ontologies.length > 0\" class=\"columns\">\r\n      <div class=\"column is-one-quarter\">\r\n        <div class=\"panel\">\r\n            <p class=\"panel-heading\">\r\n              {{$t('ontologies')}}\r\n              <button class=\"button is-link\" @click=\"creationModal = true\" v-if=\"!currentUser.guestByNow\">\r\n                {{$t('new-ontology')}}\r\n              </button>\r\n            </p>\r\n            <div class=\"panel-block\">\r\n              <b-input\r\n                size=\"is-small\"\r\n                v-model=\"searchString\"\r\n                type=\"search\"\r\n                icon=\"search\"\r\n                :placeholder=\"$t('search-placeholder')\"\r\n              />\r\n            </div>\r\n            <div class=\"panel-main-content\">\r\n              <a\r\n                v-for=\"ontology in filteredOntologies\"\r\n                :key=\"ontology.id\"\r\n                @click=\"selectOntology(ontology)\"\r\n                class=\"panel-block\"\r\n                :class=\"{'is-active': isSelected(ontology)}\"\r\n              >\r\n                <span class=\"panel-icon\">\r\n                  <i v-if=\"isSelected(ontology)\" class=\"fas fa-caret-right\" aria-hidden=\"true\"></i>\r\n                </span>\r\n                {{ontology.name}}\r\n              </a>\r\n            </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"column\">\r\n        <div class=\"panel\">\r\n          <p class=\"panel-heading\">\r\n            {{selectedOntology ? selectedOntology.name : $t('not-found')}}\r\n          </p>\r\n          <div class=\"panel-block panel-main-content\">\r\n            <ontology-details\r\n              v-if=\"selectedOntology\"\r\n              :ontology=\"selectedOntology\"\r\n              @delete=\"deleteOntology()\"\r\n              @rename=\"renameOntology\"\r\n            />\r\n            <b-message type=\"is-danger\" has-icon icon-size=\"is-small\" v-else>\r\n              {{ $t('not-found-error') }}\r\n            </b-message>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"box error\" v-else>\r\n      <div class=\"columns\">\r\n        <p class=\"column\">{{$t('dont-have-access-to-any-ontology')}}</p>\r\n        <p class=\"column has-text-right\">\r\n          <button class=\"button is-link\" @click=\"creationModal = true\" v-if=\"!currentUser.guestByNow\">\r\n            {{$t('new-ontology')}}\r\n          </button>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </template>\r\n\r\n  <add-ontology-modal :active.sync=\"creationModal\" @newOntology=\"addOntology\" />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get, sync} from '@/utils/store-helpers';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\n\r\nimport {OntologyCollection} from 'cytomine-client';\r\nimport OntologyDetails from './OntologyDetails';\r\nimport AddOntologyModal from './AddOntologyModal';\r\n\r\nexport default {\r\n  name: 'list-ontologies',\r\n  components: {\r\n    OntologyDetails,\r\n    AddOntologyModal\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      ontologies: null,\r\n      selectedOntology: null,\r\n      creationModal: false\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    idTargetOntology() {\r\n      return Number(this.$route.params.idOntology) || this.$store.state.ontologies.selectedOntology;\r\n    },\r\n    filteredOntologies() {\r\n      if(this.searchString.length > 0) {\r\n        let regexp = getWildcardRegexp(this.searchString);\r\n        return this.ontologies.filter(ontology => regexp.test(ontology.name));\r\n      }\r\n      return this.ontologies;\r\n    },\r\n    searchString: sync('ontologies/searchString')\r\n  },\r\n  watch: {\r\n    idTargetOntology() {\r\n      if(!this.idTargetOntology) {\r\n        this.selectedOntology = this.ontologies[0];\r\n        return;\r\n      }\r\n      if(this.selectedOntology && this.selectedOntology.id === this.idTargetOntology) {\r\n        return;\r\n      }\r\n      this.selectTargetOntology();\r\n    },\r\n    selectedOntology(ontology) {\r\n      if (ontology) {\r\n        this.$store.commit('ontologies/setSelectedOntology', ontology.id);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    selectOntology(ontology) {\r\n      this.selectedOntology = ontology;\r\n      this.$router.push(`/ontology/${this.selectedOntology.id}`);\r\n    },\r\n    selectTargetOntology() {\r\n      this.selectedOntology = this.ontologies.find(ontology => ontology.id === this.idTargetOntology);\r\n    },\r\n    isSelected(ontology) {\r\n      return this.selectedOntology && this.selectedOntology.id === ontology.id;\r\n    },\r\n    sortOntologies() {\r\n      this.ontologies.sort((a, b) => a.name.localeCompare(b.name));\r\n    },\r\n    addOntology(ontology) {\r\n      this.ontologies.push(ontology);\r\n      this.sortOntologies();\r\n      this.selectedOntology = ontology;\r\n    },\r\n    renameOntology(newName) {\r\n      this.selectedOntology.name = newName;\r\n      this.sortOntologies();\r\n    },\r\n    async deleteOntology() {\r\n      let index = this.ontologies.findIndex(ontology => ontology.id === this.selectedOntology.id);\r\n      try {\r\n        await this.selectedOntology.delete();\r\n        this.ontologies.splice(index, 1);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-ontology-deletion', {name: this.selectedOntology.name})\r\n        });\r\n        this.selectedOntology = this.ontologies[0];\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-ontology-deletion')});\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      this.ontologies = (await OntologyCollection.fetchAll({light: true})).array;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.loading = false;\r\n      return;\r\n    }\r\n    this.sortOntologies();\r\n\r\n    if(this.idTargetOntology) {\r\n      this.selectTargetOntology();\r\n    }\r\n    else {\r\n      this.selectedOntology = this.ontologies[0];\r\n    }\r\n\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.content-wrapper {\r\n  height: 100%;\r\n}\r\n\r\n.columns {\r\n  height: 100%;\r\n}\r\n\r\n.panel {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.panel-heading {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.panel-icon {\r\n  font-size: 1.2em;\r\n}\r\n\r\n.panel-main-content {\r\n  overflow: auto;\r\n  flex-grow: 1;\r\n}\r\n\r\n.box.error .columns {\r\n  align-items: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListOntologies.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListOntologies.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListOntologies.vue?vue&type=template&id=efcc5a5e&scoped=true&\"\nimport script from \"./ListOntologies.vue?vue&type=script&lang=js&\"\nexport * from \"./ListOntologies.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListOntologies.vue?vue&type=style&index=0&id=efcc5a5e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"efcc5a5e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"list-software-wrapper content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('unexpected-error-info-message')))])]):(!_vm.loading)?_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('algorithms'))+\" \")]),_c('div',{staticClass:\"panel-block\"},[_c('div',{staticClass:\"search-block\"},[_c('b-input',{staticClass:\"search-softwares\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.toggleFilterDisplay()}}},[_vm._m(0),_c('span',[_vm._v(\" \"+_vm._s(_vm.filtersOpened ? _vm.$t('button-hide-filters') : _vm.$t('button-show-filters'))+\" \")]),(_vm.nbActiveFilters)?_c('span',{staticClass:\"nb-active-filters\"},[_vm._v(\" \"+_vm._s(_vm.nbActiveFilters)+\" \")]):_vm._e()])],1),_c('b-collapse',{attrs:{\"open\":_vm.filtersOpened}},[_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('nb-jobs'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbJobs},model:{value:(_vm.boundsJobs),callback:function ($$v) {_vm.boundsJobs=$$v},expression:\"boundsJobs\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('nb-success-jobs'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbSuccessJobs},model:{value:(_vm.boundsSuccessJobs),callback:function ($$v) {_vm.boundsSuccessJobs=$$v},expression:\"boundsSuccessJobs\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('only-last-release'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('b-switch',{staticClass:\"switch\",model:{value:(_vm.onlyLastReleases),callback:function ($$v) {_vm.onlyLastReleases=$$v},expression:\"onlyLastReleases\"}},[(_vm.onlyLastReleases)?[_vm._v(_vm._s(_vm.$t('yes')))]:[_vm._v(_vm._s(_vm.$t('no')))]],2)],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('only-UI-runnable'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('b-switch',{staticClass:\"switch\",model:{value:(_vm.onlyExecutables),callback:function ($$v) {_vm.onlyExecutables=$$v},expression:\"onlyExecutables\"}},[(_vm.onlyExecutables)?[_vm._v(_vm._s(_vm.$t('yes')))]:[_vm._v(_vm._s(_vm.$t('no')))]],2)],1)])])])]),_c('b-table',{staticClass:\"table-softwares\",attrs:{\"data\":_vm.filteredSoftwares,\"paginated\":true,\"current-page\":_vm.currentPage,\"per-page\":_vm.perPage,\"pagination-size\":\"is-small\",\"detailed\":\"\",\"detail-key\":\"id\",\"opened-detailed\":_vm.openedDetails,\"default-sort\":_vm.sort.field,\"default-sort-direction\":_vm.sort.order},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event},\"sort\":_vm.updateSort},scopedSlots:_vm._u([{key:\"default\",fn:function({row: software}){return [_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"250\"}},[_c('router-link',{attrs:{\"to\":`/algorithm/${software.id}`}},[_vm._v(\" \"+_vm._s(software.fullName)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"softwareStatus\",\"label\":_vm.$t('version'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\",\"custom-sort\":_vm.sortBySoftwareStatus}},[_c('software-status',{attrs:{\"software\":software}})],1),_c('b-table-column',{attrs:{\"field\":\"executable\",\"label\":_vm.$t('ui-runnable'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('boolean-item',{attrs:{\"value\":software.executable}})],1),_c('b-table-column',{attrs:{\"field\":\"numberOfJob\",\"label\":_vm.$t('number-jobs'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(software.numberOfJob)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"numberOfSuccess\",\"label\":_vm.$t('number-success'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(software.numberOfSuccess)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"created\",\"label\":_vm.$t('creation-date'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"180\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(software.created),'ll'))+\" \")]),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\",\"width\":\"150\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":`/algorithm/${software.id}`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-open'))+\" \")])],1)]}},{key:\"detail\",fn:function({row: software}){return [_c('software-details',{attrs:{\"software\":software,\"excluded-properties\":_vm.excludedProperties},on:{\"update\":_vm.updateSoftware,\"delete\":function($event){return _vm.deleteSoftware(software)}}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-software')))])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}])})],1)]):_vm._e()],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-filter\"})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"tag\",class:_vm.tagClass},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.label))+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<span class=\"tag\" :class=\"tagClass\">\r\n  {{$t(label)}}\r\n</span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'software-status',\r\n  props: {\r\n    software: Object\r\n  },\r\n  computed: {\r\n    tagClass() {\r\n      if(!this.software.softwareVersion) {\r\n        return 'is-white';\r\n      }\r\n      if(this.software.deprecated) {\r\n        return 'is-dark';\r\n      }\r\n      return 'is-info';\r\n    },\r\n    label() {\r\n      if(!this.software.softwareVersion) {\r\n        return 'no-info';\r\n      }\r\n      if(this.software.deprecated) {\r\n        return 'deprecated';\r\n      }\r\n      return 'last-release';\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareStatus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareStatus.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SoftwareStatus.vue?vue&type=template&id=c02fdad2&scoped=true&\"\nimport script from \"./SoftwareStatus.vue?vue&type=script&lang=js&\"\nexport * from \"./SoftwareStatus.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c02fdad2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.value)?_c('span',{staticClass:\"tag is-success\"},[_c('i',{staticClass:\"fas fa-check\"}),_vm._v(\" \"+_vm._s(_vm.$t('yes'))+\" \")]):_c('span',{staticClass:\"tag is-danger\"},[_c('i',{staticClass:\"fas fa-times\"}),_vm._v(\" \"+_vm._s(_vm.$t('no'))+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <span v-if=\"value\" class=\"tag is-success\">\r\n    <i class=\"fas fa-check\"></i>&nbsp;{{$t('yes')}}\r\n  </span>\r\n  <span v-else class=\"tag is-danger\">\r\n    <i class=\"fas fa-times\"></i>&nbsp;{{$t('no')}}\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'boolean-item',\r\n  props: {\r\n    value: Boolean\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BooleanItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BooleanItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BooleanItem.vue?vue&type=template&id=00684474&scoped=true&\"\nimport script from \"./BooleanItem.vue?vue&type=script&lang=js&\"\nexport * from \"./BooleanItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00684474\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\",\"size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):_c('table',{staticClass:\"table\"},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('tbody',[(_vm.isPropDisplayed('id') && _vm.currentUser.isDeveloper)?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('id')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(_vm._s(_vm.software.id))])]):_vm._e(),(_vm.isPropDisplayed('name'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('name')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(\" \"+_vm._s(_vm.software.fullName)+\" \")])]):_vm._e(),(_vm.isPropDisplayed('projects'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('projects')))]),_c('td',{staticClass:\"prop-content\"},[(_vm.projects.length)?_vm._l((_vm.projects),function(project,index){return _c('span',{key:project.id},[_c('router-link',{attrs:{\"to\":`/project/${project.id}`}},[_vm._v(_vm._s(project.name))]),(index < _vm.projects.length - 1)?_c('span',[_vm._v(\", \")]):_vm._e()],1)}):(_vm.nbProjects > 0)?_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('used-in-project-no-access'))+\" \")]):_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('not-used-in-any-project'))+\" \")])],2)]):_vm._e(),(_vm.isPropDisplayed('trustedSource'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('trusted-source')))]),_c('td',{staticClass:\"prop-content\"},[_c('software-source',{attrs:{\"source\":_vm.source}})],1)]):_vm._e(),(_vm.isPropDisplayed('description'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('description')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-description',{attrs:{\"object\":_vm.software,\"canEdit\":_vm.canManageSoftware}})],1)]):_vm._e(),(_vm.isPropDisplayed('attachedFiles'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('attached-files')))]),_c('td',{staticClass:\"prop-content\"},[_c('attached-files',{attrs:{\"object\":_vm.software,\"canEdit\":_vm.canManageSoftware}})],1)]):_vm._e(),(_vm.isPropDisplayed('status'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('status')))]),_c('td',{staticClass:\"prop-content\"},[_c('software-status',{attrs:{\"software\":_vm.software}})],1)]):_vm._e(),(_vm.isPropDisplayed('executable'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('ui-runnable')))]),_c('td',{staticClass:\"prop-content\"},[_c('boolean-item',{attrs:{\"value\":_vm.software.executable}})],1)]):_vm._e(),(_vm.isPropDisplayed('created'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('created-on')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.software.created),'ll'))+\" \")])]):_vm._e(),(_vm.isPropDisplayed('executeCommand'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('execute-command')))]),_c('td',{staticClass:\"prop-content\"},[_c('code',[_vm._v(_vm._s(_vm.software.executeCommand))])])]):_vm._e(),(_vm.isPropDisplayed('pullingCommand'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('pulling-command')))]),_c('td',{staticClass:\"prop-content\"},[_c('code',[_vm._v(_vm._s(_vm.software.pullingCommand))])])]):_vm._e(),(_vm.source)?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('actions')))]),_c('td',{staticClass:\"prop-content\"},[_c('software-source-buttons',{attrs:{\"source\":_vm.source,\"software\":_vm.software}})],1)]):_vm._e()]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',[(!this.source)?[_c('em',[_vm._v(_vm._s(_vm.$t('no-trusted-source')))])]:[(_vm.sourceCodeProviderIcon)?_c('i',{class:_vm.sourceCodeProviderIcon}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"is-capitalized\"},[_vm._v(\" \"+_vm._s(_vm.sourceCodeProvider))]),_vm._v(\" [\"+_vm._s(_vm.source.username)+\"] \"),(_vm.source.prefix)?[_vm._v(\" (with prefix \\\"\"+_vm._s(_vm.source.prefix)+\"\\\") \")]:_vm._e(),_c('br'),(_vm.environmentProviderIcon)?_c('i',{class:_vm.environmentProviderIcon}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"is-capitalized\"},[_vm._v(\" \"+_vm._s(_vm.environmentProvider))]),_vm._v(\" [\"+_vm._s(_vm.source.dockerUsername)+\"] \")]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <span>\r\n    <template v-if=\"!this.source\">\r\n      <em>{{$t('no-trusted-source')}}</em>\r\n    </template>\r\n    <template v-else>\r\n      <i v-if=\"sourceCodeProviderIcon\" :class=\"sourceCodeProviderIcon\"></i> <span class=\"is-capitalized\"> {{sourceCodeProvider}}</span> [{{source.username}}]\r\n      <template v-if=\"source.prefix\"> (with prefix \"{{source.prefix}}\") </template>\r\n      <br><i v-if=\"environmentProviderIcon\" :class=\"environmentProviderIcon\"></i> <span class=\"is-capitalized\"> {{environmentProvider}}</span> [{{source.dockerUsername}}]\r\n    </template>\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'software-source',\r\n  props: {\r\n    source: {type: Object, default: null},\r\n  },\r\n  data() {\r\n    return {\r\n      supportedProviders: ['github', 'bitbucket', 'gitlab', 'docker']\r\n    };\r\n  },\r\n  computed: {\r\n    sourceCodeProvider() {\r\n      let provider = (this.source) ? this.formatProvider(this.source.provider) : null;\r\n      return provider ? provider : this.$t('unknown');\r\n    },\r\n    sourceCodeProviderIcon() {\r\n      let provider = (this.source) ? this.formatProvider(this.source.provider) : null;\r\n      return provider ? `fab fa-${provider} fa-fw` : null;\r\n    },\r\n    environmentProvider() {\r\n      let provider = (this.source) ? this.formatProvider(this.source.environmentProvider || 'docker') : null;\r\n      return provider ? provider : this.$t('unknown');\r\n    },\r\n    environmentProviderIcon() {\r\n      let provider = (this.source) ? this.formatProvider(this.source.environmentProvider || 'docker') : null;\r\n      return provider ? `fab fa-${provider} fa-fw` : null;\r\n    }\r\n  },\r\n  methods: {\r\n    formatProvider(provider) {\r\n      provider = provider.toLowerCase();\r\n      return this.supportedProviders.includes(provider) ? provider : null;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareSource.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareSource.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SoftwareSource.vue?vue&type=template&id=d9624584&scoped=true&\"\nimport script from \"./SoftwareSource.vue?vue&type=script&lang=js&\"\nexport * from \"./SoftwareSource.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d9624584\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"buttons are-small\"},[_c('a',{staticClass:\"button\",attrs:{\"href\":_vm.sourceCodeProviderLink,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-external-link-alt fa-fw\"}),_vm._v(\" \"+_vm._s(_vm.$t('see-source-code-on'))+\" \"),_c('span',{staticClass:\"is-capitalized\"},[_vm._v(\" \"+_vm._s(_vm.sourceCodeProvider))])]),_c('a',{staticClass:\"button\",attrs:{\"href\":_vm.environmentProviderLink,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-external-link-alt fa-fw\"}),_vm._v(\" \"+_vm._s(_vm.$t('see-environment-on'))+\" \"),_c('span',{staticClass:\"is-capitalized\"},[_vm._v(\" \"+_vm._s(_vm.environmentProvider))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div class=\"buttons are-small\">\r\n    <a :href=\"sourceCodeProviderLink\" class=\"button\" target=\"_blank\">\r\n      <i class=\"fas fa-external-link-alt fa-fw\"></i> {{$t('see-source-code-on')}}\r\n      <span class=\"is-capitalized\">&nbsp;{{sourceCodeProvider}}</span>\r\n    </a>\r\n    <a :href=\"environmentProviderLink\" class=\"button\" target=\"_blank\">\r\n      <i class=\"fas fa-external-link-alt fa-fw\"></i> {{$t('see-environment-on')}}\r\n      <span class=\"is-capitalized\">&nbsp;{{environmentProvider}}</span>\r\n    </a>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'software-source-buttons',\r\n  props: {\r\n    source: Object,\r\n    software: Object\r\n  },\r\n  data() {\r\n    return {\r\n      supportedProviders: ['github', 'bitbucket', 'gitlab', 'docker']\r\n    };\r\n  },\r\n  computed: {\r\n    sourceCodeProvider() {\r\n      let provider = this.formatProvider(this.source.provider);\r\n      return provider ? provider : this.$t('unknown');\r\n    },\r\n    sourceCodeProviderIcon() {\r\n      let provider = this.formatProvider(this.source.provider);\r\n      return provider ? `fab fa-${provider} fa-fw` : null;\r\n    },\r\n    sourceCodeProviderLink() {\r\n      let provider = this.formatProvider(this.source.provider);\r\n      return `https://${provider}.com/${this.source.username}/${this.source.prefix}${this.software.name}/tree/${this.software.softwareVersion}`;\r\n    },\r\n    environmentProvider() {\r\n      let provider = this.formatProvider(this.source.environmentProvider || 'docker');\r\n      return provider ? provider : this.$t('unknown');\r\n    },\r\n    environmentProviderIcon() {\r\n      let provider = this.formatProvider(this.source.environmentProvider || 'docker');\r\n      return provider ? `fab fa-${provider} fa-fw` : null;\r\n    },\r\n    environmentProviderLink() {\r\n      let provider = this.formatProvider(this.source.environmentProvider || 'docker');\r\n      if (provider === 'docker') {\r\n        return `https://hub.docker.com/r/${this.source.dockerUsername}/${this.source.prefix.toLowerCase()}${this.software.name.toLowerCase()}`;\r\n      }\r\n\r\n      return '';\r\n    }\r\n  },\r\n  methods: {\r\n    formatProvider(provider) {\r\n      provider = provider.toLowerCase();\r\n      return this.supportedProviders.includes(provider) ? provider : null;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.fa-fw {\r\n  margin-right: 5px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareSourceButtons.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareSourceButtons.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SoftwareSourceButtons.vue?vue&type=template&id=470ead4b&scoped=true&\"\nimport script from \"./SoftwareSourceButtons.vue?vue&type=script&lang=js&\"\nexport * from \"./SoftwareSourceButtons.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SoftwareSourceButtons.vue?vue&type=style&index=0&id=470ead4b&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"470ead4b\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\" size=\"is-small\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p> {{ $t('unexpected-error-info-message') }} </p>\r\n</b-message>\r\n<table v-else class=\"table\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\r\n  <tbody v-if=\"!loading\">\r\n  <tr v-if=\"isPropDisplayed('id') && currentUser.isDeveloper\">\r\n    <td class=\"prop-label\">{{$t('id')}}</td>\r\n    <td class=\"prop-content\">{{software.id}}</td>\r\n  </tr>\r\n  <tr v-if=\"isPropDisplayed('name')\">\r\n    <td class=\"prop-label\">{{$t('name')}}</td>\r\n    <td class=\"prop-content\">\r\n      {{software.fullName}}\r\n    </td>\r\n  </tr>\r\n  <tr v-if=\"isPropDisplayed('projects')\">\r\n    <td class=\"prop-label\">{{$t('projects')}}</td>\r\n    <td class=\"prop-content\">\r\n      <template v-if=\"projects.length\">\r\n            <span v-for=\"(project, index) in projects\" :key=\"project.id\">\r\n              <router-link :to=\"`/project/${project.id}`\">{{project.name}}</router-link>\r\n              <span v-if=\"index < projects.length - 1\">, </span>\r\n            </span>\r\n      </template>\r\n      <em class=\"has-text-grey\" v-else-if=\"nbProjects > 0\">\r\n        {{$t('used-in-project-no-access')}}\r\n      </em>\r\n      <em class=\"has-text-grey\" v-else>\r\n        {{$t('not-used-in-any-project')}}\r\n      </em>\r\n    </td>\r\n  </tr>\r\n  <tr v-if=\"isPropDisplayed('trustedSource')\">\r\n    <td class=\"prop-label\">{{$t('trusted-source')}}</td>\r\n    <td class=\"prop-content\">\r\n      <software-source :source=\"source\" />\r\n    </td>\r\n  </tr>\r\n  <tr v-if=\"isPropDisplayed('description')\">\r\n    <td class=\"prop-label\">{{$t('description')}}</td>\r\n    <td class=\"prop-content\">\r\n      <cytomine-description :object=\"software\" :canEdit=\"canManageSoftware\" />\r\n    </td>\r\n  </tr>\r\n  <!-- I think software is disabled in general for now\r\n  <tr v-if=\"isPropDisplayed('properties')\">\r\n    <td class=\"prop-label\">{{$t('properties')}}</td>\r\n    <td class=\"prop-content\">\r\n      <cytomine-properties :object=\"software\" :canEdit=\"canManageSoftware\" />\r\n    </td>\r\n  </tr>\r\n   -->\r\n  <tr v-if=\"isPropDisplayed('attachedFiles')\">\r\n    <td class=\"prop-label\">{{$t('attached-files')}}</td>\r\n    <td class=\"prop-content\">\r\n      <attached-files :object=\"software\" :canEdit=\"canManageSoftware\" />\r\n    </td>\r\n  </tr>\r\n  <tr v-if=\"isPropDisplayed('status')\">\r\n    <td class=\"prop-label\">{{$t('status')}}</td>\r\n    <td class=\"prop-content\">\r\n      <software-status :software=\"software\" />\r\n    </td>\r\n  </tr>\r\n  <tr v-if=\"isPropDisplayed('executable')\">\r\n    <td class=\"prop-label\">{{$t('ui-runnable')}}</td>\r\n    <td class=\"prop-content\">\r\n      <boolean-item :value=\"software.executable\" />\r\n    </td>\r\n  </tr>\r\n  <tr v-if=\"isPropDisplayed('created')\">\r\n    <td class=\"prop-label\">{{$t('created-on')}}</td>\r\n    <td class=\"prop-content\">\r\n      {{ Number(software.created) | moment('ll') }}\r\n    </td>\r\n  </tr>\r\n  <tr v-if=\"isPropDisplayed('executeCommand')\">\r\n    <td class=\"prop-label\">{{$t('execute-command')}}</td>\r\n    <td class=\"prop-content\">\r\n      <code>{{software.executeCommand}}</code>\r\n    </td>\r\n  </tr>\r\n  <tr v-if=\"isPropDisplayed('pullingCommand')\">\r\n    <td class=\"prop-label\">{{$t('pulling-command')}}</td>\r\n    <td class=\"prop-content\">\r\n      <code>{{software.pullingCommand}}</code>\r\n    </td>\r\n  </tr>\r\n  <tr v-if=\"source\">\r\n    <td class=\"prop-label\">{{$t('actions')}}</td>\r\n    <td class=\"prop-content\">\r\n      <software-source-buttons :source=\"source\" :software=\"software\" />\r\n    </td>\r\n  </tr>\r\n  </tbody>\r\n</table>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {ProjectCollection, TrustedSource} from 'cytomine-client';\r\n\r\nimport CytomineDescription from '@/components/description/CytomineDescription';\r\nimport CytomineProperties from '@/components/property/CytomineProperties';\r\nimport AttachedFiles from '@/components/attached-file/AttachedFiles';\r\nimport SoftwareStatus from '@/components/software/SoftwareStatus';\r\nimport BooleanItem from '@/components/utils/BooleanItem';\r\nimport SoftwareSource from '@/components/software/SoftwareSource';\r\nimport SoftwareSourceButtons from '@/components/software/SoftwareSourceButtons';\r\n\r\nexport default {\r\n  name: 'software-details',\r\n  props: {\r\n    software: Object,\r\n    excludedProperties: {type: Array, default: () => []}\r\n  },\r\n  components: {\r\n    SoftwareSourceButtons,\r\n    SoftwareSource,\r\n    BooleanItem,\r\n    SoftwareStatus,\r\n    CytomineDescription,\r\n    CytomineProperties,\r\n    AttachedFiles\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      projects: [],\r\n      source: null\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    canManageSoftware() {\r\n      return this.currentUser.adminByNow;\r\n    },\r\n    nbProjects() {\r\n      return this.projects.length;\r\n    }\r\n  },\r\n  watch: {\r\n    async excludedProperties() {\r\n      await this.fetchData();\r\n    }\r\n  },\r\n  methods: {\r\n    isPropDisplayed(prop) {\r\n      return !this.excludedProperties.includes(prop);\r\n    },\r\n    async fetchData() {\r\n      let promises = [];\r\n      if (this.isPropDisplayed('projects')) {\r\n        promises.push(this.fetchProjects());\r\n      }\r\n\r\n      if (this.isPropDisplayed('trustedSource')) {\r\n        promises.push(this.fetchSource());\r\n      }\r\n\r\n      this.loading = true;\r\n      this.error = false;\r\n\r\n      try {\r\n        await Promise.all(promises);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n      }\r\n\r\n      this.loading = false;\r\n    },\r\n    async fetchProjects() {\r\n      this.projects = (await ProjectCollection.fetchAll({filterKey: 'software', filterValue: this.software.id})).array;\r\n    },\r\n    async fetchSource() {\r\n      this.source = (this.software.softwareUserRepository) ? await TrustedSource.fetch(this.software.softwareUserRepository) : null;\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchData();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .table {\r\n    background: none;\r\n    position: relative;\r\n    height: 3em;\r\n  }\r\n\r\n  td.prop-label {\r\n    white-space: nowrap;\r\n    font-weight: 600;\r\n  }\r\n\r\n  td.prop-content {\r\n    width: 100%;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SoftwareDetails.vue?vue&type=template&id=14cd0d56&scoped=true&\"\nimport script from \"./SoftwareDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./SoftwareDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SoftwareDetails.vue?vue&type=style&index=0&id=14cd0d56&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14cd0d56\",\n  null\n  \n)\n\nexport default component.exports","export function isBetweenBounds(val, bounds) {\r\n  return val >= bounds[0] && val <= bounds[1];\r\n}\r\n\r\nexport function isBoundsFilterActive(bounds, max) {\r\n  return bounds[0] !== 0 || bounds[1] !== max;\r\n}\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"list-software-wrapper content-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n\r\n  <div class=\"box error\" v-if=\"error\">\r\n    <h2> {{ $t('error') }} </h2>\r\n    <p>{{ $t('unexpected-error-info-message') }}</p>\r\n  </div>\r\n  <div v-else-if=\"!loading\" class=\"panel\">\r\n    <p class=\"panel-heading\">\r\n      {{$t('algorithms')}}\r\n<!--      <button v-if=\"!currentUser.guestByNow\" class=\"button is-link\" @click=\"creationModal = true\">-->\r\n<!--        {{$t('new-algorithm')}}-->\r\n<!--      </button>-->\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <div class=\"search-block\">\r\n        <b-input\r\n          class=\"search-softwares\"\r\n          v-model=\"searchString\"\r\n          :placeholder=\"$t('search-placeholder')\"\r\n          type=\"search\" icon=\"search\"\r\n        />\r\n        <button class=\"button\" @click=\"toggleFilterDisplay()\">\r\n          <span class=\"icon\">\r\n            <i class=\"fas fa-filter\"></i>\r\n          </span>\r\n          <span>\r\n            {{filtersOpened ? $t('button-hide-filters') : $t('button-show-filters')}}\r\n          </span>\r\n          <span v-if=\"nbActiveFilters\" class=\"nb-active-filters\">\r\n            {{nbActiveFilters}}\r\n          </span>\r\n        </button>\r\n      </div>\r\n\r\n      <b-collapse :open=\"filtersOpened\">\r\n        <div class=\"filters\">\r\n          <div class=\"columns\">\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('nb-jobs')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-slider v-model=\"boundsJobs\" :max=\"maxNbJobs\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('nb-success-jobs')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-slider v-model=\"boundsSuccessJobs\" :max=\"maxNbSuccessJobs\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('only-last-release')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <b-switch v-model=\"onlyLastReleases\" class=\"switch\">\r\n                  <template v-if=\"onlyLastReleases\">{{$t('yes')}}</template>\r\n                  <template v-else>{{$t('no')}}</template>\r\n                </b-switch>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('only-UI-runnable')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <b-switch v-model=\"onlyExecutables\" class=\"switch\">\r\n                  <template v-if=\"onlyExecutables\">{{$t('yes')}}</template>\r\n                  <template v-else>{{$t('no')}}</template>\r\n                </b-switch>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </b-collapse>\r\n\r\n\r\n      <b-table\r\n        :data=\"filteredSoftwares\"\r\n        class=\"table-softwares\"\r\n        :paginated=\"true\"\r\n        :current-page.sync=\"currentPage\"\r\n        :per-page=\"perPage\"\r\n        pagination-size=\"is-small\"\r\n        detailed\r\n        detail-key=\"id\"\r\n        :opened-detailed.sync=\"openedDetails\"\r\n        :default-sort=\"sort.field\"\r\n        :default-sort-direction=\"sort.order\"\r\n        @sort=\"updateSort\"\r\n      >\r\n        <template #default=\"{row: software}\">\r\n          <b-table-column field=\"name\" :label=\"$t('name')\" sortable width=\"250\">\r\n            <router-link :to=\"`/algorithm/${software.id}`\">\r\n              {{ software.fullName }}\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"softwareStatus\" :label=\"$t('version')\" centered sortable width=\"150\" :custom-sort=\"sortBySoftwareStatus\">\r\n            <software-status :software=\"software\" />\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"executable\" :label=\"$t('ui-runnable')\" centered sortable width=\"150\">\r\n            <boolean-item :value=\"software.executable\" />\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"numberOfJob\" :label=\"$t('number-jobs')\" centered sortable width=\"150\">\r\n            {{ software.numberOfJob }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"numberOfSuccess\" :label=\"$t('number-success')\" centered sortable width=\"150\">\r\n            {{ software.numberOfSuccess }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"created\" :label=\"$t('creation-date')\" centered sortable width=\"180\">\r\n            {{ Number(software.created) | moment('ll') }}\r\n          </b-table-column>\r\n\r\n          <b-table-column label=\" \" centered width=\"150\">\r\n            <router-link :to=\"`/algorithm/${software.id}`\" class=\"button is-small is-link\">\r\n              {{$t('button-open')}}\r\n            </router-link>\r\n          </b-table-column>\r\n        </template>\r\n\r\n        <template #detail=\"{row: software}\">\r\n          <software-details\r\n            :software=\"software\"\r\n            :excluded-properties=\"excludedProperties\"\r\n            @update=\"updateSoftware\"\r\n            @delete=\"deleteSoftware(software)\"\r\n          />\r\n        </template>\r\n\r\n        <template #empty>\r\n          <div class=\"content has-text-grey has-text-centered\">\r\n            <p>{{$t('no-software')}}</p>\r\n          </div>\r\n        </template>\r\n\r\n        <template #bottom-left>\r\n          <b-select v-model=\"perPage\" size=\"is-small\">\r\n            <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n            <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n            <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n            <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n          </b-select>\r\n        </template>\r\n      </b-table>\r\n    </div>\r\n  </div>\r\n\r\n<!--  <add-software-modal :active.sync=\"creationModal\" />-->\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport CytomineSlider from '@/components/form/CytomineSlider';\r\nimport SoftwareStatus from '@/components/software/SoftwareStatus';\r\nimport BooleanItem from '@/components/utils/BooleanItem';\r\nimport SoftwareDetails from '@/components/software/SoftwareDetails';\r\n\r\nimport {isBetweenBounds} from '@/utils/bounds';\r\nimport {get, sync, syncFilter, syncBoundsFilter} from '@/utils/store-helpers';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\n\r\nimport {SoftwareCollection} from 'cytomine-client';\r\n\r\n\r\nexport default {\r\n  name: 'list-software',\r\n  components: {\r\n    BooleanItem,\r\n    SoftwareStatus,\r\n    CytomineSlider,\r\n    SoftwareDetails\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n      creationModal: false,\r\n\r\n      softwares: [],\r\n\r\n      excludedProperties: [\r\n        'name',\r\n        'created',\r\n        'executable',\r\n        'status',\r\n        'pullingCommand',\r\n        'executeCommand'\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n\r\n    searchString: sync('listSoftware/searchString'),\r\n    filtersOpened: sync('listSoftware/filtersOpened'),\r\n\r\n    maxNbJobs() {\r\n      return Math.max(10, ...this.softwares.map(software => software.numberOfJob));\r\n    },\r\n\r\n    maxNbSuccessJobs() {\r\n      return Math.max(10, ...this.softwares.map(software => software.numberOfSuccess));\r\n    },\r\n\r\n    boundsJobs: syncBoundsFilter('listSoftware', 'boundsJobs', 'maxNbJobs'),\r\n    boundsSuccessJobs: syncBoundsFilter('listSoftware', 'boundsSuccessJobs', 'maxNbSuccessJobs'),\r\n    onlyLastReleases: syncFilter('listSoftware', 'onlyLastReleases'),\r\n    onlyExecutables: syncFilter('listSoftware', 'onlyExecutables'),\r\n\r\n    nbActiveFilters() {\r\n      return this.$store.getters['listSoftware/nbActiveFilters'];\r\n    },\r\n\r\n    regexp() {\r\n      return getWildcardRegexp(this.searchString);\r\n    },\r\n    filteredSoftwares() {\r\n      let filtered = this.softwares;\r\n\r\n      if(this.searchString) {\r\n        filtered = filtered.filter(software => this.regexp.test(software.name));\r\n      }\r\n\r\n      filtered = filtered.filter(software => {\r\n        return isBetweenBounds(software.numberOfJob, this.boundsJobs) &&\r\n          isBetweenBounds(software.numberOfSuccess, this.boundsSuccessJobs) &&\r\n          ((this.onlyLastReleases && software.softwareVersion && !software.deprecated) || !this.onlyLastReleases) &&\r\n          ((this.onlyExecutables && software.executable) || !this.onlyExecutables);\r\n      });\r\n\r\n      return filtered;\r\n    },\r\n\r\n    currentPage: sync('listSoftware/currentPage'),\r\n    perPage: sync('listSoftware/perPage'),\r\n    sort: sync('listSoftware/sort'),\r\n    openedDetails: { // HACK cannot use sync because buefy modifies the property => vuex warning because modif outside store\r\n      get() {\r\n        return this.$store.state.listSoftware.openedDetails.slice();\r\n      },\r\n      set(value) {\r\n        this.$store.commit('listSoftware/setOpenedDetails', value);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    toggleFilterDisplay() {\r\n      this.filtersOpened = !this.filtersOpened;\r\n    },\r\n    updateSort(field, order) {\r\n      this.sort = {field, order};\r\n    },\r\n    sortBySoftwareStatus(a, b, asc) {\r\n      return ((asc) ? 1 : -1) * (this.getSoftwareStatusValue(a) - this.getSoftwareStatusValue(b));\r\n    },\r\n    getSoftwareStatusValue(software) {\r\n      if (!software.softwareVersion) return 0;\r\n      if (software.deprecated) return 1;\r\n      return 2;\r\n    },\r\n    updateSoftware(updatedSoftware) {\r\n      let software = this.softwares.find(software => software.id === updatedSoftware.id);\r\n      if(software) {\r\n        software.populate({...updatedSoftware});\r\n      }\r\n    },\r\n    async deleteSoftware(softwareToDelete) {\r\n      try {\r\n        await softwareToDelete.delete();\r\n        this.softwares = this.softwares.filter(software => software.id !== softwareToDelete.id);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-algorithm-deletion', {softwareName: softwareToDelete.name})\r\n        });\r\n      }\r\n      catch(error) {\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-algorithm-deletion', {softwareName: softwareToDelete.name})\r\n        });\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      let softwares = await SoftwareCollection.fetchAll();\r\n\r\n      this.softwares = softwares.array;\r\n\r\n      // if a software was deleted, the currentPage value might not be valid => reinitialize it\r\n      if((this.currentPage - 1)*this.perPage >= this.filteredSoftwares.length) {\r\n        this.currentPage = 1;\r\n      }\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.panel-block {\r\n  padding-top: 0.8em;\r\n}\r\n\r\n.panel-heading {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.search-block {\r\n  display: flex;\r\n}\r\n\r\n.switch {\r\n  margin-left: 1em;\r\n}\r\n</style>\r\n\r\n<style>\r\n.search-softwares {\r\n  max-width: 25em;\r\n  margin-right: 1em;\r\n}\r\n\r\n.table-softwares {\r\n  margin-top: 1rem;\r\n}\r\n\r\n.list-software-wrapper td, .list-software-wrapper th {\r\n  vertical-align: middle !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListSoftware.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListSoftware.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListSoftware.vue?vue&type=template&id=3fd487a5&scoped=true&\"\nimport script from \"./ListSoftware.vue?vue&type=script&lang=js&\"\nexport * from \"./ListSoftware.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListSoftware.vue?vue&type=style&index=0&id=3fd487a5&prod&scoped=true&lang=css&\"\nimport style1 from \"./ListSoftware.vue?vue&type=style&index=1&id=3fd487a5&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3fd487a5\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.configUI['project-images-tab'])?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):(_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('unexpected-error-info-message')))])]):_c('div',{staticClass:\"content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('images'))+\" \"),(_vm.canAddImage)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){_vm.addImageModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add-image'))+\" \")]):_vm._e()]),_c('div',{staticClass:\"panel-block\"},[_c('div',{staticClass:\"search-block\"},[_c('b-input',{staticClass:\"search-images\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.toggleFilterDisplay()}}},[_vm._m(0),_c('span',[_vm._v(\" \"+_vm._s(_vm.filtersOpened ? _vm.$t('button-hide-filters') : _vm.$t('button-show-filters'))+\" \")]),(_vm.nbActiveFilters)?_c('span',{staticClass:\"nb-active-filters\"},[_vm._v(\" \"+_vm._s(_vm.nbActiveFilters)+\" \")]):_vm._e()])],1),(_vm.filtersOpened)?_c('metadata-search',{attrs:{\"formats\":_vm.availableFormats,\"image-ids\":_vm.imageIds,\"magnifications\":_vm.availableMagnifications,\"max-height\":_vm.maxHeight,\"max-width\":_vm.maxWidth,\"max-nb-job-annotations\":_vm.maxNbJobAnnotations,\"max-nb-reviewed-annotations\":_vm.maxNbReviewedAnnotations,\"max-nb-user-annotations\":_vm.maxNbUserAnnotations,\"metadata\":_vm.metadata,\"resolutions\":_vm.availableResolutions,\"tags\":_vm.availableTags,\"vendors\":_vm.availableVendors}}):_vm._e(),_c('cytomine-table',{attrs:{\"collection\":_vm.imageCollection,\"is-empty\":_vm.nbEmptyFilters > 0,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"openedDetailed\":_vm.openedDetails,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function({row: image}){return [_c('b-table-column',{attrs:{\"label\":_vm.$t('overview'),\"width\":\"100\",\"visible\":_vm.isPropDisplayed('overview')}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/image/${image.id}`}},[_c('image-thumbnail',{key:`${image.id}-thumb-128`,attrs:{\"image\":image,\"size\":128,\"extra-parameters\":{Authorization: 'Bearer ' + _vm.shortTermToken }}})],1)],1),_c('b-table-column',{attrs:{\"field\":_vm.blindMode ? 'blindedName' : 'instanceFilename',\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"400\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/image/${image.id}`}},[_c('image-name',{attrs:{\"image\":image,\"showBothNames\":\"\"}})],1)],1),_c('b-table-column',{attrs:{\"field\":\"magnification\",\"label\":_vm.$t('magnification'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_vm._v(\" \"+_vm._s(image.magnification || _vm.$t('unknown'))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"numberOfAnnotations\",\"label\":_vm.$t('user-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/annotations?image=${image.id}&type=user`}},[_vm._v(\" \"+_vm._s(image.numberOfAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"numberOfJobAnnotations\",\"label\":_vm.$t('analysis-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/annotations?image=${image.id}&type=algo`}},[_vm._v(\" \"+_vm._s(image.numberOfJobAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"numberOfReviewedAnnotations\",\"label\":_vm.$t('reviewed-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/annotations?image=${image.id}&type=reviewed`}},[_vm._v(\" \"+_vm._s(image.numberOfReviewedAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\",\"width\":\"150\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":`/project/${image.project}/image/${image.id}`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-open'))+\" \")])],1)]}},{key:\"detail\",fn:function({row: image}){return [_c('image-details',{attrs:{\"image\":image,\"excludedProperties\":_vm.excludedProperties,\"editable\":\"\"},on:{\"delete\":_vm.refreshData,\"setResolution\":_vm.refreshData,\"setMagnification\":_vm.refreshData}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-image')))])])]},proxy:true}],null,false,274706155)})],1),_c('add-image-modal',{attrs:{\"active\":_vm.addImageModal},on:{\"update:active\":function($event){_vm.addImageModal=$event},\"addImage\":_vm.refreshData}})],1):_vm._e()],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-filter\"})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter is-one-third\"},[_c('h2',[_vm._v(\"Misc\")]),_c('div',{staticClass:\"filter-label\"},[_vm._v(_vm._s(_vm.$t('tags')))]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"allPlaceholder\":_vm.$t('all'),\"multiple\":true,\"options\":_vm.availableTags,\"label\":\"name\",\"track-by\":\"id\"},model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})],1),_c('div',{staticClass:\"filter-label\"},[_vm._v(_vm._s(_vm.$t('vendor')))]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"multiple\":true,\"options\":_vm.availableVendors,\"label\":\"label\",\"track-by\":\"value\"},model:{value:(_vm.selectedVendors),callback:function ($$v) {_vm.selectedVendors=$$v},expression:\"selectedVendors\"}})],1),_c('div',{staticClass:\"filter-label\"},[_vm._v(_vm._s(_vm.$t('format')))]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableFormats,\"multiple\":\"\"},model:{value:(_vm.selectedFormats),callback:function ($$v) {_vm.selectedFormats=$$v},expression:\"selectedFormats\"}})],1)]),_c('div',{staticClass:\"column filter is-one-third\"},[_c('h2',[_vm._v(\"Common Image Metadata\")]),_c('div',{staticClass:\"filter-label\"},[_vm._v(_vm._s(_vm.$t('magnification')))]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableMagnifications,\"multiple\":true,\"searchable\":false,\"label\":\"label\",\"track-by\":\"value\"},model:{value:(_vm.selectedMagnifications),callback:function ($$v) {_vm.selectedMagnifications=$$v},expression:\"selectedMagnifications\"}})],1),_c('div',{staticClass:\"filter-label\"},[_vm._v(_vm._s(_vm.$t('resolution')))]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableResolutions,\"multiple\":true,\"searchable\":false,\"label\":\"label\",\"track-by\":\"value\"},model:{value:(_vm.selectedResolutions),callback:function ($$v) {_vm.selectedResolutions=$$v},expression:\"selectedResolutions\"}})],1),_c('div',{staticClass:\"filter-label\"},[_vm._v(_vm._s(_vm.$t('width')))]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxWidth},model:{value:(_vm.boundsWidth),callback:function ($$v) {_vm.boundsWidth=$$v},expression:\"boundsWidth\"}})],1),_c('div',{staticClass:\"filter-label\"},[_vm._v(_vm._s(_vm.$t('height')))]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxHeight},model:{value:(_vm.boundsHeight),callback:function ($$v) {_vm.boundsHeight=$$v},expression:\"boundsHeight\"}})],1)]),_c('div',{staticClass:\"column filter is-one-third\"},[_c('h2',[_vm._v(\"Annotations\")]),_c('div',{staticClass:\"filter-label\"},[_vm._v(_vm._s(_vm.$t('user-annotations')))]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbUserAnnotations},model:{value:(_vm.boundsUserAnnotations),callback:function ($$v) {_vm.boundsUserAnnotations=$$v},expression:\"boundsUserAnnotations\"}})],1),_c('div',{staticClass:\"filter-label\"},[_vm._v(_vm._s(_vm.$t('analysis-annotations')))]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbJobAnnotations},model:{value:(_vm.boundsJobAnnotations),callback:function ($$v) {_vm.boundsJobAnnotations=$$v},expression:\"boundsJobAnnotations\"}})],1),_c('div',{staticClass:\"filter-label\"},[_vm._v(_vm._s(_vm.$t('reviewed-annotations')))]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbReviewedAnnotations},model:{value:(_vm.boundsReviewedAnnotations),callback:function ($$v) {_vm.boundsReviewedAnnotations=$$v},expression:\"boundsReviewedAnnotations\"}})],1)])]),_c('div',{staticClass:\"columns is-multiline\"},_vm._l((_vm.selectedFormats),function(format){return _c('div',{key:format,staticClass:\"column is-half\"},[_c('metadata-filter',{attrs:{\"format\":format,\"image-ids\":_vm.imageIds[format],\"keys\":_vm.metadataKeys[format],\"max\":_vm.metadataMax,\"type\":_vm.metadataType}})],1)}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n   Copyright (c) 2009-2023. Authors: see NOTICE file.\r\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\r\n   you may not use this file except in compliance with the License.\r\n   You may obtain a copy of the License at\r\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n   Unless required by applicable law or agreed to in writing, software\r\n   distributed under the License is distributed on an \"AS IS\" BASIS,\r\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n   See the License for the specific language governing permissions and\r\n   limitations under the License.\r\n-->\r\n\r\n<template>\r\n  <div class=\"filters\">\r\n    <div class=\"columns\">\r\n\r\n      <!-- Misc -->\r\n      <div class=\"column filter is-one-third\">\r\n        <h2>Misc</h2>\r\n\r\n        <div class=\"filter-label\">{{ $t('tags') }}</div>\r\n        <div class=\"filter-body\">\r\n          <cytomine-multiselect\r\n            v-model=\"selectedTags\"\r\n            :allPlaceholder=\"$t('all')\"\r\n            :multiple=\"true\"\r\n            :options=\"availableTags\"\r\n            label=\"name\"\r\n            track-by=\"id\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"filter-label\">{{ $t('vendor') }}</div>\r\n        <div class=\"filter-body\">\r\n          <cytomine-multiselect\r\n            v-model=\"selectedVendors\"\r\n            :multiple=\"true\"\r\n            :options=\"availableVendors\"\r\n            label=\"label\"\r\n            track-by=\"value\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"filter-label\">{{ $t('format') }}</div>\r\n        <div class=\"filter-body\">\r\n          <cytomine-multiselect v-model=\"selectedFormats\" :options=\"availableFormats\" multiple/>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Common Image Metadata -->\r\n      <div class=\"column filter is-one-third\">\r\n        <h2>Common Image Metadata</h2>\r\n\r\n        <div class=\"filter-label\">{{ $t('magnification') }}</div>\r\n        <div class=\"filter-body\">\r\n          <cytomine-multiselect\r\n            v-model=\"selectedMagnifications\"\r\n            :options=\"availableMagnifications\"\r\n            :multiple=\"true\"\r\n            :searchable=\"false\"\r\n            label=\"label\"\r\n            track-by=\"value\"/>\r\n        </div>\r\n\r\n        <div class=\"filter-label\">{{ $t('resolution') }}</div>\r\n        <div class=\"filter-body\">\r\n          <cytomine-multiselect\r\n            v-model=\"selectedResolutions\"\r\n            :options=\"availableResolutions\"\r\n            :multiple=\"true\"\r\n            :searchable=\"false\"\r\n            label=\"label\"\r\n            track-by=\"value\"/>\r\n        </div>\r\n\r\n        <div class=\"filter-label\">{{ $t('width') }}</div>\r\n        <div class=\"filter-body\">\r\n          <cytomine-slider v-model=\"boundsWidth\" :max=\"maxWidth\"/>\r\n        </div>\r\n\r\n        <div class=\"filter-label\">{{ $t('height') }}</div>\r\n        <div class=\"filter-body\">\r\n          <cytomine-slider v-model=\"boundsHeight\" :max=\"maxHeight\"/>\r\n        </div>\r\n\r\n\r\n      </div>\r\n\r\n      <!-- Annotations -->\r\n      <div class=\"column filter is-one-third\">\r\n        <h2>Annotations</h2>\r\n\r\n        <div class=\"filter-label\">{{ $t('user-annotations') }}</div>\r\n        <div class=\"filter-body\">\r\n          <cytomine-slider v-model=\"boundsUserAnnotations\" :max=\"maxNbUserAnnotations\"/>\r\n        </div>\r\n\r\n        <div class=\"filter-label\">{{ $t('analysis-annotations') }}</div>\r\n        <div class=\"filter-body\">\r\n          <cytomine-slider v-model=\"boundsJobAnnotations\" :max=\"maxNbJobAnnotations\"/>\r\n        </div>\r\n\r\n        <div class=\"filter-label\">{{ $t('reviewed-annotations') }}</div>\r\n        <div class=\"filter-body\">\r\n          <cytomine-slider v-model=\"boundsReviewedAnnotations\" :max=\"maxNbReviewedAnnotations\"/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"columns is-multiline\">\r\n      <div class=\"column is-half\" v-for=\"format in selectedFormats\" :key=\"format\">\r\n        <metadata-filter\r\n          :format=\"format\"\r\n          :image-ids=\"imageIds[format]\"\r\n          :keys=\"metadataKeys[format]\"\r\n          :max=\"metadataMax\"\r\n          :type=\"metadataType\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {isNumeric} from '@/utils/string-utils';\r\nimport {stripIDfromKey} from '@/utils/metadata.js';\r\nimport {syncBoundsFilter, syncMultiselectFilter} from '@/utils/store-helpers';\r\n\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport CytomineSlider from '@/components/form/CytomineSlider';\r\nimport MetadataFilter from '@/components/search/MetadataFilter.vue';\r\n\r\nconst storeOptions = {rootModuleProp: 'storeModule'};\r\nconst localSyncMultiselectFilter = (filterName, options) => syncMultiselectFilter(null, filterName, options, storeOptions);\r\nconst localSyncBoundsFilter = (filterName, maxProp) => syncBoundsFilter(null, filterName, maxProp, storeOptions);\r\n\r\nexport default {\r\n  name: 'metadata-search',\r\n  components: {\r\n    CytomineMultiselect,\r\n    CytomineSlider,\r\n    MetadataFilter,\r\n  },\r\n  props: {\r\n    formats: {type: Array, default: []},\r\n    imageIds: {type: Object, default: null},\r\n    magnifications: {type: Array, default: []},\r\n    maxHeight: {type: Number, default: 0},\r\n    maxWidth: {type: Number, default: 0},\r\n    maxNbJobAnnotations: {type: Number, default: 0},\r\n    maxNbReviewedAnnotations: {type: Number, default: 0},\r\n    maxNbUserAnnotations: {type: Number, default: 0},\r\n    metadata: {type: Object, default: null},\r\n    resolutions: {type: Array, default: []},\r\n    tags: {type: Array, default: []},\r\n    vendors: {type: Array, default: []},\r\n  },\r\n  data() {\r\n    return {\r\n      availableFormats: this.formats,\r\n      availableVendors: this.vendors,\r\n      availableMagnifications: this.magnifications,\r\n      availableResolutions: this.resolutions,\r\n      availableTags: this.tags,\r\n      metadataKeys: {},\r\n      metadataMax: {},\r\n      metadataType: {},\r\n      showSpecificMetadata: {},\r\n    };\r\n  },\r\n  computed: {\r\n    selectedFormats: localSyncMultiselectFilter('formats', 'availableFormats'),\r\n    selectedVendors: localSyncMultiselectFilter('vendors', 'availableVendors'),\r\n    selectedTags: localSyncMultiselectFilter('selectedTags', 'availableTags'),\r\n    selectedMagnifications: localSyncMultiselectFilter('magnifications', 'availableMagnifications'),\r\n    selectedResolutions: localSyncMultiselectFilter('resolutions', 'availableResolutions'),\r\n    boundsWidth: localSyncBoundsFilter('boundsWidth', 'maxWidth'),\r\n    boundsHeight: localSyncBoundsFilter('boundsHeight', 'maxHeight'),\r\n    boundsUserAnnotations: localSyncBoundsFilter('boundsUserAnnotations', 'maxNbUserAnnotations'),\r\n    boundsJobAnnotations: localSyncBoundsFilter('boundsJobAnnotations', 'maxNbJobAnnotations'),\r\n    boundsReviewedAnnotations: localSyncBoundsFilter('boundsReviewedAnnotations', 'maxNbReviewedAnnotations'),\r\n\r\n    storeModule() {\r\n      return this.$store.getters['currentProject/currentProjectModule'] + 'listImages';\r\n    },\r\n  },\r\n  async created() {\r\n    this.selectedFormats.forEach(format => this.showSpecificMetadata[format] = true);\r\n\r\n    for (const [key, value] of Object.entries(this.metadata)) {\r\n      let keys = new Set();\r\n      Object.values(value).forEach(properties => {\r\n        properties.forEach(property => {\r\n          let key = stripIDfromKey(property.key);\r\n          keys.add(key);\r\n          this.metadataType[key] = isNumeric(property.value) ? Number : String;\r\n          if (key.toLowerCase().includes('date')) {\r\n            this.metadataType[key] = Date;\r\n          }\r\n\r\n          if (!(key in this.metadataMax)) {\r\n            this.metadataMax[key] = property.value;\r\n          }\r\n\r\n          if (this.metadataMax[key] < property.value) {\r\n            this.metadataMax[key] = isNumeric(property.value) ? +property.value : property.value;\r\n          }\r\n        });\r\n      });\r\n      this.metadataKeys[key] = Array.from(keys);\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetadataSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetadataSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MetadataSearch.vue?vue&type=template&id=727bb0b1&\"\nimport script from \"./MetadataSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./MetadataSearch.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"image-details-wrapper\"},[_c('table',{staticClass:\"table\"},[_c('tbody',[(_vm.isPropDisplayed('overview'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('overview')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('router-link',{attrs:{\"to\":`/project/${_vm.image.project}/image/${_vm.image.id}`}},[_c('image-thumbnail',{key:`${_vm.image.id}-thumb-256`,attrs:{\"image\":_vm.image,\"size\":256,\"extra-parameters\":{Authorization: 'Bearer ' + _vm.shortTermToken }}})],1)],1)]):_vm._e(),(_vm.isPropDisplayed('id') && _vm.currentUser.isDeveloper)?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('id')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_vm._v(_vm._s(_vm.image.id))])]):_vm._e(),(_vm.isPropDisplayed('status'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('status')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('image-status',{attrs:{\"image\":_vm.image}})],1)]):_vm._e(),(_vm.isPropDisplayed('numberOfAnnotations'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('user-annotations')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('router-link',{attrs:{\"to\":`/project/${_vm.image.project}/annotations?image=${_vm.image.id}&type=user`}},[_vm._v(\" \"+_vm._s(_vm.image.numberOfAnnotations)+\" \")])],1)]):_vm._e(),(_vm.isPropDisplayed('numberOfJobAnnotations'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('analysis-annotations')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('router-link',{attrs:{\"to\":`/project/${_vm.image.project}/annotations?image=${_vm.image.id}&type=algo`}},[_vm._v(\" \"+_vm._s(_vm.image.numberOfJobAnnotations)+\" \")])],1)]):_vm._e(),(_vm.isPropDisplayed('numberOfReviewedAnnotations'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('reviewed-annotations')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('router-link',{attrs:{\"to\":`/project/${_vm.image.project}/annotations?image=${_vm.image.id}&type=reviewed`}},[_vm._v(\" \"+_vm._s(_vm.image.numberOfReviewedAnnotations)+\" \")])],1)]):_vm._e(),(_vm.isPropDisplayed('description'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('description')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('cytomine-description',{attrs:{\"object\":_vm.image,\"canEdit\":_vm.canEdit}})],1)]):_vm._e(),(_vm.isPropDisplayed('tags'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('tags')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('cytomine-tags',{attrs:{\"object\":_vm.image,\"canEdit\":_vm.canEdit}})],1)]):_vm._e(),(_vm.isPropDisplayed('properties'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('properties')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('cytomine-properties',{attrs:{\"object\":_vm.image,\"error\":_vm.loadPropertiesError,\"canEdit\":_vm.canEdit,\"properties\":_vm.metadataFilteredProperties},on:{\"deleted\":_vm.removeProp,\"added\":_vm.addProp}})],1)]):_vm._e(),(_vm.isPropDisplayed('attached-files'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('attached-files')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('attached-files',{attrs:{\"object\":_vm.image,\"canEdit\":_vm.canEdit}})],1)]):_vm._e(),(_vm.isPropDisplayed('slide-preview'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('slide-preview')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[(_vm.image.macroURL && !_vm.isBlindModeAndContributor)?_c('a',{on:{\"click\":function($event){_vm.isMetadataModalActive = true}}},[_c('image-thumbnail',{key:`${_vm.image.id}-macro-256`,attrs:{\"image\":_vm.image,\"macro\":true,\"size\":256,\"extra-parameters\":{Authorization: 'Bearer ' + _vm.shortTermToken }}})],1):_c('em',[_vm._v(\" \"+_vm._s(_vm.$t('slide-preview-not-available'))+\" \")])])]):_vm._e(),(_vm.isPropDisplayed('original-filename') && (!_vm.blindMode || _vm.canManageProject))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('originalFilename')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_vm._v(\" \"+_vm._s(_vm.image.originalFilename)+\" \")])]):_vm._e(),(_vm.isPropDisplayed('format'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('format')))]),_c('td',{staticClass:\"prop-content format\",attrs:{\"colspan\":\"3\"}},[_vm._v(\" \"+_vm._s(_vm.image.contentType)+\" \")])]):_vm._e(),(_vm.isPropDisplayed('vendor'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('vendor')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[(_vm.vendor)?_c('img',{staticClass:\"vendor-img\",attrs:{\"src\":_vm.vendor.imgPath,\"alt\":_vm.vendor.name,\"title\":_vm.vendor.name}}):[_vm._v(_vm._s(_vm.$t('unknown')))]],2)]):_vm._e(),(_vm.isPropDisplayed('width') || _vm.isPropDisplayed('physicalSizeX'))?_c('tr',[(_vm.isPropDisplayed('width'))?[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t(\"image-width\")))]),_c('td',{staticClass:\"prop-content-half\",attrs:{\"colspan\":_vm.isPropDisplayed('physicalSizeX') ? 1 : 3}},[_vm._v(\" \"+_vm._s(_vm.image.width)+\" \"+_vm._s(_vm.$t(\"pixels\"))+\" \"),(_vm.image.physicalSizeX)?[_vm._v(\"(\"+_vm._s((_vm.image.width * _vm.image.physicalSizeX).toFixed(3))+\" \"+_vm._s(_vm.$t(\"um\"))+\")\")]:_vm._e()],2)]:_vm._e(),(_vm.isPropDisplayed('physicalSizeX'))?[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t(\"x-y-resolution\")))]),_c('td',{staticClass:\"prop-content-half\",attrs:{\"colspan\":_vm.isPropDisplayed('width') ? 1 : 3}},[(_vm.image.physicalSizeX)?[_vm._v(_vm._s(_vm.image.physicalSizeX.toFixed(3))+\" \"+_vm._s(_vm.$t(\"um-per-pixel\")))]:[_vm._v(_vm._s(_vm.$t(\"unknown\")))]],2)]:_vm._e()],2):_vm._e(),(_vm.isPropDisplayed('height') || _vm.isPropDisplayed('physicalSizeY'))?_c('tr',[(_vm.isPropDisplayed('height'))?[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t(\"image-height\")))]),_c('td',{staticClass:\"prop-content-half\",attrs:{\"colspan\":_vm.isPropDisplayed('physicalSizeY') ? 1 : 3}},[_vm._v(\" \"+_vm._s(_vm.image.height)+\" \"+_vm._s(_vm.$t(\"pixels\"))+\" \"),(_vm.image.physicalSizeY)?[_vm._v(\"(\"+_vm._s((_vm.image.height * _vm.image.physicalSizeY).toFixed(3))+\" \"+_vm._s(_vm.$t(\"um\"))+\")\")]:_vm._e()],2)]:_vm._e(),(_vm.isPropDisplayed('physicalSizeY'))?[_c('td',{staticClass:\"prop-label\"}),_c('td',{staticClass:\"prop-content-half\",attrs:{\"colspan\":_vm.isPropDisplayed('height') ? 1 : 3}})]:_vm._e()],2):_vm._e(),(_vm.isPropDisplayed('depth') || _vm.isPropDisplayed('physicalSizeZ'))?_c('tr',[(_vm.isPropDisplayed('depth'))?[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t(\"image-depth\")))]),_c('td',{staticClass:\"prop-content-half\",attrs:{\"colspan\":_vm.isPropDisplayed('physicalSizeZ') ? 1 : 3}},[_vm._v(\" \"+_vm._s(_vm.$tc(\"count-slices\", _vm.image.depth, {count: _vm.image.depth}))+\" \"),(_vm.image.physicalSizeZ)?[_vm._v(\"(\"+_vm._s((_vm.image.depth * _vm.image.physicalSizeZ).toFixed(3))+\" \"+_vm._s(_vm.$t(\"um\"))+\")\")]:_vm._e()],2)]:_vm._e(),(_vm.isPropDisplayed('physicalSizeZ'))?[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t(\"z-resolution\")))]),_c('td',{staticClass:\"prop-content-half\",attrs:{\"colspan\":_vm.isPropDisplayed('depth') ? 1 : 3}},[(_vm.image.physicalSizeZ)?[_vm._v(_vm._s(_vm.image.physicalSizeZ.toFixed(3))+\" \"+_vm._s(_vm.$t(\"um-per-slice\")))]:(_vm.image.depth < 2)?[_vm._v(\"-\")]:[_vm._v(_vm._s(_vm.$t(\"unknown\")))]],2)]:_vm._e()],2):_vm._e(),(_vm.isPropDisplayed('time') || _vm.isPropDisplayed('fps'))?_c('tr',[(_vm.isPropDisplayed('time'))?[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t(\"image-time\")))]),_c('td',{staticClass:\"prop-content-half\",attrs:{\"colspan\":_vm.isPropDisplayed('fps') ? 1 : 3}},[_vm._v(\" \"+_vm._s(_vm.$tc(\"count-frames\", _vm.image.duration, {count: _vm.image.duration}))+\" \"),(_vm.image.fps && _vm.image.duration > 0)?[_vm._v(\" (\"+_vm._s(_vm.formatMinutesSeconds(_vm.image.duration / _vm.image.fps))+\") \")]:_vm._e()],2)]:_vm._e(),(_vm.isPropDisplayed('fps'))?[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t(\"frame-rate\")))]),_c('td',{staticClass:\"prop-content-half\",attrs:{\"colspan\":_vm.isPropDisplayed('time') ? 1 : 3}},[(_vm.image.fps)?[_vm._v(_vm._s(_vm.image.fps.toFixed(3))+\" \"+_vm._s(_vm.$t(\"frame-per-second\")))]:(_vm.image.time < 2)?[_vm._v(\"-\")]:[_vm._v(_vm._s(_vm.$t(\"unknown\")))]],2)]:_vm._e()],2):_vm._e(),(_vm.isPropDisplayed('channels'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t(\"image-channels\")))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_vm._v(\" \"+_vm._s(_vm.$tc(\"count-bands\", _vm.image.apparentChannels, {count: _vm.image.apparentChannels}))+\" (\"+_vm._s(_vm.image.channels)+\" x \"+_vm._s(_vm.image.samplePerPixel)+\") \")])]):_vm._e(),(_vm.isPropDisplayed('size'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('image-size')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_vm._v(\" \"+_vm._s(`${_vm.image.width} x ${_vm.image.height} ${_vm.$t('pixels')}`)+\" \")])]):_vm._e(),(_vm.isPropDisplayed('magnification'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('magnification')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[(_vm.image.magnification)?[_vm._v(_vm._s(_vm.image.magnification))]:[_vm._v(_vm._s(_vm.$t('unknown')))]],2)]):_vm._e(),_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('actions')))]),_c('td',{staticClass:\"prop-content\",attrs:{\"colspan\":\"3\"}},[_c('div',{staticClass:\"buttons are-small\"},[(_vm.isPropDisplayed('metadata') && !_vm.isBlindModeAndContributor)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.isMetadataModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-metadata'))+\" \")]):_vm._e(),(_vm.canEdit)?[(!_vm.image.reviewed && !_vm.image.inReview)?_c('router-link',{staticClass:\"button\",attrs:{\"to\":`/project/${_vm.image.project}/image/${_vm.image.id}?action=review`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-start-review'))+\" \")]):(_vm.image.reviewUser === _vm.currentUser.id)?[(_vm.image.reviewed)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.cancelReview()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-unvalidate-review'))+\" \")]):[_c('router-link',{staticClass:\"button\",attrs:{\"to\":`/project/${_vm.image.project}/image/${_vm.image.id}?action=review`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-continue-review'))+\" \")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.cancelReview()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel-review'))+\" \")])]]:_vm._e(),(!_vm.blindMode || _vm.canManageProject)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.isRenameModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-rename'))+\" \")]):_vm._e(),_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.isCalibrationModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-set-calibration'))+\" \")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.isMagnificationModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-set-magnification'))+\" \")])]:_vm._e(),(_vm.canDownloadImages || _vm.canManageProject)?_c('a',{staticClass:\"button\",on:{\"click\":function($event){return _vm.download(_vm.image)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-download'))+\" \")]):_vm._e(),(_vm.canEdit)?[_c('button',{staticClass:\"button is-danger\",on:{\"click\":function($event){return _vm.confirmDeletion()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")])]:_vm._e()],2)])])])]),_c('rename-modal',{attrs:{\"title\":_vm.$t('rename-image'),\"currentName\":_vm.image.instanceFilename,\"active\":_vm.isRenameModalActive},on:{\"update:active\":function($event){_vm.isRenameModalActive=$event},\"rename\":_vm.rename}}),_c('magnification-modal',{attrs:{\"image\":_vm.image,\"active\":_vm.isMagnificationModalActive},on:{\"update:active\":function($event){_vm.isMagnificationModalActive=$event},\"setMagnification\":(event) => _vm.$emit('setMagnification', event)}}),_c('calibration-modal',{attrs:{\"image\":_vm.image,\"active\":_vm.isCalibrationModalActive},on:{\"update:active\":function($event){_vm.isCalibrationModalActive=$event},\"setResolution\":(event) => _vm.$emit('setResolution', event)}}),_c('image-metadata-modal',{attrs:{\"active\":_vm.isMetadataModalActive,\"image\":_vm.image,\"properties\":_vm.onlyMetadataProperties,\"error\":_vm.loadPropertiesError},on:{\"update:active\":function($event){_vm.isMetadataModalActive=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.setMagnification()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('set-magnification')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-message',{attrs:{\"type\":\"is-warning\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('warning-change-applies-in-project-only'))+\" \")]),_c('b-field',{attrs:{\"label\":_vm.$t('magnification'),\"type\":_vm.fieldType,\"message\":_vm.errors.first('magnification')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('decimal|positive'),expression:\"'decimal|positive'\"}],attrs:{\"name\":\"magnification\"},model:{value:(_vm.newMagnification),callback:function ($$v) {_vm.newMagnification=$$v},expression:\"newMagnification\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<form @submit.prevent=\"setMagnification()\">\r\n  <cytomine-modal :active=\"active\" :title=\"$t('set-magnification')\" @close=\"$emit('update:active', false)\">\r\n    <b-message type=\"is-warning\" has-icon icon-size=\"is-small\">\r\n      {{ $t('warning-change-applies-in-project-only') }}\r\n    </b-message>\r\n\r\n    <b-field :label=\"$t('magnification')\" :type=\"fieldType\" :message=\"errors.first('magnification')\">\r\n      <b-input v-model=\"newMagnification\" name=\"magnification\" v-validate=\"'decimal|positive'\" />\r\n    </b-field>\r\n\r\n    <template #footer>\r\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n        {{$t('button-save')}}\r\n      </button>\r\n    </template>\r\n  </cytomine-modal>\r\n</form>\r\n</template>\r\n\r\n<script>\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\n\r\nexport default {\r\n  name: 'magnification-modal',\r\n  props: {\r\n    active: {type: Boolean},\r\n    image: {type: Object}\r\n  },\r\n  components: {CytomineModal},\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      newMagnification: ''\r\n    };\r\n  },\r\n  computed: {\r\n    blindMode() {\r\n      return this.$store.state.currentProject.project.blindMode;\r\n    },\r\n    fieldType() {\r\n      return {'is-danger': this.errors.has('magnification')};\r\n    }\r\n  },\r\n  watch: {\r\n    active(val) {\r\n      if(val) {\r\n        this.newMagnification = this.image.magnification;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async setMagnification() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      let imageName = this.blindMode ? this.image.blindedName : this.image.instanceFilename;\r\n      try {\r\n        let updateImage = this.image.clone();\r\n        updateImage.magnification = this.newMagnification;\r\n        await updateImage.save();\r\n\r\n        this.$emit('setMagnification', updateImage.magnification);\r\n\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-magnification-update', {imageName})\r\n        });\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-magnification-update', {imageName})\r\n        });\r\n      }\r\n      this.$emit('update:active', false);\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MagnificationModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MagnificationModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MagnificationModal.vue?vue&type=template&id=2771b0ad&\"\nimport script from \"./MagnificationModal.vue?vue&type=script&lang=js&\"\nexport * from \"./MagnificationModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.setResolution()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('calibrate-image')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-message',{attrs:{\"type\":\"is-warning\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('warning-change-applies-in-project-only'))+\" \")]),_c('b-field',{attrs:{\"label\":_vm.$t('resolution'),\"type\":{'is-danger': this.errors.has('resolution')},\"message\":_vm.errors.first('resolution')}},[_c('b-field',{attrs:{\"type\":{'is-danger': this.errors.has('resolution')}}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|decimal|positive'),expression:\"'required|decimal|positive'\"}],attrs:{\"name\":\"resolution\",\"expanded\":\"\"},model:{value:(_vm.calibrationFieldX),callback:function ($$v) {_vm.calibrationFieldX=$$v},expression:\"calibrationFieldX\"}}),_c('b-select',{model:{value:(_vm.calibrationFactorX),callback:function ($$v) {_vm.calibrationFactorX=$$v},expression:\"calibrationFactorX\"}},[_c('option',{domProps:{\"value\":0.001}},[_vm._v(\" \"+_vm._s(_vm.$t('nm-per-pixel')))]),_c('option',{domProps:{\"value\":1}},[_vm._v(_vm._s(_vm.$t('um-per-pixel')))]),_c('option',{domProps:{\"value\":1000}},[_vm._v(_vm._s(_vm.$t('mm-per-pixel')))])])],1)],1),(this.image.depth > 1)?_c('b-field',{attrs:{\"label\":_vm.$t('z-resolution'),\"type\":{'is-danger': this.errors.has('resolution-z')},\"message\":_vm.errors.first('resolution-z')}},[_c('b-field',{attrs:{\"type\":{'is-danger': this.errors.has('resolution-z')}}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|decimal|positive'),expression:\"'required|decimal|positive'\"}],attrs:{\"name\":\"resolution-z\",\"expanded\":\"\"},model:{value:(_vm.calibrationFieldZ),callback:function ($$v) {_vm.calibrationFieldZ=$$v},expression:\"calibrationFieldZ\"}}),_c('b-select',{model:{value:(_vm.calibrationFactorZ),callback:function ($$v) {_vm.calibrationFactorZ=$$v},expression:\"calibrationFactorZ\"}},[_c('option',{domProps:{\"value\":0.001}},[_vm._v(\" \"+_vm._s(_vm.$t('nm-per-slice')))]),_c('option',{domProps:{\"value\":1}},[_vm._v(_vm._s(_vm.$t('um-per-slice')))]),_c('option',{domProps:{\"value\":1000}},[_vm._v(_vm._s(_vm.$t('mm-per-slice')))])])],1)],1):_vm._e(),(this.image.duration > 1)?_c('b-field',{attrs:{\"label\":_vm.$t('frame-rate'),\"type\":{'is-danger': this.errors.has('resolution-t')},\"message\":_vm.errors.first('resolution-t')}},[_c('b-field',{attrs:{\"type\":{'is-danger': this.errors.has('resolution-t')}}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|decimal|positive'),expression:\"'required|decimal|positive'\"}],attrs:{\"name\":\"resolution-t\",\"expanded\":\"\"},model:{value:(_vm.calibrationFieldT),callback:function ($$v) {_vm.calibrationFieldT=$$v},expression:\"calibrationFieldT\"}}),_c('p',{staticClass:\"control\"},[_c('span',{staticClass:\"button is-static\"},[_vm._v(_vm._s(_vm.$t('frame-per-second')))])])],1)],1):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<form @submit.prevent=\"setResolution()\">\r\n  <cytomine-modal :active=\"active\" :title=\"$t('calibrate-image')\" @close=\"$emit('update:active', false)\">\r\n    <b-message type=\"is-warning\" has-icon icon-size=\"is-small\">\r\n      {{ $t('warning-change-applies-in-project-only') }}\r\n    </b-message>\r\n\r\n    <b-field :label=\"$t('resolution')\" :type=\"{'is-danger': this.errors.has('resolution')}\" :message=\"errors.first('resolution')\">\r\n      <b-field :type=\"{'is-danger': this.errors.has('resolution')}\">\r\n        <b-input v-model=\"calibrationFieldX\" name=\"resolution\" v-validate=\"'required|decimal|positive'\" expanded />\r\n        <b-select v-model=\"calibrationFactorX\">\r\n          <option :value=\"0.001\"> {{ $t('nm-per-pixel') }}</option>\r\n          <option :value=\"1\">{{ $t('um-per-pixel') }}</option>\r\n          <option :value=\"1000\">{{ $t('mm-per-pixel') }}</option>\r\n        </b-select>\r\n      </b-field>\r\n    </b-field>\r\n\r\n    <b-field v-if=\"this.image.depth > 1\" :label=\"$t('z-resolution')\"\r\n             :type=\"{'is-danger': this.errors.has('resolution-z')}\" :message=\"errors.first('resolution-z')\">\r\n      <b-field :type=\"{'is-danger': this.errors.has('resolution-z')}\">\r\n        <b-input v-model=\"calibrationFieldZ\" name=\"resolution-z\" v-validate=\"'required|decimal|positive'\" expanded />\r\n        <b-select v-model=\"calibrationFactorZ\">\r\n          <option :value=\"0.001\"> {{ $t('nm-per-slice') }}</option>\r\n          <option :value=\"1\">{{ $t('um-per-slice') }}</option>\r\n          <option :value=\"1000\">{{ $t('mm-per-slice') }}</option>\r\n        </b-select>\r\n      </b-field>\r\n    </b-field>\r\n\r\n    <b-field v-if=\"this.image.duration > 1\" :label=\"$t('frame-rate')\"\r\n             :type=\"{'is-danger': this.errors.has('resolution-t')}\" :message=\"errors.first('resolution-t')\">\r\n      <b-field :type=\"{'is-danger': this.errors.has('resolution-t')}\">\r\n        <b-input v-model=\"calibrationFieldT\" name=\"resolution-t\" v-validate=\"'required|decimal|positive'\" expanded />\r\n        <p class=\"control\">\r\n          <span class=\"button is-static\">{{$t('frame-per-second')}}</span>\r\n        </p>\r\n      </b-field>\r\n    </b-field>\r\n\r\n    <template #footer>\r\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n        {{$t('button-save')}}\r\n      </button>\r\n    </template>\r\n  </cytomine-modal>\r\n</form>\r\n</template>\r\n\r\n<script>\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\n\r\nexport default {\r\n  name: 'calibration-modal',\r\n  props: {\r\n    active: {type: Boolean},\r\n    image: {type: Object}\r\n  },\r\n  components: {CytomineModal},\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      calibrationFieldX: '',\r\n      calibrationFactorX: 1,\r\n      calibrationFieldZ: '',\r\n      calibrationFactorZ: 1,\r\n      calibrationFieldT: ''\r\n    };\r\n  },\r\n  computed: {\r\n    blindMode() {\r\n      return this.$store.state.currentProject.project.blindMode;\r\n    },\r\n  },\r\n  watch: {\r\n    active(val) {\r\n      if(val) {\r\n        this.calibrationFieldX = this.image.physicalSizeX;\r\n        this.calibrationFieldZ = this.image.physicalSizeZ;\r\n        this.calibrationFieldT = this.image.fps;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async setResolution() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      let imageName = this.blindMode ? this.image.blindedName : this.image.instanceFilename;\r\n      try {\r\n        let updateImage = this.image.clone();\r\n        updateImage.physicalSizeX = Number(this.calibrationFieldX)*this.calibrationFactorX;\r\n        updateImage.physicalSizeY = Number(this.calibrationFieldX)*this.calibrationFactorX;\r\n        if (this.image.depth > 1) {\r\n          updateImage.physicalSizeZ = Number(this.calibrationFieldZ)*this.calibrationFactorZ;\r\n        }\r\n        if (this.image.duration > 1) {\r\n          updateImage.fps = Number(this.calibrationFieldT);\r\n        }\r\n        await updateImage.save();\r\n\r\n        this.$emit('setResolution', {\r\n          x: updateImage.physicalSizeX,\r\n          y: updateImage.physicalSizeY,\r\n          z: updateImage.physicalSizeZ,\r\n          t: updateImage.fps\r\n        });\r\n\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-image-calibration', {imageName})\r\n        });\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-image-calibration', {imageName})\r\n        });\r\n      }\r\n      this.$emit('update:active', false);\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalibrationModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalibrationModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CalibrationModal.vue?vue&type=template&id=5b66b512&\"\nimport script from \"./CalibrationModal.vue?vue&type=script&lang=js&\"\nexport * from \"./CalibrationModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('image-metadata')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-close'))+\" \")])]},proxy:true}])},[(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[(_vm.image && _vm.image.macroURL)?[_c('p',{staticClass:\"image-preview\",style:(_vm.styleImagePreview)},[_c('img',{ref:\"image\",class:'rotate-' + _vm.rotationAngle,attrs:{\"src\":_vm.appendShortTermToken(_vm.image.associatedImageURL('macro', 256, 'jpg'), _vm.shortTermToken)}})]),_c('div',{staticClass:\"buttons is-centered are-small\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.rotate(-90)}}},[_c('i',{staticClass:\"fas fa-undo\"})]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.rotate(90)}}},[_c('i',{staticClass:\"fas fa-undo mirror\"})])])]:_vm._e(),_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\",\"size\":\"is-small\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('ul',_vm._l((_vm.filteredProps),function(prop){return _c('li',{key:prop.id},[_c('strong',[_vm._v(_vm._s(prop.key))]),_vm._v(\": \"+_vm._s(prop.value)+\" \")])}),0)]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<cytomine-modal :active=\"active\" :title=\"$t('image-metadata')\" @close=\"$emit('update:active', false)\">\r\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n    <h2> {{ $t('error') }} </h2>\r\n    <p> {{ $t('unexpected-error-info-message') }} </p>\r\n  </b-message>\r\n  <template v-else>\r\n    <template v-if=\"image && image.macroURL\">\r\n      <p :style=\"styleImagePreview\" class=\"image-preview\">\r\n        <img :class=\"'rotate-' + rotationAngle\" :src=\"appendShortTermToken(image.associatedImageURL('macro', 256, 'jpg'), shortTermToken)\" ref=\"image\">\r\n      </p>\r\n      <div class=\"buttons is-centered are-small\">\r\n        <button class=\"button\" @click=\"rotate(-90)\"><i class=\"fas fa-undo\"></i></button>\r\n        <button class=\"button\" @click=\"rotate(90)\"><i class=\"fas fa-undo mirror\"></i></button>\r\n      </div>\r\n    </template>\r\n\r\n    <b-input\r\n      v-model=\"searchString\"\r\n      :placeholder=\"$t('search-placeholder')\"\r\n      type=\"search\"\r\n      icon=\"search\"\r\n      size=\"is-small\"\r\n    />\r\n    <ul>\r\n      <li v-for=\"prop in filteredProps\" :key=\"prop.id\">\r\n        <strong>{{prop.key}}</strong>: {{prop.value}}\r\n      </li>\r\n    </ul>\r\n  </template>\r\n\r\n  <template #footer>\r\n    <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\r\n      {{$t('button-close')}}\r\n    </button>\r\n  </template>\r\n</cytomine-modal>\r\n</template>\r\n\r\n<script>\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nexport default {\r\n  name: 'image-metadata-modal',\r\n  props: {\r\n    active: Boolean,\r\n    image: Object,\r\n    properties: {type: Array},\r\n    error: {type: Boolean, default: false}\r\n  },\r\n  components: {CytomineModal},\r\n  data() {\r\n    return {\r\n      searchString: '',\r\n      rotationAngle: 0\r\n    };\r\n  },\r\n  computed: {\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    filteredProps() {\r\n      if(!this.searchString) {\r\n        return this.properties;\r\n      }\r\n      let regexp = getWildcardRegexp(this.searchString);\r\n      return this.properties.filter(prop => regexp.test(prop.key) || regexp.test(prop.value));\r\n    },\r\n    styleImagePreview() {\r\n      this.rotationAngle; // to force re-evaluation each time rotationAngle changes\r\n      if(!this.$refs.image) {\r\n        return;\r\n      }\r\n\r\n      let reverse = (this.rotationAngle === 90 || this.rotationAngle === 270);\r\n      let width = this.$refs.image.clientWidth + 'px';\r\n      let height = this.$refs.image.clientHeight + 'px';\r\n      return {\r\n        width: reverse ? height : width,\r\n        height: reverse ? width : height\r\n      };\r\n    },\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    async rotate(val) {\r\n      this.rotationAngle = (this.rotationAngle + val + 360) % 360;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n/deep/ .modal-card, /deep/ .modal-card-body {\r\n  width: 800px;\r\n  max-width: 100%;\r\n}\r\n\r\n.image-preview {\r\n  margin: auto;\r\n  overflow: hidden;\r\n  margin-bottom: 0.5em;\r\n  text-align: center;\r\n}\r\n\r\nimg {\r\n  transform-origin: top left;\r\n  max-width: initial;\r\n\r\n  &.rotate-90 {\r\n    transform: rotate(90deg) translateY(-100%);\r\n  }\r\n\r\n  &.rotate-180 {\r\n    transform: rotate(180deg) translate(-100%,-100%);\r\n  }\r\n\r\n  &.rotate-270 {\r\n    transform: rotate(270deg) translateX(-100%);\r\n  }\r\n}\r\n\r\n.mirror {\r\n  transform: scale(-1, 1);\r\n}\r\n\r\ninput {\r\n  max-width: 30em;\r\n  margin-bottom: 1em;\r\n}\r\n\r\nli {\r\n  overflow-wrap: break-word;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageMetadataModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageMetadataModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageMetadataModal.vue?vue&type=template&id=3735e86c&scoped=true&\"\nimport script from \"./ImageMetadataModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageMetadataModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageMetadataModal.vue?vue&type=style&index=0&id=3735e86c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3735e86c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"tag\",class:_vm.tagClass},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.label))+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<span class=\"tag\" :class=\"tagClass\">\r\n  {{$t(label)}}\r\n</span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    image: Object\r\n  },\r\n  computed: {\r\n    tagClass() {\r\n      if(this.image.reviewed) {\r\n        return 'is-success';\r\n      }\r\n      if(this.image.inReview) {\r\n        return 'is-info';\r\n      }\r\n      return 'is-light';\r\n    },\r\n    label() {\r\n      if(this.image.reviewed) {\r\n        return 'reviewed';\r\n      }\r\n      if(this.image.inReview) {\r\n        return 'in-review';\r\n      }\r\n      return 'none';\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageStatus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageStatus.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageStatus.vue?vue&type=template&id=1b81341a&\"\nimport script from \"./ImageStatus.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageStatus.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export function formatMinutesSeconds(time) {\r\n  let minutes = Math.floor(time / 60);\r\n  let remainder = time - minutes * 60;\r\n  let seconds = Math.floor(remainder);\r\n  let milliseconds = Math.floor((remainder - seconds) * 1000);\r\n  return [\r\n    minutes.toString().padStart(2, '0'),\r\n    seconds.toString().padStart(2, '0'),\r\n    milliseconds.toString().padStart(3, '0')\r\n  ].join(':');\r\n}\r\n\r\nexport function slicePositionToRank({channel, zStack, time}, image) {\r\n  return channel + image.channels * (zStack + image.depth * time);\r\n}\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"image-details-wrapper\">\r\n  <table class=\"table\">\r\n    <tbody>\r\n      <tr v-if=\"isPropDisplayed('overview')\">\r\n        <td class=\"prop-label\">{{$t('overview')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <router-link :to=\"`/project/${image.project}/image/${image.id}`\">\r\n            <image-thumbnail :image=\"image\" :size=\"256\" :key=\"`${image.id}-thumb-256`\" :extra-parameters=\"{Authorization: 'Bearer ' + shortTermToken }\"/>\r\n          </router-link>\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('id') && currentUser.isDeveloper\">\r\n        <td class=\"prop-label\">{{$t('id')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">{{image.id}}</td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('status')\">\r\n        <td class=\"prop-label\">{{$t('status')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <image-status :image=\"image\" />\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('numberOfAnnotations')\">\r\n        <td class=\"prop-label\">{{$t('user-annotations')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=user`\">\r\n            {{ image.numberOfAnnotations }}\r\n          </router-link>\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('numberOfJobAnnotations')\">\r\n        <td class=\"prop-label\">{{$t('analysis-annotations')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=algo`\">\r\n            {{ image.numberOfJobAnnotations }}\r\n          </router-link>\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('numberOfReviewedAnnotations')\">\r\n        <td class=\"prop-label\">{{$t('reviewed-annotations')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=reviewed`\">\r\n            {{ image.numberOfReviewedAnnotations }}\r\n          </router-link>\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('description')\">\r\n        <td class=\"prop-label\">{{$t('description')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <cytomine-description :object=\"image\" :canEdit=\"canEdit\" />\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('tags')\">\r\n        <td class=\"prop-label\">{{$t('tags')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <cytomine-tags :object=\"image\" :canEdit=\"canEdit\" />\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('properties')\">\r\n        <td class=\"prop-label\">{{$t('properties')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <cytomine-properties \r\n            :object=\"image\"\r\n            :error=\"loadPropertiesError\"\r\n            :canEdit=\"canEdit\"\r\n            :properties=\"metadataFilteredProperties\"\r\n            @deleted=\"removeProp\"\r\n            @added=\"addProp\"\r\n          />\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('attached-files')\">\r\n        <td class=\"prop-label\">{{$t('attached-files')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <attached-files :object=\"image\" :canEdit=\"canEdit\" />\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('slide-preview')\">\r\n        <td class=\"prop-label\">{{$t('slide-preview')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <a v-if=\"image.macroURL && !isBlindModeAndContributor\" @click=\"isMetadataModalActive = true\">\r\n            <image-thumbnail :image=\"image\" :macro=\"true\" :size=\"256\" :key=\"`${image.id}-macro-256`\" :extra-parameters=\"{Authorization: 'Bearer ' + shortTermToken }\"/>\r\n          </a>\r\n          <em v-else>\r\n            {{$t('slide-preview-not-available')}}\r\n          </em>\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('original-filename') && (!blindMode || canManageProject)\">\r\n        <td class=\"prop-label\">{{$t('originalFilename')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          {{image.originalFilename}}\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('format')\">\r\n        <td class=\"prop-label\">{{$t('format')}}</td>\r\n        <td class=\"prop-content format\" colspan=\"3\">\r\n          {{image.contentType}}\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('vendor')\">\r\n        <td class=\"prop-label\">{{$t('vendor')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <img v-if=\"vendor\" :src=\"vendor.imgPath\" :alt=\"vendor.name\" :title=\"vendor.name\" class=\"vendor-img\">\r\n          <template v-else>{{$t('unknown')}}</template>\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('width') || isPropDisplayed('physicalSizeX')\">\r\n        <template v-if=\"isPropDisplayed('width')\">\r\n          <td class=\"prop-label\">{{$t(\"image-width\")}}</td>\r\n          <td class=\"prop-content-half\" :colspan=\"isPropDisplayed('physicalSizeX') ? 1 : 3\">\r\n            {{image.width}} {{$t(\"pixels\")}}\r\n            <template v-if=\"image.physicalSizeX\">({{(image.width * image.physicalSizeX).toFixed(3)}} {{$t(\"um\")}})</template>\r\n          </td>\r\n        </template>\r\n        <template v-if=\"isPropDisplayed('physicalSizeX')\">\r\n          <td class=\"prop-label\">{{$t(\"x-y-resolution\")}}</td>\r\n          <td class=\"prop-content-half\" :colspan=\"isPropDisplayed('width') ? 1 : 3\">\r\n            <template v-if=\"image.physicalSizeX\">{{image.physicalSizeX.toFixed(3)}} {{$t(\"um-per-pixel\")}}</template>\r\n            <template v-else>{{$t(\"unknown\")}}</template>\r\n          </td>\r\n        </template>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('height') || isPropDisplayed('physicalSizeY')\">\r\n        <template v-if=\"isPropDisplayed('height')\">\r\n          <td class=\"prop-label\">{{$t(\"image-height\")}}</td>\r\n          <td class=\"prop-content-half\" :colspan=\"isPropDisplayed('physicalSizeY') ? 1 : 3\">\r\n            {{image.height}} {{$t(\"pixels\")}}\r\n            <template v-if=\"image.physicalSizeY\">({{(image.height * image.physicalSizeY).toFixed(3)}} {{$t(\"um\")}})</template>\r\n          </td>\r\n        </template>\r\n        <template v-if=\"isPropDisplayed('physicalSizeY')\">\r\n          <!-- We don't support diff X&Y yet in some components uncomment to bring back -->\r\n          <!-- <td class=\"prop-label\">{{$t(\"y-resolution\")}}</td> -->\r\n          <td class=\"prop-label\"></td>\r\n          <td class=\"prop-content-half\" :colspan=\"isPropDisplayed('height') ? 1 : 3\">\r\n            <!-- <template v-if=\"image.physicalSizeY\">{{image.physicalSizeY.toFixed(3)}} {{$t(\"um-per-pixel\")}}</template>\r\n            <template v-else>{{$t(\"unknown\")}}</template> -->\r\n          </td>\r\n        </template>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('depth') || isPropDisplayed('physicalSizeZ')\">\r\n        <template v-if=\"isPropDisplayed('depth')\">\r\n          <td class=\"prop-label\">{{$t(\"image-depth\")}}</td>\r\n          <td class=\"prop-content-half\" :colspan=\"isPropDisplayed('physicalSizeZ') ? 1 : 3\">\r\n            {{$tc(\"count-slices\", image.depth, {count: image.depth})}}\r\n            <template v-if=\"image.physicalSizeZ\">({{(image.depth * image.physicalSizeZ).toFixed(3)}} {{$t(\"um\")}})</template>\r\n          </td>\r\n        </template>\r\n        <template v-if=\"isPropDisplayed('physicalSizeZ')\">\r\n          <td class=\"prop-label\">{{$t(\"z-resolution\")}}</td>\r\n          <td class=\"prop-content-half\" :colspan=\"isPropDisplayed('depth') ? 1 : 3\">\r\n            <template v-if=\"image.physicalSizeZ\">{{image.physicalSizeZ.toFixed(3)}} {{$t(\"um-per-slice\")}}</template>\r\n            <template v-else-if=\"image.depth < 2\">-</template>\r\n            <template v-else>{{$t(\"unknown\")}}</template>\r\n          </td>\r\n        </template>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('time') || isPropDisplayed('fps')\">\r\n        <template v-if=\"isPropDisplayed('time')\">\r\n          <td class=\"prop-label\">{{$t(\"image-time\")}}</td>\r\n          <td class=\"prop-content-half\" :colspan=\"isPropDisplayed('fps') ? 1 : 3\">\r\n            {{$tc(\"count-frames\", image.duration, {count: image.duration})}}\r\n            <template v-if=\"image.fps && image.duration > 0\">\r\n              ({{formatMinutesSeconds(image.duration / image.fps)}})\r\n            </template>\r\n          </td>\r\n        </template>\r\n        <template v-if=\"isPropDisplayed('fps')\">\r\n          <td class=\"prop-label\">{{$t(\"frame-rate\")}}</td>\r\n          <td class=\"prop-content-half\" :colspan=\"isPropDisplayed('time') ? 1 : 3\">\r\n            <template v-if=\"image.fps\">{{image.fps.toFixed(3)}} {{$t(\"frame-per-second\")}}</template>\r\n            <template v-else-if=\"image.time < 2\">-</template>\r\n            <template v-else>{{$t(\"unknown\")}}</template>\r\n          </td>\r\n        </template>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('channels')\">\r\n        <td class=\"prop-label\">{{$t(\"image-channels\")}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          {{$tc(\"count-bands\", image.apparentChannels, {count: image.apparentChannels})}}\r\n          ({{image.channels}} x {{image.samplePerPixel}})\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('size')\">\r\n        <td class=\"prop-label\">{{$t('image-size')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          {{`${image.width} x ${image.height} ${$t('pixels')}`}}\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"isPropDisplayed('magnification')\">\r\n        <td class=\"prop-label\">{{$t('magnification')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <template v-if=\"image.magnification\">{{image.magnification}}</template>\r\n          <template v-else>{{$t('unknown')}}</template>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td class=\"prop-label\">{{$t('actions')}}</td>\r\n        <td class=\"prop-content\" colspan=\"3\">\r\n          <div class=\"buttons are-small\">\r\n            <button v-if=\"isPropDisplayed('metadata') && !isBlindModeAndContributor\" class=\"button\" @click=\"isMetadataModalActive = true\">\r\n              {{$t('button-metadata')}}\r\n            </button>\r\n            <template v-if=\"canEdit\">\r\n\r\n              <router-link\r\n                v-if=\"!image.reviewed && !image.inReview\"\r\n                :to=\"`/project/${image.project}/image/${image.id}?action=review`\"\r\n                class=\"button\"\r\n              >\r\n                {{$t('button-start-review')}}\r\n              </router-link>\r\n\r\n              <template v-else-if=\"image.reviewUser === currentUser.id\">\r\n                <button v-if=\"image.reviewed\" class=\"button\" @click=\"cancelReview()\">\r\n                  {{$t('button-unvalidate-review')}}\r\n                </button>\r\n                <template v-else>\r\n                  <router-link :to=\"`/project/${image.project}/image/${image.id}?action=review`\" class=\"button\">\r\n                    {{$t('button-continue-review')}}\r\n                  </router-link>\r\n                  <button class=\"button\" @click=\"cancelReview()\">\r\n                    {{$t('button-cancel-review')}}\r\n                  </button>\r\n                </template>\r\n              </template>\r\n\r\n              <button v-if=\"!blindMode || canManageProject\" class=\"button\" @click=\"isRenameModalActive = true\">\r\n                {{$t('button-rename')}}\r\n              </button>\r\n              <button class=\"button\" @click=\"isCalibrationModalActive = true\">\r\n                {{$t('button-set-calibration')}}\r\n              </button>\r\n              <button class=\"button\" @click=\"isMagnificationModalActive = true\">\r\n                {{$t('button-set-magnification')}}\r\n              </button>\r\n            </template>\r\n            <a class=\"button\" v-if=\"canDownloadImages || canManageProject\" @click=\"download(image)\">\r\n              {{$t('button-download')}}\r\n            </a>\r\n            <template v-if=\"canEdit\">\r\n              <button class=\"button is-danger\" @click=\"confirmDeletion()\">\r\n                {{$t('button-delete')}}\r\n              </button>\r\n            </template>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n  <rename-modal\r\n    :title=\"$t('rename-image')\"\r\n    :currentName=\"image.instanceFilename\"\r\n    :active.sync=\"isRenameModalActive\"\r\n    @rename=\"rename\"\r\n  />\r\n\r\n  <magnification-modal\r\n    :image=\"image\"\r\n    :active.sync=\"isMagnificationModalActive\"\r\n    @setMagnification=\"(event) => $emit('setMagnification', event)\"\r\n  />\r\n\r\n  <calibration-modal\r\n    :image=\"image\"\r\n    :active.sync=\"isCalibrationModalActive\"\r\n    @setResolution=\"(event) => $emit('setResolution', event)\"\r\n  />\r\n\r\n  <image-metadata-modal\r\n    :active.sync=\"isMetadataModalActive\"\r\n    :image=\"image\"\r\n    :properties=\"onlyMetadataProperties\"\r\n    :error=\"loadPropertiesError\"\r\n  />\r\n</div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport CytomineDescription from '@/components/description/CytomineDescription';\r\nimport CytomineProperties from '@/components/property/CytomineProperties';\r\nimport CytomineTags from '@/components/tag/CytomineTags';\r\nimport AttachedFiles from '@/components/attached-file/AttachedFiles';\r\nimport MagnificationModal from './MagnificationModal';\r\nimport CalibrationModal from './CalibrationModal';\r\nimport ImageMetadataModal from './ImageMetadataModal';\r\nimport ImageStatus from './ImageStatus';\r\nimport RenameModal from '@/components/utils/RenameModal';\r\nimport ImageThumbnail from '@/components/image/ImageThumbnail';\r\n\r\nimport {formatMinutesSeconds} from '@/utils/slice-utils.js';\r\n\r\nimport {ImageInstance} from 'cytomine-client';\r\n\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\n\r\nimport vendorFromFormat from '@/utils/vendor';\r\nimport {PropertyCollection} from 'cytomine-client';\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'image-details',\r\n  components: {\r\n    ImageThumbnail,\r\n    CytomineDescription,\r\n    CytomineTags,\r\n    CytomineProperties,\r\n    AttachedFiles,\r\n    MagnificationModal,\r\n    CalibrationModal,\r\n    ImageMetadataModal,\r\n    ImageStatus,\r\n    RenameModal\r\n  },\r\n  props: {\r\n    image: {type: Object},\r\n    excludedProperties: {type: Array, default: () => []},\r\n    editable: {type: Boolean, default: false}\r\n  },\r\n  data() {\r\n    return {\r\n      isRenameModalActive: false,\r\n      isCalibrationModalActive: false,\r\n      isMagnificationModalActive: false,\r\n      isMetadataModalActive: false,\r\n      properties: [],\r\n      loadPropertiesError: false\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    configUI: get('currentProject/configUI'),\r\n    project: get('currentProject/project'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    blindMode() {\r\n      return ((this.project || {}).blindMode) || false;\r\n    },\r\n    canDownloadImages() {\r\n      // Virtual images (null path) cannot be downloaded.\r\n      return this.image.path !== null && (\r\n        this.canManageProject ||\r\n        ((this.project || {}).areImagesDownloadable) || false\r\n      );\r\n    },\r\n    canManageProject() {\r\n      return this.$store.getters['currentProject/canManageProject'];\r\n    },\r\n    canEdit() {\r\n      return this.editable && this.$store.getters['currentProject/canEditImage'](this.image);\r\n    },\r\n    imageNameNotif() {\r\n      return this.blindMode ? this.image.blindedName : this.image.instanceFilename;\r\n    },\r\n    vendor() {\r\n      return vendorFromFormat(this.image.contentType);\r\n    },\r\n    internalUseFilteredProperties() {\r\n      return this.properties.filter(prop => !prop.key.startsWith(constants.PREFIX_HIDDEN_PROPERTY_KEY));\r\n    },\r\n    metadataFilteredProperties() {\r\n      let props = this.internalUseFilteredProperties.filter(prop => {\r\n        for (const key in constants.METADATA_PREFIXES) {\r\n          if (prop.key.startsWith(constants.METADATA_PREFIXES[key])) {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      });\r\n      return props\r\n    },\r\n    onlyMetadataProperties() {\r\n      let props = this.internalUseFilteredProperties.filter(prop => {\r\n        for (const key in constants.METADATA_PREFIXES) {\r\n          if (prop.key.startsWith(constants.METADATA_PREFIXES[key])) {\r\n            return true;\r\n          }\r\n        }\r\n        return false;\r\n      });\r\n      // We sort the properties to improve ease of use in the metadata modal\r\n      return props.sort((a, b) => a.key.localeCompare(b.key));\r\n    },\r\n    /**\r\n     * BLIND   MANAGER    RESULT\r\n     * 0       0          1\r\n     * 0       1          1\r\n     * 1       0          0\r\n     * 1       1          1\r\n     */\r\n    isBlindModeAndContributor() {\r\n      return this.blindMode && !this.canManageProject; \r\n    }\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    isPropDisplayed(prop) {\r\n      return !this.excludedProperties.includes(prop) && (this.configUI[`project-explore-image-${prop}`] == null || this.configUI[`project-explore-image-${prop}`]);\r\n    },\r\n    download(image) {\r\n      window.location.assign(appendShortTermToken(image.downloadURL, this.shortTermToken), '_blank');\r\n    },\r\n    async cancelReview() {\r\n      let errorLabel = this.image.reviewed ? 'notif-error-unvalidate-review' : 'notif-error-cancel-review';\r\n      try {\r\n        await this.image.stopReview(true);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t(errorLabel)});\r\n      }\r\n    },\r\n\r\n    async rename(newName) {\r\n      let oldName = this.image.instanceFilename;\r\n      try {\r\n        this.image.instanceFilename = newName;\r\n        await this.image.save();\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-image-rename', {imageName: this.image.instanceFilename})\r\n        });\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-image-rename', {imageName: oldName})\r\n        });\r\n      }\r\n      this.isRenameModalActive = false;\r\n    },\r\n\r\n    confirmDeletion() {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('delete-image'),\r\n        message: this.$t('delete-image-confirmation-message', {imageName: this.imageNameNotif}),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: this.deleteImage\r\n      });\r\n    },\r\n    async deleteImage() {\r\n      try {\r\n        await ImageInstance.delete(this.image.id);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-image-deletion', {imageName: this.imageNameNotif})\r\n        });\r\n        this.$emit('delete');\r\n\r\n        let updatedProject = this.project.clone();\r\n        updatedProject.numberOfImages--;\r\n        this.$store.dispatch('currentProject/updateProject', updatedProject);\r\n      }\r\n      catch(err) {\r\n        console.log(err);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-image-deletion', {imageName: this.imageNameNotif})\r\n        });\r\n      }\r\n    },\r\n    formatMinutesSeconds(time) {\r\n      return formatMinutesSeconds(time);\r\n    },\r\n    removeProp(prop) {\r\n      this.properties = this.properties.filter(p => p.id !== prop.id);\r\n    },\r\n    addProp(prop) {\r\n      this.properties.push(prop);\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      this.properties = (await PropertyCollection.fetchAll({ object: this.image })).array;\r\n    }\r\n    catch (error) {\r\n      this.loadPropertiesError = true;\r\n      console.log(error);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n  background: none;\r\n  position: relative;\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\ntd.prop-label {\r\n  white-space: nowrap;\r\n  font-weight: 600;\r\n}\r\n\r\ntd.prop-content {\r\n  width: 100%;\r\n}\r\n\r\ntd.prop-content-half {\r\n  width: 50%;\r\n}\r\n\r\n.format {\r\n  text-transform: uppercase;\r\n}\r\n\r\n.vendor-img {\r\n  max-height: 4rem;\r\n  max-width: 12rem;\r\n}\r\n\r\n::v-deep .image-thumbnail {\r\n  max-height: 18rem;\r\n  max-width: 50vw;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageDetails.vue?vue&type=template&id=6cc541f6&scoped=true&\"\nimport script from \"./ImageDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageDetails.vue?vue&type=style&index=0&id=6cc541f6&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6cc541f6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('add-images')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}}},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[[_c('b-input',{staticClass:\"search-images\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('cytomine-table',{attrs:{\"collection\":_vm.imageCollection,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"detailed\":false},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function({row: image}){return [_c('b-table-column',{attrs:{\"label\":_vm.$t('overview')}},[_c('image-thumbnail',{key:`${image.id}-thumb-128`,attrs:{\"image\":image,\"size\":128,\"extra-parameters\":{Authorization: 'Bearer ' + _vm.shortTermToken }}})],1),_c('b-table-column',{attrs:{\"field\":\"originalFilename\",\"label\":_vm.$t('name'),\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(image.originalFilename)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"created\",\"label\":_vm.$t('created-on'),\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(image.created),'ll LT'))+\" \")]),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\"}},[(_vm.wasAdded(image))?_c('button',{staticClass:\"button is-small is-link\",attrs:{\"disabled\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('button-added'))+\" \")]):(_vm.isInProject(image))?_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('already-in-project'))+\" \")]):_c('button',{staticClass:\"button is-small is-link\",on:{\"click\":function($event){return _vm.addImage(image)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")])])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-image')))])])]},proxy:true}],null,false,936165728)})]]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<cytomine-modal :active=\"active\" :title=\"$t('add-images')\" @close=\"$emit('update:active', false)\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\r\n  <template v-if=\"!loading\">\r\n    <template>\r\n      <b-input class=\"search-images\" v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\"\r\n      type=\"search\" icon=\"search\" />\r\n\r\n      <cytomine-table\r\n        :collection=\"imageCollection\"\r\n        :currentPage.sync=\"currentPage\"\r\n        :perPage.sync=\"perPage\"\r\n        :sort.sync=\"sortField\"\r\n        :order.sync=\"sortOrder\"\r\n        :detailed=\"false\"\r\n      >\r\n        <template #default=\"{row: image}\">\r\n          <b-table-column :label=\"$t('overview')\">\r\n            <image-thumbnail :image=\"image\" :size=\"128\" :key=\"`${image.id}-thumb-128`\" :extra-parameters=\"{Authorization: 'Bearer ' + shortTermToken }\"/>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"originalFilename\" :label=\"$t('name')\" sortable>\r\n            {{ image.originalFilename }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"created\" :label=\"$t('created-on')\" sortable>\r\n            {{ Number(image.created) | moment('ll LT') }}\r\n          </b-table-column>\r\n\r\n          <b-table-column label=\" \" centered>\r\n            <button v-if=\"wasAdded(image)\" class=\"button is-small is-link\" disabled>\r\n              {{$t('button-added')}}\r\n            </button>\r\n            <span v-else-if=\"isInProject(image)\">\r\n              {{$t('already-in-project')}}\r\n            </span>\r\n            <button v-else class=\"button is-small is-link\" @click=\"addImage(image)\">\r\n              {{$t('button-add')}}\r\n            </button>\r\n          </b-table-column>\r\n        </template>\r\n\r\n        <template #empty>\r\n          <div class=\"content has-text-grey has-text-centered\">\r\n            <p>{{$t('no-image')}}</p>\r\n          </div>\r\n        </template>\r\n      </cytomine-table>\r\n    </template>\r\n  </template>\r\n</cytomine-modal>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {AbstractImageCollection, ImageInstance} from 'cytomine-client';\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\nimport CytomineTable from '@/components/utils/CytomineTable';\r\nimport ImageThumbnail from '@/components/image/ImageThumbnail';\r\n\r\nexport default {\r\n  name: 'add-image-modal',\r\n  props: {\r\n    active: Boolean,\r\n  },\r\n  components: {\r\n    ImageThumbnail,\r\n    CytomineTable,\r\n    CytomineModal\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      perPage: 10,\r\n      searchString: '',\r\n      idsAddedImages: [],\r\n      currentPage: 1,\r\n      sortField: 'created',\r\n      sortOrder: 'desc',\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    imageCollection() {\r\n      let collection = new AbstractImageCollection({\r\n        project: this.project.id,\r\n      });\r\n      if(this.searchString) {\r\n        collection['originalFilename'] = {\r\n          ilike: encodeURIComponent(this.searchString)\r\n        };\r\n      }\r\n\r\n      return collection;\r\n    },\r\n  },\r\n  watch: {\r\n    active(val) {\r\n      if(val) {\r\n        this.idsAddedImages = [];\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async addImage(abstractImage) {\r\n      let propsTranslation = {imageName: abstractImage.originalFilename, projectName: this.project.name};\r\n      try {\r\n        let image = await new ImageInstance({baseImage: abstractImage.id, project: this.project.id}).save();\r\n        this.idsAddedImages.push(abstractImage.id);\r\n        this.$emit('addImage', image);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-add-image', propsTranslation)\r\n        });\r\n\r\n        let updatedProject = this.project.clone();\r\n        updatedProject.numberOfImages++;\r\n        this.$store.dispatch('currentProject/updateProject', updatedProject);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-add-image', propsTranslation)\r\n        });\r\n      }\r\n    },\r\n    isInProject(image) {\r\n      return image.inProject;\r\n    },\r\n    wasAdded(image) {\r\n      return this.idsAddedImages.includes(image.id);\r\n    }\r\n  },\r\n  async created() {\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n>>> .animation-content {\r\n  max-width: 60% !important;\r\n  width: 60%;\r\n}\r\n\r\n>>> .modal-card {\r\n  width: 100%;\r\n  height: 80vh;\r\n}\r\n\r\n>>> .image-thumbnail {\r\n  max-height: 4rem;\r\n  max-width: 10rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddImageModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddImageModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddImageModal.vue?vue&type=template&id=48f99de6&scoped=true&\"\nimport script from \"./AddImageModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddImageModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddImageModal.vue?vue&type=style&index=0&id=48f99de6&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48f99de6\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box error\" v-if=\"!configUI['project-images-tab']\">\r\n  <h2> {{ $t('access-denied') }} </h2>\r\n  <p>{{ $t('insufficient-permission') }}</p>\r\n</div>\r\n<div class=\"box error\" v-else-if=\"error\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p>{{ $t('unexpected-error-info-message') }}</p>\r\n</div>\r\n<div v-else class=\"content-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <div v-if=\"!loading\" class=\"panel\">\r\n    <p class=\"panel-heading\">\r\n      {{$t('images')}}\r\n      <button v-if=\"canAddImage\" class=\"button is-link\" @click=\"addImageModal = true\">\r\n        {{$t('button-add-image')}}\r\n      </button>\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <div class=\"search-block\">\r\n        <b-input\r\n          class=\"search-images\"\r\n          v-model=\"searchString\"\r\n          :placeholder=\"$t('search-placeholder')\"\r\n          type=\"search\" icon=\"search\"\r\n        />\r\n        <button class=\"button\" @click=\"toggleFilterDisplay()\">\r\n          <span class=\"icon\">\r\n            <i class=\"fas fa-filter\"></i>\r\n          </span>\r\n          <span>\r\n            {{filtersOpened ? $t('button-hide-filters') : $t('button-show-filters')}}\r\n          </span>\r\n          <span v-if=\"nbActiveFilters\" class=\"nb-active-filters\">\r\n            {{nbActiveFilters}}\r\n          </span>\r\n        </button>\r\n      </div>\r\n\r\n      <metadata-search\r\n        v-if=\"filtersOpened\"\r\n        :formats=\"availableFormats\"\r\n        :image-ids=\"imageIds\"\r\n        :magnifications=\"availableMagnifications\"\r\n        :max-height=\"maxHeight\"\r\n        :max-width=\"maxWidth\"\r\n        :max-nb-job-annotations=\"maxNbJobAnnotations\"\r\n        :max-nb-reviewed-annotations=\"maxNbReviewedAnnotations\"\r\n        :max-nb-user-annotations=\"maxNbUserAnnotations\"\r\n        :metadata=\"metadata\"\r\n        :resolutions=\"availableResolutions\"\r\n        :tags=\"availableTags\"\r\n        :vendors=\"availableVendors\"\r\n      />\r\n\r\n      <cytomine-table\r\n        :collection=\"imageCollection\"\r\n        :is-empty=\"nbEmptyFilters > 0\"\r\n        :currentPage.sync=\"currentPage\"\r\n        :perPage.sync=\"perPage\"\r\n        :openedDetailed.sync=\"openedDetails\"\r\n        :sort.sync=\"sortField\"\r\n        :order.sync=\"sortOrder\"\r\n        :revision=\"revision\"\r\n      >\r\n        <template #default=\"{row: image}\">\r\n          <b-table-column :label=\"$t('overview')\" width=\"100\" :visible=\"isPropDisplayed('overview')\">\r\n            <router-link :to=\"`/project/${image.project}/image/${image.id}`\">\r\n              <image-thumbnail :image=\"image\" :size=\"128\" :key=\"`${image.id}-thumb-128`\" :extra-parameters=\"{Authorization: 'Bearer ' + shortTermToken }\"/>\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column\r\n            :field=\"blindMode ? 'blindedName' : 'instanceFilename'\"\r\n            :label=\"$t('name')\"\r\n            sortable\r\n            width=\"400\"\r\n          >\r\n            <router-link :to=\"`/project/${image.project}/image/${image.id}`\">\r\n              <image-name :image=\"image\" showBothNames />\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"magnification\" :label=\"$t('magnification')\" centered sortable width=\"100\">\r\n            {{ image.magnification || $t('unknown') }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"numberOfAnnotations\" :label=\"$t('user-annotations')\" centered sortable width=\"100\">\r\n            <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=user`\">\r\n              {{ image.numberOfAnnotations }}\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"numberOfJobAnnotations\" :label=\"$t('analysis-annotations')\" centered sortable width=\"100\">\r\n            <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=algo`\">\r\n              {{ image.numberOfJobAnnotations }}\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"numberOfReviewedAnnotations\" :label=\"$t('reviewed-annotations')\" centered sortable width=\"100\">\r\n            <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=reviewed`\">\r\n              {{ image.numberOfReviewedAnnotations }}\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column label=\" \" centered width=\"150\">\r\n            <router-link :to=\"`/project/${image.project}/image/${image.id}`\" class=\"button is-small is-link\">\r\n              {{$t('button-open')}}\r\n            </router-link>\r\n          </b-table-column>\r\n        </template>\r\n\r\n        <template #detail=\"{row: image}\">\r\n          <image-details\r\n            :image=\"image\"\r\n            :excludedProperties=\"excludedProperties\"\r\n            editable\r\n            @delete=\"refreshData\"\r\n            @setResolution=\"refreshData\"\r\n            @setMagnification=\"refreshData\"\r\n          />\r\n        </template>\r\n\r\n        <template #empty>\r\n          <div class=\"content has-text-grey has-text-centered\">\r\n            <p>{{$t('no-image')}}</p>\r\n          </div>\r\n        </template>\r\n      </cytomine-table>\r\n    </div>\r\n\r\n    <add-image-modal :active.sync=\"addImageModal\" @addImage=\"refreshData\" />\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get, sync, syncMultiselectFilter, syncBoundsFilter} from '@/utils/store-helpers';\r\n\r\nimport CytomineTable from '@/components/utils/CytomineTable';\r\nimport MetadataSearch from '@/components/search/MetadataSearch';\r\nimport ImageName from './ImageName';\r\nimport ImageDetails from './ImageDetails';\r\nimport AddImageModal from './AddImageModal';\r\nimport vendorFromFormat from '@/utils/vendor';\r\n\r\nimport {ImageInstanceCollection, PropertyCollection, TagCollection} from 'cytomine-client';\r\nimport ImageThumbnail from '@/components/image/ImageThumbnail';\r\n\r\n// store options to use with store helpers to target projects/currentProject/listImages module\r\nconst storeOptions = {rootModuleProp: 'storeModule'};\r\n// redefine helpers to use storeOptions and correct module path\r\nconst localSyncMultiselectFilter = (filterName, options) => syncMultiselectFilter(null, filterName, options, storeOptions);\r\nconst localSyncBoundsFilter = (filterName, maxProp) => syncBoundsFilter(null, filterName, maxProp, storeOptions);\r\n\r\nexport default {\r\n  name: 'list-images',\r\n  components: {\r\n    ImageThumbnail,\r\n    ImageName,\r\n    ImageDetails,\r\n    CytomineTable,\r\n    AddImageModal,\r\n    MetadataSearch,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n      images: [],\r\n      metadata: {},\r\n      filteredImageIDs: [],\r\n      addImageModal: false,\r\n      excludedProperties: [\r\n        'overview',\r\n        'instanceFilename',\r\n        'magnification',\r\n        'numberOfAnnotations',\r\n        'numberOfJobAnnotations',\r\n        'numberOfReviewedAnnotations',\r\n        'size'\r\n      ],\r\n      availableFormats: [],\r\n      availableVendors: [],\r\n      availableMagnifications: [],\r\n      availableResolutions: [],\r\n      availableTags:[],\r\n      maxWidth: 100,\r\n      maxHeight: 100,\r\n      maxNbUserAnnotations: 100,\r\n      maxNbJobAnnotations: 100,\r\n      maxNbReviewedAnnotations: 100,\r\n      revision: 0\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    configUI: get('currentProject/configUI'),\r\n    project: get('currentProject/project'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    blindMode() {\r\n      return this.project.blindMode;\r\n    },\r\n    canManageProject() {\r\n      return this.$store.getters['currentProject/canManageProject'];\r\n    },\r\n    canAddImage() {\r\n      return !this.currentUser.guestByNow && (this.canManageProject || !this.project.isReadOnly);\r\n    },\r\n\r\n    storeModule() { // path to the vuex module in which state of this component is stored (projects/currentProject/listImages)\r\n      return this.$store.getters['currentProject/currentProjectModule'] + 'listImages';\r\n    },\r\n\r\n    searchString: sync('searchString', {...storeOptions, debounce: 500}),\r\n    filtersOpened: sync('filtersOpened', storeOptions),\r\n\r\n    querySearchTags() {\r\n      return this.$route.query.tags;\r\n    },\r\n    selectedFormats: localSyncMultiselectFilter('formats', 'availableFormats'),\r\n    selectedVendors: localSyncMultiselectFilter('vendors', 'availableVendors'),\r\n    selectedTags: localSyncMultiselectFilter('selectedTags', 'availableTags'),\r\n    selectedMagnifications: localSyncMultiselectFilter('magnifications', 'availableMagnifications'),\r\n    selectedResolutions: localSyncMultiselectFilter('resolutions', 'availableResolutions'),\r\n    boundsWidth: localSyncBoundsFilter('boundsWidth', 'maxWidth'),\r\n    boundsHeight: localSyncBoundsFilter('boundsHeight', 'maxHeight'),\r\n    boundsUserAnnotations: localSyncBoundsFilter('boundsUserAnnotations', 'maxNbUserAnnotations'),\r\n    boundsJobAnnotations: localSyncBoundsFilter('boundsJobAnnotations', 'maxNbJobAnnotations'),\r\n    boundsReviewedAnnotations: localSyncBoundsFilter('boundsReviewedAnnotations', 'maxNbReviewedAnnotations'),\r\n\r\n    multiSelectFilters() {\r\n      return [\r\n        {prop: 'contentType', selected: this.selectedContentTypes, total: this.availableFormats.length},\r\n        {prop: 'vendor', selected: this.selectedVendors.map(option => option.value), total: this.availableVendors.length},\r\n        {prop: 'magnification', selected: this.selectedMagnifications.map(option => option.value), total: this.availableMagnifications.length},\r\n        {prop: 'physicalSizeX', selected: this.selectedResolutions.map(option => option.value), total: this.availableResolutions.length},\r\n        {prop: 'tag', selected: this.selectedTags.map(option => option.id), total: this.availableTags.length}\r\n      ];\r\n    },\r\n\r\n    selectedContentTypes() {\r\n      let selectedVendors = this.selectedVendors.map(option => option.value);\r\n      let availableVendors = this.availableVendors.map(option => option.value);\r\n      let allowUnknown = selectedVendors.includes('null');\r\n      return this.selectedFormats.filter(ct => (availableVendors.includes(ct)) ? selectedVendors.includes(ct) : allowUnknown);\r\n    },\r\n\r\n    boundsFilters() {\r\n      return [\r\n        {prop: 'width', bounds: this.boundsWidth, max: this.maxWidth},\r\n        {prop: 'height', bounds: this.boundsHeight, max: this.maxHeight},\r\n        {prop: 'numberOfAnnotations', bounds: this.boundsUserAnnotations, max: this.maxNbUserAnnotations},\r\n        {prop: 'numberOfJobAnnotations', bounds: this.boundsJobAnnotations, max: this.maxNbJobAnnotations},\r\n        {prop: 'numberOfReviewedAnnotations', bounds: this.boundsReviewedAnnotations, max: this.maxNbReviewedAnnotations},\r\n      ];\r\n    },\r\n\r\n    imageCollection() {\r\n      let collection = new ImageInstanceCollection({\r\n        filterKey: 'project',\r\n        filterValue: this.project.id,\r\n      });\r\n      if(this.searchString) {\r\n        collection['name'] = {\r\n          ilike: encodeURIComponent(this.searchString)\r\n        };\r\n      }\r\n      for(let {prop, bounds, max} of this.boundsFilters) {\r\n        collection[prop] = {};\r\n        if (bounds[1]!==max) {\r\n          // if max bounds is the max possible value, do not set the filter in the request\r\n          // so that if an event (ex: algo creates an annotation) happens between the bounds request and the query request\r\n          // the image will not be skipped from the result\r\n          collection[prop] = {\r\n            lte: bounds[1]\r\n          };\r\n        }\r\n        if(bounds[0] > 0) collection[prop]['gte'] = bounds[0];\r\n      }\r\n      for(let {prop, selected, total} of this.multiSelectFilters) {\r\n        if(selected.length > 0 && selected.length < total) {\r\n          collection[prop] = {\r\n            in: selected.join()\r\n          };\r\n        }\r\n      }\r\n\r\n      let filteredIDs = [];\r\n      this.selectedFormats.forEach(format => filteredIDs = filteredIDs.concat(this.filteredImageIDs[format]));\r\n      if (filteredIDs.length === 0) {\r\n        for (let ids of Object.values(this.filteredImageIDs)) {\r\n          filteredIDs = filteredIDs.concat(ids);\r\n        }\r\n      }\r\n\r\n      if (filteredIDs.length > 0) {\r\n        collection['include'] = {\r\n          in: filteredIDs.join(',')\r\n        };\r\n      }\r\n\r\n      return collection;\r\n    },\r\n\r\n    imageIds() {\r\n      let ids = {};\r\n      this.availableFormats.forEach(format => ids[format] = []);\r\n      this.images.forEach(image => ids[image.contentType].push(image.baseImage));\r\n\r\n      return ids;\r\n    },\r\n\r\n    nbActiveFilters() {\r\n      return this.$store.getters[this.storeModule + '/nbActiveFilters'];\r\n    },\r\n    nbEmptyFilters() {\r\n      return this.$store.getters[this.storeModule + '/nbEmptyFilters'] + ((this.selectedContentTypes.length > 0) ? 0 : 1);\r\n    },\r\n\r\n    currentPage: sync('currentPage', storeOptions),\r\n    perPage: sync('perPage', storeOptions),\r\n    sortField: sync('sortField', storeOptions),\r\n    sortOrder: sync('sortOrder', storeOptions),\r\n    openedDetails: sync('openedDetails', storeOptions)\r\n  },\r\n  methods: {\r\n    async fetchFilters() {\r\n      let stats = await new ImageInstanceCollection.fetchBounds({project: this.project.id});\r\n      this.maxWidth = Math.max(100, stats.width.max);\r\n      this.maxHeight = Math.max(100, stats.height.max);\r\n      this.maxNbUserAnnotations = Math.max(100, stats.countImageAnnotations.max);\r\n      this.maxNbJobAnnotations = Math.max(100, stats.countImageJobAnnotations.max);\r\n      this.maxNbReviewedAnnotations = Math.max(100, stats.countImageReviewedAnnotations.max);\r\n\r\n\r\n      this.availableFormats = stats.format.list;\r\n\r\n      stats.format.list.forEach(format => {\r\n        let vendor = vendorFromFormat(format);\r\n        let vendorFormatted = {\r\n          value: vendor ? format : 'null',\r\n          label: vendor ? vendor.name : this.$t('unknown')\r\n        };\r\n\r\n        if (!this.availableVendors.find(vendor => vendor.value === vendorFormatted.value)) {\r\n          this.availableVendors.push(vendorFormatted);\r\n        }\r\n\r\n        this.filteredImageIDs[format] = [];\r\n      });\r\n\r\n      this.availableMagnifications = stats.magnification.list.map(m => {\r\n        return {\r\n          value: m || 'null',\r\n          label: m || this.$t('unknown')\r\n        };\r\n      });\r\n      // this.availableResolutions = stats.resolution.list.map(resolution => {\r\n      //   return {\r\n      //     value: resolution || 'null',\r\n      //     label: resolution ? `${resolution.toFixed(3)} ${this.$t('um-per-pixel')}` : this.$t('unknown')\r\n      //   };\r\n      // });\r\n    },\r\n    async fetchTags() {\r\n      this.availableTags = [{id: 'null', name: this.$t('no-tag')}, ...(await TagCollection.fetchAll()).array];\r\n    },\r\n    async fetchImages() {\r\n      this.images = (await ImageInstanceCollection.fetchAll({\r\n        filterKey: 'project',\r\n        filterValue: this.project.id,\r\n      })).array;\r\n\r\n      await Promise.all(this.images.map(async (image) => {\r\n        let properties = (await PropertyCollection.fetchAll({object: image})).array;\r\n        properties.sort((a, b) => a.key.localeCompare(b.key));\r\n\r\n        if (!(image.contentType in this.metadata)) {\r\n          this.metadata[image.contentType] = {};\r\n        }\r\n\r\n        this.metadata[image.contentType][image.id] = properties;\r\n        this.filteredImageIDs[image.contentType].push(image.baseImage);\r\n      }));\r\n    },\r\n\r\n    async refreshData() {\r\n      this.$store.commit('currentProject/resetMetadataFilters');\r\n\r\n      try {\r\n        await Promise.all([\r\n          this.fetchFilters(),\r\n        ]);\r\n        this.revision++;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n      }\r\n    },\r\n\r\n    toggleFilterDisplay() {\r\n      this.filtersOpened = !this.filtersOpened;\r\n    },\r\n    isPropDisplayed(prop) {\r\n      return this.excludedProperties.includes(prop) && (this.configUI[`project-explore-image-${prop}`] == null || this.configUI[`project-explore-image-${prop}`]);\r\n    },\r\n    includeImageIDs(format, imageIDs) {\r\n      this.$delete(this.filteredImageIDs, format);\r\n      this.$set(this.filteredImageIDs, format, imageIDs);\r\n    }\r\n  },\r\n  watch: {\r\n    querySearchTags(values) {\r\n      if(values) {\r\n        this.selectedTags = [];\r\n        let queriedTags = this.availableTags.filter(tag => values.split(',').includes(tag.name));\r\n        if(queriedTags) {\r\n          this.selectedTags = queriedTags;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      await Promise.all([\r\n        this.fetchFilters(),\r\n        this.fetchTags(),\r\n        this.fetchImages(),\r\n      ]);\r\n      this.loading = false;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n    if(this.$route.query.tags) {\r\n      let queriedTags = this.availableTags.filter(tag => this.$route.query.tags.split(',').includes(tag.name));\r\n      if(queriedTags) {\r\n        this.selectedTags = queriedTags;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('includeImageIDs', this.includeImageIDs);\r\n  },\r\n  beforeDestroy() {\r\n    this.$eventBus.$off('includeImageIDs', this.includeImageIDs);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.panel-heading {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n::v-deep .image-thumbnail {\r\n  max-height: 4rem;\r\n  max-width: 10rem;\r\n}\r\n\r\n.search-block {\r\n  display: flex;\r\n}\r\n\r\n::v-deep .search-images {\r\n  max-width: 30rem;\r\n  margin-right: 1rem;\r\n}\r\n\r\n::v-deep td, ::v-deep th {\r\n  vertical-align: middle !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListImages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListImages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListImages.vue?vue&type=template&id=2c0e27e8&scoped=true&\"\nimport script from \"./ListImages.vue?vue&type=script&lang=js&\"\nexport * from \"./ListImages.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListImages.vue?vue&type=style&index=0&id=2c0e27e8&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c0e27e8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.permissionError || _vm.notFoundError)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t(_vm.permissionError ? 'access-denied' : 'not-found'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t(_vm.permissionError ? 'insufficient-permission' : 'not-found-error'))+\" \")])]):_c('div',{staticClass:\"content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading},on:{\"update:active\":function($event){_vm.loading=$event}}}),(!_vm.loading)?_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"box-title\"},[_c('i18n',{attrs:{\"path\":\"detailed-image-information\",\"tag\":\"h1\"}},[_c('router-link',{attrs:{\"place\":\"imageName\",\"to\":`/project/${_vm.image.project}/image/${_vm.image.id}`}},[_c('image-name',{attrs:{\"image\":_vm.image}})],1)],1),_c('router-link',{attrs:{\"place\":\"imageName\",\"to\":`/project/${_vm.image.project}/image/${_vm.image.id}`}},[_c('button',{staticClass:\"button is-link\"},[_c('span',{staticClass:\"icon-text\"},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-image\"})]),_c('span',{staticClass:\"is-align-content-baseline\"}),_vm._v(\" \"+_vm._s(_vm.$t('open-in-viewer'))+\" \")])])]),_c('router-link',{attrs:{\"place\":\"imageName\",\"to\":_vm.prevRoute}},[_c('button',{staticClass:\"button is-link\"},[_c('span',{staticClass:\"icon-text\"},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-arrow-left\"})]),_c('span',{staticClass:\"is-align-content-baseline\"},[_vm._v(\" \"+_vm._s(_vm.$t('go-back'))+\" \")])])])])],1),(_vm.image)?_c('image-details',{attrs:{\"image\":_vm.image,\"editable\":\"\"},on:{\"setResolution\":resolution => _vm.setResolution(resolution),\"setMagnification\":magnification => _vm.image.magnification = magnification,\"delete\":function($event){return _vm.deleteImage()}}}):_vm._e()],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box error\" v-if=\"permissionError || notFoundError\">\r\n  <h2> {{ $t(permissionError ? 'access-denied' : 'not-found') }} </h2>\r\n  <p> {{ $t(permissionError ? 'insufficient-permission' : 'not-found-error') }} </p>\r\n</div>\r\n<div class=\"content-wrapper\" v-else>\r\n  <b-loading :is-full-page=\"false\" :active.sync=\"loading\" />\r\n  <div class=\"box\" v-if=\"!loading\">\r\n    <div class=\"box-title\">\r\n      <i18n path=\"detailed-image-information\" tag=\"h1\">\r\n        <router-link place=\"imageName\" :to=\"`/project/${image.project}/image/${image.id}`\">\r\n          <image-name :image=\"image\" />\r\n        </router-link>\r\n      </i18n>\r\n      <router-link place=\"imageName\" :to=\"`/project/${image.project}/image/${image.id}`\">\r\n        <button class=\"button is-link\">\r\n          <span class=\"icon-text\">\r\n            <span class=\"icon\">\r\n              <i class=\"fas fa-image\"></i>\r\n            </span>\r\n            <span class=\"is-align-content-baseline\"></span>\r\n              {{ $t('open-in-viewer')}}\r\n            </span>\r\n          </span>\r\n        </button> \r\n      </router-link>\r\n      <router-link place=\"imageName\" :to=\"prevRoute\">\r\n        <button class=\"button is-link\">\r\n          <span class=\"icon-text\">\r\n            <span class=\"icon\">\r\n              <i class=\"fas fa-arrow-left\"></i>\r\n            </span>\r\n            <span class=\"is-align-content-baseline\">\r\n              {{ $t('go-back')}}\r\n            </span>\r\n          </span>\r\n        </button> \r\n      </router-link>\r\n    </div>\r\n\r\n    <image-details\r\n      v-if=\"image\"\r\n      :image=\"image\"\r\n      editable\r\n      @setResolution=\"resolution => setResolution(resolution)\"\r\n      @setMagnification=\"magnification => image.magnification = magnification\"\r\n      @delete=\"deleteImage()\"\r\n    />\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport ImageName from './ImageName';\r\nimport ImageDetails from './ImageDetails';\r\n\r\nimport {ImageInstance} from 'cytomine-client';\r\nimport vendorFromFormat from '@/utils/vendor';\r\n\r\nexport default {\r\n  name: 'image-information',\r\n  components: {\r\n    ImageName,\r\n    ImageDetails\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      image: null,\r\n      permissionError: false,\r\n      notFoundError: false,\r\n      prevRoute: null\r\n    };\r\n  },\r\n  // https://v3.router.vuejs.org/guide/advanced/navigation-guards.html#in-component-guards\r\n  beforeRouteEnter(to, from, next) {\r\n    next(vm => {\r\n      vm.prevRoute = from\r\n    })\r\n  },\r\n  computed: {\r\n    idImage() {\r\n      return this.$route.params.idImage;\r\n    }\r\n  },\r\n  watch: {\r\n    idImage() {\r\n      this.loadImage();\r\n    }\r\n  },\r\n  methods: {\r\n    async loadImage() {\r\n      this.loading = true;\r\n      this.permissionError = false;\r\n      this.notFoundError = false;\r\n      try {\r\n        let image = await ImageInstance.fetch(this.idImage);\r\n        image.vendor = vendorFromFormat(image.contentType);\r\n        this.image = image;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        if(error.response.status === 403) {\r\n          this.permissionError = true;\r\n        }\r\n        else {\r\n          this.notFoundError = true;\r\n        }\r\n      }\r\n      this.loading = false;\r\n    },\r\n    deleteImage() {\r\n      this.$router.push(`/project/${this.image.project}`);\r\n    },\r\n    setResolution(resolution) {\r\n      this.image.physicalSizeX = resolution.x;\r\n      this.image.physicalSizeY = resolution.y;\r\n      this.image.physicalSizeZ = resolution.z;\r\n      this.image.fps = resolution.t;\r\n    }\r\n  },\r\n  created() {\r\n    this.loadImage();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .box-title {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    gap: 10px;\r\n\r\n    h1 {\r\n      flex: auto\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageInformation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageInformation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageInformation.vue?vue&type=template&id=2ffeee81&scoped=true&\"\nimport script from \"./ImageInformation.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageInformation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageInformation.vue?vue&type=style&index=0&id=2ffeee81&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ffeee81\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.configUI['project-annotations-tab'])?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):(_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('error-load-annotations-filters')))])]):_c('div',{staticClass:\"content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('div',[_c('div',{staticClass:\"box\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('display'))+\" \")]),_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('categorization'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.allowedCategorizations,\"label\":\"label\",\"track-by\":\"categorization\",\"allow-empty\":false,\"searchable\":false},model:{value:(_vm.selectedCategorization),callback:function ($$v) {_vm.selectedCategorization=$$v},expression:\"selectedCategorization\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('preview-size'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.allowedSizes,\"label\":\"label\",\"track-by\":\"size\",\"allow-empty\":false,\"searchable\":false},model:{value:(_vm.selectedSize),callback:function ($$v) {_vm.selectedSize=$$v},expression:\"selectedSize\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('number-per-category'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":[10, 25, 50, 100],\"allow-empty\":false,\"searchable\":false},model:{value:(_vm.nbPerPage),callback:function ($$v) {_vm.nbPerPage=$$v},expression:\"nbPerPage\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('outline-color'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.colors,\"label\":\"label\",\"track-by\":\"name\",\"allow-empty\":false,\"searchable\":false},model:{value:(_vm.selectedColor),callback:function ($$v) {_vm.selectedColor=$$v},expression:\"selectedColor\"}})],1)])])]),_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('filters'))+\" \")]),_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('annotation-type'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.annotationTypes,\"allow-empty\":false,\"searchable\":false},model:{value:(_vm.selectedAnnotationType),callback:function ($$v) {_vm.selectedAnnotationType=$$v},expression:\"selectedAnnotationType\"}})],1)]),(_vm.ontology)?_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('terms'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('ontology-tree-multiselect',{attrs:{\"ontology\":_vm.ontology,\"additionalNodes\":_vm.additionalTermNodes},model:{value:(_vm.selectedTermsIds),callback:function ($$v) {_vm.selectedTermsIds=$$v},expression:\"selectedTermsIds\"}})],1)]):_vm._e(),(_vm.tracks)?_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('tracks'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('track-tree-multiselect',{attrs:{\"tracks\":_vm.filteredTracks,\"additional-nodes\":_vm.additionalTrackNodes},model:{value:(_vm.selectedTracksIds),callback:function ($$v) {_vm.selectedTracksIds=$$v},expression:\"selectedTracksIds\"}})],1)]):_vm._e(),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('tags'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.tagsOptions,\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"allPlaceholder\":_vm.$t('all')},model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})],1)])]),_c('div',{staticClass:\"columns\"},[(_vm.selectedAnnotationType === _vm.jobAnnotationOption)?_c('div',{staticClass:\"column filter is-one-third\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('analyses'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.userJobs,\"label\":\"fullName\",\"track-by\":\"id\",\"multiple\":\"\",\"allPlaceholder\":_vm.$t('all-analyses')},model:{value:(_vm.selectedUserJobs),callback:function ($$v) {_vm.selectedUserJobs=$$v},expression:\"selectedUserJobs\"}})],1)]):(_vm.selectedAnnotationType === _vm.userAnnotationOption)?_c('div',{staticClass:\"column filter is-one-third\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('members'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.filteredMembers,\"label\":\"fullName\",\"track-by\":\"id\",\"multiple\":\"\"},model:{value:(_vm.selectedMembers),callback:function ($$v) {_vm.selectedMembers=$$v},expression:\"selectedMembers\"}})],1)]):_c('div',{staticClass:\"column filter is-one-third\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('reviewers'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.members,\"label\":\"fullName\",\"track-by\":\"id\",\"multiple\":\"\"},model:{value:(_vm.selectedReviewers),callback:function ($$v) {_vm.selectedReviewers=$$v},expression:\"selectedReviewers\"}})],1)]),_c('div',{staticClass:\"column filter is-one-third\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('images'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[(_vm.tooManyImages && _vm.selectedImages.length === 0)?_c('b-input',{attrs:{\"placeholder\":_vm.$t('all-images'),\"disabled\":\"\"}}):_c('cytomine-multiselect',{attrs:{\"options\":_vm.images,\"label\":_vm.blindMode ? 'blindedName' : 'instanceFilename',\"track-by\":\"id\",\"multiple\":\"\",\"allPlaceholder\":_vm.$t('all-images')},model:{value:(_vm.selectedImages),callback:function ($$v) {_vm.selectedImages=$$v},expression:\"selectedImages\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('from'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-datepicker',{attrs:{\"styles\":['multiselect'],\"maxDate\":_vm.toDate || new Date()},model:{value:(_vm.fromDate),callback:function ($$v) {_vm.fromDate=$$v},expression:\"fromDate\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('to'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-datepicker',{attrs:{\"styles\":['multiselect'],\"minDate\":_vm.fromDate,\"position\":\"is-bottom-left\"},model:{value:(_vm.toDate),callback:function ($$v) {_vm.toDate=$$v},expression:\"toDate\"}})],1)])])])]),_c('div',{ref:\"listAnnots\",staticClass:\"list-annots\",on:{\"scroll\":_vm.scrollHandler}},[_vm._l((_vm.limitedCategoryOptions),function(prop){return _c('list-annotations-by',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showList(prop)),expression:\"showList(prop)\"}],key:`${_vm.selectedCategorization.categorization}${prop.id}`,attrs:{\"categorization\":_vm.selectedCategorization.categorization,\"size\":_vm.selectedSize.size,\"color\":_vm.selectedColor.hexaCode,\"nbPerPage\":_vm.nbPerPage,\"allTerms\":_vm.terms,\"allUsers\":_vm.allUsers,\"allImages\":_vm.images,\"allTracks\":_vm.tracks,\"allTags\":_vm.tags,\"prop\":prop,\"multiple-terms\":(_vm.isByTerm && prop.id === _vm.multipleTermsOption.id),\"no-term\":(_vm.isByTerm && prop.id === _vm.noTermOption.id) || (!_vm.isByTerm && _vm.noTerm),\"multiple-tracks\":(_vm.isByTrack && prop.id === _vm.multipleTracksOption.id),\"no-track\":(_vm.isByTrack && prop.id === _vm.noTrackOption.id) || (!_vm.isByTrack && _vm.noTrack),\"terms-ids\":_vm.selectedTermsIds,\"tracks-ids\":_vm.selectedTracksIds,\"tags-ids\":_vm.selectedTagsIds,\"no-tag\":(_vm.isByTag && prop.id === _vm.noTagOption.id) || (!_vm.isByTag && _vm.noTag),\"imagesIds\":_vm.selectedImagesIds,\"usersIds\":_vm.selectedUsersIds,\"reviewed\":_vm.reviewed,\"reviewUsersIds\":_vm.reviewUsersIds,\"afterThan\":_vm.afterThan,\"beforeThan\":_vm.beforeThan,\"revision\":_vm.revision,\"visible\":_vm.showList(prop)},on:{\"addTerm\":_vm.addTerm,\"addTrack\":_vm.addTrack,\"updateTermsOrTracks\":function($event){_vm.revision++},\"delete\":function($event){_vm.revision++},\"update\":function($event){_vm.revision++},\"select\":function($event){return _vm.viewAnnot($event)}}})}),(!_vm.areAllOptionsLoaded)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.loadCategories()}}},[_vm._m(0),_c('span',[_vm._v(_vm._s(_vm.$t('button-load-more')))])]):_vm._e()],2),_c('div',{staticClass:\"box\"},[_c('h2',{staticClass:\"has-text-centered\"},[_vm._v(\" \"+_vm._s(_vm.$t('download-results'))+\" \")]),_c('div',{staticClass:\"buttons is-centered\"},[_c('a',{staticClass:\"button is-link\",attrs:{\"href\":_vm.downloadURL('pdf')}},[_vm._v(_vm._s(_vm.$t('download-PDF')))]),_c('a',{staticClass:\"button is-link\",attrs:{\"href\":_vm.downloadURL('csv')}},[_vm._v(_vm._s(_vm.$t('download-CSV')))]),_c('a',{staticClass:\"button is-link\",attrs:{\"href\":_vm.downloadURL('xls')}},[_vm._v(_vm._s(_vm.$t('download-excel')))])])])]):_vm._e()],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-sync\"})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-datepicker',{class:_vm.styles,attrs:{\"value\":_vm.value,\"placeholder\":_vm.placeholder || this.$t('select-date'),\"min-date\":_vm.minDate,\"max-date\":_vm.maxDate,\"month-names\":_vm.moment.months(),\"day-names\":_vm.moment.weekdaysMin(),\"date-formatter\":date => _vm.moment(date).format('ll'),\"size\":\"is-small\",\"position\":_vm.position},on:{\"input\":function($event){return _vm.$emit('input', $event)}}},[(_vm.resetButton)?_c('div',{staticClass:\"has-text-centered\"},[_c('button',{staticClass:\"button is-small is-link\",attrs:{\"disabled\":!_vm.value},on:{\"click\":function($event){return _vm.$emit('input', null)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-reset'))+\" \")])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<b-datepicker\r\n  :class=\"styles\"\r\n  :value=\"value\"\r\n  @input=\"$emit('input', $event)\"\r\n  :placeholder=\"placeholder || this.$t('select-date')\"\r\n  :min-date=\"minDate\" :max-date=\"maxDate\"\r\n  :month-names=\"moment.months()\" :day-names=\"moment.weekdaysMin()\"\r\n  :date-formatter=\"date => moment(date).format('ll')\" size=\"is-small\"\r\n  :position=\"position\"\r\n>\r\n  <div v-if=\"resetButton\" class=\"has-text-centered\">\r\n    <button class=\"button is-small is-link\" :disabled=\"!value\" @click=\"$emit('input', null)\">\r\n      {{$t('button-reset')}}\r\n    </button>\r\n  </div>\r\n</b-datepicker>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment';\r\n\r\nexport default {\r\n  name: 'cytomine-date-picker',\r\n  props: {\r\n    value: Date,\r\n    resetButton: {type: Boolean, default: true},\r\n    maxDate: Date,\r\n    minDate: Date,\r\n    placeholder: String,\r\n    styles: {type: Array, default: () => []}, // accept \"multiselect\", \"bold-placeholder\",\r\n    position: {type: String, default: null}\r\n  },\r\n  computed: {\r\n    moment() {\r\n      return moment;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.datepicker.multiselect .input {\r\n  min-height: 40px;\r\n  background-color: rgba(255, 255, 255, 0.75);\r\n  border-radius: 5px;\r\n  border: 1px solid #e8e8e8;\r\n  font-size: 1rem;\r\n  font-family: inherit;\r\n\r\n  &::placeholder {\r\n    color: #adadad;\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.datepicker.bold-placeholder .input::placeholder {\r\n  font-weight: 600;\r\n  color: black !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDatepicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDatepicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineDatepicker.vue?vue&type=template&id=ac55ba94&\"\nimport script from \"./CytomineDatepicker.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineDatepicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineDatepicker.vue?vue&type=style&index=0&id=ac55ba94&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(() => _vm.activeSelector = false),expression:\"() => activeSelector = false\"}],staticClass:\"multiselect\",class:{'multiselect--active': _vm.activeSelector}},[_c('div',{staticClass:\"multiselect__select\",on:{\"click\":function($event){_vm.activeSelector = !_vm.activeSelector}}}),_c('div',{staticClass:\"multiselect__tags\",on:{\"click\":function($event){_vm.activeSelector=true}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.activeSelector),expression:\"!activeSelector\"}],staticClass:\"multiselect__tags-wrap\"},[(_vm.allSelected)?_c('strong',[_vm._v(\" \"+_vm._s(_vm.$t('all'))+\" \")]):[_vm._l((_vm.displayedSelectedTerms),function(term,index){return _c('span',{key:term.id},[_c('cytomine-term',{attrs:{\"term\":term}}),(index < _vm.displayedSelectedTerms.length - 1)?_c('span',{staticClass:\"comma\"},[_vm._v(\",\")]):_vm._e()],1)}),(_vm.countNotDisplayed > 0)?_c('strong',[_vm._v(\" \"+_vm._s(_vm.$tc(\"and-count-others\", _vm.countNotDisplayed, {count: _vm.countNotDisplayed}))+\" \")]):_vm._e()]],2),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeSelector),expression:\"activeSelector\"},{name:\"model\",rawName:\"v-model\",value:(_vm.searchString),expression:\"searchString\"}],ref:\"input\",staticClass:\"multiselect__input\",attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('select-options')},domProps:{\"value\":(_vm.searchString)},on:{\"input\":function($event){if($event.target.composing)return;_vm.searchString=$event.target.value}}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeSelector),expression:\"activeSelector\"}],staticClass:\"multiselect__content-wrapper\"},[(_vm.multiple)?_c('ul',[_c('li',{staticClass:\"multiselect__element multiselect__select-all\",on:{\"click\":function($event){return _vm.selectAll()}}},[_c('span',{class:['multiselect__option', _vm.allSelected ? 'multiselect__option--selected' : '']},[_vm._v(\" \"+_vm._s(_vm.$t('select-all'))+\" \")])])]):_vm._e(),_c('ontology-tree',{attrs:{\"ontology\":_vm.ontology,\"additionalNodes\":_vm.additionalNodes,\"startWithAdditionalNodes\":_vm.startWithAdditionalNodes,\"selectedNodes\":_vm.selectedNodes,\"searchString\":_vm.searchString,\"multipleSelection\":_vm.multiple},on:{\"select\":function($event){return _vm.handleSelection()},\"setSelectedNodes\":nodes => _vm.$emit('setSelectedNodes', nodes)},scopedSlots:_vm._u([{key:\"no-result\",fn:function(){return [_c('ul',{staticClass:\"multiselect__content\"},[_c('li',{on:{\"click\":function($event){return _vm.selectAll()}}},[_c('span',{staticClass:\"multiselect__option\"},[_vm._v(\" \"+_vm._s(_vm.$t('no-result'))+\" \")])])])]},proxy:true}])})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\n// return all terms from an ontology object\r\nexport function getAllTerms(ontology) {\r\n  return processNodes(ontology.children.array);\r\n}\r\n\r\nfunction processNodes(nodes) {\r\n  let result = [];\r\n  nodes.forEach(node => {\r\n    result.push(node);\r\n    if(node.children) {\r\n      result.push(...processNodes(node.children));\r\n    }\r\n  });\r\n  return result;\r\n}\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"multiselect\"\r\n  :class=\"{'multiselect--active': activeSelector}\"\r\n  v-click-outside=\"() => activeSelector = false\"\r\n>\r\n\r\n  <div class=\"multiselect__select\" @click=\"activeSelector = !activeSelector\"></div>\r\n\r\n  <div class=\"multiselect__tags\" @click=\"activeSelector=true\">\r\n    <div v-show=\"!activeSelector\" class=\"multiselect__tags-wrap\">\r\n      <strong v-if=\"allSelected\"> {{$t('all')}} </strong>\r\n      <template v-else>\r\n        <span v-for=\"(term, index) in displayedSelectedTerms\" :key=\"term.id\">\r\n          <cytomine-term :term=\"term\" />\r\n          <span class=\"comma\" v-if=\"index < displayedSelectedTerms.length - 1\">,</span>\r\n        </span>\r\n        <strong v-if=\"countNotDisplayed > 0\">\r\n          {{ $tc(\"and-count-others\", countNotDisplayed, {count: countNotDisplayed}) }}\r\n        </strong>\r\n      </template>\r\n    </div>\r\n    <input\r\n      v-show=\"activeSelector\"\r\n      type=\"text\"\r\n      class=\"multiselect__input\"\r\n      :placeholder=\"$t('select-options')\"\r\n      ref=\"input\"\r\n      v-model=\"searchString\"\r\n    >\r\n  </div>\r\n\r\n  <div class=\"multiselect__content-wrapper\" v-show=\"activeSelector\">\r\n    <ul v-if=\"multiple\">\r\n      <li class=\"multiselect__element multiselect__select-all\" @click=\"selectAll()\">\r\n        <span :class=\"['multiselect__option', allSelected ? 'multiselect__option--selected' : '']\">\r\n          {{$t('select-all')}}\r\n        </span>\r\n      </li>\r\n    </ul>\r\n    <ontology-tree\r\n      :ontology=\"ontology\"\r\n      :additionalNodes=\"additionalNodes\"\r\n      :startWithAdditionalNodes=\"startWithAdditionalNodes\"\r\n      :selectedNodes=\"selectedNodes\"\r\n      :searchString=\"searchString\"\r\n      :multipleSelection=\"multiple\"\r\n      @select=\"handleSelection()\"\r\n      @setSelectedNodes=\"nodes => $emit('setSelectedNodes', nodes)\"\r\n    >\r\n      <template #no-result>\r\n        <ul class=\"multiselect__content\">\r\n          <li @click=\"selectAll()\">\r\n            <span class=\"multiselect__option\">\r\n              {{$t('no-result')}}\r\n            </span>\r\n          </li>\r\n        </ul>\r\n      </template>\r\n    </ontology-tree>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport OntologyTree from './OntologyTree';\r\nimport CytomineTerm from './CytomineTerm';\r\nimport {getAllTerms} from '@/utils/ontology-utils';\r\n\r\nexport default {\r\n  name: 'ontology-tree-multiselect',\r\n  components: {\r\n    OntologyTree,\r\n    CytomineTerm\r\n  },\r\n  model: {\r\n    prop: 'selectedNodes',\r\n    event: 'setSelectedNodes'\r\n  },\r\n  props: {\r\n    ontology: {type: Object},\r\n    additionalNodes: {type: Array, default: () => []},\r\n    startWithAdditionalNodes: {type: Boolean, default: false},\r\n    selectedNodes: {type: Array, default: () => []},\r\n    multiple: {type: Boolean, default: true}\r\n  },\r\n  data() {\r\n    return {\r\n      activeSelector: false,\r\n      searchString: '',\r\n      maxNbDisplayed: 3\r\n    };\r\n  },\r\n  computed: {\r\n    allTerms() {\r\n      if(!this.ontology) {\r\n        return [];\r\n      }\r\n      let terms = this.additionalNodes.map(node => node);\r\n      terms.push(...getAllTerms(this.ontology));\r\n      return terms;\r\n    },\r\n    allSelected() {\r\n      return this.allTerms.length === this.selectedNodes.length;\r\n    },\r\n    displayedSelectedTerms() {\r\n      let ids = this.selectedNodes.slice(0, this.maxNbDisplayed);\r\n      return ids.map(id => this.allTerms.find(term => term.id === id));\r\n    },\r\n    countNotDisplayed() {\r\n      return this.selectedNodes.length - this.maxNbDisplayed;\r\n    }\r\n  },\r\n  watch: {\r\n    async activeSelector(val) {\r\n      if(val) {\r\n        await this.$nextTick();\r\n        this.$refs.input.focus();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    selectAll() {\r\n      this.$emit('setSelectedNodes', this.allSelected ? [] : this.allTerms.map(term => term.id));\r\n    },\r\n\r\n    handleSelection() {\r\n      if(!this.multiple) {\r\n        this.activeSelector = false;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyTreeMultiselect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyTreeMultiselect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OntologyTreeMultiselect.vue?vue&type=template&id=b1c8e506&\"\nimport script from \"./OntologyTreeMultiselect.vue?vue&type=script&lang=js&\"\nexport * from \"./OntologyTreeMultiselect.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box\"},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.isInViewer || (_vm.isInViewer && !_vm.loading))?_c('div',[_c('h2',[(_vm.titlePrefix)?[_vm._v(_vm._s(_vm.titlePrefix)+\" \")]:_vm._e(),_c('span',{class:{'has-text-weight-bold': _vm.titlePrefix || _vm.titleSuffix}},[_vm._v(_vm._s(_vm.title))]),(_vm.titleSuffix)?[_vm._v(\" \"+_vm._s(_vm.titleSuffix))]:_vm._e(),_vm._v(\" (\"+_vm._s(_vm.nbAnnotations)+\") \")],2),(_vm.error)?[_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('failed-fetch-annots'))+\" \")])]:(!_vm.annotations.length)?[_c('em',{staticClass:\"no-result\"},[_vm._v(_vm._s(_vm.$t('no-annotation')))])]:[_vm._l((_vm.annotations),function(annot){return _c('annotation-preview',{key:((_vm.isInViewer) ? _vm.index : '') + _vm.title + annot.id,class:{active: _vm.isInViewer && _vm.activeSlicesIds.includes(annot.slice)},attrs:{\"annot\":annot,\"size\":_vm.size,\"color\":_vm.color,\"terms\":_vm.allTerms,\"users\":_vm.allUsers,\"images\":_vm.allImages,\"tracks\":_vm.allTracks,\"show-image-info\":!_vm.isInViewer,\"show-slice-info\":_vm.isByTrack && !_vm.noTrack},on:{\"addTerm\":function($event){return _vm.$emit('addTerm', $event)},\"addTrack\":function($event){return _vm.$emit('addTrack', $event)},\"updateTermsOrTracks\":function($event){return _vm.$emit('updateTermsOrTracks', annot)},\"updateProperties\":function($event){return _vm.$emit('updateProperties')},\"centerView\":function($event){return _vm.$emit('centerView', annot)},\"deletion\":function($event){return _vm.$emit('delete', annot)},\"select\":function($event){return _vm.$emit('select', $event)}}})}),_c('b-pagination',{attrs:{\"total\":_vm.nbAnnotations,\"current\":_vm.currentPage,\"size\":\"is-small\",\"per-page\":_vm.nbPerPage},on:{\"update:current\":function($event){_vm.currentPage=$event}}})]],2):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-popover',{attrs:{\"placement\":\"right\",\"trigger\":\"manual\",\"open\":_vm.opened,\"auto-hide\":false},scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [(_vm.opened)?_c('annotation-details',{directives:[{name:\"click-outside\",rawName:\"v-click-outside.capture\",value:((event) => _vm.close(event)),expression:\"(event) => close(event)\",modifiers:{\"capture\":true}}],attrs:{\"annotation\":_vm.annot,\"terms\":_vm.terms,\"users\":_vm.users,\"images\":_vm.images,\"tracks\":_vm.tracks,\"show-image-info\":_vm.showImageInfo},on:{\"addTerm\":function($event){return _vm.$emit('addTerm', $event)},\"addTrack\":function($event){return _vm.$emit('addTrack', $event)},\"updateTerms\":function($event){return _vm.$emit('updateTermsOrTracks')},\"updateTracks\":function($event){return _vm.$emit('updateTermsOrTracks')},\"updateProperties\":function($event){return _vm.$emit('updateProperties')},\"select\":function($event){return _vm.$emit('select', $event)},\"centerView\":function($event){return _vm.$emit('centerView')},\"deletion\":function($event){return _vm.$emit('deletion')}}}):_vm._e()]},proxy:true}])},[_c('div',{staticClass:\"annot-preview\",class:{clickable: _vm.clickable}},[_c('div',{style:(_vm.styleAnnotDetails),on:{\"click\":function($event){if($event.target !== $event.currentTarget)return null;return _vm.viewAnnot(_vm.sameViewOnClick)}}},[(_vm.showDetails)?_c('button',{ref:\"previewButton\",staticClass:\"button is-small\",on:{\"click\":function($event){_vm.opened = !_vm.opened}}},[_c('i',{class:['fas', _vm.opened ? 'fa-minus' : 'fa-plus']})]):(_vm.clickable && _vm.sameViewOnClick)?_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.viewAnnot()}}},[_c('i',{staticClass:\"fas fa-external-link-alt\"})]):_vm._e()]),(_vm.showSliceInfo)?[(_vm.image.channels > 1 || _vm.image.channels == null)?_c('div',[_vm._v(\"C: \"+_vm._s(_vm.annot.channel))]):_vm._e(),(_vm.image.depth > 1 || _vm.image.depth == null)?_c('div',[_vm._v(\"Z: \"+_vm._s(_vm.annot.zStack))]):_vm._e(),(_vm.image.duration > 1 || _vm.image.duration == null)?_c('div',[_vm._v(\"T: \"+_vm._s(_vm.annot.time))]):_vm._e()]:_vm._e()],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<v-popover\r\n  placement=\"right\"\r\n  trigger=\"manual\"\r\n  :open=\"opened\"\r\n  :auto-hide=\"false\"\r\n> <!-- autoHide leads to erratic behaviour when adding/showing DOM elements => handle display of popover manually -->\r\n\r\n  <div class=\"annot-preview\" :class=\"{clickable}\">\r\n    <div :style=\"styleAnnotDetails\" @click.self=\"viewAnnot(sameViewOnClick)\">\r\n      <button class=\"button is-small\" @click=\"opened = !opened\" ref=\"previewButton\" v-if=\"showDetails\">\r\n        <i :class=\"['fas', opened ? 'fa-minus' : 'fa-plus']\"></i>\r\n      </button>\r\n      <button class=\"button is-small\" @click=\"viewAnnot()\" v-else-if=\"clickable && sameViewOnClick\">\r\n        <i class=\"fas fa-external-link-alt\"></i>\r\n      </button>\r\n\r\n    </div>\r\n    <template v-if=\"showSliceInfo\">\r\n      <div v-if=\"image.channels > 1 || image.channels == null\">C: {{annot.channel}}</div>\r\n      <div v-if=\"image.depth > 1 || image.depth == null\">Z: {{annot.zStack}}</div>\r\n      <div v-if=\"image.duration > 1 || image.duration == null\">T: {{annot.time}}</div>\r\n    </template>\r\n  </div>\r\n\r\n  <template #popover>\r\n    <annotation-details\r\n      v-click-outside.capture=\"(event) => close(event)\"\r\n      :annotation=\"annot\"\r\n      :terms=\"terms\"\r\n      :users=\"users\"\r\n      :images=\"images\"\r\n      :tracks=\"tracks\"\r\n      :show-image-info=\"showImageInfo\"\r\n      @addTerm=\"$emit('addTerm', $event)\"\r\n      @addTrack=\"$emit('addTrack', $event)\"\r\n      @updateTerms=\"$emit('updateTermsOrTracks')\"\r\n      @updateTracks=\"$emit('updateTermsOrTracks')\"\r\n      @updateProperties=\"$emit('updateProperties')\"\r\n      @select=\"$emit('select', $event)\"\r\n      @centerView=\"$emit('centerView')\"\r\n      @deletion=\"$emit('deletion')\"\r\n      v-if=\"opened\"\r\n    /> <!-- Display component only if it is the currently displayed annotation\r\n            (prevents fetching unnecessary information) -->\r\n  </template>\r\n</v-popover>\r\n</template>\r\n\r\n<script>\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\nimport {get} from '@/utils/store-helpers.js';\r\n\r\nexport default {\r\n  name: 'annotation-preview',\r\n  props: {\r\n    annot: Object,\r\n    size: Number,\r\n    color: String,\r\n    terms: Array,\r\n    users: Array,\r\n    images: Array,\r\n    tracks: Array,\r\n    showDetails: {type: Boolean, default: true},\r\n    showImageInfo: {type: Boolean, default: true},\r\n    showSliceInfo: {type: Boolean, default: false},\r\n    clickable: {type: Boolean, default: true},\r\n    sameViewOnClick: {type: Boolean, default: false}\r\n  },\r\n  components: {\r\n    AnnotationDetails: () => import('./AnnotationDetails') // To resolve circular reference\r\n  },\r\n  data() {\r\n    return {\r\n      opened: false,\r\n      revisionCrop: 0\r\n    };\r\n  },\r\n  computed: {\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    cropParameters() {\r\n      let params = {\r\n        square: true,\r\n        complete: true,\r\n        thickness: 2,\r\n        increaseArea: 1.25,\r\n        rev: this.revisionCrop,\r\n      };\r\n\r\n      if (this.color || this.color === '') {\r\n        params.draw = true;\r\n      }\r\n      if (this.color) {\r\n        params.color = `0x${this.color}`;\r\n      }\r\n      if (this.annot.updated) {\r\n        params.updated = this.annot.updated;\r\n      }\r\n\r\n      return params;\r\n    },\r\n    cropUrl() {\r\n      return this.annot.annotationCropURL(this.size, 'jpg', this.cropParameters);\r\n    },\r\n    styleAnnotDetails() {\r\n      let url = appendShortTermToken(`${this.cropUrl}`, this.shortTermToken);\r\n      //console.log('url', url);\r\n      return {\r\n        backgroundImage: `url(${url})`,\r\n        backgroundRepeat: 'no-repeat',\r\n        width: this.size + 'px',\r\n        height: this.size + 'px'\r\n      };\r\n    },\r\n    image() {\r\n      return this.images.find(image => image.id === this.annot.image);\r\n    }\r\n  },\r\n  methods: {\r\n    viewAnnot(trySameView=false) {\r\n      if (this.clickable) {\r\n        this.$emit('select', {annot: this.annot, options:{trySameView}});\r\n      }\r\n    },\r\n    close(event) {\r\n      if(!this.opened) {\r\n        return;\r\n      }\r\n\r\n      let el = event.target;\r\n      while(el) {\r\n        if(el.classList.contains('modal') || el.classList.contains('notifications') || el.isSameNode(this.$refs.previewButton)) {\r\n          // do not close the popover if click was performed in modal or in notification\r\n          // if click performed on previewButton, handled in @click\r\n          return;\r\n        }\r\n        el = el.parentElement;\r\n      }\r\n\r\n      this.opened = false;\r\n    },\r\n    reloadAnnotationCropHandler(annot) {\r\n      if (annot.id === this.annot.id) {\r\n        this.revisionCrop++;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('reloadAnnotationCrop', this.reloadAnnotationCropHandler);\r\n  },\r\n  beforeDestroy() {\r\n    // unsubscribe from all events\r\n    this.$eventBus.$off('reloadAnnotationCrop', this.reloadAnnotationCropHandler);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.annot-preview {\r\n  display: inline-block;\r\n  background-position: center center;\r\n  background-repeat: no-repeat;\r\n  margin: 10px;\r\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n  border: 3px solid white;\r\n  text-align: right;\r\n}\r\n\r\n.clickable {\r\n  cursor: pointer;\r\n}\r\n\r\n.annot-preview .button {\r\n  font-size: 10px;\r\n  width: 20px;\r\n  height: 20px;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  left: 3px;\r\n  bottom: 3px;\r\n  border: none;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationPreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationPreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationPreview.vue?vue&type=template&id=a37d5e4e&scoped=true&\"\nimport script from \"./AnnotationPreview.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationPreview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnnotationPreview.vue?vue&type=style&index=0&id=a37d5e4e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a37d5e4e\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box\">\r\n  <b-loading :is-full-page=\"false\" class=\"small\" :active=\"loading\"  />\r\n  <div v-if=\"!isInViewer || (isInViewer && !loading)\">\r\n    <h2>\r\n      <template v-if=\"titlePrefix\">{{titlePrefix}} </template>\r\n      <span :class=\"{'has-text-weight-bold': titlePrefix || titleSuffix}\">{{title}}</span>\r\n      <template v-if=\"titleSuffix\"> {{titleSuffix}}</template> ({{nbAnnotations}}) </h2>\r\n    <template v-if=\"error\">\r\n      <b-message type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n        {{$t('failed-fetch-annots')}}\r\n      </b-message>\r\n    </template>\r\n    <template v-else-if=\"!annotations.length\">\r\n      <em class=\"no-result\">{{ $t('no-annotation') }}</em>\r\n    </template>\r\n    <template v-else>\r\n      <annotation-preview\r\n        v-for=\"annot in annotations\" :key=\"((isInViewer) ? index : '') + title + annot.id\"\r\n        :class=\"{active: isInViewer && activeSlicesIds.includes(annot.slice)}\"\r\n        :annot=\"annot\"\r\n        :size=\"size\"\r\n        :color=\"color\"\r\n        :terms=\"allTerms\"\r\n        :users=\"allUsers\"\r\n        :images=\"allImages\"\r\n        :tracks=\"allTracks\"\r\n        :show-image-info=\"!isInViewer\"\r\n        :show-slice-info=\"isByTrack && !noTrack\"\r\n        @addTerm=\"$emit('addTerm', $event)\"\r\n        @addTrack=\"$emit('addTrack', $event)\"\r\n        @updateTermsOrTracks=\"$emit('updateTermsOrTracks', annot)\"\r\n        @updateProperties=\"$emit('updateProperties')\"\r\n        @centerView=\"$emit('centerView', annot)\"\r\n        @deletion=\"$emit('delete', annot)\"\r\n        @select=\"$emit('select', $event)\"\r\n      />\r\n\r\n      <b-pagination\r\n        :total=\"nbAnnotations\"\r\n        :current.sync=\"currentPage\"\r\n        size=\"is-small\"\r\n        :per-page=\"nbPerPage\"\r\n      />\r\n    </template>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {fullName} from '@/utils/user-utils.js';\r\n\r\nimport AnnotationPreview from './AnnotationPreview';\r\n\r\nimport {AnnotationCollection} from 'cytomine-client';\r\nimport constants from '@/utils/constants';\r\nimport _ from 'lodash';\r\n\r\nexport default {\r\n  name: 'list-annotations-by',\r\n  props: {\r\n    categorization: String,\r\n    nbPerPage: Number,\r\n    size: Number,\r\n    color: String,\r\n\r\n    prop: Object,\r\n\r\n    multipleTerms: Boolean,\r\n    noTerm: Boolean,\r\n    multipleTracks: Boolean,\r\n    noTrack: Boolean,\r\n    noTag: Boolean,\r\n\r\n    termsIds: Array,\r\n    tracksIds: Array,\r\n    tagsIds: Array,\r\n    imagesIds: Array,\r\n    usersIds: Array,\r\n    reviewed: Boolean,\r\n    reviewUsersIds: {type: Array, default: null},\r\n    afterThan: {type: Number, default: null},\r\n    beforeThan: {type: Number, default: null},\r\n    slicesIds: {type: Array, default: null},\r\n\r\n    allTerms: Array,\r\n    allUsers: Array,\r\n    allImages: Array,\r\n    allTracks: Array,\r\n    allTags: Array,\r\n\r\n    revision: Number,\r\n    visible: {type: Boolean, default: true},\r\n    index: String\r\n  },\r\n  components: {AnnotationPreview},\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n      annotations: [],\r\n      nbAnnotations: 0,\r\n      pendingReload: true,\r\n      savedSlice: null\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n\r\n    isByTerm() {\r\n      return this.categorization === 'TERM';\r\n    },\r\n    isByTrack() {\r\n      return this.categorization === 'TRACK';\r\n    },\r\n    isByUser() {\r\n      return this.categorization === 'USER';\r\n    },\r\n    isByImage() {\r\n      return this.categorization === 'IMAGE';\r\n    },\r\n    isByTag() {\r\n      return this.categorization === 'TAG';\r\n    },\r\n    isUncategorized() {\r\n      return this.categorization === 'UNCATEGORIZED';\r\n    },\r\n    filteredTermsIds() {\r\n      return this.termsIds.filter(id => id > 0);\r\n    },\r\n    filteredTracksIds() {\r\n      return this.tracksIds.filter(id => id > 0);\r\n    },\r\n\r\n    tooManyImages() {\r\n      return this.project.numberOfImages > constants.MAX_IMAGES_FOR_FILTER;\r\n    },\r\n\r\n    collection() {\r\n      this.revision; // to ensure that collection is reloaded if revision changes\r\n      return new AnnotationCollection({\r\n        slices: (this.isByTerm && this.isInViewer) ? this.slicesIds : null,\r\n\r\n        term: (this.isByTerm && !this.multipleTerms && !this.noTerm) ? this.prop.id : null,\r\n        track: (this.isByTrack && !this.multipleTracks && !this.noTrack) ? this.prop.id : null,\r\n        tag: (this.isByTag && !this.noTag) ? this.prop.id : null,\r\n        user: (this.isByUser) ? this.prop.id : null,\r\n        image: (this.isByImage) ? this.prop.id : null,\r\n\r\n        noTerm: this.noTerm,\r\n        multipleTerm: this.multipleTerms,\r\n        noTrack: this.noTrack,\r\n        multipleTrack: this.multipleTracks,\r\n        noTag: this.noTag,\r\n\r\n        terms: (!this.isByTerm && (this.noTerm || this.multipleTerm || this.filteredTermsIds.length < this.allTerms.length)) ? this.filteredTermsIds.filter(id => id > 0) : null,\r\n        users: (!this.isByUser && this.usersIds /*[OP-1885] && this.usersIds.length < this.allUsers.length*/) ? this.usersIds : null,\r\n        images: (!this.isByImage && ((this.tooManyImages && this.imagesIds.length > 0) || (!this.tooManyImages && this.imagesIds.length < this.allImages.length))) ? this.imagesIds : null,\r\n        tracks: (!this.isByTrack && (this.noTrack || this.multipleTrack || this.filteredTracksIds.length < this.allTracks.length)) ? this.filteredTracksIds.filter(id => id > 0) : null,\r\n        tags: (!this.isByTag && this.tagsIds) ? this.tagsIds.filter(id => id > 0) : null,\r\n\r\n        reviewed: this.reviewed,\r\n        reviewUsers: (!this.isByUser) ? this.reviewUsersIds : null,\r\n        showTerm: true,\r\n        showGIS: true,\r\n        showTrack: true,\r\n        showWKT: this.isInViewer,\r\n        showImage: this.tooManyImages,\r\n        showSlice: true,\r\n        afterThan: this.afterThan,\r\n        beforeThan: this.beforeThan,\r\n        max: this.nbPerPage,\r\n        project: this.currentProject.id\r\n      });\r\n    },\r\n    title() {\r\n      if (this.isByUser) {\r\n        return fullName(this.prop);\r\n      }\r\n      else if (this.isByImage) {\r\n        return (this.prop.blindedName) ? this.prop.blindedName : this.prop.instanceFilename;\r\n      }\r\n      else if (this.isByTerm && this.multipleTerms) {\r\n        return this.$t('multiple-terms');\r\n      }\r\n      else if (this.isByTerm && this.noTerm) {\r\n        return this.$t('no-term');\r\n      }\r\n      else if (this.isByTrack && this.multipleTracks) {\r\n        return this.$t('multiple-tracks');\r\n      }\r\n      else if (this.isByTrack && this.noTrack) {\r\n        return this.$t('no-track');\r\n      }\r\n      else if (this.isByTag && this.noTag) {\r\n        return this.$t('no-tag');\r\n      }\r\n      else if (this.isUncategorized) {\r\n        return this.$t('all-annotations-uncategorized');\r\n      }\r\n      else {\r\n        return this.prop.name;\r\n      }\r\n    },\r\n    titlePrefix() {\r\n      if (!this.isInViewer)\r\n        return '';\r\n\r\n      let prefix = '';\r\n      if (this.isByTerm) {\r\n        prefix += this.$t('currently-visible-annotations-with');\r\n        if (!this.noTerm) {\r\n          prefix += ` ${this.$t('the-term')}`;\r\n        }\r\n      }\r\n      else if (this.isByTrack) {\r\n        prefix += this.$t('currently-visible-annotations-for-track');\r\n      }\r\n\r\n      return prefix;\r\n    },\r\n    titleSuffix() {\r\n      if (!this.isInViewer)\r\n        return;\r\n      else if (this.isByTerm)\r\n        return this.$t('in-this-slice');\r\n      else\r\n        return this.$t('in-this-image');\r\n    },\r\n    isInViewer() {\r\n      return (this.index !== undefined);\r\n    },\r\n    currentProject: get('currentProject/project'),\r\n    projectModule() {\r\n      return this.$store.getters['currentProject/currentProjectModule'];\r\n    },\r\n    imageModule() {\r\n      return (this.isInViewer) ? this.$store.getters['currentProject/imageModule'](this.index) : null;\r\n    },\r\n    imageWrapper() {\r\n      return (this.isInViewer) ? this.$store.getters['currentProject/currentViewer'].images[this.index] : null;\r\n    },\r\n    currentPage: {\r\n      get() {\r\n        if (this.isInViewer) {\r\n          return this.imageWrapper.annotationsList.currentPages[this.prop.id] || 1;\r\n        }\r\n        return this.$store.state.projects[this.currentProject.id].listAnnotations.currentPages[this.prop.id] || 1;\r\n      },\r\n      set(page) {\r\n        if (this.isInViewer) {\r\n          this.$store.commit(this.imageModule + 'setCurrentPage', {prop: this.prop.id, page});\r\n        }\r\n        this.$store.commit(this.projectModule + 'listAnnotations/setCurrentPage', {prop: this.prop.id, page});\r\n      }\r\n    },\r\n    activeSlices() {\r\n      return (this.imageWrapper) ? this.imageWrapper.activeSlices : null;\r\n    },\r\n    activeSlicesIds() {\r\n      return (this.activeSlices) ? this.activeSlices.map(slice => slice.id) : [];\r\n    },\r\n    activeSliceWithSmallestRank() {\r\n      return (this.activeSlices) ? _.orderBy(this.activeSlices, ['rank'])[0] : null;\r\n    },\r\n  },\r\n  watch: {\r\n    currentPage() {\r\n      this.fetchPage();\r\n    },\r\n    collection(newCollection, oldCollection) {\r\n      if (oldCollection && newCollection.track !== oldCollection.track) {\r\n        this.initialize();\r\n      }\r\n      else {\r\n        this.fetchPage();\r\n      }\r\n    },\r\n    visible() {\r\n      if(this.pendingReload) {\r\n        this.fetchPage();\r\n      }\r\n    },\r\n    activeSlices() {\r\n      this.findPage();\r\n    }\r\n  },\r\n  methods: {\r\n    async initialize() {\r\n      await this.findPage();\r\n      await this.fetchPage(true);\r\n    },\r\n    async findPage() {\r\n      if (this.isInViewer) {\r\n        let countCollection = this.collection.clone();\r\n        countCollection.beforeSlice = this.activeSliceWithSmallestRank;\r\n        countCollection.max = 1;\r\n        this.currentPage = Math.ceil(((await countCollection.fetchPage()).totalNbItems + 1)/ this.nbPerPage);\r\n      }\r\n    },\r\n    async fetchPage(setLoading=false) {\r\n      if(!this.visible) { // prevent unnecessary reload if list not visible but schedule a reload at next opening\r\n        this.pendingReload = true;\r\n        return;\r\n      }\r\n\r\n      this.pendingReload = false;\r\n\r\n      if((!this.tooManyImages && !this.imagesIds.length) || (!this.reviewed && !this.usersIds.length)\r\n        || (this.reviewed && !this.reviewUsersIds.length) || !this.termsIds.length || !this.tracksIds.length || (this.tagsIds ? !this.tagsIds.length : 0)) {\r\n        this.annotations = [];\r\n        this.nbAnnotations = 0;\r\n        return;\r\n      }\r\n\r\n      if (setLoading)\r\n        this.loading = true;\r\n\r\n      try {\r\n        let data = await this.collection.fetchPage(this.currentPage - 1);\r\n        this.annotations = data.array;\r\n        this.nbAnnotations = data.totalNbItems;\r\n      }\r\n      catch(error) {\r\n        if(this.currentPage > 1) { // error may be due to the page number (not enough annots) => retry on first page\r\n          this.currentPage = 1;\r\n          return;\r\n        }\r\n\r\n        console.log(error);\r\n        this.nbAnnotations = 0;\r\n        this.error = true;\r\n      }\r\n      this.loading = false;\r\n    },\r\n\r\n\r\n  },\r\n  async created() {\r\n    await this.initialize();\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.box {\r\n  position: relative;\r\n}\r\n\r\n.no-result {\r\n  color: grey;\r\n}\r\n\r\n/**\r\n * TODO: use :deep(.class) when moving to Vue3\r\n */\r\n::v-deep ul.pagination-list {\r\n  justify-content: flex-end;\r\n}\r\n\r\n::v-deep .active .annot-preview {\r\n  box-shadow: 0 2px 3px rgba(39, 120, 173, 0.75), 0 0 0 1px rgba(39, 120, 173, 0.75);\r\n  font-weight: 600;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAnnotationsBy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAnnotationsBy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListAnnotationsBy.vue?vue&type=template&id=357d368c&scoped=true&\"\nimport script from \"./ListAnnotationsBy.vue?vue&type=script&lang=js&\"\nexport * from \"./ListAnnotationsBy.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListAnnotationsBy.vue?vue&type=style&index=0&id=357d368c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"357d368c\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {Style, Stroke, Fill, Circle, Text} from 'ol/style';\r\nimport {MultiPoint} from 'ol/geom';\r\nimport {asArray as hexToRgb} from 'ol/color';\r\nimport constants from '@/utils/constants';\r\n\r\n// -----\r\n\r\nexport function isCluster(feature) {\r\n  let annot = feature.get('annot');\r\n  if(!annot) {\r\n    return;\r\n  }\r\n  return annot.count != null;\r\n}\r\n\r\n// -----\r\n\r\nexport function createStrokeStyle(color, opacity=0.5) {\r\n  let colorArray = hexToRgb(color);\r\n  let colorWithOpacity = colorArray.slice();\r\n  colorWithOpacity[3] = opacity;\r\n\r\n  let stroke = new Stroke({color: colorWithOpacity, width: 2});\r\n\r\n  return new Style({\r\n    stroke,\r\n    image: new Circle({radius:5, stroke: stroke})\r\n  });\r\n}\r\n\r\nexport function createLineStrokeStyle(color, opacity=0.5) {\r\n  let colorArray = hexToRgb(color);\r\n  let colorWithOpacity = colorArray.slice();\r\n  colorWithOpacity[3] = opacity;\r\n\r\n  return new Style({stroke: new Stroke({color: colorWithOpacity, width: 5})});\r\n}\r\n\r\n// -----\r\n\r\nfunction colorWithOpacity(color, opacity) {\r\n  let colorWithOpacity = color.slice();\r\n  colorWithOpacity[3] = opacity;\r\n  return colorWithOpacity;\r\n}\r\n\r\nfunction createStroke(opacity=0.5) {\r\n  let color = (constants.ANNOTATION_STROKE_COLOR) ? constants.ANNOTATION_STROKE_COLOR : black;\r\n  return new Stroke({color: colorWithOpacity(color, opacity), width: 2});\r\n}\r\n\r\nexport function createColorStyle(color, opacity=0.5) {\r\n  let colorArray = hexToRgb(color);\r\n  let colorWithOpacity = colorArray.slice();\r\n  colorWithOpacity[3] = opacity;\r\n\r\n  let fill = new Fill({color: colorWithOpacity});\r\n\r\n  let circleStyle = new Circle({\r\n    radius: 5,\r\n    fill: new Fill({color: colorArray}),\r\n    stroke: createStroke(1),\r\n  });\r\n  circleStyle.setOpacity(opacity);\r\n\r\n  return new Style({\r\n    fill,\r\n    stroke: createStroke(opacity),\r\n    image: circleStyle\r\n  });\r\n}\r\n\r\n// -----\r\n\r\nexport function createColorLineStyle(color, opacity=0.5) {\r\n  let colorArray = hexToRgb(color);\r\n  let colorWithOpacity = colorArray.slice();\r\n  colorWithOpacity[3] = opacity;\r\n\r\n  return new Style({ stroke: new Stroke({color: colorWithOpacity, width: 3}) });\r\n}\r\n\r\n// -----\r\n\r\nlet textFill = new Fill({color: '#fff'});\r\nlet textStroke = new Stroke({color: '#000', width: 3});\r\n\r\nexport function createTextStyle(text, fontSize='22px', fill=textFill, stroke=textStroke) {\r\n  return new Style({\r\n    text: new Text({\r\n      text,\r\n      font: `${fontSize} Arial, sans-serif`,\r\n      overflow: true,\r\n      fill,\r\n      stroke\r\n    })\r\n  });\r\n}\r\n\r\n// -----\r\n\r\nlet width = 2;\r\n\r\nlet blue = [0, 153, 255, 1];\r\nlet green = [51, 160, 79, 1];\r\nlet lightGreen = [17, 214, 76, 1];\r\nlet red = [200, 40, 40, 1];\r\nlet lightRed = [255, 56, 56, 1];\r\nlet white = [255, 255, 255, 1];\r\nlet black = [0, 0, 0, 1];\r\n\r\nlet blueStroke = new Stroke({color: blue, width: width});\r\nlet greenStroke = new Stroke({color: green, width: width + 1});\r\nlet lightGreenStroke = new Stroke({color: lightGreen, width: width});\r\nlet redStroke = new Stroke({color: red, width: width + 1});\r\nlet lightRedStroke = new Stroke({color: lightRed, width: width});\r\nlet whiteStroke = new Stroke({color: white, width: width + 2});\r\n\r\nlet selectStroke = blueStroke;\r\nif (constants.ANNOTATION_STROKE_SELECT_COLOR) {\r\n  let color = colorWithOpacity(constants.ANNOTATION_STROKE_SELECT_COLOR, 1);\r\n  selectStroke = new Stroke({color, width});\r\n}\r\n\r\nexport let trackedSelectStyles = [\r\n  new Style({ stroke: whiteStroke }),\r\n  new Style({ image: new Circle({radius: 6, stroke: whiteStroke}) })\r\n];\r\n\r\nexport let selectStyles = [\r\n  new Style({ stroke: whiteStroke }),\r\n  new Style({ stroke: selectStroke }),\r\n  new Style({ image: new Circle({radius: 6, stroke: selectStroke}) })\r\n];\r\n\r\nexport let verticesStyle = new Style({\r\n  image: new Circle({radius: width + 1, fill: new Fill({color: blue})}),\r\n  geometry: function(feature) {\r\n    // return the coordinates of the first ring of the polygon\r\n    var coordinates = feature.getGeometry().getCoordinates()[0];\r\n    return new MultiPoint(coordinates);\r\n  }\r\n});\r\n\r\nexport let reviewedStyles = [\r\n  new Style({ stroke: greenStroke }),\r\n  new Style({ image: new Circle({radius: 6, stroke: greenStroke}) })\r\n];\r\n\r\nexport let reviewedSelectStyles = [\r\n  new Style({ stroke: whiteStroke }),\r\n  new Style({ stroke: lightGreenStroke }),\r\n  new Style({ image: new Circle({radius: 6, stroke: lightGreenStroke}) })\r\n];\r\n\r\nexport let rejectedStyles = [\r\n  new Style({ stroke: redStroke }),\r\n  new Style({ image: new Circle({radius: 6, stroke: redStroke}) })\r\n];\r\n\r\nexport let rejectedSelectStyles = [\r\n  new Style({ stroke: whiteStroke }),\r\n  new Style({ stroke: lightRedStroke }),\r\n  new Style({ image: new Circle({radius: 6, stroke: lightRedStroke}) })\r\n];\r\n\r\n// -----\r\n\r\nexport function changeOpacity(style, opacity) {\r\n  let stroke = style.getStroke();\r\n  if(stroke) {\r\n    stroke.getColor()[3] = opacity;\r\n  }\r\n  let fill = style.getFill();\r\n  if(fill) {\r\n    fill.getColor()[3] = opacity;\r\n  }\r\n  let image = style.getImage();\r\n  if(image) {\r\n    image.setOpacity(opacity);\r\n  }\r\n}\r\n\r\n// -----\r\n\r\nfunction createDefaultColor(name, hexaCode) {\r\n  return {\r\n    name,\r\n    fill: new Fill({color: '#' + hexaCode}),\r\n    hexaCode\r\n  };\r\n}\r\n\r\nexport const defaultColors = Object.freeze([\r\n  createDefaultColor('black', '000000'),\r\n  createDefaultColor('white', 'ffffff'),\r\n  createDefaultColor('red', 'ff0000'),\r\n  createDefaultColor('orange', 'ff6600'),\r\n  createDefaultColor('yellow', 'ffff00'),\r\n  createDefaultColor('green', '008000'),\r\n  createDefaultColor('blue', '0000ff'),\r\n  createDefaultColor('purple', '800080')\r\n]);\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(() => _vm.activeSelector = false),expression:\"() => activeSelector = false\"}],staticClass:\"multiselect\",class:{'multiselect--active': _vm.activeSelector}},[_c('div',{staticClass:\"multiselect__select\",on:{\"click\":function($event){_vm.activeSelector = !_vm.activeSelector}}}),_c('div',{staticClass:\"multiselect__tags\",on:{\"click\":function($event){_vm.activeSelector=true}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.activeSelector),expression:\"!activeSelector\"}],staticClass:\"multiselect__tags-wrap\"},[(_vm.allSelected)?_c('strong',[_vm._v(\" \"+_vm._s(_vm.$t('all'))+\" \")]):[_vm._l((_vm.displayedSelectedTracks),function(track,index){return _c('span',{key:track.id},[_c('cytomine-track',{attrs:{\"track\":track}}),(index < _vm.displayedSelectedTracks.length - 1)?_c('span',{staticClass:\"comma\"},[_vm._v(\",\")]):_vm._e()],1)}),(_vm.countNotDisplayed > 0)?_c('strong',[_vm._v(\" \"+_vm._s(_vm.$tc(\"and-count-others\", _vm.countNotDisplayed, {count: _vm.countNotDisplayed}))+\" \")]):_vm._e()]],2),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeSelector),expression:\"activeSelector\"},{name:\"model\",rawName:\"v-model\",value:(_vm.searchString),expression:\"searchString\"}],ref:\"input\",staticClass:\"multiselect__input\",attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('select-options')},domProps:{\"value\":(_vm.searchString)},on:{\"input\":function($event){if($event.target.composing)return;_vm.searchString=$event.target.value}}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeSelector),expression:\"activeSelector\"}],staticClass:\"multiselect__content-wrapper\"},[(_vm.multiple)?_c('ul',[_c('li',{staticClass:\"multiselect__element multiselect__select-all\",on:{\"click\":function($event){return _vm.selectAll()}}},[_c('span',{class:['multiselect__option', _vm.allSelected ? 'multiselect__option--selected' : '']},[_vm._v(\" \"+_vm._s(_vm.$t('select-all'))+\" \")])])]):_vm._e(),_c('track-tree',{attrs:{\"tracks\":_vm.tracks,\"additionalNodes\":_vm.additionalNodes,\"startWithAdditionalNodes\":_vm.startWithAdditionalNodes,\"selectedNodes\":_vm.selectedNodes,\"searchString\":_vm.searchString,\"multipleSelection\":_vm.multiple},on:{\"select\":function($event){return _vm.handleSelection()},\"setSelectedNodes\":nodes => _vm.$emit('setSelectedNodes', nodes)},scopedSlots:_vm._u([{key:\"no-result\",fn:function(){return [_c('ul',{staticClass:\"multiselect__content\"},[_c('li',{on:{\"click\":function($event){return _vm.selectAll()}}},[_c('span',{staticClass:\"multiselect__option\"},[_vm._v(\" \"+_vm._s(_vm.$t('no-result'))+\" \")])])])]},proxy:true}])})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"multiselect\"\r\n  :class=\"{'multiselect--active': activeSelector}\"\r\n  v-click-outside=\"() => activeSelector = false\"\r\n>\r\n\r\n  <div class=\"multiselect__select\" @click=\"activeSelector = !activeSelector\"></div>\r\n\r\n  <div class=\"multiselect__tags\" @click=\"activeSelector=true\">\r\n    <div v-show=\"!activeSelector\" class=\"multiselect__tags-wrap\">\r\n      <strong v-if=\"allSelected\"> {{$t('all')}} </strong>\r\n      <template v-else>\r\n        <span v-for=\"(track, index) in displayedSelectedTracks\" :key=\"track.id\">\r\n          <cytomine-track :track=\"track\" />\r\n          <span class=\"comma\" v-if=\"index < displayedSelectedTracks.length - 1\">,</span>\r\n        </span>\r\n        <strong v-if=\"countNotDisplayed > 0\">\r\n          {{ $tc(\"and-count-others\", countNotDisplayed, {count: countNotDisplayed}) }}\r\n        </strong>\r\n      </template>\r\n    </div>\r\n    <input\r\n      v-show=\"activeSelector\"\r\n      type=\"text\"\r\n      class=\"multiselect__input\"\r\n      :placeholder=\"$t('select-options')\"\r\n      ref=\"input\"\r\n      v-model=\"searchString\"\r\n    >\r\n  </div>\r\n\r\n  <div class=\"multiselect__content-wrapper\" v-show=\"activeSelector\">\r\n    <ul v-if=\"multiple\">\r\n      <li class=\"multiselect__element multiselect__select-all\" @click=\"selectAll()\">\r\n        <span :class=\"['multiselect__option', allSelected ? 'multiselect__option--selected' : '']\">\r\n          {{$t('select-all')}}\r\n        </span>\r\n      </li>\r\n    </ul>\r\n    <track-tree\r\n      :tracks=\"tracks\"\r\n      :additionalNodes=\"additionalNodes\"\r\n      :startWithAdditionalNodes=\"startWithAdditionalNodes\"\r\n      :selectedNodes=\"selectedNodes\"\r\n      :searchString=\"searchString\"\r\n      :multipleSelection=\"multiple\"\r\n      @select=\"handleSelection()\"\r\n      @setSelectedNodes=\"nodes => $emit('setSelectedNodes', nodes)\"\r\n    >\r\n      <template #no-result>\r\n        <ul class=\"multiselect__content\">\r\n          <li @click=\"selectAll()\">\r\n            <span class=\"multiselect__option\">\r\n              {{$t('no-result')}}\r\n            </span>\r\n          </li>\r\n        </ul>\r\n      </template>\r\n    </track-tree>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport TrackTree from './TrackTree';\r\nimport CytomineTrack from './CytomineTrack';\r\n\r\nexport default {\r\n  name: 'track-tree-multiselect',\r\n  components: {\r\n    TrackTree,\r\n    CytomineTrack\r\n  },\r\n  model: {\r\n    prop: 'selectedNodes',\r\n    event: 'setSelectedNodes'\r\n  },\r\n  props: {\r\n    tracks: {type: Array},\r\n    additionalNodes: {type: Array, default: () => []},\r\n    startWithAdditionalNodes: {type: Boolean, default: false},\r\n    selectedNodes: {type: Array, default: () => []},\r\n    multiple: {type: Boolean, default: true}\r\n  },\r\n  data() {\r\n    return {\r\n      activeSelector: false,\r\n      searchString: '',\r\n      maxNbDisplayed: 3\r\n    };\r\n  },\r\n  computed: {\r\n    allTracks() {\r\n      if(!this.tracks) {\r\n        return [];\r\n      }\r\n      let tracks = this.additionalNodes.map(node => node);\r\n      tracks.push(...this.tracks);\r\n      return tracks;\r\n    },\r\n    allSelected() {\r\n      return this.allTracks.length === this.selectedNodes.length;\r\n    },\r\n    displayedSelectedTracks() {\r\n      let ids = this.selectedNodes.slice(0, this.maxNbDisplayed);\r\n      return ids.map(id => this.allTracks.find(track => track.id === id));\r\n    },\r\n    countNotDisplayed() {\r\n      return this.selectedNodes.length - this.maxNbDisplayed;\r\n    }\r\n  },\r\n  watch: {\r\n    async activeSelector(val) {\r\n      if(val) {\r\n        await this.$nextTick();\r\n        this.$refs.input.focus();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    selectAll() {\r\n      this.$emit('setSelectedNodes', this.allSelected ? [] : this.allTracks.map(track => track.id));\r\n    },\r\n\r\n    handleSelection() {\r\n      if(!this.multiple) {\r\n        this.activeSelector = false;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackTreeMultiselect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackTreeMultiselect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TrackTreeMultiselect.vue?vue&type=template&id=4e8d2cbb&\"\nimport script from \"./TrackTreeMultiselect.vue?vue&type=script&lang=js&\"\nexport * from \"./TrackTreeMultiselect.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box error\" v-if=\"!configUI['project-annotations-tab']\">\r\n  <h2> {{ $t('access-denied') }} </h2>\r\n  <p>{{ $t('insufficient-permission') }}</p>\r\n</div>\r\n<div class=\"box error\" v-else-if=\"error\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p>{{ $t('error-load-annotations-filters') }}</p>\r\n</div>\r\n<div v-else class=\"content-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <div v-if=\"!loading\">\r\n    <div class=\"box\">\r\n      <h2> {{ $t('display') }} </h2>\r\n      <div class=\"filters\">\r\n        <div class=\"columns\">\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('categorization')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect\r\n                v-model=\"selectedCategorization\"\r\n                :options=\"allowedCategorizations\"\r\n                label=\"label\"\r\n                track-by=\"categorization\"\r\n                :allow-empty=\"false\"\r\n                :searchable=\"false\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('preview-size')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect\r\n                v-model=\"selectedSize\"\r\n                :options=\"allowedSizes\"\r\n                label=\"label\"\r\n                track-by=\"size\"\r\n                :allow-empty=\"false\"\r\n                :searchable=\"false\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('number-per-category')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect\r\n                v-model=\"nbPerPage\"\r\n                :options=\"[10, 25, 50, 100]\"\r\n                :allow-empty=\"false\"\r\n                :searchable=\"false\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('outline-color')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect\r\n                v-model=\"selectedColor\"\r\n                :options=\"colors\"\r\n                label=\"label\"\r\n                track-by=\"name\"\r\n                :allow-empty=\"false\"\r\n                :searchable=\"false\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <h2> {{ $t('filters') }} </h2>\r\n      <div class=\"filters\">\r\n        <div class=\"columns\">\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('annotation-type')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect\r\n                v-model=\"selectedAnnotationType\"\r\n                :options=\"annotationTypes\"\r\n                :allow-empty=\"false\"\r\n                :searchable=\"false\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div v-if=\"ontology\" class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('terms')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <ontology-tree-multiselect\r\n                :ontology=\"ontology\"\r\n                :additionalNodes=\"additionalTermNodes\"\r\n                v-model=\"selectedTermsIds\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div v-if=\"tracks\" class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('tracks')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <track-tree-multiselect\r\n                :tracks=\"filteredTracks\"\r\n                :additional-nodes=\"additionalTrackNodes\"\r\n                v-model=\"selectedTracksIds\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('tags')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect v-model=\"selectedTags\" :options=\"tagsOptions\"\r\n                                    label=\"name\" track-by=\"id\" :multiple=\"true\" :allPlaceholder=\"$t('all')\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"columns\">\r\n\r\n          <div v-if=\"selectedAnnotationType === jobAnnotationOption\" class=\"column filter is-one-third\">\r\n            <div class=\"filter-label\">\r\n              {{$t('analyses')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect\r\n                v-model=\"selectedUserJobs\"\r\n                :options=\"userJobs\"\r\n                label=\"fullName\"\r\n                track-by=\"id\"\r\n                multiple\r\n                :allPlaceholder=\"$t('all-analyses')\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div v-else-if=\"selectedAnnotationType === userAnnotationOption\" class=\"column filter is-one-third\">\r\n            <div class=\"filter-label\">\r\n              {{$t('members')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect\r\n                v-model=\"selectedMembers\"\r\n                :options=\"filteredMembers\"\r\n                label=\"fullName\"\r\n                track-by=\"id\"\r\n                multiple\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div v-else class=\"column filter is-one-third\">\r\n            <div class=\"filter-label\">\r\n              {{$t('reviewers')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect\r\n                v-model=\"selectedReviewers\"\r\n                :options=\"members\"\r\n                label=\"fullName\"\r\n                track-by=\"id\"\r\n                multiple\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"column filter is-one-third\">\r\n            <div class=\"filter-label\">\r\n              {{$t('images')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <b-input\r\n                v-if=\"tooManyImages && selectedImages.length === 0\"\r\n                :placeholder=\"$t('all-images')\"\r\n                disabled\r\n              />\r\n              <cytomine-multiselect\r\n                v-model=\"selectedImages\"\r\n                :options=\"images\"\r\n                :label=\"blindMode ? 'blindedName' : 'instanceFilename'\"\r\n                track-by=\"id\"\r\n                multiple\r\n                :allPlaceholder=\"$t('all-images')\"\r\n                v-else\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('from')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-datepicker v-model=\"fromDate\" :styles=\"['multiselect']\" :maxDate=\"toDate || new Date()\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('to')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-datepicker v-model=\"toDate\" :styles=\"['multiselect']\" :minDate=\"fromDate\" position=\"is-bottom-left\" />\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"list-annots\" @scroll=\"scrollHandler\" ref=\"listAnnots\">\r\n        <list-annotations-by v-for=\"prop in limitedCategoryOptions\" :key=\"`${selectedCategorization.categorization}${prop.id}`\"\r\n        :categorization=\"selectedCategorization.categorization\"\r\n        :size=\"selectedSize.size\"\r\n        :color=\"selectedColor.hexaCode\"\r\n        :nbPerPage=\"nbPerPage\"\r\n\r\n        :allTerms=\"terms\"\r\n        :allUsers=\"allUsers\"\r\n        :allImages=\"images\"\r\n        :allTracks=\"tracks\"\r\n        :allTags=\"tags\"\r\n\r\n        :prop=\"prop\"\r\n        :multiple-terms=\"(isByTerm && prop.id === multipleTermsOption.id)\"\r\n        :no-term=\"(isByTerm && prop.id === noTermOption.id) || (!isByTerm && noTerm)\"\r\n        :multiple-tracks=\"(isByTrack && prop.id === multipleTracksOption.id)\"\r\n        :no-track=\"(isByTrack && prop.id === noTrackOption.id) || (!isByTrack && noTrack)\"\r\n        :terms-ids=\"selectedTermsIds\"\r\n        :tracks-ids=\"selectedTracksIds\"\r\n        :tags-ids=\"selectedTagsIds\"\r\n        :no-tag=\"(isByTag && prop.id === noTagOption.id) || (!isByTag && noTag)\"\r\n        :imagesIds=\"selectedImagesIds\"\r\n        :usersIds=\"selectedUsersIds\"\r\n        :reviewed=\"reviewed\"\r\n        :reviewUsersIds=\"reviewUsersIds\"\r\n        :afterThan=\"afterThan\"\r\n        :beforeThan=\"beforeThan\"\r\n        :revision=\"revision\"\r\n\r\n        v-show=\"showList(prop)\"\r\n        :visible=\"showList(prop)\"\r\n\r\n        @addTerm=\"addTerm\"\r\n        @addTrack=\"addTrack\"\r\n        @updateTermsOrTracks=\"revision++\"\r\n        @delete=\"revision++\"\r\n        @update=\"revision++\"\r\n        @select=\"viewAnnot($event)\"\r\n        />\r\n      <button class=\"button\" v-if=\"!areAllOptionsLoaded\" @click=\"loadCategories()\">\r\n        <span class=\"icon\">\r\n          <i class=\"fas fa-sync\"></i>\r\n        </span>\r\n        <span>{{$t('button-load-more')}}</span>\r\n      </button>\r\n    </div>\r\n    <div class=\"box\">\r\n      <h2 class=\"has-text-centered\"> {{ $t('download-results') }} </h2>\r\n      <div class=\"buttons is-centered\">\r\n        <a class=\"button is-link\" :href=\"downloadURL('pdf')\">{{$t('download-PDF')}}</a>\r\n        <a class=\"button is-link\" :href=\"downloadURL('csv')\">{{$t('download-CSV')}}</a>\r\n        <a class=\"button is-link\" :href=\"downloadURL('xls')\">{{$t('download-excel')}}</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get, sync, syncMultiselectFilter} from '@/utils/store-helpers';\r\nimport constants from '@/utils/constants.js';\r\n\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport CytomineDatepicker from '@/components/form/CytomineDatepicker';\r\nimport OntologyTreeMultiselect from '@/components/ontology/OntologyTreeMultiselect';\r\n\r\nimport ListAnnotationsBy from './ListAnnotationsBy';\r\n\r\nimport {ImageInstanceCollection, UserCollection, UserJobCollection, AnnotationCollection, TrackCollection, TagCollection, ImageInstance} from 'cytomine-client';\r\n\r\nimport {fullName} from '@/utils/user-utils.js';\r\nimport {defaultColors} from '@/utils/style-utils.js';\r\nimport TrackTreeMultiselect from '@/components/track/TrackTreeMultiselect';\r\n\r\nimport _ from 'lodash';\r\n\r\n// store options to use with store helpers to target projects/currentProject/listImages module\r\nconst storeOptions = {rootModuleProp: 'storeModule'};\r\n// redefine helpers to use storeOptions and correct module path\r\nconst localSyncMultiselectFilter = (filterName, options) => syncMultiselectFilter(null, filterName, options, storeOptions);\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\nconst categoryBatch = constants.CATEGORY_ITEMS_PER_BATCH;\r\n\r\nexport default {\r\n  name: 'list-annotations',\r\n  components: {\r\n    TrackTreeMultiselect,\r\n    CytomineMultiselect,\r\n    CytomineDatepicker,\r\n    OntologyTreeMultiselect,\r\n    ListAnnotationsBy\r\n  },\r\n  data() {\r\n    return {\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      loading: true,\r\n      error: false,\r\n      revision: 0,\r\n\r\n      projectUsers: [],\r\n      userJobs: [],\r\n\r\n      tracks: [],\r\n\r\n      allowedSizes: [\r\n        {label: this.$t('small'), size: 85},\r\n        {label: this.$t('medium'), size: 125},\r\n        {label: this.$t('large'), size: 200},\r\n        {label: this.$t('huge'), size: 400},\r\n      ],\r\n\r\n      userAnnotationOption: this.$t('user-annotations'),\r\n      jobAnnotationOption: this.$t('analysis-annotations'),\r\n      reviewedAnnotationOption: this.$t('reviewed-annotations'),\r\n      annotationTypes: [],\r\n\r\n      images: [],\r\n      tags:[],\r\n\r\n      noTermOption: {id: 0, name: this.$t('no-term')},\r\n      multipleTermsOption: {id: -1, name: this.$t('multiple-terms')},\r\n\r\n      noTrackOption: {id: 0, name: this.$t('no-track')},\r\n      multipleTracksOption: {id: -1, name: this.$t('multiple-tracks')},\r\n\r\n      noTagOption: {id: 0, name: this.$t('no-tag')},\r\n\r\n      uncategorizedOption: {id: 0, name: this.$t('uncategorized')},\r\n\r\n      nLoadedOptionsPerCategory: {\r\n        'TERM': constants.ANNOTATIONS_MAX_ITEMS_PER_CATEGORY,\r\n        'IMAGE': constants.ANNOTATIONS_MAX_ITEMS_PER_CATEGORY,\r\n        'USER': constants.ANNOTATIONS_MAX_ITEMS_PER_CATEGORY,\r\n        'TRACK': constants.ANNOTATIONS_MAX_ITEMS_PER_CATEGORY,\r\n        'UNCATEGORIZED': constants.ANNOTATIONS_MAX_ITEMS_PER_CATEGORY\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    allowedCategorizations() {\r\n      let categorizations = [\r\n        {label: this.$t('per-term'), categorization: 'TERM'},\r\n        {label: this.$t('per-track'), categorization: 'TRACK'},\r\n        {label: this.$t('per-user'), categorization: 'USER'},\r\n      ];\r\n\r\n      if (!this.tooManyImages) {\r\n        categorizations.push({label: this.$t('per-image'), categorization: 'IMAGE'});\r\n      }\r\n\r\n      // Adding an uncategorized option at the end of the array\r\n      categorizations.push({label: this.$t('uncategorized'), categorization: 'UNCATEGORIZED'});\r\n\r\n      return categorizations;\r\n    },\r\n    currentUser: get('currentUser/user'),\r\n    project: get('currentProject/project'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    blindMode() {\r\n      return this.project.blindMode;\r\n    },\r\n    canManageProject() {\r\n      return this.$store.getters['currentProject/canManageProject'];\r\n    },\r\n    ontology: get('currentProject/ontology'),\r\n    configUI: get('currentProject/configUI'),\r\n\r\n    storeModule() { // path to the vuex module in which state of this component is stored (projects/currentProject/listAnnotations)\r\n      return this.$store.getters['currentProject/currentProjectModule'] + 'listAnnotations';\r\n    },\r\n\r\n    colors() {\r\n      let colors = defaultColors.map(color => ({label: this.$t(color.name), ...color}));\r\n      colors.push({label: this.$t('no-outline'), hexaCode: ''});\r\n      return colors;\r\n    },\r\n\r\n    selectedSize: sync('previewSize', storeOptions),\r\n    selectedCategorization: sync('categorization', storeOptions),\r\n    nbPerPage: sync('perPage', storeOptions),\r\n    selectedColor: sync('outlineColor', storeOptions),\r\n\r\n    // eslint-disable-next-line vue/return-in-computed-property\r\n    targetAnnotationType() {\r\n      switch(this.$route.query.type) {\r\n        case 'user':\r\n          return this.userAnnotationOption;\r\n        case 'algo':\r\n          return this.jobAnnotationOption;\r\n        case 'reviewed':\r\n          return this.reviewedAnnotationOption;\r\n      }\r\n    },\r\n\r\n    allUsers() {\r\n      return this.projectUsers.concat(this.userJobs);\r\n    },\r\n    members: get('currentProject/members'),\r\n    managers: get('currentProject/managers'),\r\n    filteredMembers() { // filter the members so as to return only those whose annotations can be seen by current user\r\n      if(this.canManageProject || (!this.project.hideUsersLayers && !this.project.hideAdminsLayers)) {\r\n        return this.members;\r\n      }\r\n\r\n      let idManagers = this.managers.map(m => m.id);\r\n      return this.members.filter(member => {\r\n        if(this.currentUser.id === member.id) {\r\n          return true;\r\n        }\r\n        let isManager = idManagers.includes(member.id);\r\n        return isManager ? !this.project.hideAdminsLayers : !this.project.hideUsersLayers;\r\n      });\r\n    },\r\n\r\n    terms() {\r\n      return this.$store.getters['currentProject/terms'] || [];\r\n    },\r\n    additionalTermNodes() {\r\n      let additionalNodes = [this.noTermOption];\r\n      if(this.terms.length > 1 && this.isByTerm) {\r\n        additionalNodes.push(this.multipleTermsOption);\r\n      }\r\n      return additionalNodes;\r\n    },\r\n    termsOptions() {\r\n      return this.terms.concat(this.additionalTermNodes);\r\n    },\r\n    termOptionsIds() {\r\n      return this.termsOptions.map(option => option.id);\r\n    },\r\n    filteredTracks() {\r\n      return this.tracks.filter(track => this.selectedImagesIds.includes(track.image));\r\n    },\r\n    filteredTracksIds() {\r\n      return this.filteredTracks.map(track => track.id);\r\n    },\r\n    additionalTrackNodes() {\r\n      let additionalNodes = [this.noTrackOption];\r\n      if (this.tracks.length > 1 && this.isByTrack) {\r\n        additionalNodes.push(this.multipleTracksOption);\r\n      }\r\n      return additionalNodes;\r\n    },\r\n    tracksOptions() {\r\n      return this.filteredTracks.concat(this.additionalTrackNodes);\r\n    },\r\n    trackOptionsIds() {\r\n      return this.tracksOptions.map(option => option.id);\r\n    },\r\n\r\n    tagsOptions() {\r\n      return [...this.tags, this.noTagOption];\r\n    },\r\n\r\n    selectedAnnotationType: sync('annotationType', storeOptions),\r\n    selectedMembers: localSyncMultiselectFilter('members', 'filteredMembers'),\r\n    selectedReviewers: localSyncMultiselectFilter('reviewers', 'members'),\r\n    selectedUserJobs: localSyncMultiselectFilter('userJobs', 'userJobs'),\r\n    selectedImages: localSyncMultiselectFilter('images', 'images'),\r\n    selectedTags: localSyncMultiselectFilter('tags', 'tagsOptions'),\r\n    selectedTracksIds: localSyncMultiselectFilter('tracksIds', 'trackOptionsIds'),\r\n    selectedTermsIds: localSyncMultiselectFilter('termsIds', 'termOptionsIds'),\r\n    fromDate: sync('fromDate', storeOptions),\r\n    toDate: sync('toDate', storeOptions),\r\n\r\n    afterThan() {\r\n      return this.fromDate ? this.fromDate.getTime() : null;\r\n    },\r\n    beforeThan() {\r\n      return this.toDate ? this.toDate.setHours(23, 59, 59, 999) : null;\r\n    },\r\n\r\n    reviewed() {\r\n      return this.selectedAnnotationType === this.reviewedAnnotationOption;\r\n    },\r\n    selectedUsersIds() {\r\n      if(this.reviewed) {\r\n        return null;\r\n      }\r\n      let users = (this.selectedAnnotationType === this.jobAnnotationOption) ? this.selectedUserJobs : this.selectedMembers;\r\n      return users.map(user => user.id);\r\n    },\r\n    reviewUsersIds() {\r\n      return this.reviewed ? this.selectedReviewers.map(u => u.id) : null;\r\n    },\r\n\r\n    querySearchImage() {\r\n      return this.$route.query.image;\r\n    },\r\n    querySearchTags() {\r\n      return this.$route.query.tags;\r\n    },\r\n    selectedImagesIds() {\r\n      return this.selectedImages.map(img => img.id);\r\n    },\r\n    // eslint-disable-next-line vue/return-in-computed-property\r\n    /**\r\n     * This computed property returns an array.\r\n     * The array will be either empty or will be multiple objects of the same type.\r\n     * The type of these objects depends on the selected categorization.\r\n     */\r\n    categoryOptions() {\r\n      switch (this.selectedCategorization.categorization) {\r\n        case 'TERM':\r\n          return this.termsOptions;\r\n        case 'IMAGE':\r\n          return this.images;\r\n        case 'USER':\r\n          if (this.selectedAnnotationType === this.jobAnnotationOption)\r\n            return this.selectedUserJobs;\r\n          if (this.reviewed)\r\n            return this.selectedReviewers;\r\n          return this.selectedMembers;\r\n        case 'TRACK':\r\n          return this.tracksOptions;\r\n        case 'UNCATEGORIZED':\r\n          // Return an array containing one option to stick to the current behavior\r\n          return [this.uncategorizedOption];\r\n        default:\r\n          return [];\r\n      }\r\n    },\r\n    /**\r\n     * In the template, we loop over the limitedCategoryOptions computed property.\r\n     * Zero, one or multiple ListAnnotationBy component can be rendered from this array.\r\n     * The array is built by slicing the categoryOptions computed property.\r\n     */\r\n    limitedCategoryOptions() {\r\n      return this.categoryOptions.slice(0, this.nLoadedOptionsPerCategory[this.selectedCategorization.categorization]);\r\n    },\r\n    areAllOptionsLoaded() {\r\n      return this.categoryOptions.length === this.limitedCategoryOptions.length;\r\n    },\r\n    isByTerm() {\r\n      return this.selectedCategorization.categorization === 'TERM';\r\n    },\r\n    isByTrack() {\r\n      return this.selectedCategorization.categorization === 'TRACK';\r\n    },\r\n    isByTag() {\r\n      return this.selectedCategorization.categorization === 'TAG';\r\n    },\r\n    noTerm() {\r\n      return this.selectedTermsIds.includes(this.noTermOption.id);\r\n    },\r\n    noTrack() {\r\n      return this.selectedTracksIds.includes(this.noTrackOption.id);\r\n    },\r\n    noTag() {\r\n      return this.selectedTagsIds.includes(this.noTagOption.id);\r\n    },\r\n\r\n    selectedTagsIds() {\r\n      return this.selectedTags.map(t => t.id);\r\n    },\r\n    collection() {\r\n      let users = (this.selectedAnnotationType === this.jobAnnotationOption) ? this.userJobs : this.projectUsers;\r\n\r\n      let collection = new AnnotationCollection({\r\n        project: this.project.id,\r\n        terms: this.selectedTermsIds.length===this.termsOptions.length ? null : this.selectedTermsIds,\r\n        images: !(this.tooManyImages && this.selectedImages.length === 0) ? this.selectedImagesIds : null,\r\n        users: /*[OP-1885] (this.selectedUsersIds && this.selectedUsersIds.length===users.length) ? null :*/ this.selectedUsersIds,\r\n        reviewed: this.reviewed,\r\n        reviewUsers: this.reviewUsersIds,\r\n        noTerm: this.noTerm,\r\n        multipleTerms: this.selectedTermsIds.includes(this.multipleTermsOption.id),\r\n        afterThan: this.afterThan,\r\n        beforeThan: this.beforeThan\r\n      });\r\n\r\n      if(this.selectedTagsIds.length > 0 && this.selectedTagsIds.length < this.tags.length) {\r\n        collection['tags'] = this.selectedTagsIds;\r\n        collection['noTag'] = this.noTag;\r\n      }\r\n\r\n      return collection;\r\n    },\r\n    tooManyImages() {\r\n      return this.project.numberOfImages > constants.MAX_IMAGES_FOR_FILTER;\r\n    }\r\n  },\r\n  methods: {\r\n    scrollHandler: _.debounce(function() {\r\n      let scrollBlock = this.$refs.listAnnots;\r\n      let actualScrollPos = scrollBlock.scrollTop + scrollBlock.clientHeight;\r\n\r\n      if (actualScrollPos === scrollBlock.scrollHeight && !this.areAllOptionsLoaded) {\r\n        console.log(\"Loading new categories from scroll handler.\");\r\n        this.loadCategories();\r\n      }\r\n    }, 100),\r\n    loadCategories(){\r\n      const newCount = this.limitedCategoryOptions.length + categoryBatch;\r\n      if (newCount >= this.categoryOptions.length) {\r\n        this.nLoadedOptionsPerCategory[this.selectedCategorization.categorization] = this.categoryOptions.length;\r\n      }\r\n      else {\r\n        this.nLoadedOptionsPerCategory[this.selectedCategorization.categorization] = newCount;\r\n      }\r\n    },\r\n    appendShortTermToken,\r\n    viewAnnot(data) {\r\n      this.$router.push(`/project/${this.project.id}/image/${data.annot.image}/annotation/${data.annot.id}`);\r\n    },\r\n    async fetchImages() {\r\n      if (!this.tooManyImages) {\r\n        this.images = (await ImageInstanceCollection.fetchAll({\r\n          filterKey: 'project',\r\n          filterValue: this.project.id,\r\n          light: true\r\n        })).array;\r\n      }\r\n    },\r\n    async fetchUsers() {\r\n\r\n      let collection = new UserCollection({\r\n        filterKey: 'project',\r\n        filterValue: this.project.id,\r\n      });\r\n\r\n      this.projectUsers = (await collection.fetchAll()).array;\r\n      this.projectUsers.forEach(user => {\r\n        user.fullName = fullName(user);\r\n      });\r\n    },\r\n    async fetchUserJobs() {\r\n      this.userJobs = (await UserJobCollection.fetchAll({filterKey: 'project', filterValue: this.project.id})).array;\r\n      this.userJobs.forEach(userJob => {\r\n        userJob.fullName = fullName(userJob);\r\n      });\r\n    },\r\n    async fetchTracks() {\r\n      this.tracks = (await TrackCollection.fetchAll({filterKey: 'project', filterValue: this.project.id})).array;\r\n    },\r\n    async fetchTags() {\r\n      this.tags = (await TagCollection.fetchAll()).array;\r\n    },\r\n    downloadURL(format) {\r\n      return appendShortTermToken(this.collection.getDownloadURL(format), this.shortTermToken);\r\n    },\r\n    addTerm(term) {\r\n      this.terms.push(term);\r\n      this.selectedTermsIds.push(term.id);\r\n    },\r\n    addTrack(track) {\r\n      this.tracks.push(track);\r\n    },\r\n    resetPagesAndFilters() {\r\n      this.$store.commit(this.storeModule + '/resetPagesAndFilters');\r\n    },\r\n    showList(prop) {\r\n      switch (this.selectedCategorization.categorization) {\r\n        case 'TERM':\r\n          return this.selectedTermsIds.includes(prop.id);\r\n        case 'IMAGE':\r\n          return this.selectedImagesIds.includes(prop.id);\r\n        case 'USER':\r\n          return this.reviewed ? this.reviewUsersIds.includes(prop.id) : this.selectedUsersIds.includes(prop.id);\r\n        case 'TRACK':\r\n          return this.selectedTracksIds.includes(prop.id);\r\n        /**\r\n         * We will only have one ListAnnotationBy component rendered\r\n         * when the selectedCategorization is uncategorized.\r\n         * Removing or adding terms, images, etc, \r\n         * in the filters shouldn't change the component visibility.\r\n         */\r\n        case 'UNCATEGORIZED':\r\n          return true;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    querySearchTags(values) {\r\n      if(values) {\r\n        this.selectedTags = [];\r\n        let queriedTags = this.availableTags.filter(tag => values.split(',').includes(tag.name));\r\n        if(queriedTags) {\r\n          this.resetPagesAndFilters(); // we want all annotations of the job => reset state\r\n          this.selectedTags = queriedTags;\r\n        }\r\n      }\r\n    },\r\n    querySearchImage(val) {\r\n      if(val) {\r\n        this.selectedImages = [];\r\n        let queriedImage = this.images.find(image => image.id === Number(val));\r\n        if(queriedImage) {\r\n          this.resetPagesAndFilters(); // we want all annotations of the image => reset state\r\n          this.selectedImages = [queriedImage];\r\n        }\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    this.annotationTypes = [this.userAnnotationOption, this.reviewedAnnotationOption];\r\n    if(this.algoEnabled) this.annotationTypes.splice(1, 0, this.jobAnnotationOption);\r\n\r\n    // if store was not yet initialized, set default values\r\n    if(!this.selectedSize) {\r\n      this.selectedSize = this.allowedSizes[0];\r\n    }\r\n    if(!this.selectedCategorization) {\r\n      this.selectedCategorization = this.allowedCategorizations[0];\r\n    }\r\n    if(!this.selectedColor) {\r\n      this.selectedColor = this.colors[0];\r\n    }\r\n    if(!this.selectedAnnotationType) {\r\n      this.selectedAnnotationType = this.userAnnotationOption;\r\n    }\r\n    // ---\r\n\r\n    try {\r\n      await Promise.all([\r\n        this.fetchImages(),\r\n        this.fetchUsers(),\r\n        this.fetchUserJobs(),\r\n        this.fetchTracks(),\r\n        this.fetchTags()\r\n      ]);\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n      return;\r\n    }\r\n\r\n    if(this.targetAnnotationType) {\r\n      this.resetPagesAndFilters(); // we want all annotations of this type => reset state\r\n      this.selectedAnnotationType = this.targetAnnotationType;\r\n    }\r\n\r\n    if(this.$route.query.image) {\r\n      let queriedImage = this.images.find(image => image.id === Number(this.$route.query.image));\r\n      if(this.tooManyImages) {\r\n        queriedImage = await ImageInstance.fetch(Number(this.$route.query.image));\r\n      }\r\n      if(queriedImage) {\r\n        this.resetPagesAndFilters(); // we want all annotations of the image => reset state\r\n        this.selectedImages = [queriedImage];\r\n      }\r\n    }\r\n\r\n    if(this.$route.query.userJob) {\r\n      let queriedUserJob = this.userJobs.find(uj => uj.id === Number(this.$route.query.userJob));\r\n      if(queriedUserJob) {\r\n        this.resetPagesAndFilters(); // we want all annotations of the job => reset state\r\n        this.selectedAnnotationType = this.jobAnnotationOption;\r\n        this.selectedUserJobs = [queriedUserJob];\r\n      }\r\n    }\r\n    if(this.$route.query.tags) {\r\n      let queriedTags = this.availableTags.filter(tag => this.$route.query.tags.split(',').includes(tag.name));\r\n      if(queriedTags) {\r\n        this.resetPagesAndFilters(); // we want all annotations of the tags => reset state\r\n        this.selectedTags = queriedTags;\r\n      }\r\n    }\r\n\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.list-annots{\r\n  max-height: 80vh;\r\n  overflow: auto;\r\n  margin-bottom: 1em;\r\n}\r\n\r\n.filters:not(:last-child) {\r\n  margin-bottom: 1.25rem;\r\n}\r\n\r\n.filter.column {\r\n  padding: 0.4em 0.75em;\r\n}\r\n\r\n.button {\r\n  display: block;\r\n  margin: auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAnnotations.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAnnotations.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListAnnotations.vue?vue&type=template&id=8e411a6c&scoped=true&\"\nimport script from \"./ListAnnotations.vue?vue&type=script&lang=js&\"\nexport * from \"./ListAnnotations.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListAnnotations.vue?vue&type=style&index=0&id=8e411a6c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8e411a6c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.configUI['project-activities-tab'])?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):_c('div',{staticClass:\"project-activity-wrapper content-wrapper\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[(_vm.canManageProject)?_c('b-field',{staticClass:\"radio-buttons-fullwidth is-hovered\"},[_c('b-radio-button',{attrs:{\"native-value\":\"charts\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('activity-charts'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"members\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('members-activity'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"logs\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('activity-logs'))+\" \")])],1):_vm._e()],1),_c('div',{staticClass:\"column is-narrow\"},[_c('b-dropdown',{staticClass:\"date-picker-dropdown\",attrs:{\"position\":\"is-bottom-left\",\"disabled\":_vm.activeTab === 'members'},scopedSlots:_vm._u([{key:\"trigger\",fn:function(){return [_c('button',{staticClass:\"button is-hovered\"},[_c('i',{staticClass:\"far fa-calendar\"})])]},proxy:true}])},[_c('b-dropdown-item',{attrs:{\"custom\":\"\"}},[_c('b-field',{attrs:{\"label\":_vm.$t('from'),\"horizontal\":\"\"}},[_c('cytomine-datepicker',{attrs:{\"maxDate\":_vm.endDate || new Date()},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('to'),\"horizontal\":\"\"}},[_c('cytomine-datepicker',{attrs:{\"minDate\":_vm.startDate,\"maxDate\":new Date()},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1)],1)],1)],1)]),_c('div',{staticClass:\"component-wrapper\"},[_c('keep-alive',[_c(_vm.activeComponent,{tag:\"component\",attrs:{\"startDate\":_vm.startDate ? _vm.startDate.getTime() : null,\"endDate\":_vm.endDate ? _vm.endDate.setHours(23, 59, 59, 999) : null}})],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tile is-ancestor is-vertical project-activity-charts-wrapper\"},[_c('div',{staticClass:\"tile\"},[_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box chart-box\"},[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t(\"activity\")))]),_c('div',{staticClass:\"column is-narrow is-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"activity-chart-info-message\")))]),_c('p',[_vm._v(_vm._s(_vm.$t(\"barchart-hover-mouse-for-details\")))]),_c('p',[_vm._v(_vm._s(_vm.$t(\"barchart-click-label-to-toggle-visibility\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('div',{staticClass:\"chart-container big\"},[_c('activity-overview-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate,\"daysRange\":_vm.daysRange}})],1)])]),_c('div',{staticClass:\"tile is-vertical single-metrics\"},[_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box single-metric\"},[_c('div',{staticClass:\"absolute-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"project-connections-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1),_c('strong',{staticClass:\"metric\"},[_vm._v(_vm._s(_vm.nbProjectVisits != null ? _vm.nbProjectVisits : \"?\"))]),_c('strong',[_vm._v(_vm._s(_vm.$t(\"project-connections\")))])])]),_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box single-metric\"},[_c('div',{staticClass:\"absolute-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"image-consultations-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1),_c('strong',{staticClass:\"metric\"},[_vm._v(_vm._s(_vm.nbImageConsultations != null ? _vm.nbImageConsultations : \"?\"))]),_c('strong',[_vm._v(_vm._s(_vm.$t(\"image-consultations\")))])])]),_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box single-metric\"},[_c('div',{staticClass:\"absolute-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"annotation-selections-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1),_c('strong',{staticClass:\"metric\"},[_vm._v(_vm._s(_vm.nbAnnotationSelections != null ? _vm.nbAnnotationSelections : \"?\"))]),_c('strong',[_vm._v(_vm._s(_vm.$t(\"annotation-selections\")))])])])])]),_c('div',{staticClass:\"tile\"},[_c('div',{staticClass:\"tile is-vertical single-metrics\"},[_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box single-metric\"},[_c('div',{staticClass:\"absolute-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"manual-annotations-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1),_c('strong',{staticClass:\"metric\"},[_vm._v(\" \"+_vm._s(_vm.nbAnnotations[_vm.annotationTypes.USER] != null ? _vm.nbAnnotations[_vm.annotationTypes.USER] : \"?\")+\" \")]),_c('strong',[_vm._v(_vm._s(_vm.$t(\"user-annotations\")))])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.algoEnabled),expression:\"algoEnabled\"}],staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box single-metric\"},[_c('div',{staticClass:\"absolute-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"analysis-annotations-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1),_c('strong',{staticClass:\"metric\"},[_vm._v(\" \"+_vm._s(_vm.nbAnnotations[_vm.annotationTypes.ALGO] != null ? _vm.nbAnnotations[_vm.annotationTypes.ALGO] : \"?\")+\" \")]),_c('strong',[_vm._v(_vm._s(_vm.$t(\"analysis-annotations\")))])])]),_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box single-metric\"},[_c('div',{staticClass:\"absolute-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"reviewed-annotations-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1),_c('strong',{staticClass:\"metric\"},[_vm._v(\" \"+_vm._s(_vm.nbAnnotations[_vm.annotationTypes.REVIEWED] != null ? _vm.nbAnnotations[_vm.annotationTypes.REVIEWED] : \"?\")+\" \")]),_c('strong',[_vm._v(_vm._s(_vm.$t(\"reviewed-annotations\")))])])])]),_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box chart-box\"},[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t(\"number-annotations\")))]),(_vm.ontology)?[_c('div',{staticClass:\"column is-narrow has-text-right\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(_vm._s(_vm.$t(\"term\")))])]),_c('div',{staticClass:\"column is-one-third\"},[_c('ontology-tree-multiselect',{attrs:{\"ontology\":_vm.ontology,\"additionalNodes\":[{id: 0, name: this.$t('all')}],\"startWithAdditionalNodes\":true,\"multiple\":false},model:{value:(_vm.selectedTerms),callback:function ($$v) {_vm.selectedTerms=$$v},expression:\"selectedTerms\"}})],1)]:_vm._e(),_c('div',{staticClass:\"column is-narrow is-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"number-annotations-chart-info-message\")))]),_c('p',[_vm._v(_vm._s(_vm.$t(\"barchart-hover-mouse-for-details\")))]),_c('p',[_vm._v(_vm._s(_vm.$t(\"barchart-click-label-to-toggle-visibility\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)],2),_c('div',{staticClass:\"chart-container big\"},[_c('number-annotations-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate,\"daysRange\":_vm.daysRange,\"term\":_vm.selectedTerms[0] || null}})],1)])])]),(_vm.ontology)?_c('div',{staticClass:\"tile\"},[_c('div',{staticClass:\"tile is-6 is-parent is-vertical\"},[_c('div',{staticClass:\"tile is-child box chart-box no-grow\"},[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t(\"manual-annotations-vs-term\")))]),_c('div',{staticClass:\"column is-narrow is-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"annotations-vs-terms-chart-info-message\")))])]},proxy:true}],null,false,1450839247)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('div',{staticClass:\"chart-container\",style:(_vm.styleAnnotationTermChart)},[_c('annotation-term-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate},on:{\"nbElems\":val => _vm.nbElemsAnnotationTermChart = val}})],1)])]),_c('div',{staticClass:\"tile is-6 is-parent is-vertical\"},[_c('div',{staticClass:\"tile is-child box chart-box no-grow\"},[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t(\"annotated-images-vs-term\")))]),_c('div',{staticClass:\"column is-narrow is-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"annotated-images-vs-terms-chart-info-message\")))])]},proxy:true}],null,false,1273985580)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('div',{staticClass:\"chart-container\",style:(_vm.styleAnnotationTermChart)},[_c('annotated-images-by-term-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate}})],1)])])]):_vm._e(),_c('div',{staticClass:\"tile\"},[_c('div',{staticClass:\"tile is-6 is-parent is-vertical\"},[_c('div',{staticClass:\"tile is-child box chart-box no-grow\"},[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t(\"manual-annotations-vs-contributor\")))]),_c('div',{staticClass:\"column is-narrow is-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"annotations-vs-contributors-chart-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('div',{staticClass:\"chart-container\",style:(_vm.styleAnnotationContributorChart)},[_c('annotation-contributor-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate},on:{\"nbElems\":val => _vm.nbElemsAnnotationContributorChart = val}})],1)])]),_c('div',{staticClass:\"tile is-6 is-parent is-vertical\"},[_c('div',{staticClass:\"tile is-child box chart-box no-grow\"},[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t(\"annotated-images-vs-contributor\")))]),_c('div',{staticClass:\"column is-narrow is-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"annotated-images-vs-contributors-chart-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('div',{staticClass:\"chart-container\",style:(_vm.styleAnnotationContributorChart)},[_c('annotated-images-by-contributor-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate}})],1)])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {Bar} from 'vue-chartjs';\r\n\r\nimport {AnnotationType} from 'cytomine-client';\r\nimport constants from '@/utils/constants.js';\r\nexport default {\r\n  name: 'number-annotations-chart',\r\n  extends: Bar,\r\n  props: {\r\n    project: Object,\r\n    term: Number,\r\n    startDate: Number,\r\n    endDate: Number,\r\n    daysRange: Number\r\n  },\r\n  data() {\r\n    return {\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      annotationsEvolution: {\r\n        [AnnotationType.USER]: [],\r\n        [AnnotationType.ALGO]: [],\r\n        [AnnotationType.REVIEWED]: []\r\n      },\r\n      chartData: null\r\n    };\r\n  },\r\n  computed: {\r\n    locale() {\r\n      return this.$i18n.locale;\r\n    },\r\n    queryParams() {\r\n      return {\r\n        daysRange: this.daysRange,\r\n        startDate: this.startDate,\r\n        endDate: this.endDate,\r\n        accumulate: false,\r\n        reverseOrder: false,\r\n        term: this.term\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    async queryParams() {\r\n      await this.fetchData();\r\n      this.updateChart();\r\n    },\r\n    locale() {\r\n      this.updateLabels();\r\n      this.updateChart();\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchAnnotationsEvolution(type) {\r\n      this.annotationsEvolution[type] = await this.project.fetchAnnotationsEvolution({annotationType: type, ...this.queryParams});\r\n    },\r\n    async fetchData() {\r\n      await Promise.all([\r\n        this.fetchAnnotationsEvolution(AnnotationType.USER),\r\n        this.fetchAnnotationsEvolution(AnnotationType.ALGO),\r\n        this.fetchAnnotationsEvolution(AnnotationType.REVIEWED)\r\n      ]);\r\n\r\n      this.chartData.datasets[0].data = this.annotationsEvolution[AnnotationType.USER].map(item => item.size);\r\n      if(this.algoEnabled) {\r\n        this.chartData.datasets[1].data = this.annotationsEvolution[AnnotationType.ALGO].map(item => item.size);\r\n        this.chartData.datasets[2].data = this.annotationsEvolution[AnnotationType.REVIEWED].map(item => item.size);\r\n      }\r\n      else {\r\n        this.chartData.datasets[1].data = this.annotationsEvolution[AnnotationType.REVIEWED].map(item => item.size);\r\n      }\r\n      this.updateLabels();\r\n    },\r\n    updateLabels() {\r\n      this.chartData.labels = this.annotationsEvolution[AnnotationType.USER].map(item => {\r\n        let moment = this.$options.filters.moment;\r\n        return this.daysRange === 1 ? moment(Number(item.date), 'll')\r\n          : [moment(Number(item.date), 'll') + ' - ',  moment(Number(item.endDate), 'll')];\r\n      });\r\n    },\r\n    updateChart() {\r\n      this.$data._chart.update();\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.chartData = {\r\n      labels: [],\r\n      datasets: [\r\n        {\r\n          label: this.$t('user-annotations'),\r\n          data: [],\r\n          backgroundColor: '#4480c4',\r\n          borderWidth: 0\r\n        },\r\n        {\r\n          label: this.$t('reviewed-annotations'),\r\n          data: [],\r\n          backgroundColor: '#42ce77',\r\n          borderWidth: 0\r\n        }\r\n      ]\r\n    };\r\n    if(this.algoEnabled) {\r\n      this.chartData.datasets.splice(1,0,{\r\n        label: this.$t('analysis-annotations'),\r\n        data: [],\r\n        backgroundColor: '#aaa',\r\n        borderWidth: 0\r\n      });\r\n    }\r\n    await this.fetchData();\r\n\r\n    this.renderChart(this.chartData, {\r\n      maintainAspectRatio: false,\r\n      scales: {\r\n        yAxes: [{\r\n          ticks: {\r\n            min: 0\r\n          }\r\n        }],\r\n        xAxes: [{\r\n          categoryPercentage: 0.6,\r\n          gridLines: {\r\n            display: false\r\n          }\r\n        }]\r\n      }\r\n    });\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {HorizontalBar} from 'vue-chartjs';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\n\r\nimport {asArray as hexToRgb} from 'ol/color';\r\n\r\nconst defaultColor = '#eee';\r\n\r\nexport default {\r\n  name: 'annotation-term-chart',\r\n  extends: HorizontalBar,\r\n  props: {\r\n    project: Object,\r\n    startDate: Number,\r\n    endDate: Number\r\n  },\r\n  data() {\r\n    return {\r\n      chartData: null\r\n    };\r\n  },\r\n  computed: {\r\n    queryParams() {\r\n      return {\r\n        startDate: this.startDate,\r\n        endDate: this.endDate,\r\n        leafsOnly: false\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    async queryParams() {\r\n      this.doRenderChart();\r\n    }\r\n  },\r\n  methods: {\r\n    async doRenderChart() {\r\n      let terms = await this.project.fetchStatsTerms(this.queryParams);\r\n      let data = terms.map(term => term.value);\r\n      let borderColors = terms.map(term => {\r\n        let [r, g, b] = hexToRgb(term.color || defaultColor);\r\n        const factor = 0.8;\r\n        return `rgba(${r*factor}, ${g*factor}, ${b*factor}, 1)`;\r\n      });\r\n\r\n      this.$emit('nbElems', data.length);\r\n\r\n      this.renderChart({\r\n        labels: terms.map(term => term.key || this.$t('no-term')),\r\n        datasets: [\r\n          {\r\n            data,\r\n            backgroundColor: terms.map(term => term.color || defaultColor),\r\n            borderColor: borderColors,\r\n            borderWidth: 1,\r\n            hoverBorderColor: borderColors,\r\n          }\r\n        ]\r\n      }, {\r\n        maintainAspectRatio: false,\r\n        legend: {display: false},\r\n        scales: {\r\n          xAxes: [{\r\n            ticks: {\r\n              min: 0,\r\n              suggestedMax: Math.round(Math.max(...data)*1.2)+1\r\n            }\r\n          }],\r\n          yAxes: [{\r\n            gridLines: {\r\n              display: false\r\n            },\r\n            categoryPercentage: 0.6\r\n          }]\r\n        }\r\n      });\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.addPlugin(ChartDataLabels);\r\n    this.doRenderChart();\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {HorizontalBar} from 'vue-chartjs';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\n\r\nimport {asArray as hexToRgb} from 'ol/color';\r\n\r\nconst defaultColor = '#eee';\r\n\r\nexport default {\r\n  name: 'annotated-images-by-term-chart',\r\n  extends: HorizontalBar,\r\n  props: {\r\n    project: Object,\r\n    startDate: Number,\r\n    endDate: Number\r\n  },\r\n  data() {\r\n    return {\r\n      chartData: null\r\n    };\r\n  },\r\n  computed: {\r\n    queryParams() {\r\n      return {\r\n        startDate: this.startDate,\r\n        endDate: this.endDate\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    async queryParams() {\r\n      this.doRenderChart();\r\n    }\r\n  },\r\n  methods: {\r\n    async doRenderChart() {\r\n      let terms = await this.project.fetchStatsAnnotatedImagesByTerm(this.queryParams);\r\n      let data = terms.map(term => term.value);\r\n      let borderColors = terms.map(term => {\r\n        let [r, g, b] = hexToRgb(term.color || defaultColor);\r\n        const factor = 0.8;\r\n        return `rgba(${r*factor}, ${g*factor}, ${b*factor}, 1)`;\r\n      });\r\n\r\n      this.$emit('nbElems', data.length);\r\n\r\n      this.renderChart({\r\n        labels: terms.map(term => term.key || this.$t('no-term')),\r\n        datasets: [\r\n          {\r\n            data,\r\n            backgroundColor: terms.map(term => term.color || defaultColor),\r\n            borderColor: borderColors,\r\n            borderWidth: 1,\r\n            hoverBorderColor: borderColors,\r\n          }\r\n        ]\r\n      }, {\r\n        maintainAspectRatio: false,\r\n        legend: {display: false},\r\n        scales: {\r\n          xAxes: [{\r\n            ticks: {\r\n              min: 0,\r\n              suggestedMax: Math.round(Math.max(...data)*1.2)+1\r\n            }\r\n          }],\r\n          yAxes: [{\r\n            gridLines: {\r\n              display: false\r\n            },\r\n            categoryPercentage: 0.6\r\n          }]\r\n        }\r\n      });\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.addPlugin(ChartDataLabels);\r\n    this.doRenderChart();\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {HorizontalBar} from 'vue-chartjs';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\n\r\nexport default {\r\n  name: 'annotation-contributor-chart',\r\n  extends: HorizontalBar,\r\n  props: {\r\n    project: Object,\r\n    startDate: Number,\r\n    endDate: Number\r\n  },\r\n  data() {\r\n    return {\r\n      chartData: null\r\n    };\r\n  },\r\n  computed: {\r\n    queryParams() {\r\n      return {\r\n        startDate: this.startDate,\r\n        endDate: this.endDate\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    queryParams() {\r\n      this.doRenderChart();\r\n    }\r\n  },\r\n  methods: {\r\n    async doRenderChart() {\r\n      let contribs = await this.project.fetchStatsAnnotationCreators(this.queryParams);\r\n      let data = contribs.map(c => c.value);\r\n      this.$emit('nbElems', data.length);\r\n\r\n      this.renderChart({\r\n        labels: contribs.map(c => c.key),\r\n        datasets: [\r\n          {\r\n            data,\r\n            backgroundColor: '#4480c4',\r\n            borderWidth: 0\r\n          }\r\n        ]\r\n      }, {\r\n        maintainAspectRatio: false,\r\n        legend: {display: false},\r\n        scales: {\r\n          xAxes: [{\r\n            ticks: {\r\n              min: 0,\r\n              suggestedMax: Math.round(Math.max(...data)*1.2)+1\r\n            }\r\n          }],\r\n          yAxes: [{\r\n            gridLines: {\r\n              display: false\r\n            },\r\n            categoryPercentage: 0.6\r\n          }]\r\n        }\r\n      });\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.addPlugin(ChartDataLabels);\r\n    this.doRenderChart();\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {HorizontalBar} from 'vue-chartjs';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\n\r\nexport default {\r\n  name: 'annotated-images-by-contributor-chart',\r\n  extends: HorizontalBar,\r\n  props: {\r\n    project: Object,\r\n    startDate: Number,\r\n    endDate: Number\r\n  },\r\n  data() {\r\n    return {\r\n      chartData: null\r\n    };\r\n  },\r\n  computed: {\r\n    queryParams() {\r\n      return {\r\n        startDate: this.startDate,\r\n        endDate: this.endDate\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    queryParams() {\r\n      this.doRenderChart();\r\n    }\r\n  },\r\n  methods: {\r\n    async doRenderChart() {\r\n      let contribs = await this.project.fetchStatsAnnotatedImagesByCreator(this.queryParams);\r\n      let data = contribs.map(c => c.value);\r\n      this.$emit('nbElems', data.length);\r\n\r\n      this.renderChart({\r\n        labels: contribs.map(c => c.key),\r\n        datasets: [\r\n          {\r\n            data,\r\n            backgroundColor: '#4480c4',\r\n            borderWidth: 0\r\n          }\r\n        ]\r\n      }, {\r\n        maintainAspectRatio: false,\r\n        legend: {display: false},\r\n        scales: {\r\n          xAxes: [{\r\n            ticks: {\r\n              min: 0,\r\n              suggestedMax: Math.round(Math.max(...data)*1.2)+1\r\n            }\r\n          }],\r\n          yAxes: [{\r\n            gridLines: {\r\n              display: false\r\n            },\r\n            categoryPercentage: 0.6\r\n          }]\r\n        }\r\n      });\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.addPlugin(ChartDataLabels);\r\n    this.doRenderChart();\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {Bar} from 'vue-chartjs';\r\n\r\nexport default {\r\n  name: 'activity-overview-chart',\r\n  extends: Bar,\r\n  props: {\r\n    project: Object,\r\n    startDate: Number,\r\n    endDate: Number,\r\n    daysRange: Number\r\n  },\r\n  data() {\r\n    return {\r\n      projectConnections: [],\r\n      imageConsultations: [],\r\n      annotationSelections: [],\r\n      chartData: null\r\n    };\r\n  },\r\n  computed: {\r\n    locale() {\r\n      return this.$i18n.locale;\r\n    },\r\n    queryParams() {\r\n      return {\r\n        daysRange: this.daysRange,\r\n        startDate: this.startDate,\r\n        endDate: this.endDate,\r\n        accumulate: false\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    async queryParams() {\r\n      await this.fetchData();\r\n      this.updateChart();\r\n    },\r\n    locale() {\r\n      this.updateLabels();\r\n      this.updateChart();\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchProjectConnections() {\r\n      this.projectConnections = await this.project.fetchConnectionsEvolution(this.queryParams);\r\n    },\r\n    async fetchImageConsultations() {\r\n      this.imageConsultations = await this.project.fetchImageConsultationsEvolution(this.queryParams);\r\n    },\r\n    async fetchAnnotationSelections() {\r\n      this.annotationSelections = await this.project.fetchAnnotationActionsEvolution({action: 'select', ...this.queryParams});\r\n    },\r\n    async fetchData() {\r\n      await Promise.all([\r\n        this.fetchProjectConnections(),\r\n        this.fetchImageConsultations(),\r\n        this.fetchAnnotationSelections()\r\n      ]);\r\n\r\n      this.chartData.datasets[0].data = this.projectConnections.map(item => item.size);\r\n      this.chartData.datasets[1].data = this.imageConsultations.map(item => item.size);\r\n      this.chartData.datasets[2].data = this.annotationSelections.map(item => item.size);\r\n      this.updateLabels();\r\n    },\r\n    updateLabels() {\r\n      this.chartData.labels = this.projectConnections.map(item => {\r\n        let moment = this.$options.filters.moment;\r\n        return this.daysRange === 1 ? moment(Number(item.date), 'll')\r\n          : [moment(Number(item.date), 'll') + ' - ',  moment(Number(item.endDate), 'll')];\r\n      });\r\n    },\r\n    async updateChart() {\r\n      this.$data._chart.update();\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.chartData = {\r\n      labels: [],\r\n      datasets: [\r\n        {\r\n          label: this.$t('project-connections'),\r\n          data: [],\r\n          backgroundColor: '#4480c4',\r\n          borderWidth: 0\r\n        },\r\n        {\r\n          label: this.$t('image-consultations'),\r\n          data: [],\r\n          backgroundColor: '#f2418e',\r\n          borderWidth: 0\r\n        },\r\n        {\r\n          label: this.$t('annotation-selections'),\r\n          data: [],\r\n          backgroundColor: '#ffa500',\r\n          borderWidth: 0\r\n        }\r\n      ]\r\n    };\r\n\r\n    await this.fetchData();\r\n\r\n    this.renderChart(this.chartData, {\r\n      maintainAspectRatio: false,\r\n      scales: {\r\n        yAxes: [{\r\n          ticks: {\r\n            min: 0,\r\n          }\r\n        }],\r\n        xAxes: [{\r\n          categoryPercentage: 0.6,\r\n          gridLines: {\r\n            display: false // TODO when possible in chart.js: display all grid lines, even when ticks hidden (see https://stackoverflow.com/questions/44361991/show-only-nth-tick-line-on-x-axis-for-chart-js-diagram and https://stackoverflow.com/questions/43604396/how-do-i-persist-the-gridlines-for-ticks-that-are-not-displayed-chart-js and )\r\n          }\r\n        }]\r\n      }\r\n    });\r\n  }\r\n};\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"tile is-ancestor is-vertical project-activity-charts-wrapper\">\r\n  <div class=\"tile\">\r\n    <div class=\"tile is-parent\">\r\n      <div class=\"tile is-child box chart-box\">\r\n        <div class=\"columns\">\r\n          <h2 class=\"column\">{{$t(\"activity\")}}</h2>\r\n          <div class=\"column is-narrow is-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"activity-chart-info-message\")}}</p>\r\n                <p>{{$t(\"barchart-hover-mouse-for-details\")}}</p>\r\n                <p>{{$t(\"barchart-click-label-to-toggle-visibility\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n        </div>\r\n        <div class=\"chart-container big\">\r\n          <activity-overview-chart css-classes=\"chart\"\r\n            :project=\"project\"\r\n            :startDate=\"startDate\"\r\n            :endDate=\"endDate\"\r\n            :daysRange=\"daysRange\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"tile is-vertical single-metrics\">\r\n      <div class=\"tile is-parent\">\r\n        <div class=\"tile is-child box single-metric\">\r\n          <div class=\"absolute-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"project-connections-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n          <strong class=\"metric\">{{nbProjectVisits != null ? nbProjectVisits : \"?\"}}</strong>\r\n          <strong>{{$t(\"project-connections\")}}</strong>\r\n        </div>\r\n      </div>\r\n      <div class=\"tile is-parent\">\r\n        <div class=\"tile is-child box single-metric\">\r\n          <div class=\"absolute-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"image-consultations-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n          <strong class=\"metric\">{{nbImageConsultations != null ? nbImageConsultations : \"?\"}}</strong>\r\n          <strong>{{$t(\"image-consultations\")}}</strong>\r\n        </div>\r\n      </div>\r\n      <div class=\"tile is-parent\">\r\n        <div class=\"tile is-child box single-metric\">\r\n          <div class=\"absolute-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"annotation-selections-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n          <strong class=\"metric\">{{nbAnnotationSelections != null ? nbAnnotationSelections : \"?\"}}</strong>\r\n          <strong>{{$t(\"annotation-selections\")}}</strong>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"tile\">\r\n    <div class=\"tile is-vertical single-metrics\">\r\n      <div class=\"tile is-parent\">\r\n        <div class=\"tile is-child box single-metric\">\r\n          <div class=\"absolute-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"manual-annotations-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n          <strong class=\"metric\">\r\n            {{ nbAnnotations[annotationTypes.USER] != null ? nbAnnotations[annotationTypes.USER] : \"?\" }}\r\n          </strong>\r\n          <strong>{{$t(\"user-annotations\")}}</strong>\r\n        </div>\r\n      </div>\r\n      <div v-show=\"algoEnabled\" class=\"tile is-parent\">\r\n        <div class=\"tile is-child box single-metric\">\r\n          <div class=\"absolute-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"analysis-annotations-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n          <strong class=\"metric\">\r\n            {{ nbAnnotations[annotationTypes.ALGO] != null ? nbAnnotations[annotationTypes.ALGO] : \"?\" }}\r\n          </strong>\r\n          <strong>{{$t(\"analysis-annotations\")}}</strong>\r\n        </div>\r\n      </div>\r\n      <div class=\"tile is-parent\">\r\n        <div class=\"tile is-child box single-metric\">\r\n          <div class=\"absolute-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"reviewed-annotations-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n          <strong class=\"metric\">\r\n            {{ nbAnnotations[annotationTypes.REVIEWED] != null ? nbAnnotations[annotationTypes.REVIEWED] : \"?\" }}\r\n          </strong>\r\n          <strong>{{$t(\"reviewed-annotations\")}}</strong>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"tile is-parent\">\r\n      <div class=\"tile is-child box chart-box\">\r\n        <div class=\"columns\">\r\n          <h2 class=\"column\">{{$t(\"number-annotations\")}}</h2>\r\n          <template v-if=\"ontology\">\r\n            <div class=\"column is-narrow has-text-right\">\r\n              <div class=\"filter-label\">{{$t(\"term\")}}</div>\r\n            </div>\r\n            <div class=\"column is-one-third\">\r\n              <ontology-tree-multiselect\r\n                :ontology=\"ontology\"\r\n                :additionalNodes=\"[{id: 0, name: this.$t('all')}]\"\r\n                :startWithAdditionalNodes=\"true\"\r\n                :multiple=\"false\"\r\n                v-model=\"selectedTerms\"\r\n              />\r\n            </div>\r\n          </template>\r\n          <div class=\"column is-narrow is-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"number-annotations-chart-info-message\")}}</p>\r\n                <p>{{$t(\"barchart-hover-mouse-for-details\")}}</p>\r\n                <p>{{$t(\"barchart-click-label-to-toggle-visibility\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n        </div>\r\n        <div class=\"chart-container big\">\r\n          <number-annotations-chart css-classes=\"chart\"\r\n            :project=\"project\"\r\n            :startDate=\"startDate\"\r\n            :endDate=\"endDate\"\r\n            :daysRange=\"daysRange\"\r\n            :term=\"selectedTerms[0] || null\"\r\n          /> <!-- If option \"all term\" (id 0) was selected, return null instead -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"tile\" v-if=\"ontology\">\r\n    <div class=\"tile is-6 is-parent is-vertical\">\r\n      <div class=\"tile is-child box chart-box no-grow\">\r\n        <div class=\"columns\">\r\n          <h2 class=\"column\">{{$t(\"manual-annotations-vs-term\")}}</h2>\r\n          <div class=\"column is-narrow is-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"annotations-vs-terms-chart-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n        </div>\r\n        <div class=\"chart-container\" :style=\"styleAnnotationTermChart\">\r\n          <annotation-term-chart\r\n            css-classes=\"chart\"\r\n            :project=\"project\"\r\n            :startDate=\"startDate\"\r\n            :endDate=\"endDate\"\r\n            @nbElems=\"val => nbElemsAnnotationTermChart = val\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"tile is-6 is-parent is-vertical\">\r\n      <div class=\"tile is-child box chart-box no-grow\">\r\n        <div class=\"columns\">\r\n          <h2 class=\"column\">{{$t(\"annotated-images-vs-term\")}}</h2>\r\n          <div class=\"column is-narrow is-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"annotated-images-vs-terms-chart-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n        </div>\r\n        <div class=\"chart-container\" :style=\"styleAnnotationTermChart\">\r\n          <annotated-images-by-term-chart\r\n            css-classes=\"chart\"\r\n            :project=\"project\"\r\n            :startDate=\"startDate\"\r\n            :endDate=\"endDate\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"tile\">\r\n    <div class=\"tile is-6 is-parent is-vertical\">\r\n      <div class=\"tile is-child box chart-box no-grow\">\r\n        <div class=\"columns\">\r\n          <h2 class=\"column\">{{$t(\"manual-annotations-vs-contributor\")}}</h2>\r\n          <div class=\"column is-narrow is-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"annotations-vs-contributors-chart-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n        </div>\r\n        <div class=\"chart-container\" :style=\"styleAnnotationContributorChart\">\r\n          <annotation-contributor-chart\r\n            css-classes=\"chart\"\r\n            :project=\"project\"\r\n            :startDate=\"startDate\"\r\n            :endDate=\"endDate\"\r\n            @nbElems=\"val => nbElemsAnnotationContributorChart = val\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"tile is-6 is-parent is-vertical\">\r\n      <div class=\"tile is-child box chart-box no-grow\">\r\n        <div class=\"columns\">\r\n          <h2 class=\"column\">{{$t(\"annotated-images-vs-contributor\")}}</h2>\r\n          <div class=\"column is-narrow is-info-circle\">\r\n            <v-popover>\r\n              <i class=\"fas fa-info-circle\"></i>\r\n              <template #popover>\r\n                <p>{{$t(\"annotated-images-vs-contributors-chart-info-message\")}}</p>\r\n              </template>\r\n            </v-popover>\r\n          </div>\r\n        </div>\r\n        <div class=\"chart-container\" :style=\"styleAnnotationContributorChart\">\r\n          <annotated-images-by-contributor-chart\r\n            css-classes=\"chart\"\r\n            :project=\"project\"\r\n            :startDate=\"startDate\"\r\n            :endDate=\"endDate\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport NumberAnnotationsChart from '@/components/charts/NumberAnnotationsChart.js';\r\nimport AnnotationTermChart from '@/components/charts/AnnotationTermChart.js';\r\nimport AnnotatedImagesByTermChart from '@/components/charts/AnnotatedImagesByTermChart.js';\r\nimport AnnotationContributorChart from '@/components/charts/AnnotationContributorChart.js';\r\nimport AnnotatedImagesByContributorChart from '@/components/charts/AnnotatedImagesByContributorChart.js';\r\nimport ActivityOverviewChart from '@/components/charts/ActivityOverviewChart.js';\r\nimport OntologyTreeMultiselect from '@/components/ontology/OntologyTreeMultiselect';\r\n\r\nimport {AnnotationType} from 'cytomine-client';\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'project-activity-charts',\r\n  props: {\r\n    startDate: Number,\r\n    endDate: Number\r\n  },\r\n  components: {\r\n    NumberAnnotationsChart,\r\n    AnnotationTermChart,\r\n    AnnotatedImagesByTermChart,\r\n    AnnotationContributorChart,\r\n    AnnotatedImagesByContributorChart,\r\n    ActivityOverviewChart,\r\n    OntologyTreeMultiselect\r\n  },\r\n  data() {\r\n    return {\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      loading: true,\r\n      nbProjectVisits: null,\r\n      nbImageConsultations: null,\r\n      nbAnnotationSelections: null,\r\n      nbAnnotations: {\r\n        [AnnotationType.USER]: null,\r\n        [AnnotationType.ALGO]: null,\r\n        [AnnotationType.REVIEWED]: null\r\n      },\r\n      selectedTerms: [0],\r\n      nbElemsAnnotationTermChart: 0,\r\n      nbElemsAnnotationContributorChart: 0\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    ontology: get('currentProject/ontology'),\r\n    queryParams() {\r\n      return {\r\n        startDate: this.startDate,\r\n        endDate: this.endDate\r\n      };\r\n    },\r\n    annotationTypes() {\r\n      return AnnotationType;\r\n    },\r\n    daysRange() { // duration of the intervals in evolution plots (depends on the length of the considered period)\r\n      let dayDuration = 24*60*60*1000;\r\n      let intervalDuration = (this.endDate || new Date().getTime()) - (this.startDate || this.project.created);\r\n\r\n      if(intervalDuration > 365*2*dayDuration) {\r\n        // large period => find a daysRange resulting in around 30 points\r\n        return Math.round(intervalDuration / dayDuration / 30);\r\n      }\r\n      else if(intervalDuration > 365*dayDuration) {\r\n        return 28;\r\n      }\r\n      else if(intervalDuration > 6*31*dayDuration) {\r\n        return 14;\r\n      }\r\n      else if(intervalDuration > 31*dayDuration) {\r\n        return 7;\r\n      }\r\n      else {\r\n        return 1;\r\n      }\r\n    },\r\n    styleAnnotationTermChart() {\r\n      return {\r\n        height: (30+this.nbElemsAnnotationTermChart*25) + 'px'\r\n      };\r\n    },\r\n    styleAnnotationContributorChart() {\r\n      return {\r\n        height: (30+this.nbElemsAnnotationContributorChart*25) + 'px'\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    startDate() {\r\n      this.loadData();\r\n    },\r\n    endDate() {\r\n      this.loadData();\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchNbConnections() {\r\n      this.nbProjectVisits = null;\r\n      this.nbProjectVisits = await this.project.fetchNbConnections(this.queryParams);\r\n    },\r\n    async fetchNbImageConsultations() {\r\n      this.nbImageConsultations = null;\r\n      this.nbImageConsultations = await this.project.fetchNbImageConsultations(this.queryParams);\r\n    },\r\n    async fetchNbAnnotationSelections() {\r\n      this.nbAnnotationSelections = null;\r\n      this.nbAnnotationSelections = await this.project.fetchNbAnnotationActions({type: 'select', ...this.queryParams});\r\n    },\r\n    async fetchNbAnnotations(type) {\r\n      this.nbAnnotations[type] = null;\r\n      this.nbAnnotations[type] = await this.project.fetchNbAnnotations({annotationType: type, ...this.queryParams});\r\n    },\r\n    async loadData() {\r\n      await Promise.all([\r\n        this.fetchNbConnections(),\r\n        this.fetchNbImageConsultations(),\r\n        this.fetchNbAnnotationSelections(),\r\n        this.fetchNbAnnotations(AnnotationType.USER),\r\n        this.fetchNbAnnotations(AnnotationType.ALGO),\r\n        this.fetchNbAnnotations(AnnotationType.REVIEWED)\r\n      ].map(p => p.catch(e => console.log(e)))); // ignore errors (handled in template) and ensure all promises finish, even if some errors occur in the process);\r\n    }\r\n  },\r\n  async created() {\r\n    await this.loadData();\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh2 {\r\n  font-size: 1.2rem;\r\n  margin-bottom: 0.5em;\r\n}\r\n\r\n.single-metrics {\r\n  flex-grow: 0;\r\n  min-width: 20em;\r\n}\r\n\r\n.single-metric strong {\r\n  display: block;\r\n  text-align: center;\r\n}\r\n\r\n.single-metric .metric {\r\n  font-size: 1.5em;\r\n}\r\n\r\n.chart-box {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.chart-container {\r\n  position: relative;\r\n}\r\n\r\n.no-grow {\r\n  flex-grow: 0 !important;\r\n}\r\n\r\n.chart-container.big {\r\n  min-height: 20em;\r\n}\r\n\r\n.columns {\r\n  align-items: center;\r\n}\r\n\r\n.filter-label {\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\n.column.is-info-circle {\r\n  padding-top: 0;\r\n  margin-top: -1em;\r\n  margin-left: 1em;\r\n}\r\n\r\n.fas.fa-info-circle {\r\n  font-size: 1.25em;\r\n  cursor: pointer;\r\n}\r\n\r\n.tile {\r\n  position: relative;\r\n}\r\n\r\n.tile > .columns {\r\n  margin-bottom: -0.5rem !important;\r\n}\r\n\r\n.absolute-info-circle {\r\n  position: absolute;\r\n  top: 0.75em;\r\n  right: 1em;\r\n}\r\n</style>\r\n\r\n<style>\r\n.project-activity-charts-wrapper .chart {\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityCharts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityCharts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectActivityCharts.vue?vue&type=template&id=a5f175d8&scoped=true&\"\nimport script from \"./ProjectActivityCharts.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectActivityCharts.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectActivityCharts.vue?vue&type=style&index=0&id=a5f175d8&prod&scoped=true&lang=css&\"\nimport style1 from \"./ProjectActivityCharts.vue?vue&type=style&index=1&id=a5f175d8&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a5f175d8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.loading)?_c('div',{staticClass:\"box\"},[(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column is-marginless\"},[_vm._v(_vm._s(_vm.$t('members-activity')))]),_c('p',{staticClass:\"column has-text-right is-size-7 has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('data-last-updated-on', {time: _vm.$options.filters.moment(_vm.lastUpdate, 'LTS')}))+\" \")])]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('div',{staticClass:\"column\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.filtersOpened = !_vm.filtersOpened}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-filter\"})]),_c('span',[_vm._v(_vm._s(_vm.filtersOpened ? _vm.$t('button-hide-filters') : _vm.$t('button-show-filters')))])])])]),_c('b-collapse',{attrs:{\"open\":_vm.filtersOpened}},[_c('div',{staticClass:\"filters columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('status'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableStatus,\"multiple\":\"\",\"searchable\":false},model:{value:(_vm.selectedStatus),callback:function ($$v) {_vm.selectedStatus=$$v},expression:\"selectedStatus\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('role'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableRoles,\"multiple\":\"\",\"searchable\":false},model:{value:(_vm.selectedRoles),callback:function ($$v) {_vm.selectedRoles=$$v},expression:\"selectedRoles\"}})],1)])])]),_c('b-table',{attrs:{\"data\":_vm.filteredMembers,\"default-sort\":\"username\",\"paginated\":true,\"per-page\":_vm.perPage,\"pagination-size\":\"is-small\"},scopedSlots:_vm._u([{key:\"default\",fn:function({row: member}){return [_c('b-table-column',{attrs:{\"field\":\"username\",\"label\":_vm.$t('username'),\"sortable\":\"\",\"width\":\"100\"}},[_c('username',{attrs:{\"user\":member,\"online\":_vm.onlineIds ? _vm.onlineIds.includes(member.id) : null,\"displayFullName\":false}})],1),_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(member.name)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"role\",\"label\":_vm.$t('role'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"20\"}},[_c('icon-project-member-role',{attrs:{\"is-manager\":member.role === _vm.managerRole}})],1),_c('b-table-column',{attrs:{\"field\":\"lastImageName\",\"label\":_vm.$t('last-image'),\"sortable\":\"\",\"width\":\"100\"}},[(member.lastImageId)?[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}/image/${member.lastImageId}`}},[_vm._v(\" \"+_vm._s(member.lastImageName)+\" \")])]:_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-record')))])],2),_c('b-table-column',{attrs:{\"field\":\"lastConnection\",\"label\":_vm.$t('last-connection'),\"sortable\":\"\",\"width\":\"100\"}},[(member.lastConnection)?[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(member.lastConnection),'ll LT'))+\" \")]:_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-record')))])],2),_c('b-table-column',{attrs:{\"field\":\"frequency\",\"label\":_vm.$t('number-connections'),\"sortable\":\"\",\"width\":\"100\"}},[_vm._v(\" \"+_vm._s(member.frequency)+\" \")]),_c('b-table-column',{attrs:{\"label\":\"\",\"centered\":\"\",\"width\":\"50\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":`/project/${_vm.project.id}/activity/user/${member.id}`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-details'))+\" \")])],1)]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-member-fitting-criteria')))])])]},proxy:true},(_vm.isManager)?{key:\"footer\",fn:function(){return [_c('p',{staticClass:\"has-text-centered\"},[_c('router-link',{staticClass:\"button is-link add-member\",attrs:{\"to\":`/project/${_vm.project.id}/configuration?tab=members`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-manage-members'))+\" \")])],1)]},proxy:true}:null,{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}],null,true)}),_c('div',{staticClass:\"legend\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('legend')))]),_c('p',[_c('icon-project-member-role'),_vm._v(\" : \"+_vm._s(_vm.$t('project-contributor')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('project-manager')))],1)])]],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div class=\"box\" v-if=\"!loading\">\r\n    <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n      <h2> {{ $t('error') }} </h2>\r\n      <p> {{ $t('unexpected-error-info-message') }} </p>\r\n    </b-message>\r\n    <template v-else>\r\n      <div class=\"columns\">\r\n        <h2 class=\"column is-marginless\">{{$t('members-activity')}}</h2>\r\n        <p class=\"column has-text-right is-size-7 has-text-grey\">\r\n          {{$t('data-last-updated-on', {time: $options.filters.moment(lastUpdate, 'LTS')})}}\r\n        </p>\r\n      </div>\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column is-one-quarter\">\r\n          <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\r\n        </div>\r\n\r\n        <div class=\"column\">\r\n          <button class=\"button\" @click=\"filtersOpened = !filtersOpened\">\r\n            <span class=\"icon\">\r\n              <i class=\"fas fa-filter\"></i>\r\n            </span>\r\n            <span>{{filtersOpened ? $t('button-hide-filters') : $t('button-show-filters')}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <b-collapse :open=\"filtersOpened\">\r\n        <div class=\"filters columns\">\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('status')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect v-model=\"selectedStatus\" :options=\"availableStatus\" multiple\r\n                :searchable=\"false\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('role')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect v-model=\"selectedRoles\" :options=\"availableRoles\" multiple\r\n                :searchable=\"false\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </b-collapse>\r\n\r\n      <b-table\r\n        :data=\"filteredMembers\"\r\n        default-sort=\"username\"\r\n        :paginated=\"true\"\r\n        :per-page=\"perPage\"\r\n        pagination-size=\"is-small\"\r\n      >\r\n        <template #default=\"{row: member}\">\r\n          <b-table-column field=\"username\" :label=\"$t('username')\" sortable width=\"100\">\r\n            <username :user=\"member\" :online=\"onlineIds ? onlineIds.includes(member.id) : null\" :displayFullName=\"false\" />\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"name\" :label=\"$t('name')\" sortable width=\"150\">\r\n            {{ member.name }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"role\" :label=\"$t('role')\" centered sortable width=\"20\">\r\n            <icon-project-member-role :is-manager=\"member.role === managerRole\" />\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"lastImageName\" :label=\"$t('last-image')\" sortable width=\"100\">\r\n            <template v-if=\"member.lastImageId\">\r\n              <router-link :to=\"`/project/${project.id}/image/${member.lastImageId}`\">\r\n                {{member.lastImageName}}\r\n              </router-link>\r\n            </template>\r\n            <em v-else class=\"has-text-grey\">{{$t('no-record')}}</em>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"lastConnection\" :label=\"$t('last-connection')\" sortable width=\"100\">\r\n            <template v-if=\"member.lastConnection\">\r\n              {{Number(member.lastConnection) | moment('ll LT')}}\r\n            </template>\r\n            <em v-else class=\"has-text-grey\">{{$t('no-record')}}</em>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"frequency\" :label=\"$t('number-connections')\" sortable width=\"100\">\r\n            {{member.frequency}}\r\n          </b-table-column>\r\n\r\n          <b-table-column label=\"\" centered width=\"50\">\r\n            <router-link :to=\"`/project/${project.id}/activity/user/${member.id}`\" class=\"button is-small is-link\">\r\n              {{$t('button-details')}}\r\n            </router-link>\r\n          </b-table-column>\r\n        </template>\r\n\r\n        <template #empty>\r\n          <div class=\"content has-text-grey has-text-centered\">\r\n            <p>{{$t('no-member-fitting-criteria')}}</p>\r\n          </div>\r\n        </template>\r\n\r\n        <template #footer v-if=\"isManager\">\r\n          <p class=\"has-text-centered\">\r\n            <router-link class=\"button is-link add-member\" :to=\"`/project/${project.id}/configuration?tab=members`\">\r\n              {{$t('button-manage-members')}}\r\n            </router-link>\r\n          </p>\r\n        </template>\r\n\r\n        <template #bottom-left>\r\n          <b-select v-model=\"perPage\" size=\"is-small\">\r\n            <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n            <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n            <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n            <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n          </b-select>\r\n        </template>\r\n      </b-table>\r\n\r\n      <div class=\"legend\">\r\n        <h2>{{$t('legend')}}</h2>\r\n        <p><icon-project-member-role /> : {{$t('project-contributor')}}</p>\r\n        <p><icon-project-member-role :is-manager=\"true\" /> : {{$t('project-manager')}}</p>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport Username from '@/components/user/Username';\r\n\r\nimport constants from '@/utils/constants.js';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\nimport IconProjectMemberRole from '@/components/icons/IconProjectMemberRole';\r\n\r\nexport default {\r\n  name: 'members-activity',\r\n  components: {\r\n    IconProjectMemberRole,\r\n    CytomineMultiselect,\r\n    Username\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      searchString: '',\r\n      filtersOpened: false,\r\n      perPage: 25,\r\n      members: [],\r\n      onlineIds: null,\r\n\r\n      contributorRole: this.$t('contributor'),\r\n      managerRole: this.$t('manager'),\r\n      availableRoles: [],\r\n      selectedRoles: [],\r\n\r\n      onlineStatus: this.$t('online'),\r\n      offlineStatus: this.$t('offline'),\r\n      availableStatus: [],\r\n      selectedStatus: [],\r\n\r\n      lastUpdate: null,\r\n      timeout: null\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    isManager() {\r\n      return this.$store.getters['currentProject/canManageProject'];\r\n    },\r\n    idManagers() {\r\n      return this.$store.state.currentProject.managers.map(manager => manager.id);\r\n    },\r\n    regexp() {\r\n      return getWildcardRegexp(this.searchString);\r\n    },\r\n    filteredMembers() {\r\n      let statusKnown = Boolean(this.onlineIds); // whether or not the info regarding online users could be fetched\r\n      let includeOnline = this.selectedStatus.includes(this.onlineStatus);\r\n      let includeOffline = this.selectedStatus.includes(this.offlineStatus);\r\n      return this.members.filter(member => {\r\n        let online = statusKnown ? this.onlineIds.includes(member.id) : null;\r\n        return (this.regexp.test(member.name) || this.regexp.test(member.username))\r\n                    && (!statusKnown || (includeOnline && online) || (includeOffline && !online))\r\n                    && this.selectedRoles.includes(member.role);\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchData() {\r\n      try {\r\n        await Promise.all([\r\n          this.fetchMembers(),\r\n          this.fetchOnlines()\r\n        ]);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n        return;\r\n      }\r\n\r\n      this.lastUpdate = new Date();\r\n      clearTimeout(this.timeout);\r\n      this.timeout = setTimeout(this.fetchData, constants.MEMBERS_ACTIVITY_REFRESH_INTERVAL);\r\n    },\r\n    async fetchMembers() {\r\n      let members = (await this.project.fetchUsersActivity()).array;\r\n      members.forEach(member => {\r\n        member.name = `${member.firstname} ${member.lastname}`;\r\n        member.role = this.idManagers.includes(member.id) ? this.managerRole : this.contributorRole;\r\n      });\r\n      this.members = members;\r\n    },\r\n    async fetchOnlines() {\r\n      try {\r\n        let onlines = await this.project.fetchConnectedUsers();\r\n        this.onlineIds = onlines.map(o => o.id);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.onlineIds = null;\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    this.availableRoles = [this.contributorRole, this.managerRole];\r\n    this.selectedRoles = this.availableRoles;\r\n\r\n    this.availableStatus = [this.onlineStatus, this.offlineStatus];\r\n    this.selectedStatus = this.availableStatus;\r\n  },\r\n  async activated() {\r\n    await this.fetchData();\r\n    this.loading = false;\r\n  },\r\n  deactivated() {\r\n    clearTimeout(this.timeout);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.legend {\r\n  margin-top: 0.8rem;\r\n  margin-bottom: 1rem;\r\n  border-radius: 10px;\r\n  padding: 1.4em;\r\n  background: #f8f8f8;\r\n}\r\n\r\n.fas.fa-user-cog {\r\n  width: 20px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MembersActivity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MembersActivity.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MembersActivity.vue?vue&type=template&id=63399df4&scoped=true&\"\nimport script from \"./MembersActivity.vue?vue&type=script&lang=js&\"\nexport * from \"./MembersActivity.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MembersActivity.vue?vue&type=style&index=0&id=63399df4&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63399df4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tile is-child box last-actions\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('activity-logs')))]),_c('b-select',{model:{value:(_vm.selectedUser),callback:function ($$v) {_vm.selectedUser=$$v},expression:\"selectedUser\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.$t('all-users-analyses')))]),_c('optgroup',{attrs:{\"label\":_vm.$t('members')}},_vm._l((_vm.members),function(member){return _c('option',{key:member.id,domProps:{\"value\":member.id}},[_vm._v(_vm._s(member.fullName))])}),0),_c('optgroup',{attrs:{\"label\":_vm.$t('analyses')}},_vm._l((_vm.userJobs),function(uJob){return _c('option',{key:uJob.id,domProps:{\"value\":uJob.id}},[_vm._v(_vm._s(uJob.fullName))])}),0)]),_c('activity-logs',{attrs:{\"idUser\":_vm.selectedUser,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate,\"project\":_vm.project}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):(_vm.actions.length > 0)?_c('div',{ref:\"listActions\",staticClass:\"list-actions\",on:{\"scroll\":_vm.scrollHandler}},[_vm._l((_vm.formattedActions),function(month,idx){return _c('div',{key:idx},[_c('h3',[_vm._v(_vm._s(_vm._f(\"moment\")(month.refDate,'MMMM YYYY')))]),_vm._l((month.days),function(day,idx){return _c('div',{key:idx},[_c('h4',[_vm._v(_vm._s(_vm._f(\"moment\")(day.refDate,'ll')))]),_c('ul',_vm._l((day.actions),function(action){return _c('activity-logs-item',{key:action.id,attrs:{\"action\":action}})}),1)])})],2)}),(!_vm.loadedAllActions)?_c('button',{staticClass:\"button\",class:{'is-loading': _vm.loading},on:{\"click\":function($event){return _vm.loadActions()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-load-more'))+\" \")]):_vm._e()],2):_c('div',{staticClass:\"no-result\"},[_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-log-to-display')))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('li',{key:_vm.action.id},[_c('strong',[_vm._v(_vm._s(_vm._f(\"moment\")(Number(_vm.action.created),'l LTS'))+\":\")]),_c('span',{staticClass:\"content\",on:{\"mouseenter\":_vm.enter,\"mouseleave\":_vm.leave}},[(_vm.route)?_c('router-link',{attrs:{\"to\":_vm.route}},[_vm._v(\" \"+_vm._s(_vm.action.message)+\" \")]):[_vm._v(_vm._s(_vm.action.message))]],2),(_vm.previewUrl)?_c('div',{staticClass:\"preview\",class:{visible: _vm.showPreview}},[_c('div',{staticClass:\"box\"},[_c('img',{attrs:{\"src\":_vm.appendShortTermToken(_vm.previewUrl, _vm.shortTermToken)}})])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<li :key=\"action.id\">\r\n  <strong>{{Number(action.created) | moment('l LTS')}}:</strong>\r\n  <span class=\"content\" @mouseenter=\"enter\" @mouseleave=\"leave\">\r\n    <router-link v-if=\"route\" :to=\"route\">\r\n      {{action.message}}\r\n    </router-link>\r\n    <template v-else>{{action.message}}</template>\r\n  </span>\r\n  <div v-if=\"previewUrl\" class=\"preview\" :class=\"{visible: showPreview}\">\r\n    <div class=\"box\">\r\n      <img :src=\"appendShortTermToken(previewUrl, shortTermToken)\" />\r\n    </div>\r\n  </div>\r\n</li>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\nimport {get} from '@/utils/store-helpers.js';\r\n\r\nconst ANNOT = 1;\r\nconst IMAGE = 2;\r\nconst PROJECT = 3;\r\n\r\nexport default {\r\n  name: 'activity-logs-item',\r\n  props: {\r\n    action: Object\r\n  },\r\n  data() {\r\n    return {\r\n      showPreview: false,\r\n      previewUrl: null,\r\n      route: null\r\n    };\r\n  },\r\n  computed: {\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    actionData() {\r\n      return JSON.parse(this.action.data);\r\n    },\r\n    // eslint-disable-next-line vue/return-in-computed-property\r\n    type() {\r\n      switch(this.action.serviceName) {\r\n        case 'userAnnotationService':\r\n        case 'reviewedAnnotationService':\r\n        case 'algoAnnotationService':\r\n          return ANNOT;\r\n        case 'imageInstanceService':\r\n          return IMAGE;\r\n        case 'projectService':\r\n          return PROJECT;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    enter() {\r\n      this.showPreview = true;\r\n    },\r\n    leave() {\r\n      this.showPreview = false;\r\n    },\r\n    annotationHandler(annot) {\r\n      this.previewUrl = `${annot.url}?maxSize=125&complete=true&thickness=2&increaseArea=1.25&draw=true`;\r\n      this.route = `/project/${annot.project}/image/${annot.image}/annotation/${annot.id}`;\r\n    },\r\n    imageHandler(img) {\r\n      if(img.deleted) {\r\n        return;\r\n      }\r\n      this.previewUrl = img.thumb;\r\n      this.route = `/project/${img.project}/image/${img.id}`;\r\n    },\r\n    projectHandler(project) {\r\n      this.route = `/project/${project.id}`;\r\n    },\r\n    addCommandHandler() {\r\n      switch(this.type) {\r\n        case ANNOT:\r\n          this.annotationHandler(this.actionData);\r\n          break;\r\n        case IMAGE:\r\n          this.imageHandler(this.actionData);\r\n          break;\r\n        case PROJECT:\r\n          this.projectHandler(this.actionData);\r\n          break;\r\n      }\r\n    },\r\n    editCommandHandler() {\r\n      switch(this.type) {\r\n        case ANNOT:\r\n          // erratic core behaviour -> need to keep the defined new?Annotation property\r\n          this.annotationHandler(\r\n            this.actionData.newUserAnnotation ||\r\n            this.actionData.newReviewedAnnotation ||\r\n            this.actionData.newAlgoAnnotation ||\r\n            this.actionData.newAnnotation\r\n          );\r\n          break;\r\n        case IMAGE:\r\n          this.imageHandler(this.actionData.newImageInstance);\r\n          break;\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    switch(this.action.className) {\r\n      case 'be.cytomine.command.AddCommand':\r\n        this.addCommandHandler();\r\n        break;\r\n      case 'be.cytomine.command.EditCommand':\r\n        this.editCommandHandler();\r\n        break;\r\n      case 'be.cytomine.command.DeleteCommand':\r\n        // object no longer available => cannot display preview or provide link\r\n        break;\r\n      default:\r\n        console.log('Unknown command type ' + this.action.className);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nli {\r\n  padding: 0.25em 2em;\r\n  position: relative;\r\n}\r\n\r\nli:hover {\r\n  background: rgba(0, 0, 0, 0.025);\r\n}\r\n\r\n.content {\r\n  margin-left: 0.35em;\r\n}\r\n\r\n.preview {\r\n  display: none;\r\n  position: absolute;\r\n  top: 1.75em;\r\n  left: 15em;\r\n  z-index: 100;\r\n}\r\n\r\n.preview.visible {\r\n  display: block;\r\n}\r\n\r\n.preview img {\r\n  max-height: 300px;\r\n  max-width: 300px;\r\n}\r\n\r\n.box {\r\n  padding: 0.7em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityLogsItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityLogsItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ActivityLogsItem.vue?vue&type=template&id=10699078&scoped=true&\"\nimport script from \"./ActivityLogsItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ActivityLogsItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ActivityLogsItem.vue?vue&type=style&index=0&id=10699078&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10699078\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p> {{ $t('unexpected-error-info-message') }} </p>\r\n</b-message>\r\n<div class=\"list-actions\" @scroll=\"scrollHandler\" ref=\"listActions\" v-else-if=\"actions.length > 0\">\r\n  <div v-for=\"(month, idx) in formattedActions\" :key=\"idx\">\r\n    <h3>{{month.refDate | moment('MMMM YYYY')}}</h3>\r\n    <div v-for=\"(day, idx) in month.days\" :key=\"idx\">\r\n      <h4>{{day.refDate | moment('ll')}}</h4>\r\n      <ul>\r\n        <activity-logs-item v-for=\"action in day.actions\" :action=\"action\" :key=\"action.id\" />\r\n      </ul>\r\n    </div>\r\n  </div>\r\n\r\n  <button class=\"button\" :class=\"{'is-loading': loading}\" v-if=\"!loadedAllActions\" @click=\"loadActions()\">\r\n    {{$t('button-load-more')}}\r\n  </button>\r\n</div>\r\n<div class=\"no-result\" v-else>\r\n  <em class=\"has-text-grey\">{{$t('no-log-to-display')}}</em>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {Project} from 'cytomine-client';\r\nimport moment from 'moment';\r\nimport _ from 'lodash';\r\n\r\nimport ActivityLogsItem from './ActivityLogsItem';\r\n\r\nexport default {\r\n  name: 'activity-logs',\r\n  props: {\r\n    startDate: Number,\r\n    endDate: Number,\r\n    idUser: Number,\r\n    project: Object\r\n  },\r\n  components: {ActivityLogsItem},\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      offset: 0,\r\n      nbActionsPerPage: 50,\r\n      loadedAllActions: false,\r\n\r\n      actions: []\r\n    };\r\n  },\r\n  computed: {\r\n    params() {\r\n      return {\r\n        user: this.idUser,\r\n        startDate: this.startDate,\r\n        endDate: this.endDate,\r\n        project: this.project ? this.project.id : null,\r\n        fullData: true\r\n      };\r\n    },\r\n    formattedActions() {\r\n      let results = [];\r\n      let lastDate = null;\r\n      let idxMonths = -1;\r\n      let idxDays = -1;\r\n      for(let i = 0; i < this.actions.length; i++) {\r\n        let action = this.actions[i];\r\n        let date = moment(Number(action.created));\r\n        if(!lastDate || !date.isSame(lastDate, 'day')) {\r\n          if(!lastDate || !date.isSame(lastDate, 'month')) {\r\n            results.push({\r\n              refDate: Number(action.created),\r\n              days: []\r\n            });\r\n            idxMonths++;\r\n            idxDays = -1;\r\n          }\r\n\r\n          results[idxMonths].days.push({refDate: Number(action.created), actions: [action]});\r\n          idxDays++;\r\n        }\r\n        else {\r\n          results[idxMonths].days[idxDays].actions.push(action);\r\n        }\r\n        lastDate = date;\r\n      }\r\n\r\n      return results;\r\n    }\r\n  },\r\n  watch: {\r\n    params() {\r\n      this.loadActions(false);\r\n    }\r\n  },\r\n  methods: {\r\n    scrollHandler: _.debounce(function() {\r\n      let scrollBlock = this.$refs.listActions;\r\n      let bottom = (scrollBlock.scrollTop + scrollBlock.clientHeight === scrollBlock.scrollHeight);\r\n\r\n      if (bottom && !this.loadedAllActions) {\r\n        this.loadActions();\r\n      }\r\n    }, 100),\r\n\r\n    async loadActions(append=true) {\r\n      this.loading = true;\r\n      if(!append) {\r\n        this.actions = [];\r\n        this.offset = 0;\r\n        this.loadedAllActions = false;\r\n      }\r\n\r\n      try {\r\n        let data = await Project.fetchCommandHistory({\r\n          max: this.nbActionsPerPage,\r\n          offset: this.offset,\r\n          ...this.params\r\n        });\r\n\r\n        this.actions.push(...data);\r\n        this.offset += this.nbActionsPerPage;\r\n\r\n        if(data.length < this.nbActionsPerPage) {\r\n          this.loadedAllActions = true;\r\n        }\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n      }\r\n\r\n      this.loading = false;\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      await this.loadActions();\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.message {\r\n  margin-top: 1em;\r\n}\r\n\r\n.list-actions {\r\n  overflow: auto;\r\n  margin-top: 1em;\r\n}\r\n\r\n.no-result {\r\n  margin-top: 1em;\r\n}\r\n\r\nh3 {\r\n  font-weight: bold;\r\n  color: #555;\r\n}\r\n\r\n.list-actions div:not(:first-child) h3 {\r\n  padding: 0.5em 0;\r\n  margin-top: 1em;\r\n  border-top: rgba(0, 0, 0, 0.1) 2px solid;\r\n}\r\n\r\nh4 {\r\n  padding: 0.9em 1.2em 0.9em;\r\n  color: #aaa;\r\n  text-transform: uppercase;\r\n  font-weight: bold;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.button {\r\n  display: block;\r\n  margin: auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityLogs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityLogs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ActivityLogs.vue?vue&type=template&id=511a34d2&scoped=true&\"\nimport script from \"./ActivityLogs.vue?vue&type=script&lang=js&\"\nexport * from \"./ActivityLogs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ActivityLogs.vue?vue&type=style&index=0&id=511a34d2&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"511a34d2\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"tile is-child box last-actions\">\r\n  <h2>{{$t('activity-logs')}}</h2>\r\n\r\n  <b-select v-model=\"selectedUser\">\r\n    <option :value=\"null\">{{$t('all-users-analyses')}}</option>\r\n    <optgroup :label=\"$t('members')\">\r\n      <option v-for=\"member in members\" :value=\"member.id\" :key=\"member.id\">{{member.fullName}}</option>\r\n    </optgroup>\r\n    <optgroup :label=\"$t('analyses')\">\r\n      <option v-for=\"uJob in userJobs\" :value=\"uJob.id\" :key=\"uJob.id\">{{uJob.fullName}}</option>\r\n    </optgroup>\r\n  </b-select>\r\n\r\n  <activity-logs :idUser=\"selectedUser\" :startDate=\"startDate\" :endDate=\"endDate\" :project=\"project\" />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {UserJobCollection} from 'cytomine-client';\r\n\r\nimport {get} from '@/utils/store-helpers';\r\nimport {fullName} from '@/utils/user-utils.js';\r\n\r\nimport ActivityLogs from '@/components/utils/ActivityLogs';\r\n\r\nexport default {\r\n  name: 'project-activity-logs',\r\n  props: {\r\n    startDate: Number,\r\n    endDate: Number\r\n  },\r\n  components: {ActivityLogs},\r\n  data() {\r\n    return {\r\n      userJobs: [],\r\n      selectedUser: null,\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    members: get('currentProject/members'),\r\n  },\r\n  async created() {\r\n    try {\r\n      let userJobs = (await UserJobCollection.fetchAll({filterKey: 'project', filterValue: this.project.id})).array;\r\n      userJobs.forEach(uJob => uJob.fullName = fullName(uJob));\r\n      this.userJobs = userJobs;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.last-actions {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  word-wrap: break-word;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityLogs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityLogs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectActivityLogs.vue?vue&type=template&id=37261b9d&scoped=true&\"\nimport script from \"./ProjectActivityLogs.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectActivityLogs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectActivityLogs.vue?vue&type=style&index=0&id=37261b9d&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"37261b9d\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box error\" v-if=\"!configUI['project-activities-tab']\">\r\n  <h2> {{ $t('access-denied') }} </h2>\r\n  <p>{{ $t('insufficient-permission') }}</p>\r\n</div>\r\n<div v-else class=\"project-activity-wrapper content-wrapper\">\r\n  <div class=\"columns\">\r\n    <div class=\"column\">\r\n      <b-field v-if=\"canManageProject\" class=\"radio-buttons-fullwidth is-hovered\">\r\n        <b-radio-button v-model=\"activeTab\" native-value=\"charts\" type=\"is-link\">\r\n          {{$t('activity-charts')}}\r\n        </b-radio-button>\r\n\r\n        <b-radio-button v-model=\"activeTab\" native-value=\"members\" type=\"is-link\">\r\n          {{$t('members-activity')}}\r\n        </b-radio-button>\r\n\r\n        <b-radio-button v-model=\"activeTab\" native-value=\"logs\" type=\"is-link\">\r\n          {{$t('activity-logs')}}\r\n        </b-radio-button>\r\n      </b-field>\r\n    </div>\r\n    <div class=\"column is-narrow\">\r\n      <b-dropdown position=\"is-bottom-left\" class=\"date-picker-dropdown\" :disabled=\"activeTab === 'members'\">\r\n        <template #trigger>\r\n          <button class=\"button is-hovered\"><i class=\"far fa-calendar\"></i></button>\r\n        </template>\r\n\r\n        <b-dropdown-item custom>\r\n          <b-field :label=\"$t('from')\" horizontal>\r\n            <cytomine-datepicker v-model=\"startDate\" :maxDate=\"endDate || new Date()\" />\r\n          </b-field>\r\n          <b-field :label=\"$t('to')\" horizontal>\r\n            <cytomine-datepicker v-model=\"endDate\" :minDate=\"startDate\" :maxDate=\"new Date()\" />\r\n          </b-field>\r\n        </b-dropdown-item>\r\n      </b-dropdown>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"component-wrapper\">\r\n    <keep-alive>\r\n      <component\r\n        :is=\"activeComponent\"\r\n        :startDate=\"startDate ? startDate.getTime() : null\"\r\n        :endDate=\"endDate ? endDate.setHours(23, 59, 59, 999) : null\"\r\n      />\r\n    </keep-alive>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport moment from 'moment';\r\n\r\nimport ProjectActivityCharts from './activity/ProjectActivityCharts';\r\nimport MembersActivity from './activity/MembersActivity';\r\nimport ProjectActivityLogs from './activity/ProjectActivityLogs';\r\n\r\nimport CytomineDatepicker from '@/components/form/CytomineDatepicker';\r\n\r\nconst defaultTab = 'charts';\r\n\r\nexport default {\r\n  name: 'project-activity',\r\n  components: {CytomineDatepicker},\r\n  data() {\r\n    return {\r\n      activeTab: defaultTab,\r\n      startDate: null,\r\n      endDate: null\r\n    };\r\n  },\r\n  computed: {\r\n    configUI: get('currentProject/configUI'),\r\n    canManageProject() {\r\n      return this.$store.getters['currentProject/canManageProject'];\r\n    },\r\n    moment() {\r\n      return moment;\r\n    },\r\n    queriedTab() {\r\n      return this.$route.query.tab;\r\n    },\r\n    // eslint-disable-next-line vue/return-in-computed-property\r\n    activeComponent() {\r\n      if(!this.canManageProject) { // contributor can only view charts tab\r\n        return ProjectActivityCharts;\r\n      }\r\n\r\n      switch(this.activeTab) {\r\n        case 'charts':\r\n          return ProjectActivityCharts;\r\n        case 'members':\r\n          return MembersActivity;\r\n        case 'logs':\r\n          return ProjectActivityLogs;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    queriedTab() {\r\n      this.changeTab();\r\n    },\r\n    activeTab() {\r\n      if(this.activeTab !== defaultTab || this.queriedTab) {\r\n        this.$router.push(`?tab=${this.activeTab}`);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    changeTab() {\r\n      this.activeTab = this.queriedTab || defaultTab;\r\n      if(!this.activeComponent) {\r\n        this.activeTab = defaultTab;\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.changeTab();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.project-activity-wrapper {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.component-wrapper {\r\n  flex: 1;\r\n  min-height: 20em;\r\n}\r\n</style>\r\n\r\n<style>\r\n.project-activity-wrapper .date-picker-dropdown.dropdown > .dropdown-menu {\r\n  min-width: 20em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivity.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectActivity.vue?vue&type=template&id=77d5a06f&scoped=true&\"\nimport script from \"./ProjectActivity.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectActivity.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectActivity.vue?vue&type=style&index=0&id=77d5a06f&prod&scoped=true&lang=css&\"\nimport style1 from \"./ProjectActivity.vue?vue&type=style&index=1&id=77d5a06f&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77d5a06f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.configUI['project-jobs-tab'])?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):(_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('unexpected-error-info-message')))])]):_c('div',{staticClass:\"list-jobs-wrapper content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('analysis'))+\" \"),(_vm.canAddJob)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){_vm.launchModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-launch-new-analysis'))+\" \")]):_vm._e()]),_c('div',{staticClass:\"panel-block\"},[_c('div',{staticClass:\"filters\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('filters')))]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter is-one-third\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('algorithm'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableSoftwares,\"multiple\":\"\",\"track-by\":\"id\",\"label\":\"fullName\"},model:{value:(_vm.selectedSoftwares),callback:function ($$v) {_vm.selectedSoftwares=$$v},expression:\"selectedSoftwares\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('launcher'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableLaunchers,\"multiple\":\"\"},model:{value:(_vm.selectedLaunchers),callback:function ($$v) {_vm.selectedLaunchers=$$v},expression:\"selectedLaunchers\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('execution-date'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-datepicker',{attrs:{\"styles\":['multiselect', 'bold-placeholder'],\"placeholder\":_vm.$t('all-dates'),\"maxDate\":new Date()},model:{value:(_vm.selectedDate),callback:function ($$v) {_vm.selectedDate=$$v},expression:\"selectedDate\"}})],1)]),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('status'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableStatus,\"label\":\"label\",\"track-by\":\"status\",\"multiple\":\"\"},model:{value:(_vm.selectedStatus),callback:function ($$v) {_vm.selectedStatus=$$v},expression:\"selectedStatus\"}})],1)])])]),_c('cytomine-table',{attrs:{\"collection\":_vm.jobCollection,\"is-empty\":_vm.nbEmptyFilters > 0,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"openedDetailed\":_vm.openedDetails,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function({row: job}){return [_c('b-table-column',{attrs:{\"field\":\"softwareName\",\"label\":_vm.$t('algorithm'),\"sortable\":\"\",\"width\":\"1000\"}},[_c('router-link',{attrs:{\"to\":`/algorithm/${job.software}`}},[_vm._v(\" \"+_vm._s(job.softwareName)+\" \")])],1),_c('b-table-column',{attrs:{\"label\":_vm.$t('run-number'),\"width\":\"500\",\"centered\":\"\"}},[_vm._v(\" \"+_vm._s(job.number)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"username\",\"label\":_vm.$t('launched-by'),\"sortable\":\"\",\"width\":\"600\"}},[_vm._v(\" \"+_vm._s(job.username)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"created\",\"label\":_vm.$t('execution-date'),\"sortable\":\"\",\"width\":\"600\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(job.created),'ll LT'))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"status\",\"label\":_vm.$t('status'),\"sortable\":\"\",\"centered\":\"\",\"width\":\"600\"}},[_c('job-status',{attrs:{\"status\":job.status}})],1)]}},{key:\"detail\",fn:function({row: job}){return [_c('job-details',{key:job.id,attrs:{\"job\":job},on:{\"update\":function($event){_vm.revision++},\"delete\":function($event){return _vm.deleteJob(job)},\"relaunch\":_vm.addJob}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-analysis-run')))])])]},proxy:true}],null,false,1526954539)})],1)]):_vm._e(),_c('add-job-modal',{attrs:{\"active\":_vm.launchModal},on:{\"update:active\":function($event){_vm.launchModal=$event},\"add\":_vm.addJob}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"tag\",class:_vm.tagClass},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.labels[_vm.status].label))+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {JobStatus} from 'cytomine-client';\r\n\r\nconst jobStatusMapping = Object.freeze({\r\n  [JobStatus.RUNNING]: {\r\n    label: 'running',\r\n    statLabel: 'numberOfRunning',\r\n    color: '#209CEE'\r\n  },\r\n  [JobStatus.SUCCESS]: {\r\n    label: 'success',\r\n    statLabel: 'numberOfSuccess',\r\n    color: '#23D160'\r\n  },\r\n  [JobStatus.FAILED]: {\r\n    label: 'failed',\r\n    statLabel: 'numberOfFailed',\r\n    color: '#FF3860'\r\n  },\r\n  [JobStatus.NOTLAUNCH]: {\r\n    label: 'not-launch',\r\n    statLabel: 'numberOfNotLaunch',\r\n    color: '#F5F5F5'\r\n  },\r\n  [JobStatus.WAIT]: {\r\n    label: 'wait',\r\n    statLabel: 'numberOfWait',\r\n    color: '#F5F5F5'\r\n  },\r\n  [JobStatus.INQUEUE]: {\r\n    label: 'in-queue',\r\n    statLabel: 'numberOfInQueue',\r\n    color: '#F5F5F5'\r\n  },\r\n  [JobStatus.INDETERMINATE]: {\r\n    label: 'indeterminate',\r\n    statLabel: 'numberOfIndeterminate',\r\n    color: '#F5F5F5'\r\n  },\r\n  [JobStatus.KILLED]: {\r\n    label: 'killed',\r\n    statLabel: 'numberOfKilled',\r\n    color: '#363636'\r\n  }\r\n});\r\n\r\nexport default jobStatusMapping;\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<span class=\"tag\" :class=\"tagClass\">\r\n  {{$t(labels[status].label)}}\r\n</span>\r\n</template>\r\n\r\n<script>\r\nimport {JobStatus} from 'cytomine-client';\r\nimport jobStatusMapping from '@/utils/job-utils';\r\n\r\nexport default {\r\n  name: 'job-status',\r\n  props: {\r\n    status: Number\r\n  },\r\n  computed: {\r\n    labels() {\r\n      return jobStatusMapping;\r\n    },\r\n    // eslint-disable-next-line vue/return-in-computed-property\r\n    result() {\r\n      switch(this.status) {\r\n        case JobStatus.KILLED:\r\n          return 'dark';\r\n        case JobStatus.NOTLAUNCH:\r\n        case JobStatus.INQUEUE:\r\n        case JobStatus.WAIT:\r\n        case JobStatus.INDETERMINATE:\r\n        case JobStatus.PREVIEWED:\r\n          return 'light';\r\n        case JobStatus.RUNNING:\r\n          return 'info';\r\n        case JobStatus.SUCCESS:\r\n          return 'success';\r\n        case JobStatus.FAILED:\r\n          return 'danger';\r\n      }\r\n    },\r\n    tagClass() {\r\n      return 'is-' + this.result;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobStatus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobStatus.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./JobStatus.vue?vue&type=template&id=2a350574&\"\nimport script from \"./JobStatus.vue?vue&type=script&lang=js&\"\nexport * from \"./JobStatus.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"job-details-wrapper\"},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading},on:{\"update:active\":function($event){_vm.loading=$event}}}),(!_vm.loading)?[_c('table',{staticClass:\"table\"},[_c('tbody',[(_vm.isRunning)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('progress')))]),_c('td',[_c('progress',{staticClass:\"progress is-info\",attrs:{\"max\":\"100\"},domProps:{\"value\":_vm.job.progress}},[_vm._v(\" \"+_vm._s(_vm.job.progress)+\"% \")])])]):_vm._e(),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('status-comment')))]),_c('td',[_vm._v(_vm._s(_vm.job.statusComment || \"-\"))])]),(_vm.isSuccessful)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('execution-duration')))]),_c('td',[_vm._v(_vm._s(_vm._f(\"duration\")(Number(_vm.job.updated) - Number(_vm.job.created),'humanize')))])]):_vm._e(),(_vm.currentUser.isDeveloper)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('job-id')))]),_c('td',[_vm._v(_vm._s(_vm.job.id))])]):_vm._e(),(_vm.currentUser.isDeveloper)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('userjob-id')))]),_c('td',[_vm._v(_vm._s(_vm.job.userJob))])]):_vm._e(),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('parameters')))]),_c('td',[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.showParameters = !_vm.showParameters}}},[_c('span',[_vm._v(_vm._s(_vm.showParameters ? _vm.$t('button-hide') : _vm.$t('button-show')))])]),_c('b-collapse',{attrs:{\"open\":_vm.showParameters}},[_c('table',{staticClass:\"table is-narrow inline-table is-fullwidth\"},[_c('thead',[_c('tr',[(_vm.currentUser.isDeveloper)?_c('th',[_vm._v(_vm._s(_vm.$t('id')))]):_vm._e(),_c('th',[_vm._v(_vm._s(_vm.$t('name')))]),_c('th',[_vm._v(_vm._s(_vm.$t('value')))]),_c('th',[_vm._v(_vm._s(_vm.$t('type')))])])]),_c('tbody',_vm._l((_vm.job.jobParameters.array),function(param){return _c('tr',{key:param.id},[(_vm.currentUser.isDeveloper)?_c('td',[_vm._v(_vm._s(param.id))]):_vm._e(),_c('td',[_vm._v(_vm._s(param.humanName))]),_c('td',[_vm._v(_vm._s(param.value))]),_c('td',[_vm._v(_vm._s(_vm.$t(param.type.toLowerCase())))])])}),0)])])],1)]),(_vm.isFinished)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('execution-log')))]),(_vm.isJustFinished && !_vm.log)?_c('td',[_c('div',{staticClass:\"loading\"},[_c('i',{staticClass:\"fas fa-spinner fa-spin fa-fw\"}),_vm._v(\"  \"),_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('log-being-collected')))])])]):(_vm.log)?_c('td',[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.showLog = !_vm.showLog}}},[_c('span',[_vm._v(_vm._s(_vm.showLog ? _vm.$t('button-hide') : _vm.$t('button-show')))])]),_c('b-collapse',{attrs:{\"open\":_vm.showLog}},[_c('pre',[_vm._v(_vm._s(_vm.log.data))])])],1):_c('td',[_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('not-found')))])])]):_vm._e(),_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('tags')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-tags',{attrs:{\"object\":_vm.job,\"canEdit\":_vm.canManageJob}})],1)]),(_vm.hasAnnotationResult)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('data')))]),(_vm.hasAnnotationResult)?_c('td',[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}/annotations?userJob=${_vm.job.userJob}`}},[_vm._v(\" \"+_vm._s(_vm.$tc(\"count-annotations\", _vm.allData.annotations, {count: _vm.allData.annotations}))+\" \")])],1):_vm._e()]):_vm._e(),(_vm.hasFileResult)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('files')))]),_c('td',[(_vm.jobData.length > 0)?_c('table',{staticClass:\"table inline-table is-fullwidth is-narrow\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t('filename')))]),_c('th',[_vm._v(_vm._s(_vm.$t('comment')))]),_c('th',[_vm._v(_vm._s(_vm.$t('size')))]),_c('th')])]),_c('tbody',_vm._l((_vm.jobData),function(data){return _c('tr',{key:data.id},[_c('td',[_vm._v(_vm._s(data.filename))]),_c('td',[_vm._v(_vm._s(data.key))]),_c('td',[_vm._v(_vm._s(_vm.filesize(data.size)))]),_c('td',[_c('div',{staticClass:\"buttons\"},[_c('a',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.viewData(data)}}},[_vm._v(_vm._s(_vm.$t('button-view')))]),_c('a',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.downloadData(data)}}},[_vm._v(_vm._s(_vm.$t('button-download')))])])])])}),0)]):_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-result-file')))])])]):_vm._e(),(_vm.job.dataDeleted)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('data')))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.$t('deleted-analysis-data'))+\" \")])]):_vm._e(),(_vm.canManageJob)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('actions')))]),_c('td',[_c('div',{staticClass:\"buttons are-small\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.relaunchJob()}}},[_vm._v(\" \"+_vm._s(_vm.$t('relaunch'))+\" \")]),(!_vm.job.dataDeleted && _vm.isFinished)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.deletionModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('delete-data'))+\" \")]):_vm._e(),(_vm.isFinished)?_c('button',{staticClass:\"button is-danger\",on:{\"click\":function($event){return _vm.confirmJobDeletion()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")]):_c('button',{staticClass:\"button is-danger\",on:{\"click\":function($event){return _vm.confirmJobKilling()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-kill'))+\" \")])])])]):_vm._e()])]),_c('cytomine-modal',{attrs:{\"active\":_vm.deletionModal,\"title\":_vm.$t('delete-analysis-data')},on:{\"close\":function($event){_vm.deletionModal = false}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.deletionModal = false}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-danger\",on:{\"click\":function($event){return _vm.deleteData()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-confirm'))+\" \")])]},proxy:true}],null,false,617667549)},[_c('p',[_vm._v(_vm._s(_vm.$t('confirm-deletion-analysis-data')))]),_c('ul',[_c('li',[_vm._v(_vm._s(_vm.$tc(\"count-annotations\", _vm.allData.annotations, {count: _vm.allData.annotations})))]),_c('li',[_vm._v(_vm._s(_vm.$tc(\"count-reviewed-annotations\", _vm.allData.reviewed, {count: _vm.allData.reviewed})))]),_c('li',[_vm._v(_vm._s(_vm.$tc(\"count-annotation-terms\", _vm.allData.annotationsTerm, {count: _vm.allData.annotationsTerm})))]),_c('li',[_vm._v(_vm._s(_vm.$tc(\"count-files\", _vm.allData.jobDatas, {count: _vm.allData.jobDatas})))])]),_c('p',{staticClass:\"has-margin-top\"},[_vm._v(_vm._s(_vm.$t('remark-long-operation')))]),(_vm.deletionTask)?[_c('hr'),_c('cytomine-task',{attrs:{\"task\":_vm.deletionTask},on:{\"update:task\":function($event){_vm.deletionTask=$event}}})]:_vm._e()],2)]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.task)?_c('div',[_c('progress',{staticClass:\"progress is-info\",attrs:{\"max\":\"100\"},domProps:{\"value\":_vm.task.progress}},[_vm._v(\" \"+_vm._s(_vm.task.progress)+\"% \")]),(_vm.lastComment)?_c('p',[_vm._v(_vm._s(_vm.lastComment))]):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div v-if=\"task\">\r\n  <progress class=\"progress is-info\" :value=\"task.progress\" max=\"100\">\r\n    {{task.progress}}%\r\n  </progress>\r\n  <p v-if=\"lastComment\">{{lastComment}}</p> <!-- WARNING: not translated -->\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport constants from '@/utils/constants.js';\r\nimport {Task} from 'cytomine-client';\r\n\r\nexport default {\r\n  name: 'cytomine-task',\r\n  props: {\r\n    task: Object,\r\n    refreshInterval: {\r\n      type: Number,\r\n      default: constants.TASK_REFRESH_INTERVAL\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      timeout: null\r\n    };\r\n  },\r\n  computed: {\r\n    lastComment() {\r\n      if(this.task && this.task.comments && this.task.comments.length > 0) {\r\n        return this.task.comments[0];\r\n      }\r\n      return '';\r\n    }\r\n  },\r\n  watch: {\r\n    task() {\r\n      this.refresh();\r\n    }\r\n  },\r\n  methods: {\r\n    async refresh() {\r\n      if(this.task) {\r\n        let updatedTask = await Task.fetch(this.task.id);\r\n        this.$emit('update:task', updatedTask);\r\n        clearTimeout(this.timeout);\r\n        if(updatedTask.progress < 100) {\r\n          this.timeout = setTimeout(this.refresh, this.refreshInterval);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.refresh();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.progress {\r\n  margin: 0.5em 0 !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTask.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineTask.vue?vue&type=template&id=6d0d3d7d&scoped=true&\"\nimport script from \"./CytomineTask.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineTask.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineTask.vue?vue&type=style&index=0&id=6d0d3d7d&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d0d3d7d\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"job-details-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active.sync=\"loading\" class=\"small\" />\r\n\r\n  <template v-if=\"!loading\">\r\n    <table class=\"table\">\r\n      <tbody>\r\n          <tr v-if=\"isRunning\">\r\n            <td>{{$t('progress')}}</td>\r\n            <td>\r\n              <progress class=\"progress is-info\" :value=\"job.progress\" max=\"100\">\r\n                {{job.progress}}%\r\n              </progress>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>{{$t('status-comment')}}</td>\r\n            <td>{{job.statusComment || \"-\"}}</td>\r\n          </tr>\r\n          <tr v-if=\"isSuccessful\">\r\n            <td>{{$t('execution-duration')}}</td>\r\n            <td>{{Number(job.updated) - Number(job.created) | duration('humanize')}}</td>\r\n          </tr>\r\n          <tr v-if=\"currentUser.isDeveloper\">\r\n            <td>{{$t('job-id')}}</td>\r\n            <td>{{job.id}}</td>\r\n          </tr>\r\n          <tr v-if=\"currentUser.isDeveloper\">\r\n            <td>{{$t('userjob-id')}}</td>\r\n            <td>{{job.userJob}}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>{{$t('parameters')}}</td>\r\n            <td>\r\n              <button class=\"button is-small\" @click=\"showParameters = !showParameters\">\r\n                <span>{{showParameters ? $t('button-hide') : $t('button-show')}}</span>\r\n              </button>\r\n              <b-collapse :open=\"showParameters\">\r\n                <table class=\"table is-narrow inline-table is-fullwidth\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th v-if=\"currentUser.isDeveloper\">{{$t('id')}}</th>\r\n                      <th>{{$t('name')}}</th>\r\n                      <th>{{$t('value')}}</th>\r\n                      <th>{{$t('type')}}</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"param in job.jobParameters.array\" :key=\"param.id\">\r\n                      <td v-if=\"currentUser.isDeveloper\">{{param.id}}</td>\r\n                      <td>{{param.humanName}}</td>\r\n                      <td>{{param.value}}</td>\r\n                      <td>{{$t(param.type.toLowerCase())}}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </b-collapse>\r\n            </td>\r\n          </tr>\r\n          <tr v-if=\"isFinished\">\r\n            <td>{{$t('execution-log')}}</td>\r\n            <td v-if=\"isJustFinished && !log\">\r\n              <div class=\"loading\">\r\n                <i class=\"fas fa-spinner fa-spin fa-fw\"></i>&nbsp;\r\n                <em class=\"has-text-grey\">{{$t('log-being-collected')}}</em>\r\n              </div>\r\n            </td>\r\n            <td v-else-if=\"log\">\r\n              <button class=\"button is-small\" @click=\"showLog = !showLog\">\r\n                <span>{{showLog ? $t('button-hide') : $t('button-show')}}</span>\r\n              </button>\r\n              <b-collapse :open=\"showLog\">\r\n                <pre>{{log.data}}</pre>\r\n              </b-collapse>\r\n            </td>\r\n            <td v-else>\r\n              <em class=\"has-text-grey\">{{$t('not-found')}}</em>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"prop-label\">{{$t('tags')}}</td>\r\n            <td class=\"prop-content\">\r\n              <cytomine-tags :object=\"job\" :canEdit=\"canManageJob\" />\r\n            </td>\r\n          </tr>\r\n          <tr v-if=\"hasAnnotationResult\">\r\n            <td>{{$t('data')}}</td>\r\n            <td v-if=\"hasAnnotationResult\">\r\n              <router-link :to=\"`/project/${project.id}/annotations?userJob=${job.userJob}`\">\r\n                {{$tc(\"count-annotations\", allData.annotations, {count: allData.annotations})}}\r\n              </router-link>\r\n            </td>\r\n          </tr>\r\n          <tr v-if=\"hasFileResult\">\r\n            <td>{{$t('files')}}</td>\r\n            <td>\r\n              <table v-if=\"jobData.length > 0\" class=\"table inline-table is-fullwidth is-narrow\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>{{$t('filename')}}</th>\r\n                    <th>{{$t('comment')}}</th>\r\n                    <th>{{$t('size')}}</th>\r\n                    <th></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"data in jobData\" :key=\"data.id\">\r\n                    <td>{{data.filename}}</td>\r\n                    <td>{{data.key}}</td>\r\n                    <td>{{filesize(data.size)}}</td>\r\n                    <td>\r\n                      <div class=\"buttons\">\r\n                        <a class=\"button is-small\" @click=\"viewData(data)\">{{$t('button-view')}}</a>\r\n                        <a class=\"button is-small\" @click=\"downloadData(data)\">{{$t('button-download')}}</a>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <em v-else class=\"has-text-grey\">{{$t('no-result-file')}}</em>\r\n            </td>\r\n          </tr>\r\n          <tr v-if=\"job.dataDeleted\">\r\n            <td>{{$t('data')}}</td>\r\n            <td>\r\n              {{$t('deleted-analysis-data')}}\r\n            </td>\r\n          </tr>\r\n          <tr v-if=\"canManageJob\">\r\n            <td>{{$t('actions')}}</td>\r\n            <td>\r\n              <div class=\"buttons are-small\">\r\n                <button class=\"button\" @click=\"relaunchJob()\">\r\n                  {{$t('relaunch')}}\r\n                </button>\r\n                <button v-if=\"!job.dataDeleted && isFinished\" class=\"button\" @click=\"deletionModal = true\">\r\n                  {{$t('delete-data')}}\r\n                </button>\r\n                <button v-if=\"isFinished\" class=\"button is-danger\" @click=\"confirmJobDeletion()\">\r\n                  {{$t('button-delete')}}\r\n                </button>\r\n                <button v-else class=\"button is-danger\" @click=\"confirmJobKilling()\">\r\n                  {{$t('button-kill')}}\r\n                </button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <cytomine-modal :active=\"deletionModal\" :title=\"$t('delete-analysis-data')\" @close=\"deletionModal = false\">\r\n      <p>{{$t('confirm-deletion-analysis-data')}}</p>\r\n      <ul>\r\n        <li>{{$tc(\"count-annotations\", allData.annotations, {count: allData.annotations})}}</li>\r\n        <li>{{$tc(\"count-reviewed-annotations\", allData.reviewed, {count: allData.reviewed})}}</li>\r\n        <li>{{$tc(\"count-annotation-terms\", allData.annotationsTerm, {count: allData.annotationsTerm})}}</li>\r\n        <li>{{$tc(\"count-files\", allData.jobDatas, {count: allData.jobDatas})}}</li>\r\n      </ul>\r\n\r\n      <p class=\"has-margin-top\">{{$t('remark-long-operation')}}</p>\r\n\r\n      <template v-if=\"deletionTask\">\r\n        <hr>\r\n        <cytomine-task :task.sync=\"deletionTask\" />\r\n      </template>\r\n\r\n      <template #footer>\r\n        <button class=\"button\" type=\"button\" @click=\"deletionModal = false\">\r\n          {{$t('button-cancel')}}\r\n        </button>\r\n        <button class=\"button is-danger\" @click=\"deleteData()\">\r\n          {{$t('button-confirm')}}\r\n        </button>\r\n      </template>\r\n    </cytomine-modal>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {Job, JobStatus, JobDataCollection, Task} from 'cytomine-client';\r\nimport filesize from 'filesize';\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\nimport CytomineTask from '@/components/utils/CytomineTask';\r\nimport CytomineTags from '@/components/tag/CytomineTags';\r\n\r\nimport constants from '@/utils/constants.js';\r\nconst REFRESH_INTERVAL = constants.JOB_DETAILS_REFRESH_INTERVAL;\r\nconst REFRESH_LOG_INTERVAL = constants.JOB_LOGS_REFRESH_INTERVAL;\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\n\r\nexport default {\r\n  name: 'job-details',\r\n  props: {\r\n    job: Object\r\n  },\r\n  components: {\r\n    CytomineModal,\r\n    CytomineTask,\r\n    CytomineTags\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      justFinishedInterval: 60000, // in milliseconds\r\n\r\n      showParameters: false,\r\n      showLog: false,\r\n\r\n      allData: null,\r\n      jobData: [],\r\n      log: null,\r\n      timeoutRefresh: null,\r\n\r\n      deletionModal: false,\r\n      deletionTask: null\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    currentUser: get('currentUser/user'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    canManageJob() {\r\n      return this.$store.getters['currentProject/canManageJob'](this.job);\r\n    },\r\n    isRunning() {\r\n      return this.job.status === JobStatus.RUNNING;\r\n    },\r\n    isSuccessful() {\r\n      return this.job.status === JobStatus.SUCCESS;\r\n    },\r\n    isFinished() {\r\n      return this.isSuccessful || this.job.status === JobStatus.FAILED || this.job.status === JobStatus.KILLED;\r\n    },\r\n    isJustFinished() {\r\n      return this.isFinished && (Date.now() - Number(this.job.created) < this.justFinishedInterval);\r\n    },\r\n    hasAnnotationResult() {\r\n      return this.allData.annotations > 0;\r\n    },\r\n    hasFileResult() {\r\n      return this.allData.jobDatas > 0;\r\n    }\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    async refresh(force=false) {\r\n      if(this.isFinished && !force) {\r\n        return;\r\n      }\r\n\r\n      let job = await Job.fetch(this.job.id);\r\n      this.$emit('update', job);\r\n      await this.fetchData();\r\n      this.job.status = job.status;\r\n      this.fetchLog();\r\n\r\n      clearTimeout(this.timeoutRefresh);\r\n      this.timeoutRefresh = setTimeout(this.refresh, REFRESH_INTERVAL);\r\n    },\r\n    filesize(size) {\r\n      return filesize(size, {base: 10});\r\n    },\r\n    viewData(data) {\r\n      window.location.assign(appendShortTermToken(data.viewURL, this.shortTermToken), '_blank');\r\n    },\r\n    downloadData(data) {\r\n      window.location.assign(appendShortTermToken(data.downloadURL, this.shortTermToken), '_blank');\r\n    },\r\n    async fetchLog() {\r\n      if (this.isFinished) {\r\n        let maxRetries = (this.isJustFinished) ? Math.round(this.justFinishedInterval / REFRESH_LOG_INTERVAL) : 1;\r\n        while (!this.log && maxRetries > 0) {\r\n          try {\r\n            this.log = await this.job.fetchLog();\r\n          }\r\n          catch (e) {\r\n            // Do nothing as a 404 error has meaning: no log found\r\n            await new Promise(resolve => setTimeout(resolve, REFRESH_LOG_INTERVAL));\r\n            maxRetries--;\r\n          }\r\n        }\r\n\r\n      }\r\n    },\r\n    async fetchData() {\r\n      this.allData = await this.job.fetchAllData();\r\n      if(this.hasFileResult) {\r\n        this.jobData = (await JobDataCollection.fetchAll({filterKey: 'job', filterValue: this.job.id})).array;\r\n      }\r\n    },\r\n    async deleteData() {\r\n      let job = this.job.clone(); // create new job to avoid mutating the prop\r\n      try {\r\n        this.deletionTask = await new Task({project: this.project.id}).save();\r\n        await job.deleteAllData(this.deletionTask.id);\r\n        this.refresh(true);\r\n        this.deletionTask = null;\r\n        this.deletionModal = false;\r\n        this.$notify({type: 'success', text: this.$t('notif-success-analysis-data-deletion')});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.deletionTask = null;\r\n        this.$notify({type: 'error', text: this.$t('notif-error-analysis-data-deletion')});\r\n      }\r\n    },\r\n    async killJob() {\r\n      let job = this.job.clone();\r\n      try {\r\n        await job.kill();\r\n        this.$emit('update', job);\r\n        this.$notify({type: 'success', text: this.$t('notif-success-analysis-kill')});\r\n      }\r\n      catch (error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-analysis-data-kill')});\r\n      }\r\n    },\r\n    confirmJobDeletion() {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('delete-analysis'),\r\n        message: this.$t('delete-analysis-confirmation-message'),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.$emit('delete')\r\n      });\r\n    },\r\n    confirmJobKilling() {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('kill-analysis'),\r\n        message: this.$t('kill-analysis-confirmation-message'),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.killJob()\r\n      });\r\n    },\r\n    async relaunchJob() {\r\n      try {\r\n        let newJob = await this.job.copy();\r\n        this.$emit('relaunch', newJob);\r\n        await newJob.execute();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-analysis-launch')});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-analysis-launch')});\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    await this.fetchData();\r\n    this.fetchLog();\r\n    this.loading = false;\r\n    this.timeoutRefresh = setTimeout(this.refresh, REFRESH_INTERVAL);\r\n  },\r\n  beforeDestroy() {\r\n    clearTimeout(this.timeoutRefresh);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.job-details-wrapper {\r\n  position: relative;\r\n  min-height: 50px;\r\n}\r\n\r\n.table {\r\n  background: none;\r\n  position: relative;\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\ntd:first-child {\r\n  white-space: nowrap;\r\n  font-weight: 600;\r\n}\r\n\r\ntd:not(:first-child) {\r\n  width: 100%;\r\n}\r\n\r\n.inline-table td:first-child {\r\n  font-weight: normal;\r\n}\r\n\r\n.inline-table td:not(:first-child) {\r\n  width: auto;\r\n}\r\n\r\nul {\r\n  margin-left: 2em;\r\n  list-style-type: disc;\r\n}\r\n\r\n.has-margin-top {\r\n  margin-top: 1.5em;\r\n}\r\n\r\n.loading {\r\n  display: block;\r\n}\r\n</style>\r\n\r\n<style scoped lang=\"scss\">\r\npre {\r\n  white-space: pre-wrap;\r\n  word-break: break-all;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./JobDetails.vue?vue&type=template&id=4eb4085b&scoped=true&\"\nimport script from \"./JobDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./JobDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./JobDetails.vue?vue&type=style&index=0&id=4eb4085b&prod&scoped=true&lang=css&\"\nimport style1 from \"./JobDetails.vue?vue&type=style&index=1&id=4eb4085b&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4eb4085b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createJob()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('launch-new-analysis')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-launch-new-analysis'))+\" \")])]},proxy:true}])},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-narrow\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('algorithm')))])]),_c('div',{staticClass:\"column\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.executableSoftwares,\"track-by\":\"id\",\"label\":\"fullName\"},model:{value:(_vm.selectedSoftware),callback:function ($$v) {_vm.selectedSoftware=$$v},expression:\"selectedSoftware\"}})],1)]),(_vm.selectedSoftware)?[(_vm.selectedSoftware.deprecated)?_c('b-message',{attrs:{\"type\":\"is-warning\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('notif-deprecated-software'))+\" \")]):_vm._e(),_c('table',{staticClass:\"table is-fullwidth\"},[_c('thead',[_c('tr',[_c('th'),_c('th',[_vm._v(_vm._s(_vm.$t('name')))]),_c('th',[_vm._v(_vm._s(_vm.$t('value')))])])]),_c('tbody',[_vm._l((_vm.paramsMandatoryNoDefault),function(param){return _c('job-parameter-row',{key:param.id,attrs:{\"param\":param},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", $$v)},expression:\"param.value\"}})}),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.optionalParams.length > 0),expression:\"optionalParams.length > 0\"}],staticClass:\"row-separator\"},[_c('td',{attrs:{\"colspan\":\"3\"}},[_vm._v(\" \"+_vm._s(_vm.$t('optional-parameters'))+\" \"),_c('button',{staticClass:\"button is-small\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showOptional = !_vm.showOptional}}},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.showOptional ? 'button-hide' : 'button-show'))+\" \")])])]),(_vm.showOptional)?_vm._l((_vm.optionalParams),function(param){return _c('job-parameter-row',{key:param.id,attrs:{\"param\":param},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", $$v)},expression:\"param.value\"}})}):_vm._e(),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.prefilledParams.length > 0),expression:\"prefilledParams.length > 0\"}],staticClass:\"row-separator\"},[_c('td',{attrs:{\"colspan\":\"3\"}},[_vm._v(\" \"+_vm._s(_vm.$t('prefilled-parameters'))+\" \"),_c('button',{staticClass:\"button is-small\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showPrefilled = !_vm.showPrefilled}}},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.showPrefilled ? 'button-hide' : 'button-show'))+\" \")])])]),(_vm.showPrefilled)?_vm._l((_vm.prefilledParams),function(param){return _c('job-parameter-row',{key:param.id,attrs:{\"param\":param},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", $$v)},expression:\"param.value\"}})}):_vm._e()],2)])]:_vm._e()],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('tr',{staticClass:\"job-param-row-wrapper\"},[_c('td',[(_vm.description)?_c('div',[_c('v-popover',{attrs:{\"popover-base-class\":'tooltip popover job-description-popover'},scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.description.data)}})]},proxy:true}],null,false,5788555)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1):_vm._e()]),_c('td',[_vm._v(_vm._s(_vm.param.humanName))]),_c('td',[_c('b-field',{attrs:{\"type\":{'is-danger': _vm.errors.has(_vm.validationName)},\"message\":_vm.errors.first(_vm.validationName)}},[(_vm.loading)?_c('b-input',{attrs:{\"loading\":\"\",\"disabled\":\"\"}}):(_vm.options)?_c('cytomine-multiselect',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(_vm.validationRules),expression:\"validationRules\"}],class:{'is-danger': _vm.errors.has(_vm.validationName)},attrs:{\"options\":_vm.options,\"track-by\":\"id\",\"label\":_vm.param.uriPrintAttribut,\"multiple\":_vm.param.type === 'ListDomain',\"name\":_vm.validationName},scopedSlots:_vm._u([{key:\"option\",fn:function({option}){return [(_vm.areAnnotationObjects)?_c('div',{staticClass:\"is-flex\"},[_c('div',{staticClass:\"thumb-wrapper\"},[_c('img',{staticClass:\"thumb\",attrs:{\"src\":_vm.appendShortTermToken(option.smallCropURL + '&draw=true&complete=true&increaseArea=1.25',_vm.shortTermToken)}})]),_c('span',{staticClass:\"option__title\"},[_vm._v(\" \"+_vm._s(option[_vm.param.uriPrintAttribut])+\" \")])]):(option.thumb)?_c('div',{staticClass:\"is-flex\"},[_c('div',{staticClass:\"thumb-wrapper\"},[_c('img',{staticClass:\"thumb\",attrs:{\"src\":_vm.appendShortTermToken(option.thumb, _vm.shortTermToken)}})]),_c('span',{staticClass:\"option__title\"},[_vm._v(\" \"+_vm._s(option[_vm.param.uriPrintAttribut])+\" \")])]):(_vm.areTermObjects)?_c('div',{staticClass:\"is-flex\"},[_c('cytomine-term',{attrs:{\"term\":option}})],1):(_vm.areJobObjects)?_c('div',{staticClass:\"is-flex\"},[_c('span',{staticClass:\"option__title\"},[_vm._v(\" \"+_vm._s(_vm.formatJob(option, _vm.param.uriPrintAttribut))+\" \")])]):_vm._e()]}}]),model:{value:(_vm.internalValue),callback:function ($$v) {_vm.internalValue=$$v},expression:\"internalValue\"}}):(_vm.param.type === 'Boolean')?_c('b-checkbox',{model:{value:(_vm.internalValue),callback:function ($$v) {_vm.internalValue=$$v},expression:\"internalValue\"}}):_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(_vm.validationRules),expression:\"validationRules\"}],attrs:{\"name\":_vm.validationName},model:{value:(_vm.internalValue),callback:function ($$v) {_vm.internalValue=$$v},expression:\"internalValue\"}})],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<tr class=\"job-param-row-wrapper\">\r\n  <td>\r\n    <div v-if=\"description\">\r\n      <v-popover :popover-base-class=\"'tooltip popover job-description-popover'\">\r\n        <i class=\"fas fa-info-circle\"></i>\r\n        <template #popover>\r\n          <p v-html=\"description.data\"></p>\r\n        </template>\r\n      </v-popover>\r\n    </div>\r\n  </td>\r\n  <td>{{param.humanName}}</td>\r\n  <td>\r\n    <b-field :type=\"{'is-danger': errors.has(validationName)}\" :message=\"errors.first(validationName)\">\r\n      <b-input v-if=\"loading\" loading disabled />\r\n\r\n      <cytomine-multiselect\r\n        v-else-if=\"options\"\r\n        v-model=\"internalValue\"\r\n        :options=\"options\"\r\n        track-by=\"id\"\r\n        :label=\"param.uriPrintAttribut\"\r\n        :class=\"{'is-danger': errors.has(validationName)}\"\r\n        :multiple=\"param.type === 'ListDomain'\"\r\n        :name=\"validationName\"\r\n        v-validate=\"validationRules\"\r\n      >\r\n        <template #option=\"{option}\">\r\n          <div class=\"is-flex\" v-if=\"areAnnotationObjects\">\r\n            <div class=\"thumb-wrapper\">\r\n              <img class=\"thumb\" :src=\"appendShortTermToken(option.smallCropURL + '&draw=true&complete=true&increaseArea=1.25',shortTermToken)\">\r\n            </div>\r\n            <span class=\"option__title\">\r\n              {{ option[param.uriPrintAttribut] }}\r\n            </span>\r\n          </div>\r\n          <div class=\"is-flex\" v-else-if=\"option.thumb\">\r\n            <div class=\"thumb-wrapper\">\r\n              <img class=\"thumb\" :src=\"appendShortTermToken(option.thumb, shortTermToken)\">\r\n            </div>\r\n            <span class=\"option__title\">\r\n              {{ option[param.uriPrintAttribut] }}\r\n            </span>\r\n          </div>\r\n          <div class=\"is-flex\" v-else-if=\"areTermObjects\">\r\n            <cytomine-term :term=\"option\" />\r\n          </div>\r\n          <div class=\"is-flex\" v-else-if=\"areJobObjects\">\r\n            <span class=\"option__title\">\r\n              {{ formatJob(option, param.uriPrintAttribut) }}\r\n            </span>\r\n          </div>\r\n        </template>\r\n      </cytomine-multiselect>\r\n\r\n      <b-checkbox v-model=\"internalValue\" v-else-if=\"param.type === 'Boolean'\" />\r\n\r\n      <b-input v-else v-model=\"internalValue\" :name=\"validationName\" v-validate=\"validationRules\" />\r\n    </b-field>\r\n  </td>\r\n</tr>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport moment from 'moment';\r\n\r\nimport {Cytomine, Description} from 'cytomine-client';\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport CytomineTerm from '@/components/ontology/CytomineTerm';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\n\r\nexport default {\r\n  name: 'job-parameter-row',\r\n  inject: ['$validator'],\r\n  components: {CytomineTerm, CytomineMultiselect},\r\n  props: {\r\n    param: Object,\r\n    value: null\r\n  },\r\n  data() {\r\n    return {\r\n      internalValue: null,\r\n      options: null,\r\n      description: null,\r\n      loading: true\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    ontology: get('currentProject/ontology'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    processedUri() {\r\n      if(this.param.uri_) {\r\n        let result = this.param.uri_.replace(new RegExp('^' + Cytomine.instance.basePath), '');\r\n        result = result.replace('$currentProjectCreationDate$', this.project.created);\r\n        result = result.replace('$currentProject$', this.project.id);\r\n        result = result.replace('$cytomineHost$', Cytomine.instance.host);\r\n        result = result.replace('$currentDate$', new Date().getTime());\r\n        result = result.replace('$currentOntology$', this.ontology ? this.ontology.id : null);\r\n        return result;\r\n      }\r\n      return null;\r\n    },\r\n    validationName() {\r\n      return String(this.param.id);\r\n    },\r\n    validationRules() {\r\n      return {\r\n        required: this.param.required,\r\n        decimal: this.param.type === 'Number'\r\n      };\r\n    },\r\n    objectsClass() {\r\n      if (this.options && this.options.length > 0) {\r\n        return this.options[0].class;\r\n      }\r\n      return null;\r\n    },\r\n    areAnnotationObjects() {\r\n      if(this.objectsClass) {\r\n        return [\r\n          'be.cytomine.ontology.AlgoAnnotation',\r\n          'be.cytomine.ontology.UserAnnotation',\r\n          'be.cytomine.ontology.ReviewedAnnotation'\r\n        ].includes(this.objectsClass);\r\n      }\r\n      return null;\r\n    },\r\n    areTermObjects() {\r\n      return this.objectsClass === 'be.cytomine.ontology.Term';\r\n    },\r\n    areJobObjects() {\r\n      return this.objectsClass === 'be.cytomine.processing.Job';\r\n    }\r\n  },\r\n  watch: {\r\n    internalValue(value) {\r\n      if(value !== this.value) {\r\n        this.$emit('input', value);\r\n      }\r\n    },\r\n    'param.value': function() {\r\n      this.internalValue = this.param.value;\r\n    }\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    getInitialValue() {\r\n      if(this.param.defaultParamValue) {\r\n        if(this.param.type === 'Boolean') {\r\n          return this.param.defaultParamValue.toLowerCase() === 'true';\r\n        }\r\n        return this.param.defaultParamValue;\r\n      }\r\n\r\n      switch(this.param.type) {\r\n        case 'ListDomain':\r\n          return [];\r\n        case 'Domain':\r\n          return null;\r\n        case 'Boolean':\r\n          return false;\r\n        default:\r\n          return '';\r\n      }\r\n    },\r\n    formatJob(job, attribute) {\r\n      if (['softwareName', 'created', 'fullName', 'number'].includes(attribute)) {\r\n        let date = moment(Number(job.created)).format('L LTS');\r\n        return `${job['softwareName']} - ${date} (#${job['number']})`;\r\n      }\r\n\r\n      return job[attribute];\r\n    }\r\n  },\r\n  async created() {\r\n    this.internalValue = this.getInitialValue();\r\n\r\n    try {\r\n      this.description = await Description.fetch(this.param);\r\n    }\r\n    catch(error) {\r\n      // Do nothing as a 404 error means no description\r\n    }\r\n\r\n    if(this.processedUri) {\r\n      try {\r\n        let {data} = await Cytomine.instance.api.get(this.processedUri);\r\n        let options = data.collection;\r\n        if(this.param.uriSortAttribut) {\r\n          options.sort((a, b) => a[this.param.uriSortAttribut] < b[this.param.uriSortAttribut] ? -1 : 1);\r\n        }\r\n        this.options = options;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-analysis-parameters-options', {paramName: this.param.name})});\r\n      }\r\n    }\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.job-param-row-wrapper {\r\n  .thumb-wrapper {\r\n    width: 4em;\r\n  }\r\n\r\n  .thumb  {\r\n    max-height: 5em;\r\n    max-width: 3em;\r\n    background: white;\r\n  }\r\n}\r\n\r\n.job-description-popover {\r\n  z-index: 5000 !important;\r\n}\r\n\r\n.fas.fa-info-circle {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobParameterRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobParameterRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./JobParameterRow.vue?vue&type=template&id=35dc6b43&\"\nimport script from \"./JobParameterRow.vue?vue&type=script&lang=js&\"\nexport * from \"./JobParameterRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./JobParameterRow.vue?vue&type=style&index=0&id=35dc6b43&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<form @submit.prevent=\"createJob()\">\r\n  <cytomine-modal :active=\"active\" :title=\"$t('launch-new-analysis')\" @close=\"$emit('update:active', false)\">\r\n    <div class=\"columns\">\r\n      <div class=\"column is-narrow\">\r\n        <strong>{{$t('algorithm')}}</strong>\r\n      </div>\r\n      <div class=\"column\">\r\n        <cytomine-multiselect v-model=\"selectedSoftware\" :options=\"executableSoftwares\" track-by=\"id\" label=\"fullName\" />\r\n      </div>\r\n    </div>\r\n    <template v-if=\"selectedSoftware\">\r\n      <b-message v-if=\"selectedSoftware.deprecated\" type=\"is-warning\" has-icon icon-size=\"is-small\">\r\n        {{$t('notif-deprecated-software')}}\r\n      </b-message>\r\n      <table class=\"table is-fullwidth\">\r\n        <thead>\r\n          <tr>\r\n            <th></th>\r\n            <th>{{$t('name')}}</th>\r\n            <th>{{$t('value')}}</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <job-parameter-row\r\n            v-for=\"param in paramsMandatoryNoDefault\"\r\n            :param=\"param\"\r\n            :key=\"param.id\"\r\n            v-model=\"param.value\"\r\n          />\r\n\r\n          <tr class=\"row-separator\" v-show=\"optionalParams.length > 0\">\r\n            <td colspan=\"3\">\r\n              {{$t('optional-parameters')}}\r\n              <button class=\"button is-small\" type=\"button\" @click=\"showOptional = !showOptional\">\r\n                {{$t(showOptional ? 'button-hide' : 'button-show')}}\r\n              </button>\r\n            </td>\r\n          </tr>\r\n          <template v-if=\"showOptional\">\r\n            <job-parameter-row\r\n              v-for=\"param in optionalParams\"\r\n              :param=\"param\"\r\n              :key=\"param.id\"\r\n              v-model=\"param.value\"\r\n            />\r\n          </template>\r\n\r\n          <tr class=\"row-separator\" v-show=\"prefilledParams.length > 0\">\r\n            <td colspan=\"3\">\r\n              {{$t('prefilled-parameters')}}\r\n              <button class=\"button is-small\" type=\"button\" @click=\"showPrefilled = !showPrefilled\">\r\n                {{$t(showPrefilled ? 'button-hide' : 'button-show')}}\r\n              </button>\r\n            </td>\r\n          </tr>\r\n          <template v-if=\"showPrefilled\">\r\n            <job-parameter-row\r\n              v-for=\"param in prefilledParams\"\r\n              :param=\"param\"\r\n              :key=\"param.id\"\r\n              v-model=\"param.value\"\r\n            />\r\n          </template>\r\n        </tbody>\r\n      </table>\r\n    </template>\r\n\r\n    <template #footer>\r\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n        {{$t('button-launch-new-analysis')}}\r\n      </button>\r\n    </template>\r\n  </cytomine-modal>\r\n</form>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {SoftwareCollection, Job, JobParameter} from 'cytomine-client';\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport JobParameterRow from './JobParameterRow';\r\n\r\nexport default {\r\n  name: 'add-job-modal',\r\n  props: {\r\n    active: Boolean\r\n  },\r\n  components: {\r\n    CytomineModal,\r\n    CytomineMultiselect,\r\n    JobParameterRow\r\n  },\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      softwares: [],\r\n      selectedSoftware: null,\r\n      showPrefilled: false,\r\n      showOptional: false\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    params() {\r\n      return this.selectedSoftware ? this.selectedSoftware.parameters.array : [];\r\n    },\r\n    optionalParams() {\r\n      return this.params.filter(param => !param.required && param.defaultParamValue === null);\r\n    },\r\n    prefilledParams() {\r\n      return this.params.filter(param => param.defaultParamValue !== null);\r\n    },\r\n    paramsMandatoryNoDefault() {\r\n      return this.params.filter(param => param.required && param.defaultParamValue === null);\r\n    },\r\n    jobParameters() {\r\n      return this.params.filter(param => {\r\n        return (Array.isArray(param.value)) ? param.value.length : param.value !== null;\r\n      }).map(param => {\r\n        let value = param.value;\r\n        if(value.id) {\r\n          value = value.id;\r\n        }\r\n        if(Array.isArray(value)) {\r\n          if(value.length) {\r\n            if(value[0].id) {\r\n              value = value.map(model => model.id).join();\r\n            }\r\n          }\r\n          else {\r\n            value = '';\r\n          }\r\n        }\r\n        return new JobParameter({softwareParameter: param.id, value});\r\n      });\r\n    },\r\n    executableSoftwares() {\r\n      return this.softwares.filter(s => s.executable);\r\n    }\r\n  },\r\n  watch: {\r\n    active(val) {\r\n      if(val) {\r\n        this.selectedSoftware = null;\r\n        this.showOptional = false;\r\n        this.showPrefilled = false;\r\n      }\r\n    },\r\n    async selectedSoftware() {\r\n      if(!this.selectedSoftware) {\r\n        return;\r\n      }\r\n      for(let param of this.selectedSoftware.parameters) {\r\n        this.$set(param, 'value', param.defaultParamValue);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async createJob() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        let job = new Job({\r\n          software: this.selectedSoftware.id,\r\n          project: this.project.id,\r\n          jobParameters: this.jobParameters\r\n        });\r\n        await job.save();\r\n        this.$emit('add', job);\r\n        this.$emit('update:active', false);\r\n        await job.execute();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-analysis-launch')});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-analysis-launch')});\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    this.softwares = (await SoftwareCollection.fetchAll({filterKey: 'project', filterValue: this.project.id})).array;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n>>> .modal-card {\r\n  width: 100%;\r\n  min-height: 70vh;\r\n}\r\n\r\n>>> .animation-content {\r\n  min-width: 70vw;\r\n  min-height: 70vh;\r\n}\r\n\r\n.columns {\r\n  align-items: center;\r\n}\r\n\r\n.table {\r\n  margin-bottom: 1em;\r\n}\r\n\r\nth:first-child {\r\n  width: 5%;\r\n}\r\n\r\nth:nth-child(2) {\r\n  width: 30%;\r\n}\r\n\r\ntd, >>> td {\r\n  vertical-align: middle !important;\r\n}\r\n\r\n.row-separator td {\r\n  border-top-width: 2px !important;\r\n  border-bottom-width: 1px !important;\r\n  font-weight: 600;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddJobModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddJobModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddJobModal.vue?vue&type=template&id=8e5202c0&scoped=true&\"\nimport script from \"./AddJobModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddJobModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddJobModal.vue?vue&type=style&index=0&id=8e5202c0&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8e5202c0\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box error\" v-if=\"!configUI['project-jobs-tab']\">\r\n  <h2> {{ $t('access-denied') }} </h2>\r\n  <p>{{ $t('insufficient-permission') }}</p>\r\n</div>\r\n<div class=\"box error\" v-else-if=\"error\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p>{{ $t('unexpected-error-info-message') }}</p>\r\n</div>\r\n<div v-else class=\"list-jobs-wrapper content-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <div v-if=\"!loading\" class=\"panel\">\r\n    <p class=\"panel-heading\">\r\n      {{$t('analysis')}}\r\n      <button v-if=\"canAddJob\" class=\"button is-link\" @click=\"launchModal = true\">\r\n        {{$t('button-launch-new-analysis')}}\r\n      </button>\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <div class=\"filters\">\r\n        <h2>{{$t('filters')}}</h2>\r\n        <div class=\"columns\">\r\n          <div class=\"column filter is-one-third\">\r\n            <div class=\"filter-label\">\r\n              {{$t('algorithm')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect v-model=\"selectedSoftwares\" :options=\"availableSoftwares\" multiple track-by=\"id\" label=\"fullName\"/>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('launcher')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect v-model=\"selectedLaunchers\" :options=\"availableLaunchers\" multiple />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"column filter\">\r\n            <div class=\"filter-label\">\r\n              {{$t('execution-date')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-datepicker\r\n                v-model=\"selectedDate\"\r\n                :styles=\"['multiselect', 'bold-placeholder']\"\r\n                :placeholder=\"$t('all-dates')\"\r\n                :maxDate=\"new Date()\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"column\">\r\n            <div class=\"filter-label\">\r\n              {{$t('status')}}\r\n            </div>\r\n            <div class=\"filter-body\">\r\n              <cytomine-multiselect v-model=\"selectedStatus\" :options=\"availableStatus\"\r\n                label=\"label\" track-by=\"status\" multiple />\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <cytomine-table\r\n        :collection=\"jobCollection\"\r\n        :is-empty=\"nbEmptyFilters > 0\"\r\n        :currentPage.sync=\"currentPage\"\r\n        :perPage.sync=\"perPage\"\r\n        :openedDetailed.sync=\"openedDetails\"\r\n        :sort.sync=\"sortField\"\r\n        :order.sync=\"sortOrder\"\r\n        :revision=\"revision\"\r\n      >\r\n        <template #default=\"{row: job}\">\r\n          <b-table-column field=\"softwareName\" :label=\"$t('algorithm')\" sortable width=\"1000\">\r\n            <router-link :to=\"`/algorithm/${job.software}`\">\r\n              {{job.softwareName}}\r\n            </router-link>\r\n          </b-table-column>\r\n\r\n          <b-table-column :label=\"$t('run-number')\" width=\"500\" centered>\r\n            {{job.number}}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"username\" :label=\"$t('launched-by')\" sortable width=\"600\">\r\n            {{ job.username }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"created\" :label=\"$t('execution-date')\" sortable width=\"600\">\r\n            {{ Number(job.created) | moment('ll LT') }}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"status\" :label=\"$t('status')\" sortable centered width=\"600\">\r\n            <job-status :status=\"job.status\" />\r\n          </b-table-column>\r\n        </template>\r\n\r\n        <template #detail=\"{row: job}\">\r\n          <job-details\r\n            :key=\"job.id\"\r\n            :job=\"job\"\r\n            @update=\"revision++\"\r\n            @delete=\"deleteJob(job)\"\r\n            @relaunch=\"addJob\"\r\n          />\r\n        </template>\r\n\r\n        <template #empty>\r\n          <div class=\"content has-text-grey has-text-centered\">\r\n            <p>{{$t('no-analysis-run')}}</p>\r\n          </div>\r\n        </template>\r\n      </cytomine-table>\r\n    </div>\r\n  </div>\r\n\r\n  <add-job-modal :active.sync=\"launchModal\" @add=\"addJob\" />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get, sync, syncMultiselectFilter} from '@/utils/store-helpers';\r\n\r\nimport {JobCollection} from 'cytomine-client';\r\nimport JobStatus from './JobStatus';\r\nimport JobDetails from './JobDetails';\r\nimport AddJobModal from './AddJobModal';\r\n\r\nimport CytomineTable from '@/components/utils/CytomineTable';\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport CytomineDatepicker from '@/components/form/CytomineDatepicker';\r\nimport jobStatusMapping from '@/utils/job-utils';\r\n\r\n// store options to use with store helpers to target projects/currentProject/listJobs module\r\nconst storeOptions = {rootModuleProp: 'storeModule'};\r\n// redefine helpers to use storeOptions and correct module path\r\nconst localSyncMultiselectFilter = (filterName, options) => syncMultiselectFilter(null, filterName, options, storeOptions);\r\n\r\nexport default {\r\n  name: 'list-jobs',\r\n  components: {\r\n    JobStatus,\r\n    JobDetails,\r\n    AddJobModal,\r\n    CytomineTable,\r\n    CytomineMultiselect,\r\n    CytomineDatepicker\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n      launchModal: false,\r\n      availableSoftwares: [],\r\n      availableLaunchers: [],\r\n      revision: 0\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    project: get('currentProject/project'),\r\n    configUI: get('currentProject/configUI'),\r\n    canManageProject() {\r\n      return this.$store.getters['currentProject/canManageProject'];\r\n    },\r\n    canAddJob() {\r\n      return !this.currentUser.guestByNow && (this.canManageProject || !this.project.isReadOnly);\r\n    },\r\n\r\n    availableStatus() {\r\n      return Object.keys(jobStatusMapping).map(key => {\r\n        return {label: this.$t(jobStatusMapping[key].label), status: key};\r\n      });\r\n    },\r\n    availableFavorites() {\r\n      return [\r\n        {label: this.$t('yes'), value: true},\r\n        {label: this.$t('no'), value: false}\r\n      ];\r\n    },\r\n\r\n    storeModule() { // path to the vuex module in which state of this component is stored (projects/currentProject/listJobs)\r\n      return this.$store.getters['currentProject/currentProjectModule'] + 'listJobs';\r\n    },\r\n\r\n    selectedSoftwares: localSyncMultiselectFilter('softwares', 'availableSoftwares'),\r\n    selectedLaunchers: localSyncMultiselectFilter('launchers', 'availableLaunchers'),\r\n    selectedDate: sync('executionDate', storeOptions),\r\n    selectedStatus: localSyncMultiselectFilter('statuses', 'availableStatus'),\r\n    selectedFavorites: localSyncMultiselectFilter('favorites', 'availableFavorites'),\r\n\r\n    nbEmptyFilters() {\r\n      return this.$store.getters[this.storeModule + '/nbEmptyFilters'];\r\n    },\r\n\r\n    jobCollection() {\r\n      let collection = new JobCollection({\r\n        project: this.project.id,\r\n        software: (this.selectedSoftwares.length > 0 && this.selectedSoftwares.length < this.availableSoftwares.length) ?\r\n          this.selectedSoftwares.map(option => option.id).join(',') : null\r\n      });\r\n\r\n      if(this.selectedLaunchers.length > 0){\r\n        collection['username'] = {\r\n          in: this.selectedLaunchers.join()\r\n        };\r\n      }\r\n      if(this.selectedStatus.length > 0){\r\n        collection['status'] = {\r\n          in: this.selectedStatus.map(option => option.status).join()\r\n        };\r\n      }\r\n      if(this.selectedFavorites.length > 0) {\r\n        collection['favorite'] = {\r\n          in: this.selectedFavorites.map(option => option.value).join()\r\n        };\r\n      }\r\n      if(this.selectedDate) {\r\n        collection.created = {\r\n          gte: this.selectedDate.getTime(),\r\n          lte: new Date(this.selectedDate).setHours(15, 15, 59, 999)\r\n        };\r\n      }\r\n      return collection;\r\n    },\r\n\r\n    currentPage: sync('currentPage', storeOptions),\r\n    perPage: sync('perPage', storeOptions),\r\n    sortField: sync('sortField', storeOptions),\r\n    sortOrder: sync('sortOrder', storeOptions),\r\n    openedDetails: sync('openedDetails', storeOptions)\r\n  },\r\n  methods: {\r\n    canEdit(job) {\r\n      return this.$store.getters['currentProject/canManageJob'](job);\r\n    },\r\n    async fetchMultiselectOptions() {\r\n      let stats = await JobCollection.fetchBounds({project: this.project.id});\r\n      this.availableSoftwares = stats.software.list;\r\n      this.availableLaunchers = stats.username.list;\r\n    },\r\n\r\n    async addJob(job) {\r\n      this.openedDetails = [job.id, ...this.openedDetails];\r\n      await this.fetchMultiselectOptions();\r\n      this.revision++;\r\n    },\r\n\r\n    async deleteJob(jobToDelete) {\r\n      try {\r\n        await jobToDelete.delete();\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-analysis-deletion')\r\n        });\r\n        this.fetchMultiselectOptions();\r\n        this.revision++;\r\n      }\r\n      catch(error) {\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-analysis-deletion')\r\n        });\r\n      }\r\n    },\r\n    async refreshJobs() {\r\n      try {\r\n        await this.fetchMultiselectOptions();\r\n        this.loading = false;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    await this.refreshJobs();\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.panel-heading {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.filters {\r\n  margin-bottom: 1.5em;\r\n}\r\n\r\na:hover .fas {\r\n  color: rgb(35, 102, 216);\r\n}\r\n\r\na:hover .fas.disabled, a:hover .disabled .fas {\r\n  color: rgba(35, 102, 216, 0.5);\r\n}\r\n\r\n.fas {\r\n  color: black;\r\n  width: 20px;\r\n  position: relative;\r\n}\r\n\r\n.fas.fa-flag {\r\n  font-size: 0.8em;\r\n  bottom: 0.5em;\r\n}\r\n\r\n.fas.disabled, .disabled .fas {\r\n  color: rgba(0, 0, 0, 0.1);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListJobs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListJobs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListJobs.vue?vue&type=template&id=44623caa&scoped=true&\"\nimport script from \"./ListJobs.vue?vue&type=script&lang=js&\"\nexport * from \"./ListJobs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListJobs.vue?vue&type=style&index=0&id=44623caa&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44623caa\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.configUI['project-information-tab'])?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):_c('div',{staticClass:\"content-wrapper\"},[_c('div',{staticClass:\"box\"},[_c('project-details',{attrs:{\"project\":_vm.project,\"excluded-properties\":_vm.excludedProperties,\"editable\":\"\"},on:{\"update\":_vm.updateProject,\"delete\":function($event){return _vm.deleteProject()}}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box error\" v-if=\"!configUI['project-information-tab']\">\r\n  <h2> {{ $t('access-denied') }} </h2>\r\n  <p>{{ $t('insufficient-permission') }}</p>\r\n</div>\r\n<div v-else class=\"content-wrapper\">\r\n  <div class=\"box\">\r\n    <project-details\r\n      :project=\"project\"\r\n      :excluded-properties=\"excludedProperties\"\r\n      editable\r\n      @update=\"updateProject\"\r\n      @delete=\"deleteProject()\"\r\n    />\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport ProjectDetails from './ProjectDetails';\r\nimport {Project} from 'cytomine-client';\r\nimport constants from '@/utils/constants.js';\r\nexport default {\r\n  name: 'project-information',\r\n  components: {ProjectDetails},\r\n  data() {\r\n    return {\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      excludedProperties: [\r\n        'imagesPreview'\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    configUI: get('currentProject/configUI')\r\n  },\r\n  methods: {\r\n    updateProject(updatedProject) {\r\n      this.$store.dispatch('currentProject/updateProject', updatedProject);\r\n    },\r\n    async deleteProject() {\r\n      try {\r\n        await Project.delete(this.project.id);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-project-deletion', {projectName: this.project.name})\r\n        });\r\n        this.$router.push('/projects');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-project-deletion', {projectName: this.project.name})\r\n        });\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    if(!this.algoEnabled) this.excludedProperties.push('numberOfJobAnnotations');\r\n    this.$store.dispatch('currentProject/reloadProject');\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectInformation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectInformation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectInformation.vue?vue&type=template&id=e18a2f9e&\"\nimport script from \"./ProjectInformation.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectInformation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.configUI['project-configuration-tab'])?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):_c('div',{staticClass:\"content-wrapper\"},[_c('b-field',{staticClass:\"radio-buttons-fullwidth\"},[_c('b-radio-button',{attrs:{\"native-value\":\"general\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('general'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"members\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('members'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"customUI\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('custom-ui'))+\" \")]),_c('b-radio-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.algoEnabled),expression:\"algoEnabled\"}],attrs:{\"native-value\":\"algorithms\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('algorithms'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"imageFilters\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('image-filters'))+\" \")])],1),_c('div',{staticClass:\"box tab-content\"},[_c('keep-alive',[_c(_vm.activeComponent,{tag:\"component\"})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('editing-mode')))]),_c('p',{staticClass:\"explanation\"},[_vm._v(_vm._s(_vm.$t('editing-mode-explanation')))]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-radio',{attrs:{\"native-value\":\"CLASSIC\"},model:{value:(_vm.editingMode),callback:function ($$v) {_vm.editingMode=$$v},expression:\"editingMode\"}},[_vm._v(\" \"+_vm._s(_vm.$t('classic'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('classic-mode-explanation'))+\" \")])],1)]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-radio',{attrs:{\"native-value\":\"RESTRICTED\"},model:{value:(_vm.editingMode),callback:function ($$v) {_vm.editingMode=$$v},expression:\"editingMode\"}},[_vm._v(\" \"+_vm._s(_vm.$t('restricted'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('restricted-mode-explanation'))+\" \")])],1)]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-radio',{attrs:{\"native-value\":\"READ-ONLY\"},model:{value:(_vm.editingMode),callback:function ($$v) {_vm.editingMode=$$v},expression:\"editingMode\"}},[_vm._v(\" \"+_vm._s(_vm.$t('read-only'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('read-only-mode-explanation'))+\" \")])],1)]),_c('h2',[_vm._v(_vm._s(_vm.$t('blind-mode')))]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-checkbox',{model:{value:(_vm.blindMode),callback:function ($$v) {_vm.blindMode=$$v},expression:\"blindMode\"}},[_vm._v(\" \"+_vm._s(_vm.$t('blind-mode'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('blind-mode-explanation'))+\" \")])],1)]),_c('h2',[_vm._v(_vm._s(_vm.$t('annotation-layers')))]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-checkbox',{model:{value:(_vm.hideManagersLayers),callback:function ($$v) {_vm.hideManagersLayers=$$v},expression:\"hideManagersLayers\"}},[_vm._v(\" \"+_vm._s(_vm.$t('hide-managers-layers'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('hide-managers-layers-explanation'))+\" \")])],1)]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-checkbox',{model:{value:(_vm.hideContributorsLayers),callback:function ($$v) {_vm.hideContributorsLayers=$$v},expression:\"hideContributorsLayers\"}},[_vm._v(\" \"+_vm._s(_vm.$t('hide-contributors-layers'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('hide-contributors-layers-explanation'))+\" \")])],1)]),_c('h2',[_vm._v(_vm._s(_vm.$t('default-annotation-layers')))]),_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-select',{attrs:{\"size\":\"is-small\",\"placeholder\":_vm.$t('select-layer-placeholder')},model:{value:(_vm.layerToAdd),callback:function ($$v) {_vm.layerToAdd=$$v},expression:\"layerToAdd\"}},_vm._l((_vm.unselectedLayers),function(layer){return _c('option',{key:layer.id,domProps:{\"value\":layer}},[_vm._v(\" \"+_vm._s(_vm.fullName(layer))+\" \")])}),0),_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":!_vm.layerToAdd},on:{\"click\":function($event){return _vm.addDefaultLayer()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")])],1),(_vm.selectedLayers.length > 0)?_c('table',{staticClass:\"table\"},[_c('tbody',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t('layer')))]),_c('th',[_vm._v(_vm._s(_vm.$t('hide-by-default')))]),_c('th')]),_vm._l((_vm.selectedLayers),function(layer,idx){return _c('tr',{key:layer.id},[_c('td',[_vm._v(_vm._s(_vm.fullName(layer)))]),_c('td',{staticClass:\"is-centered\"},[_c('b-checkbox',{attrs:{\"size\":\"is-small\"},on:{\"input\":function($event){return _vm.saveDefaultLayer(idx)}},model:{value:(_vm.defaultLayers[idx].hideByDefault),callback:function ($$v) {_vm.$set(_vm.defaultLayers[idx], \"hideByDefault\", $$v)},expression:\"defaultLayers[idx].hideByDefault\"}})],1),_c('td',[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.deleteDefaultLayer(idx)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-remove')))])])])})],2)]):_vm._e(),_c('h2',[_vm._v(_vm._s(_vm.$t('default-property')))]),_c('default-property'),_c('h2',[_vm._v(_vm._s(_vm.$t('download-permission')))]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-checkbox',{model:{value:(_vm.imagesDownloadable),callback:function ($$v) {_vm.imagesDownloadable=$$v},expression:\"imagesDownloadable\"}},[_vm._v(\" \"+_vm._s(_vm.$t('images_downloadable_by_contributor'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('images_downloadable_by_contributor-explanation'))+\" \")])],1)]),_c('h2',[_vm._v(\"Actions\")]),_c('project-actions',{attrs:{\"project\":_vm.project,\"size\":\"is-normal\"},on:{\"update\":_vm.externalProjectUpdate,\"delete\":function($event){return _vm.deleteProject()}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-autocomplete',{attrs:{\"data\":_vm.filteredKeys,\"placeholder\":_vm.$t('no-default-property'),\"loading\":_vm.loading,\"disabled\":_vm.loading,\"size\":\"is-small\"},scopedSlots:_vm._u([{key:\"empty\",fn:function(){return [_vm._v(_vm._s(_vm.$t('no-property-matching-search-string', {searchString: _vm.searchString})))]},proxy:true}]),model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":_vm.defaultPropertyProp && _vm.searchString === _vm.defaultPropertyProp.value},on:{\"click\":function($event){return _vm.confirm()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p> {{ $t('unexpected-error-info-message') }} </p>\r\n</b-message>\r\n<b-field grouped v-else>\r\n  <b-autocomplete\r\n    v-model=\"searchString\"\r\n    :data=\"filteredKeys\"\r\n    :placeholder=\"$t('no-default-property')\"\r\n    :loading=\"loading\"\r\n    :disabled=\"loading\"\r\n    size=\"is-small\"\r\n  >\r\n    <template #empty>{{$t('no-property-matching-search-string', {searchString})}}</template>\r\n  </b-autocomplete>\r\n\r\n  <button\r\n    class=\"button is-small\"\r\n    @click=\"confirm()\"\r\n    :disabled=\"defaultPropertyProp && searchString === defaultPropertyProp.value\"\r\n  >\r\n    {{$t('button-save')}}\r\n  </button>\r\n</b-field>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {Property, PropertyCollection} from 'cytomine-client';\r\nimport constants from '@/utils/constants.js';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      searchString: '',\r\n\r\n      defaultPropertyProp: null, // project property storing the property to display by default when opening an image\r\n      keysAnnotationProps: []\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    filteredKeys() {\r\n      if(!this.searchString.length) {\r\n        return this.keysAnnotationProps;\r\n      }\r\n\r\n      let regexp = getWildcardRegexp(this.searchString);\r\n      return this.keysAnnotationProps.filter(key => regexp.test(key));\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchKeysAnnotationProperties() {\r\n      this.keysAnnotationProps = await PropertyCollection.fetchKeysAnnotationProperties(this.project.id);\r\n    },\r\n\r\n    async fetchDefaultPropertyProp() {\r\n      try {\r\n        let projectProps = (await PropertyCollection.fetchAll({object: this.project})).array;\r\n        this.defaultPropertyProp = projectProps.find(prop => prop.key === constants.DEFAULT_PROPERTY_KEY);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n      }\r\n\r\n      if(!this.defaultPropertyProp) {\r\n        this.defaultPropertyProp = new Property({key: constants.DEFAULT_PROPERTY_KEY, value: ''}, this.project);\r\n      }\r\n\r\n      this.searchString = this.defaultPropertyProp.value;\r\n    },\r\n\r\n    confirm() {\r\n      if(this.keysAnnotationProps.includes(this.searchString) || !this.searchString.length) {\r\n        this.save();\r\n        return;\r\n      }\r\n\r\n      // if user entered value that is not yet used as key for an annotation property, ask confirmation\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('confirm-default-property'),\r\n        message: this.$t('confirm-default-property-not-used-in-project', {key: this.searchString}),\r\n        type: 'is-info',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.save(),\r\n        onCancel: () => this.searchString = this.defaultPropertyProp.value\r\n      });\r\n    },\r\n\r\n    async save() {\r\n      this.defaultPropertyProp.value = this.searchString;\r\n      try {\r\n        if(!this.defaultPropertyProp.value.length) { // empty property\r\n          if(!this.defaultPropertyProp.isNew()) { // property exists\r\n            await this.defaultPropertyProp.delete();\r\n            this.defaultPropertyProp = new Property({key: constants.DEFAULT_PROPERTY_KEY, value: ''}, this.project);\r\n          }\r\n        }\r\n        else {\r\n          await this.defaultPropertyProp.save();\r\n        }\r\n        this.$notify({type: 'success', text: this.$t('notif-success-default-property-update')});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-default-property-update')});\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      await Promise.all([\r\n        this.fetchKeysAnnotationProperties(),\r\n        this.fetchDefaultPropertyProp()\r\n      ]);\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DefaultProperty.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DefaultProperty.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DefaultProperty.vue?vue&type=template&id=f7a67faa&\"\nimport script from \"./DefaultProperty.vue?vue&type=script&lang=js&\"\nexport * from \"./DefaultProperty.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <h2>{{$t('editing-mode')}}</h2>\r\n  <p class=\"explanation\">{{$t('editing-mode-explanation')}}</p>\r\n\r\n  <div class=\"columns\">\r\n    <div class=\"column is-one-quarter\">\r\n      <b-radio v-model=\"editingMode\" native-value=\"CLASSIC\">\r\n        {{$t('classic')}}\r\n      </b-radio>\r\n    </div>\r\n    <div class=\"column\">\r\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\r\n        {{$t('classic-mode-explanation')}}\r\n      </b-message>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"columns\">\r\n    <div class=\"column is-one-quarter\">\r\n      <b-radio v-model=\"editingMode\" native-value=\"RESTRICTED\">\r\n        {{$t('restricted')}}\r\n      </b-radio>\r\n    </div>\r\n    <div class=\"column\">\r\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\r\n        {{$t('restricted-mode-explanation')}}\r\n      </b-message>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"columns\">\r\n    <div class=\"column is-one-quarter\">\r\n      <b-radio v-model=\"editingMode\" native-value=\"READ-ONLY\">\r\n        {{$t('read-only')}}\r\n      </b-radio>\r\n    </div>\r\n    <div class=\"column\">\r\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\r\n        {{$t('read-only-mode-explanation')}}\r\n      </b-message>\r\n    </div>\r\n  </div>\r\n\r\n  <h2>{{$t('blind-mode')}}</h2>\r\n\r\n  <div class=\"columns\">\r\n    <div class=\"column is-one-quarter\">\r\n      <b-checkbox v-model=\"blindMode\">\r\n        {{$t('blind-mode')}}\r\n      </b-checkbox>\r\n    </div>\r\n    <div class=\"column\">\r\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\r\n        {{$t('blind-mode-explanation')}}\r\n      </b-message>\r\n    </div>\r\n  </div>\r\n\r\n  <h2>{{$t('annotation-layers')}}</h2>\r\n\r\n  <div class=\"columns\">\r\n    <div class=\"column is-one-quarter\">\r\n      <b-checkbox v-model=\"hideManagersLayers\">\r\n        {{$t('hide-managers-layers')}}\r\n      </b-checkbox>\r\n    </div>\r\n    <div class=\"column\">\r\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\r\n        {{$t('hide-managers-layers-explanation')}}\r\n      </b-message>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"columns\">\r\n    <div class=\"column is-one-quarter\">\r\n      <b-checkbox v-model=\"hideContributorsLayers\">\r\n        {{$t('hide-contributors-layers')}}\r\n      </b-checkbox>\r\n    </div>\r\n    <div class=\"column\">\r\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\r\n        {{$t('hide-contributors-layers-explanation')}}\r\n      </b-message>\r\n    </div>\r\n  </div>\r\n\r\n  <h2>{{$t('default-annotation-layers')}}</h2>\r\n\r\n  <b-field grouped>\r\n    <b-select size=\"is-small\" :placeholder=\"$t('select-layer-placeholder')\" v-model=\"layerToAdd\">\r\n      <option v-for=\"layer in unselectedLayers\" :key=\"layer.id\" :value=\"layer\">\r\n        {{fullName(layer)}}\r\n      </option>\r\n    </b-select>\r\n\r\n    <button class=\"button is-small\" :disabled=\"!layerToAdd\" @click=\"addDefaultLayer()\">\r\n      {{$t('button-add')}}\r\n    </button>\r\n  </b-field>\r\n\r\n  <table v-if=\"selectedLayers.length > 0\" class=\"table\">\r\n    <tbody>\r\n      <tr>\r\n        <th>{{$t('layer')}}</th>\r\n        <th>{{$t('hide-by-default')}}</th>\r\n        <th></th>\r\n      </tr>\r\n      <tr v-for=\"(layer, idx) in selectedLayers\" :key=\"layer.id\">\r\n        <td>{{fullName(layer)}}</td>\r\n        <td class=\"is-centered\">\r\n          <b-checkbox v-model=\"defaultLayers[idx].hideByDefault\" size=\"is-small\" @input=\"saveDefaultLayer(idx)\" />\r\n        </td>\r\n        <td>\r\n          <button class=\"button is-small\" @click=\"deleteDefaultLayer(idx)\"> {{$t('button-remove')}}</button>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n  <h2>{{$t('default-property')}}</h2>\r\n  <default-property />\r\n\r\n  <h2>{{$t('download-permission')}}</h2>\r\n\r\n  <div class=\"columns\">\r\n    <div class=\"column is-one-quarter\">\r\n      <b-checkbox v-model=\"imagesDownloadable\">\r\n        {{$t('images_downloadable_by_contributor')}}\r\n      </b-checkbox>\r\n    </div>\r\n    <div class=\"column\">\r\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\r\n        {{$t('images_downloadable_by_contributor-explanation')}}\r\n      </b-message>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <h2>Actions</h2>\r\n  <project-actions :project=\"project\" size=\"is-normal\" @update=\"externalProjectUpdate\" @delete=\"deleteProject()\" />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport ProjectActions from '../ProjectActions';\r\nimport DefaultProperty from './DefaultProperty';\r\nimport {Project, ProjectDefaultLayer, ProjectDefaultLayerCollection} from 'cytomine-client';\r\nimport {fullName} from '@/utils/user-utils.js';\r\n\r\nexport default {\r\n  name: 'general-configuration',\r\n  components: {\r\n    ProjectActions,\r\n    DefaultProperty\r\n  },\r\n  data() {\r\n    return {\r\n      editingMode: '',\r\n      blindMode: null,\r\n      hideManagersLayers: null,\r\n      hideContributorsLayers: null,\r\n      imagesDownloadable: null,\r\n\r\n      layerToAdd: null,\r\n      defaultLayers: []\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    layers: get('currentProject/members'),\r\n\r\n    currentEditingMode() {\r\n      return this.project.isReadOnly ? 'READ-ONLY' : this.project.isRestricted ? 'RESTRICTED' : 'CLASSIC';\r\n    },\r\n\r\n    selectedLayers() {\r\n      return this.defaultLayers.map(defaultLayer => {\r\n        let layer = this.layers.find(layer => layer.id === defaultLayer.user);\r\n        return {...defaultLayer, ...layer};\r\n      });\r\n    },\r\n    unselectedLayers() {\r\n      let selectedLayersIds = this.defaultLayers.map(layer => layer.user);\r\n      return this.layers.filter(layer => !selectedLayersIds.includes(layer.id)).sort((a, b) => (a.lastname < b.lastname) ? -1 : 1 );\r\n    }\r\n  },\r\n  watch: {\r\n    editingMode(mode) {\r\n      if(mode === this.currentEditingMode) {\r\n        return;\r\n      }\r\n      this.updateProject({isReadOnly: mode === 'READ-ONLY', isRestricted: mode === 'RESTRICTED'});\r\n    },\r\n\r\n    blindMode() {\r\n      if(this.blindMode === this.project.blindMode) {\r\n        return;\r\n      }\r\n      this.updateProject({blindMode: this.blindMode});\r\n    },\r\n\r\n    hideManagersLayers() {\r\n      if(this.hideManagersLayers === this.project.hideAdminsLayers) {\r\n        return;\r\n      }\r\n      this.updateProject({hideAdminsLayers: this.hideManagersLayers});\r\n    },\r\n\r\n    hideContributorsLayers() {\r\n      if(this.hideContributorsLayers === this.project.hideUsersLayers) {\r\n        return;\r\n      }\r\n      this.updateProject({hideUsersLayers: this.hideContributorsLayers});\r\n    },\r\n\r\n    imagesDownloadable(){\r\n      if(this.imagesDownloadable === this.project.areImagesDownloadable){\r\n        return;\r\n      }\r\n      this.updateProject({areImagesDownloadable: this.imagesDownloadable});\r\n    }\r\n  },\r\n  methods: {\r\n    fullName(layer) {\r\n      return fullName(layer);\r\n    },\r\n\r\n    initData() {\r\n      this.editingMode = this.currentEditingMode;\r\n      this.blindMode = this.project.blindMode;\r\n      this.hideManagersLayers = this.project.hideAdminsLayers;\r\n      this.hideContributorsLayers = this.project.hideUsersLayers;\r\n      this.imagesDownloadable = this.project.areImagesDownloadable;\r\n    },\r\n\r\n    async fetchDefaultLayers() {\r\n      this.defaultLayers = (await ProjectDefaultLayerCollection.fetchAll({\r\n        filterKey: 'project',\r\n        filterValue: this.project.id\r\n      })).array;\r\n    },\r\n\r\n    async updateProject(newProps) {\r\n      let updatedProject = this.project.clone();\r\n      updatedProject.populate(newProps);\r\n      try {\r\n        await updatedProject.save();\r\n        this.$store.commit('currentProject/setProject', updatedProject);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.initData(); // reset data\r\n        this.$notify({type: 'error', text: this.$t('notif-error-general-config-update')});\r\n      }\r\n    },\r\n\r\n    async addDefaultLayer() {\r\n      if(!this.layerToAdd) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        let defaultLayer = new ProjectDefaultLayer({\r\n          project: this.project.id,\r\n          user: this.layerToAdd.id\r\n        });\r\n        await defaultLayer.save();\r\n        this.defaultLayers.push(defaultLayer);\r\n        this.layerToAdd = null;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-default-layer-add')});\r\n      }\r\n    },\r\n\r\n    async saveDefaultLayer(idx) {\r\n      try {\r\n        await this.defaultLayers[idx].save();\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-default-layer-update')});\r\n      }\r\n    },\r\n\r\n    async deleteDefaultLayer(idx) {\r\n      try {\r\n        await this.defaultLayers[idx].delete();\r\n        this.defaultLayers.splice(idx, 1);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-default-layer-delete')});\r\n      }\r\n    },\r\n\r\n    externalProjectUpdate(updatedProject) {\r\n      this.$store.dispatch('currentProject/updateProject', updatedProject);\r\n    },\r\n\r\n    async deleteProject() {\r\n      try {\r\n        await Project.delete(this.project.id);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-project-deletion', {projectName: this.project.name})\r\n        });\r\n        this.$router.push('/projects');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-project-deletion', {projectName: this.project.name})\r\n        });\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    this.initData();\r\n    this.fetchDefaultLayers();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh2 {\r\n  color: #444;\r\n  border-bottom: 1px solid #ddd;\r\n  margin-top: 1.5em;\r\n}\r\n\r\nh2:first-child {\r\n  margin-top: 0;\r\n}\r\n\r\n.columns {\r\n  align-items: center;\r\n}\r\n\r\n.column {\r\n  padding: 0.8em;\r\n}\r\n\r\n.column:first-child {\r\n  padding-left: 3.5em;\r\n}\r\n\r\n.explanation {\r\n  margin-bottom: 1.4em;\r\n}\r\n\r\n.is-centered {\r\n  text-align: center;\r\n}\r\n\r\nth, td {\r\n  padding: 0.5em 2em !important;\r\n}\r\n\r\n>>> .message-body {\r\n  padding: 1em !important;\r\n}\r\n\r\n>>> select, >>> input[type=text] {\r\n  width: 26em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralConfiguration.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralConfiguration.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GeneralConfiguration.vue?vue&type=template&id=3cd00c07&scoped=true&\"\nimport script from \"./GeneralConfiguration.vue?vue&type=script&lang=js&\"\nexport * from \"./GeneralConfiguration.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GeneralConfiguration.vue?vue&type=style&index=0&id=3cd00c07&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3cd00c07\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"list-members-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):(!_vm.loading)?[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('div',{staticClass:\"column filter is-one-quarter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('role'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableRoles,\"multiple\":\"\",\"searchable\":false,\"label\":\"label\",\"track-by\":\"value\"},model:{value:(_vm.selectedRoles),callback:function ($$v) {_vm.selectedRoles=$$v},expression:\"selectedRoles\"}})],1)]),_c('div',{staticClass:\"column is-one-half has-text-right-desktop buttons\"},[_c('button',{staticClass:\"button is-link add-member\",on:{\"click\":function($event){_vm.addMemberModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add-members'))+\" \")]),_c('button',{staticClass:\"button is-danger\",attrs:{\"disabled\":_vm.selectedMembers.length === 0},on:{\"click\":function($event){return _vm.confirmMembersRemoval()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-remove-selected-members'))+\" \")])])]),_c('cytomine-table',{attrs:{\"collection\":_vm.MemberCollection,\"is-empty\":this.selectedRoles.length === 0,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"detailed\":false,\"checkable\":true,\"isRowCheckable\":(row) => row.id !== _vm.currentUser.id,\"checkedRows\":_vm.selectedMembers,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event},\"update:checkedRows\":function($event){_vm.selectedMembers=$event},\"update:checked-rows\":function($event){_vm.selectedMembers=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function({row: member}){return [_c('b-table-column',{attrs:{\"field\":\"username\",\"label\":_vm.$t('username'),\"sortable\":\"\",\"width\":\"100\"}},[_vm._v(\" \"+_vm._s(member.username)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"fullName\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(member.firstname)+\" \"+_vm._s(member.lastname)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"projectRole\",\"label\":_vm.$t('role'),\"sortable\":\"\",\"width\":\"50\"}},[_c('icon-project-member-role',{attrs:{\"is-manager\":member.role !== _vm.contributorRole.value,\"is-representative\":member.role === _vm.representativeRole.value,\"editable\":\"\"},on:{\"toggleManager\":function($event){return _vm.confirmToggleManager(member)},\"toggleRepresentative\":function($event){return _vm.toggleRepresentative(member)}}})],1),_c('b-table-column',{attrs:{\"field\":\"origin\",\"label\":_vm.$t('source'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"50\"}},[_c('span',{staticClass:\"tag ldap is-rounded is-info\",class:{ldap: member.LDAP}},[_vm._v(\" \"+_vm._s(_vm.displayMemberOrigin(member))+\" \")])]),_c('b-table-column',{attrs:{\"label\":\"\",\"centered\":\"\",\"width\":\"50\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":`/project/${_vm.project.id}/activity/user/${member.id}`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-view-activity'))+\" \")])],1)]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-member-fitting-criteria')))])])]},proxy:true},{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"has-text-centered\"},[_c('a',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.download(_vm.exportURL)}}},[_vm._v(_vm._s(_vm.$t('button-export-as-csv')))])])]},proxy:true}])}),_c('div',{staticClass:\"legend\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('legend')))]),_c('p',[_c('icon-project-member-role'),_vm._v(\" : \"+_vm._s(_vm.$t('project-contributor')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('project-manager')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true,\"is-representative\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('project-representative')))],1)]),_c('add-member-modal',{attrs:{\"active\":_vm.addMemberModal},on:{\"update:active\":function($event){_vm.addMemberModal=$event},\"addMembers\":function($event){return _vm.refreshMembers()}}})]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('add-members-to-project')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",on:{\"click\":_vm.addMembers}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")])]},proxy:true}])},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[_c('b-field',[_c('domain-tag-input',{attrs:{\"domains\":_vm.notMemberUsers,\"placeholder\":\"search-user\",\"displayedProperty\":\"fullName\",\"searchedProperty\":\"fullName\"},model:{value:(_vm.selectedMembers),callback:function ($$v) {_vm.selectedMembers=$$v},expression:\"selectedMembers\"}})],1)]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<cytomine-modal :active=\"active\" :title=\"$t('add-members-to-project')\" @close=\"$emit('update:active', false)\">\r\n    <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\r\n    <template v-if=\"!loading\">\r\n      <b-field>\r\n        <domain-tag-input v-model=\"selectedMembers\" :domains=\"notMemberUsers\" placeholder=\"search-user\" displayedProperty=\"fullName\" searchedProperty=\"fullName\"/>\r\n      </b-field>\r\n    </template>\r\n\r\n    <template #footer>\r\n      <button class=\"button\" @click=\"$emit('update:active', false)\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" @click=\"addMembers\">\r\n        {{$t('button-add')}}\r\n      </button>\r\n    </template>\r\n</cytomine-modal>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {UserCollection} from 'cytomine-client';\r\nimport DomainTagInput from '@/components/utils/DomainTagInput';\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\nimport {fullName} from '@/utils/user-utils.js';\r\n\r\nexport default {\r\n  name: 'add-member-modal',\r\n  props: {\r\n    active: Boolean\r\n  },\r\n  components: {\r\n    CytomineModal,\r\n    DomainTagInput,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      users: [],\r\n      selectedMembers: []\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    projectMembersIds() {\r\n      let projectMembers = this.$store.state.currentProject.members;\r\n      let newProjectMembers = projectMembers.concat(this.selectedMembers);\r\n      return newProjectMembers.map(u => u.id);\r\n    },\r\n    notMemberUsers() {\r\n      return this.users.filter(user => !this.projectMembersIds.includes(user.id));\r\n    }\r\n  },\r\n  watch: {\r\n    active() {\r\n      this.selectedMembers = [];\r\n    }\r\n  },\r\n  methods: {\r\n    async addMembers() {\r\n      try {\r\n        await this.project.addUsers(this.selectedMembers.map(member => member.id));\r\n        this.$emit('addMembers');\r\n        this.$notify({type: 'success', text: this.$t('notif-success-add-project-members')});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-add-project-members')});\r\n      }\r\n\r\n      this.$emit('update:active', false);\r\n    }\r\n  },\r\n  async created() {\r\n    let users = (await UserCollection.fetchAll()).array;\r\n    users.forEach(u => u.fullName = fullName(u));\r\n    this.users = users;\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n>>> .modal-card, >>> .modal-card-body {\r\n  overflow: visible !important;\r\n  width: 60vw !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddMemberModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddMemberModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddMemberModal.vue?vue&type=template&id=085e2b90&scoped=true&\"\nimport script from \"./AddMemberModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddMemberModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddMemberModal.vue?vue&type=style&index=0&id=085e2b90&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"085e2b90\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"list-members-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n    <h2> {{ $t('error') }} </h2>\r\n    <p> {{ $t('unexpected-error-info-message') }} </p>\r\n  </b-message>\r\n  <template v-else-if=\"!loading\">\r\n    <div class=\"columns\">\r\n      <div class=\"column is-one-quarter\">\r\n        <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\r\n      </div>\r\n\r\n      <div class=\"column filter is-one-quarter\">\r\n        <div class=\"filter-label\">\r\n          {{$t('role')}}\r\n        </div>\r\n        <div class=\"filter-body\">\r\n          <cytomine-multiselect v-model=\"selectedRoles\" :options=\"availableRoles\" multiple\r\n            :searchable=\"false\" label=\"label\" track-by=\"value\"/>\r\n        </div>\r\n      </div>\r\n      <div class=\"column is-one-half has-text-right-desktop buttons\">\r\n        <button class=\"button is-link add-member\" @click=\"addMemberModal = true\">\r\n          {{$t('button-add-members')}}\r\n        </button>\r\n\r\n        <button class=\"button is-danger\" @click=\"confirmMembersRemoval()\" :disabled=\"selectedMembers.length === 0\">\r\n          {{$t('button-remove-selected-members')}}\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <cytomine-table\r\n      :collection=\"MemberCollection\"\r\n      :is-empty=\"this.selectedRoles.length === 0\"\r\n      :currentPage.sync=\"currentPage\"\r\n      :perPage.sync=\"perPage\"\r\n      :sort.sync=\"sortField\"\r\n      :order.sync=\"sortOrder\"\r\n      :detailed=false\r\n      :checkable=true\r\n      :isRowCheckable=\"(row) => row.id !== currentUser.id\"\r\n      :checkedRows.sync=\"selectedMembers\"\r\n      :revision=\"revision\"\r\n    >\r\n\r\n      <template #default=\"{row: member}\">\r\n        <b-table-column field=\"username\" :label=\"$t('username')\" sortable width=\"100\">\r\n          {{member.username}}\r\n        </b-table-column>\r\n\r\n        <b-table-column field=\"fullName\" :label=\"$t('name')\" sortable width=\"150\">\r\n          {{member.firstname}} {{member.lastname}}\r\n        </b-table-column>\r\n\r\n        <b-table-column field=\"projectRole\" :label=\"$t('role')\" sortable width=\"50\">\r\n          <icon-project-member-role\r\n            :is-manager=\"member.role !== contributorRole.value\"\r\n            :is-representative=\"member.role === representativeRole.value\"\r\n            editable\r\n            @toggleManager=\"confirmToggleManager(member)\"\r\n            @toggleRepresentative=\"toggleRepresentative(member)\"\r\n          />\r\n        </b-table-column>\r\n\r\n        <b-table-column field=\"origin\" :label=\"$t('source')\" centered sortable width=\"50\">\r\n          <span class=\"tag ldap is-rounded is-info\" :class=\"{ldap: member.LDAP}\">\r\n            {{displayMemberOrigin(member)}}\r\n          </span>\r\n        </b-table-column>\r\n\r\n        <b-table-column label=\"\" centered width=\"50\">\r\n          <router-link :to=\"`/project/${project.id}/activity/user/${member.id}`\" class=\"button is-small is-link\">\r\n            {{$t('button-view-activity')}}\r\n          </router-link>\r\n        </b-table-column>\r\n      </template>\r\n\r\n      <template #empty>\r\n        <div class=\"content has-text-grey has-text-centered\">\r\n          <p>{{$t('no-member-fitting-criteria')}}</p>\r\n        </div>\r\n      </template>\r\n\r\n      <template #footer>\r\n        <div class=\"has-text-centered\">\r\n          <a @click=\"download(exportURL)\" class=\"button is-link\">{{$t('button-export-as-csv')}}</a>\r\n        </div>\r\n      </template>\r\n    </cytomine-table>\r\n\r\n    <div class=\"legend\">\r\n      <h2>{{$t('legend')}}</h2>\r\n      <p><icon-project-member-role /> : {{$t('project-contributor')}}</p>\r\n      <p><icon-project-member-role :is-manager=\"true\" /> : {{$t('project-manager')}}</p>\r\n      <p><icon-project-member-role :is-manager=\"true\" :is-representative=\"true\" /> : {{$t('project-representative')}}</p>\r\n    </div>\r\n\r\n    <add-member-modal :active.sync=\"addMemberModal\" @addMembers=\"refreshMembers()\" />\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport CytomineTable from '@/components/utils/CytomineTable';\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport AddMemberModal from './AddMemberModal';\r\nimport {fullName} from '@/utils/user-utils.js';\r\nimport {Cytomine, UserCollection, ProjectRepresentative} from 'cytomine-client';\r\nimport IconProjectMemberRole from '@/components/icons/IconProjectMemberRole';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\n\r\nexport default {\r\n  name: 'projet-members',\r\n  components: {\r\n    IconProjectMemberRole,\r\n    CytomineTable,\r\n    CytomineMultiselect,\r\n    AddMemberModal\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      addMemberModal: false,\r\n\r\n      currentPage: 1,\r\n      perPage: 25,\r\n      sortField: '',\r\n      sortOrder: '',\r\n\r\n      searchString: '',\r\n\r\n      contributorRole: {label:this.$t('contributor'), value : 'contributor'},\r\n      managerRole: {label:this.$t('manager'), value: 'manager'},\r\n      representativeRole: {label:this.$t('representative'), value: 'representative'},\r\n      availableRoles: [],\r\n      selectedRoles: [],\r\n      selectedMembers: [],\r\n\r\n\r\n      revision: 0\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    project: get('currentProject/project'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n\r\n    MemberCollection() {\r\n      let collection = new UserCollection({\r\n        filterKey: 'project',\r\n        filterValue: this.project.id,\r\n      });\r\n      if(this.selectedRoles.length > 0){\r\n        collection['projectRole'] = {\r\n          in: this.selectedRoles.map(option => option.value).join()\r\n        };\r\n      }\r\n      if(this.searchString) {\r\n        collection['fullName'] = {\r\n          ilike: encodeURIComponent(this.searchString)\r\n        };\r\n      }\r\n\r\n      return collection;\r\n    },\r\n\r\n    exportURL() {\r\n      // TODO in core: should export only the filtered users\r\n      return Cytomine.instance.host + Cytomine.instance.basePath + `project/${this.project.id}/user/download?format=csv`;\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    appendShortTermToken,\r\n    displayMemberOrigin(member){\r\n      let key;\r\n      if(member.origin === 'LDAP') key = 'LDAP';\r\n      if(member.origin === 'BOOTSTRAP') key = 'system';\r\n      else key = 'manual';\r\n\r\n      return this.$t(key);\r\n    },\r\n    async refreshMembers() {\r\n      try {\r\n        this.revision++;\r\n        await this.$store.dispatch('currentProject/fetchProjectMembers');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n      }\r\n    },\r\n    download(url) {\r\n      window.open(appendShortTermToken(url, this.shortTermToken));\r\n    },\r\n    confirmMembersRemoval() {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('remove-members'),\r\n        message: this.$tc('remove-members-confirmation-message', this.selectedMembers.length, {\r\n          count: this.selectedMembers.length,\r\n          username: fullName(this.selectedMembers[0])\r\n        }),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.removeSelectedMembers()\r\n      });\r\n    },\r\n    async removeSelectedMembers() {\r\n      try {\r\n        await this.project.deleteUsers(this.selectedMembers.map(member => member.id));\r\n        await this.refreshMembers();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-remove-project-members')});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-remove-project-members')});\r\n      }\r\n    },\r\n\r\n    confirmToggleManager(member) {\r\n      if(member.id === this.currentUser.id && member.role !== this.contributorRole.value) {\r\n        this.$buefy.dialog.confirm({\r\n          title: this.$t('remove-yourself-from-manager'),\r\n          message: this.$tc('remove-yourself-from-manager-confirmation-message'),\r\n          type: 'is-danger',\r\n          confirmText: this.$t('button-confirm'),\r\n          cancelText: this.$t('button-cancel'),\r\n          onConfirm: () => this.toggleManager(member)\r\n        });\r\n      }\r\n      else {\r\n        this.toggleManager(member);\r\n      }\r\n    },\r\n    async toggleManager(member) {\r\n      try {\r\n        if(member.role !== this.contributorRole.value) {\r\n          if(member.role == this.representativeRole.value) {\r\n            await ProjectRepresentative.delete(0, this.project.id, member.id);\r\n          }\r\n          await this.project.deleteAdmin(member.id);\r\n        }\r\n        else {\r\n          await this.project.addAdmin(member.id);\r\n        }\r\n        this.revision++;\r\n\r\n        if(member.id === this.currentUser.id) {\r\n          await this.$store.dispatch('currentProject/fetchUIConfig');\r\n          if(!this.$store.state.currentProject.configUI['project-configuration-tab']) {\r\n            this.$router.push(`/project/${this.project.id}`);\r\n          }\r\n        }\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-change-role', {username: fullName(member)})});\r\n      }\r\n    },\r\n    async toggleRepresentative(member) {\r\n      try {\r\n        if(member.role === this.representativeRole.value) {\r\n          if ((await this.project.fetchRepresentatives()).array.length < 2) {\r\n            this.$notify({type: 'error', text: this.$t('notif-error-not-enough-representative')});\r\n          }\r\n          else {\r\n            await ProjectRepresentative.delete(0, this.project.id, member.id);\r\n          }\r\n        }\r\n        else {\r\n          await new ProjectRepresentative({user: member.id, project: this.project.id}).save();\r\n        }\r\n        this.revision++;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-change-role', {username: fullName(member)})});\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    appendShortTermToken();\r\n  },\r\n  async created() {\r\n    this.availableRoles = [this.contributorRole, this.managerRole, this.representativeRole];\r\n    this.selectedRoles = this.availableRoles;\r\n    this.revision++;\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.filter {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.filter-label {\r\n  margin-right: 1em;\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\n.filter-body {\r\n  flex-grow: 1;\r\n}\r\n\r\n.list-members-wrapper {\r\n  min-height: 40vh;\r\n}\r\n\r\n.tag {\r\n  font-size: 0.75em !important;\r\n  font-weight: 600;\r\n}\r\n\r\n.tag.ldap {\r\n  background-color: #A0C0E6;\r\n}\r\n\r\n.legend {\r\n  margin-top: 0.8rem;\r\n  margin-bottom: 1rem;\r\n  border-radius: 10px;\r\n  padding: 1rem 1.5em;\r\n  background: #f8f8f8;\r\n}\r\n\r\n.legend p {\r\n  padding-bottom: 0.4em;\r\n}\r\n\r\n.legend .icons {\r\n  display: inline-block;\r\n  width: 40px;\r\n  margin-right: 0.7em;\r\n}\r\n\r\na:hover .fas {\r\n  color: rgb(35, 102, 216);\r\n}\r\n\r\na:hover .fas.disabled, a:hover .disabled .fas {\r\n  color: rgba(35, 102, 216, 0.5);\r\n}\r\n\r\n.fas {\r\n  color: black;\r\n  width: 20px;\r\n  position: relative;\r\n}\r\n\r\n.fas.fa-flag {\r\n  font-size: 0.8em;\r\n  bottom: 0.5em;\r\n}\r\n\r\n.fas.disabled, .disabled .fas {\r\n  color: rgba(0, 0, 0, 0.1);\r\n}\r\n</style>\r\n\r\n<style>\r\n.table-members {\r\n  margin-top: 1.2em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectMembers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectMembers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectMembers.vue?vue&type=template&id=6e85a606&scoped=true&\"\nimport script from \"./ProjectMembers.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectMembers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectMembers.vue?vue&type=style&index=0&id=6e85a606&prod&scoped=true&lang=css&\"\nimport style1 from \"./ProjectMembers.vue?vue&type=style&index=1&id=6e85a606&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e85a606\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):(!_vm.loading)?_c('table',{staticClass:\"table custom-ui\"},_vm._l((_vm.customUITree),function(category){return _c('tbody',{key:category.label},[_c('tr',[_c('th',{attrs:{\"colspan\":\"3\"}},[_vm._v(_vm._s(_vm.$t(category.label)))])]),_vm._l((category.props),function(prop){return _c('tr',{key:prop.key},[_c('td',[(prop.superscript)?_c('i',{staticClass:\"superscript\",class:prop.superscript}):_vm._e(),(prop.icon || prop.iconComponent)?_c('span',{staticClass:\"icon\"},[(prop.icon)?_c('i',{class:prop.icon}):_c(prop.iconComponent,{tag:\"component\"})],1):_vm._e(),_vm._v(\" \"+_vm._s(_vm.$t(prop.label))+\" \")]),_c('td',[_c('button',{class:['button', _vm.customUI[prop.key] && _vm.customUI[prop.key].ADMIN_PROJECT && !_vm.isParentDisabled(prop, 'ADMIN_PROJECT') ? 'is-success' : 'is-danger'],attrs:{\"disabled\":_vm.isParentDisabled(prop, 'ADMIN_PROJECT') || prop.key === 'project-configuration-tab'},on:{\"click\":function($event){return _vm.toggleProp(prop.key, 'ADMIN_PROJECT')}}},[_vm._v(\" \"+_vm._s(_vm.$t('manager'))+\" \")])]),_c('td',[_c('button',{class:['button', _vm.customUI[prop.key] && _vm.customUI[prop.key].CONTRIBUTOR_PROJECT && !_vm.isParentDisabled(prop, 'CONTRIBUTOR_PROJECT') ? 'is-success' : 'is-danger'],attrs:{\"disabled\":_vm.isParentDisabled(prop, 'CONTRIBUTOR_PROJECT') || prop.key === 'project-configuration-tab'},on:{\"click\":function($event){return _vm.toggleProp(prop.key, 'CONTRIBUTOR_PROJECT')}}},[_vm._v(\" \"+_vm._s(_vm.$t('contributor'))+\" \")])])])})],2)}),0):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('svg',{attrs:{\"xmlns:dc\":\"http://purl.org/dc/elements/1.1/\",\"xmlns:cc\":\"http://creativecommons.org/ns#\",\"xmlns:rdf\":\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\"xmlns:svg\":\"http://www.w3.org/2000/svg\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:sodipodi\":\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\",\"xmlns:inkscape\":\"http://www.inkscape.org/namespaces/inkscape\",\"width\":\"4mm\",\"height\":\"4mm\",\"viewBox\":\"0 0 14.173228 14.173229\",\"id\":\"svg2\",\"version\":\"1.1\",\"inkscape:version\":\"0.91 r13725\",\"sodipodi:docname\":\"free-polygon.svg\"}},[_c('defs',{attrs:{\"id\":\"defs4\"}}),_c('sodipodi:namedview',{attrs:{\"id\":\"base\",\"pagecolor\":\"#ffffff\",\"bordercolor\":\"#666666\",\"borderopacity\":\"1.0\",\"inkscape:pageopacity\":\"0.0\",\"inkscape:pageshadow\":\"2\",\"inkscape:zoom\":\"52.572505\",\"inkscape:cx\":\"9.7957273\",\"inkscape:cy\":\"6.9348154\",\"inkscape:document-units\":\"px\",\"inkscape:current-layer\":\"layer1\",\"showgrid\":\"false\",\"inkscape:window-width\":\"1855\",\"inkscape:window-height\":\"1056\",\"inkscape:window-x\":\"65\",\"inkscape:window-y\":\"24\",\"inkscape:window-maximized\":\"1\",\"fit-margin-top\":\"0\",\"fit-margin-left\":\"0\",\"fit-margin-right\":\"0\",\"fit-margin-bottom\":\"0\"}}),_c('metadata',{attrs:{\"id\":\"metadata7\"}},[_c('rdf:RDF',[_c('cc:Work',{attrs:{\"rdf:about\":\"\"}},[_c('dc:format',[_vm._v(\"image/svg+xml\")]),_c('dc:type',{attrs:{\"rdf:resource\":\"http://purl.org/dc/dcmitype/StillImage\"}}),_c('dc:title')],1)],1)],1),_c('g',{attrs:{\"inkscape:label\":\"Layer 1\",\"inkscape:groupmode\":\"layer\",\"id\":\"layer1\",\"transform\":\"translate(-27.016003,-31.914518)\"}},[_c('path',{staticStyle:{\"fill\":\"none\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.30416775\",\"stroke-linecap\":\"butt\",\"stroke-linejoin\":\"miter\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"},attrs:{\"stroke\":\"#000000\",\"d\":\"m 38.949622,43.986228 c 1.403938,-1.500316 -3.266544,-2.492688 0.146877,-5.771595 2.156977,-2.071976 -2.231271,-4.068703 -4.032879,-3.734999 -1.435084,0.265814 0.161219,2.123932 -1.933719,3.928337 -2.094933,1.804405 -4.714354,-0.508566 -4.747541,2.161303 -0.03833,3.084086 9.163323,4.917269 10.567262,3.416954 z\",\"id\":\"path4186\",\"inkscape:connector-curvature\":\"0\",\"sodipodi:nodetypes\":\"zsazsz\"}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<svg\r\n  xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\r\n  xmlns:cc=\"http://creativecommons.org/ns#\"\r\n  xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\r\n  xmlns:svg=\"http://www.w3.org/2000/svg\"\r\n  xmlns=\"http://www.w3.org/2000/svg\"\r\n  xmlns:sodipodi=\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\"\r\n  xmlns:inkscape=\"http://www.inkscape.org/namespaces/inkscape\"\r\n  width=\"4mm\"\r\n  height=\"4mm\"\r\n  viewBox=\"0 0 14.173228 14.173229\"\r\n  id=\"svg2\"\r\n  version=\"1.1\"\r\n  inkscape:version=\"0.91 r13725\"\r\n  sodipodi:docname=\"free-polygon.svg\"\r\n>\r\n  <defs id=\"defs4\" />\r\n  <sodipodi:namedview\r\n    id=\"base\"\r\n    pagecolor=\"#ffffff\"\r\n    bordercolor=\"#666666\"\r\n    borderopacity=\"1.0\"\r\n    inkscape:pageopacity=\"0.0\"\r\n    inkscape:pageshadow=\"2\"\r\n    inkscape:zoom=\"52.572505\"\r\n    inkscape:cx=\"9.7957273\"\r\n    inkscape:cy=\"6.9348154\"\r\n    inkscape:document-units=\"px\"\r\n    inkscape:current-layer=\"layer1\"\r\n    showgrid=\"false\"\r\n    inkscape:window-width=\"1855\"\r\n    inkscape:window-height=\"1056\"\r\n    inkscape:window-x=\"65\"\r\n    inkscape:window-y=\"24\"\r\n    inkscape:window-maximized=\"1\"\r\n    fit-margin-top=\"0\"\r\n    fit-margin-left=\"0\"\r\n    fit-margin-right=\"0\"\r\n    fit-margin-bottom=\"0\"\r\n  />\r\n  <metadata id=\"metadata7\">\r\n    <rdf:RDF>\r\n      <cc:Work rdf:about=\"\">\r\n        <dc:format>image/svg+xml</dc:format>\r\n        <dc:type rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" />\r\n        <dc:title />\r\n      </cc:Work>\r\n    </rdf:RDF>\r\n  </metadata>\r\n  <g\r\n    inkscape:label=\"Layer 1\"\r\n    inkscape:groupmode=\"layer\"\r\n    id=\"layer1\"\r\n    transform=\"translate(-27.016003,-31.914518)\"\r\n  >\r\n    <path\r\n      style=\"fill:none;fill-rule:evenodd;stroke-width:1.30416775;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1\"\r\n      stroke=\"#000000\"\r\n      d=\"m 38.949622,43.986228 c 1.403938,-1.500316 -3.266544,-2.492688 0.146877,-5.771595 2.156977,-2.071976 -2.231271,-4.068703 -4.032879,-3.734999 -1.435084,0.265814 0.161219,2.123932 -1.933719,3.928337 -2.094933,1.804405 -4.714354,-0.508566 -4.747541,2.161303 -0.03833,3.084086 9.163323,4.917269 10.567262,3.416954 z\"\r\n      id=\"path4186\"\r\n      inkscape:connector-curvature=\"0\"\r\n      sodipodi:nodetypes=\"zsazsz\"\r\n    />\r\n  </g>\r\n</svg>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'icon-polygon-free-hand'\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconPolygonFreeHand.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconPolygonFreeHand.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconPolygonFreeHand.vue?vue&type=template&id=2b07b6a8&\"\nimport script from \"./IconPolygonFreeHand.vue?vue&type=script&lang=js&\"\nexport * from \"./IconPolygonFreeHand.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('svg',{attrs:{\"xmlns:dc\":\"http://purl.org/dc/elements/1.1/\",\"xmlns:cc\":\"http://creativecommons.org/ns#\",\"xmlns:rdf\":\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\"xmlns:svg\":\"http://www.w3.org/2000/svg\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:sodipodi\":\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\",\"xmlns:inkscape\":\"http://www.inkscape.org/namespaces/inkscape\",\"width\":\"4mm\",\"height\":\"4mm\",\"viewBox\":\"0 0 14.173228 14.173229\",\"id\":\"svg2\",\"version\":\"1.1\",\"inkscape:version\":\"0.91 r13725\",\"sodipodi:docname\":\"free-line.svg\"}},[_c('defs',{attrs:{\"id\":\"defs4\"}}),_c('sodipodi:namedview',{attrs:{\"id\":\"base\",\"pagecolor\":\"#ffffff\",\"bordercolor\":\"#666666\",\"borderopacity\":\"1.0\",\"inkscape:pageopacity\":\"0.0\",\"inkscape:pageshadow\":\"2\",\"inkscape:zoom\":\"52.572505\",\"inkscape:cx\":\"1.7591916\",\"inkscape:cy\":\"6.9664237\",\"inkscape:document-units\":\"px\",\"inkscape:current-layer\":\"layer1\",\"showgrid\":\"false\",\"inkscape:window-width\":\"1855\",\"inkscape:window-height\":\"1056\",\"inkscape:window-x\":\"65\",\"inkscape:window-y\":\"24\",\"inkscape:window-maximized\":\"1\",\"fit-margin-top\":\"0\",\"fit-margin-left\":\"0\",\"fit-margin-right\":\"0\",\"fit-margin-bottom\":\"0\"}}),_c('metadata',{attrs:{\"id\":\"metadata7\"}},[_c('rdf:RDF',[_c('cc:Work',{attrs:{\"rdf:about\":\"\"}},[_c('dc:format',[_vm._v(\"image/svg+xml\")]),_c('dc:type',{attrs:{\"rdf:resource\":\"http://purl.org/dc/dcmitype/StillImage\"}}),_c('dc:title')],1)],1)],1),_c('g',{attrs:{\"inkscape:label\":\"Layer 1\",\"inkscape:groupmode\":\"layer\",\"id\":\"layer1\",\"transform\":\"translate(-27.016003,-31.914518)\"}},[_c('path',{staticStyle:{\"fill\":\"none\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.36583543\",\"stroke-linecap\":\"butt\",\"stroke-linejoin\":\"miter\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"},attrs:{\"stroke\":\"#000000\",\"d\":\"m 28.507424,40.008532 c 0,0 2.07514,5.220154 3.70608,4.821065 2.487226,-0.608621 1.213333,-9.083876 3.706081,-9.642132 1.676478,-0.375451 3.706081,5.096557 3.706081,5.096557\",\"id\":\"path4148\",\"inkscape:connector-curvature\":\"0\",\"sodipodi:nodetypes\":\"cssc\"}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<svg\r\n  xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\r\n  xmlns:cc=\"http://creativecommons.org/ns#\"\r\n  xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\r\n  xmlns:svg=\"http://www.w3.org/2000/svg\"\r\n  xmlns=\"http://www.w3.org/2000/svg\"\r\n  xmlns:sodipodi=\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\"\r\n  xmlns:inkscape=\"http://www.inkscape.org/namespaces/inkscape\"\r\n  width=\"4mm\"\r\n  height=\"4mm\"\r\n  viewBox=\"0 0 14.173228 14.173229\"\r\n  id=\"svg2\"\r\n  version=\"1.1\"\r\n  inkscape:version=\"0.91 r13725\"\r\n  sodipodi:docname=\"free-line.svg\"\r\n>\r\n  <defs\r\n    id=\"defs4\"\r\n  />\r\n  <sodipodi:namedview\r\n    id=\"base\"\r\n    pagecolor=\"#ffffff\"\r\n    bordercolor=\"#666666\"\r\n    borderopacity=\"1.0\"\r\n    inkscape:pageopacity=\"0.0\"\r\n    inkscape:pageshadow=\"2\"\r\n    inkscape:zoom=\"52.572505\"\r\n    inkscape:cx=\"1.7591916\"\r\n    inkscape:cy=\"6.9664237\"\r\n    inkscape:document-units=\"px\"\r\n    inkscape:current-layer=\"layer1\"\r\n    showgrid=\"false\"\r\n    inkscape:window-width=\"1855\"\r\n    inkscape:window-height=\"1056\"\r\n    inkscape:window-x=\"65\"\r\n    inkscape:window-y=\"24\"\r\n    inkscape:window-maximized=\"1\"\r\n    fit-margin-top=\"0\"\r\n    fit-margin-left=\"0\"\r\n    fit-margin-right=\"0\"\r\n    fit-margin-bottom=\"0\"\r\n  />\r\n  <metadata id=\"metadata7\">\r\n    <rdf:RDF>\r\n      <cc:Work rdf:about=\"\">\r\n        <dc:format>image/svg+xml</dc:format>\r\n        <dc:type rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" />\r\n        <dc:title />\r\n      </cc:Work>\r\n    </rdf:RDF>\r\n  </metadata>\r\n  <g\r\n    inkscape:label=\"Layer 1\"\r\n    inkscape:groupmode=\"layer\"\r\n    id=\"layer1\"\r\n    transform=\"translate(-27.016003,-31.914518)\"\r\n  >\r\n    <path\r\n      style=\"fill:none;fill-rule:evenodd;stroke-width:1.36583543;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1\"\r\n      stroke=\"#000000\"\r\n      d=\"m 28.507424,40.008532 c 0,0 2.07514,5.220154 3.70608,4.821065 2.487226,-0.608621 1.213333,-9.083876 3.706081,-9.642132 1.676478,-0.375451 3.706081,5.096557 3.706081,5.096557\"\r\n      id=\"path4148\"\r\n      inkscape:connector-curvature=\"0\"\r\n      sodipodi:nodetypes=\"cssc\"\r\n    />\r\n  </g>\r\n</svg>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'icon-line-free-hand'\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconLineFreeHand.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconLineFreeHand.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconLineFreeHand.vue?vue&type=template&id=b14d4288&\"\nimport script from \"./IconLineFreeHand.vue?vue&type=script&lang=js&\"\nexport * from \"./IconLineFreeHand.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p> {{ $t('unexpected-error-info-message') }} </p>\r\n</b-message>\r\n<table class=\"table custom-ui\" v-else-if=\"!loading\">\r\n  <tbody v-for=\"category in customUITree\" :key=\"category.label\">\r\n    <tr>\r\n      <th colspan=\"3\">{{$t(category.label)}}</th>\r\n    </tr>\r\n    <tr v-for=\"prop in category.props\" :key=\"prop.key\">\r\n      <td>\r\n        <i v-if=\"prop.superscript\" class=\"superscript\" :class=\"prop.superscript\"></i>\r\n        <span class=\"icon\" v-if=\"prop.icon || prop.iconComponent\">\r\n          <i v-if=\"prop.icon\" :class=\"prop.icon\"></i>\r\n          <component v-else :is=\"prop.iconComponent\" />\r\n        </span>\r\n        {{$t(prop.label)}}\r\n      </td>\r\n      <td>\r\n        <button\r\n          :class=\"['button', customUI[prop.key] && customUI[prop.key].ADMIN_PROJECT && !isParentDisabled(prop, 'ADMIN_PROJECT') ? 'is-success' : 'is-danger']\"\r\n          @click=\"toggleProp(prop.key, 'ADMIN_PROJECT')\"\r\n          :disabled=\"isParentDisabled(prop, 'ADMIN_PROJECT') || prop.key === 'project-configuration-tab'\"\r\n        >\r\n          {{$t('manager')}}\r\n        </button>\r\n      </td>\r\n      <td>\r\n        <button\r\n          :class=\"['button', customUI[prop.key] && customUI[prop.key].CONTRIBUTOR_PROJECT && !isParentDisabled(prop, 'CONTRIBUTOR_PROJECT') ? 'is-success' : 'is-danger']\"\r\n          @click=\"toggleProp(prop.key, 'CONTRIBUTOR_PROJECT')\"\r\n          :disabled=\"isParentDisabled(prop, 'CONTRIBUTOR_PROJECT') || prop.key === 'project-configuration-tab'\"\r\n        >\r\n            {{$t('contributor')}}\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport IconPolygonFreeHand from '@/components/icons/IconPolygonFreeHand';\r\nimport IconLineFreeHand from '@/components/icons/IconLineFreeHand';\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'custom-ui-project',\r\n  data() {\r\n    return {\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      loading: true,\r\n      error: false,\r\n\r\n      customUI: {},\r\n      customUITree: [\r\n        {\r\n          label: 'project-side-bar',\r\n          props: [\r\n            {key: 'project-images-tab', label: 'images', icon: 'far fa-images'},\r\n            {key: 'project-annotations-tab', label: 'annotations', icon: 'far fa-edit'},\r\n            {key: 'project-jobs-tab', label: 'analysis', icon: 'fas fa-tasks'},\r\n            {key: 'project-activities-tab', label: 'activity', icon: 'fas fa-tachometer-alt'},\r\n            {key: 'project-information-tab', label: 'information', icon: 'fas fa-info-circle'},\r\n            {key: 'project-configuration-tab', label: 'configuration', icon: 'fas fa-cogs'}\r\n          ]\r\n        },\r\n        {\r\n          label: 'image-details',\r\n          props: [\r\n            {key: 'project-explore-image-overview', label: 'overview', icon: 'fas fa-image'},\r\n            //{key: 'project-explore-image-status', label: 'status'},\r\n            {key: 'project-explore-image-description', label: 'description', icon: 'far fa-file-alt'},\r\n            {key: 'project-explore-image-tags', label: 'tags', icon: 'fas fa-bookmark'},\r\n            {key: 'project-explore-image-tracks', label: 'tracks', icon: 'fas fa-route'},\r\n            {key: 'project-explore-image-properties', label: 'properties', icon: 'fas fa-tag'},\r\n            {key: 'project-explore-image-attached-files', label: 'attached-files', icon: 'fas fa-paperclip'},\r\n            {key: 'project-explore-image-slide-preview', label: 'slide-preview', icon: 'fas fa-image'},\r\n            {key: 'project-explore-image-original-filename', label: 'originalFilename', icon: 'fas fa-info'},\r\n            {key: 'project-explore-image-metadata', label: 'image-metadata', icon: 'fas fa-asterisk'},\r\n            /*{key: 'project-explore-image-format', label: 'format'},\r\n            {key: 'project-explore-image-vendor', label: 'vendor'},\r\n            {key: 'project-explore-image-size', label: 'size'},\r\n            {key: 'project-explore-image-resolution', label: 'resolution'},\r\n            {key: 'project-explore-image-magnification', label: 'magnification'},*/\r\n          ]\r\n        },\r\n        {\r\n          label: 'viewer-panels',\r\n          props: [\r\n            {key: 'project-explore-hide-tools', label: 'all-panels'}, // hide all panels\r\n            {key: 'project-explore-overview', label: 'overview', icon: 'fas fa-image', parentConfiguration: 'project-explore-hide-tools'},\r\n            {key: 'project-explore-info', label: 'information', icon: 'fas fa-info', parentConfiguration: 'project-explore-hide-tools'},\r\n            {key: 'project-explore-digital-zoom', label: 'digital-zoom', icon: 'fas fa-search', parentConfiguration: 'project-explore-hide-tools'},\r\n            {key: 'project-explore-link', label: 'link-images', icon: 'fas fa-link', parentConfiguration: 'project-explore-hide-tools'},\r\n            {key: 'project-explore-color-manipulation', label: 'colors', icon: 'fas fa-adjust', parentConfiguration: 'project-explore-hide-tools'},\r\n            {key: 'project-explore-image-layers', label: 'annotation-layers', icon: 'fas fa-copy', parentConfiguration: 'project-explore-hide-tools'},\r\n            {key: 'project-explore-ontology', label: 'ontology', icon: 'fas fa-hashtag', parentConfiguration: 'project-explore-hide-tools'},\r\n            {key: 'project-explore-property', label: 'properties', icon: 'fas fa-tag', parentConfiguration: 'project-explore-hide-tools'},\r\n            {key: 'project-explore-follow', label: 'broadcast', icon: 'fas fa-street-view', parentConfiguration: 'project-explore-hide-tools'},\r\n            {key: 'project-explore-review', label: 'review', icon: 'fas fa-check-circle', parentConfiguration: 'project-explore-hide-tools'},\r\n          ]\r\n        },\r\n        {\r\n          label: 'annotation-details',\r\n          props: [\r\n            // display annotation details in viewer\r\n            {key: 'project-explore-annotation-main', label: 'annotation-details-box'},\r\n            {key: 'project-explore-annotation-geometry-info', label: 'geometry-info',\r\n              icon: 'fas fa-ruler-combined', parentConfiguration: 'project-explore-annotation-main'},\r\n            {key: 'project-explore-annotation-description', label: 'description', icon: 'far fa-file-alt', parentConfiguration: 'project-explore-annotation-main'},\r\n            {key: 'project-explore-annotation-terms', label: 'terms', icon: 'fas fa-hashtag', parentConfiguration: 'project-explore-annotation-main'},\r\n            {key: 'project-explore-annotation-tags', label: 'tags', icon: 'fas fa-bookmark', parentConfiguration: 'project-explore-annotation-main'},\r\n            {key: 'project-explore-annotation-properties', label: 'properties', icon: 'fas fa-tag', parentConfiguration: 'project-explore-annotation-main'},\r\n            {key: 'project-explore-annotation-attached-files', label: 'attached-files', icon: 'fas fa-paperclip', parentConfiguration: 'project-explore-annotation-main'},\r\n            {key: 'project-explore-annotation-creation-info', label: 'creation-info', icon: 'fas fa-info', parentConfiguration: 'project-explore-annotation-main'},\r\n            {key: 'project-explore-annotation-comments', label: 'comments', icon: 'fas fa-comment', parentConfiguration: 'project-explore-annotation-main'}\r\n          ]\r\n        },\r\n        {\r\n          label: 'draw-tools',\r\n          props: [\r\n            {key: 'project-tools-main', label: 'all-draw-tools'},\r\n\r\n            {key: 'project-tools-select', label: 'select', icon: 'fas fa-mouse-pointer', parentConfiguration: 'project-tools-main'},\r\n\r\n            {key: 'project-tools-point', label: 'point', icon: 'fas fa-map-pin', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-line', label: 'line', icon: 'fas fa-minus', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-freehand-line', label: 'freehand-line',\r\n              iconComponent: IconLineFreeHand, parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-rectangle', label: 'rectangle', icon: 'far fa-square', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-circle', label: 'circle', icon: 'far fa-circle', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-polygon', label: 'polygon', icon: 'fas fa-draw-polygon', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-freehand-polygon', label: 'freehand-polygon',\r\n              iconComponent: IconPolygonFreeHand, parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-screenshot', label: 'screenshot', icon: 'fas fa-camera', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-union', label: 'freehand-correct-add', icon: 'fas fa-pencil-alt',\r\n              superscript: 'fas fa-plus', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-diff', label: 'freehand-correct-remove', icon: 'fas fa-pencil-alt',\r\n              superscript: 'fas fa-minus', parentConfiguration: 'project-tools-main'},\r\n\r\n            {key: 'project-tools-fill', label: 'fill', icon: 'fas fa-fill', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-edit', label: 'modify', icon: 'fas fa-edit', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-move', label: 'move', icon: 'fas fa-arrows-alt', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-resize', label: 'rescale', icon: 'fas fa-expand', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-rotate', label: 'rotate', icon: 'fas fa-sync-alt', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-delete', label: 'delete', icon: 'fas fa-trash-alt', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-copy-paste', label: 'copy-paste', icon: 'fas fa-copy', parentConfiguration: 'project-tools-main'},\r\n            {key: 'project-tools-undo-redo', label: 'undo-redo', icon: 'fas fa-undo', parentConfiguration: 'project-tools-main'},\r\n          ]\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project')\r\n  },\r\n  methods: {\r\n    async toggleProp(prop, userType) {\r\n      try {\r\n        this.customUI[prop][userType] = !this.customUI[prop][userType];\r\n        this.customUI = await this.project.saveUIConfig(this.customUI);\r\n        this.$store.dispatch('currentProject/fetchUIConfig');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.customUI[prop][userType] = !this.customUI[prop][userType]; // revert change\r\n        this.$notify({type: 'error', text: this.$t('notif-error-custom-ui-change')});\r\n      }\r\n    },\r\n    isParentDisabled(child, role) {\r\n      return (child.parentConfiguration && this.customUI[child.parentConfiguration][role] === false);\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      if(!this.algoEnabled) this.customUITree[0].props.splice(2,1);\r\n\r\n      this.customUI = await this.project.fetchUIConfig();\r\n      console.log(this.customUI);\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.button {\r\n  padding: 0 3em;\r\n}\r\n\r\ntd, th {\r\n  vertical-align: middle !important;\r\n}\r\n\r\n.icon {\r\n  width: 20px;\r\n  text-align: center;\r\n  margin-right: 1em;\r\n}\r\n\r\n.superscript {\r\n  position: relative;\r\n  font-size: 0.7em;\r\n  width: 0;\r\n  bottom: 0.75em;\r\n  right: 4px;\r\n  margin-right: 0;\r\n}\r\n</style>\r\n\r\n<style>\r\n.custom-ui .icon svg {\r\n  height: 1.15em !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUIProject.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUIProject.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomUIProject.vue?vue&type=template&id=740dcc38&scoped=true&\"\nimport script from \"./CustomUIProject.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomUIProject.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomUIProject.vue?vue&type=style&index=0&id=740dcc38&prod&scoped=true&lang=css&\"\nimport style1 from \"./CustomUIProject.vue?vue&type=style&index=1&id=740dcc38&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"740dcc38\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"project-softwares-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):(!_vm.loading)?[_c('b-input',{staticClass:\"search-field\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('b-table',{attrs:{\"data\":_vm.filteredSoftwares,\"default-sort\":\"selected\",\"default-sort-direction\":\"desc\",\"paginated\":true,\"per-page\":_vm.perPage,\"pagination-size\":\"is-small\"},scopedSlots:_vm._u([{key:\"default\",fn:function({row: software}){return [_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":`/algorithm/${software.id}`}},[_vm._v(\" \"+_vm._s(software.fullName)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"softwareStatus\",\"label\":_vm.$t('version'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\",\"custom-sort\":_vm.sortBySoftwareStatus}},[_c('software-status',{attrs:{\"software\":software}})],1),_c('b-table-column',{attrs:{\"field\":\"executable\",\"label\":_vm.$t('ui-runnable'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('boolean-item',{attrs:{\"value\":software.executable}})],1),_c('b-table-column',{attrs:{\"field\":\"selected\",\"label\":_vm.$t('status'),\"sortable\":\"\",\"width\":\"100\"}},[_c('button',{class:['button', software.selected ? 'is-success' : 'is-danger'],attrs:{\"disabled\":_vm.loadingToggleSoftware[software.id]},on:{\"click\":function($event){return _vm.toggleSoftware(software)}}},[_vm._v(\" \"+_vm._s(_vm.$t(software.selected ? 'enabled' : 'disabled'))+\" \")])])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-algorithm')))])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}])})]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"project-softwares-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n    <h2> {{ $t('error') }} </h2>\r\n    <p> {{ $t('unexpected-error-info-message') }} </p>\r\n  </b-message>\r\n  <template v-else-if=\"!loading\">\r\n    <b-input class=\"search-field\" v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\r\n\r\n    <b-table\r\n      :data=\"filteredSoftwares\"\r\n      default-sort=\"selected\"\r\n      default-sort-direction=\"desc\"\r\n      :paginated=\"true\"\r\n      :per-page=\"perPage\"\r\n      pagination-size=\"is-small\"\r\n    >\r\n      <template #default=\"{row: software}\">\r\n        <b-table-column field=\"name\" :label=\"$t('name')\" sortable width=\"100\">\r\n          <router-link :to=\"`/algorithm/${software.id}`\">\r\n            {{ software.fullName }}\r\n          </router-link>\r\n        </b-table-column>\r\n\r\n        <b-table-column field=\"softwareStatus\" :label=\"$t('version')\" centered sortable width=\"100\" :custom-sort=\"sortBySoftwareStatus\">\r\n          <software-status :software=\"software\" />\r\n        </b-table-column>\r\n\r\n        <b-table-column field=\"executable\" :label=\"$t('ui-runnable')\" centered sortable width=\"100\">\r\n          <boolean-item :value=\"software.executable\" />\r\n        </b-table-column>\r\n\r\n        <b-table-column field=\"selected\" :label=\"$t('status')\" sortable width=\"100\">\r\n          <button :disabled=\"loadingToggleSoftware[software.id]\" :class=\"['button', software.selected ? 'is-success' : 'is-danger']\" @click=\"toggleSoftware(software)\">\r\n            {{$t(software.selected ? 'enabled' : 'disabled')}}\r\n          </button>\r\n        </b-table-column>\r\n      </template>\r\n\r\n      <template #empty>\r\n        <div class=\"content has-text-grey has-text-centered\">\r\n          <p>{{$t('no-algorithm')}}</p>\r\n        </div>\r\n      </template>\r\n\r\n      <template #bottom-left>\r\n        <b-select v-model=\"perPage\" size=\"is-small\">\r\n          <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n          <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n          <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n          <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n        </b-select>\r\n      </template>\r\n    </b-table>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {SoftwareCollection, SoftwareProject, SoftwareProjectCollection} from 'cytomine-client';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\nimport SoftwareStatus from '@/components/software/SoftwareStatus';\r\nimport BooleanItem from '@/components/utils/BooleanItem';\r\n\r\nexport default {\r\n  name: 'project-softwares',\r\n  components: {\r\n    BooleanItem,\r\n    SoftwareStatus\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      searchString: '',\r\n      perPage: 10,\r\n\r\n      softwares: [],\r\n      loadingToggleSoftware: {}\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n\r\n    filteredSoftwares() {\r\n      let regexp = getWildcardRegexp(this.searchString);\r\n      return this.softwares.filter(software => regexp.test(software.name));\r\n    }\r\n  },\r\n  methods: {\r\n    async toggleSoftware(software) {\r\n      try {\r\n        this.$set(this.loadingToggleSoftware, software.id, true);\r\n        if(software.selected) {\r\n          await software.softwareProject.delete();\r\n          software.selected = false;\r\n        }\r\n        else {\r\n          let softwareProject = await new SoftwareProject({\r\n            software: software.id,\r\n            project: this.project.id\r\n          }).save();\r\n          software.softwareProject = softwareProject;\r\n          software.selected = true;\r\n        }\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-change-status-algorithm-project', {softwareName: software.name})\r\n        });\r\n      }\r\n      this.$set(this.loadingToggleSoftware, software.id, false);\r\n    },\r\n    sortBySoftwareStatus(a, b, asc) {\r\n      return ((asc) ? 1 : -1) * (this.getSoftwareStatusValue(a) - this.getSoftwareStatusValue(b));\r\n    },\r\n    getSoftwareStatusValue(software) {\r\n      if (!software.softwareVersion) return 0;\r\n      if (software.deprecated) return 1;\r\n      return 2;\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      let promiseSoftwares = SoftwareCollection.fetchAll();\r\n      let promiseSoftwareProjects = SoftwareProjectCollection.fetchAll({\r\n        filterKey: 'project',\r\n        filterValue: this.project.id\r\n      });\r\n\r\n      let softwares = (await promiseSoftwares).array;\r\n      let softwareProjects = (await promiseSoftwareProjects).array;\r\n\r\n      softwares.forEach(software => {\r\n        software.softwareProject = softwareProjects.find(sp => sp.software === software.id);\r\n        software.selected = (software.softwareProject !== undefined);\r\n      });\r\n\r\n      this.softwares = softwares;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.project-softwares-wrapper {\r\n  min-height: 40vh;\r\n}\r\n</style>\r\n\r\n<style>\r\n.project-softwares-wrapper .search-field {\r\n  max-width: 25em;\r\n}\r\n\r\n.project-softwares-wrapper .table {\r\n  margin-top: 1.5em;\r\n}\r\n\r\n.project-softwares-wrapper .table .button {\r\n  padding: 0 3em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSoftwares.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSoftwares.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectSoftwares.vue?vue&type=template&id=50b0beee&scoped=true&\"\nimport script from \"./ProjectSoftwares.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectSoftwares.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectSoftwares.vue?vue&type=style&index=0&id=50b0beee&prod&scoped=true&lang=css&\"\nimport style1 from \"./ProjectSoftwares.vue?vue&type=style&index=1&id=50b0beee&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50b0beee\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"project-image-filters-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):(!_vm.loading)?[_c('b-input',{staticClass:\"search-field\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('b-table',{attrs:{\"data\":_vm.filteredImageFilters,\"default-sort\":\"selected\",\"default-sort-direction\":\"desc\",\"paginated\":true,\"per-page\":_vm.perPage,\"pagination-size\":\"is-small\"},scopedSlots:_vm._u([{key:\"default\",fn:function({row: filter}){return [_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('name'),\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(filter.name)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"selected\",\"label\":_vm.$t('status'),\"sortable\":\"\"}},[_c('button',{class:['button', filter.selected ? 'is-success' : 'is-danger'],on:{\"click\":function($event){return _vm.toggleFilter(filter)}}},[_vm._v(\" \"+_vm._s(_vm.$t(filter.selected ? 'enabled' : 'disabled'))+\" \")])])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-image-filter')))])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}])})]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"project-image-filters-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n    <h2> {{ $t('error') }} </h2>\r\n    <p> {{ $t('unexpected-error-info-message') }} </p>\r\n  </b-message>\r\n  <template v-else-if=\"!loading\">\r\n    <b-input class=\"search-field\" v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\r\n\r\n    <b-table\r\n      :data=\"filteredImageFilters\"\r\n      default-sort=\"selected\"\r\n      default-sort-direction=\"desc\"\r\n      :paginated=\"true\"\r\n      :per-page=\"perPage\"\r\n      pagination-size=\"is-small\"\r\n    >\r\n\r\n      <template #default=\"{row: filter}\">\r\n        <b-table-column field=\"name\" :label=\"$t('name')\" sortable>\r\n          {{filter.name}}\r\n        </b-table-column>\r\n\r\n        <b-table-column field=\"selected\" :label=\"$t('status')\" sortable>\r\n          <button :class=\"['button', filter.selected ? 'is-success' : 'is-danger']\" @click=\"toggleFilter(filter)\">\r\n            {{$t(filter.selected ? 'enabled' : 'disabled')}}\r\n          </button>\r\n        </b-table-column>\r\n      </template>\r\n\r\n      <template #empty>\r\n        <div class=\"content has-text-grey has-text-centered\">\r\n          <p>{{$t('no-image-filter')}}</p>\r\n        </div>\r\n      </template>\r\n\r\n      <template #bottom-left>\r\n        <b-select v-model=\"perPage\" size=\"is-small\">\r\n          <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n          <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n          <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n          <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n        </b-select>\r\n      </template>\r\n    </b-table>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {ImageFilterCollection, ImageFilterProject, ImageFilterProjectCollection} from 'cytomine-client';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\n\r\nexport default {\r\n  name: 'project-image-filters',\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      searchString: '',\r\n      perPage: 10,\r\n\r\n      imageFilters: []\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n\r\n    filteredImageFilters() {\r\n      let regexp = getWildcardRegexp(this.searchString);\r\n      return this.imageFilters.filter(imgFilter => regexp.test(imgFilter.name));\r\n    }\r\n  },\r\n  methods: {\r\n    async toggleFilter(filter) {\r\n      try {\r\n        if(filter.selected) {\r\n          await filter.imageFilterProject.delete();\r\n          filter.selected = false;\r\n        }\r\n        else {\r\n          let filterProject = await new ImageFilterProject({\r\n            imageFilter: filter.id,\r\n            project: this.project.id\r\n          }).save();\r\n          filter.imageFilterProject = filterProject;\r\n          filter.selected = true;\r\n        }\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-change-status-image-filter-project', {filterName: filter.name})\r\n        });\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      let promiseFilters = ImageFilterCollection.fetchAll();\r\n      let promiseFiltersProjects = ImageFilterProjectCollection.fetchAll({\r\n        filterKey: 'project',\r\n        filterValue: this.project.id\r\n      });\r\n\r\n      let filters = (await promiseFilters).array.filter(filter => filter.available);\r\n      let filtersProject = (await promiseFiltersProjects).array;\r\n\r\n      filters.forEach(filter => {\r\n        filter.imageFilterProject = filtersProject.find(fp => fp.imageFilter === filter.id);\r\n        filter.selected = (filter.imageFilterProject !== undefined);\r\n      });\r\n\r\n      this.imageFilters = filters;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.project-image-filters-wrapper {\r\n  min-height: 40vh;\r\n}\r\n</style>\r\n\r\n<style>\r\n.project-image-filters-wrapper .search-field {\r\n  max-width: 25em;\r\n}\r\n\r\n.project-image-filters-wrapper .table {\r\n  margin-top: 1.5em;\r\n}\r\n\r\n.project-image-filters-wrapper .table .button {\r\n  padding: 0 3em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectImageFilters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectImageFilters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectImageFilters.vue?vue&type=template&id=646ef45a&scoped=true&\"\nimport script from \"./ProjectImageFilters.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectImageFilters.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectImageFilters.vue?vue&type=style&index=0&id=646ef45a&prod&scoped=true&lang=css&\"\nimport style1 from \"./ProjectImageFilters.vue?vue&type=style&index=1&id=646ef45a&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"646ef45a\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box error\" v-if=\"!configUI['project-configuration-tab']\">\r\n  <h2> {{ $t('access-denied') }} </h2>\r\n  <p>{{ $t('insufficient-permission') }}</p>\r\n</div>\r\n<div class=\"content-wrapper\" v-else>\r\n  <b-field class=\"radio-buttons-fullwidth\">\r\n    <b-radio-button v-model=\"activeTab\" native-value=\"general\" type=\"is-link\">\r\n      {{$t('general')}}\r\n    </b-radio-button>\r\n\r\n    <b-radio-button v-model=\"activeTab\" native-value=\"members\" type=\"is-link\">\r\n      {{$t('members')}}\r\n    </b-radio-button>\r\n\r\n    <b-radio-button v-model=\"activeTab\" native-value=\"customUI\" type=\"is-link\">\r\n      {{$t('custom-ui')}}\r\n    </b-radio-button>\r\n\r\n    <b-radio-button v-show=\"algoEnabled\" v-model=\"activeTab\" native-value=\"algorithms\" type=\"is-link\">\r\n      {{$t('algorithms')}}\r\n    </b-radio-button>\r\n\r\n    <b-radio-button v-model=\"activeTab\" native-value=\"imageFilters\" type=\"is-link\">\r\n      {{$t('image-filters')}}\r\n    </b-radio-button>\r\n  </b-field>\r\n\r\n  <div class=\"box tab-content\">\r\n    <keep-alive>\r\n      <component :is=\"activeComponent\" />\r\n    </keep-alive>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport constants from '@/utils/constants.js';\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport GeneralConfiguration from './configuration-panels/GeneralConfiguration';\r\nimport ProjectMembers from './configuration-panels/ProjectMembers';\r\nimport CustomUIProject from './configuration-panels/CustomUIProject';\r\nimport ProjectSoftwares from './configuration-panels/ProjectSoftwares';\r\nimport ProjectImageFilters from './configuration-panels/ProjectImageFilters';\r\n\r\nconst defaultTab = 'general';\r\n\r\nexport default {\r\n  name: 'project-configuration',\r\n  data() {\r\n    return {\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      activeTab: defaultTab\r\n    };\r\n  },\r\n  computed: {\r\n    configUI: get('currentProject/configUI'),\r\n    queriedTab() {\r\n      return this.$route.query.tab;\r\n    },\r\n    // eslint-disable-next-line vue/return-in-computed-property\r\n    activeComponent() {\r\n      switch(this.activeTab) {\r\n        case 'general':\r\n          return GeneralConfiguration;\r\n        case 'members':\r\n          return ProjectMembers;\r\n        case 'customUI':\r\n          return CustomUIProject;\r\n        case 'algorithms':\r\n          return ProjectSoftwares;\r\n        case 'imageFilters':\r\n          return ProjectImageFilters;\r\n      }\r\n      throw new Error('Cannot load active tabs ' + this.activeTab);\r\n    }\r\n  },\r\n  watch: {\r\n    queriedTab() {\r\n      this.changeTab();\r\n    },\r\n    activeTab() {\r\n      if(this.activeTab !== defaultTab || this.queriedTab) {\r\n        this.$router.push(`?tab=${this.activeTab}`);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    changeTab() {\r\n      this.activeTab = this.$route.query.tab || defaultTab;\r\n      if(!this.activeComponent) {\r\n        this.activeTab = defaultTab;\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    this.changeTab();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.tab-content {\r\n  position: relative;\r\n  min-height: 20em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectConfiguration.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectConfiguration.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectConfiguration.vue?vue&type=template&id=b2c4095a&scoped=true&\"\nimport script from \"./ProjectConfiguration.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectConfiguration.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectConfiguration.vue?vue&type=style&index=0&id=b2c4095a&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b2c4095a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"content-wrapper\"},[_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-user\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t('profile'))+\" \")]),_c('div',{staticClass:\"panel-block\"},[_c('form',{attrs:{\"data-vv-scope\":\"profile\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.editDetails()}}},[(_vm.currentUser.isDeveloper)?_c('b-field',{attrs:{\"label\":_vm.$t('id'),\"horizontal\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.currentUser.id)+\" \")]):_vm._e(),_c('b-field',{attrs:{\"label\":_vm.$t('username'),\"horizontal\":\"\"}},[_c('b-input',{attrs:{\"value\":_vm.currentUser.username,\"disabled\":\"\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('role'),\"horizontal\":\"\"}},[_c('span',{staticClass:\"tag\",class:_vm.role.class},[_vm._v(_vm._s(_vm.$t(_vm.role.label)))])]),_c('b-field',{attrs:{\"label\":_vm.$t('lastname'),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has('profile.lastname')},\"message\":_vm.errors.first('profile.lastname')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"lastname\"},model:{value:(_vm.updatedUser.lastname),callback:function ($$v) {_vm.$set(_vm.updatedUser, \"lastname\", $$v)},expression:\"updatedUser.lastname\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('firstname'),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has('profile.firstname')},\"message\":_vm.errors.first('profile.firstname')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"firstname\"},model:{value:(_vm.updatedUser.firstname),callback:function ($$v) {_vm.$set(_vm.updatedUser, \"firstname\", $$v)},expression:\"updatedUser.firstname\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('email'),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has('profile.email')},\"message\":_vm.errors.first('profile.email')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|email'),expression:\"'required|email'\"}],attrs:{\"name\":\"email\"},model:{value:(_vm.updatedUser.email),callback:function ($$v) {_vm.$set(_vm.updatedUser, \"email\", $$v)},expression:\"updatedUser.email\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('language'),\"horizontal\":\"\"}},[_c('b-select',{model:{value:(_vm.updatedUser.language),callback:function ($$v) {_vm.$set(_vm.updatedUser, \"language\", $$v)},expression:\"updatedUser.language\"}},_vm._l((_vm.languages),function({value, name}){return _c('option',{key:value,domProps:{\"value\":value}},[_vm._v(\" \"+_vm._s(name)+\" \")])}),0)],1),_c('b-field',{attrs:{\"grouped\":\"\",\"position\":\"is-right\"}},[_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any('profile')}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save')))])])])],1)])]),_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-briefcase\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t('password'))+\" \")]),_c('div',{staticClass:\"panel-block\"},[_c('form',{attrs:{\"data-vv-scope\":\"password\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.savePassword()}}},[_c('input',{staticClass:\"hidden\",attrs:{\"id\":\"password\",\"type\":\"password\"}}),_vm._v(\" \"),(_vm.currentUser.passwordExpired)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('password-expired-info-message'))+\" \")]):_c('b-field',{attrs:{\"label\":_vm.$t('password-current'),\"horizontal\":\"\",\"type\":_vm.typeCurrentPassword,\"message\":_vm.messageCurrentPassword}},[_c('b-input',{attrs:{\"type\":\"password\",\"loading\":_vm.isCheckingPassword},model:{value:(_vm.currentPassword),callback:function ($$v) {_vm.currentPassword=$$v},expression:\"currentPassword\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('password-new'),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has('password.newPassword')},\"message\":_vm.errors.first('password.newPassword')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|min:8'),expression:\"'required|min:8'\"}],attrs:{\"type\":\"password\",\"name\":\"newPassword\",\"disabled\":_vm.newPasswordDisabled},model:{value:(_vm.newPassword),callback:function ($$v) {_vm.newPassword=$$v},expression:\"newPassword\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('password-confirm'),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has('password.confirmPassword')},\"message\":_vm.errors.first('password.confirmPassword')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:({required: true, is: _vm.newPassword}),expression:\"{required: true, is: newPassword}\"}],attrs:{\"type\":\"password\",\"name\":\"confirmPassword\",\"disabled\":_vm.newPasswordDisabled},model:{value:(_vm.confirmPassword),callback:function ($$v) {_vm.confirmPassword=$$v},expression:\"confirmPassword\"}})],1),_c('b-field',{attrs:{\"grouped\":\"\",\"position\":\"is-right\"}},[_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any('password') || _vm.newPasswordDisabled}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])])])],1)])]),_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-exchange-alt\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t('api-keys'))+\" \")]),_c('div',{staticClass:\"panel-block\"},[_c('b-field',{attrs:{\"label\":_vm.$t('public-key'),\"horizontal\":\"\"}},[_c('b-field',[_c('b-input',{attrs:{\"value\":_vm.currentUser.publicKey,\"readonly\":\"\",\"expanded\":\"\"}}),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.copy(_vm.currentUser.publicKey)}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"far fa-clipboard\"})]),_c('span',[_vm._v(_vm._s(_vm.$t('button-copy')))])])])],1)],1),_c('b-field',{attrs:{\"label\":_vm.$t('private-key'),\"horizontal\":\"\"}},[_c('b-field',[_c('b-input',{attrs:{\"value\":_vm.currentUser.privateKey,\"readonly\":\"\",\"expanded\":\"\"}}),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.copy(_vm.currentUser.privateKey)}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"far fa-clipboard\"})]),_c('span',[_vm._v(_vm._s(_vm.$t('button-copy')))])])])],1)],1),_c('b-field',{attrs:{\"grouped\":\"\",\"position\":\"is-right\"}},[_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.regenerateKeys()}}},[_vm._v(_vm._s(_vm.$t('regenerate-api-keys')))])])])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport Vue from 'vue';\r\nimport VueI18n from 'vue-i18n';\r\n\r\nVue.use(VueI18n);\r\n\r\nexport default new VueI18n({\r\n  locale: 'en',\r\n  fallbackLocale: 'en',\r\n  messages: {\r\n    'en': require('./locales/json/en.i18n.json'),\r\n    'es': require('./locales/json/es.i18n.json'),\r\n    'fr': require('./locales/json/fr.i18n.json'),\r\n    'nl': require('./locales/json/nl.i18n.json')\r\n  }\r\n});\r\n\r\nexport const changeLanguageMixin = {\r\n  methods: {\r\n    changeLanguage(language) {\r\n      language = language || this.$i18n.fallbackLocale;\r\n      let locale = language.toLowerCase();\r\n      this.$i18n.locale = locale;\r\n      this.$moment.locale(locale);\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport const rolesMapping = Object.freeze({\r\n  'ROLE_GUEST': {label: 'guest', index: 0, class: 'is-light'},\r\n  'ROLE_USER': {label: 'user', index: 1, class: 'is-link'},\r\n  'ROLE_ADMIN': {label: 'admin', index: 2, class: 'is-success'},\r\n  'ROLE_SUPER_ADMIN': {label: 'super-admin', index: 3, class: 'is-success'},\r\n});\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"content-wrapper\">\r\n  <div class=\"panel\">\r\n    <p class=\"panel-heading\">\r\n      <i class=\"fas fa-user\" aria-hidden=\"true\"></i>\r\n      {{ $t('profile') }}\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <form @submit.prevent=\"editDetails()\" data-vv-scope=\"profile\">\r\n        <b-field :label=\"$t('id')\" horizontal v-if=\"currentUser.isDeveloper\">\r\n          {{currentUser.id}}\r\n        </b-field>\r\n\r\n        <b-field :label=\"$t('username')\" horizontal>\r\n          <b-input :value=\"currentUser.username\" disabled />\r\n        </b-field>\r\n\r\n        <b-field :label=\"$t('role')\" horizontal>\r\n          <span class=\"tag\" :class=\"role.class\">{{$t(role.label)}}</span>\r\n        </b-field>\r\n\r\n        <b-field\r\n          :label=\"$t('lastname')\"\r\n          horizontal\r\n          :type=\"{'is-danger': errors.has('profile.lastname')}\"\r\n          :message=\"errors.first('profile.lastname')\"\r\n        >\r\n          <b-input v-model=\"updatedUser.lastname\" name=\"lastname\" v-validate=\"'required'\" />\r\n        </b-field>\r\n\r\n        <b-field\r\n          :label=\"$t('firstname')\"\r\n          horizontal\r\n          :type=\"{'is-danger': errors.has('profile.firstname')}\"\r\n          :message=\"errors.first('profile.firstname')\"\r\n        >\r\n          <b-input v-model=\"updatedUser.firstname\" name=\"firstname\" v-validate=\"'required'\" />\r\n        </b-field>\r\n\r\n        <b-field\r\n          :label=\"$t('email')\"\r\n          horizontal\r\n          :type=\"{'is-danger': errors.has('profile.email')}\"\r\n          :message=\"errors.first('profile.email')\"\r\n        >\r\n          <b-input v-model=\"updatedUser.email\" name=\"email\" v-validate=\"'required|email'\" />\r\n        </b-field>\r\n\r\n        <b-field :label=\"$t('language')\" horizontal>\r\n          <b-select v-model=\"updatedUser.language\">\r\n            <option v-for=\"{value, name} in languages\" :key=\"value\" :value=\"value\">\r\n              {{name}}\r\n            </option>\r\n          </b-select>\r\n        </b-field>\r\n\r\n        <b-field grouped position=\"is-right\">\r\n          <div class=\"control\">\r\n            <button class=\"button is-link\" :disabled=\"errors.any('profile')\"> {{$t('button-save')}}</button>\r\n          </div>\r\n        </b-field>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"panel\">\r\n    <p class=\"panel-heading\">\r\n      <i class=\"fas fa-briefcase\" aria-hidden=\"true\"></i>\r\n      {{ $t('password') }}\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <form @submit.prevent=\"savePassword()\" data-vv-scope=\"password\">\r\n        <input id=\"password\" class=\"hidden\" type=\"password\"> <!-- HACK: fake field to prevent autofill -->\r\n\r\n        <b-message v-if=\"currentUser.passwordExpired\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n          {{$t('password-expired-info-message')}}\r\n        </b-message>\r\n\r\n        <b-field\r\n          v-else\r\n          :label=\"$t('password-current')\"\r\n          horizontal\r\n          :type=\"typeCurrentPassword\"\r\n          :message=\"messageCurrentPassword\"\r\n        >\r\n          <b-input type=\"password\" v-model=\"currentPassword\" :loading=\"isCheckingPassword\" />\r\n        </b-field>\r\n\r\n        <b-field\r\n          :label=\"$t('password-new')\"\r\n          horizontal\r\n          :type=\"{'is-danger': errors.has('password.newPassword')}\"\r\n          :message=\"errors.first('password.newPassword')\"\r\n        >\r\n          <b-input\r\n            type=\"password\"\r\n            v-model=\"newPassword\"\r\n            name=\"newPassword\"\r\n            v-validate=\"'required|min:8'\"\r\n            :disabled=\"newPasswordDisabled\"\r\n          />\r\n        </b-field>\r\n\r\n        <b-field\r\n          :label=\"$t('password-confirm')\"\r\n          horizontal\r\n          :type=\"{'is-danger': errors.has('password.confirmPassword')}\"\r\n          :message=\"errors.first('password.confirmPassword')\"\r\n        >\r\n          <b-input\r\n            type=\"password\"\r\n            v-model=\"confirmPassword\"\r\n            name=\"confirmPassword\"\r\n            v-validate=\"{required: true, is: newPassword}\"\r\n            :disabled=\"newPasswordDisabled\"\r\n          />\r\n        </b-field>\r\n\r\n        <b-field grouped position=\"is-right\">\r\n          <div class=\"control\">\r\n            <button class=\"button is-link\" :disabled=\"errors.any('password') || newPasswordDisabled\">\r\n              {{$t('button-save')}}\r\n            </button>\r\n          </div>\r\n        </b-field>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"panel\"> <!-- QUESTION: remove ? or only show for technical users ? -->\r\n    <p class=\"panel-heading\">\r\n      <i class=\"fas fa-exchange-alt\" aria-hidden=\"true\"></i>\r\n      {{ $t('api-keys') }}\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <b-field :label=\"$t('public-key')\" horizontal>\r\n        <b-field>\r\n          <b-input :value=\"currentUser.publicKey\" readonly expanded />\r\n          <p class=\"control\">\r\n            <button class=\"button\" @click=\"copy(currentUser.publicKey)\">\r\n              <span class=\"icon\"><i class=\"far fa-clipboard\"></i></span>\r\n              <span>{{$t('button-copy')}}</span>\r\n            </button>\r\n          </p>\r\n        </b-field>\r\n      </b-field>\r\n\r\n      <b-field :label=\"$t('private-key')\" horizontal>\r\n        <b-field>\r\n          <b-input :value=\"currentUser.privateKey\" readonly expanded />\r\n          <p class=\"control\">\r\n            <button class=\"button\" @click=\"copy(currentUser.privateKey)\">\r\n              <span class=\"icon\"><i class=\"far fa-clipboard\"></i></span>\r\n              <span>{{$t('button-copy')}}</span>\r\n            </button>\r\n          </p>\r\n        </b-field>\r\n      </b-field>\r\n\r\n      <b-field grouped position=\"is-right\">\r\n        <div class=\"control\">\r\n          <button class=\"button is-link\" @click=\"regenerateKeys()\">{{$t('regenerate-api-keys')}}</button>\r\n        </div>\r\n      </b-field>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {changeLanguageMixin} from '@/lang.js';\r\nimport _ from 'lodash';\r\nimport {User} from 'cytomine-client';\r\nimport {rolesMapping} from '@/utils/role-utils';\r\nimport copyToClipboard from 'copy-to-clipboard';\r\n\r\nexport default {\r\n  name: 'Account',\r\n  $_veeValidate: {validator: 'new'},\r\n  mixins: [changeLanguageMixin],\r\n  data() {\r\n    return {\r\n      updatedUser: this.$store.state.currentUser.user.clone(),\r\n      currentPassword: '',\r\n      isCheckingPassword: false,\r\n      correctPassword: false,\r\n      newPassword: '',\r\n      confirmPassword: '',\r\n      languages: [\r\n        {value: 'EN', name:'English'},\r\n        {value: 'FR', name:'Français'},\r\n        {value: 'ES', name:'Español'},\r\n        {value: 'NL', name:'Nederlands'}\r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    role() {\r\n      let key = this.currentUser.guestByNow ? 'ROLE_GUEST' : this.currentUser.adminByNow ? 'ROLE_ADMIN' : 'ROLE_USER';\r\n      return rolesMapping[key];\r\n    },\r\n    newPasswordDisabled() {\r\n      return !this.correctPassword && !this.currentUser.passwordExpired;\r\n    },\r\n    messageCurrentPassword() {\r\n      if(!this.currentPassword || this.isCheckingPassword) {\r\n        return;\r\n      }\r\n      return this.correctPassword ? '' : this.$t('invalid-password');\r\n    },\r\n    typeCurrentPassword() {\r\n      if(!this.currentPassword || this.isCheckingPassword) {\r\n        return;\r\n      }\r\n      return this.correctPassword ? 'is-success' : 'is-danger';\r\n    }\r\n  },\r\n  watch: {\r\n    currentPassword() {\r\n      this.isCheckingPassword = true;\r\n      this.checkPassword();\r\n    }\r\n  },\r\n  methods: {\r\n    async editDetails() {\r\n      let result = await this.$validator.validateAll('profile');\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        await this.$store.dispatch('currentUser/updateUser', this.updatedUser);\r\n        this.changeLanguage(this.currentUser.language);\r\n        this.$notify({type: 'success', text: this.$t('notif-success-user-details-saved')});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-user-details-not-saved')});\r\n      }\r\n    },\r\n\r\n    async savePassword() {\r\n      let result = await this.$validator.validateAll('password');\r\n      if(!result || (!this.correctPassword && !this.currentUser.passwordExpired)) {\r\n        return;\r\n      }\r\n\r\n      let userNewPassword = this.currentUser.clone();\r\n      userNewPassword.password = this.newPassword;\r\n      try {\r\n        await this.$store.dispatch('currentUser/updateUser', userNewPassword);\r\n        this.$notify({type: 'success', text: this.$t('notif-success-password-saved')});\r\n        this.currentPassword = '';\r\n        this.newPassword = '';\r\n        this.confirmPassword = '';\r\n        this.$validator.reset({scope: 'password'});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-password-not-saved')});\r\n      }\r\n    },\r\n\r\n    checkPassword: _.debounce(async function() {\r\n      this.correctPassword = await User.checkCurrentPassword(this.currentPassword);\r\n      if(!this.correctPassword) {\r\n        this.newPassword = '';\r\n        this.confirmPassword = '';\r\n        this.$validator.reset({scope: 'password'});\r\n      }\r\n      this.isCheckingPassword = false;\r\n    }, 500),\r\n\r\n    copy(value) {\r\n      copyToClipboard(value);\r\n      this.$notify({type: 'success', text: this.$t('notif-success-key-copied')});\r\n    },\r\n\r\n    async regenerateKeys() {\r\n      try {\r\n        await this.$store.dispatch('currentUser/regenerateKeys');\r\n        this.$notify({type: 'success', text: this.$t('notif-success-keys-regenerated')});\r\n      }\r\n      catch(err) {\r\n        this.$notify({type: 'error', text: this.$t('notif-error-keys-not-regenerated')});\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.panel {\r\n  max-width: 80em;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\n\r\n.fas {\r\n  margin-right: 0.3em;\r\n}\r\n\r\ninput.hidden {\r\n  display: none;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Account.vue?vue&type=template&id=31271cb5&scoped=true&\"\nimport script from \"./Account.vue?vue&type=script&lang=js&\"\nexport * from \"./Account.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Account.vue?vue&type=style&index=0&id=31271cb5&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31271cb5\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('unexpected-error-info-message')))])]):_c('div',{staticClass:\"content-wrapper\"},[_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('advanced-search'))+\" \")]),_c('div',{staticClass:\"panel-block\"},[_c('div',{staticClass:\"search-block\"},[_c('b-input',{staticClass:\"search-projects\",attrs:{\"value\":_vm.searchString,\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},on:{\"input\":_vm.debounceSearchString}})],1),_c('b-collapse',{attrs:{\"open\":\"\"}},[_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('tags'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableTags,\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"allPlaceholder\":_vm.$t('all')},model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})],1)]),_c('div',{staticClass:\"column filter\"}),_c('div',{staticClass:\"column filter\"})])])])],1),_c('p',{staticClass:\"panel-tabs\"},[_c('a',{class:{'is-active': _vm.activeTab === 'projects'},on:{\"click\":function($event){_vm.activeTab = 'projects'}}},[_vm._v(\" \"+_vm._s(_vm.$t('projects'))+\" (\"+_vm._s(this.projects.totalNbItems)+\") \")]),_c('a',{class:{'is-active': _vm.activeTab === 'images'},on:{\"click\":function($event){_vm.activeTab = 'images'}}},[_vm._v(\" \"+_vm._s(_vm.$t('images'))+\" (\"+_vm._s(this.images.totalNbItems)+\") \")])]),_c('div',{staticClass:\"panel-block\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === 'projects'),expression:\"activeTab === 'projects'\"}],key:'projects'},[_c('cytomine-table',{staticClass:\"table-projects\",attrs:{\"collection\":_vm.projectCollection,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"openedDetailed\":_vm.openedDetails,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"data\":_vm.projects,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event},\"update:data\":function($event){_vm.projects=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function({row: project}){return [_c('b-table-column',{attrs:{\"field\":\"currentUserRole\",\"label\":\"\",\"centered\":\"\",\"width\":\"1\",\"sortable\":\"\"}},[_c('icon-project-member-role',{attrs:{\"is-manager\":project.currentUserRoles.admin,\"is-representative\":project.currentUserRoles.representative}})],1),_c('b-table-column',{attrs:{\"label\":_vm.$t('id'),\"width\":\"20\",\"visible\":_vm.currentUser.isDeveloper}},[_vm._v(\" \"+_vm._s(project.id)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"250\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}`}},[_vm._v(\" \"+_vm._s(project.name)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"membersCount\",\"label\":_vm.$t('members'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(project.membersCount)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"numberOfImages\",\"label\":_vm.$t('images'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}/images`}},[_vm._v(_vm._s(project.numberOfImages))])],1),_c('b-table-column',{attrs:{\"field\":\"numberOfAnnotations\",\"label\":_vm.$t('user-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}/annotations?type=user`}},[_vm._v(\" \"+_vm._s(project.numberOfAnnotations)+\" \")])],1),(_vm.algoEnabled)?_c('b-table-column',{attrs:{\"field\":\"numberOfJobAnnotations\",\"label\":_vm.$t('analysis-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}/annotations?type=algo`}},[_vm._v(\" \"+_vm._s(project.numberOfJobAnnotations)+\" \")])],1):_vm._e(),_c('b-table-column',{attrs:{\"field\":\"numberOfReviewedAnnotations\",\"label\":_vm.$t('reviewed-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":`/project/${project.id}/annotations?type=reviewed`}},[_vm._v(\" \"+_vm._s(project.numberOfReviewedAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"lastActivity\",\"label\":_vm.$t('last-activity'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"180\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(project.lastActivity),'ll'))+\" \")]),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\",\"width\":\"150\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":`/project/${project.id}`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-open'))+\" \")])],1)]}},{key:\"detail\",fn:function({row: project}){return [_c('project-details',{attrs:{\"project\":project,\"excluded-properties\":_vm.excludedProperties},on:{\"update\":function($event){return _vm.updateProject()},\"delete\":function($event){return _vm.deleteProject(project)}}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-project')))])])]},proxy:true}])}),_c('div',{staticClass:\"legend\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('legend')))]),_c('p',[_c('icon-project-member-role'),_vm._v(\" : \"+_vm._s(_vm.$t('contributor-icon-label')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('manager-icon-label')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true,\"is-representative\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('representative-icon-label')))],1)])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === 'images'),expression:\"activeTab === 'images'\"}],key:'images'},[_c('cytomine-table',{attrs:{\"collection\":_vm.imageCollection,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"openedDetailed\":_vm.openedDetails,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"data\":_vm.images,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event},\"update:data\":function($event){_vm.images=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function({row: image}){return [_c('b-table-column',{attrs:{\"label\":_vm.$t('id'),\"width\":\"20\",\"visible\":_vm.currentUser.isDeveloper}},[_vm._v(\" \"+_vm._s(image.id)+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('overview'),\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/image/${image.id}`}},[_c('image-thumbnail',{key:`${image.id}-thumb-128`,attrs:{\"image\":image,\"size\":128,\"extra-parameters\":{Authorization: 'Bearer ' + _vm.shortTermToken }}})],1)],1),_c('b-table-column',{attrs:{\"field\":image.projectBlind ? 'blindedName' : 'instanceFilename',\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"400\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/image/${image.id}`}},[_c('image-name',{attrs:{\"image\":image,\"showBothNames\":\"\"}})],1)],1),_c('b-table-column',{attrs:{\"field\":'projectName',\"label\":_vm.$t('project'),\"width\":\"200\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}`}},[_vm._v(\" \"+_vm._s(image.projectName)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"magnification\",\"label\":_vm.$t('magnification'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_vm._v(\" \"+_vm._s(image.magnification || _vm.$t('unknown'))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"numberOfAnnotations\",\"label\":_vm.$t('user-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/annotations?image=${image.id}&type=user`}},[_vm._v(\" \"+_vm._s(image.numberOfAnnotations)+\" \")])],1),(_vm.algoEnabled)?_c('b-table-column',{attrs:{\"field\":\"numberOfJobAnnotations\",\"label\":_vm.$t('analysis-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/annotations?image=${image.id}&type=algo`}},[_vm._v(\" \"+_vm._s(image.numberOfJobAnnotations)+\" \")])],1):_vm._e(),_c('b-table-column',{attrs:{\"field\":\"numberOfReviewedAnnotations\",\"label\":_vm.$t('reviewed-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":`/project/${image.project}/annotations?image=${image.id}&type=reviewed`}},[_vm._v(\" \"+_vm._s(image.numberOfReviewedAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\",\"width\":\"150\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":`/project/${image.project}/image/${image.id}`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-open'))+\" \")])],1)]}},{key:\"detail\",fn:function({row: image}){return [_c('image-details',{attrs:{\"image\":image,\"excludedProperties\":_vm.excludedProperties}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-image')))])])]},proxy:true}])})],1)],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box error\" v-if=\"error\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p>{{ $t('unexpected-error-info-message') }}</p>\r\n</div>\r\n<div v-else class=\"content-wrapper\">\r\n  <div class=\"panel\">\r\n    <p class=\"panel-heading\">\r\n      {{$t('advanced-search')}}\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <div class=\"search-block\">\r\n        <b-input class=\"search-projects\" :value=\"searchString\" @input=\"debounceSearchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\r\n      </div>\r\n\r\n      <b-collapse open>\r\n        <div class=\"filters\">\r\n          <div class=\"columns\">\r\n            <div class=\"column filter\">\r\n              <div class=\"filter-label\">\r\n                {{$t('tags')}}\r\n              </div>\r\n              <div class=\"filter-body\">\r\n                <cytomine-multiselect v-model=\"selectedTags\" :options=\"availableTags\"\r\n                  label=\"name\" track-by=\"id\" :multiple=\"true\" :allPlaceholder=\"$t('all')\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"column filter\">\r\n            </div>\r\n            <div class=\"column filter\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </b-collapse>\r\n\r\n\r\n    </div>\r\n    <p class=\"panel-tabs\">\r\n      <a :class=\"{'is-active': activeTab === 'projects'}\" @click=\"activeTab = 'projects'\">\r\n        {{$t('projects')}} ({{this.projects.totalNbItems}})\r\n      </a>\r\n      <a :class=\"{'is-active': activeTab === 'images'}\" @click=\"activeTab = 'images'\">\r\n        {{$t('images')}} ({{this.images.totalNbItems}})\r\n      </a>\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n\r\n      <div\r\n        v-show=\"activeTab === 'projects'\"\r\n        :key=\"'projects'\"\r\n      >\r\n        <cytomine-table\r\n          :collection=\"projectCollection\"\r\n          class=\"table-projects\"\r\n          :currentPage.sync=\"currentPage\"\r\n          :perPage.sync=\"perPage\"\r\n          :openedDetailed.sync=\"openedDetails\"\r\n          :sort.sync=\"sortField\"\r\n          :order.sync=\"sortOrder\"\r\n          :data.sync=\"projects\"\r\n          :revision=\"revision\"\r\n        >\r\n          <template #default=\"{row: project}\">\r\n            <b-table-column field=\"currentUserRole\" label=\"\" centered width=\"1\" sortable>\r\n              <icon-project-member-role\r\n                :is-manager=\"project.currentUserRoles.admin\"\r\n                :is-representative=\"project.currentUserRoles.representative\"\r\n              />\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('id')\" width=\"20\" :visible=\"currentUser.isDeveloper\">\r\n              {{project.id}}\r\n            </b-table-column>\r\n\r\n            <b-table-column field=\"name\" :label=\"$t('name')\" sortable width=\"250\">\r\n              <router-link :to=\"`/project/${project.id}`\">\r\n                {{ project.name }}\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column field=\"membersCount\" :label=\"$t('members')\" centered sortable width=\"150\">\r\n              {{ project.membersCount }}\r\n            </b-table-column>\r\n\r\n            <b-table-column field=\"numberOfImages\" :label=\"$t('images')\" centered sortable width=\"150\">\r\n              <router-link :to=\"`/project/${project.id}/images`\">{{ project.numberOfImages }}</router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column field=\"numberOfAnnotations\" :label=\"$t('user-annotations')\" centered sortable width=\"150\">\r\n              <router-link :to=\"`/project/${project.id}/annotations?type=user`\">\r\n                {{ project.numberOfAnnotations }}\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column v-if=\"algoEnabled\" field=\"numberOfJobAnnotations\" :label=\"$t('analysis-annotations')\" centered sortable width=\"150\">\r\n              <router-link :to=\"`/project/${project.id}/annotations?type=algo`\">\r\n                {{ project.numberOfJobAnnotations }}\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column field=\"numberOfReviewedAnnotations\" :label=\"$t('reviewed-annotations')\" centered sortable width=\"150\">\r\n              <router-link :to=\"`/project/${project.id}/annotations?type=reviewed`\">\r\n                {{ project.numberOfReviewedAnnotations }}\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column field=\"lastActivity\" :label=\"$t('last-activity')\" centered sortable width=\"180\">\r\n              {{ Number(project.lastActivity) | moment('ll') }}\r\n            </b-table-column>\r\n\r\n            <b-table-column label=\" \" centered width=\"150\">\r\n              <router-link :to=\"`/project/${project.id}`\" class=\"button is-small is-link\">\r\n                {{$t('button-open')}}\r\n              </router-link>\r\n            </b-table-column>\r\n          </template>\r\n\r\n          <template #detail=\"{row: project}\">\r\n            <project-details\r\n              :project=\"project\"\r\n              :excluded-properties=\"excludedProperties\"\r\n              @update=\"updateProject()\"\r\n              @delete=\"deleteProject(project)\"\r\n            />\r\n          </template>\r\n\r\n          <template #empty>\r\n            <div class=\"content has-text-grey has-text-centered\">\r\n              <p>{{$t('no-project')}}</p>\r\n            </div>\r\n          </template>\r\n        </cytomine-table>\r\n\r\n        <div class=\"legend\">\r\n            <h2>{{$t('legend')}}</h2>\r\n          <p><icon-project-member-role /> : {{$t('contributor-icon-label')}}</p>\r\n          <p><icon-project-member-role :is-manager=\"true\" /> : {{$t('manager-icon-label')}}</p>\r\n          <p><icon-project-member-role :is-manager=\"true\" :is-representative=\"true\" /> : {{$t('representative-icon-label')}}</p>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <div\r\n      v-show=\"activeTab === 'images'\"\r\n      :key=\"'images'\"\r\n      >\r\n        <cytomine-table\r\n          :collection=\"imageCollection\"\r\n          :currentPage.sync=\"currentPage\"\r\n          :perPage.sync=\"perPage\"\r\n          :openedDetailed.sync=\"openedDetails\"\r\n          :sort.sync=\"sortField\"\r\n          :order.sync=\"sortOrder\"\r\n          :data.sync=\"images\"\r\n          :revision=\"revision\"\r\n        >\r\n          <template #default=\"{row: image}\">\r\n            <b-table-column :label=\"$t('id')\" width=\"20\" :visible=\"currentUser.isDeveloper\">\r\n              {{image.id}}\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('overview')\" width=\"100\">\r\n              <router-link :to=\"`/project/${image.project}/image/${image.id}`\">\r\n                <image-thumbnail :image=\"image\" :size=\"128\" :key=\"`${image.id}-thumb-128`\" :extra-parameters=\"{Authorization: 'Bearer ' + shortTermToken }\"/>\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column\r\n              :field=\"image.projectBlind ? 'blindedName' : 'instanceFilename'\"\r\n              :label=\"$t('name')\"\r\n              sortable\r\n              width=\"400\"\r\n            >\r\n              <router-link :to=\"`/project/${image.project}/image/${image.id}`\">\r\n                <image-name :image=\"image\" showBothNames />\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column\r\n              :field=\"'projectName'\"\r\n              :label=\"$t('project')\"\r\n              width=\"200\"\r\n            >\r\n              <router-link :to=\"`/project/${image.project}`\">\r\n                {{ image.projectName }}\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column field=\"magnification\" :label=\"$t('magnification')\" centered sortable width=\"100\">\r\n              {{ image.magnification || $t('unknown') }}\r\n            </b-table-column>\r\n\r\n            <b-table-column field=\"numberOfAnnotations\" :label=\"$t('user-annotations')\" centered sortable width=\"100\">\r\n              <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=user`\">\r\n                {{ image.numberOfAnnotations }}\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column  v-if=\"algoEnabled\" field=\"numberOfJobAnnotations\" :label=\"$t('analysis-annotations')\" centered sortable width=\"100\">\r\n              <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=algo`\">\r\n                {{ image.numberOfJobAnnotations }}\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column field=\"numberOfReviewedAnnotations\" :label=\"$t('reviewed-annotations')\" centered sortable width=\"100\">\r\n              <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=reviewed`\">\r\n                {{ image.numberOfReviewedAnnotations }}\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column label=\" \" centered width=\"150\">\r\n              <router-link :to=\"`/project/${image.project}/image/${image.id}`\" class=\"button is-small is-link\">\r\n                {{$t('button-open')}}\r\n              </router-link>\r\n            </b-table-column>\r\n          </template>\r\n\r\n          <template #detail=\"{row: image}\">\r\n            <image-details\r\n              :image=\"image\"\r\n              :excludedProperties=\"excludedProperties\"\r\n            />\r\n          </template>\r\n\r\n          <template #empty>\r\n            <div class=\"content has-text-grey has-text-centered\">\r\n              <p>{{$t('no-image')}}</p>\r\n            </div>\r\n          </template>\r\n        </cytomine-table>\r\n      </div>\r\n\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash';\r\nimport {get} from '@/utils/store-helpers';\r\nimport ImageName from '@/components/image/ImageName';\r\nimport CytomineTable from '@/components/utils/CytomineTable';\r\nimport ProjectDetails from '@/components/project/ProjectDetails';\r\nimport ImageDetails from '@/components/image/ImageDetails';\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport {ImageInstanceCollection, ProjectCollection, TagCollection} from 'cytomine-client';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\nimport IconProjectMemberRole from '@/components/icons/IconProjectMemberRole';\r\nimport ImageThumbnail from '@/components/image/ImageThumbnail';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\nimport constants from '@/utils/constants.js';\r\nexport default {\r\n  name: 'advanced-search',\r\n  components: {\r\n    ImageThumbnail,\r\n    IconProjectMemberRole,\r\n    ImageName,\r\n    CytomineTable,\r\n    ProjectDetails,\r\n    ImageDetails,\r\n    CytomineMultiselect\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      searchString: '',\r\n      projects:[],\r\n      images: [],\r\n      activeTab: 'projects',\r\n      perPage: 10,\r\n\r\n      selectedTags: [],\r\n      availableTags:[],\r\n\r\n      currentPage: 1,\r\n      sortField: 'created',\r\n      sortOrder: 'desc',\r\n      openedDetails: [],\r\n      revision: 0,\r\n\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      excludedProperties: [\r\n        'name',\r\n        'imagesPreview',\r\n        'lastActivity',\r\n      ],\r\n\r\n\r\n    };\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    debounceSearchString: _.debounce(async function(value) {\r\n      this.searchString = value;\r\n    }, 500)\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    pathSearchString() {\r\n      return this.$route.params.searchString;\r\n    },\r\n    querySearchString() {\r\n      return this.$route.query.searchString;\r\n    },\r\n    querySearchTags() {\r\n      return this.$route.query.tags;\r\n    },\r\n    regexp() {\r\n      return getWildcardRegexp(this.searchString);\r\n    },\r\n    lowCaseSearchString() {\r\n      return this.searchString.toLowerCase();\r\n    },\r\n    projectCollection() {\r\n      let collection = new ProjectCollection({\r\n        withMembersCount: true,\r\n        withLastActivity: true,\r\n        withCurrentUserRoles: true\r\n      });\r\n      if(this.searchString) {\r\n        collection['name'] = {\r\n          ilike: encodeURIComponent(this.searchString)\r\n        };\r\n      }\r\n\r\n      if(this.selectedTags.length > 0 && this.selectedTags.length < this.availableTags.length){\r\n        collection['tag'] = {\r\n          in: this.selectedTags.map(t => t.id).join()\r\n        };\r\n      }\r\n      return collection;\r\n    },\r\n    imageCollection() {\r\n      let collection = new ImageInstanceCollection({\r\n        filterKey: 'user',\r\n        filterValue: this.currentUser.id,\r\n      });\r\n\r\n      if(this.searchString) {\r\n        collection['name'] = {\r\n          ilike: encodeURIComponent(this.searchString)\r\n        };\r\n      }\r\n      if(this.selectedTags.length > 0 && this.selectedTags.length < this.availableTags.length){\r\n        collection['tag'] = {\r\n          in: this.selectedTags.map(t => t.id).join()\r\n        };\r\n      }\r\n      return collection;\r\n    },\r\n\r\n\r\n\r\n  },\r\n  watch: {\r\n    pathSearchString(val) {\r\n      if(val) {\r\n        this.searchString = val;\r\n      }\r\n    },\r\n    querySearchString(val) {\r\n      if(val && !this.pathSearchString) {\r\n        this.searchString = val;\r\n      }\r\n    },\r\n    querySearchTags(values) {\r\n      if(values) {\r\n        this.selectedTags = [];\r\n        let queriedTags = this.availableTags.filter(tag => values.split(',').includes(tag.name));\r\n        if(queriedTags) {\r\n          this.selectedTags = queriedTags;\r\n        }\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    this.searchString = this.pathSearchString || this.querySearchString || '';\r\n    try {\r\n      this.availableTags = [{id: 'null', name: this.$t('no-tag')}, ...(await TagCollection.fetchAll()).array];\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n    if(!this.algoEnabled) this.excludedProperties.push('numberOfJobAnnotations');\r\n    if(this.$route.query.tags) {\r\n      let queriedTags = this.availableTags.filter(tag => this.$route.query.tags.split(',').includes(tag.name));\r\n      if(queriedTags) {\r\n        this.selectedTags = queriedTags;\r\n      }\r\n    }\r\n\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.search-block {\r\n  display: flex;\r\n  background: #fff;\r\n  padding: 0.5em 0.75em;\r\n}\r\n\r\n.legend {\r\n  margin-top: 0.8rem;\r\n  margin-bottom: 1rem;\r\n  border-radius: 10px;\r\n  padding: 1rem 1.5em;\r\n  background: #f8f8f8;\r\n}\r\n\r\n.legend p:not(:last-child) {\r\n  margin-bottom: 0.4em;\r\n}\r\n\r\n>>> .image-thumbnail {\r\n  max-height: 4rem;\r\n  max-width: 10rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdvancedSearch.vue?vue&type=template&id=729a7712&scoped=true&\"\nimport script from \"./AdvancedSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./AdvancedSearch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdvancedSearch.vue?vue&type=style&index=0&id=729a7712&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"729a7712\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('error-loading-image')))]),(_vm.errorBadImageProject)?_c('p',[_vm._v(_vm._s(_vm.$t('error-loading-image-bad-project')))]):_vm._e()]):_c('div',{staticClass:\"cytomine-viewer\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('div',{staticClass:\"maps-wrapper\"},[_vm._l((_vm.cells),function(cell,i){return _c('div',{key:i,staticClass:\"map-cell\",style:(`height:${_vm.elementHeight}%; width:${_vm.elementWidth}%;`)},[(cell && cell.image && cell.slices)?_c('cytomine-image',{key:`${cell.index}-${cell.image.id}`,attrs:{\"index\":cell.index},on:{\"close\":function($event){return _vm.closeMap(cell.index)}}}):_vm._e()],1)}),_c('image-selector'),_c('div',{directives:[{name:\"shortkey\",rawName:\"v-shortkey.once\",value:(_vm.shortkeysMapping),expression:\"shortkeysMapping\",modifiers:{\"once\":true}}],staticClass:\"hidden\",on:{\"shortkey\":_vm.shortkeyEvent}})],2):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"container\",staticClass:\"map-container\",on:{\"click\":function($event){_vm.isActiveImage = true}}},[(!_vm.loading && _vm.zoom !== null)?[_c('vl-map',{ref:\"map\",attrs:{\"data-projection\":_vm.projectionName,\"load-tiles-while-animating\":true,\"load-tiles-while-interacting\":true,\"keyboard-event-target\":_vm.document},on:{\"pointermove\":function($event){_vm.projectedMousePosition = $event.coordinate},\"mounted\":_vm.updateKeyboardInteractions}},[_c('vl-view',{ref:\"view\",attrs:{\"center\":_vm.center,\"zoom\":_vm.zoom,\"rotation\":_vm.rotation,\"max-zoom\":_vm.maxZoom,\"max-resolution\":Math.pow(2, _vm.image.zoom),\"extent\":_vm.extent,\"projection\":_vm.projectionName},on:{\"update:center\":function($event){_vm.center=$event},\"update:zoom\":function($event){_vm.zoom=$event},\"update:rotation\":function($event){_vm.rotation=$event},\"mounted\":function($event){return _vm.viewMounted()}}}),_c('vl-layer-tile',{ref:\"baseLayer\",attrs:{\"extent\":_vm.extent},on:{\"mounted\":_vm.addOverviewMap}},[_c('vl-source-zoomify',{ref:\"baseSource\",attrs:{\"projection\":_vm.projectionName,\"urls\":_vm.baseLayerURLs,\"size\":_vm.imageSize,\"extent\":_vm.extent,\"crossOrigin\":_vm.slices[0].imageServerUrl,\"transition\":0,\"tile-size\":_vm.tileSize},on:{\"mounted\":function($event){return _vm.setBaseSource()}}})],1),_vm._l((_vm.selectedLayers),function(layer){return _c('annotation-layer',{key:'layer-'+layer.id,attrs:{\"index\":_vm.index,\"layer\":layer}})}),(_vm.activeSelectInteraction)?_c('select-interaction',{attrs:{\"index\":_vm.index}}):_vm._e(),(_vm.activeDrawInteraction)?_c('draw-interaction',{attrs:{\"index\":_vm.index}}):_vm._e(),(_vm.activeModifyInteraction)?_c('modify-interaction',{attrs:{\"index\":_vm.index}}):_vm._e()],2),(_vm.configUI['project-tools-main'])?_c('div',{staticClass:\"draw-tools\"},[_c('draw-tools',{attrs:{\"index\":_vm.index},on:{\"screenshot\":function($event){return _vm.takeScreenshot()}}})],1):_vm._e(),_c('div',{staticClass:\"panels\"},[_c('ul',[_c('li',[_c('a',{staticClass:\"close\",on:{\"click\":function($event){return _vm.$emit('close')}}},[_c('i',{staticClass:\"fas fa-times-circle\"})])]),(_vm.isPanelDisplayed('hide-tools'))?[(_vm.isPanelDisplayed('info'))?_c('li',[_c('a',{class:{active: ['info', 'metadata'].includes(_vm.activePanel)},on:{\"click\":function($event){return _vm.togglePanel('info')}}},[_c('i',{staticClass:\"fas fa-info\"})]),_c('information-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'info'),expression:\"activePanel === 'info'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index},on:{\"openMetadata\":function($event){return _vm.togglePanel('metadata')}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'metadata'),expression:\"activePanel === 'metadata'\"}]},[_c('metadata-panel',{staticClass:\"panel-metadata\",attrs:{\"index\":_vm.index}})],1)],1):_vm._e(),(_vm.isPanelDisplayed('digital-zoom'))?_c('li',[_c('a',{class:{active: _vm.activePanel === 'digital-zoom'},on:{\"click\":function($event){return _vm.togglePanel('digital-zoom')}}},[_c('i',{staticClass:\"fas fa-search\"})]),_c('digital-zoom',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'digital-zoom'),expression:\"activePanel === 'digital-zoom'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index},on:{\"resetZoom\":function($event){return _vm.$refs.view.animate({zoom: _vm.image.zoom})},\"fitZoom\":_vm.fitZoom}})],1):_vm._e(),(_vm.isPanelDisplayed('link') && _vm.nbImages > 1)?_c('li',[_c('a',{class:{active: _vm.activePanel === 'link'},on:{\"click\":function($event){return _vm.togglePanel('link')}}},[_c('i',{staticClass:\"fas fa-link\"})]),_c('link-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'link'),expression:\"activePanel === 'link'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index}})],1):_vm._e(),(_vm.isPanelDisplayed('color-manipulation'))?_c('li',[_c('a',{class:{active: _vm.activePanel === 'colors'},on:{\"click\":function($event){return _vm.togglePanel('colors')}}},[_c('i',{staticClass:\"fas fa-adjust\"})]),_c('color-manipulation',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'colors'),expression:\"activePanel === 'colors'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index}})],1):_vm._e(),(_vm.isPanelDisplayed('image-layers'))?_c('li',[_c('a',{class:{active: _vm.activePanel === 'layers'},on:{\"click\":function($event){return _vm.togglePanel('layers')}}},[_c('i',{staticClass:\"fas fa-copy\"})]),_c('layers-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'layers'),expression:\"activePanel === 'layers'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index,\"layers-to-preload\":_vm.layersToPreload}})],1):_vm._e(),(_vm.isPanelDisplayed('ontology') && _vm.terms && _vm.terms.length > 0)?_c('li',[_c('a',{class:{active: _vm.activePanel === 'ontology'},on:{\"click\":function($event){return _vm.togglePanel('ontology')}}},[_c('i',{staticClass:\"fas fa-hashtag\"})]),_c('ontology-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'ontology'),expression:\"activePanel === 'ontology'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index}})],1):_vm._e(),(_vm.isPanelDisplayed('property'))?_c('li',[_c('a',{class:{active: _vm.activePanel === 'properties'},on:{\"click\":function($event){return _vm.togglePanel('properties')}}},[_c('i',{staticClass:\"fas fa-tag\"})]),_c('properties-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'properties'),expression:\"activePanel === 'properties'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index}})],1):_vm._e(),(_vm.isPanelDisplayed('follow'))?_c('li',[_c('a',{class:{active: _vm.activePanel === 'follow'},on:{\"click\":function($event){return _vm.togglePanel('follow')}}},[_c('i',{staticClass:\"fas fa-street-view\"})]),_c('follow-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'follow'),expression:\"activePanel === 'follow'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index,\"view\":_vm.$refs.view}})],1):_vm._e(),(_vm.isPanelDisplayed('review') && _vm.canEdit)?_c('li',[_c('a',{class:{active: _vm.activePanel === 'review'},on:{\"click\":function($event){return _vm.togglePanel('review')}}},[_c('i',{staticClass:\"fas fa-check-circle\"})]),_c('review-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'review'),expression:\"activePanel === 'review'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index}})],1):_vm._e()]:_vm._e()],2)]),_c('image-controls',{staticClass:\"image-controls-wrapper\",attrs:{\"index\":_vm.index}}),(_vm.imageWrapper.tracking.broadcast)?_c('div',{staticClass:\"broadcast\"},[_c('i',{staticClass:\"fas fa-circle\"}),_vm._v(\" \"+_vm._s(_vm.$t('live'))+\" \")]):_vm._e(),_c('rotation-selector',{staticClass:\"rotation-selector-wrapper\",attrs:{\"index\":_vm.index}}),_c('scale-line',{attrs:{\"image\":_vm.image,\"zoom\":_vm.zoom,\"mousePosition\":_vm.projectedMousePosition}}),_c('annotations-container',{attrs:{\"index\":_vm.index},on:{\"centerView\":_vm.centerViewOnAnnot}}),_c('div',{ref:\"overview\",staticClass:\"custom-overview\"},[_c('p',{staticClass:\"image-name\",class:{hidden: _vm.overviewCollapsed}},[_c('image-name',{attrs:{\"image\":_vm.image}})],1)])]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('vl-layer-vector',{attrs:{\"visible\":_vm.layer.visible,\"extent\":_vm.imageExtent,\"update-while-interacting\":false}},[_c('vl-source-vector',{ref:\"olSource\",attrs:{\"loader-factory\":_vm.loaderFactory,\"strategy-factory\":_vm.strategyFactory,\"url\":\"-\"}},[_c('vl-style-func',{attrs:{\"factory\":_vm.styleFunctionFactory}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {AnnotationTermCollection, AnnotationType, AnnotationTrackCollection} from 'cytomine-client';\r\n\r\n/** Enum providing the actions that can be performed on annotations */\r\nexport const Action = Object.freeze({\r\n  SELECT: 'select',\r\n  CREATE: 'create',\r\n  UPDATE: 'update',\r\n  DELETE: 'delete'\r\n});\r\n\r\n/**\r\n * Fetch the terms associated to the provided annot, and populate term and userByTerm properties accordingly\r\n *\r\n * @param {Object} annot The annotation to update\r\n */\r\nexport async function updateTermProperties(annot) {\r\n  let annotTerms = await AnnotationTermCollection.fetchAll({filterKey: 'annotation', filterValue: annot.id});\r\n  annot.term = [];\r\n  annot.userByTerm = [];\r\n  let mapping = {};\r\n  annotTerms.array.forEach(({term, user}) => {\r\n    if(!annot.term.includes(term)) {\r\n      mapping[term] = annot.term.length;\r\n      annot.term.push(term);\r\n      annot.userByTerm.push({term, user: [user]});\r\n    }\r\n    else { // this term was already treated => add user to existing userByTerm object related to the term\r\n      annot.userByTerm[mapping[term]].user.push(user);\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * Fetch the tracks associated to the provided annot, and populate track and annotationTrack properties accordingly\r\n *\r\n * @param {Object} annot The annotation to update\r\n */\r\nexport async function updateTrackProperties(annot) {\r\n  let annotTracks = await AnnotationTrackCollection.fetchAll({filterKey: 'annotation', filterValue: annot.id});\r\n  annot.track = annotTracks.array.map(at => at.track);\r\n  annot.annotationTrack = annotTracks.array;\r\n}\r\n\r\n/**\r\n * Checks whether an annotation belongs to the provided layer and image\r\n *\r\n * @param {Object} annot The annotation\r\n * @param {Object} layer The layer\r\n * @param {Array} [slices] The slice identifiers\r\n *\r\n * @returns {Boolean} whether or not the annotation belongs to the provided layer and image\r\n */\r\nexport function annotBelongsToLayer(annot, layer, slices=null) {\r\n  if(slices && !slices.includes(annot.slice)) {\r\n    return false;\r\n  }\r\n  let isReviewed = annot.type === AnnotationType.REVIEWED;\r\n  return layer.isReview ? isReviewed : (!isReviewed && annot.user === layer.id);\r\n}\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<vl-layer-vector\r\n  :visible=\"layer.visible\"\r\n  :extent=\"imageExtent\"\r\n  :update-while-interacting=\"false\"\r\n>\r\n\r\n  <vl-source-vector\r\n    ref=\"olSource\"\r\n    :loader-factory=\"loaderFactory\"\r\n    :strategy-factory=\"strategyFactory\"\r\n    url=\"-\"\r\n  > <!-- HACK because loader factory not used if URL not specified -->\r\n    <vl-style-func :factory=\"styleFunctionFactory\" />\r\n  </vl-source-vector>\r\n\r\n</vl-layer-vector>\r\n</template>\r\n\r\n<script>\r\nimport WKT from 'ol/format/WKT';\r\nimport {AnnotationCollection} from 'cytomine-client';\r\nimport {annotBelongsToLayer} from '@/utils/annotation-utils';\r\n\r\nexport default {\r\n  name: 'annotation-layer',\r\n  props: {\r\n    index: String,\r\n    layer: Object\r\n  },\r\n  data() {\r\n    return {\r\n      format: new WKT(),\r\n\r\n      resolution: null,\r\n      lastExtent: null,\r\n      clustered: null,\r\n      maxResolutionNoClusters: null\r\n    };\r\n  },\r\n  computed: {\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    slices() {\r\n      return this.imageWrapper.activeSlices;\r\n    },\r\n    sliceIds() {\r\n      return this.slices.map(slice => slice.id);\r\n    },\r\n    annotsIdsToSelect() {\r\n      return this.imageWrapper.selectedFeatures.annotsToSelect.map(annot => annot.id);\r\n    },\r\n    imageExtent() {\r\n      return [0, 0, this.image.width, this.image.height];\r\n    },\r\n    selectedFeatures() {\r\n      return this.imageWrapper.selectedFeatures.selectedFeatures;\r\n    },\r\n    ongoingEdit() {\r\n      return this.imageWrapper.draw.ongoingEdit;\r\n    },\r\n    terms() {\r\n      return this.imageWrapper.style.terms || [];\r\n    },\r\n    styleFunctionFactory() {\r\n      // Force computed property update when one of those properties change (leading to new style function =>\r\n      // rerendering - see https://github.com/ghettovoice/vuelayers/issues/68#issuecomment-404223423)\r\n      this.imageWrapper.selectedFeatures.selectedFeatures;\r\n      this.imageWrapper.style.layersOpacity;\r\n      this.terms.forEach(term => {\r\n        term.visible;\r\n        term.color;\r\n        term.opacity;\r\n      });\r\n      this.imageWrapper.style.displayNoTerm;\r\n      this.imageWrapper.style.noTermOpacity;\r\n      this.imageWrapper.properties.selectedPropertyKey;\r\n      this.imageWrapper.properties.selectedPropertyColor;\r\n      this.imageWrapper.review.reviewMode;\r\n      this.imageWrapper.style.wrappedTracks.forEach(track => {\r\n        track.color;\r\n      });\r\n\r\n      return () => {\r\n        return this.$store.getters[this.imageModule + 'genStyleFunction'];\r\n      };\r\n    },\r\n    reviewMode() {\r\n      return this.imageWrapper.review.reviewMode;\r\n    }\r\n  },\r\n  watch: {\r\n    reviewMode() { // in review mode, reviewed annotation no longer displayed => need to force reload\r\n      this.clearFeatures();\r\n    }\r\n  },\r\n  methods: {\r\n    clearFeatures(cache=true) {\r\n      if(this.$refs.olSource) {\r\n        this.$store.commit(this.imageModule + 'removeLayerFromSelectedFeatures', {layer: this.layer, cache});\r\n        this.$refs.olSource.clearFeatures();\r\n      }\r\n    },\r\n\r\n    annotBelongsToLayer(annot) {\r\n      return annotBelongsToLayer(annot, this.layer, this.sliceIds);\r\n    },\r\n\r\n    addAnnotationHandler(annot) {\r\n      if(this.annotBelongsToLayer(annot) && this.$refs.olSource) {\r\n        this.$refs.olSource.addFeature(this.createFeature(annot));\r\n      }\r\n    },\r\n    selectAnnotationHandler({annot, index}) {\r\n      if(index === this.index && this.annotBelongsToLayer(annot) && this.$refs.olSource) {\r\n        let olFeature = this.$refs.olSource.getFeatureById(annot.id);\r\n        if(!olFeature) {\r\n          this.$store.commit(this.imageModule + 'setAnnotToSelect', annot);\r\n        }\r\n        else {\r\n          this.$store.dispatch(this.imageModule + 'selectFeature', olFeature);\r\n        }\r\n      }\r\n    },\r\n    reloadAnnotationsHandler({idImage, clear=false, hard=false}={}) {\r\n      if(!idImage || idImage === this.image.id) {\r\n        if(clear) {\r\n          this.clearFeatures();\r\n        }\r\n        else if(hard) {\r\n          this.clearFeatures(false);\r\n          this.loader();\r\n        }\r\n        else {\r\n          this.loader();\r\n        }\r\n      }\r\n    },\r\n    reviewAnnotationHandler(annot) {\r\n      if(this.reviewMode) { // if the image is in review mode, reviewed annotation should no longer be displayed on user layer => call delete handler\r\n        this.deleteAnnotationHandler(annot);\r\n      }\r\n    },\r\n    editAnnotationHandler(annot) {\r\n      if(this.annotBelongsToLayer(annot) && this.$refs.olSource) {\r\n        let olFeature = this.$refs.olSource.getFeatureById(annot.id);\r\n        if(!olFeature) {\r\n          return;\r\n        }\r\n        olFeature.setGeometry(this.format.readGeometry(annot.location));\r\n        olFeature.set('annot', annot);\r\n\r\n        let indexSelectedFeature = this.selectedFeatures.findIndex(ftr => ftr.id === annot.id);\r\n        if(indexSelectedFeature >= 0) {\r\n          this.$store.commit(this.imageModule + 'changeAnnotSelectedFeature', {\r\n            indexFeature: indexSelectedFeature,\r\n            annot\r\n          });\r\n        }\r\n      }\r\n    },\r\n    deleteAnnotationHandler(annot) {\r\n      if(this.annotBelongsToLayer(annot) && this.$refs.olSource) {\r\n        let olFeature = this.$refs.olSource.getFeatureById(annot.id);\r\n        if(!olFeature) {\r\n          return;\r\n        }\r\n        this.$refs.olSource.removeFeature(olFeature);\r\n\r\n        if(this.selectedFeatures.some(ftr => ftr.id === annot.id)) {\r\n          this.$store.commit(this.imageModule + 'clearSelectedFeatures');\r\n        }\r\n      }\r\n    },\r\n\r\n    strategyFactory() {\r\n      return (extent, resolution) => {\r\n        this.lastExtent = extent;\r\n\r\n        if(this.$refs.olSource && this.resolution && this.clustered != null && ( // some features have already been loaded\r\n          !this.clustered && resolution > this.maxResolutionNoClusters // recluster\r\n                    || resolution !== this.resolution && this.clustered)) { // change of resolution while clustering\r\n\r\n          // clear loaded extents to force reloading features\r\n          this.$refs.olSource.$source.loadedExtentsRtree_.clear();\r\n        }\r\n\r\n        return [extent];\r\n      };\r\n    },\r\n\r\n    async fetchAnnots(extent) {\r\n      [0, 1].forEach(index => {\r\n        if(extent[index] < 0) {\r\n          extent[index] = 0;\r\n        }\r\n      });\r\n      [2, 3].forEach(index => {\r\n        if(this.imageExtent[index] < extent[index]) {\r\n          extent[index] = this.imageExtent[index];\r\n        }\r\n      });\r\n\r\n      let annots = await new AnnotationCollection({\r\n        user: !this.layer.isReview ? this.layer.id : null,\r\n        image: this.image.id,\r\n        slices: this.sliceIds,\r\n        reviewed: this.layer.isReview,\r\n        notReviewedOnly: !this.layer.isReview && this.reviewMode,\r\n        bbox: extent.join(),\r\n        showWKT: true,\r\n        showTerm: true,\r\n        showGIS: true,\r\n        showTrack: true,\r\n        kmeans: true\r\n      }).fetchAll();\r\n\r\n      return annots.array;\r\n    },\r\n\r\n    updateFeature(feature, annot) {\r\n      let indexSelectedFeature = this.selectedFeatures.findIndex(ftr => ftr.id === feature.getId());\r\n      let isFeatureSelected = indexSelectedFeature !== -1;\r\n\r\n      if(!annot) {\r\n        console.log(`Removing annot ${feature.getId()} in layer ${this.layer.id} (external action)`);\r\n        this.$refs.olSource.removeFeature(feature);\r\n        if(isFeatureSelected) {\r\n          this.$store.commit(this.imageModule + 'clearSelectedFeatures');\r\n        }\r\n        return;\r\n      }\r\n\r\n      let storedAnnot = feature.get('annot');\r\n      if(!this.clustered && annot.updated === storedAnnot.updated && this.sameTerms(annot.term, storedAnnot.term)) {\r\n        // no modification performed since feature was loaded\r\n        return;\r\n      }\r\n\r\n      if(isFeatureSelected) {\r\n        if(this.ongoingEdit) {\r\n          // if feature is selected and under modification, updating it may lead to conflict\r\n          console.log(`Skipping update of selected annot ${annot.id} in layer ${this.layer.id} (ongoing edit)`);\r\n          return;\r\n        }\r\n        console.log(`Updating selected annot ${annot.id} in layer ${this.layer.id} (external action)`);\r\n        this.$store.commit(this.imageModule + 'changeAnnotSelectedFeature', {\r\n          indexFeature: indexSelectedFeature,\r\n          annot\r\n        });\r\n      }\r\n\r\n      console.log(`Updating annot ${annot.id} in layer ${this.layer.id} (external action)`);\r\n      feature.set('annot', annot);\r\n      feature.setGeometry(this.format.readGeometry(annot.location));\r\n    },\r\n\r\n    async loader(extent=this.lastExtent, resolution=this.resolution) {\r\n      this.resolution = resolution;\r\n\r\n      if(!this.layer.visible || !extent) {\r\n        return;\r\n      }\r\n\r\n      let arrayAnnots;\r\n      try {\r\n        arrayAnnots = await this.fetchAnnots(extent);\r\n        // Order by size, so bigger ones are always sent to back\r\n        arrayAnnots.sort(\r\n          function( a, b ) {\r\n            if( a.area < b.area ) return 1;\r\n            else return -1;\r\n          }\r\n        );\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-fetch-annotations-viewer')});\r\n        return;\r\n      }\r\n\r\n      if(!this.$refs.olSource) {\r\n        return;\r\n      }\r\n\r\n      let wasClustered = this.clustered;\r\n      if(arrayAnnots.length) {\r\n        this.clustered = (arrayAnnots[0].count != null);\r\n        if(!this.clustered && resolution > this.maxResolutionNoClusters) {\r\n          this.maxResolutionNoClusters = resolution;\r\n        }\r\n      }\r\n\r\n      let annots = arrayAnnots.reduce((obj, annot) => {\r\n        obj[annot.id] = annot;\r\n        return obj;\r\n      }, {});\r\n      let seenAnnots = [];\r\n\r\n      if(wasClustered !== null && wasClustered !== this.clustered) {\r\n        this.clearFeatures(); // clearing features will retrigger the loader\r\n      }\r\n      else {\r\n        let features = this.clustered ? this.$refs.olSource.$source.getFeatures()\r\n          : this.$refs.olSource.$source.getFeaturesInExtent(extent);\r\n\r\n        features.forEach(feature => {\r\n          this.updateFeature(feature, annots[feature.getId()]);\r\n          seenAnnots.push(feature.getId());\r\n        });\r\n      }\r\n\r\n      arrayAnnots.forEach(annot => {\r\n        if(!seenAnnots.includes(annot.id)) {\r\n          this.$refs.olSource.addFeature(this.createFeature(annot));\r\n        }\r\n      });\r\n    },\r\n\r\n    loaderFactory() {\r\n      return (extent, resolution) => this.loader(extent, resolution);\r\n    },\r\n\r\n    createFeature(annot) {\r\n      let feature = this.format.readFeature(annot.location);\r\n      feature.setId(annot.id);\r\n      feature.set('annot', annot);\r\n\r\n      if(this.annotsIdsToSelect.includes(annot.id)) {\r\n        this.$store.dispatch(this.imageModule + 'selectFeature', feature);\r\n      }\r\n\r\n      return feature;\r\n    },\r\n\r\n    sameTerms(terms1, terms2) {\r\n      if(terms1.length !== terms2.length) {\r\n        return false;\r\n      }\r\n      return terms1.every(term => terms2.includes(term));\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('addAnnotation', this.addAnnotationHandler);\r\n    this.$eventBus.$on('selectAnnotationInLayer', this.selectAnnotationHandler);\r\n    this.$eventBus.$on('reloadAnnotations', this.reloadAnnotationsHandler);\r\n    this.$eventBus.$on('reviewAnnotation', this.reviewAnnotationHandler);\r\n    this.$eventBus.$on('editAnnotation', this.editAnnotationHandler);\r\n    this.$eventBus.$on('deleteAnnotation', this.deleteAnnotationHandler);\r\n  },\r\n  beforeDestroy() {\r\n    // unsubscribe from all events\r\n    this.$eventBus.$off('addAnnotation', this.addAnnotationHandler);\r\n    this.$eventBus.$off('selectAnnotationInLayer', this.selectAnnotationHandler);\r\n    this.$eventBus.$off('reloadAnnotations', this.reloadAnnotationsHandler);\r\n    this.$eventBus.$off('reviewAnnotation', this.reviewAnnotationHandler);\r\n    this.$eventBus.$off('editAnnotation', this.editAnnotationHandler);\r\n    this.$eventBus.$off('deleteAnnotation', this.deleteAnnotationHandler);\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationLayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationLayer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationLayer.vue?vue&type=template&id=59a9a65d&\"\nimport script from \"./AnnotationLayer.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationLayer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"rotation-selector-wrapper\",class:{expanded: _vm.expanded}},[_c('div',{staticClass:\"ol-rotate ol-unselectable ol-control custom\"},[_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.expanded = true}}},[_c('span',{staticClass:\"ol-compass\",style:({transform: `rotate(${_vm.rotation}rad)`})},[_vm._v(\"⇧\")])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}]},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"rotation-controls\"},[_c('b-field',[_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.degreesRotation = 0}}},[_vm._v(_vm._s(_vm.$t('button-reset')))])]),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.increment(90)}}},[_vm._v(\"+90°\")])]),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.increment(-90)}}},[_vm._v(\"-90°\")])])])],1),_c('button',{staticClass:\"delete is-small\",on:{\"click\":function($event){_vm.expanded=false}}})]),_c('cytomine-slider',{attrs:{\"max\":360,\"integerOnly\":false,\"lazy\":false},model:{value:(_vm.degreesRotation),callback:function ($$v) {_vm.degreesRotation=$$v},expression:\"degreesRotation\"}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"rotation-selector-wrapper\" :class=\"{expanded}\">\r\n  <div class=\"ol-rotate ol-unselectable ol-control custom\">\r\n    <button type=\"button\" @click=\"expanded = true\">\r\n      <span class=\"ol-compass\" :style=\"{transform: `rotate(${rotation}rad)`}\">⇧</span>\r\n    </button>\r\n  </div>\r\n  <div v-show=\"expanded\">\r\n    <div class=\"top\">\r\n      <div class=\"rotation-controls\">\r\n        <b-field>\r\n          <p class=\"control\">\r\n            <button class=\"button is-small\" @click=\"degreesRotation = 0\">{{$t('button-reset')}}</button>\r\n          </p>\r\n          <p class=\"control\">\r\n            <button class=\"button is-small\" @click=\"increment(90)\">+90°</button>\r\n          </p>\r\n          <p class=\"control\">\r\n            <button class=\"button is-small\" @click=\"increment(-90)\">-90°</button>\r\n          </p>\r\n        </b-field>\r\n      </div>\r\n      <button class=\"delete is-small\" @click=\"expanded=false\"></button>\r\n    </div>\r\n    <cytomine-slider v-model=\"degreesRotation\" :max=\"360\" :integerOnly=\"false\" :lazy=\"false\" />\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport CytomineSlider from '@/components/form/CytomineSlider';\r\n\r\nexport default {\r\n  name: 'rotation-selector',\r\n  components: {CytomineSlider},\r\n  props: {\r\n    index: String\r\n  },\r\n  data() {\r\n    return {\r\n      expanded: false\r\n    };\r\n  },\r\n  computed: {\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    rotation() {\r\n      return this.imageWrapper.view.rotation;\r\n    },\r\n    degreesRotation: {\r\n      get() {\r\n        return Math.round(this.rotation * 180 / Math.PI * 1000) / 1000;\r\n      },\r\n      set(value) {\r\n        this.$store.dispatch(this.viewerModule + 'setRotation', {\r\n          index: this.index,\r\n          rotation: Number(value) / 180 * Math.PI\r\n        });\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    increment(inc) {\r\n      this.degreesRotation = (this.degreesRotation + inc + 360) % 360;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.rotation-selector-wrapper {\r\n  border-radius: 2px;\r\n  box-shadow: 0 0 1px #777;\r\n  background: white;\r\n  margin-left: 2px;\r\n}\r\n\r\n.rotation-selector-wrapper.expanded {\r\n  min-width: 16.5em;\r\n  padding-top: 0.4em;\r\n  min-height: 6em;\r\n}\r\n\r\n.rotation-selector-wrapper.expanded .ol-control button {\r\n  cursor: initial;\r\n}\r\n\r\n.rotation-selector-wrapper .ol-control {\r\n  padding: 0;\r\n}\r\n\r\n.rotation-selector-wrapper.expanded .ol-control button {\r\n  box-shadow: none;\r\n}\r\n\r\n.ol-rotate.ol-control {\r\n  left: 0 !important;\r\n  top: 0 !important;\r\n}\r\n\r\n.top {\r\n  margin: 0em 0.4em 0.75em 1.8em;\r\n  display: flex;\r\n}\r\n\r\n.top .rotation-controls {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-left: 1em;\r\n  margin-right: 1em;\r\n  margin-top: 0.5em;\r\n}\r\n\r\n.top .delete {\r\n  z-index: 20 !important;\r\n}\r\n</style>\r\n\r\n<style>\r\n.rotation-selector-wrapper .vue-slider {\r\n  margin-left: 1em;\r\n  margin-right: 1em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotationSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotationSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RotationSelector.vue?vue&type=template&id=3ef9c304&scoped=true&\"\nimport script from \"./RotationSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./RotationSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RotationSelector.vue?vue&type=style&index=0&id=3ef9c304&prod&scoped=true&lang=css&\"\nimport style1 from \"./RotationSelector.vue?vue&type=style&index=1&id=3ef9c304&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ef9c304\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"scale-line\",class:{'interpolation': _vm.interpolation}},[_c('div',{staticClass:\"scale-line-top\",style:({width: _vm.scaleLineLength + 'px'})},[_vm._v(\" \"+_vm._s(_vm.scaleLength)+\" \")]),_c('div',{staticClass:\"scale-line-bottom\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.magnification),expression:\"magnification\"}]},[_vm._v(\" \"+_vm._s(_vm.$t('magnification'))+\": \"+_vm._s(_vm.magnification)+\"X \")])]),(_vm.mousePosition)?_c('div',{staticClass:\"scale-line-position\"},[_c('div',{staticStyle:{\"float\":\"left\"}},[_vm._v(\"x: \"+_vm._s(Math.round(_vm.mousePosition[0])))]),_c('div',{staticStyle:{\"float\":\"right\"}},[_vm._v(\"y: \"+_vm._s(Math.round(_vm.mousePosition[1])))])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"scale-line\" :class=\"{'interpolation': interpolation}\">\r\n  <div class=\"scale-line-top\" :style=\"{width: scaleLineLength + 'px'}\">\r\n    {{scaleLength}}\r\n  </div>\r\n  <div class=\"scale-line-bottom\">\r\n    <span v-show=\"magnification\">\r\n      {{$t('magnification')}}: {{magnification}}X\r\n    </span>\r\n  </div>\r\n\r\n  <div class=\"scale-line-position\" v-if=\"mousePosition\">\r\n    <div style=\"float: left;\">x: {{Math.round(mousePosition[0])}}</div>\r\n    <div style=\"float: right;\">y: {{Math.round(mousePosition[1])}}</div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'scale-line',\r\n  props: {\r\n    image: Object,\r\n    zoom: Number,\r\n    mousePosition: Array\r\n  },\r\n  data() {\r\n    return {\r\n      scaleLineLength: 100\r\n    };\r\n  },\r\n  computed: {\r\n    magnification() {\r\n      let magnification = Math.pow(2, this.zoom - this.image.zoom) * this.image.magnification;\r\n      return Math.round(magnification * 100) / 100;\r\n    },\r\n    resolution() {\r\n      let resolution = this.image.physicalSizeX ? this.image.physicalSizeX : 1;\r\n      return Math.pow(2, this.image.zoom - this.zoom) * resolution;\r\n    },\r\n    scaleLength() {\r\n      let length = this.scaleLineLength * this.resolution;\r\n      if(this.image.physicalSizeX) {\r\n        let unit = this.$t('um');\r\n        if (length > 1000) {\r\n          length /= 1000;\r\n          unit = this.$t('mm');\r\n        }\r\n        return `${length.toPrecision(3)} ${unit}`;\r\n      }\r\n      else {\r\n        return `${Math.round(length*1000) / 1000} ${this.$t('pixels')}`;\r\n      }\r\n    },\r\n    interpolation() {\r\n      return this.zoom > this.image.zoom;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.scale-line {\r\n  background: white;\r\n  position: absolute;\r\n  padding: 0.4em 0.8em;\r\n  display: block;\r\n  right: 4rem;\r\n  bottom: 1rem;\r\n  font-size: 9px;\r\n  font-family: Helvetica;\r\n  min-width: 100px;\r\n}\r\n\r\n.scale-line-top {\r\n  margin-top: 0.5em;\r\n  box-sizing: content-box;\r\n  border: 2px solid black;\r\n  border-top: none;\r\n  text-align: center;\r\n  padding-bottom: 0.2em;\r\n}\r\n\r\n.scale-line-bottom {\r\n  box-sizing: content-box;\r\n  border: 2px solid black;\r\n  border-top: none;\r\n  border-bottom: none;\r\n  text-align: center;\r\n  padding-top: 0.2em;\r\n  margin-bottom: 1em;\r\n  min-height: 1em;\r\n}\r\n\r\n.interpolation {\r\n  color: red;\r\n}\r\n\r\n.interpolation .scale-line-top, .interpolation .scale-line-bottom {\r\n  border-color: red;\r\n}\r\n\r\n.scale-line-position {\r\n  text-align: center;\r\n  padding: 0 0.5em;\r\n  color: black !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaleLine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaleLine.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ScaleLine.vue?vue&type=template&id=543499ef&scoped=true&\"\nimport script from \"./ScaleLine.vue?vue&type=script&lang=js&\"\nexport * from \"./ScaleLine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ScaleLine.vue?vue&type=style&index=0&id=543499ef&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"543499ef\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"draw-tools-wrapper\"},[(_vm.isToolDisplayed('select'))?_c('div',{staticClass:\"buttons has-addons are-small\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('select')),expression:\"$t('select')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'select'},on:{\"click\":function($event){return _vm.activateTool('select')}}},[_vm._m(0)])]):_vm._e(),(!_vm.reviewMode)?[(_vm.terms && _vm.terms.length > 0)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(() => _vm.showTermSelector = false),expression:\"() => showTermSelector = false\"}],staticClass:\"buttons has-addons are-small term-selection\",class:{'has-preview': _vm.termsToAssociate.length > 0}},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('terms-new-annotation')),expression:\"$t('terms-new-annotation')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.disabledDraw,\"title\":_vm.disabledDrawMessage},on:{\"click\":function($event){_vm.showTermSelector = !_vm.showTermSelector}}},[_vm._m(1)]),_c('div',{staticClass:\"color-preview\",style:({background: _vm.backgroundTermsNewAnnot})},[(_vm.termsToAssociate.length > 1)?_c('span',[_vm._v(_vm._s(_vm.termsToAssociate.length))]):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTermSelector),expression:\"showTermSelector\"}],staticClass:\"ontology-tree-container\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"size\":\"is-small\"},model:{value:(_vm.searchStringTerm),callback:function ($$v) {_vm.searchStringTerm=$$v},expression:\"searchStringTerm\"}}),_c('ontology-tree',{staticClass:\"ontology-tree\",attrs:{\"ontology\":_vm.ontology,\"searchString\":_vm.searchStringTerm},model:{value:(_vm.termsToAssociate),callback:function ($$v) {_vm.termsToAssociate=$$v},expression:\"termsToAssociate\"}})],1)]):_vm._e(),(_vm.tracks && _vm.maxRank > 1)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(() => _vm.showTrackSelector = false),expression:\"() => showTrackSelector = false\"}],staticClass:\"buttons has-addons are-small track-selection\",class:{'has-preview': _vm.tracksToAssociate.length > 0}},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('tracks-new-annotation')),expression:\"$t('tracks-new-annotation')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.disabledDraw,\"title\":_vm.disabledDrawMessage},on:{\"click\":function($event){_vm.showTrackSelector = !_vm.showTrackSelector}}},[_vm._m(2)]),_c('div',{staticClass:\"color-preview\",style:({'border-color': _vm.backgroundTracksNewAnnot})},[(_vm.tracksToAssociate.length > 1)?_c('span',[_vm._v(_vm._s(_vm.tracksToAssociate.length))]):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTrackSelector),expression:\"showTrackSelector\"}],staticClass:\"tracks-tree-container\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"size\":\"is-small\"},model:{value:(_vm.searchStringTrack),callback:function ($$v) {_vm.searchStringTrack=$$v},expression:\"searchStringTrack\"}}),_c('track-tree',{staticClass:\"track-tree\",attrs:{\"tracks\":_vm.tracks,\"searchString\":_vm.searchStringTrack,\"allow-new\":true,\"allow-edition\":true,\"image\":_vm.image},on:{\"newTrack\":_vm.refreshTracks,\"updatedTrack\":_vm.refreshTracks,\"deletedTrack\":_vm.refreshTracks},model:{value:(_vm.tracksToAssociate),callback:function ($$v) {_vm.tracksToAssociate=$$v},expression:\"tracksToAssociate\"}})],1)]):_vm._e(),_c('div',{staticClass:\"buttons has-addons are-small\"},[(_vm.isToolDisplayed('point'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('point')),expression:\"$t('point')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'point'},attrs:{\"disabled\":_vm.disabledDraw,\"title\":_vm.disabledDrawMessage},on:{\"click\":function($event){return _vm.activateTool('point')}}},[_vm._m(3)]):_vm._e(),(_vm.isToolDisplayed('line'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('line')),expression:\"$t('line')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'line'},attrs:{\"disabled\":_vm.disabledDraw,\"title\":_vm.disabledDrawMessage},on:{\"click\":function($event){return _vm.activateTool('line')}}},[_vm._m(4)]):_vm._e(),(_vm.isToolDisplayed('freehand-line'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('freehand-line')),expression:\"$t('freehand-line')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'freehand-line'},attrs:{\"disabled\":_vm.disabledDraw,\"title\":_vm.disabledDrawMessage},on:{\"click\":function($event){return _vm.activateTool('freehand-line')}}},[_c('span',{staticClass:\"icon is-small\"},[_c('icon-line-free-hand')],1)]):_vm._e(),(_vm.isToolDisplayed('rectangle'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('rectangle')),expression:\"$t('rectangle')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'rectangle'},attrs:{\"disabled\":_vm.disabledDraw,\"title\":_vm.disabledDrawMessage},on:{\"click\":function($event){return _vm.activateTool('rectangle')}}},[_vm._m(5)]):_vm._e(),(_vm.isToolDisplayed('circle'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('circle')),expression:\"$t('circle')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'circle'},attrs:{\"disabled\":_vm.disabledDraw,\"title\":_vm.disabledDrawMessage},on:{\"click\":function($event){return _vm.activateTool('circle')}}},[_vm._m(6)]):_vm._e(),(_vm.isToolDisplayed('polygon'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('polygon')),expression:\"$t('polygon')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'polygon'},attrs:{\"disabled\":_vm.disabledDraw,\"title\":_vm.disabledDrawMessage},on:{\"click\":function($event){return _vm.activateTool('polygon')}}},[_vm._m(7)]):_vm._e(),(_vm.isToolDisplayed('freehand-polygon'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('freehand-polygon')),expression:\"$t('freehand-polygon')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'freehand-polygon'},attrs:{\"disabled\":_vm.disabledDraw,\"title\":_vm.disabledDrawMessage},on:{\"click\":function($event){return _vm.activateTool('freehand-polygon')}}},[_c('span',{staticClass:\"icon is-small\"},[_c('icon-polygon-free-hand')],1)]):_vm._e()])]:[_c('div',{staticClass:\"buttons has-addons are-small\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('validate-annotation')),expression:\"$t('validate-annotation')\"}],staticClass:\"button\",class:{'is-success': !_vm.isToolDisabled('accept')},attrs:{\"disabled\":_vm.isToolDisabled('accept')},on:{\"click\":function($event){return _vm.accept()}}},[_vm._m(8)]),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('reject-annotation')),expression:\"$t('reject-annotation')\"}],staticClass:\"button\",class:{'is-danger': !_vm.isToolDisabled('reject')},attrs:{\"disabled\":_vm.isToolDisabled('reject')},on:{\"click\":function($event){return _vm.reject()}}},[_vm._m(9)])])],_c('div',{staticClass:\"buttons has-addons are-small\"},[(_vm.isToolDisplayed('screenshot'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('screenshot')),expression:\"$t('screenshot')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.disabledDraw},on:{\"click\":function($event){return _vm.takeScreenshot()}}},[_vm._m(10)]):_vm._e()]),(_vm.configUI['project-explore-annotation-main'])?_c('div',{staticClass:\"buttons has-addons are-small\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('display-annot-details')),expression:\"$t('display-annot-details')\"}],staticClass:\"button\",class:{'is-selected': _vm.displayAnnotDetails && _vm.selectedFeature},attrs:{\"disabled\":!_vm.selectedFeature},on:{\"click\":function($event){_vm.displayAnnotDetails = !_vm.displayAnnotDetails}}},[_vm._m(11)])]):_vm._e(),_c('div',{staticClass:\"buttons has-addons are-small\"},[(_vm.isToolDisplayed('fill'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('fill')),expression:\"$t('fill')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.isToolDisabled('fill')},on:{\"click\":function($event){return _vm.fill()}}},[_vm._m(12)]):_vm._e(),(_vm.isToolDisplayed('edit'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('modify')),expression:\"$t('modify')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeEditTool === 'modify'},attrs:{\"disabled\":_vm.isToolDisabled('edit')},on:{\"click\":function($event){return _vm.activateEditTool('modify')}}},[_vm._m(13)]):_vm._e(),(_vm.isToolDisplayed('union'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('freehand-correct-add')),expression:\"$t('freehand-correct-add')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeEditTool === 'correct-add'},attrs:{\"disabled\":_vm.isToolDisabled('correct-add')},on:{\"click\":function($event){return _vm.activateEditTool('correct-add')}}},[_vm._m(14)]):_vm._e(),(_vm.isToolDisplayed('diff'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('freehand-correct-remove')),expression:\"$t('freehand-correct-remove')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeEditTool === 'correct-remove'},attrs:{\"disabled\":_vm.isToolDisabled('correct-remove')},on:{\"click\":function($event){return _vm.activateEditTool('correct-remove')}}},[_vm._m(15)]):_vm._e(),(_vm.isToolDisplayed('move'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('move')),expression:\"$t('move')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeEditTool === 'translate'},attrs:{\"disabled\":_vm.isToolDisabled('move')},on:{\"click\":function($event){return _vm.activateEditTool('translate')}}},[_vm._m(16)]):_vm._e(),(_vm.isToolDisplayed('resize'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('rescale')),expression:\"$t('rescale')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeEditTool === 'rescale'},attrs:{\"disabled\":_vm.isToolDisabled('resize')},on:{\"click\":function($event){return _vm.activateEditTool('rescale')}}},[_vm._m(17)]):_vm._e(),(_vm.isToolDisplayed('rotate'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('rotate')),expression:\"$t('rotate')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeEditTool === 'rotate'},attrs:{\"disabled\":_vm.isToolDisabled('rotate')},on:{\"click\":function($event){return _vm.activateEditTool('rotate')}}},[_vm._m(18)]):_vm._e(),(_vm.isToolDisplayed('delete'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('delete')),expression:\"$t('delete')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.isToolDisabled('delete')},on:{\"click\":function($event){return _vm.confirmDeletion()}}},[_vm._m(19)]):_vm._e()]),(_vm.isToolDisplayed('copy-paste'))?_c('div',{staticClass:\"buttons has-addons are-small\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('copy')),expression:\"$t('copy')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.isToolDisabled('copy')},on:{\"click\":function($event){return _vm.copy()}}},[_vm._m(20)]),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('paste')),expression:\"$t('paste')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.disabledPaste},on:{\"click\":function($event){return _vm.paste()}}},[_vm._m(21)]),(_vm.maxRepeats > 0)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(() => _vm.showRepeatSelector = false),expression:\"() => showRepeatSelector = false\"}],staticClass:\"special-paste-selection\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('paste-repeat')),expression:\"$t('paste-repeat')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.disabledPaste},on:{\"click\":function($event){_vm.showRepeatSelector = !_vm.showRepeatSelector}}},[_vm._m(22)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRepeatSelector),expression:\"showRepeatSelector\"}],staticClass:\"special-paste-container\"},[_c('div',{staticClass:\"panel\"},[_c('div',{staticClass:\"panel-block\"},[_c('p',[_c('i18n',{attrs:{\"path\":\"paste-repeat-info\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nbRepeats),expression:\"nbRepeats\"}],staticClass:\"repeat-input\",attrs:{\"type\":\"number\",\"place\":\"input\",\"min\":\"1\",\"max\":_vm.maxRepeats},domProps:{\"value\":(_vm.nbRepeats)},on:{\"input\":function($event){if($event.target.composing)return;_vm.nbRepeats=$event.target.value}}})]),_c('br')],1),_c('div',{staticClass:\"repeat-button-container\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.repeat()}}},[_vm._v(_vm._s(_vm.$t('paste-repeat')))])])])])])]):_vm._e()]):_vm._e(),(_vm.isToolDisplayed('undo-redo'))?_c('div',{staticClass:\"buttons has-addons are-small\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('undo')),expression:\"$t('undo')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.actions.length === 0},on:{\"click\":function($event){return _vm.undo()}}},[_vm._m(23)]),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('redo')),expression:\"$t('redo')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.undoneActions.length === 0},on:{\"click\":function($event){return _vm.redo()}}},[_vm._m(24)])]):_vm._e()],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-mouse-pointer\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-hashtag\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-route\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-map-pin\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-minus\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"far fa-square\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"far fa-circle\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-draw-polygon\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-check\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-minus\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-camera\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-info\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-fill\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-edit\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"superscript fas fa-plus\"}),_c('i',{staticClass:\"fas fa-pencil-alt\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"superscript fas fa-minus\"}),_c('i',{staticClass:\"fas fa-pencil-alt\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-arrows-alt\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-expand\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-sync-alt\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"far fa-trash-alt\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-copy\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-paste\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-paste\"}),_c('i',{staticClass:\"fas fa-star special-paste-icon\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-undo\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-redo\"})])\n}]\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"draw-tools-wrapper\">\r\n  <div class=\"buttons has-addons are-small\" v-if=\"isToolDisplayed('select')\">\r\n    <button\r\n      v-tooltip=\"$t('select')\"\r\n      class=\"button\"\r\n      :class=\"{'is-selected': activeTool === 'select'}\"\r\n      @click=\"activateTool('select')\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-mouse-pointer\"></i></span>\r\n    </button>\r\n  </div>\r\n\r\n  <template v-if=\"!reviewMode\"> <!-- drawing new annotations forbidden while reviewing -->\r\n    <div\r\n      v-if=\"terms && terms.length > 0\"\r\n      class=\"buttons has-addons are-small term-selection\"\r\n      :class=\"{'has-preview': termsToAssociate.length > 0}\"\r\n      v-click-outside=\"() => showTermSelector = false\"\r\n    >\r\n      <button\r\n        v-tooltip=\"$t('terms-new-annotation')\"\r\n        class=\"button\"\r\n        :disabled=\"disabledDraw\"\r\n        @click=\"showTermSelector = !showTermSelector\"\r\n        :title=\"disabledDrawMessage\"\r\n      >\r\n        <span class=\"icon is-small\"><i class=\"fas fa-hashtag\"></i></span>\r\n      </button>\r\n\r\n      <div class=\"color-preview\" :style=\"{background: backgroundTermsNewAnnot}\">\r\n        <span v-if=\"termsToAssociate.length > 1\">{{termsToAssociate.length}}</span>\r\n      </div>\r\n\r\n      <div class=\"ontology-tree-container\" v-show=\"showTermSelector\">\r\n        <b-input v-model=\"searchStringTerm\" :placeholder=\"$t('search-placeholder')\" size=\"is-small\" />\r\n        <ontology-tree\r\n          class=\"ontology-tree\"\r\n          v-model=\"termsToAssociate\"\r\n          :ontology=\"ontology\"\r\n          :searchString=\"searchStringTerm\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div\r\n      v-if=\"tracks && maxRank > 1\"\r\n      class=\"buttons has-addons are-small track-selection\"\r\n      :class=\"{'has-preview': tracksToAssociate.length > 0}\"\r\n      v-click-outside=\"() => showTrackSelector = false\"\r\n    >\r\n      <button\r\n        v-tooltip=\"$t('tracks-new-annotation')\"\r\n        class=\"button\"\r\n        :disabled=\"disabledDraw\"\r\n        @click=\"showTrackSelector = !showTrackSelector\"\r\n        :title=\"disabledDrawMessage\"\r\n      >\r\n        <span class=\"icon is-small\"><i class=\"fas fa-route\"></i></span>\r\n      </button>\r\n\r\n      <div class=\"color-preview\" :style=\"{'border-color': backgroundTracksNewAnnot}\">\r\n        <span v-if=\"tracksToAssociate.length > 1\">{{tracksToAssociate.length}}</span>\r\n      </div>\r\n\r\n      <div class=\"tracks-tree-container\" v-show=\"showTrackSelector\">\r\n        <b-input v-model=\"searchStringTrack\" :placeholder=\"$t('search-placeholder')\" size=\"is-small\" />\r\n        <track-tree\r\n          class=\"track-tree\"\r\n          v-model=\"tracksToAssociate\"\r\n          :tracks=\"tracks\"\r\n          :searchString=\"searchStringTrack\"\r\n          :allow-new=\"true\"\r\n          :allow-edition=\"true\"\r\n          :image=\"image\"\r\n          @newTrack=\"refreshTracks\"\r\n          @updatedTrack=\"refreshTracks\"\r\n          @deletedTrack=\"refreshTracks\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"buttons has-addons are-small\">\r\n      <button\r\n        v-if=\"isToolDisplayed('point')\"\r\n        :disabled=\"disabledDraw\"\r\n        :title=\"disabledDrawMessage\"\r\n        v-tooltip=\"$t('point')\"\r\n        class=\"button\"\r\n        :class=\"{'is-selected': activeTool === 'point'}\"\r\n        @click=\"activateTool('point')\"\r\n      >\r\n        <span class=\"icon is-small\"><i class=\"fas fa-map-pin\"></i></span>\r\n      </button>\r\n\r\n      <button\r\n        v-if=\"isToolDisplayed('line')\"\r\n        :disabled=\"disabledDraw\"\r\n        :title=\"disabledDrawMessage\"\r\n        v-tooltip=\"$t('line')\"\r\n        class=\"button\"\r\n        :class=\"{'is-selected': activeTool === 'line'}\"\r\n        @click=\"activateTool('line')\"\r\n      >\r\n        <span class=\"icon is-small\"><i class=\"fas fa-minus\"></i></span>\r\n      </button>\r\n\r\n      <button\r\n        v-if=\"isToolDisplayed('freehand-line')\"\r\n        :disabled=\"disabledDraw\"\r\n        :title=\"disabledDrawMessage\"\r\n        v-tooltip=\"$t('freehand-line')\"\r\n        class=\"button\"\r\n        :class=\"{'is-selected': activeTool === 'freehand-line'}\"\r\n        @click=\"activateTool('freehand-line')\"\r\n      >\r\n        <span class=\"icon is-small\">\r\n          <icon-line-free-hand />\r\n        </span>\r\n      </button>\r\n\r\n      <!-- QUESTION: redefine expected behaviour\r\n      <button class=\"button\" :disabled=\"disabledDraw\" title=\"Arrow\"\r\n              @click=\"activateTool('arrow')\" :class=\"{'is-selected': activeTool === 'arrow'}\">\r\n          <span class=\"icon is-small\"><i class=\"fas fa-long-arrow-right\"></i></span>\r\n      </button> -->\r\n\r\n      <button\r\n        v-if=\"isToolDisplayed('rectangle')\"\r\n        :disabled=\"disabledDraw\"\r\n        :title=\"disabledDrawMessage\"\r\n        v-tooltip=\"$t('rectangle')\"\r\n        class=\"button\"\r\n        :class=\"{'is-selected': activeTool === 'rectangle'}\"\r\n        @click=\"activateTool('rectangle')\"\r\n      >\r\n        <span class=\"icon is-small\"><i class=\"far fa-square\"></i></span>\r\n      </button>\r\n\r\n      <button\r\n        v-if=\"isToolDisplayed('circle')\"\r\n        :disabled=\"disabledDraw\"\r\n        :title=\"disabledDrawMessage\"\r\n        v-tooltip=\"$t('circle')\"\r\n        class=\"button\"\r\n        :class=\"{'is-selected': activeTool === 'circle'}\"\r\n        @click=\"activateTool('circle')\"\r\n      >\r\n        <span class=\"icon is-small\"><i class=\"far fa-circle\"></i></span>\r\n      </button>\r\n\r\n      <button\r\n        v-if=\"isToolDisplayed('polygon')\"\r\n        :disabled=\"disabledDraw\"\r\n        :title=\"disabledDrawMessage\"\r\n        v-tooltip=\"$t('polygon')\"\r\n        class=\"button\"\r\n        :class=\"{'is-selected': activeTool === 'polygon'}\"\r\n        @click=\"activateTool('polygon')\"\r\n      >\r\n        <span class=\"icon is-small\"><i class=\"fas fa-draw-polygon\"></i></span>\r\n      </button>\r\n\r\n      <button\r\n        v-if=\"isToolDisplayed('freehand-polygon')\"\r\n        :disabled=\"disabledDraw\"\r\n        :title=\"disabledDrawMessage\"\r\n        v-tooltip=\"$t('freehand-polygon')\"\r\n        class=\"button\"\r\n        :class=\"{'is-selected': activeTool === 'freehand-polygon'}\"\r\n        @click=\"activateTool('freehand-polygon')\"\r\n      >\r\n        <span class=\"icon is-small\">\r\n          <icon-polygon-free-hand />\r\n        </span>\r\n      </button>\r\n    </div>\r\n  </template>\r\n\r\n  <template v-else>\r\n    <div class=\"buttons has-addons are-small\">\r\n      <button\r\n        :disabled=\"isToolDisabled('accept')\"\r\n        v-tooltip=\"$t('validate-annotation')\"\r\n        class=\"button\"\r\n        :class=\"{'is-success': !isToolDisabled('accept')}\"\r\n        @click=\"accept()\"\r\n      >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-check\"></i></span>\r\n    </button>\r\n    <button\r\n        :disabled=\"isToolDisabled('reject')\"\r\n        v-tooltip=\"$t('reject-annotation')\"\r\n        class=\"button\"\r\n        :class=\"{'is-danger': !isToolDisabled('reject')}\"\r\n        @click=\"reject()\"\r\n      >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-minus\"></i></span>\r\n    </button>\r\n    </div>\r\n  </template>\r\n  \r\n  <div class=\"buttons has-addons are-small\">\r\n      <button\r\n      v-if=\"isToolDisplayed('screenshot')\"\r\n      :disabled=\"disabledDraw\"\r\n      v-tooltip=\"$t('screenshot')\"\r\n      class=\"button\"\r\n      @click=\"takeScreenshot()\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-camera\"></i></span>\r\n    </button>\r\n  </div>\r\n\r\n  <div v-if=\"configUI['project-explore-annotation-main']\" class=\"buttons has-addons are-small\">\r\n    <button\r\n      :disabled=\"!selectedFeature\"\r\n      v-tooltip=\"$t('display-annot-details')\"\r\n      class=\"button\" :class=\"{'is-selected': displayAnnotDetails && selectedFeature}\"\r\n      @click=\"displayAnnotDetails = !displayAnnotDetails\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-info\"></i></span>\r\n    </button>\r\n  </div>\r\n\r\n  <div class=\"buttons has-addons are-small\">\r\n    <button\r\n      v-if=\"isToolDisplayed('fill')\"\r\n      :disabled=\"isToolDisabled('fill')\"\r\n      v-tooltip=\"$t('fill')\"\r\n      class=\"button\"\r\n      @click=\"fill()\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-fill\"></i></span>\r\n    </button>\r\n\r\n    <button\r\n      v-if=\"isToolDisplayed('edit')\"\r\n      :disabled=\"isToolDisabled('edit')\"\r\n      v-tooltip=\"$t('modify')\"\r\n      class=\"button\"\r\n      :class=\"{'is-selected': activeEditTool === 'modify'}\"\r\n      @click=\"activateEditTool('modify')\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-edit\"></i></span>\r\n    </button>\r\n\r\n    <button\r\n      v-if=\"isToolDisplayed('union')\"\r\n      :disabled=\"isToolDisabled('correct-add')\"\r\n      v-tooltip=\"$t('freehand-correct-add')\"\r\n      class=\"button\"\r\n      :class=\"{'is-selected': activeEditTool === 'correct-add'}\"\r\n      @click=\"activateEditTool('correct-add')\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"superscript fas fa-plus\"></i><i class=\"fas fa-pencil-alt\"></i></span>\r\n    </button>\r\n\r\n    <button\r\n      v-if=\"isToolDisplayed('diff')\"\r\n      :disabled=\"isToolDisabled('correct-remove')\"\r\n      v-tooltip=\"$t('freehand-correct-remove')\"\r\n      class=\"button\"\r\n      :class=\"{'is-selected': activeEditTool === 'correct-remove'}\"\r\n      @click=\"activateEditTool('correct-remove')\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"superscript fas fa-minus\"></i><i class=\"fas fa-pencil-alt\"></i></span>\r\n    </button>\r\n\r\n    <button\r\n      v-if=\"isToolDisplayed('move')\"\r\n      :disabled=\"isToolDisabled('move')\"\r\n      v-tooltip=\"$t('move')\"\r\n      class=\"button\"\r\n      :class=\"{'is-selected': activeEditTool === 'translate'}\"\r\n      @click=\"activateEditTool('translate')\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-arrows-alt\"></i></span>\r\n    </button>\r\n\r\n    <button\r\n        v-if=\"isToolDisplayed('resize')\"\r\n        :disabled=\"isToolDisabled('resize')\"\r\n        v-tooltip=\"$t('rescale')\"\r\n        class=\"button\"\r\n        :class=\"{'is-selected': activeEditTool === 'rescale'}\"\r\n        @click=\"activateEditTool('rescale')\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-expand\"></i></span>\r\n    </button>\r\n\r\n    <button\r\n      v-if=\"isToolDisplayed('rotate')\"\r\n      :disabled=\"isToolDisabled('rotate')\"\r\n      v-tooltip=\"$t('rotate')\"\r\n      class=\"button\"\r\n      :class=\"{'is-selected': activeEditTool === 'rotate'}\"\r\n      @click=\"activateEditTool('rotate')\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-sync-alt\"></i></span>\r\n    </button>\r\n\r\n    <button\r\n      v-if=\"isToolDisplayed('delete')\"\r\n      :disabled=\"isToolDisabled('delete')\"\r\n      v-tooltip=\"$t('delete')\"\r\n      class=\"button\"\r\n      @click=\"confirmDeletion()\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"far fa-trash-alt\"></i></span>\r\n    </button>\r\n  </div>\r\n\r\n  <div class=\"buttons has-addons are-small\" v-if=\"isToolDisplayed('copy-paste')\">\r\n    <button\r\n      :disabled=\"isToolDisabled('copy')\"\r\n      v-tooltip=\"$t('copy')\"\r\n      class=\"button\"\r\n      @click=\"copy()\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-copy\"></i></span>\r\n    </button>\r\n    <button\r\n      :disabled=\"disabledPaste\"\r\n      v-tooltip=\"$t('paste')\"\r\n      class=\"button\"\r\n      @click=\"paste()\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-paste\"></i></span>\r\n    </button>\r\n    <div class=\"special-paste-selection\" v-click-outside=\"() => showRepeatSelector = false\" v-if=\"maxRepeats > 0\">\r\n      <button\r\n        :disabled=\"disabledPaste\"\r\n        v-tooltip=\"$t('paste-repeat')\"\r\n        class=\"button\"\r\n        @click=\"showRepeatSelector = !showRepeatSelector\"\r\n      >\r\n      <span class=\"icon is-small\">\r\n        <i class=\"fas fa-paste\"></i>\r\n        <i class=\"fas fa-star special-paste-icon\"></i>\r\n      </span>\r\n      </button>\r\n\r\n      <div class=\"special-paste-container\" v-show=\"showRepeatSelector\">\r\n        <div class=\"panel\">\r\n          <div class=\"panel-block\">\r\n            <p>\r\n              <i18n path=\"paste-repeat-info\">\r\n                <input v-model=\"nbRepeats\" type=\"number\" place=\"input\" class=\"repeat-input\" min=\"1\" :max=\"maxRepeats\"/>\r\n              </i18n>\r\n              <br>\r\n            </p>\r\n            <div class=\"repeat-button-container\">\r\n              <button class=\"button is-small\" @click=\"repeat()\">{{$t('paste-repeat')}}</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div v-if=\"isToolDisplayed('undo-redo')\" class=\"buttons has-addons are-small\">\r\n    <button\r\n      :disabled=\"actions.length === 0\"\r\n      v-tooltip=\"$t('undo')\"\r\n      class=\"button\"\r\n      @click=\"undo()\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-undo\"></i></span>\r\n    </button>\r\n\r\n    <button\r\n      :disabled=\"undoneActions.length === 0\"\r\n      v-tooltip=\"$t('redo')\"\r\n      class=\"button\"\r\n      @click=\"redo()\"\r\n    >\r\n      <span class=\"icon is-small\"><i class=\"fas fa-redo\"></i></span>\r\n    </button>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport OntologyTree from '@/components/ontology/OntologyTree';\r\nimport TrackTree from '@/components/track/TrackTree';\r\nimport IconPolygonFreeHand from '@/components/icons/IconPolygonFreeHand';\r\nimport IconLineFreeHand from '@/components/icons/IconLineFreeHand';\r\n\r\nimport WKT from 'ol/format/WKT';\r\nimport {containsExtent} from 'ol/extent';\r\n\r\nimport {Cytomine, Annotation, AnnotationType} from 'cytomine-client';\r\nimport {Action, updateTermProperties, updateTrackProperties} from '@/utils/annotation-utils.js';\r\n\r\nexport default {\r\n  name: 'draw-tools',\r\n  components: {\r\n    TrackTree,\r\n    OntologyTree,\r\n    IconPolygonFreeHand,\r\n    IconLineFreeHand\r\n  },\r\n  props: {\r\n    index: String\r\n  },\r\n  data() {\r\n    return {\r\n      showTermSelector: false,\r\n      format: new WKT(),\r\n      searchStringTerm: '',\r\n      showTrackSelector: false,\r\n      searchStringTrack: '',\r\n      showRepeatSelector: false,\r\n      nbRepeats: 2,\r\n    };\r\n  },\r\n  computed: {\r\n    configUI: get('currentProject/configUI'),\r\n    ontology: get('currentProject/ontology'),\r\n    currentUser: get('currentUser/user'),\r\n\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    viewerWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'];\r\n    },\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageWrapper() {\r\n      return this.viewerWrapper.images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    slice() {\r\n      // Cannot draw on multiple slices at same time\r\n      return (this.imageWrapper.activeSlices) ? this.imageWrapper.activeSlices[0] : null;\r\n    },\r\n    multipleActiveSlices() {\r\n      return this.imageWrapper.activeSlices && this.imageWrapper.activeSlices.length > 1;\r\n    },\r\n    maxRank() {\r\n      return this.$store.getters[this.imageModule + 'maxRank'];\r\n    },\r\n    terms() {\r\n      return this.$store.getters['currentProject/terms'];\r\n    },\r\n    termsToAssociate: {\r\n      get() {\r\n        return this.imageWrapper.draw.termsNewAnnots;\r\n      },\r\n      set(terms) {\r\n        this.$store.commit(this.imageModule + 'setTermsNewAnnots', terms);\r\n      }\r\n    },\r\n    backgroundTermsNewAnnot() {\r\n      if(this.termsToAssociate.length === 1) {\r\n        return this.terms.find(term => this.termsToAssociate[0] === term.id).color;\r\n      }\r\n      else {\r\n        return '#e2e2e2';\r\n      }\r\n    },\r\n    tracks() {\r\n      return this.imageWrapper.tracks.tracks;\r\n    },\r\n    tracksToAssociate: {\r\n      get() {\r\n        return this.imageWrapper.draw.tracksNewAnnots;\r\n      },\r\n      set(tracks) {\r\n        this.$store.commit(this.imageModule + 'setTracksNewAnnots', tracks);\r\n      }\r\n    },\r\n    backgroundTracksNewAnnot() {\r\n      if(this.tracksToAssociate.length === 1) {\r\n        return this.tracks.find(track => this.tracksToAssociate[0] === track.id).color;\r\n      }\r\n      else {\r\n        return '#e2e2e2';\r\n      }\r\n    },\r\n    activeTool: {\r\n      get() {\r\n        return this.imageWrapper.draw.activeTool;\r\n      },\r\n      set(tool) {\r\n        this.$store.dispatch(this.imageModule + 'activateTool', tool);\r\n      }\r\n    },\r\n    displayAnnotDetails: {\r\n      get() {\r\n        return this.imageWrapper.selectedFeatures.displayAnnotDetails;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setDisplayAnnotDetails', value);\r\n      }\r\n    },\r\n    activeEditTool: {\r\n      get() {\r\n        return this.imageWrapper.draw.activeEditTool;\r\n      },\r\n      set(tool) {\r\n        this.$store.commit(this.imageModule + 'activateEditTool', tool);\r\n      }\r\n    },\r\n    selectedFeature() {\r\n      return this.$store.getters[this.imageModule + 'selectedFeature'];\r\n    },\r\n    layers() {\r\n      return this.imageWrapper.layers.selectedLayers || [];\r\n    },\r\n    noActiveLayer() {\r\n      return !this.layers.find(layer => layer.drawOn);\r\n    },\r\n    disabledDraw() {\r\n      return this.noActiveLayer || this.multipleActiveSlices;\r\n    },\r\n    disabledDrawMessage() {\r\n      return (this.multipleActiveSlices) ? this.$t('warning-cannot-draw-multiple-slices') : null;\r\n    },\r\n    actions() {\r\n      return this.imageWrapper.undoRedo.actions;\r\n    },\r\n    undoneActions() {\r\n      return this.imageWrapper.undoRedo.undoneActions;\r\n    },\r\n    isActiveImage() {\r\n      return this.viewerWrapper.activeImage === this.index;\r\n    },\r\n    reviewMode() {\r\n      return this.imageWrapper.review.reviewMode;\r\n    },\r\n    copiedAnnot: {\r\n      get() {\r\n        return this.viewerWrapper.copiedAnnot;\r\n      },\r\n      set(annot) {\r\n        this.$store.commit(this.viewerModule + 'setCopiedAnnot', annot);\r\n      }\r\n    },\r\n    disabledPaste() {\r\n      return this.disabledDraw || !this.copiedAnnot;\r\n    },\r\n    imageExtent() {\r\n      return [0, 0, this.image.width, this.image.height];\r\n    },\r\n    maxRepeats() {\r\n      return this.maxRank - this.slice.rank - 1;\r\n    }\r\n  },\r\n  watch: {\r\n    noActiveLayer(value) {\r\n      if(value) {\r\n        this.activeTool = 'select';\r\n      }\r\n    },\r\n    selectedFeature(feature) {\r\n      // disable correct tools if no feature is selected\r\n      if(!feature && ['correct-add', 'correct-remove'].includes(this.activeEditTool)) {\r\n        this.activeEditTool = null;\r\n      }\r\n    },\r\n    reviewMode(value) {\r\n      if(value) {\r\n        this.activeTool = 'select';\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    isToolDisplayed(tool) {\r\n      return this.configUI[`project-tools-${tool}`];\r\n    },\r\n\r\n    isToolDisabled(tool) {\r\n      if(!this.selectedFeature) {\r\n        return true; // no feature selected -> all edit tools disabled\r\n      }\r\n\r\n      if (tool === 'copy') {\r\n        return false;\r\n      }\r\n\r\n      let ftr = this.selectedFeature;\r\n      let annot = ftr.properties.annot;\r\n      if(tool === 'accept') {\r\n        return annot.type === AnnotationType.REVIEWED;\r\n      }\r\n      if(tool === 'reject') {\r\n        return annot.type !== AnnotationType.REVIEWED;\r\n      }\r\n\r\n      if(!this.$store.getters['currentProject/canEditAnnot'](annot)) {\r\n        return true;\r\n      }\r\n\r\n      let geomType = ftr.geometry.type;\r\n      if(geomType === 'Point') {\r\n        return (tool !== 'move' && tool !== 'delete'); // disable all tools except move and delete for points\r\n      }\r\n      else if(geomType === 'LineString') {\r\n        return ['fill', 'correct-add', 'correct-remove'].includes(tool); // disable fill and correct tools for lines\r\n      }\r\n      else {\r\n        return false;\r\n      }\r\n    },\r\n\r\n    activateTool(tool) {\r\n      this.activeTool = tool;\r\n    },\r\n\r\n    activateEditTool(tool) {\r\n      this.activeTool = 'select';\r\n      this.activeEditTool = (this.activeEditTool === tool) ? null : tool; // toggle behaviour\r\n    },\r\n\r\n    async fill() {\r\n      let feature = this.selectedFeature;\r\n      if(!feature) {\r\n        return;\r\n      }\r\n\r\n      this.activateEditTool(null);\r\n      let annot = feature.properties.annot.clone();\r\n\r\n      try {\r\n        await annot.fill();\r\n        this.$eventBus.$emit('editAnnotation', annot);\r\n        this.$store.commit(this.imageModule + 'addAction', {annot, type: Action.UPDATE});\r\n      }\r\n      catch(err) {\r\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-fill')});\r\n      }\r\n    },\r\n\r\n    async deleteAnnot() {\r\n      let feature = this.selectedFeature;\r\n      if(!feature) {\r\n        return;\r\n      }\r\n\r\n      this.activateEditTool(null);\r\n\r\n      try {\r\n        let annot = feature.properties.annot;\r\n        await Annotation.delete(annot.id);\r\n        this.$eventBus.$emit('deleteAnnotation', annot);\r\n        this.$store.commit(this.imageModule + 'addAction', {annot: annot, type: Action.DELETE});\r\n      }\r\n      catch(err) {\r\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-deletion')});\r\n      }\r\n    },\r\n    confirmDeletion() {\r\n      if(!this.selectedFeature) {\r\n        return;\r\n      }\r\n\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('confirm-deletion'),\r\n        message: this.$t('confirm-deletion-annotation'),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.deleteAnnot()\r\n      });\r\n    },\r\n\r\n    copy() {\r\n      let feature = this.selectedFeature;\r\n      if(!feature) {\r\n        return;\r\n      }\r\n\r\n      this.copiedAnnot = feature.properties.annot.clone();\r\n      this.$notify({type: 'success', text: this.$t('notif-success-annotation-copy')});\r\n    },\r\n    async paste() {\r\n      if (!this.copiedAnnot) {\r\n        return;\r\n      }\r\n\r\n      let location;\r\n      let geometry = new WKT().readGeometry(this.copiedAnnot.location);\r\n\r\n      if (this.image.id === this.copiedAnnot.image || containsExtent(this.imageExtent, geometry.getExtent())) {\r\n        location = this.copiedAnnot.location;\r\n      }\r\n      else {\r\n        let extent = geometry.getExtent();\r\n        let center = [(extent[0] + extent[2]) / 2, (extent[1] + extent[3]) / 2];\r\n        geometry.translate(this.image.width / 2 - center[0], this.image.height / 2 - center[1]);\r\n        if (containsExtent(this.imageExtent, geometry.getExtent())) {\r\n          location = new WKT().writeGeometry(geometry);\r\n        }\r\n      }\r\n\r\n      if (!location) {\r\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-paste')});\r\n        return;\r\n      }\r\n\r\n      let annot = new Annotation({\r\n        location: location,\r\n        image: this.image.id,\r\n        slice: this.slice.id,\r\n        user: this.currentUser.id,\r\n        term: this.copiedAnnot.term,\r\n        track: this.copiedAnnot.track\r\n      });\r\n\r\n      try {\r\n        await annot.save();\r\n        // TODO in backend: response should include userByTerm and correct value for term\r\n        // (https://github.com/cytomine/Cytomine-core/issues/1143)\r\n        annot.term = this.copiedAnnot.term.slice();\r\n        annot.userByTerm = this.copiedAnnot.term.map(term => {\r\n          return {term, user: [this.currentUser.id]};\r\n        });\r\n        // ----\r\n\r\n        this.$eventBus.$emit('addAnnotation', annot);\r\n        this.$eventBus.$emit('selectAnnotation', {index: this.index, annot});\r\n        this.$store.commit(this.imageModule + 'addAction', {annot, type: Action.CREATE});\r\n      }\r\n      catch(err) {\r\n        console.log(err);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-creation')});\r\n      }\r\n    },\r\n    async repeat() {\r\n      if (!this.copiedAnnot) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        await this.copiedAnnot.repeat(this.slice.id, this.nbRepeats);\r\n        this.$eventBus.$emit('reloadAnnotations', {idImage: this.image.id});\r\n        this.$notify({type: 'success', text: this.$t('notif-success-annotation-repeat')});\r\n      }\r\n      catch(err) {\r\n        console.log(err);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-repeat')});\r\n      }\r\n    },\r\n\r\n\r\n    async undo() {\r\n      if(this.actions.length === 0) {\r\n        return;\r\n      }\r\n\r\n      let action = this.actions[this.actions.length - 1];\r\n      try {\r\n        let opposedAction = await this.reverseAction(action, true);\r\n        this.$store.commit(this.imageModule + 'undoAction', opposedAction);\r\n      }\r\n      catch(err) {\r\n        console.log(err);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-undo')});\r\n      }\r\n    },\r\n    async redo() {\r\n      if(this.undoneActions.length === 0) {\r\n        return;\r\n      }\r\n\r\n      let action = this.undoneActions[this.undoneActions.length - 1];\r\n      try {\r\n        let opposedAction = await this.reverseAction(action, false);\r\n        this.$store.commit(this.imageModule + 'redoAction', opposedAction);\r\n      }\r\n      catch(err) {\r\n        console.log(err);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-redo')});\r\n      }\r\n    },\r\n    async reverseAction({annot, type, command}, undo) {\r\n      let newType = type;\r\n\r\n      if(type === Action.CREATE) {\r\n        await Annotation.delete(annot.id);\r\n        this.$eventBus.$emit('deleteAnnotation', annot);\r\n        newType = Action.DELETE;\r\n        command = Cytomine.instance.lastCommand;\r\n      }\r\n      else if(type === Action.DELETE) {\r\n        let collection = await Cytomine.instance.undo(command); // always undo if annotation was deleted\r\n        let newAnnot = await this.getUpdatedAnnotation(collection);\r\n        this.$eventBus.$emit('addAnnotation', newAnnot);\r\n        newType = Action.CREATE;\r\n      }\r\n      else { // annotation was updated\r\n        let collection;\r\n        if(undo) {\r\n          collection = await Cytomine.instance.undo(command);\r\n        }\r\n        else {\r\n          collection = await Cytomine.instance.redo(command);\r\n        }\r\n        let newAnnot = await this.getUpdatedAnnotation(collection);\r\n        this.$eventBus.$emit('editAnnotation', newAnnot);\r\n      }\r\n\r\n      return {annot, command, type: newType};\r\n    },\r\n    async getUpdatedAnnotation(collection) {\r\n      for(let model of collection) {\r\n        let jsonAnnot = model.annotation || model.reviewedannotation;\r\n        if(jsonAnnot) {\r\n          let annot = new Annotation(jsonAnnot);\r\n          await updateTermProperties(annot);\r\n          await updateTrackProperties(annot);\r\n          return annot;\r\n        }\r\n      }\r\n    },\r\n\r\n    async accept() {\r\n      let feature = this.selectedFeature;\r\n      if(!feature) {\r\n        return;\r\n      }\r\n\r\n      this.activateEditTool(null);\r\n      let annot = feature.properties.annot;\r\n      if(annot.type === AnnotationType.REVIEWED) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        let reviewedAnnot = await annot.review();\r\n        reviewedAnnot.userByTerm = annot.userByTerm; // copy terms from initial annot\r\n        this.$eventBus.$emit('reviewAnnotation', annot);\r\n        this.$eventBus.$emit('addAnnotation', reviewedAnnot);\r\n        this.$eventBus.$emit('selectAnnotation', {index: this.index, annot: reviewedAnnot});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-validation')});\r\n      }\r\n    },\r\n    async reject() {\r\n      let feature = this.selectedFeature;\r\n      if(!feature) {\r\n        return;\r\n      }\r\n\r\n      this.activateEditTool(null);\r\n      let reviewedAnnot = feature.properties.annot;\r\n      if(reviewedAnnot.type !== AnnotationType.REVIEWED) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        let annot = await Annotation.fetch(reviewedAnnot.parentIdent);\r\n        annot.userByTerm = reviewedAnnot.userByTerm; // copy terms from reviewed annot\r\n        await annot.cancelReview();\r\n        this.$eventBus.$emit('deleteAnnotation', reviewedAnnot);\r\n        this.$eventBus.$emit('addAnnotation', annot, false);\r\n        this.$eventBus.$emit('selectAnnotation', {index: this.index, annot});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-rejection')});\r\n      }\r\n    },\r\n\r\n    refreshTracks() {\r\n      this.$store.dispatch(this.viewerModule + 'refreshTracks', {idImage: this.image.id});\r\n    },\r\n\r\n    takeScreenshot(){\r\n      this.$emit('screenshot');\r\n    },\r\n\r\n    shortkeyHandler(key) {\r\n      if(key !== 'toggle-all-current' && !this.isActiveImage) { // shortkey should only be applied to active map\r\n        return;\r\n      }\r\n\r\n      switch(key) {\r\n        case 'tool-select':\r\n          if (this.isToolDisplayed('select')){\r\n            this.activateTool('select');\r\n          }\r\n          return;\r\n        case 'tool-point':\r\n          if (this.isToolDisplayed('point') && !this.disabledDraw) {\r\n            this.activateTool('point');\r\n          }\r\n          return;\r\n        case 'tool-line':\r\n          if (this.isToolDisplayed('line') && !this.disabledDraw) {\r\n            this.activateTool('line');\r\n          }\r\n          return;\r\n        case 'tool-freehand-line':\r\n          if (this.isToolDisplayed('freehand-line') && !this.disabledDraw) {\r\n            this.activateTool('freehand-line');\r\n          }\r\n          return;\r\n        case 'tool-rectangle':\r\n          if (this.isToolDisplayed('rectangle') && !this.disabledDraw) {\r\n            this.activateTool('rectangle');\r\n          }\r\n          return;\r\n        case 'tool-circle':\r\n          if (this.isToolDisplayed('circle') && !this.disabledDraw) {\r\n            this.activateTool('circle');\r\n          }\r\n          return;\r\n        case 'tool-polygon':\r\n          if (this.isToolDisplayed('polygon') && !this.disabledDraw) {\r\n            this.activateTool('polygon');\r\n          }\r\n          return;\r\n        case 'tool-freehand-polygon':\r\n          if (this.isToolDisplayed('polygon') && !this.disabledDraw) {\r\n            this.activateTool('freehand-polygon');\r\n          }\r\n          return;\r\n        case 'tool-screenshot':\r\n          if (this.isToolDisplayed('screenshot') && !this.disabledDraw) {\r\n            this.takeScreenshot();\r\n          }\r\n          return;\r\n        case 'tool-delete':\r\n          if (this.isToolDisplayed('delete') && !this.disabledDraw) {\r\n            this.confirmDeletion();\r\n          }\r\n          return;\r\n        case 'tool-undo':\r\n          if (this.isToolDisplayed('undo-redo')) {\r\n            this.undo();\r\n          }\r\n          return;\r\n        case 'tool-redo':\r\n          if (this.isToolDisplayed('undo-redo')) {\r\n            this.redo();\r\n          }\r\n          return;\r\n        case 'tool-review-accept':\r\n          if (this.reviewMode && this.isToolDisplayed('accept')) {\r\n            this.accept();\r\n          }\r\n          return;\r\n        case 'tool-review-reject':\r\n          if (this.reviewMode && this.isToolDisplayed('reject')) {\r\n            this.reject();\r\n          }\r\n          return;\r\n        case 'tool-fill':\r\n          if (this.isToolDisplayed('fill') && !this.isToolDisabled('fill')) {\r\n            this.fill();\r\n          }\r\n          return;\r\n        case 'tool-correct-add':\r\n          if (this.isToolDisplayed('union') && !this.isToolDisabled('correct-add')) {\r\n            this.activateEditTool('correct-add');\r\n          }\r\n          return;\r\n        case 'tool-correct-remove':\r\n          if (this.isToolDisplayed('diff') && !this.isToolDisabled('correct-remove')) {\r\n            this.activateEditTool('correct-remove');\r\n          }\r\n          return;\r\n        case 'tool-modify':\r\n          if (this.isToolDisplayed('edit') && !this.isToolDisabled('edit')) {\r\n            this.activateEditTool('modify');\r\n          }\r\n          return;\r\n        case 'tool-move':\r\n          if (this.isToolDisplayed('move') && !this.isToolDisabled('move')) {\r\n            this.activateEditTool('translate');\r\n          }\r\n          return;\r\n        case 'tool-rescale':\r\n          if (this.isToolDisplayed('resize') && !this.isToolDisabled('resize')) {\r\n            this.activateEditTool('rescale');\r\n          }\r\n          return;\r\n        case 'tool-rotate':\r\n          if (this.isToolDisplayed('rotate') && !this.isToolDisabled('rotate')) {\r\n            this.activateEditTool('rotate');\r\n          }\r\n          return;\r\n        case 'toggle-current':\r\n        case 'toggle-all-current':\r\n          if (this.configUI['project-explore-annotation-main'] && this.selectedFeature) {\r\n            this.displayAnnotDetails = !this.displayAnnotDetails;\r\n          }\r\n          return;\r\n        case 'tool-copy':\r\n          if (this.isToolDisplayed('copy-paste') && !this.isToolDisabled('copy')) {\r\n            this.copy();\r\n          }\r\n          return;\r\n        case 'tool-paste':\r\n          if (this.isToolDisplayed('copy-paste') && !this.disabledPaste) {\r\n            this.paste();\r\n          }\r\n          return;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('shortkeyEvent', this.shortkeyHandler);\r\n  },\r\n  beforeDestroy() {\r\n    this.$eventBus.$off('shortkeyEvent', this.shortkeyHandler);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.buttons {\r\n  float:left;\r\n  margin-left: 1px;\r\n  margin-right: 1px;\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\n.button {\r\n  margin-bottom:0px !important;\r\n}\r\n\r\n.superscript {\r\n  position: relative;\r\n  bottom: 0.65em;\r\n  left: 1px;\r\n  font-size: 0.7em;\r\n}\r\n\r\n:focus {outline:none;}\r\n::-moz-focus-inner {border:0;}\r\n\r\n.term-selection, .track-selection, .special-paste-selection {\r\n  position: relative;\r\n}\r\n\r\n.term-selection.has-preview i.fas, .track-selection.has-preview i.fas {\r\n  position: relative;\r\n  right: 0.25em;\r\n  top: 0.2em;\r\n  font-size: 0.9em;\r\n}\r\n\r\n.term-selection .ontology-tree-container, .track-selection .tracks-tree-container, .special-paste-container {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: -1.5em;\r\n  margin-top: 5px;\r\n  min-width: 18em;\r\n  max-width: 20vw;\r\n  max-height: 40vh;\r\n  overflow: auto;\r\n}\r\n\r\n.term-selection .ontology-tree-container, .track-selection .tracks-tree-container {\r\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n  border-radius: 4px;\r\n  background: white;\r\n}\r\n\r\n.term-selection:not(.has-preview) .color-preview, .track-selection:not(.has-preview) .color-preview {\r\n  display:none;\r\n}\r\n\r\n.color-preview {\r\n  width: 1em;\r\n  height: 1em;\r\n  display: inline-block;\r\n  border-radius: 0.45em;\r\n  position: absolute;\r\n  top: 0.25em;\r\n  right: 0.25em;\r\n  z-index: 1000;\r\n  pointer-events: none;\r\n  font-size: 0.7em;\r\n  font-weight: 600;\r\n  text-align:center;\r\n  line-height: 0.9em;\r\n  font-family: Arial;\r\n}\r\n\r\n.track-selection .color-preview {\r\n  border: 1.5px solid;\r\n}\r\n\r\n.repeat-input {\r\n  width: 50px;\r\n}\r\n\r\n.repeat-button-container {\r\n  text-align: center;\r\n  margin-top: 0.5em;\r\n  margin-bottom: 0.5em;\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n$colorActiveIcon: #fff;\r\n\r\n.draw-tools-wrapper {\r\n  .special-paste-selection .special-paste-container {\r\n    p {\r\n      margin: 0.75em;\r\n      font-size: 0.9em;\r\n    }\r\n\r\n    .panel-block:last-of-type {\r\n      border-bottom-left-radius: 4px;\r\n      border-bottom-right-radius: 4px;\r\n    }\r\n\r\n    .panel-block:first-of-type {\r\n      border-top-left-radius: 4px;\r\n      border-top-right-radius: 4px;\r\n    }\r\n\r\n    .panel {\r\n      font-size: 0.9rem;\r\n    }\r\n\r\n    .panel-block {\r\n      padding: 0.2em 0.5em;\r\n    }\r\n  }\r\n\r\n  .term-selection .ontology-tree-container, .track-selection .tracks-tree-container {\r\n\r\n    .control {\r\n      margin: 0.75em;\r\n      margin-bottom: 0;\r\n    }\r\n\r\n    .ontology-tree, .track-tree {\r\n      padding: 0.75em 0;\r\n    }\r\n\r\n    .sl-vue-tree-sidebar {\r\n      margin-right: 1.5em;\r\n    }\r\n  }\r\n\r\n  .button.is-selected {\r\n    background-color: #6899d0;\r\n    color: $colorActiveIcon;\r\n\r\n    path {\r\n      stroke: $colorActiveIcon;\r\n    }\r\n  }\r\n\r\n  .icon svg {\r\n    height: 1.15em !important;\r\n  }\r\n\r\n  .icon .special-paste-icon {\r\n    font-size: 0.5em;\r\n    position: absolute;\r\n    right: 0.2rem;\r\n    top: 0.2rem;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawTools.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawTools.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DrawTools.vue?vue&type=template&id=04a5c87e&scoped=true&\"\nimport script from \"./DrawTools.vue?vue&type=script&lang=js&\"\nexport * from \"./DrawTools.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DrawTools.vue?vue&type=style&index=0&id=04a5c87e&prod&scoped=true&lang=css&\"\nimport style1 from \"./DrawTools.vue?vue&type=style&index=1&id=04a5c87e&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04a5c87e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isImageMultidimensional)?_c('div',{staticClass:\"image-controls-container\"},[(_vm.hasChannels)?_c('div',{staticClass:\"image-dimension\"},[_c('strong',{staticClass:\"image-dimension-name\"},[_vm._v(\"C\")]),(_vm.areChannelsMergeable)?[_c('b-select',{staticClass:\"channel-selector\",attrs:{\"value\":_vm.currentChannelsIndexesOption,\"size\":\"is-small\",\"expanded\":\"\"},on:{\"input\":_vm.setCurrentChannelsIndexes}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\" \"+_vm._s(_vm.$t('merged-channels'))+\" \"),(_vm.currentChannelsIndexesOption === null)?[_vm._v(\" (\"+_vm._s(_vm.orderedCurrentChannels.length)+\"/\"+_vm._s(_vm.image.channels)+\") (\"),_vm._l((_vm.orderedCurrentChannels),function(channel,i){return _c('span',{key:`${_vm.image.id}-${channel.index}-name-list`},[_c('channel-name',{attrs:{\"channel\":channel}}),(i !== _vm.currentChannelsIndexes.length - 1)?[_vm._v(\"|\")]:_vm._e()],2)}),_vm._v(\") \")]:_vm._e()],2),_vm._l((_vm.channelOptions),function(channel){return _c('option',{key:`${_vm.image.id}-${channel.value}-opt`,domProps:{\"value\":channel.value}},[_c('channel-name',{attrs:{\"channel\":channel}})],1)})],2)]:[_c('image-controls-shift-buttons',{attrs:{\"index\":_vm.index,\"forward\":false,\"current\":_vm.currentSlice.channel,\"size\":_vm.image.channels,\"dimension\":\"channel\"},on:{\"shift\":function($event){return _vm.shift('channel', $event)}}}),_c('cytomine-slider',{staticClass:\"image-dimension-slider\",attrs:{\"max\":_vm.image.channels - 1,\"integer-only\":true},scopedSlots:_vm._u([(_vm.hasChannelName)?{key:\"default\",fn:function({ value }){return [_vm._v(\" \"+_vm._s(_vm.channelValue(value) || \"?\")+\" \")]}}:null],null,true),model:{value:(_vm.currentChannelIndex),callback:function ($$v) {_vm.currentChannelIndex=$$v},expression:\"currentChannelIndex\"}}),_c('image-controls-shift-buttons',{attrs:{\"index\":_vm.index,\"forward\":true,\"current\":_vm.currentSlice.channel,\"size\":_vm.image.channels,\"dimension\":\"channel\"},on:{\"shift\":function($event){return _vm.shift('channel', $event)}}})]],2):_vm._e(),(_vm.hasDepth)?_c('div',{staticClass:\"image-dimension\"},[_c('strong',{staticClass:\"image-dimension-name\"},[_vm._v(\"Z\")]),_c('image-controls-shift-buttons',{attrs:{\"index\":_vm.index,\"forward\":false,\"current\":_vm.currentSlice.zStack,\"size\":_vm.image.depth,\"dimension\":\"zStack\"},on:{\"shift\":function($event){return _vm.shift('zStack', $event)}}}),_c('cytomine-slider',{staticClass:\"image-dimension-slider\",attrs:{\"max\":_vm.image.depth - 1,\"integer-only\":true},model:{value:(_vm.currentZStackIndex),callback:function ($$v) {_vm.currentZStackIndex=$$v},expression:\"currentZStackIndex\"}}),_c('image-controls-shift-buttons',{attrs:{\"index\":_vm.index,\"forward\":true,\"current\":_vm.currentSlice.zStack,\"size\":_vm.image.depth,\"dimension\":\"zStack\"},on:{\"shift\":function($event){return _vm.shift('zStack', $event)}}})],1):_vm._e(),(_vm.hasDuration)?_c('div',{staticClass:\"image-dimension\"},[_c('strong',{staticClass:\"image-dimension-name\"},[_vm._v(\"T\")]),_c('image-controls-shift-buttons',{attrs:{\"index\":_vm.index,\"forward\":false,\"current\":_vm.currentSlice.time,\"size\":_vm.image.duration,\"dimension\":\"time\"},on:{\"shift\":function($event){return _vm.shift('time', $event)}}}),_c('cytomine-slider',{staticClass:\"image-dimension-slider\",attrs:{\"max\":_vm.image.duration - 1,\"integer-only\":true},scopedSlots:_vm._u([(_vm.image.fps)?{key:\"default\",fn:function({ value }){return [_vm._v(\" \"+_vm._s(_vm.formatMinutesSeconds(value / _vm.image.fps))+\" | \"+_vm._s(value)+\" \")]}}:null],null,true),model:{value:(_vm.currentTimeIndex),callback:function ($$v) {_vm.currentTimeIndex=$$v},expression:\"currentTimeIndex\"}}),_c('image-controls-shift-buttons',{attrs:{\"index\":_vm.index,\"forward\":true,\"current\":_vm.currentSlice.time,\"size\":_vm.image.duration,\"dimension\":\"time\"},on:{\"shift\":function($event){return _vm.shift('time', $event)}}})],1):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"buttons has-addons\",class:{'backward-buttons': !_vm.forward}},[_c('button',{staticClass:\"button is-small item\",attrs:{\"disabled\":!_vm.canShift},on:{\"click\":function($event){return _vm.shiftOne()}}},[_c('i',{staticClass:\"fas\",class:{'fa-step-forward': _vm.forward, 'fa-step-backward': !_vm.forward}})]),_c('v-popover',{attrs:{\"placement\":_vm.selectorPlacement,\"trigger\":\"manual\",\"open\":_vm.opened,\"auto-hide\":false,\"popover-inner-class\":'tooltip-inner popover-inner step-selector'},scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(() => _vm.stopEdition()),expression:\"() => stopEdition()\"},{name:\"click-outside\",rawName:\"v-click-outside:contextmenu.capture\",value:(() => _vm.stopEdition()),expression:\"() => stopEdition()\",arg:\"contextmenu\",modifiers:{\"capture\":true}}],staticClass:\"step-selector\"},[_c('b-input',{ref:\"inputStepSelector\",attrs:{\"placeholder\":_vm.$t('step'),\"size\":\"is-small\"},on:{\"hook:mounted\":function($event){return _vm.focus()},\"blur\":function($event){return _vm.stopEdition()}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.stopEdition()}},model:{value:(_vm.editedValue),callback:function ($$v) {_vm.editedValue=$$v},expression:\"editedValue\"}})],1)]},proxy:true}])},[_c('button',{staticClass:\"button is-small item\",attrs:{\"disabled\":!_vm.canShift},on:{\"click\":function($event){return _vm.shift()},\"contextmenu\":function($event){$event.preventDefault();return _vm.startEdition()}}},[_c('i',{staticClass:\"fas\",class:{'fa-fast-forward': _vm.forward, 'fa-fast-backward': !_vm.forward}}),_c('div',{staticClass:\"step-counter\"},[(_vm.forward)?[_vm._v(\"+\")]:[_vm._v(\"-\")],_vm._v(_vm._s(_vm.step)+\" \")],2)])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"buttons has-addons\" :class=\"{'backward-buttons': !forward}\">\r\n    <button\r\n        class=\"button is-small item\"\r\n        :disabled=\"!canShift\"\r\n        @click=\"shiftOne()\"\r\n    >\r\n      <i class=\"fas\" :class=\"{'fa-step-forward': forward, 'fa-step-backward': !forward}\"></i>\r\n    </button>\r\n    <v-popover\r\n        :placement=\"selectorPlacement\"\r\n        trigger=\"manual\"\r\n        :open=\"opened\"\r\n        :auto-hide=\"false\"\r\n        :popover-inner-class=\"'tooltip-inner popover-inner step-selector'\"\r\n    >\r\n      <button\r\n          class=\"button is-small item\"\r\n          :disabled=\"!canShift\"\r\n          @click=\"shift()\"\r\n          @click.right.prevent=\"startEdition()\"\r\n      >\r\n        <i class=\"fas\" :class=\"{'fa-fast-forward': forward, 'fa-fast-backward': !forward}\"></i>\r\n        <div class=\"step-counter\">\r\n          <template v-if=\"forward\">+</template>\r\n          <template v-else>-</template>{{step}}\r\n        </div>\r\n      </button>\r\n\r\n      <template #popover>\r\n        <div\r\n          v-click-outside=\"() => stopEdition()\"\r\n          v-click-outside:contextmenu.capture=\"() => stopEdition()\"\r\n          class=\"step-selector\"\r\n        >\r\n          <b-input :placeholder=\"$t('step')\" size=\"is-small\"\r\n             v-model=\"editedValue\"\r\n             ref=\"inputStepSelector\"\r\n             @hook:mounted=\"focus()\"\r\n             @blur=\"stopEdition()\"\r\n             @keyup.enter.native=\"stopEdition()\"\r\n          />\r\n        </div>\r\n      </template>\r\n    </v-popover>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ImageControlsShiftButtons',\r\n  props: {\r\n    index: String,\r\n    forward: Boolean,\r\n    current: Number,\r\n    size: Number,\r\n    dimension: String,\r\n  },\r\n  data() {\r\n    return {\r\n      opened: false,\r\n      editedValue: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    viewerWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'];\r\n    },\r\n    imageWrapper() {\r\n      return this.viewerWrapper.images[this.index];\r\n    },\r\n    step: {\r\n      get() {\r\n        return this.imageWrapper.controls.step[this.dimension];\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setStep',\r\n          {dimension: this.dimension, value: Number(value)});\r\n      }\r\n    },\r\n    canShift() {\r\n      return (this.forward) ? (this.current < this.size - 1) : (this.current >= 1);\r\n    },\r\n    shiftDirection() {\r\n      return (this.forward) ? 1 : -1;\r\n    },\r\n    selectorPlacement() {\r\n      return (this.forward) ? 'left' : 'right';\r\n    }\r\n  },\r\n  methods: {\r\n    shiftOne() {\r\n      this.$emit('shift', this.shiftDirection);\r\n    },\r\n    shift() {\r\n      let value = this.shiftDirection;\r\n      value *= (this.forward) ? Math.min(this.step, this.size - this.current - 1) : Math.min(this.step, this.current);\r\n      this.$emit('shift', value);\r\n    },\r\n    startEdition() {\r\n      this.editedValue = this.step;\r\n      this.opened = true;\r\n    },\r\n    stopEdition() {\r\n      this.opened = false;\r\n      if (!this.editedValue || isNaN(this.editedValue)) {\r\n        return;\r\n      }\r\n\r\n      this.step = parseInt(this.editedValue);\r\n    },\r\n    focus() {\r\n      this.$refs.inputStepSelector.focus();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .buttons {\r\n    float:left;\r\n    margin: 1px;\r\n    margin-bottom: 0 !important;\r\n\r\n    .button {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n\r\n  .step-counter {\r\n    position: absolute;\r\n    top: 0.25em;\r\n    right: 0.25em;\r\n    font-size: 0.7em;\r\n    font-weight: 600;\r\n    text-align:right;\r\n    line-height: 0.9em;\r\n  }\r\n\r\n  .backward-buttons {\r\n    flex-direction: row-reverse;\r\n  }\r\n</style>\r\n\r\n<style>\r\n  .step-selector {\r\n    padding: 0.1rem 0.3rem !important;\r\n  }\r\n\r\n  .step-selector input {\r\n    width: 4rem;\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageControlsShiftButtons.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageControlsShiftButtons.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageControlsShiftButtons.vue?vue&type=template&id=5eb6685e&scoped=true&\"\nimport script from \"./ImageControlsShiftButtons.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageControlsShiftButtons.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageControlsShiftButtons.vue?vue&type=style&index=0&id=5eb6685e&prod&lang=scss&scoped=true&\"\nimport style1 from \"./ImageControlsShiftButtons.vue?vue&type=style&index=1&id=5eb6685e&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5eb6685e\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div class=\"image-controls-container\" v-if=\"isImageMultidimensional\">\r\n\r\n    <!-- ----- CHANNELS ----- -->\r\n    <div class=\"image-dimension\" v-if=\"hasChannels\">\r\n      <strong class=\"image-dimension-name\">C</strong>\r\n      <template v-if=\"areChannelsMergeable\">\r\n        <b-select\r\n          :value=\"currentChannelsIndexesOption\"\r\n          @input=\"setCurrentChannelsIndexes\"\r\n          size=\"is-small\"\r\n          class=\"channel-selector\"\r\n          expanded\r\n        >\r\n          <option :value=\"null\">\r\n            {{ $t('merged-channels')}}\r\n            <template v-if=\"currentChannelsIndexesOption === null\">\r\n               ({{orderedCurrentChannels.length}}/{{image.channels}})\r\n              (<span\r\n                v-for=\"(channel, i) in orderedCurrentChannels\"\r\n                :key=\"`${image.id}-${channel.index}-name-list`\"\r\n              >\r\n                <channel-name :channel=\"channel\"/><template v-if=\"i !== currentChannelsIndexes.length - 1\">|</template>\r\n              </span>)\r\n            </template>\r\n          </option>\r\n          <option\r\n            v-for=\"channel in channelOptions\"\r\n            :key=\"`${image.id}-${channel.value}-opt`\"\r\n            :value=\"channel.value\"\r\n          >\r\n            <channel-name :channel=\"channel\" />\r\n          </option>\r\n        </b-select>\r\n\r\n      </template>\r\n      <template v-else>\r\n        <image-controls-shift-buttons\r\n          :index=\"index\"\r\n          :forward=\"false\"\r\n          :current=\"currentSlice.channel\"\r\n          :size=\"image.channels\"\r\n          dimension=\"channel\"\r\n          @shift=\"shift('channel', $event)\"\r\n        />\r\n\r\n        <cytomine-slider\r\n          v-model=\"currentChannelIndex\"\r\n          :max=\"image.channels - 1\"\r\n          :integer-only=\"true\"\r\n          class=\"image-dimension-slider\"\r\n        >\r\n          <template v-if=\"hasChannelName\" #default=\"{ value }\">\r\n            {{channelValue(value) || \"?\"}}\r\n          </template>\r\n        </cytomine-slider>\r\n\r\n        <image-controls-shift-buttons\r\n          :index=\"index\"\r\n          :forward=\"true\"\r\n          :current=\"currentSlice.channel\"\r\n          :size=\"image.channels\"\r\n          dimension=\"channel\"\r\n          @shift=\"shift('channel', $event)\"\r\n        />\r\n      </template>\r\n    </div>\r\n\r\n\r\n    <!-- ----- DEPTH ----- -->\r\n    <div class=\"image-dimension\" v-if=\"hasDepth\">\r\n      <strong class=\"image-dimension-name\">Z</strong>\r\n      <image-controls-shift-buttons\r\n          :index=\"index\"\r\n          :forward=\"false\"\r\n          :current=\"currentSlice.zStack\"\r\n          :size=\"image.depth\"\r\n          dimension=\"zStack\"\r\n          @shift=\"shift('zStack', $event)\"\r\n      />\r\n\r\n      <cytomine-slider\r\n        v-model=\"currentZStackIndex\"\r\n        :max=\"image.depth - 1\"\r\n        :integer-only=\"true\"\r\n        class=\"image-dimension-slider\" />\r\n\r\n      <image-controls-shift-buttons\r\n          :index=\"index\"\r\n          :forward=\"true\"\r\n          :current=\"currentSlice.zStack\"\r\n          :size=\"image.depth\"\r\n          dimension=\"zStack\"\r\n          @shift=\"shift('zStack', $event)\"\r\n      />\r\n    </div>\r\n\r\n\r\n\r\n    <!-- ----- DURATION ----- -->\r\n    <div class=\"image-dimension\" v-if=\"hasDuration\">\r\n      <strong class=\"image-dimension-name\">T</strong>\r\n      <image-controls-shift-buttons\r\n          :index=\"index\"\r\n          :forward=\"false\"\r\n          :current=\"currentSlice.time\"\r\n          :size=\"image.duration\"\r\n          dimension=\"time\"\r\n          @shift=\"shift('time', $event)\"\r\n      />\r\n\r\n<!--      <div class=\"buttons has-addons\">-->\r\n<!--        <button class=\"button is-small\">-->\r\n<!--          <i class=\"fas fa-play\"></i>-->\r\n<!--        </button>-->\r\n<!--      </div>-->\r\n\r\n      <cytomine-slider\r\n        v-model=\"currentTimeIndex\"\r\n        :max=\"image.duration - 1\"\r\n        :integer-only=\"true\"\r\n        class=\"image-dimension-slider\"\r\n      >\r\n        <template v-if=\"image.fps\" #default=\"{ value }\">\r\n          {{formatMinutesSeconds(value / image.fps)}} | {{value}}\r\n        </template>\r\n      </cytomine-slider>\r\n\r\n      <image-controls-shift-buttons\r\n          :index=\"index\"\r\n          :forward=\"true\"\r\n          :current=\"currentSlice.time\"\r\n          :size=\"image.duration\"\r\n          dimension=\"time\"\r\n          @shift=\"shift('time', $event)\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CytomineSlider from '@/components/form/CytomineSlider';\r\nimport ImageControlsShiftButtons from '@/components/viewer/ImageControlsShiftButtons';\r\n\r\nimport {formatMinutesSeconds, slicePositionToRank} from '@/utils/slice-utils.js';\r\nimport constants from '@/utils/constants';\r\nimport _ from 'lodash';\r\nimport ChannelName from '@/components/viewer/ChannelName';\r\n\r\nexport default {\r\n  name: 'image-controls',\r\n  components: {ChannelName, ImageControlsShiftButtons, CytomineSlider},\r\n  props: {\r\n    index: String\r\n  },\r\n  computed: {\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    viewerWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'];\r\n    },\r\n    imageWrapper() {\r\n      return this.viewerWrapper.images[this.index];\r\n    },\r\n    isActiveImage() {\r\n      return this.viewerWrapper.activeImage === this.index;\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    channels() {\r\n      return this.$store.getters[this.imageModule + 'channels'];\r\n    },\r\n    currentSlices() {\r\n      return this.imageWrapper.activeSlices;\r\n    },\r\n    currentSlice() {\r\n      return this.currentSlices[0];\r\n    },\r\n    nbSlices() {\r\n      return this.image.depth * this.image.duration * this.image.channels;\r\n    },\r\n    currentChannelIndex: {\r\n      get() {\r\n        return this.currentSlice.channel;\r\n      },\r\n      async set(value) {\r\n        await this.seek([value], this.currentSlice.zStack, this.currentSlice.time);\r\n      }\r\n    },\r\n    currentChannelsIndexes: {\r\n      get() {\r\n        return this.currentSlices.map(slice => slice.channel);\r\n      },\r\n      async set(value) {\r\n        await this.seek(value, this.currentSlice.zStack, this.currentSlice.time);\r\n      }\r\n    },\r\n    currentZStackIndex: {\r\n      get() {\r\n        return this.currentSlice.zStack;\r\n      },\r\n      async set(value) {\r\n        await this.seek(this.currentChannelsIndexes, value, this.currentSlice.time);\r\n      }\r\n    },\r\n    currentTimeIndex: {\r\n      get() {\r\n        return this.currentSlice.time;\r\n      },\r\n      async set(value) {\r\n        await this.seek(this.currentChannelsIndexes, this.currentSlice.zStack, value);\r\n      }\r\n    },\r\n    hasChannels() {\r\n      return this.image.channels > 1;\r\n    },\r\n    hasDepth() {\r\n      return this.image.depth > 1;\r\n    },\r\n    hasDuration() {\r\n      return this.image.duration > 1;\r\n    },\r\n    isImageMultidimensional() {\r\n      return this.hasChannels || this.hasDuration || this.hasDepth;\r\n    },\r\n    showMultiChannels() {\r\n      return this.currentChannelsIndexes.length > 1;\r\n    },\r\n    sliceInstances() {\r\n      return this.imageWrapper.sliceInstances;\r\n    },\r\n    hasChannelName() {\r\n      return this.currentSlice.channelName !== null;\r\n    },\r\n    areChannelsMergeable() {\r\n      // this.image.apparentChannels <= constants.MAX_MERGEABLE_CHANNELS;\r\n      return true; // TODO [EXPERIMENTAL - large set of merged channels]\r\n    },\r\n    channelOptions() {\r\n      return this.channels.map(channel => ({value: [channel.index], ...channel}));\r\n    },\r\n    orderedCurrentChannels() {\r\n      return [...this.currentChannelsIndexes].sort((a, b) => a - b).map(channelIndex =>\r\n        this.channels.find(c => c.index === channelIndex)\r\n      );\r\n    },\r\n\r\n    currentChannelsIndexesOption() {\r\n      if (this.currentChannelsIndexes.length > 1) {\r\n        return null;\r\n      }\r\n      return this.currentChannelsIndexes;\r\n    }\r\n  },\r\n  methods: {\r\n    setCurrentChannelsIndexes(value) {\r\n      if (value === null) {\r\n        const max = Math.min(constants.MAX_MERGEABLE_CHANNELS, this.image.channels);\r\n        value = _.range(0, max);\r\n      }\r\n      this.currentChannelsIndexes = value;\r\n    },\r\n    formatMinutesSeconds(time) {\r\n      return formatMinutesSeconds(time);\r\n    },\r\n    channelValue(channel) {\r\n      if (this.channels.length === this.image.channels) {\r\n        let info = this.channels[channel];\r\n        return (info) ? info.name : null;\r\n      }\r\n      else {\r\n        let rank = slicePositionToRank({\r\n          channel,\r\n          zStack: this.currentZStackIndex,\r\n          time: this.currentTimeIndex\r\n        }, this.image);\r\n        let slice = this.sliceInstances[rank];\r\n        return (slice) ? slice.channelName : null;\r\n      }\r\n    },\r\n\r\n    async goToRank(rank) {\r\n      await this.$store.dispatch(this.imageModule + 'setActiveSliceByRank', rank);\r\n      this.$eventBus.$emit('reloadAnnotations', {idImage: this.image.id});\r\n    },\r\n    async seek(channels, zStack, time) {\r\n      await this.$store.dispatch(this.imageModule + 'setActiveSlicesByPosition', {channels, zStack, time});\r\n      this.$eventBus.$emit('reloadAnnotations', {idImage: this.image.id});\r\n    },\r\n    async shift(dimension, increment) {\r\n      let time = (dimension === 'time') ? this.currentTimeIndex + increment : this.currentTimeIndex;\r\n      let channels = (dimension === 'channel') ? [this.currentChannelIndex + increment] : this.currentChannelsIndexes;\r\n      let zStack = (dimension === 'zStack') ? this.currentZStackIndex + increment : this.currentZStackIndex;\r\n      await this.seek(channels, zStack, time);\r\n    },\r\n    canShiftForward(dimension) {\r\n      switch (dimension) {\r\n        case 'channel':\r\n          return this.currentSlice.channel < this.image.channels - 1;\r\n        case 'time':\r\n          return this.currentSlice.time < this.image.duration - 1;\r\n        case 'zStack':\r\n          return this.currentSlice.zStack < this.image.depth - 1;\r\n        case 'rank':\r\n          return this.currentSlice.rank < this.nbSlices - 1;\r\n      }\r\n    },\r\n    canShiftBackward(dimension) {\r\n      switch (dimension) {\r\n        case 'channel':\r\n          return this.currentSlice.channel >= 1;\r\n        case 'time':\r\n          return this.currentSlice.time >= 1;\r\n        case 'zStack':\r\n          return this.currentSlice.zStack >= 1;\r\n        case 'rank':\r\n          return this.currentSlice.rank >= 1;\r\n      }\r\n    },\r\n\r\n    async shortkeyHandler(key) {\r\n      if (!this.isActiveImage) {\r\n        return;\r\n      }\r\n\r\n      switch (key) {\r\n        case 'nav-next-t':\r\n          if (this.canShiftForward('time')) {\r\n            await this.shift('time', 1);\r\n          }\r\n          return;\r\n        case 'nav-previous-t':\r\n          if (this.canShiftBackward('time')) {\r\n            await this.shift('time', -1);\r\n          }\r\n          return;\r\n        case 'nav-first-t':\r\n          this.currentTimeIndex = 0;\r\n          return;\r\n        case 'nav-last-t':\r\n          this.currentTimeIndex = this.image.duration - 1;\r\n          return;\r\n        case 'nav-next-z':\r\n          if (this.canShiftForward('zStack')) {\r\n            this.currentZStackIndex++;\r\n          }\r\n          return;\r\n        case 'nav-previous-z':\r\n          if (this.canShiftBackward('zStack')) {\r\n            this.currentZStackIndex--;\r\n          }\r\n          return;\r\n        case 'nav-first-z':\r\n          this.currentZStackIndex = 0;\r\n          return;\r\n        case 'nav-last-z':\r\n          this.currentZStackIndex = this.image.depth - 1;\r\n          return;\r\n        case 'nav-next-c':\r\n          if (!this.showMultiChannels && this.canShiftForward('channel')) {\r\n            this.currentChannelIndex++;\r\n          }\r\n          return;\r\n        case 'nav-previous-c':\r\n          if (!this.showMultiChannels && this.canShiftBackward('channel')) {\r\n            this.currentChannelIndex--;\r\n          }\r\n          return;\r\n        case 'nav-first-c':\r\n          if (!this.showMultiChannels) {\r\n            this.currentChannelIndex = 0;\r\n          }\r\n          return;\r\n        case 'nav-last-c':\r\n          if (!this.showMultiChannels) {\r\n            this.currentChannelIndex = this.image.channels - 1;\r\n          }\r\n          return;\r\n        case 'nav-next-slice':\r\n          if (this.canShiftForward('rank')) {\r\n            await this.goToRank(this.currentSlice.rank + 1);\r\n          }\r\n          return;\r\n        case 'nav-previous-slice':\r\n          if (this.canShiftBackward('rank')) {\r\n            await this.goToRank(this.currentSlice.rank - 1);\r\n          }\r\n          return;\r\n        case 'nav-first-slice':\r\n          await this.seek([0], 0, 0);\r\n          return;\r\n        case 'nav-last-slice':\r\n          await this.seek([this.image.channels - 1], this.image.depth - 1, this.image.duration - 1);\r\n          return;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('shortkeyEvent', this.shortkeyHandler);\r\n  },\r\n  beforeDestroy() {\r\n    this.$eventBus.$off('shortkeyEvent', this.shortkeyHandler);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.image-controls-container {\r\n  padding: 0.5rem;\r\n  border-radius: 4px;\r\n  box-shadow: 0 0 1px #777;\r\n  background: white;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.image-dimension {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.image-dimension-name {\r\n  padding-right: 0.5rem;\r\n  width: 1rem;\r\n}\r\n\r\n.image-dimension-slider {\r\n  flex-grow: 3;\r\n}\r\n\r\n.channel-selector {\r\n  width: 100%;\r\n}\r\n\r\n</style>\r\n\r\n<style>\r\n.image-dimension .vue-slider {\r\n  margin-left: 1rem;\r\n  margin-right: 1rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageControls.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageControls.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageControls.vue?vue&type=template&id=ff293574&scoped=true&\"\nimport script from \"./ImageControls.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageControls.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageControls.vue?vue&type=style&index=0&id=ff293574&prod&lang=scss&scoped=true&\"\nimport style1 from \"./ImageControls.vue?vue&type=style&index=1&id=ff293574&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ff293574\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.isPanelDisplayed('annotation-main'))?_c('annotation-details-container',{attrs:{\"index\":_vm.index},on:{\"select\":_vm.selectAnnotation,\"centerView\":function($event){return _vm.centerView({annot: $event, sameView: true})},\"addTerm\":_vm.addTerm,\"addTrack\":_vm.addTrack,\"updateTermsOrTracks\":_vm.updateTermsOrTracks,\"updateProperties\":_vm.updateProperties,\"delete\":_vm.handleDeletion}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"playground\",staticClass:\"annotation-details-playground\"},[(_vm.selectedFeature && _vm.selectedFeature.properties && _vm.reload)?_c('vue-draggable-resizable',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayAnnotDetails),expression:\"displayAnnotDetails\"}],ref:\"detailsPanel\",staticClass:\"draggable\",attrs:{\"parent\":true,\"resizable\":false,\"drag-handle\":\".drag\",\"w\":_vm.width,\"h\":\"auto\",\"x\":_vm.positionAnnotDetails.x,\"y\":_vm.positionAnnotDetails.y},on:{\"dragstop\":_vm.dragStop}},[_c('div',{staticClass:\"actions\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('current-selection')))]),_c('button',{staticClass:\"drag button is-small close\"},[_c('i',{staticClass:\"fas fa-arrows-alt\"})]),_c('button',{staticClass:\"button is-small close\",on:{\"click\":function($event){_vm.displayAnnotDetails = false}}},[_c('i',{staticClass:\"fas fa-times\"})])]),_c('div',{staticClass:\"annotation-details-container\"},[_c('annotation-details',{key:_vm.selectedFeature.id,attrs:{\"annotation\":_vm.selectedFeature.properties.annot,\"terms\":_vm.terms,\"images\":[_vm.image],\"slices\":_vm.slices,\"profiles\":_vm.profiles,\"tracks\":_vm.tracks,\"users\":_vm.allUsers,\"showImageInfo\":false,\"showChannelInfo\":_vm.showChannelInfo,\"showComments\":_vm.showComments},on:{\"addTerm\":function($event){return _vm.$emit('addTerm', $event)},\"addTrack\":function($event){return _vm.$emit('addTrack', $event)},\"updateTerms\":function($event){return _vm.$emit('updateTermsOrTracks', _vm.annot)},\"updateTracks\":function($event){return _vm.$emit('updateTermsOrTracks', _vm.annot)},\"updateProperties\":function($event){return _vm.$emit('updateProperties')},\"select\":function($event){return _vm.$emit('select', $event)},\"centerView\":function($event){_vm.$emit('centerView', ($event) ? $event : _vm.annot)},\"deletion\":function($event){return _vm.$emit('delete', _vm.annot)}}})],1)]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"annotation-details-playground\" ref=\"playground\">\r\n  <vue-draggable-resizable\r\n    v-if=\"selectedFeature && selectedFeature.properties && reload\"\r\n    v-show=\"displayAnnotDetails\"\r\n    class=\"draggable\"\r\n    :parent=\"true\"\r\n    :resizable=\"false\"\r\n    drag-handle=\".drag\"\r\n    @dragstop=\"dragStop\"\r\n    :w=\"width\" h='auto' :x=\"positionAnnotDetails.x\" :y=\"positionAnnotDetails.y\"\r\n    ref=\"detailsPanel\"\r\n  >\r\n    <div class=\"actions\">\r\n      <h1>{{$t('current-selection')}}</h1>\r\n      <button class=\"drag button is-small close\">\r\n        <i class=\"fas fa-arrows-alt\"></i>\r\n      </button>\r\n      <button class=\"button is-small close\" @click=\"displayAnnotDetails = false\">\r\n        <i class=\"fas fa-times\"></i>\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"annotation-details-container\">\r\n      <annotation-details\r\n        :annotation=\"selectedFeature.properties.annot\"\r\n        :terms=\"terms\"\r\n        :images=\"[image]\"\r\n        :slices=\"slices\"\r\n        :profiles=\"profiles\"\r\n        :tracks=\"tracks\"\r\n        :users=\"allUsers\"\r\n        :showImageInfo=\"false\"\r\n        :showChannelInfo=\"showChannelInfo\"\r\n        :key=\"selectedFeature.id\"\r\n        :showComments=\"showComments\"\r\n        @addTerm=\"$emit('addTerm', $event)\"\r\n        @addTrack=\"$emit('addTrack', $event)\"\r\n        @updateTerms=\"$emit('updateTermsOrTracks', annot)\"\r\n        @updateTracks=\"$emit('updateTermsOrTracks', annot)\"\r\n        @updateProperties=\"$emit('updateProperties')\"\r\n        @select=\"$emit('select', $event)\"\r\n        @centerView=\"$emit('centerView', ($event) ? $event : annot)\"\r\n        @deletion=\"$emit('delete', annot)\"\r\n      />\r\n    </div>\r\n  </vue-draggable-resizable>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport VueDraggableResizable from 'vue-draggable-resizable';\r\n\r\nimport AnnotationDetails from '@/components/annotations/AnnotationDetails';\r\nimport {UserCollection, UserJobCollection} from 'cytomine-client';\r\nimport {fullName} from '@/utils/user-utils.js';\r\n\r\nexport default {\r\n  name: 'annotations-details-container',\r\n  components: {VueDraggableResizable, AnnotationDetails},\r\n  props: {\r\n    index: String,\r\n  },\r\n  data() {\r\n    return {\r\n      width: 320,\r\n      projectUsers: [],\r\n      userJobs: [],\r\n      reload: true,\r\n      showComments: false\r\n    };\r\n  },\r\n  computed: {\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    slices() {\r\n      return this.imageWrapper.activeSlices;\r\n    },\r\n    showChannelInfo() {\r\n      return this.imageWrapper.activeSlices && this.imageWrapper.activeSlices.length > 1;\r\n    },\r\n    profiles() {\r\n      return this.imageWrapper.profile ? [this.imageWrapper.profile] : [];\r\n    },\r\n    displayAnnotDetails: {\r\n      get() {\r\n        return this.imageWrapper.selectedFeatures.displayAnnotDetails;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setDisplayAnnotDetails', value);\r\n      }\r\n    },\r\n    positionAnnotDetails: {\r\n      get() {\r\n        return this.imageWrapper.selectedFeatures.positionAnnotDetails;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setPositionAnnotDetails', value);\r\n      }\r\n    },\r\n    selectedFeature() {\r\n      return this.$store.getters[this.imageModule + 'selectedFeature'];\r\n    },\r\n    allUsers() {\r\n      let allUsers = this.projectUsers.concat(this.userJobs);\r\n      allUsers.forEach(user => user.fullName = fullName(user));\r\n      return allUsers;\r\n    },\r\n    annot() {\r\n      return this.selectedFeature ? this.selectedFeature.properties.annot : {};\r\n    },\r\n    terms() {\r\n      return this.$store.getters['currentProject/terms'] || [];\r\n    },\r\n    tracks() {\r\n      return this.imageWrapper.tracks.tracks;\r\n    }\r\n  },\r\n  watch: {\r\n    selectedFeature() {\r\n      if(this.selectedFeature) {\r\n        this.displayAnnotDetails = true;\r\n        let targetAnnot = this.imageWrapper.selectedFeatures.showComments;\r\n        this.showComments = (targetAnnot === this.annot.id);\r\n        if(targetAnnot !== null) {\r\n          this.$store.commit(this.imageModule + 'setShowComments', null);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchUsers() {\r\n      let collection = new UserCollection({\r\n        filterKey: 'project',\r\n        filterValue: this.image.project.id,\r\n      });\r\n\r\n      this.projectUsers = (await collection.fetchAll()).array;\r\n    },\r\n    async fetchUserJobs() {\r\n      this.userJobs = (await UserJobCollection.fetchAll({\r\n        filterKey: 'project',\r\n        filterValue: this.image.project\r\n      })).array;\r\n    },\r\n\r\n    dragStop(x, y) {\r\n      this.positionAnnotDetails = {x, y};\r\n    },\r\n\r\n    async handleResize() {\r\n      await this.$nextTick(); // wait for update of clientWidth and clientHeight to their new values\r\n\r\n      if(this.$refs.playground) {\r\n        let maxX = Math.max(this.$refs.playground.clientWidth - this.width, 0);\r\n        let height = 500;\r\n        if (this.$refs.detailsPanel) {\r\n          height = this.$refs.detailsPanel.height;\r\n        }\r\n        let maxY = Math.max(this.$refs.playground.clientHeight - height, 0);\r\n        let x = Math.min(this.positionAnnotDetails.x, maxX);\r\n        let y = Math.min(this.positionAnnotDetails.y, maxY);\r\n        this.positionAnnotDetails = {x, y};\r\n\r\n        // HACK to force the component to recreate and take into account new (x,y) ; should no longer be\r\n        // necessary with version 2 of vue-draggable-resizable\r\n        this.reload = false;\r\n        this.$nextTick(() => this.reload = true);\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchUsers();\r\n    this.fetchUserJobs();\r\n  },\r\n  mounted() {\r\n    window.addEventListener('resize', this.handleResize);\r\n    this.$eventBus.$on('updateMapSize', this.handleResize);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener('resize', this.handleResize);\r\n    this.$eventBus.$off('updateMapSize', this.handleResize);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.annotation-details-playground {\r\n  position: absolute;\r\n  left: 3.5rem;\r\n  top: 3.5rem;\r\n  right: 4.5rem;\r\n  bottom: 2em;\r\n  pointer-events: none; /* to allow selection of elements below it */\r\n  /* background: rgba(255, 255, 255, 0.2);\r\n  border: 2px dashed rgba(0, 0, 0, 0.5); */\r\n}\r\n\r\n.draggable {\r\n  background: #f2f2f2;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: 5px;\r\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n  pointer-events: auto;\r\n}\r\n\r\n.actions {\r\n  padding: 0.35em;\r\n  text-align: right;\r\n  background-color: #e5e5e5;\r\n  border-bottom: 1px solid #b5b5b5;\r\n  border-radius: 5px 5px 0 0;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\nh1 {\r\n  font-size: 0.9rem;\r\n  padding: 0;\r\n  flex: 1;\r\n  text-align: left;\r\n  margin-left: 0.4em;\r\n}\r\n\r\n.actions .button {\r\n  margin-left: 0.25rem;\r\n  width: 1.75rem;\r\n}\r\n\r\n.annotation-details-container {\r\n  padding: 0.6em;\r\n  overflow: auto;\r\n  height: 100%;\r\n}\r\n</style>\r\n\r\n<style>\r\n.dragging .button.drag {\r\n  background-color: #6899d0;\r\n  color: #fff;\r\n}\r\n\r\n.annotation-details-playground .draggable {\r\n  z-index: 15 !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetailsContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetailsContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationDetailsContainer.vue?vue&type=template&id=0d23ef15&scoped=true&\"\nimport script from \"./AnnotationDetailsContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationDetailsContainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnnotationDetailsContainer.vue?vue&type=style&index=0&id=0d23ef15&prod&scoped=true&lang=css&\"\nimport style1 from \"./AnnotationDetailsContainer.vue?vue&type=style&index=1&id=0d23ef15&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d23ef15\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <annotation-details-container\r\n      v-if=\"isPanelDisplayed('annotation-main')\"\r\n      :index=\"index\"\r\n      @select=\"selectAnnotation\"\r\n      @centerView=\"centerView({annot: $event, sameView: true})\"\r\n      @addTerm=\"addTerm\"\r\n      @addTrack=\"addTrack\"\r\n      @updateTermsOrTracks=\"updateTermsOrTracks\"\r\n      @updateProperties=\"updateProperties\"\r\n      @delete=\"handleDeletion\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {Action, updateTermProperties, updateTrackProperties} from '@/utils/annotation-utils.js';\r\n\r\nimport WKT from 'ol/format/WKT';\r\n\r\nimport AnnotationDetailsContainer from './AnnotationDetailsContainer';\r\n\r\nexport default {\r\n  name: 'AnnotationsContainer',\r\n  props: {\r\n    index: String,\r\n  },\r\n  data() {\r\n    return {\r\n      format: new WKT(),\r\n    };\r\n  },\r\n  components: {\r\n    AnnotationDetailsContainer,\r\n  },\r\n  computed: {\r\n    configUI: get('currentProject/configUI'),\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n  },\r\n  methods: {\r\n    isPanelDisplayed(panel) {\r\n      return this.configUI[`project-explore-${panel}`];\r\n    },\r\n\r\n    addTerm(term) {\r\n      this.$store.dispatch(this.viewerModule + 'addTerm', term);\r\n    },\r\n\r\n    addTrack(track) {\r\n      this.$store.dispatch(this.viewerModule + 'refreshTracks', {idImage: track.image});\r\n    },\r\n\r\n    async updateTermsOrTracks(annot) {\r\n      let updatedAnnot = await annot.clone().fetch();\r\n      await updateTermProperties(updatedAnnot);\r\n      await updateTrackProperties(updatedAnnot);\r\n\r\n      this.$eventBus.$emit('editAnnotation', updatedAnnot);\r\n      this.$store.commit(this.imageModule + 'changeAnnotSelectedFeature', {indexFeature: 0, annot: updatedAnnot});\r\n    },\r\n\r\n    updateProperties() {\r\n      this.$store.dispatch(this.imageModule + 'refreshProperties', this.index);\r\n    },\r\n\r\n    handleDeletion(annot) {\r\n      this.$store.commit(this.imageModule + 'addAction', {annot: annot, type: Action.DELETE});\r\n      this.$eventBus.$emit('deleteAnnotation', annot);\r\n    },\r\n\r\n    selectAnnotation({annot, options}) {\r\n      let index = (options.trySameView) ? this.index : null;\r\n      this.$eventBus.$emit('selectAnnotation', {index, annot, center: true});\r\n    },\r\n\r\n    centerView({annot, sameView=false}) {\r\n      if (sameView) {\r\n        this.$emit('centerView', annot);\r\n      }\r\n      else {\r\n        this.$eventBus.$emit('selectAnnotation', {index: null, annot, center: true});\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationsContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationsContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationsContainer.vue?vue&type=template&id=0c9628f6&scoped=true&\"\nimport script from \"./AnnotationsContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationsContainer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c9628f6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(\" \"+_vm._s(_vm.$t('information'))+\" \")]),_c('table',{staticClass:\"table\"},[_c('tbody',[(_vm.currentUser.isDeveloper)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('id')))])]),_c('td',[_vm._v(_vm._s(_vm.image.id))])]):_vm._e(),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('name')))])]),_c('td',[_c('image-name',{attrs:{\"image\":_vm.image,\"showBothNames\":\"\"}})],1)]),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('width')))])]),_c('td',[_vm._v(_vm._s(_vm.image.width)+\" \"+_vm._s(_vm.$t(\"pixels\")))])]),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('height')))])]),_c('td',[_vm._v(_vm._s(_vm.image.height)+\" \"+_vm._s(_vm.$t(\"pixels\")))])]),(_vm.image.depth > 1)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('image-depth')))])]),_c('td',[_vm._v(_vm._s(_vm.$tc(\"count-slices\", _vm.image.depth, {count: _vm.image.depth})))])]):_vm._e(),(_vm.image.duration > 1)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('image-time')))])]),_c('td',[_vm._v(_vm._s(_vm.$tc(\"count-frames\", _vm.image.duration, {count: _vm.image.duration})))])]):_vm._e(),(_vm.image.channels > 1)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('image-channels')))])]),_c('td',[_vm._v(\" \"+_vm._s(_vm.$tc(\"count-bands\", _vm.image.apparentChannels, {count: _vm.image.apparentChannels}))+\" (\"+_vm._s(_vm.image.channels)+\" x \"+_vm._s(_vm.image.samplePerPixel)+\") \")])]):_vm._e(),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('resolution')))])]),(_vm.image.physicalSizeX)?_c('td',[_vm._v(_vm._s(_vm.image.physicalSizeX.toFixed(3))+\" \"+_vm._s(_vm.$t(\"um-per-pixel\")))]):_c('td',[_vm._v(_vm._s(_vm.$t(\"unknown\")))])]),(_vm.image.depth > 1)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('z-resolution')))])]),(_vm.image.physicalSizeZ)?_c('td',[_vm._v(_vm._s(_vm.image.physicalSizeZ.toFixed(3))+\" \"+_vm._s(_vm.$t(\"um-per-slice\")))]):_c('td',[_vm._v(_vm._s(_vm.$t(\"unknown\")))])]):_vm._e(),(_vm.image.duration > 1)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('frame-rate')))])]),(_vm.image.fps)?_c('td',[_vm._v(_vm._s(_vm.image.fps.toFixed(3))+\" \"+_vm._s(_vm.$t(\"frame-per-second\")))]):_c('td',[_vm._v(_vm._s(_vm.$t(\"unknown\")))])]):_vm._e(),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('magnification')))])]),(_vm.image.magnification)?_c('td',[_vm._v(_vm._s(_vm.image.magnification))]):_c('td',[_vm._v(_vm._s(_vm.$t('unknown')))])]),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('image-metadata')))])]),_c('td',[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.$emit('openMetadata')}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-metadata'))+\" \")])])]),_c('tr',[_c('td',{staticClass:\"buttons-wrapper\",attrs:{\"colspan\":\"2\"}},[_c('div',{staticClass:\"buttons\"},[(_vm.canEdit)?_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.calibrationModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-set-calibration'))+\" \")]):_vm._e(),_c('router-link',{staticClass:\"button is-small\",attrs:{\"to\":`/project/${_vm.image.project}/image/${_vm.image.id}/information`}},[_vm._v(\" \"+_vm._s(_vm.$t('button-more-info'))+\" \")]),(_vm.canDownloadImages)?_c('a',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.download(_vm.image, _vm.shortTermToken)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-download'))+\" \")]):_vm._e()],1)])]),_c('tr',[_c('td',{staticClass:\"buttons-wrapper\",attrs:{\"colspan\":\"2\"}},[_c('div',{staticClass:\"buttons navigation has-addons\"},[_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":_vm.isFirstImage},on:{\"click\":function($event){return _vm.previousImage()}}},[_c('i',{staticClass:\"fas fa-angle-left fa-lg\"}),_vm._v(\" \"+_vm._s(_vm.$t('button-previous-image'))+\" \")]),_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":_vm.isLastImage},on:{\"click\":function($event){return _vm.nextImage()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-next-image'))+\" \"),_c('i',{staticClass:\"fas fa-angle-right fa-lg\"})])])])])])]),_c('calibration-modal',{attrs:{\"image\":_vm.image,\"active\":_vm.calibrationModal},on:{\"update:active\":function($event){_vm.calibrationModal=$event},\"setResolution\":_vm.setResolution}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <h1>\r\n    {{$t('information')}}\r\n  </h1>\r\n  <table class=\"table\">\r\n    <tbody>\r\n      <tr v-if=\"currentUser.isDeveloper\">\r\n        <td><strong>{{$t('id')}}</strong></td>\r\n        <td>{{image.id}}</td>\r\n      </tr>\r\n      <tr>\r\n        <td><strong>{{$t('name')}}</strong></td>\r\n        <td><image-name :image=\"image\" showBothNames /></td>\r\n      </tr>\r\n      <tr>\r\n        <td><strong>{{$t('width')}}</strong></td>\r\n        <td>{{image.width}} {{$t(\"pixels\")}}</td>\r\n      </tr>\r\n      <tr>\r\n        <td><strong>{{$t('height')}}</strong></td>\r\n        <td>{{image.height}} {{$t(\"pixels\")}}</td>\r\n      </tr>\r\n      <tr v-if=\"image.depth > 1\">\r\n        <td><strong>{{$t('image-depth')}}</strong></td>\r\n        <td>{{$tc(\"count-slices\", image.depth, {count: image.depth})}}</td>\r\n      </tr>\r\n      <tr v-if=\"image.duration > 1\">\r\n        <td><strong>{{$t('image-time')}}</strong></td>\r\n        <td>{{$tc(\"count-frames\", image.duration, {count: image.duration})}}</td>\r\n      </tr>\r\n      <tr v-if=\"image.channels > 1\">\r\n        <td><strong>{{$t('image-channels')}}</strong></td>\r\n        <td>\r\n          {{$tc(\"count-bands\", image.apparentChannels, {count: image.apparentChannels})}}\r\n          ({{image.channels}} x {{image.samplePerPixel}})\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td><strong>{{$t('resolution')}}</strong></td>\r\n        <td v-if=\"image.physicalSizeX\">{{image.physicalSizeX.toFixed(3)}} {{$t(\"um-per-pixel\")}}</td>\r\n        <td v-else>{{$t(\"unknown\")}}</td>\r\n      </tr>\r\n      <tr v-if=\"image.depth > 1\">\r\n        <td><strong>{{$t('z-resolution')}}</strong></td>\r\n        <td v-if=\"image.physicalSizeZ\">{{image.physicalSizeZ.toFixed(3)}} {{$t(\"um-per-slice\")}}</td>\r\n        <td v-else>{{$t(\"unknown\")}}</td>\r\n      </tr>\r\n      <tr v-if=\"image.duration > 1\">\r\n        <td><strong>{{$t('frame-rate')}}</strong></td>\r\n        <td v-if=\"image.fps\">{{image.fps.toFixed(3)}} {{$t(\"frame-per-second\")}}</td>\r\n        <td v-else>{{$t(\"unknown\")}}</td>\r\n      </tr>\r\n      <tr>\r\n        <td><strong>{{$t('magnification')}}</strong></td>\r\n        <td v-if=\"image.magnification\">{{image.magnification}}</td>\r\n        <td v-else>{{$t('unknown')}}</td>\r\n      </tr>\r\n      <tr>\r\n        <td><strong>{{ $t('image-metadata') }}</strong></td>\r\n        <td>\r\n          <button class=\"button is-small\" @click=\"$emit('openMetadata')\">\r\n            {{ $t('button-metadata') }}\r\n          </button>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td colspan=\"2\" class=\"buttons-wrapper\">\r\n          <div class=\"buttons\">\r\n            <button v-if=\"canEdit\" class=\"button is-small\" @click=\"calibrationModal = true\">\r\n              {{$t('button-set-calibration')}}\r\n            </button>\r\n            <router-link :to=\"`/project/${image.project}/image/${image.id}/information`\" class=\"button is-small\">\r\n              {{$t('button-more-info')}}\r\n            </router-link>\r\n            <a class=\"button is-small\" v-if=\"canDownloadImages\" @click=\"download(image, shortTermToken)\">\r\n              {{$t('button-download')}}\r\n            </a>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td colspan=\"2\" class=\"buttons-wrapper\">\r\n          <div class=\"buttons navigation has-addons\">\r\n            <button class=\"button is-small\" @click=\"previousImage()\" :disabled=\"isFirstImage\">\r\n              <i class=\"fas fa-angle-left fa-lg\"></i> {{$t('button-previous-image')}}\r\n            </button>\r\n            <button class=\"button is-small\" @click=\"nextImage()\" :disabled=\"isLastImage\">\r\n              {{$t('button-next-image')}} <i class=\"fas fa-angle-right fa-lg\"></i>\r\n            </button>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n  <calibration-modal\r\n    :image=\"image\"\r\n    :active.sync=\"calibrationModal\"\r\n    @setResolution=\"setResolution\"\r\n  />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport ImageName from '@/components/image/ImageName';\r\nimport CalibrationModal from '@/components/image/CalibrationModal';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\n\r\nexport default {\r\n  name: 'information-panel',\r\n  components: {\r\n    ImageName,\r\n    CalibrationModal\r\n  },\r\n  props: {\r\n    index: String\r\n  },\r\n  data() {\r\n    return {\r\n      calibrationModal: false,\r\n      isFirstImage: false,\r\n      isLastImage: false,\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    viewerWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'];\r\n    },\r\n    image() {\r\n      return this.viewerWrapper.images[this.index].imageInstance;\r\n    },\r\n    canEdit() {\r\n      return this.$store.getters['currentProject/canEditImage'](this.image);\r\n    },\r\n    canDownloadImages() {\r\n      // Virtual images (null path) cannot be downloaded.\r\n      return this.image.path !== null && (\r\n        this.canManageProject ||\r\n        ((this.$store.state.currentProject.project || {}).areImagesDownloadable) || false\r\n      );\r\n    },\r\n    canManageProject() {\r\n      return this.$store.getters['currentProject/canManageProject'];\r\n    },\r\n    isActiveImage() {\r\n      return this.viewerWrapper.activeImage === this.index;\r\n    }\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    setResolution(resolution) {\r\n      this.$store.dispatch(this.viewerModule + 'setImageResolution', {idImage: this.image.id, resolution});\r\n      this.$eventBus.$emit('reloadAnnotations', {idImage: this.image.id}); // refresh the sources to update perimeter/area\r\n    },\r\n    download(image) {\r\n      window.location.assign(appendShortTermToken(image.downloadURL, this.shortTermToken));\r\n    },\r\n    async previousImage() {\r\n      try {\r\n        let prev = await this.image.fetchPrevious();\r\n        if(!prev.id) {\r\n          this.$notify({type: 'error', text: this.$t('notif-error-first-image')});\r\n          this.isFirstImage = true;\r\n        }\r\n        else {\r\n          let slice = await prev.fetchReferenceSlice();\r\n          await this.$store.dispatch(this.imageModule + 'setImageInstance', {image: prev, slices: [slice]});\r\n        }\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-fetch-previous-image')});\r\n      }\r\n    },\r\n    async nextImage() {\r\n      try {\r\n        let next = await this.image.fetchNext();\r\n        if(!next.id) {\r\n          this.$notify({type: 'error', text: this.$t('notif-error-last-image')});\r\n          this.isLastImage = true;\r\n        }\r\n        else {\r\n          let slice = await next.fetchReferenceSlice();\r\n          await this.$store.dispatch(this.imageModule + 'setImageInstance', {image: next, slices: [slice]});\r\n        }\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-fetch-next-image')});\r\n      }\r\n    },\r\n\r\n    shortkeyHandler(key) {\r\n      if(!this.isActiveImage) { // shortkey should only be applied to active map\r\n        return;\r\n      }\r\n\r\n      if(key === 'nav-next-image') {\r\n        this.nextImage();\r\n      }\r\n      else if(key === 'nav-previous-image') {\r\n        this.previousImage();\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('shortkeyEvent', this.shortkeyHandler);\r\n  },\r\n  beforeDestroy() {\r\n    this.$eventBus.$off('shortkeyEvent', this.shortkeyHandler);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n  margin-bottom: 0 !important;\r\n  width: 100%;\r\n  table-layout: fixed;\r\n}\r\n\r\ntd {\r\n  word-wrap: break-word;\r\n}\r\n\r\ntd:first-child {\r\n  width: 10em;\r\n}\r\n\r\n.buttons-wrapper {\r\n  padding-left: 0;\r\n  padding-right: 0;\r\n}\r\n\r\n.buttons {\r\n  justify-content: center;\r\n}\r\n\r\n.buttons.navigation {\r\n  margin-top: 0.7em;\r\n  margin-bottom: 0;\r\n  border-width: 0;\r\n}\r\n\r\n.fa-angle-left {\r\n  margin-right: 0.4em;\r\n}\r\n\r\n.fa-angle-right {\r\n  margin-left: 0.4em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InformationPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InformationPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InformationPanel.vue?vue&type=template&id=184a5a83&scoped=true&\"\nimport script from \"./InformationPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./InformationPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InformationPanel.vue?vue&type=style&index=0&id=184a5a83&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"184a5a83\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"metadata-viewer\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('image-metadata')))]),_c('a',{on:{\"click\":function($event){return _vm.closeMetadata()}}},[_c('span',{staticClass:\"fas fa-times-circle\"})])]),_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\",\"size\":\"is-small\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('table',{staticClass:\"table\"},[_vm._m(0),_c('tbody',_vm._l((_vm.filteredProps),function(property){return _c('tr',{key:property.id},[_c('td',[_c('strong',[_vm._v(_vm._s(property.key))])]),_c('td',[_vm._v(_vm._s(property.value))])])}),0)])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Metadata\")]),_c('th',[_vm._v(\"Value\")])])])\n}]\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2023. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div>\r\n    <div class=\"metadata-viewer\">\r\n      <h1>{{ $t('image-metadata') }}</h1>\r\n      <a @click=\"closeMetadata()\">\r\n        <span class=\"fas fa-times-circle\"></span>\r\n      </a>\r\n    </div>\r\n\r\n    <b-input\r\n      v-model=\"searchString\"\r\n      :placeholder=\"$t('search-placeholder')\"\r\n      type=\"search\"\r\n      icon=\"search\"\r\n      size=\"is-small\"\r\n    />\r\n\r\n    <table class=\"table\">\r\n      <thead>\r\n      <tr>\r\n        <th>Metadata</th>\r\n        <th>Value</th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr v-for=\"property in filteredProps\" :key=\"property.id\">\r\n        <td><strong>{{ property.key }}</strong></td>\r\n        <td>{{ property.value }}</td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\nimport {AbstractImage, PropertyCollection} from 'cytomine-client';\r\n\r\nexport default {\r\n  name: 'metadata-panel',\r\n  props: {\r\n    index: String,\r\n  },\r\n  data() {\r\n    return {\r\n      properties: [],\r\n      searchString: '',\r\n    };\r\n  },\r\n  computed: {\r\n    viewerWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'];\r\n    },\r\n    image() {\r\n      return this.viewerWrapper.images[this.index].imageInstance;\r\n    },\r\n    filteredProps() {\r\n      if (!this.searchString) {\r\n        return this.properties;\r\n      }\r\n      let regexp = getWildcardRegexp(this.searchString);\r\n      return this.properties.filter(prop => regexp.test(prop.key) || regexp.test(prop.value));\r\n    },\r\n  },\r\n  methods: {\r\n    closeMetadata() {\r\n      this.$eventBus.$emit('closeMetadata');\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      let abstractImage = new AbstractImage({id: this.image.baseImage, class: 'be.cytomine.image.AbstractImage'});\r\n      this.properties = (await PropertyCollection.fetchAll({object: abstractImage})).array;\r\n      this.properties.sort((a, b) => a.key.localeCompare(b.key));\r\n    }\r\n    catch (error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n$backgroundPanel: #f2f2f2;\r\n\r\n.metadata-viewer {\r\n  display: flex;\r\n}\r\n\r\nh1 {\r\n  margin: 0;\r\n  text-align: center;\r\n}\r\n\r\na {\r\n  margin-left: auto;\r\n}\r\n\r\n.table {\r\n  background-color: $backgroundPanel;\r\n  margin-bottom: 1em !important;\r\n  font-size: 0.9em;\r\n}\r\n\r\n.table thead tr {\r\n  display: block;\r\n}\r\n\r\n.table tbody {\r\n  display: block;\r\n  overflow-x: scroll;\r\n  overflow-y: scroll;\r\n  min-width: 30em;\r\n  max-width: 60em;\r\n  min-height: 30em;\r\n  max-height: 30em;\r\n}\r\n\r\n.table th {\r\n  width: 1%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetadataPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetadataPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MetadataPanel.vue?vue&type=template&id=45b50a44&scoped=true&\"\nimport script from \"./MetadataPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./MetadataPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MetadataPanel.vue?vue&type=style&index=0&id=45b50a44&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45b50a44\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$t('digital-zoom')))]),_c('b-checkbox',{model:{value:(_vm.digitalZoom),callback:function ($$v) {_vm.digitalZoom=$$v},expression:\"digitalZoom\"}},[_vm._v(\" \"+_vm._s(_vm.$t('digital-zoom-checkbox-label'))+\" \")]),_c('div',{staticClass:\"actions level\"},[_c('button',{staticClass:\"button is-small level-item\",on:{\"click\":function($event){return _vm.$emit('fitZoom')}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-best-fit-zoom'))+\" \")]),_c('button',{staticClass:\"button is-small level-item\",on:{\"click\":function($event){return _vm.$emit('resetZoom')}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-reset-zoom'))+\" \")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <h1>{{$t('digital-zoom')}}</h1>\r\n  <b-checkbox v-model=\"digitalZoom\">\r\n    {{$t('digital-zoom-checkbox-label')}}\r\n  </b-checkbox>\r\n\r\n  <div class=\"actions level\">\r\n    <button class=\"button is-small level-item\" @click=\"$emit('fitZoom')\">\r\n      {{ $t('button-best-fit-zoom') }}\r\n    </button>\r\n    <button class=\"button is-small level-item\" @click=\"$emit('resetZoom')\">\r\n      {{ $t('button-reset-zoom') }}\r\n    </button>\r\n  </div>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'digital-zoom',\r\n  props: {\r\n    index: String\r\n  },\r\n  computed: {\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    digitalZoom: {\r\n      get() {\r\n        return this.imageWrapper.view.digitalZoom;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setDigitalZoom', Boolean(value));\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .actions .button {\r\n    margin: 3px;\r\n    box-sizing: border-box;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DigitalZoom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DigitalZoom.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DigitalZoom.vue?vue&type=template&id=319faf68&scoped=true&\"\nimport script from \"./DigitalZoom.vue?vue&type=script&lang=js&\"\nexport * from \"./DigitalZoom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DigitalZoom.vue?vue&type=style&index=0&id=319faf68&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"319faf68\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$t('colors')))]),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\",\"size\":\"is-small\"}},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('table',{staticClass:\"table\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"checkbox-column\"},[_c('span',{staticClass:\"far fa-eye\"})]),_c('th',{staticClass:\"name-column\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"size\":\"is-small\",\"expanded\":\"\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('th',{staticClass:\"bounds-column\"},[_c('div',{staticClass:\"buttons has-addons is-right\"},[(_vm.isImageMultidimensional)?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('button-adjust-slice')),expression:\"$t('button-adjust-slice')\"}],staticClass:\"button is-small\",attrs:{\"disabled\":_vm.areBoundsAdjustedToSlice},on:{\"click\":_vm.adjustAllToSlice}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-magic\"}),_c('span',{staticClass:\"subscript\"},[_vm._v(\"ZT\")])])]):_vm._e(),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.adjustImageLabel),expression:\"adjustImageLabel\"}],staticClass:\"button is-small\",attrs:{\"disabled\":_vm.areBoundsAdjustedToImage},on:{\"click\":_vm.adjustAllToImage}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-magic\"})])]),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('button-reset')),expression:\"$t('button-reset')\"}],staticClass:\"button is-small\",attrs:{\"disabled\":_vm.areBoundsDefault},on:{\"click\":_vm.resetAll}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-tint-slash\"})])])])]),_c('th',{staticClass:\"settings-column\"},[_c('b-dropdown',{attrs:{\"position\":\"is-bottom-left\"},scopedSlots:_vm._u([{key:\"trigger\",fn:function({ active }){return [_c('button',{staticClass:\"button is-small\",class:{'is-selected': active}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-cogs\"})])])]}}])},[_c('b-dropdown-item',{attrs:{\"custom\":\"\"}},[_c('b-field',{attrs:{\"label\":_vm.$t('histogram-scale'),\"custom-class\":\"is-small\"}},[_c('div',{staticClass:\"block\"},[_c('b-radio',{attrs:{\"native-value\":false,\"size\":\"is-small\"},model:{value:(_vm.histogramLogScale),callback:function ($$v) {_vm.histogramLogScale=$$v},expression:\"histogramLogScale\"}},[_vm._v(\" \"+_vm._s(_vm.$t('linear'))+\" \")]),_c('b-radio',{attrs:{\"native-value\":true,\"size\":\"is-small\"},model:{value:(_vm.histogramLogScale),callback:function ($$v) {_vm.histogramLogScale=$$v},expression:\"histogramLogScale\"}},[_vm._v(\" \"+_vm._s(_vm.$t('logarithmic'))+\" \")])],1)]),_c('b-field',{attrs:{\"label\":_vm.$t('intensities-manipulation'),\"custom-class\":\"is-small\"}},[_c('div',{staticClass:\"block\"},[_c('b-radio',{attrs:{\"native-value\":true,\"size\":\"is-small\"},model:{value:(_vm.intensitiesByMinMax),callback:function ($$v) {_vm.intensitiesByMinMax=$$v},expression:\"intensitiesByMinMax\"}},[_vm._v(\" \"+_vm._s(_vm.$t('min-max'))+\" \")]),_c('b-radio',{attrs:{\"native-value\":false,\"size\":\"is-small\"},model:{value:(_vm.intensitiesByMinMax),callback:function ($$v) {_vm.intensitiesByMinMax=$$v},expression:\"intensitiesByMinMax\"}},[_vm._v(\" \"+_vm._s(_vm.$t('brightness'))+\"/\"+_vm._s(_vm.$t('contrast'))+\" \")])],1)])],1)],1)],1)])]),_c('tbody',[_vm._l((_vm.filteredManipulableChannels),function(mc){return [_c('tr',{key:`channel-${_vm.image.id}-${mc.index}`},[_c('td',{staticClass:\"checkbox-column\"},[_c('b-checkbox',{attrs:{\"size\":\"is-small\",\"value\":mc.visible,\"disabled\":_vm.isApparentChannelVisibilityDisabled(mc)},on:{\"input\":function($event){return _vm.setApparentChannelVisibility(mc.index, $event)}}})],1),_c('td',{staticClass:\"name-column\"},[_c('cytomine-channel',{attrs:{\"name\":mc.name,\"color\":mc.color,\"default-color\":mc.defaultColor,\"channel-index\":mc.channel,\"sample-index\":mc.sample,\"nb-samples-per-channel\":_vm.image.samplePerPixel,\"editable-color\":true},on:{\"setColor\":function($event){return _vm.setApparentChannelColor(mc.index, $event)},\"click\":function($event){return _vm.toggleLookUpTableDetails(mc.index)}}})],1),_c('td',{staticClass:\"bounds-column\"},[_vm._v(\" (\"+_vm._s(mc.bounds.min)+\" - \"+_vm._s(mc.bounds.max)+\") \")]),_c('td',{staticClass:\"checkbox-column\"},[_c('a',{attrs:{\"role\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleLookUpTableDetails(mc.index)}}},[(_vm.isVisibleLookUpTableDetails(mc.index))?_c('i',{staticClass:\"fas fa-chevron-down\"}):_c('i',{staticClass:\"fas fa-chevron-up\"})])])]),(_vm.isVisibleLookUpTableDetails(mc.index))?_c('tr',{key:`channel-${_vm.image.id}-${mc.index}-details`},[_c('td',{attrs:{\"colspan\":\"4\"}},[_c('div',{staticClass:\"chart-container channel-histogram\"},[_c('histogram-chart',{attrs:{\"log-scale\":_vm.histogramLogScale,\"color\":mc.color,\"histogram\":mc.histogram.histogram,\"n-bins\":mc.histogram.nBins,\"first-bin\":mc.histogram.firstBin,\"last-bin\":mc.histogram.lastBin,\"default-bounds\":_vm.defaultBounds,\"image-bounds\":{min: mc.histogram.minimum, max:mc.histogram.maximum},\"current-bounds\":mc.bounds,\"gamma\":mc.gamma,\"inverted\":mc.inverted,\"css-classes\":\"chart\"}})],1),_c('adjustable-look-up-table',{attrs:{\"index\":_vm.index,\"adjust-image-label\":_vm.adjustImageLabel,\"show-adjust-buttons\":_vm.manipulableChannels.length > 1,\"intensities-by-min-max\":_vm.intensitiesByMinMax,\"default-bounds\":_vm.defaultBounds,\"gamma\":mc.gamma,\"inverted\":mc.inverted,\"bounds\":mc.bounds,\"image-bounds\":mc.imageBounds,\"slice-bounds\":{min: mc.histogram.minimum, max: mc.histogram.maximum}},on:{\"setBounds\":function($event){return _vm.setApparentChannelBounds(mc.index, $event)},\"adjustToImage\":function($event){return _vm.adjustToImage(mc.index)},\"adjustToSlice\":function($event){return _vm.adjustToSlice(mc.index)},\"reset\":function($event){return _vm.reset(mc.index)},\"setGamma\":function($event){return _vm.setApparentChannelGamma(mc.index, $event)},\"invert\":function($event){return _vm.setApparentChannelInverted(mc.index, $event)}}})],1)]):_vm._e()]})],2)]),(_vm.filters && _vm.filters.length > 0)?_c('b-field',{attrs:{\"horizontal\":\"\",\"label\":_vm.$t('filter')}},[_c('b-select',{attrs:{\"size\":\"is-small\",\"expanded\":\"\"},model:{value:(_vm.selectedFilter),callback:function ($$v) {_vm.selectedFilter=$$v},expression:\"selectedFilter\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.$t('original-no-filter')))]),_vm._l((_vm.filters),function(filter){return _c('option',{key:filter.id,domProps:{\"value\":filter.method}},[_vm._v(\" \"+_vm._s(filter.name)+\" \")])})],2)],1):_vm._e()]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport function sameHistogramBounds(bounds1, bounds2) {\r\n  return bounds1.min === bounds2.min && bounds1.max === bounds2.max;\r\n}\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-popover',{attrs:{\"placement\":\"right\",\"popover-inner-class\":'color-selector',\"open\":_vm.showColorSelector,\"delay\":0},on:{\"update:open\":function($event){_vm.showColorSelector=$event}},scopedSlots:_vm._u([(_vm.showColorSelector)?{key:\"popover\",fn:function(){return [_c('sketch-picker',{attrs:{\"value\":_vm.formattedColor,\"presetColors\":_vm.presetColors,\"disable-alpha\":true},on:{\"input\":_vm.setColor}})]},proxy:true}:null],null,true)},[_c('div',{staticClass:\"color-preview\",class:{'is-selected': _vm.showColorSelector, 'is-clickable': _vm.editableColor},style:({background: _vm.formattedColor}),on:{\"click\":_vm.openColorSelector}})]),_c('a',{attrs:{\"role\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('click')}}},[_vm._v(\" \"+_vm._s(_vm.formattedName)+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <v-popover\r\n    placement=\"right\"\r\n    :popover-inner-class=\"'color-selector'\"\r\n    :open.sync=\"showColorSelector\"\r\n    :delay=\"0\"\r\n  >\r\n    <div\r\n      class=\"color-preview\"\r\n      :style=\"{background: formattedColor}\"\r\n      :class=\"{'is-selected': showColorSelector, 'is-clickable': editableColor}\"\r\n      @click=\"openColorSelector\"\r\n    ></div>\r\n    <template #popover v-if=\"showColorSelector\">\r\n      <sketch-picker\r\n        :value=\"formattedColor\"\r\n        @input=\"setColor\"\r\n        :presetColors=\"presetColors\"\r\n        :disable-alpha=\"true\"\r\n      />\r\n    </template>\r\n\r\n  </v-popover>\r\n  <a\r\n    role=\"button\"\r\n    @click.stop=\"$emit('click')\"\r\n  >\r\n    {{formattedName}}\r\n  </a>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash';\r\n\r\nimport {Sketch} from 'vue-color';\r\n\r\nexport default {\r\n  name: 'cytomine-channel',\r\n  components: {\r\n    'sketch-picker': Sketch,\r\n  },\r\n  props: {\r\n    name: String,\r\n    color: String,\r\n    defaultColor: String,\r\n\r\n    channelIndex: Number,\r\n    sampleIndex: Number,\r\n    nbSamplesPerChannel: {type: Number, default: 1},\r\n\r\n    editableColor: {type: Boolean, default: false},\r\n  },\r\n  data() {\r\n    return {\r\n      showColorSelector: false\r\n    };\r\n  },\r\n  computed: {\r\n    rgbColors() {\r\n      return [this.$t('red'), this.$t('green'), this.$t('blue')];\r\n    },\r\n    formattedName() {\r\n      let name = this.name;\r\n      if (name === null) {\r\n        name = `${this.$t('channel-abbr')} ${this.channelIndex+1}`;\r\n      }\r\n      if (this.nbSamplesPerChannel === 3) {\r\n        name += ` (${this.rgbColors[this.sampleIndex]})`;\r\n      }\r\n      return name;\r\n    },\r\n    formattedColor() {\r\n      if (this.color === null) {\r\n        return '#ffffff';\r\n      }\r\n      return this.color;\r\n    },\r\n    presetColors() {\r\n      let defaultColor = (this.defaultColor === null) ? '#ffffff' : this.defaultColor;\r\n      return [\r\n        defaultColor,\r\n        '#FF0000',\r\n        '#00FF00',\r\n        '#0000FF',\r\n        '#00FFFF',\r\n        '#FFFF00',\r\n        '#FF00FF',\r\n        '#FFF'\r\n      ];\r\n    }\r\n  },\r\n  methods: {\r\n    openColorSelector() {\r\n      if (this.editableColor) {\r\n        this.showColorSelector = !this.showColorSelector;\r\n      }\r\n    },\r\n    setColor: _.debounce(function(color) {\r\n      this.$emit('setColor', color.hex);\r\n    }, 500, {leading: true}),\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.color-selector {\r\n  padding: 0 !important;\r\n}\r\n\r\n.color-selector .vc-sketch {\r\n  width: 180px;\r\n}\r\n\r\n.color-selector .vc-sketch-presets-color {\r\n  width: 1em;\r\n  height: 1em;\r\n  margin: 0 0.25em 0.25em 0;\r\n}\r\n\r\n.color-selector .vc-sketch-presets-color:first-child {\r\n  width: 2.25em;\r\n}\r\n</style>\r\n<style scoped>\r\n.is-clickable {\r\n  cursor: pointer !important;\r\n}\r\n\r\n.color-preview {\r\n  width: 1em;\r\n  height: 1em;\r\n  display: inline-block;\r\n  margin-right: 0.25em;\r\n  border-radius: 0.25em;\r\n  box-shadow: 0 0 1px #777;\r\n  position: relative;\r\n  top: 0.2em;\r\n}\r\n\r\na[role=\"button\"] {\r\n  color: inherit;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineChannel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineChannel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineChannel.vue?vue&type=template&id=23cfb05c&scoped=true&\"\nimport script from \"./CytomineChannel.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineChannel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineChannel.vue?vue&type=style&index=0&id=23cfb05c&prod&lang=css&\"\nimport style1 from \"./CytomineChannel.vue?vue&type=style&index=1&id=23cfb05c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23cfb05c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.showAdjustButtons)?_c('div',{staticClass:\"buttons has-addons is-centered\"},[(_vm.isImageMultidimensional)?_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":_vm.areBoundsAdjustedToSlice},on:{\"click\":function($event){return _vm.$emit('adjustToSlice')}}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('button-adjust-slice'))+\" \")])]):_vm._e(),_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":_vm.areBoundsAdjustedToImage},on:{\"click\":function($event){return _vm.$emit('adjustToImage')}}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.adjustImageLabel)+\" \")])]),_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":_vm.areBoundsDefault},on:{\"click\":function($event){return _vm.$emit('reset')}}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('button-reset'))+\" \")])])]):_vm._e(),_c('div',{staticClass:\"adjustments\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.intensitiesByMinMax),expression:\"intensitiesByMinMax\"}],staticClass:\"adjustment\"},[_c('div',{staticClass:\"adjustment-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('min-max'))+\" \")]),_c('cytomine-slider',{staticClass:\"adjustment-body\",attrs:{\"value\":_vm.arrayBounds,\"min\":_vm.defaultBounds.min,\"max\":_vm.defaultBounds.max,\"contained\":true,\"smart-tooltip-position\":true,\"size\":\"is-small\"},on:{\"input\":_vm.setBounds}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.intensitiesByMinMax),expression:\"!intensitiesByMinMax\"}],staticClass:\"adjustment\"},[_c('div',{staticClass:\"adjustment-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('brightness'))+\" \")]),_c('cytomine-slider',{staticClass:\"adjustment-body\",attrs:{\"value\":_vm.brightness,\"min\":_vm.defaultBounds.min,\"max\":_vm.defaultBounds.max,\"tooltip\":false,\"contained\":true,\"size\":\"is-small\"},on:{\"input\":_vm.setBrightness}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.intensitiesByMinMax),expression:\"!intensitiesByMinMax\"}],staticClass:\"adjustment\"},[_c('div',{staticClass:\"adjustment-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('contrast'))+\" \")]),_c('cytomine-slider',{staticClass:\"adjustment-body\",attrs:{\"value\":_vm.contrast,\"min\":_vm.defaultBounds.min,\"max\":_vm.defaultBounds.max,\"tooltip\":false,\"contained\":true,\"size\":\"is-small\"},on:{\"input\":_vm.setContrast}})],1),_c('div',{staticClass:\"adjustment\"},[_c('div',{staticClass:\"adjustment-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('gamma'))+\" \")]),_c('cytomine-slider',{staticClass:\"adjustment-body\",attrs:{\"value\":_vm.gamma,\"min\":0.1,\"max\":4,\"interval\":0.1,\"integer-only\":false,\"contained\":true,\"smart-tooltip-position\":true,\"size\":\"is-small\"},on:{\"input\":function($event){return _vm.$emit('setGamma', $event)}}})],1),_c('div',{staticClass:\"adjustment\"},[_c('div',{staticClass:\"adjustment-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('inverse'))+\" \")]),_c('div',{staticClass:\"adjustment-body\"},[_c('b-switch',{attrs:{\"value\":_vm.inverted,\"size\":\"is-small\"},on:{\"input\":function($event){return _vm.$emit('invert', $event)}}},[(_vm.inverted)?[_vm._v(_vm._s(_vm.$t('yes')))]:[_vm._v(_vm._s(_vm.$t('no')))]],2)],1)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div>\r\n    <div class=\"buttons has-addons is-centered\" v-if=\"showAdjustButtons\">\r\n      <button\r\n        v-if=\"isImageMultidimensional\"\r\n        @click=\"$emit('adjustToSlice')\"\r\n        class=\"button is-small\"\r\n        :disabled=\"areBoundsAdjustedToSlice\"\r\n      >\r\n        <span>\r\n          {{ $t('button-adjust-slice') }}\r\n        </span>\r\n      </button>\r\n      <button\r\n        @click=\"$emit('adjustToImage')\"\r\n        class=\"button is-small\"\r\n        :disabled=\"areBoundsAdjustedToImage\"\r\n      >\r\n        <span>\r\n          {{ adjustImageLabel }}\r\n        </span>\r\n      </button>\r\n      <button\r\n        @click=\"$emit('reset')\"\r\n        class=\"button is-small\"\r\n        :disabled=\"areBoundsDefault\"\r\n      >\r\n        <span>\r\n         {{ $t('button-reset') }}\r\n        </span>\r\n      </button>\r\n    </div>\r\n    <div class=\"adjustments\">\r\n      <div class=\"adjustment\" v-show=\"intensitiesByMinMax\">\r\n        <div class=\"adjustment-label\">\r\n          {{ $t('min-max') }}\r\n        </div>\r\n        <cytomine-slider\r\n          class=\"adjustment-body\"\r\n          :value=\"arrayBounds\"\r\n          @input=\"setBounds\"\r\n          :min=\"defaultBounds.min\"\r\n          :max=\"defaultBounds.max\"\r\n          :contained=\"true\"\r\n          :smart-tooltip-position=\"true\"\r\n          size=\"is-small\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"adjustment\" v-show=\"!intensitiesByMinMax\">\r\n        <div class=\"adjustment-label\">\r\n          {{ $t('brightness') }}\r\n        </div>\r\n        <cytomine-slider\r\n          class=\"adjustment-body\"\r\n          :value=\"brightness\"\r\n          @input=\"setBrightness\"\r\n          :min=\"defaultBounds.min\"\r\n          :max=\"defaultBounds.max\"\r\n          :tooltip=\"false\"\r\n          :contained=\"true\"\r\n          size=\"is-small\"\r\n        />\r\n      </div>\r\n      <div class=\"adjustment\" v-show=\"!intensitiesByMinMax\">\r\n        <div class=\"adjustment-label\">\r\n          {{ $t('contrast') }}\r\n        </div>\r\n        <cytomine-slider\r\n          class=\"adjustment-body\"\r\n          :value=\"contrast\"\r\n          @input=\"setContrast\"\r\n          :min=\"defaultBounds.min\"\r\n          :max=\"defaultBounds.max\"\r\n          :tooltip=\"false\"\r\n          :contained=\"true\"\r\n          size=\"is-small\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"adjustment\">\r\n        <div class=\"adjustment-label\">\r\n          {{ $t('gamma') }}\r\n        </div>\r\n        <cytomine-slider\r\n          class=\"adjustment-body\"\r\n          :value=\"gamma\"\r\n          @input=\"$emit('setGamma', $event)\"\r\n          :min=\"0.1\"\r\n          :max=\"4\"\r\n          :interval=\"0.1\"\r\n          :integer-only=\"false\"\r\n          :contained=\"true\"\r\n          :smart-tooltip-position=\"true\"\r\n          size=\"is-small\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"adjustment\">\r\n        <div class=\"adjustment-label\">\r\n          {{$t('inverse')}}\r\n        </div>\r\n        <div class=\"adjustment-body\">\r\n          <b-switch :value=\"inverted\" @input=\"$emit('invert', $event)\" size=\"is-small\">\r\n            <template v-if=\"inverted\">{{$t('yes')}}</template>\r\n            <template v-else>{{$t('no')}}</template>\r\n          </b-switch>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {sameHistogramBounds} from '@/utils/histogram-utils';\r\n\r\nimport CytomineSlider from '@/components/form/CytomineSlider';\r\n\r\nexport default {\r\n  name: 'AdjustableLookUpTable',\r\n  components: {\r\n    CytomineSlider\r\n  },\r\n  props: {\r\n    index: String,\r\n    adjustImageLabel: String,\r\n    showAdjustButtons: Boolean,\r\n    intensitiesByMinMax: Boolean,\r\n    defaultBounds: Object,\r\n\r\n    gamma: Number,\r\n    inverted: Boolean,\r\n    bounds: Object,\r\n\r\n    imageBounds: Object,\r\n    sliceBounds: Object\r\n  },\r\n  data() {\r\n    return {\r\n      brightness: 0,\r\n      contrast: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    isImageMultidimensional() {\r\n      return this.image.depth * this.image.duration > 1;\r\n    },\r\n\r\n    // Default bounds\r\n    defaultRange() {\r\n      return this.defaultBounds.max - this.defaultBounds.min;\r\n    },\r\n    defaultCenter() {\r\n      return this.defaultRange / 2.0;\r\n    },\r\n\r\n    // Bounds\r\n    range() {\r\n      return this.bounds.max - this.bounds.min;\r\n    },\r\n    center() {\r\n      return this.bounds.min + this.range / 2;\r\n    },\r\n    arrayBounds() {\r\n      return [this.bounds.min, this.bounds.max];\r\n    },\r\n\r\n    areBoundsAdjustedToImage() {\r\n      return sameHistogramBounds(this.bounds, this.imageBounds);\r\n    },\r\n    areBoundsAdjustedToSlice() {\r\n      return sameHistogramBounds(this.bounds, this.sliceBounds);\r\n    },\r\n    areBoundsDefault() {\r\n      return sameHistogramBounds(this.bounds, this.defaultBounds) && this.gamma === 1.0 && !this.inverted;\r\n    }\r\n  },\r\n  watch: {\r\n    bounds: {\r\n      deep: true,\r\n      handler: function() {\r\n        this.computeBrightness();\r\n        this.computeContrast();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    setBounds(arrayBounds) {\r\n      const first = arrayBounds[0];\r\n      const second = arrayBounds[1];\r\n      const inverted = (first > second);\r\n      let min, max;\r\n      if (inverted) {\r\n        min = second;\r\n        max = first;\r\n      }\r\n      else {\r\n        min = first;\r\n        max = second;\r\n      }\r\n      min = Math.max(this.defaultBounds.min, Math.min(min, this.defaultBounds.max));\r\n      max = Math.min(this.defaultBounds.max, Math.max(max, this.defaultBounds.min));\r\n      this.$emit('setBounds', {min, max});\r\n    },\r\n    setBrightness(value) {\r\n      // https://imagej.nih.gov/ij/developer/source/ij/plugin/frame/ContrastAdjuster.java.html\r\n      const b = this.defaultBounds.min + this.defaultRange *\r\n        ((this.defaultRange - value) / this.defaultRange);\r\n      const mid = this.range / 2.0;\r\n      this.$emit('setBounds', {\r\n        min: Math.max(this.defaultBounds.min, Math.round(b - mid)),\r\n        max: Math.min(this.defaultBounds.max, Math.round(b + mid))\r\n      });\r\n      this.brightness = value;\r\n    },\r\n    setContrast(value) {\r\n      // https://imagej.nih.gov/ij/developer/source/ij/plugin/frame/ContrastAdjuster.java.html\r\n      let slope;\r\n      if (value <= this.defaultCenter) {\r\n        slope = value / this.defaultCenter;\r\n      }\r\n      else {\r\n        slope = this.defaultCenter / (this.defaultRange - value);\r\n      }\r\n      if (slope > 0) {\r\n        const mid = this.defaultRange / 2.0;\r\n        this.$emit('setBounds', {\r\n          min: Math.max(this.defaultBounds.min, Math.round(this.center - mid / slope)),\r\n          max: Math.min(this.defaultBounds.max, Math.round(this.center + mid / slope))\r\n        });\r\n        this.contrast = value;\r\n      }\r\n    },\r\n    computeBrightness() {\r\n      // https://imagej.nih.gov/ij/developer/source/ij/plugin/frame/ContrastAdjuster.java.html\r\n      this.brightness = Math.round(\r\n        this.defaultRange *\r\n        (1.0 - (this.center - this.defaultBounds.min) / this.defaultRange)\r\n      );\r\n    },\r\n    computeContrast() {\r\n      // https://imagej.nih.gov/ij/developer/source/ij/plugin/frame/ContrastAdjuster.java.html\r\n      const c = this.defaultRange / this.range;\r\n      this.contrast = Math.round(\r\n        (c > 0) ? this.defaultRange - (this.defaultCenter / c) : this.defaultCenter * c\r\n      );\r\n    }\r\n  },\r\n  created() {\r\n    this.computeBrightness();\r\n    this.computeContrast();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.adjustments {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.adjustment {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.adjustment-label {\r\n  font-weight: 600;\r\n  padding-right: 0.5rem;\r\n  width: 25%;\r\n  text-align: right;\r\n}\r\n\r\n.adjustment-body {\r\n  flex-grow: 3;\r\n}\r\n\r\n.buttons {\r\n  margin-bottom: 0 !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdjustableLookUpTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdjustableLookUpTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdjustableLookUpTable.vue?vue&type=template&id=8590653c&scoped=true&\"\nimport script from \"./AdjustableLookUpTable.vue?vue&type=script&lang=js&\"\nexport * from \"./AdjustableLookUpTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdjustableLookUpTable.vue?vue&type=style&index=0&id=8590653c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8590653c\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {Line} from 'vue-chartjs';\r\nimport _ from 'lodash';\r\n\r\nexport default {\r\n  name: 'histogram-chart',\r\n  extends: Line,\r\n  props: {\r\n    logScale: Boolean,\r\n    color: String,\r\n\r\n    histogram: Array,\r\n    nBins: Number,\r\n    firstBin: Number,\r\n    lastBin: Number,\r\n\r\n    defaultBounds: Object,\r\n    imageBounds: Object,\r\n    currentBounds: Object,\r\n    gamma: Number,\r\n    inverted: Boolean,\r\n  },\r\n  data() {\r\n    return {\r\n      chartData: null,\r\n    };\r\n  },\r\n  computed: {\r\n    extendedHistogram() {\r\n      const missingLeft = new Array(this.firstBin).fill(0);\r\n      const missingRight = new Array(this.nBins - this.lastBin - 1).fill(0);\r\n      return missingLeft.concat(this.histogram).concat(missingRight);\r\n    },\r\n    logHistogram() {\r\n      return this.extendedHistogram.map(v => Math.log(v));\r\n    },\r\n    scaledHistogram() {\r\n      return this.logScale ? this.logHistogram : this.extendedHistogram;\r\n    },\r\n\r\n    binSize() {\r\n      return (this.defaultBounds.max + 1) / this.nBins;\r\n    },\r\n    integerBinSize() {\r\n      return Math.round(this.binSize);\r\n    },\r\n    labels() {\r\n      return this.extendedHistogram.map((_, idx) => Math.round(idx * this.binSize));\r\n    },\r\n    imageBoundsLabel() {\r\n      return {\r\n        min: this.findLabel(this.imageBounds.min),\r\n        max: this.findLabel(this.imageBounds.max)\r\n      };\r\n    },\r\n    currentBoundsLabel() {\r\n      return {\r\n        min: Math.max(this.defaultBounds.min, this.findLabel(this.currentBounds.min)),\r\n        max: Math.min(this.defaultBounds.max, this.findLabel(this.currentBounds.max))\r\n      };\r\n    },\r\n    boundsLabel() {\r\n      return {\r\n        min: Math.min(this.imageBoundsLabel.min, this.currentBoundsLabel.min),\r\n        max: Math.max(this.imageBoundsLabel.max, this.currentBoundsLabel.max)\r\n      };\r\n    },\r\n\r\n    currentLabels() {\r\n      return this.labels.filter(label =>\r\n        label >= this.currentBoundsLabel.min && label <= this.currentBoundsLabel.max\r\n      );\r\n    },\r\n\r\n    systemResponse() {\r\n      if (this.currentLabels.length === 1) {\r\n        return [\r\n          {x: this.currentLabels[0], y: 0},\r\n          {x: this.currentLabels[0], y: 255}\r\n        ];\r\n      }\r\n\r\n      let nbPoints = 100;\r\n      let step = (this.currentLabels.length - 1) / nbPoints;\r\n      let range = _.range(0, this.currentLabels.length - 1 + step, step);\r\n\r\n      let ymin = (this.inverted) ? 1 : 0;\r\n      let ymax = (this.inverted) ? 0 : 1;\r\n      let m = (ymin - ymax) / (this.currentBoundsLabel.min - this.currentBoundsLabel.max);\r\n      let p = ymin - m * this.currentBoundsLabel.min;\r\n      let gamma = (this.inverted) ? 1/this.gamma : this.gamma;\r\n      let response = range.map(idx => {\r\n        let label = this.currentLabels[Math.round(idx)];\r\n        return {\r\n          x: label,\r\n          y: Math.pow((m * label + p), gamma) * 255.0\r\n        };\r\n      });\r\n      return _.uniqBy(response, 'x');\r\n    },\r\n\r\n    backgroundColor() {\r\n      if (this.color !== null) {\r\n        return this.color;\r\n      }\r\n      return '#fff';\r\n    },\r\n    datasets() {\r\n      return [\r\n        {\r\n          data: this.systemResponse,\r\n          fill: false,\r\n          pointRadius: 0,\r\n          pointHoverRadius: 0,\r\n          borderColor: '#333',\r\n          borderWidth: 1,\r\n          type: 'line',\r\n          order: 2,\r\n          cubicInterpolationMode: 'monotone',\r\n          yAxisID: 'yResponse'\r\n        },\r\n        {\r\n          data: this.scaledHistogram,\r\n          backgroundColor: this.backgroundColor,\r\n          pointRadius: 1,\r\n          order: 1,\r\n          yAxisID: 'yHistogram'\r\n        },\r\n      ];\r\n    }\r\n  },\r\n  watch: {\r\n    currentBoundsLabel() {\r\n      this.doRenderChart();\r\n    },\r\n    logScale() {\r\n      this.doRenderChart();\r\n    },\r\n    systemResponse() {\r\n      this.doRenderChart();\r\n    },\r\n    backgroundColor() {\r\n      this.doRenderChart();\r\n    }\r\n  },\r\n  methods: {\r\n    findBin(value) {\r\n      return Math.floor(value / this.binSize);\r\n    },\r\n    findLabel(value) {\r\n      return Math.floor(this.findBin(value) * this.binSize);\r\n    },\r\n    doRenderChart() {\r\n      try {\r\n        this.renderChart({\r\n          labels: this.labels,\r\n          datasets: this.datasets,\r\n\r\n          // Additional data for tooltips\r\n          logScale: this.logScale,\r\n          binSize: this.integerBinSize,\r\n        }, {\r\n          tooltips: {\r\n            filter: function(tooltipItem) {\r\n              return tooltipItem.datasetIndex !== 0;\r\n            },\r\n            callbacks: {\r\n              label: function(tooltipItem, data) {\r\n                if (data.logScale) {\r\n                  return Math.round(Math.exp(tooltipItem.value));\r\n                }\r\n                return tooltipItem.value;\r\n              },\r\n              title: function(tooltipItems, data) {\r\n                if (tooltipItems.length > 0) {\r\n                  let left = Number(tooltipItems[0].label);\r\n                  if (data.binSize === 1) {\r\n                    return left;\r\n                  }\r\n                  let right = left + data.binSize;\r\n                  return `[${left} - ${right}[`;\r\n                }\r\n              }\r\n            }\r\n          },\r\n          maintainAspectRatio: false,\r\n          responsive: true,\r\n          title: {\r\n            display: false\r\n          },\r\n          legend: {\r\n            display: false\r\n          },\r\n          animation: {\r\n            duration: 0,\r\n          },\r\n          scales: {\r\n            xAxes: [{\r\n              display: true,\r\n              scaleLabel: {\r\n                display: false\r\n              },\r\n              ticks: {\r\n                ...this.boundsLabel,\r\n                fontSize: 10,\r\n              }\r\n            }],\r\n            yAxes: [{\r\n              id: 'yHistogram',\r\n              display: false,\r\n            }, {\r\n              id: 'yResponse',\r\n              display: false\r\n            }\r\n            ]\r\n          },\r\n        });\r\n      }\r\n      catch (error) {\r\n        console.log(error);\r\n        this.$emit('error', true);\r\n      }\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.doRenderChart();\r\n  }\r\n};\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n\r\n<template>\r\n<div>\r\n  <h1>{{$t('colors')}}</h1>\r\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\" size=\"is-small\">\r\n    <p> {{ $t('unexpected-error-info-message') }} </p>\r\n  </b-message>\r\n  <template v-else>\r\n    <table class=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th class=\"checkbox-column\"><span class=\"far fa-eye\"></span></th>\r\n          <th class=\"name-column\">\r\n            <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" size=\"is-small\" expanded />\r\n          </th>\r\n          <th class=\"bounds-column\">\r\n            <div class=\"buttons has-addons is-right\">\r\n              <button\r\n                v-if=\"isImageMultidimensional\"\r\n                v-tooltip=\"$t('button-adjust-slice')\"\r\n                @click=\"adjustAllToSlice\"\r\n                class=\"button is-small\"\r\n                :disabled=\"areBoundsAdjustedToSlice\"\r\n              >\r\n                <span class=\"icon is-small\">\r\n                  <i class=\"fas fa-magic\"></i>\r\n                  <span class=\"subscript\">ZT</span>\r\n                </span>\r\n              </button>\r\n              <button\r\n                v-tooltip=\"adjustImageLabel\"\r\n                @click=\"adjustAllToImage\"\r\n                class=\"button is-small\"\r\n                :disabled=\"areBoundsAdjustedToImage\"\r\n              >\r\n                <span class=\"icon is-small\">\r\n                  <i class=\"fas fa-magic\"></i>\r\n                </span>\r\n              </button>\r\n              <button\r\n                v-tooltip=\"$t('button-reset')\"\r\n                @click=\"resetAll\"\r\n                class=\"button is-small\"\r\n                :disabled=\"areBoundsDefault\"\r\n              >\r\n                <span class=\"icon is-small\">\r\n                  <i class=\"fas fa-tint-slash\"></i>\r\n                </span>\r\n              </button>\r\n            </div>\r\n          </th>\r\n          <th class=\"settings-column\">\r\n            <b-dropdown position=\"is-bottom-left\">\r\n              <template #trigger=\"{ active }\">\r\n                <button class=\"button is-small\" :class=\"{'is-selected': active}\">\r\n                  <span class=\"icon is-small\">\r\n                    <i class=\"fas fa-cogs\"></i>\r\n                  </span>\r\n                </button>\r\n              </template>\r\n\r\n              <b-dropdown-item custom>\r\n                <b-field :label=\"$t('histogram-scale')\" custom-class=\"is-small\">\r\n                  <div class=\"block\">\r\n                    <b-radio v-model=\"histogramLogScale\" :native-value=\"false\" size=\"is-small\">\r\n                      {{$t('linear')}}\r\n                    </b-radio>\r\n                    <b-radio v-model=\"histogramLogScale\" :native-value=\"true\" size=\"is-small\">\r\n                      {{$t('logarithmic')}}\r\n                    </b-radio>\r\n                  </div>\r\n                </b-field>\r\n                <b-field :label=\"$t('intensities-manipulation')\" custom-class=\"is-small\">\r\n                  <div class=\"block\">\r\n                    <b-radio v-model=\"intensitiesByMinMax\" :native-value=\"true\" size=\"is-small\">\r\n                      {{$t('min-max')}}\r\n                    </b-radio>\r\n                    <b-radio v-model=\"intensitiesByMinMax\" :native-value=\"false\" size=\"is-small\">\r\n                      {{$t('brightness')}}/{{$t('contrast')}}\r\n                    </b-radio>\r\n                  </div>\r\n                </b-field>\r\n              </b-dropdown-item>\r\n            </b-dropdown>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <template v-for=\"mc in filteredManipulableChannels\">\r\n          <tr :key=\"`channel-${image.id}-${mc.index}`\">\r\n            <td class=\"checkbox-column\">\r\n              <b-checkbox\r\n                size=\"is-small\"\r\n                :value=\"mc.visible\"\r\n                @input=\"setApparentChannelVisibility(mc.index, $event)\"\r\n                :disabled=\"isApparentChannelVisibilityDisabled(mc)\"\r\n              />\r\n            </td>\r\n            <td class=\"name-column\">\r\n              <cytomine-channel\r\n                :name=\"mc.name\"\r\n                :color=\"mc.color\"\r\n                :default-color=\"mc.defaultColor\"\r\n                :channel-index=\"mc.channel\"\r\n                :sample-index=\"mc.sample\"\r\n                :nb-samples-per-channel=\"image.samplePerPixel\"\r\n                :editable-color=\"true\"\r\n                @setColor=\"setApparentChannelColor(mc.index, $event)\"\r\n                @click=\"toggleLookUpTableDetails(mc.index)\"\r\n              />\r\n            </td>\r\n            <td class=\"bounds-column\">\r\n              ({{mc.bounds.min}} - {{mc.bounds.max}})\r\n            </td>\r\n            <td class=\"checkbox-column\">\r\n              <a\r\n                role=\"button\"\r\n                @click.stop=\"toggleLookUpTableDetails(mc.index)\">\r\n                <i class=\"fas fa-chevron-down\" v-if=\"isVisibleLookUpTableDetails(mc.index)\"></i>\r\n                <i class=\"fas fa-chevron-up\" v-else></i>\r\n              </a>\r\n            </td>\r\n          </tr>\r\n          <tr\r\n            :key=\"`channel-${image.id}-${mc.index}-details`\"\r\n            v-if=\"isVisibleLookUpTableDetails(mc.index)\"\r\n          >\r\n            <td colspan=\"4\">\r\n              <div class=\"chart-container channel-histogram\">\r\n                <histogram-chart\r\n                  :log-scale=\"histogramLogScale\"\r\n                  :color=\"mc.color\"\r\n                  :histogram=\"mc.histogram.histogram\"\r\n                  :n-bins=\"mc.histogram.nBins\"\r\n                  :first-bin=\"mc.histogram.firstBin\"\r\n                  :last-bin=\"mc.histogram.lastBin\"\r\n                  :default-bounds=\"defaultBounds\"\r\n                  :image-bounds=\"{min: mc.histogram.minimum, max:mc.histogram.maximum}\"\r\n                  :current-bounds=\"mc.bounds\"\r\n                  :gamma=\"mc.gamma\"\r\n                  :inverted=\"mc.inverted\"\r\n                  css-classes=\"chart\"\r\n                />\r\n              </div>\r\n              <adjustable-look-up-table\r\n                :index=\"index\"\r\n                :adjust-image-label=\"adjustImageLabel\"\r\n                :show-adjust-buttons=\"manipulableChannels.length > 1\"\r\n                :intensities-by-min-max=\"intensitiesByMinMax\"\r\n                :default-bounds=\"defaultBounds\"\r\n                :gamma=\"mc.gamma\"\r\n                :inverted=\"mc.inverted\"\r\n                :bounds=\"mc.bounds\"\r\n                :image-bounds=\"mc.imageBounds\"\r\n                :slice-bounds=\"{min: mc.histogram.minimum, max: mc.histogram.maximum}\"\r\n                @setBounds=\"setApparentChannelBounds(mc.index, $event)\"\r\n                @adjustToImage=\"adjustToImage(mc.index)\"\r\n                @adjustToSlice=\"adjustToSlice(mc.index)\"\r\n                @reset=\"reset(mc.index)\"\r\n                @setGamma=\"setApparentChannelGamma(mc.index, $event)\"\r\n                @invert=\"setApparentChannelInverted(mc.index, $event)\"\r\n              />\r\n            </td>\r\n          </tr>\r\n        </template>\r\n\r\n      </tbody>\r\n    </table>\r\n    <b-field horizontal :label=\"$t('filter')\" v-if=\"filters && filters.length > 0\">\r\n      <b-select v-model=\"selectedFilter\" size=\"is-small\" expanded>\r\n        <option :value=\"null\">{{$t('original-no-filter')}}</option>\r\n        <option v-for=\"filter in filters\" :key=\"filter.id\" :value=\"filter.method\">\r\n          {{filter.name}}\r\n        </option>\r\n      </b-select>\r\n    </b-field>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport constants from '@/utils/constants';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\nimport {sameHistogramBounds} from '@/utils/histogram-utils';\r\n\r\nimport {ImageFilterProjectCollection} from 'cytomine-client';\r\n\r\nimport CytomineChannel from '@/components/viewer/panels/colors/CytomineChannel';\r\nimport AdjustableLookUpTable from '@/components/viewer/panels/colors/AdjustableLookUpTable';\r\nimport HistogramChart from '@/components/charts/HistogramChart';\r\n\r\nexport default {\r\n  name: 'color-manipulation',\r\n  components: {\r\n    AdjustableLookUpTable,\r\n    CytomineChannel,\r\n    HistogramChart\r\n  },\r\n  props: {\r\n    index: String\r\n  },\r\n  data() {\r\n    return {\r\n      filters: null,\r\n      histograms: [],\r\n      loading: false,\r\n      error: false,\r\n      searchString: '',\r\n      visibleLookUpTableDetails: [],\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    slices() {\r\n      return this.imageWrapper.activeSlices;\r\n    },\r\n    sliceChannels() {\r\n      return this.$store.getters[this.imageModule + 'channels'];\r\n    },\r\n    plane() {\r\n      return {\r\n        zStack: this.imageWrapper.activeSlices[0].zStack,\r\n        time: this.imageWrapper.activeSlices[0].time\r\n      };\r\n    },\r\n    activePanel() {\r\n      return this.imageWrapper.activePanel;\r\n    },\r\n    apparentChannels() {\r\n      return this.imageWrapper.colors.apparentChannels;\r\n    },\r\n\r\n    isImageMultidimensional() {\r\n      return this.image.depth * this.image.duration > 1;\r\n    },\r\n    adjustImageLabel() {\r\n      if (this.isImageMultidimensional) {\r\n        return this.$t('button-adjust-image');\r\n      }\r\n      return this.$t('button-adjust');\r\n    },\r\n    defaultBounds() {\r\n      return {min: 0, max: 2**this.image.bitPerSample - 1};\r\n    },\r\n\r\n    manipulableChannels() {\r\n      return this.apparentChannels?.map(ac => {\r\n        return {\r\n          ...ac,\r\n          histogram: this.histograms.find(h => h.apparentChannel === ac.index),\r\n          name: this.sliceChannels[ac.channel].name\r\n        };\r\n      });\r\n    },\r\n    visibleManipulableChannels() {\r\n      return this.manipulableChannels?.filter(mc => mc.visible);\r\n    },\r\n    nbVisibleManipulableChannels() {\r\n      return this.visibleManipulableChannels?.length ?? 0;\r\n    },\r\n    regexp() {\r\n      return getWildcardRegexp(this.searchString);\r\n    },\r\n    filteredManipulableChannels() {\r\n      if (!this.searchString) {\r\n        return this.manipulableChannels;\r\n      }\r\n      return this.manipulableChannels.filter(mc => this.regexp.test(mc.name));\r\n    },\r\n\r\n    areBoundsAdjustedToImage() {\r\n      const count = this.visibleManipulableChannels?.filter(mc =>\r\n        sameHistogramBounds(mc.bounds, mc.imageBounds)\r\n      ).length ?? 0;\r\n      return count === this.nbVisibleManipulableChannels;\r\n    },\r\n    areBoundsAdjustedToSlice() {\r\n      const count = this.visibleManipulableChannels?.filter(mc => {\r\n        const histogram = mc.histogram;\r\n        if (!histogram) {\r\n          return false;\r\n        }\r\n        return sameHistogramBounds(mc.bounds, { min: histogram.minimum, max: histogram.maximum });\r\n      }).length ?? 0;\r\n      return count === this.nbVisibleManipulableChannels;\r\n    },\r\n    areBoundsDefault() {\r\n      const count = this.visibleManipulableChannels?.filter(mc =>\r\n        sameHistogramBounds(mc.bounds, this.defaultBounds) && !mc.inverted && mc.gamma === 1.0\r\n      ).length ?? 0;\r\n      return count === this.nbVisibleManipulableChannels;\r\n    },\r\n\r\n    selectedFilter: {\r\n      get() {\r\n        return this.imageWrapper.colors.filter;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setFilter', value);\r\n      }\r\n    },\r\n    histogramLogScale: {\r\n      get() {\r\n        return this.imageWrapper.colors.histogramLogScale;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setHistogramLogScale', value);\r\n      }\r\n    },\r\n    intensitiesByMinMax: {\r\n      get() {\r\n        return this.imageWrapper.colors.intensitiesByMinMax;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setIntensitiesByMinMax', value);\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    plane() {\r\n      this.fetchHistograms();\r\n    }\r\n  },\r\n  methods: {\r\n    /* Apparent channels manipulation */\r\n    setApparentChannelVisibility(indexApparentChannel, visible) {\r\n      this.$store.dispatch(this.imageModule + 'setApparentChannelVisibility',\r\n        {indexApparentChannel, visible}\r\n      );\r\n    },\r\n    setApparentChannelColor(indexApparentChannel, color) {\r\n      this.$store.commit(this.imageModule + 'setApparentChannelColor',\r\n        {indexApparentChannel, color, isColormap: false}\r\n      );\r\n    },\r\n    setApparentChannelGamma(indexApparentChannel, gamma) {\r\n      this.$store.commit(this.imageModule + 'setApparentChannelGamma',\r\n        {indexApparentChannel, gamma}\r\n      );\r\n    },\r\n    setApparentChannelInverted(indexApparentChannel, inverted) {\r\n      this.$store.commit(this.imageModule + 'setApparentChannelInverted',\r\n        {indexApparentChannel, inverted}\r\n      );\r\n    },\r\n    setApparentChannelBounds(indexApparentChannel, bounds) {\r\n      this.$store.commit(this.imageModule + 'setApparentChannelBounds',\r\n        {indexApparentChannel, bounds}\r\n      );\r\n    },\r\n    reset(indexApparentChannel) {\r\n      this.$store.commit(this.imageModule + 'resetApparentChannelIntensities',\r\n        indexApparentChannel\r\n      );\r\n    },\r\n    resetAll() {\r\n      this.$store.commit(this.imageModule + 'resetApparentChannelsIntensities');\r\n    },\r\n    adjustToImage(indexApparentChannel) {\r\n      this.$store.commit(this.imageModule + 'adjustToImage',\r\n        indexApparentChannel\r\n      );\r\n    },\r\n    adjustAllToImage() {\r\n      this.$store.commit(this.imageModule + 'adjustAllToImage');\r\n    },\r\n    adjustToSlice(indexApparentChannel) {\r\n      const mc = this.manipulableChannels[indexApparentChannel];\r\n      const bounds = {min: mc.histogram.minimum, max: mc.histogram.maximum};\r\n      this.$store.commit(this.imageModule + 'adjustToSlice',\r\n        {indexApparentChannel, bounds}\r\n      );\r\n    },\r\n    adjustAllToSlice() {\r\n      this.$store.commit(this.imageModule + 'adjustAllToSlice',\r\n        this.manipulableChannels.map(mc => {\r\n          return {\r\n            min: mc.histogram.minimum,\r\n            max: mc.histogram.maximum\r\n          };\r\n        })\r\n      );\r\n    },\r\n\r\n    /* UX logic */\r\n    isApparentChannelVisibilityDisabled(manipulableChannel) {\r\n      return (this.nbVisibleManipulableChannels <= 1 && manipulableChannel.visible)\r\n        || (this.nbVisibleManipulableChannels >= constants.MAX_MERGEABLE_CHANNELS\r\n          && !manipulableChannel.visible);\r\n    },\r\n    toggleLookUpTableDetails(indexApparentChannel) {\r\n      const found = this.isVisibleLookUpTableDetails(indexApparentChannel);\r\n\r\n      if (found) {\r\n        const i = this.visibleLookUpTableDetails.indexOf(indexApparentChannel);\r\n        this.visibleLookUpTableDetails.splice(i, 1);\r\n      }\r\n      else {\r\n        this.visibleLookUpTableDetails.push(indexApparentChannel);\r\n      }\r\n    },\r\n    isVisibleLookUpTableDetails(indexApparentChannel) {\r\n      return this.visibleLookUpTableDetails.indexOf(indexApparentChannel) >= 0;\r\n    },\r\n\r\n    /* Helpers */\r\n    async fetchHistograms() {\r\n      try {\r\n        // TODO [EXPERIMENTAL - large set of merged channels]\r\n        // As for now we only allow multiple slices with varying C and fixed Z,T, this request is OK.\r\n\r\n\r\n        this.histograms = (await this.slices[0].fetchChannelHistograms({nBins: 256}));\r\n        // if (this.image.apparentChannels <= constants.MAX_MERGEABLE_CHANNELS) {\r\n        //   // As for now we only allow multiple slices with varying C and fixed Z,T, this request is OK.\r\n        //   this.histograms = (await this.slices[0].fetchChannelHistograms({nBins: this.histogramNBins}));\r\n        // }\r\n        // else {\r\n        //   this.histograms = (await this.slices[0].fetchHistogram({nBins: this.histogramNBins}));\r\n        // }\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    try {\r\n      let filters = (await ImageFilterProjectCollection.fetchAll({filterKey: 'project', filterValue: this.project.id})).array;\r\n      filters.forEach(filter => filter.prefix = filter.imagingServer + filter.baseUrl);\r\n      let prefixes = filters.map(filter => filter.prefix);\r\n      if(this.selectedFilter && !prefixes.includes(this.selectedFilter)) {\r\n        this.selectedFilter = null; // if selected filter no longer present in collection, unselect it\r\n      }\r\n      this.filters = filters;\r\n      await this.fetchHistograms();\r\n\r\n      // Show LUT details by default if there is only 1 channel.\r\n      if (this.manipulableChannels.length === 1) {\r\n        this.toggleLookUpTableDetails(this.manipulableChannels[0].index);\r\n      }\r\n\r\n      this.loading = false;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n  margin-bottom: 1em !important;\r\n  font-size: 0.9em;\r\n}\r\n\r\n.table tbody {\r\n  display: block;\r\n  overflow-y: scroll;\r\n  overflow-x: hidden;\r\n  max-height: 30em; /* TODO */\r\n}\r\n\r\n.table thead tr {\r\n  display: block;\r\n}\r\n\r\nth, ::v-deep td {\r\n  padding: 0.25em !important;\r\n  vertical-align: middle !important;\r\n}\r\n\r\n::v-deep .checkbox-column {\r\n  min-width: 2.2em;\r\n  text-align: center !important;\r\n}\r\n\r\n::v-deep .name-column {\r\n  width: 60%;\r\n}\r\n\r\n::v-deep .bounds-column {\r\n  width: 40%;\r\n  text-align: right;\r\n}\r\n\r\n::v-deep .settings-column {\r\n  min-width: 2.2em;\r\n  font-weight: normal;\r\n}\r\n\r\n/** Settings **/\r\n.settings-column ::v-deep .dropdown-content {\r\n  padding: 0;\r\n}\r\n\r\n.settings-column .dropdown-menu .dropdown-item {\r\n  padding: 0.375rem 0.5rem;\r\n}\r\n\r\n.button.is-selected {\r\n  background-color: #6899d0;\r\n  color: white;\r\n  stroke: white;\r\n}\r\n\r\n/** Checkbox **/\r\n::v-deep .checkbox .control-label {\r\n  padding: 0 !important;\r\n}\r\n\r\n::v-deep .checkbox {\r\n  margin: 0 !important;\r\n  position: relative;\r\n  top: 0.25em;\r\n}\r\n\r\n/** Buttons & icons **/\r\n.bounds-column .button .icon:first-child:last-child {\r\n  margin-left: calc(-0.175em - 1px);\r\n  margin-right: calc(-0.175em - 1px);\r\n}\r\n\r\n.subscript, ::v-deep .subscript {\r\n  position: relative;\r\n  top: 0.65em;\r\n  left: 1px;\r\n  font-size: 0.7em;\r\n  font-weight: 600;\r\n}\r\n\r\n/** Chart (histogram) **/\r\n.chart-container {\r\n  height: 10em;\r\n  position: relative;\r\n}\r\n</style>\r\n\r\n<style>\r\n.channel-histogram .chart {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorManipulation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorManipulation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ColorManipulation.vue?vue&type=template&id=49a921d7&scoped=true&\"\nimport script from \"./ColorManipulation.vue?vue&type=script&lang=js&\"\nexport * from \"./ColorManipulation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ColorManipulation.vue?vue&type=style&index=0&id=49a921d7&prod&scoped=true&lang=css&\"\nimport style1 from \"./ColorManipulation.vue?vue&type=style&index=1&id=49a921d7&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49a921d7\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$t('link-images')))]),_c('b-field',{attrs:{\"horizontal\":\"\",\"label\":_vm.$t('link-mode')}},[_c('b-select',{attrs:{\"size\":\"is-small\",\"expanded\":\"\"},model:{value:(_vm.linkMode),callback:function ($$v) {_vm.linkMode=$$v},expression:\"linkMode\"}},_vm._l((_vm.modeOptions),function(option){return _c('option',{key:option.label,domProps:{\"value\":option.key}},[_vm._v(\" \"+_vm._s(option.label)+\" \")])}),0)],1),(_vm.linkedIndexes)?_c('div',{staticClass:\"current-group\"},[_c('p',[_vm._v(_vm._s(_vm.$t('view-linked-with')))]),_c('ul',_vm._l((_vm.linkedIndexes),function(index){return _c('li',{key:index},[_c('i',{staticClass:\"fas fa-caret-right\"}),_vm._v(\" \"+_vm._s(_vm.$t('viewer-view', {number: _vm.imagesWithNum[index].number}))+\" (\"),_c('image-name',{attrs:{\"image\":_vm.imagesWithNum[index].image}}),_vm._v(\") \"),_c('br')],1)}),0),_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.unlink()}}},[_vm._v(_vm._s(_vm.$t('button-unlink')))])]):_vm._e(),(_vm.otherGroups.length || _vm.otherSoloImages.length)?[(_vm.linkedIndexes)?_c('p',[_vm._v(_vm._s(_vm.$t('link-other-images-to-this-group')))]):_c('p',[_vm._v(_vm._s(_vm.$t('link-view-with')))]),_vm._l((_vm.otherGroups),function({images, index, number}){return _c('p',{key:`group${number}`},[_c('b-checkbox',{attrs:{\"value\":false},nativeOn:{\"change\":function($event){return (event => _vm.handleCheckboxChange(event, index)).apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.$t('link-group', {number}))+\" \"),_c('ul',{staticClass:\"group\"},_vm._l((images),function(indexImage){return _c('li',{key:indexImage},[_c('i',{staticClass:\"fas fa-caret-right\"}),_vm._v(\" \"+_vm._s(_vm.$t('viewer-view', {number: _vm.imagesWithNum[indexImage].number}))+\" (\"),_c('image-name',{attrs:{\"image\":_vm.imagesWithNum[indexImage].image}}),_vm._v(\") \"),_c('br')],1)}),0)])],1)}),_vm._l((_vm.otherSoloImages),function({image, index, number}){return _c('p',{key:index},[_c('b-checkbox',{attrs:{\"value\":false},nativeOn:{\"change\":function($event){return (event => _vm.handleCheckboxChange(event, null, index)).apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.$t('viewer-view', {number}))+\" (\"),_c('image-name',{attrs:{\"image\":image}}),_vm._v(\") \")],1)],1)})]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <h1>{{$t('link-images')}}</h1>\r\n\r\n  <b-field horizontal :label=\"$t('link-mode')\">\r\n    <b-select v-model=\"linkMode\" size=\"is-small\" expanded>\r\n      <option v-for=\"option in modeOptions\" :key=\"option.label\" :value=\"option.key\">\r\n        {{option.label}}\r\n      </option>\r\n    </b-select>\r\n  </b-field>\r\n\r\n  <div class=\"current-group\" v-if=\"linkedIndexes\">\r\n    <p>{{$t('view-linked-with')}}</p>\r\n    <ul>\r\n      <li v-for=\"index in linkedIndexes\" :key=\"index\">\r\n        <i class=\"fas fa-caret-right\"></i>\r\n          {{$t('viewer-view', {number: imagesWithNum[index].number})}}\r\n          (<image-name :image=\"imagesWithNum[index].image\" />) <br/>\r\n      </li>\r\n    </ul>\r\n    <button class=\"button is-small\" @click=\"unlink()\">{{$t('button-unlink')}}</button>\r\n  </div>\r\n\r\n  <template v-if=\"otherGroups.length || otherSoloImages.length\">\r\n    <p v-if=\"linkedIndexes\">{{$t('link-other-images-to-this-group')}}</p>\r\n    <p v-else>{{$t('link-view-with')}}</p>\r\n    <p v-for=\"{images, index, number} in otherGroups\" :key=\"`group${number}`\">\r\n      <b-checkbox :value=\"false\" @change.native=\"event => handleCheckboxChange(event, index)\">\r\n        {{$t('link-group', {number})}}\r\n        <ul class=\"group\">\r\n          <li v-for=\"indexImage in images\" :key=\"indexImage\">\r\n            <i class=\"fas fa-caret-right\"></i>\r\n            {{$t('viewer-view', {number: imagesWithNum[indexImage].number})}}\r\n            (<image-name :image=\"imagesWithNum[indexImage].image\" />) <br/>\r\n          </li>\r\n        </ul>\r\n      </b-checkbox>\r\n    </p>\r\n    <p v-for=\"{image, index, number} in otherSoloImages\" :key=\"index\">\r\n      <b-checkbox :value=\"false\" @change.native=\"event => handleCheckboxChange(event, null, index)\">\r\n        {{$t('viewer-view', {number})}} (<image-name :image=\"image\" />)\r\n      </b-checkbox>\r\n    </p>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport ImageName from '@/components/image/ImageName';\r\n\r\nexport default {\r\n  name: 'link-panel',\r\n  props: {\r\n    index: String\r\n  },\r\n  components: {ImageName},\r\n  data() {\r\n    return {\r\n      revisionNumber: 0\r\n    };\r\n  },\r\n  computed: {\r\n    modeOptions: function () {\r\n      return [\r\n        {key: 'ABSOLUTE', label: this.$t('absolute-link-mode')},\r\n        {key: 'RELATIVE', label: this.$t('relative-link-mode')}\r\n      ];\r\n    },\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    viewerWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'];\r\n    },\r\n    linkMode: {\r\n      get() {\r\n        return this.viewerWrapper.linkMode;\r\n      },\r\n      set(mode) {\r\n        this.$store.commit(this.viewerModule + 'setLinkMode', mode);\r\n      }\r\n    },\r\n    images() {\r\n      return this.viewerWrapper.images;\r\n    },\r\n    imagesWithNum() {\r\n      let number = 1;\r\n      return Object.keys(this.images).reduce((obj, index) => {\r\n        obj[index] = {\r\n          number,\r\n          index,\r\n          image: this.images[index].imageInstance\r\n        };\r\n        number++;\r\n        return obj;\r\n      }, []);\r\n    },\r\n    linkGroups() {\r\n      return this.viewerWrapper.links;\r\n    },\r\n    linkGroupsWithNum() {\r\n      let number = 1;\r\n      return this.linkGroups.reduce((obj, images, index) => {\r\n        obj[index] = {\r\n          number,\r\n          index,\r\n          images\r\n        };\r\n        number++;\r\n        return obj;\r\n      }, []);\r\n    },\r\n    indexCurrentGroup() {\r\n      return this.linkGroups.findIndex(group => group.includes(this.index));\r\n    },\r\n    linkedIndexes() {\r\n      if(this.indexCurrentGroup === -1) {\r\n        return null;\r\n      }\r\n      return this.linkGroups[this.indexCurrentGroup].filter(index => index !== this.index);\r\n    },\r\n    otherGroups() {\r\n      return Object.values(this.linkGroupsWithNum).filter(group => group.index !== this.indexCurrentGroup);\r\n    },\r\n    inGroupsIndexes() { // list of images belonging to a link group\r\n      let idxs = [];\r\n      this.linkGroups.forEach(group => idxs.push(...group));\r\n      return idxs;\r\n    },\r\n    otherSoloImages() {\r\n      return Object.values(this.imagesWithNum).filter(img => {\r\n        return img.index !== this.index && !this.inGroupsIndexes.includes(img.index);\r\n      });\r\n    },\r\n    trackedUser() {\r\n      return this.viewerWrapper.images[this.index].tracking.trackedUser;\r\n    },\r\n  },\r\n  methods: {\r\n    handleCheckboxChange(event, indexGroup, indexImage) {\r\n      if(this.trackedUser) {\r\n        this.$buefy.dialog.confirm({\r\n          title: this.$t('possible-conflict'),\r\n          message: this.$t('confirm-untrack-to-link-view'),\r\n          confirmText: this.$t('button-confirm'),\r\n          cancelText: this.$t('button-cancel'),\r\n          onConfirm: () => {\r\n            event.target.checked = false; // reset state of checkbox\r\n            this.$store.commit(this.imageModule + 'setTrackedUser', null);\r\n            this.link(indexGroup, indexImage);\r\n          },\r\n          onCancel: () => event.target.checked = false // reset state of checkbox\r\n        });\r\n      }\r\n      else {\r\n        event.target.checked = false; // reset state of checkbox\r\n        this.link(indexGroup, indexImage);\r\n      }\r\n    },\r\n\r\n    link(indexGroup, indexImage) {\r\n      if(this.linkedIndexes) {\r\n        if(indexGroup != null) {\r\n          this.$store.commit(this.viewerModule + 'mergeLinkGroups', [this.indexCurrentGroup, indexGroup]);\r\n        }\r\n        else {\r\n          this.$store.commit(this.viewerModule + 'linkImageToGroup', {indexGroup: this.indexCurrentGroup, indexImage});\r\n        }\r\n      }\r\n      else {\r\n        if(indexGroup != null) {\r\n          this.$store.commit(this.viewerModule + 'linkImageToGroup', {indexGroup, indexImage: this.index});\r\n        }\r\n        else {\r\n          this.$store.commit(this.viewerModule + 'createLinkGroup', [this.index, indexImage]);\r\n        }\r\n      }\r\n    },\r\n\r\n    unlink() {\r\n      this.$store.commit(this.viewerModule + 'unlinkImage', {indexGroup: this.indexCurrentGroup, indexImage: this.index});\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.current-group:not(:last-child) {\r\n  margin-bottom: 1em;\r\n}\r\n\r\nul {\r\n  color: rgba(0, 0, 0, 0.75);\r\n  margin-left: 0.5em;\r\n}\r\n\r\nul.group {\r\n  font-size: 0.9em;\r\n}\r\n\r\n.fas {\r\n  margin-right: 0.5em;\r\n}\r\n\r\n/deep/ .b-checkbox {\r\n  align-items: flex-start !important;\r\n  margin-top: 0.25em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LinkPanel.vue?vue&type=template&id=53934cea&scoped=true&\"\nimport script from \"./LinkPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./LinkPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LinkPanel.vue?vue&type=style&index=0&id=53934cea&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53934cea\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"layers\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('annotation-layers')))]),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\",\"size\":\"is-small\"}},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('b-field',[_c('b-select',{attrs:{\"placeholder\":_vm.$t('select-layer'),\"size\":\"is-small\"},model:{value:(_vm.selectedLayer),callback:function ($$v) {_vm.selectedLayer=$$v},expression:\"selectedLayer\"}},_vm._l((_vm.unselectedLayers),function(layer){return _c('option',{key:layer.id,domProps:{\"value\":layer}},[_vm._v(\" \"+_vm._s(_vm.layerName(layer))+\" \")])}),0),_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":!_vm.selectedLayer},on:{\"click\":function($event){return _vm.addLayer()}}},[_vm._v(_vm._s(_vm.$t('button-add')))])],1),_c('table',{staticClass:\"table\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"checkbox-column\"},[_c('span',{staticClass:\"far fa-eye\"})]),(!_vm.reviewMode)?_c('th',{staticClass:\"checkbox-column\"},[_c('span',{staticClass:\"fas fa-pencil-alt\"})]):_vm._e(),_c('th',{staticClass:\"name-column\"}),_c('th',{staticClass:\"checkbox-column\"})])]),_c('tbody',[_vm._l((_vm.selectedLayers),function(layer,idx){return _c('tr',{key:layer.id},[_c('td',{staticClass:\"checkbox-column\"},[_c('b-checkbox',{attrs:{\"size\":\"is-small\",\"value\":layer.visible},on:{\"input\":function($event){return _vm.toggleLayerVisibility(idx)}}})],1),(!_vm.reviewMode)?_c('td',{staticClass:\"checkbox-column\"},[_c('b-checkbox',{attrs:{\"size\":\"is-small\",\"value\":layer.drawOn,\"disabled\":!_vm.canDraw(layer)},on:{\"input\":function($event){return _vm.toggleLayerDrawOn(idx)}}})],1):_vm._e(),_c('td',{staticClass:\"name-column\"},[_vm._v(\" \"+_vm._s(_vm.layerName(layer))+\" \")]),_c('td',{staticClass:\"checkbox-column\"},[(!_vm.reviewMode || !layer.isReview)?_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.removeLayer(idx)}}},[_c('span',{staticClass:\"fas fa-times\"})]):_vm._e()])])}),(_vm.selectedLayers.length === 0)?_c('tr',[_c('td',{staticClass:\"has-text-grey is-italic\",attrs:{\"colspan\":\"4\"}},[_vm._v(_vm._s(_vm.$t('no-selected-layers')))])]):_vm._e()],2)]),_c('div',{staticClass:\"opacity\"},[_c('label',[_vm._v(_vm._s(_vm.$t('layers-opacity')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.layersOpacity),expression:\"layersOpacity\"}],staticClass:\"slider is-fullwidth is-small\",attrs:{\"step\":\"0.05\",\"min\":\"0\",\"max\":\"1\",\"type\":\"range\"},domProps:{\"value\":(_vm.layersOpacity)},on:{\"__r\":function($event){_vm.layersOpacity=$event.target.value}}})])]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"layers\">\r\n  <h1>{{ $t('annotation-layers') }}</h1>\r\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\" size=\"is-small\">\r\n    <p> {{ $t('unexpected-error-info-message') }} </p>\r\n  </b-message>\r\n  <template v-else>\r\n    <b-field>\r\n      <b-select :placeholder=\"$t('select-layer')\" size=\"is-small\" v-model=\"selectedLayer\">\r\n        <option v-for=\"layer in unselectedLayers\" :value=\"layer\" :key=\"layer.id\">\r\n          {{ layerName(layer) }}\r\n        </option>\r\n      </b-select>\r\n      <button class=\"button is-small\" @click=\"addLayer()\" :disabled=\"!selectedLayer\">{{ $t('button-add') }}</button>\r\n    </b-field>\r\n    <table class=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th class=\"checkbox-column\"><span class=\"far fa-eye\"></span></th>\r\n          <th v-if=\"!reviewMode\" class=\"checkbox-column\"><span class=\"fas fa-pencil-alt\"></span></th>\r\n          <th class=\"name-column\"></th>\r\n          <th class=\"checkbox-column\"></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(layer, idx) in selectedLayers\" :key=\"layer.id\">\r\n          <td class=\"checkbox-column\">\r\n            <b-checkbox size=\"is-small\" :value=\"layer.visible\" @input=\"toggleLayerVisibility(idx)\" />\r\n          </td>\r\n          <td v-if=\"!reviewMode\" class=\"checkbox-column\">\r\n            <b-checkbox size=\"is-small\" :value=\"layer.drawOn\" :disabled=\"!canDraw(layer)\" @input=\"toggleLayerDrawOn(idx)\" />\r\n          </td>\r\n\r\n          <td class=\"name-column\">\r\n            {{ layerName(layer) }}\r\n          </td>\r\n          <td class=\"checkbox-column\">\r\n            <button v-if=\"!reviewMode || !layer.isReview\" class=\"button is-small\" @click=\"removeLayer(idx)\">\r\n              <span class=\"fas fa-times\"></span>\r\n            </button>\r\n          </td>\r\n        </tr>\r\n        <tr v-if=\"selectedLayers.length === 0\">\r\n          <td colspan=\"4\" class=\"has-text-grey is-italic\">{{$t('no-selected-layers')}}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <div class=\"opacity\">\r\n      <label>{{ $t('layers-opacity') }}</label>\r\n      <input class=\"slider is-fullwidth is-small\" v-model=\"layersOpacity\" step=\"0.05\" min=\"0\" max=\"1\" type=\"range\">\r\n    </div>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {fullName} from '@/utils/user-utils.js';\r\nimport {ProjectDefaultLayerCollection} from 'cytomine-client';\r\nimport _ from 'lodash';\r\n\r\nexport default {\r\n  name: 'layers-panel',\r\n  props: {\r\n    index: String,\r\n    layersToPreload: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      error: false,\r\n\r\n      layers: [], // Array<User> (representing user layers)\r\n      indexLayers: [],\r\n      selectedLayer: null\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    project: get('currentProject/project'),\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    viewerWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'];\r\n    },\r\n    imageWrapper() {\r\n      return this.viewerWrapper.images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    slices() {\r\n      return this.imageWrapper.activeSlices;\r\n    },\r\n    activePanel() {\r\n      return this.imageWrapper.activePanel;\r\n    },\r\n    layersOpacity: {\r\n      get() {\r\n        return this.imageWrapper.style.layersOpacity;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setLayersOpacity', Number(value));\r\n      }\r\n    },\r\n    layersIds() {\r\n      return this.layers.map(layer => layer.id);\r\n    },\r\n    selectedLayers() { // Array<User> (representing user layers)\r\n      return this.imageWrapper.layers.selectedLayers || [];\r\n    },\r\n    selectedLayersIds() {\r\n      return this.selectedLayers.map(layer => layer.id);\r\n    },\r\n    unselectedLayers() {\r\n      return this.layers.filter(layer => !this.selectedLayersIds.includes(layer.id)).sort((a, b) => (a.lastname < b.lastname) ? -1 : 1 );\r\n    },\r\n    nbReviewedAnnotations() {\r\n      return this.indexLayers.reduce((cnt, layer) => cnt + layer.countReviewedAnnotation, 0);\r\n    },\r\n    hasReviewLayer() {\r\n      return this.image.inReview || this.image.reviewed;\r\n    },\r\n    reviewLayer() {\r\n      return {id: -1, isReview: true};\r\n    },\r\n    reviewMode() {\r\n      return this.imageWrapper.review.reviewMode;\r\n    },\r\n    isActiveImage() {\r\n      return this.viewerWrapper.activeImage === this.index;\r\n    }\r\n  },\r\n  watch: {\r\n    activePanel() {\r\n      this.fetchIndexLayers();\r\n    },\r\n    reviewMode() {\r\n      if(this.reviewMode) {\r\n        if(!this.layers.includes(this.reviewLayer)) {\r\n          this.layers.push(this.reviewLayer);\r\n        }\r\n        this.addLayer(this.reviewLayer);\r\n      }\r\n      else {\r\n        if(!this.hasReviewLayer) {\r\n          let index = this.selectedLayersIds.findIndex(id => id === this.reviewLayer.id);\r\n          if(index !== -1) {\r\n            this.removeLayer(index);\r\n          }\r\n\r\n          this.layers = this.layers.filter(layer => !layer.isReview);\r\n        }\r\n      }\r\n    },\r\n    layersToPreload: {\r\n      deep: true,\r\n      handler: function(layersToPreload) {\r\n        layersToPreload.forEach(layerId => {\r\n          let index = this.selectedLayersIds.findIndex(id => id === this.reviewLayer.id);\r\n          if(index !== -1) {\r\n            if (!this.selectedLayers[index].visible) {\r\n              this.toggleLayerVisibility(index);\r\n            }\r\n            return;\r\n          }\r\n\r\n          this.addLayerById(layerId, true);\r\n        });\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    addAnnotationEventHandler(annot, saved = true) {\r\n      this.annotationEventHandler(annot);\r\n      let updatedProject = this.$store.state.currentProject.project.clone();\r\n\r\n      if(annot.type === 'UserAnnotation') {\r\n        if(saved) updatedProject.numberOfAnnotations++;\r\n      }\r\n      else {\r\n        updatedProject.numberOfReviewedAnnotations++;\r\n      }\r\n\r\n      this.$store.dispatch('currentProject/updateProject', updatedProject);\r\n    },\r\n    deleteAnnotationEventHandler(annot) {\r\n      this.annotationEventHandler(annot);\r\n    },\r\n    annotationEventHandler(annot) {\r\n      if(annot.image === this.image.id) {\r\n        this.fetchIndexLayers();\r\n      }\r\n    },\r\n    reloadAnnotationsHandler({idImage}={}) {\r\n      if(!idImage || idImage === this.image.id) {\r\n        this.fetchIndexLayers();\r\n      }\r\n    },\r\n\r\n    layerName(layer) {\r\n      if(layer.isReview) {\r\n        return `${this.$t('review-layer')} (${this.nbReviewedAnnotations})`;\r\n      }\r\n\r\n      let name = fullName(layer);\r\n\r\n      let id = (this.currentUser.isDeveloper) ? ` (${this.$t('id')}: ${layer.id})` : '';\r\n\r\n      let indexLayer = this.indexLayers.find(index => index.user === layer.id) || {};\r\n      return `${name}${id} (${indexLayer.countAnnotation || 0})`;\r\n    },\r\n\r\n    canDraw(layer) {\r\n      return !layer.isReview && !layer.algo && this.$store.getters['currentProject/canEditLayer'](layer.id);\r\n    },\r\n\r\n    addLayerById(id, visible) {\r\n      let layer = this.layers.find(layer => layer.id === id);\r\n      if(layer) {\r\n        this.addLayer(layer, visible);\r\n      }\r\n    },\r\n\r\n    addLayer(layer = this.selectedLayer, visible = true) {\r\n      if(this.selectedLayersIds.includes(layer.id)) {\r\n        return;\r\n      }\r\n\r\n      layer.visible = visible;\r\n      layer.drawOn = (layer.id === this.currentUser.id && this.canDraw(layer));\r\n      this.$store.dispatch(this.imageModule + 'addLayer', layer);\r\n\r\n      this.selectedLayer = null;\r\n    },\r\n\r\n    removeLayer(index) {\r\n      this.$store.dispatch(this.imageModule + 'removeLayer', index);\r\n    },\r\n\r\n    toggleLayerVisibility(index) {\r\n      this.$store.dispatch(this.imageModule + 'toggleLayerVisibility', index);\r\n    },\r\n\r\n    toggleLayerDrawOn(index) {\r\n      this.$store.commit(this.imageModule + 'toggleLayerDrawOn', index);\r\n    },\r\n\r\n    async fetchLayers() {\r\n      this.layers = (await this.project.fetchUserLayers(this.image.id)).array;\r\n      if(this.hasReviewLayer) {\r\n        this.layers.push(this.reviewLayer);\r\n      }\r\n\r\n      // if image instance was changed (e.g. with previous/next image navigation), some of the selected layers\r\n      // may not be relevant for the current image => filter them\r\n      let idLayers = this.layers.map(layer => layer.id);\r\n      this.$store.commit(this.imageModule + 'filterSelectedLayers', idLayers);\r\n    },\r\n\r\n    async fetchIndexLayers(force=false) {\r\n      if(!force && this.activePanel !== 'layers') {\r\n        return;\r\n      }\r\n      // TODO: optimize, backend should be able to send indexes for several slices at once.\r\n      let indexLayers = await Promise.all(this.slices.map(async slice => await slice.fetchAnnotationsIndex()));\r\n      indexLayers = Object.values(_.groupBy(indexLayers.flat(), 'user'));\r\n      this.indexLayers = indexLayers.map(userIndexLayers => userIndexLayers.reduce((a, b) => {\r\n        return {\r\n          user: a.user,\r\n          countAnnotation: a.countAnnotation + b.countAnnotation,\r\n          countReviewedAnnotation: a.countReviewedAnnotation + b.countReviewedAnnotation\r\n        };\r\n      }, {user: userIndexLayers[0].user, countAnnotation: 0, countReviewedAnnotation: 0}));\r\n      // ----\r\n    },\r\n\r\n    shortkeyHandler(key) {\r\n      if(!key.startsWith('toggle-all-') && !this.isActiveImage) { // shortkey should only be applied to active map\r\n        return;\r\n      }\r\n\r\n      key = key.replace('toggle-all-', 'toggle-');\r\n      if(key === 'toggle-selected-layers') {\r\n        this.selectedLayers.forEach((layer, index) => this.toggleLayerVisibility(index));\r\n      }\r\n      else if(key === 'toggle-review-layer') {\r\n        let index = this.selectedLayersIds.findIndex(id => id === this.reviewLayer.id);\r\n        if(index !== -1) {\r\n          this.toggleLayerVisibility(index);\r\n          return;\r\n        }\r\n\r\n        if(this.layers.includes(this.reviewLayer)) {\r\n          this.addLayer(this.reviewLayer);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      await Promise.all([this.fetchLayers(), this.fetchIndexLayers(true)]);\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n      this.$notify({type: 'error', text: this.$t('notif-error-loading-annotation-layers')});\r\n      return;\r\n    }\r\n\r\n    let layersToAdd = this.layersToPreload.map(id => ({id, visible: true}));\r\n\r\n    if(!this.imageWrapper.layers.selectedLayers) { // we do not use computed property selectedLayers because we don't want the replacement by [] if the store array is null\r\n      if(!this.layersToPreload.includes(this.currentUser.id)) {\r\n        layersToAdd.push({id: this.currentUser.id, visible: true});\r\n      }\r\n\r\n      try {\r\n        let defaultLayers = await ProjectDefaultLayerCollection.fetchAll({\r\n          filterKey: 'project',\r\n          filterValue: this.project.id\r\n        });\r\n\r\n        let addedIds = layersToAdd.map(layer => layer.id);\r\n\r\n        defaultLayers.array.forEach(({user, hideByDefault}) => {\r\n          if(!addedIds.includes(user)) {\r\n            layersToAdd.push({id: user, visible: !hideByDefault});\r\n          }\r\n        });\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n    layersToAdd.map(layer => this.addLayerById(layer.id, layer.visible));\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('addAnnotation', this.addAnnotationEventHandler);\r\n    this.$eventBus.$on('deleteAnnotation', this.deleteAnnotationEventHandler);\r\n    this.$eventBus.$on('reloadAnnotations', this.reloadAnnotationsHandler);\r\n    this.$eventBus.$on('shortkeyEvent', this.shortkeyHandler);\r\n  },\r\n  beforeDestroy() {\r\n    this.$eventBus.$off('addAnnotation', this.addAnnotationEventHandler);\r\n    this.$eventBus.$off('deleteAnnotation', this.deleteAnnotationEventHandler);\r\n    this.$eventBus.$off('reloadAnnotations', this.reloadAnnotationsHandler);\r\n    this.$eventBus.$off('shortkeyEvent', this.shortkeyHandler);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n>>> select {\r\n  width: 21em;\r\n}\r\n\r\n.table {\r\n  margin-bottom: 1em !important;\r\n  font-size: 0.9em;\r\n}\r\n\r\n.table tbody {\r\n  display: block;\r\n  overflow: auto;\r\n  max-height: 10em;\r\n}\r\n\r\n.table thead tr {\r\n  display: block;\r\n}\r\n\r\ntd, th {\r\n  padding: 0.25em !important;\r\n  vertical-align: middle !important;\r\n}\r\n\r\ntd .button {\r\n  width: 1.5em;\r\n  height: 1.5em;\r\n  font-size: 0.9em;\r\n  padding: 0;\r\n}\r\n\r\n.checkbox-column {\r\n  min-width: 2.2em;\r\n  text-align: center !important;\r\n}\r\n\r\n.name-column {\r\n  width: 100%;\r\n}\r\n\r\n>>> .checkbox .control-label {\r\n  padding: 0 !important;\r\n}\r\n\r\n>>> input[type=\"range\"].slider {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.opacity {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.opacity label {\r\n  text-transform: uppercase;\r\n  font-size: 0.8em;\r\n  width: 15em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayersPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayersPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LayersPanel.vue?vue&type=template&id=1376cde3&scoped=true&\"\nimport script from \"./LayersPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./LayersPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LayersPanel.vue?vue&type=style&index=0&id=1376cde3&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1376cde3\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$t('terms')))]),_c('div',{staticClass:\"ontology-tree-wrapper\"},[_c('div',{staticClass:\"header-tree\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"size\":\"is-small\",\"expanded\":\"\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('div',{staticClass:\"sidebar-tree\"},[_vm._m(0),_c('div',{staticClass:\"opacity\"},[_vm._v(_vm._s(_vm.$t('opacity')))])])],1),_c('ontology-tree',{attrs:{\"ontology\":_vm.ontology,\"allowSelection\":false,\"searchString\":_vm.searchString,\"additionalNodes\":_vm.additionalNodes},scopedSlots:_vm._u([{key:\"custom-sidebar\",fn:function({term}){return [_c('div',{staticClass:\"sidebar-tree\"},[_c('div',{staticClass:\"visibility\"},[(term.id)?_c('b-checkbox',{attrs:{\"size\":\"is-small\",\"value\":_vm.terms[_vm.termsMapping[term.id]].visible},on:{\"input\":function($event){return _vm.toggleTermVisibility(_vm.termsMapping[term.id])}}}):_c('b-checkbox',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.displayNoTerm),callback:function ($$v) {_vm.displayNoTerm=$$v},expression:\"displayNoTerm\"}})],1),_c('div',{staticClass:\"opacity\"},[(term.id)?_c('input',{staticClass:\"slider is-fullwidth is-small\",attrs:{\"step\":\"0.05\",\"min\":\"0\",\"max\":\"1\",\"type\":\"range\",\"disabled\":!_vm.terms[_vm.termsMapping[term.id]].visible},domProps:{\"value\":_vm.terms[_vm.termsMapping[term.id]].opacity},on:{\"change\":event => _vm.changeOpacity(_vm.termsMapping[term.id], event),\"input\":event => _vm.changeOpacity(_vm.termsMapping[term.id], event)}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.noTermOpacity),expression:\"noTermOpacity\"}],staticClass:\"slider is-fullwidth is-small\",attrs:{\"step\":\"0.05\",\"min\":\"0\",\"max\":\"1\",\"type\":\"range\"},domProps:{\"value\":(_vm.noTermOpacity)},on:{\"__r\":function($event){_vm.noTermOpacity=$event.target.value}}})])])]}}])})],1),_c('div',{staticClass:\"has-text-right\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.resetOpacities()}}},[_vm._v(_vm._s(_vm.$t('button-reset-opacities')))])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"visibility\"},[_c('i',{staticClass:\"far fa-eye\"})])\n}]\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <h1>{{ $t('terms') }}</h1>\r\n  <div class=\"ontology-tree-wrapper\">\r\n    <div class=\"header-tree\">\r\n      <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" size=\"is-small\" expanded />\r\n\r\n      <div class=\"sidebar-tree\">\r\n        <div class=\"visibility\">\r\n          <i class=\"far fa-eye\"></i>\r\n        </div>\r\n        <div class=\"opacity\">{{$t('opacity')}}</div>\r\n      </div>\r\n    </div>\r\n    <ontology-tree\r\n      :ontology=\"ontology\"\r\n      :allowSelection=\"false\"\r\n      :searchString=\"searchString\"\r\n      :additionalNodes=\"additionalNodes\"\r\n    >\r\n      <template #custom-sidebar=\"{term}\">\r\n        <div class=\"sidebar-tree\">\r\n          <div class=\"visibility\">\r\n            <b-checkbox\r\n              v-if=\"term.id\"\r\n              size=\"is-small\"\r\n              :value=\"terms[termsMapping[term.id]].visible\"\r\n              @input=\"toggleTermVisibility(termsMapping[term.id])\"\r\n            />\r\n\r\n            <b-checkbox v-else size=\"is-small\" v-model=\"displayNoTerm\" />\r\n          </div>\r\n\r\n          <div class=\"opacity\">\r\n            <input\r\n              v-if=\"term.id\"\r\n              class=\"slider is-fullwidth is-small\" step=\"0.05\" min=\"0\" max=\"1\" type=\"range\"\r\n              :disabled=\"!terms[termsMapping[term.id]].visible\"\r\n              :value=\"terms[termsMapping[term.id]].opacity\"\r\n              @change=\"event => changeOpacity(termsMapping[term.id], event)\"\r\n              @input=\"event => changeOpacity(termsMapping[term.id], event)\"\r\n            >\r\n\r\n            <input\r\n              v-else\r\n              class=\"slider is-fullwidth is-small\" step=\"0.05\" min=\"0\" max=\"1\" type=\"range\"\r\n              v-model=\"noTermOpacity\"\r\n            >\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </ontology-tree>\r\n  </div>\r\n  <div class=\"has-text-right\">\r\n    <button class=\"button is-small\" @click=\"resetOpacities()\">{{$t('button-reset-opacities')}}</button>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport OntologyTree from '@/components/ontology/OntologyTree';\r\n\r\nexport default {\r\n  name: 'ontology-panel',\r\n  components: {OntologyTree},\r\n  props: {\r\n    index: String\r\n  },\r\n  data() {\r\n    return {\r\n      searchString: ''\r\n    };\r\n  },\r\n  computed: {\r\n    ontology: get('currentProject/ontology'),\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    terms() {\r\n      return this.imageWrapper.style.terms;\r\n    },\r\n    termsMapping() {\r\n      let mapping = {};\r\n      this.terms.forEach((term, idx) => mapping[term.id] = idx);\r\n      return mapping;\r\n    },\r\n    additionalNodes() {\r\n      return [{id: 0, name: this.$t('no-term')}];\r\n    },\r\n    displayNoTerm: {\r\n      get() {\r\n        return this.imageWrapper.style.displayNoTerm;\r\n      },\r\n      set(value) {\r\n        this.$store.dispatch(this.imageModule + 'setDisplayNoTerm', value);\r\n      }\r\n    },\r\n    noTermOpacity: {\r\n      get() {\r\n        return this.imageWrapper.style.noTermOpacity;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setNoTermOpacity', Number(value));\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    toggleTermVisibility(index) {\r\n      this.$store.dispatch(this.imageModule + 'toggleTermVisibility', index);\r\n    },\r\n    changeOpacity(index, event) {\r\n      let opacity = Number(event.target.value);\r\n      this.$store.commit(this.imageModule + 'setTermOpacity', {indexTerm: index, opacity});\r\n    },\r\n    resetOpacities() {\r\n      this.$store.commit(this.imageModule + 'resetTermOpacities');\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.ontology-tree-wrapper {\r\n  max-height: 17em;\r\n  overflow: auto;\r\n  margin-bottom: 0.4em !important;\r\n}\r\n\r\n\r\ninput[type=\"range\"].slider {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.header-tree {\r\n  display: flex;\r\n  justify-content: right;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 5;\r\n  padding-bottom: 0.3em;\r\n  background: #f2f2f2;\r\n  border: 2px solid #DBDBDB;\r\n  border-width: 0 0 2px !important;\r\n}\r\n\r\n.header-tree .opacity {\r\n  text-align: center;\r\n  text-transform: uppercase;\r\n  font-size: 0.8em;\r\n}\r\n\r\n.sidebar-tree {\r\n  padding-right: 0.4em;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.visibility {\r\n  width: 2.8em;\r\n  height: 2.1em;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.header-tree .visibility {\r\n  height: auto;\r\n}\r\n\r\n.opacity {\r\n  width: 6em;\r\n  display: block;\r\n}\r\n\r\n>>> .checkbox .control-label {\r\n  padding: 0 !important;\r\n}\r\n\r\n>>> .ontology-tree .sl-vue-tree-node-item, >>> .ontology-tree .no-result {\r\n  line-height: 2;\r\n  font-size: 0.9em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OntologyPanel.vue?vue&type=template&id=2a725c86&scoped=true&\"\nimport script from \"./OntologyPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./OntologyPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OntologyPanel.vue?vue&type=style&index=0&id=2a725c86&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a725c86\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"properties-panel\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('properties')))]),_c('b-field',{attrs:{\"horizontal\":\"\",\"label\":_vm.$t('key')}},[_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.selectedPropertyKey),callback:function ($$v) {_vm.selectedPropertyKey=$$v},expression:\"selectedPropertyKey\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\" \"+_vm._s(_vm.$t('no-key-selected'))+\" \")]),_vm._l((_vm.propertiesKeys),function(key){return _c('option',{key:key,domProps:{\"value\":key}},[_vm._v(\" \"+_vm._s(key)+\" \")])})],2)],1),_c('b-field',{attrs:{\"horizontal\":\"\",\"label\":_vm.$t('color')}},[_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.selectedPropertyColor),callback:function ($$v) {_vm.selectedPropertyColor=$$v},expression:\"selectedPropertyColor\"}},_vm._l((_vm.colors),function(color){return _c('option',{key:color.name,domProps:{\"value\":color}},[_vm._v(\" \"+_vm._s(_vm.$t(color.name))+\" \")])}),0)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"properties-panel\">\r\n  <h1>{{$t('properties')}}</h1>\r\n  <b-field horizontal :label=\"$t('key')\">\r\n    <b-select size=\"is-small\" v-model=\"selectedPropertyKey\">\r\n      <option :value=\"null\">\r\n        {{$t('no-key-selected')}}\r\n      </option>\r\n      <option v-for=\"key in propertiesKeys\" :value=\"key\" :key=\"key\">\r\n        {{ key }}\r\n      </option>\r\n    </b-select>\r\n  </b-field>\r\n\r\n  <b-field horizontal :label=\"$t('color')\">\r\n    <b-select size=\"is-small\" v-model=\"selectedPropertyColor\">\r\n      <option v-for=\"color in colors\" :value=\"color\" :key=\"color.name\">\r\n        {{ $t(color.name) }}\r\n      </option>\r\n    </b-select>\r\n  </b-field>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {defaultColors} from '@/utils/style-utils.js';\r\n\r\nexport default {\r\n  name: 'properties-panel',\r\n  props: {\r\n    index: String\r\n  },\r\n  computed: {\r\n    colors() {\r\n      return defaultColors;\r\n    },\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    selectedPropertyKey: {\r\n      get() {\r\n        return this.imageWrapper.properties.selectedPropertyKey;\r\n      },\r\n      set(value) {\r\n        this.$store.dispatch(this.imageModule + 'setSelectedPropertyKey', value);\r\n      }\r\n    },\r\n    selectedPropertyColor: {\r\n      get() {\r\n        return this.imageWrapper.properties.selectedPropertyColor;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setSelectedPropertyColor', value);\r\n      }\r\n    },\r\n    propertiesKeys() {\r\n      return this.imageWrapper.properties.propertiesKeys;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.properties-panel select {\r\n  width: 15em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PropertiesPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PropertiesPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PropertiesPanel.vue?vue&type=template&id=4c1e15ee&\"\nimport script from \"./PropertiesPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./PropertiesPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PropertiesPanel.vue?vue&type=style&index=0&id=4c1e15ee&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"follow-panel\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('broadcast')))]),_c('div',[_c('b-checkbox',{attrs:{\"type\":\"is-info\",\"disabled\":_vm.disabledBroadcast},model:{value:(_vm.broadcastModel),callback:function ($$v) {_vm.broadcastModel=$$v},expression:\"broadcastModel\"}},[_vm._v(\" \"+_vm._s(_vm.$t('broadcast-my-position'))+\" \")])],1),(_vm.broadcast)?[_c('h2',[_vm._v(_vm._s(_vm.$t('followers'))+\" (\"+_vm._s(this.followers.length)+\")\")]),_c('div',{staticClass:\"followers\"},_vm._l((_vm.followers),function(user){return _c('div',{key:user.id,staticClass:\"field\"},[_c('li',[_c('username',{attrs:{\"user\":user}})],1)])}),0)]:_vm._e(),_c('h2',{class:{disabled: _vm.broadcast}},[_vm._v(_vm._s(_vm.$t('follow-user')))]),_c('div',{staticClass:\"follow-panel-content\",class:{disabled: _vm.broadcast}},[_c('div',{staticClass:\"field\"},[_c('b-radio',{attrs:{\"native-value\":null,\"type\":\"is-info\",\"disabled\":_vm.broadcast},model:{value:(_vm.trackedUserModel),callback:function ($$v) {_vm.trackedUserModel=$$v},expression:\"trackedUserModel\"}},[_vm._v(\" \"+_vm._s(_vm.$t('no-tracking'))+\" \")])],1),(_vm.onlineManagers.length > 0)?[_c('h3',[_vm._v(_vm._s(_vm.$t('online-managers')))]),_vm._l((_vm.onlineManagers),function(user){return _c('div',{key:user.id,staticClass:\"field\"},[_c('b-radio',{attrs:{\"native-value\":user.id,\"type\":\"is-info\",\"disabled\":_vm.broadcast},model:{value:(_vm.trackedUserModel),callback:function ($$v) {_vm.trackedUserModel=$$v},expression:\"trackedUserModel\"}},[_c('username',{attrs:{\"user\":user}})],1)],1)})]:_vm._e(),(_vm.onlineContributors.length > 0)?[_c('h3',[_vm._v(_vm._s(_vm.$t('online-contributors')))]),_vm._l((_vm.onlineContributors),function(user){return _c('div',{key:user.id,staticClass:\"field\"},[_c('b-radio',{attrs:{\"native-value\":user.id,\"type\":\"is-info\",\"disabled\":_vm.broadcast},model:{value:(_vm.trackedUserModel),callback:function ($$v) {_vm.trackedUserModel=$$v},expression:\"trackedUserModel\"}},[_c('username',{attrs:{\"user\":user}})],1)],1)})]:_vm._e()],2)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"follow-panel\">\r\n  <h1>{{$t('broadcast')}}</h1>\r\n\r\n  <div>\r\n    <b-checkbox v-model=\"broadcastModel\" type=\"is-info\" :disabled=\"disabledBroadcast\">\r\n      {{$t('broadcast-my-position')}}\r\n    </b-checkbox>\r\n  </div>\r\n\r\n    <template v-if=\"broadcast\">\r\n      <h2>{{$t('followers')}} ({{this.followers.length}})</h2>\r\n      <div class=\"followers\">\r\n        <div class=\"field\" v-for=\"user in followers\" :key=\"user.id\">\r\n          <li><username :user=\"user\" /></li>\r\n        </div>\r\n      </div>\r\n    </template>\r\n\r\n  <h2 :class=\"{disabled: broadcast}\">{{$t('follow-user')}}</h2>\r\n\r\n  <div class=\"follow-panel-content\" :class=\"{disabled: broadcast}\">\r\n    <div class=\"field\">\r\n      <b-radio v-model=\"trackedUserModel\" :native-value=\"null\" type=\"is-info\" :disabled=\"broadcast\">\r\n        {{$t('no-tracking')}}\r\n      </b-radio>\r\n    </div>\r\n\r\n    <template v-if=\"onlineManagers.length > 0\">\r\n      <h3>{{$t('online-managers')}}</h3>\r\n      <div class=\"field\" v-for=\"user in onlineManagers\" :key=\"user.id\">\r\n        <b-radio v-model=\"trackedUserModel\" :native-value=\"user.id\" type=\"is-info\" :disabled=\"broadcast\">\r\n          <username :user=\"user\" />\r\n        </b-radio>\r\n      </div>\r\n    </template>\r\n\r\n    <template v-if=\"onlineContributors.length > 0\">\r\n      <h3>{{$t('online-contributors')}}</h3>\r\n      <div class=\"field\" v-for=\"user in onlineContributors\" :key=\"user.id\">\r\n        <b-radio v-model=\"trackedUserModel\" :native-value=\"user.id\" type=\"is-info\" :disabled=\"broadcast\">\r\n          <username :user=\"user\" />\r\n        </b-radio>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport Username from '@/components/user/Username';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\nimport {UserPosition} from 'cytomine-client';\r\n\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'follow-panel',\r\n  components: {Username},\r\n  props: {\r\n    index: String,\r\n    view: Object\r\n  },\r\n  data() {\r\n    return {\r\n      onlineUsers: [],\r\n      followers: [],\r\n\r\n      broadcastModel: false,\r\n      trackedUserModel: null,\r\n\r\n      timeoutOnlineUsers: null,\r\n      timeoutTracking: null,\r\n\r\n      disabledBroadcast: false,\r\n\r\n      wsUserPositionPath: 'ws' + constants.CYTOMINE_CORE_HOST.replaceAll(\"http\", \"\") + \"/ws/user-position/\",\r\n\r\n      userPostitionWebsock: null,\r\n      wsConnected: false,\r\n      wsInterval: undefined,\r\n      viewerPositionChanged: false,\r\n      lastPositionUpdate: Date.now()\r\n    };\r\n  },\r\n  computed: {\r\n    projectMembers: get('currentProject/members'),\r\n    projectManagers: get('currentProject/managers'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    projectContributors() {\r\n      return this.$store.getters['currentProject/contributors'];\r\n    },\r\n    currentUser: get('currentUser/user'),\r\n    project: get('currentProject/project'),\r\n    blindMode() {\r\n      return this.project.blindMode;\r\n    },\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    viewerWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'];\r\n    },\r\n    images() {\r\n      return this.viewerWrapper.images;\r\n    },\r\n    linkedIndexes() {\r\n      return this.viewerWrapper.links.find(group => group.includes(this.index)) || [];\r\n    },\r\n    linkedIndexTracking() { // true if current view is linked with another view with tracking enabled\r\n      return this.linkedIndexes.some(idx => idx !== this.index && this.images[idx].tracking.trackedUser);\r\n    },\r\n    imageWrapper() {\r\n      return this.viewerWrapper.images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    activePanel() {\r\n      return this.imageWrapper.activePanel;\r\n    },\r\n    broadcast: {\r\n      get() {\r\n        return this.imageWrapper.tracking.broadcast;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setBroadcast', value);\r\n      }\r\n    },\r\n    alreadyBroadcastingImage() {\r\n      return Object.keys(this.images).some(index => {\r\n        let image = this.images[index];\r\n        return index !== this.index && image.imageInstance\r\n          && image.imageInstance.id === this.image.id && image.tracking.broadcast;\r\n      });\r\n    },\r\n    trackedUser: {\r\n      get() {\r\n        return this.imageWrapper.tracking.trackedUser;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setTrackedUser', value);\r\n      }\r\n    },\r\n    onlineManagers() {\r\n      return this.projectManagers.filter(({id}) => this.onlineUsers.includes(id));\r\n    },\r\n    onlineContributors() {\r\n      return this.projectContributors.filter(({id}) => this.onlineUsers.includes(id));\r\n    },\r\n    trackedUserFullName() {\r\n      let trackedUser = this.projectMembers.find(user => user.id === this.trackedUser);\r\n      if(trackedUser) {\r\n        return trackedUser.fullName;\r\n      }\r\n      return null;\r\n    }\r\n  },\r\n  watch: {\r\n    activePanel(panel) {\r\n      if(panel === 'follow') {\r\n        this.fetchOnline();\r\n      }\r\n    },\r\n\r\n    broadcast() {\r\n      if(this.broadcast) {\r\n        this.stopTrack();\r\n        if(!this.wsConnected){\r\n          this.initWebSocket();\r\n          this.wsInterval = setInterval(() => {\r\n           this.sendPosition();\r\n          }, constants.TRACKING_REFRESH_INTERVAL);\r\n        }\r\n        this.trackedUser = null;\r\n      }\r\n      else{\r\n        clearInterval(this.wsInterval);\r\n        this.userPostitionWebsock.close();\r\n      }\r\n    },\r\n\r\n    alreadyBroadcastingImage(value) {\r\n      if(!value) {\r\n        this.disabledBroadcast = false;\r\n      }\r\n    },\r\n\r\n    broadcastModel(value) {\r\n      if(value && this.alreadyBroadcastingImage) {\r\n        this.$notify({type: 'error', text: this.$t('notif-error-already-broadcasting-this-image')});\r\n        this.disabledBroadcast = true;\r\n        this.$nextTick(() => this.broadcastModel = false);\r\n        return;\r\n      }\r\n      this.broadcast = value;\r\n    },\r\n\r\n    trackedUserModel(value) {\r\n      // if map is linked to another map on which tracking is already enabled, possible conflict\r\n      if(value && this.linkedIndexTracking) {\r\n        this.$buefy.dialog.confirm({\r\n          title: this.$t('possible-conflict'),\r\n          message: this.$t('confirm-unlink-view-to-track'),\r\n          confirmText: this.$t('button-confirm'),\r\n          cancelText: this.$t('button-cancel'),\r\n          onConfirm: () => {\r\n            this.$store.commit(this.viewerModule + 'unlinkImage', {indexImage: this.index});\r\n            this.trackedUser = value;\r\n          },\r\n          onCancel: () => {\r\n            this.stopTrack();\r\n            this.trackedUserModel = null;\r\n          }\r\n        });\r\n      }\r\n      else {\r\n        this.stopTrack();\r\n        this.trackedUser = value;\r\n      }\r\n    },\r\n\r\n    trackedUser(id) {\r\n      this.trackedUserModel = id;\r\n\r\n      if(id) {\r\n        if(!this.wsConnected){\r\n          this.initTracking();\r\n        }\r\n        this.track();\r\n        this.fetchOnline();\r\n      }\r\n    },\r\n\r\n    onlineUsers(onlines) {\r\n      if(this.trackedUser && !onlines.includes(this.trackedUser)) {\r\n        this.$notify({\r\n          type: 'info',\r\n          text: this.$t('end-tracking-user-no-longer-broadcasting', {\r\n            username: this.trackedUserFullName,\r\n            imageName: this.blindMode ? this.image.blindedName : this.image.instanceFilename\r\n          })\r\n        });\r\n        this.trackedUser = null;\r\n      }\r\n    },\r\n    'view.zoom'() {\r\n      this.viewerPositionChanged = true;\r\n    },\r\n    'view.rotation'() {\r\n      this.viewerPositionChanged = true;\r\n    },\r\n    'view.viewCenter.0'() {\r\n      this.viewerPositionChanged = true;\r\n    },\r\n    'view.viewCenter.1'() {\r\n      this.viewerPositionChanged = true;\r\n    }\r\n  },\r\n  methods: {\r\n    initTracking(){\r\n      this.initWebSocket();\r\n      this.userPostitionWebsock.onopen = this.onOpentracking;\r\n    },\r\n    initWebSocket(){\r\n      try {\r\n        this.userPostitionWebsock = new WebSocket(appendShortTermToken(this.wsUserPositionPath + this.currentUser.id + '/' + this.image.id + '/' + this.broadcast, this.shortTermToken));\r\n        this.userPostitionWebsock.onopen = this.onOpen;\r\n        this.userPostitionWebsock.onclose = this.onClose;\r\n        this.userPostitionWebsock.onmessage = this.onMessage;\r\n      } catch (error) {\r\n        console.log('error', error);\r\n      }\r\n    },\r\n    onOpen(){\r\n      this.wsConnected = true;\r\n    },\r\n    onOpentracking(){\r\n      this.onOpen();\r\n      this.userPostitionWebsock.send(this.trackedUserModel);\r\n    },\r\n    onClose(){\r\n      this.wsConnected = false;\r\n    },\r\n    onMessage(message){\r\n      if(message.data == 'stop-track'){\r\n        this.stopTrack();\r\n      }\r\n      else{\r\n        let pos = JSON.parse(message.data);\r\n        this.moveView(pos);\r\n      }\r\n    },\r\n    moveView(pos){\r\n      this.view.animate({\r\n        center: [pos.x, pos.y],\r\n        zoom: pos.zoom,\r\n        rotation: pos.rotation,\r\n        duration: 500\r\n      });\r\n    },\r\n    stopTrack(){\r\n      if(this.wsConnected){\r\n        this.userPostitionWebsock.close();\r\n        this.wsConnected = false;\r\n      }\r\n      this.trackedUser = null;\r\n    },\r\n    \r\n    sendPosition() {\r\n      const shouldRefreshForKeepAlive = Date.now() - this.lastPositionUpdate > constants.WS_POSITION_KEEP_ALIVE_INTERVAL;\r\n      if (this.broadcast && this.wsConnected && (this.viewerPositionChanged || shouldRefreshForKeepAlive)) {\r\n        const position = JSON.stringify({\r\n          x: this.view.viewCenter[0],\r\n          y: this.view.viewCenter[1],\r\n          zoom: this.view.zoom,\r\n          rotation: this.view.rotation\r\n        });\r\n        this.userPostitionWebsock.send(position);\r\n        this.viewerPositionChanged = false;\r\n        this.lastPositionUpdate = Date.now();\r\n      }\r\n    },\r\n    async track() {\r\n      if(!this.trackedUser || this.wsConnected){\r\n        return;\r\n      }\r\n\r\n      try {\r\n        console.log('fetchLastPosition');\r\n        let pos = await UserPosition.fetchLastPosition(this.image.id, this.trackedUser);\r\n        if(!pos.id || !pos.broadcast) {\r\n          return;\r\n        }\r\n\r\n        this.moveView(pos);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-tracked-user-position')});\r\n      }\r\n\r\n      clearTimeout(this.timeoutTracking);\r\n      if(!this.wsConnected){\r\n        this.timeoutTracking = setTimeout(this.track, constants.TRACKING_REFRESH_INTERVAL);\r\n      }\r\n    },\r\n\r\n    async fetchOnline() {\r\n      if(!this.trackedUser && this.activePanel !== 'follow') { // if panel not opened and no tracking ongoing, no need to refresh the data\r\n        return;\r\n      }\r\n\r\n      let onlines = await this.image.fetchConnectedUsers(true); // retrieve broadcasting user\r\n      this.onlineUsers = onlines.filter(id => id !== this.currentUser.id);\r\n\r\n      if(this.broadcast){\r\n        this.followers = [];\r\n        let followersIds = await this.$store.dispatch('currentProject/fetchFollowers', {userId: this.currentUser.id, imageId: this.image.id});\r\n\r\n        this.projectMembers.forEach(member => {\r\n          if(followersIds.includes(''+member.id)){\r\n            this.followers.push(member);\r\n          }\r\n        });\r\n      }\r\n\r\n      clearTimeout(this.timeoutOnlineUsers);\r\n      this.timeoutOnlineUsers = setTimeout(this.fetchOnline, constants.BROADCASTING_USERS_REFRESH_INTERVAL);\r\n    },\r\n  },\r\n  created() {\r\n    this.trackedUserModel = this.trackedUser;\r\n    this.broadcastModel = this.broadcast;\r\n    this.fetchOnline();\r\n    this.track();\r\n  },\r\n  beforeDestroy() {\r\n    clearTimeout(this.timeoutTracking);\r\n    clearTimeout(this.timeoutOnlineUsers);\r\n    if(this.wsConnected){\r\n      this.userPostitionWebsock.close();\r\n      this.wsConnected = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh2 {\r\n  margin-top: 0.8em;\r\n  margin-bottom: 0.4em;\r\n  font-size: 1em;\r\n}\r\n\r\nh3 {\r\n  margin-top: 0.8em;\r\n  margin-bottom: 0.4em;\r\n  font-weight: 600;\r\n}\r\n\r\n.disabled {\r\n  color: #7a7a7a;\r\n}\r\n\r\n.follow-panel-content {\r\n  max-height: 14em;\r\n  overflow: auto;\r\n}\r\n\r\n.followers{\r\n  overflow: scroll;\r\n  max-height: 4.5em;\r\n}\r\n</style>\r\n\r\n<style>\r\n.follow-panel .b-checkbox {\r\n  align-items: flex-start !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FollowPanel.vue?vue&type=template&id=f95581d2&scoped=true&\"\nimport script from \"./FollowPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./FollowPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FollowPanel.vue?vue&type=style&index=0&id=f95581d2&prod&scoped=true&lang=css&\"\nimport style1 from \"./FollowPanel.vue?vue&type=style&index=1&id=f95581d2&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f95581d2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$t('review')))]),(_vm.image.reviewed)?[_c('b-message',{attrs:{\"type\":\"is-success\",\"size\":\"is-small\",\"has-icon\":\"\"}},[_c('i18n',{attrs:{\"path\":_vm.isReviewer ? 'you-have-validated-image-on' : 'image-validated-by-on'}},[(!_vm.isReviewer)?_c('username',{attrs:{\"place\":\"user\",\"user\":_vm.reviewer}}):_vm._e(),_c('span',{attrs:{\"place\":\"date\"}},[_vm._v(_vm._s(_vm._f(\"moment\")(Number(_vm.image.reviewStop),'ll LT')))])],1)],1),(_vm.isReviewer)?_c('button',{staticClass:\"button is-small is-fullwidth\",on:{\"click\":function($event){return _vm.unvalidate()}}},[_vm._m(0),_c('span',[_vm._v(_vm._s(_vm.$t('button-unvalidate-and-continue-review')))])]):_vm._e()]:(_vm.image.inReview)?[(_vm.isReviewer)?[(!_vm.reviewMode)?_c('div',[_c('b-message',{attrs:{\"type\":\"is-info\",\"size\":\"is-small\",\"has-icon\":\"\"}},[_c('i18n',{attrs:{\"path\":\"you-are-reviewing-image-since\"}},[_c('span',{attrs:{\"place\":\"date\"}},[_vm._v(_vm._s(_vm._f(\"moment\")(Number(_vm.image.reviewStart),'ll LT')))])])],1),_c('button',{staticClass:\"button is-small is-fullwidth\",on:{\"click\":function($event){_vm.reviewMode = true}}},[_vm._m(1),_c('span',[_vm._v(_vm._s(_vm.$t('button-continue-review')))])])],1):_c('div',[_c('div',{staticClass:\"small\"},[_c('i18n',{attrs:{\"path\":\"review-list-visible-layers\"}},[_c('list-usernames',{attrs:{\"place\":\"visibleLayers\",\"users\":_vm.visibleUserLayers}})],1),(!_vm.taskReviewAll || _vm.taskReviewAll.progress === 100)?_c('div',[_vm._v(\" \"+_vm._s(this.$t('review-explanation'))+\" \"),_c('div',{staticClass:\"buttons is-centered are-small has-addons is-fullwidth\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.reviewAll(true)}}},[_vm._m(2),_c('span',[_vm._v(_vm._s(_vm.$t('button-accept-all')))])]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.reviewAll(false)}}},[_vm._m(3),_c('span',[_vm._v(_vm._s(_vm.$t('button-reject-all')))])])])]):_c('cytomine-task',{attrs:{\"task\":_vm.taskReviewAll},on:{\"update:task\":function($event){_vm.taskReviewAll=$event}}})],1),_c('div',{staticClass:\"buttons are-small\"},[_c('button',{staticClass:\"button is-fullwidth\",on:{\"click\":function($event){_vm.reviewMode = false}}},[_vm._m(4),_c('span',[_vm._v(_vm._s(_vm.$t('button-continue-review-later')))])]),_c('button',{staticClass:\"button is-danger is-fullwidth\",on:{\"click\":function($event){return _vm.cancelReview()}}},[_vm._m(5),_c('span',[_vm._v(_vm._s(_vm.$t('button-cancel-review')))])]),_c('button',{staticClass:\"button is-success is-fullwidth\",on:{\"click\":function($event){return _vm.validate()}}},[_vm._m(6),_c('span',[_vm._v(_vm._s(_vm.$t('button-validate-review')))])])])])]:_c('b-message',{attrs:{\"type\":\"is-info\",\"size\":\"is-small\",\"has-icon\":\"\"}},[_c('i18n',{attrs:{\"path\":\"image-in-review-by-since\"}},[_c('username',{attrs:{\"place\":\"user\",\"user\":_vm.reviewer}}),_c('span',{attrs:{\"place\":\"date\"}},[_vm._v(_vm._s(_vm._f(\"moment\")(Number(_vm.image.reviewStart),'ll LT')))])],1)],1)]:[_vm._v(\" \"+_vm._s(_vm.$t('image-not-reviewed'))+\" \"),_c('button',{staticClass:\"button is-small is-fullwidth has-margin-top\",on:{\"click\":function($event){return _vm.startReview()}}},[_vm._m(7),_c('span',[_vm._v(_vm._s(_vm.$t('button-start-review')))])])]],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-thumbs-down\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-play-circle\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-check\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-minus\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-pause-circle\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-times\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-thumbs-up\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-play-circle\"})])\n}]\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <h1>{{$t('review')}}</h1>\r\n  <template v-if=\"image.reviewed\">\r\n    <b-message type=\"is-success\" size=\"is-small\" has-icon>\r\n      <i18n :path=\"isReviewer ? 'you-have-validated-image-on' : 'image-validated-by-on'\">\r\n        <username v-if=\"!isReviewer\" place=\"user\" :user=\"reviewer\" />\r\n        <span place=\"date\">{{ Number(image.reviewStop) | moment('ll LT') }}</span>\r\n      </i18n>\r\n    </b-message>\r\n\r\n    <button v-if=\"isReviewer\" class=\"button is-small is-fullwidth\" @click=\"unvalidate()\">\r\n      <span class=\"icon\"><i class=\"fas fa-thumbs-down\"></i></span>\r\n      <span>{{$t('button-unvalidate-and-continue-review')}}</span>\r\n    </button>\r\n  </template>\r\n\r\n  <template v-else-if=\"image.inReview\">\r\n    <template v-if=\"isReviewer\">\r\n      <div v-if=\"!reviewMode\">\r\n        <b-message type=\"is-info\" size=\"is-small\" has-icon>\r\n          <i18n path=\"you-are-reviewing-image-since\">\r\n            <span place=\"date\">{{ Number(image.reviewStart) | moment('ll LT') }}</span>\r\n          </i18n>\r\n        </b-message>\r\n        <button class=\"button is-small is-fullwidth\" @click=\"reviewMode = true\">\r\n          <span class=\"icon\"><i class=\"fas fa-play-circle\"></i></span>\r\n          <span>{{$t('button-continue-review')}}</span>\r\n        </button>\r\n      </div>\r\n\r\n      <div v-else>\r\n          <div class=\"small\">\r\n            <i18n path=\"review-list-visible-layers\">\r\n              <list-usernames place=\"visibleLayers\" :users=\"visibleUserLayers\" />\r\n            </i18n>\r\n            <div v-if=\"!taskReviewAll || taskReviewAll.progress === 100\">\r\n              {{this.$t('review-explanation')}}\r\n              <div class=\"buttons is-centered are-small has-addons is-fullwidth\">\r\n                <button class=\"button\" @click=\"reviewAll(true)\">\r\n                  <span class=\"icon\"><i class=\"fas fa-check\"></i></span>\r\n                  <span>{{$t('button-accept-all')}}</span>\r\n                </button>\r\n                <button class=\"button\" @click=\"reviewAll(false)\">\r\n                  <span class=\"icon\"><i class=\"fas fa-minus\"></i></span>\r\n                  <span>{{$t('button-reject-all')}}</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <cytomine-task v-else :task.sync=\"taskReviewAll\" />\r\n          </div>\r\n\r\n          <div class=\"buttons are-small\">\r\n            <button class=\"button is-fullwidth\" @click=\"reviewMode = false\">\r\n              <span class=\"icon\"><i class=\"fas fa-pause-circle\"></i></span>\r\n              <span>{{$t('button-continue-review-later')}}</span>\r\n            </button>\r\n            <button class=\"button is-danger is-fullwidth\" @click=\"cancelReview()\">\r\n                <span class=\"icon\"><i class=\"fas fa-times\"></i></span>\r\n                <span>{{$t('button-cancel-review')}}</span>\r\n            </button>\r\n            <button class=\"button is-success is-fullwidth\" @click=\"validate()\">\r\n                <span class=\"icon\"><i class=\"fas fa-thumbs-up\"></i></span>\r\n                <span>{{$t('button-validate-review')}}</span>\r\n            </button>\r\n          </div>\r\n      </div>\r\n    </template>\r\n\r\n    <b-message v-else type=\"is-info\" size=\"is-small\" has-icon>\r\n      <i18n path=\"image-in-review-by-since\">\r\n        <username place=\"user\" :user=\"reviewer\" />\r\n        <span place=\"date\">{{ Number(image.reviewStart) | moment('ll LT') }}</span>\r\n      </i18n>\r\n    </b-message>\r\n  </template>\r\n\r\n  <template v-else>\r\n    {{$t('image-not-reviewed')}}\r\n    <button class=\"button is-small is-fullwidth has-margin-top\" @click=\"startReview()\">\r\n      <span class=\"icon\"><i class=\"fas fa-play-circle\"></i></span>\r\n      <span>{{$t('button-start-review')}}</span>\r\n    </button>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport Username from '@/components/user/Username';\r\nimport ListUsernames from '@/components/user/ListUsernames';\r\nimport CytomineTask from '@/components/utils/CytomineTask';\r\nimport {User, Task, AnnotationCollection} from 'cytomine-client';\r\n\r\nexport default {\r\n  name: 'review-panel',\r\n  props: {\r\n    index: String\r\n  },\r\n  components: {\r\n    Username,\r\n    ListUsernames,\r\n    CytomineTask\r\n  },\r\n  data() {\r\n    return {\r\n      taskReviewAll: null,\r\n      reviewer: null\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    project: get('currentProject/project'),\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance.clone(); // returns a clone of the image so that it can be modified in this component without mutating state outside vuex\r\n    },\r\n    reviewMode: {\r\n      get() {\r\n        return this.imageWrapper.review.reviewMode;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setReviewMode', value);\r\n      }\r\n    },\r\n    isReviewer() { // true iff the current user is the reviewer\r\n      return this.image.reviewUser === this.currentUser.id;\r\n    },\r\n    selectedLayers() {\r\n      return this.imageWrapper.layers.selectedLayers || [];\r\n    },\r\n    visibleUserLayers() {\r\n      return this.selectedLayers.filter(layer => layer.visible && !layer.isReview);\r\n    },\r\n    visibleUserLayerIds() {\r\n      return this.visibleUserLayers.map(layer => layer.id);\r\n    },\r\n    reviewLayer() {\r\n      return this.selectedLayers.find(layer => layer.isReview) || {};\r\n    }\r\n  },\r\n  methods: {\r\n    commitImage() {\r\n      this.$store.commit(this.imageModule + 'setImageInstance', this.image);\r\n    },\r\n    async startReview() {\r\n      try {\r\n        await this.image.review();\r\n        this.commitImage();\r\n        this.reviewMode = true;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-start-review')});\r\n      }\r\n    },\r\n    async cancelReview() {\r\n      try {\r\n        await this.image.stopReview(true);\r\n        this.commitImage();\r\n        this.reviewMode = false;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-cancel-review')});\r\n      }\r\n    },\r\n    async validate() {\r\n      try {\r\n        await this.image.stopReview();\r\n        this.commitImage();\r\n        this.reviewMode = false;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-validate-review')});\r\n      }\r\n    },\r\n    async unvalidate() {\r\n      try {\r\n        await this.image.stopReview(true);\r\n        this.commitImage();\r\n        this.reviewMode = false;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-unvalidate-review')});\r\n      }\r\n    },\r\n    async reviewAll(accept) {\r\n      try {\r\n        this.taskReviewAll = await new Task({project: this.project.id}).save();\r\n        await AnnotationCollection.reviewAll({\r\n          accept,\r\n          image: this.image.id,\r\n          users: this.visibleUserLayerIds,\r\n          task: this.taskReviewAll.id\r\n        });\r\n        this.$eventBus.$emit('reloadAnnotations', {idImage: this.image.id, clear: true});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.taskReviewAll = null;\r\n        this.$notify({type: 'error', text: this.$t('notif-error-review-' + (accept ? 'accept' : 'reject') + '-all')});\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    if(this.image.reviewUser && !this.isReviewer) {\r\n      this.reviewer = await User.fetch(this.image.reviewUser);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.buttons, .has-margin-top {\r\n  margin-top: 0.5em;\r\n}\r\n\r\n.buttons.is-fullwidth .button {\r\n  flex: 1;\r\n}\r\n\r\n.small {\r\n  font-size: 0.9em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReviewPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReviewPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReviewPanel.vue?vue&type=template&id=2a9f2ca9&scoped=true&\"\nimport script from \"./ReviewPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ReviewPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReviewPanel.vue?vue&type=style&index=0&id=2a9f2ca9&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a9f2ca9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('vl-interaction-select',{ref:\"interactionSelect\",attrs:{\"ident\":`select-target-${_vm.index}`,\"filter\":_vm.filterFunction,\"features\":_vm.selectedFeatures,\"toggle-condition\":_vm.never,\"remove-condition\":_vm.shiftKeyOnly,\"multi\":true},on:{\"update:features\":function($event){_vm.selectedFeatures=$event}}},[_c('vl-style-func',{attrs:{\"factory\":_vm.styleFunctionFactory}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<vl-interaction-select\r\n  :ident=\"`select-target-${index}`\"\r\n  :filter=\"filterFunction\"\r\n  :features.sync=\"selectedFeatures\"\r\n  :toggle-condition=\"never\"\r\n  :remove-condition=\"shiftKeyOnly\"\r\n  :multi=true\r\n  ref=\"interactionSelect\"\r\n>\r\n  <vl-style-func :factory=\"styleFunctionFactory\" />\r\n</vl-interaction-select>\r\n</template>\r\n\r\n<script>\r\nimport {isCluster} from '@/utils/style-utils.js';\r\nimport {never, shiftKeyOnly} from 'ol/events/condition';\r\n\r\nexport default {\r\n  name: 'select-interaction',\r\n  props: {\r\n    index: String\r\n  },\r\n  computed: {\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    selectedFeatures: {\r\n      get() {\r\n        return this.imageWrapper.selectedFeatures.selectedFeatures;\r\n      },\r\n      set(value) {\r\n        //used when selecting a vertex of a feature\r\n        let notAnnotations = value.filter(x => !Object.keys(x).includes('id') && x.properties === null);\r\n        if(notAnnotations.length == 1){\r\n          value = notAnnotations;\r\n          this.$store.commit(this.imageModule + 'setSelectedFeatures', value);\r\n          return;\r\n        }\r\n\r\n        value.sort(\r\n          function( a, b ) {\r\n            if( a.properties.annot.area > b.properties.annot.area ) return 1;\r\n            else return -1;\r\n          }\r\n        );\r\n\r\n        let previousTarget = this.imageWrapper.selectedFeatures.selectionTargetedFeatures;\r\n        let previousSelectedFeature = this.imageWrapper.selectedFeatures.selectedFeatures[0];\r\n\r\n        this.$store.commit(this.imageModule + 'setSelectionTargetedFeatures', value);\r\n\r\n        //see https://github.com/cytomine/Cytomine-Web-UI/issues/13 for more details of this algorithm\r\n        if(this.imageWrapper.selectedFeatures.selectedFeatures.length == 0){\r\n          if(value.length>=1) value = [value[0]];\r\n        }\r\n        else {\r\n          if(value.length > 1){\r\n            //if previous selection is in the new target, we will take the first element not yet visited\r\n            if(value.map(x => x.id).includes(previousSelectedFeature.id)) {\r\n              var index = previousTarget.findIndex(x => x.id === previousSelectedFeature.id);\r\n              let visitedFeatures = previousTarget.slice(0, index + 1);\r\n              index = 0;\r\n              for(var i = 0; i < value.length; i++){\r\n                if(!visitedFeatures.map(x => x.id).includes(value[i].id)) {\r\n                  index = i;\r\n                  break;\r\n                }\r\n              }\r\n              value = [value[index]];\r\n            }\r\n            else {\r\n              value = [value[0]];\r\n            }\r\n          }\r\n        }\r\n\r\n        if(value.length>=1 && value[0].properties !== null) {\r\n          let annot = value[0].properties.annot;\r\n          annot.recordAction();\r\n        }\r\n        this.$store.commit(this.imageModule + 'setSelectedFeatures', value);\r\n      }\r\n    },\r\n    terms() {\r\n      return this.imageWrapper.style.terms || [];\r\n    },\r\n    styleFunctionFactory() {\r\n      this.imageWrapper.selectedFeatures.selectedFeatures;\r\n      this.imageWrapper.style.layersOpacity;\r\n      this.terms.forEach(term => {\r\n        term.visible;\r\n        term.color;\r\n        term.opacity;\r\n      });\r\n      this.imageWrapper.style.displayNoTerm;\r\n      this.imageWrapper.style.noTermOpacity;\r\n      this.imageWrapper.draw.activeEditTool; // style is different in edit mode (vertices displayed)\r\n      this.imageWrapper.properties.selectedPropertyValues;\r\n      this.imageWrapper.properties.selectedPropertyColor;\r\n      this.imageWrapper.review.reviewMode;\r\n      if (this.imageWrapper.style.wrappedTracks) {\r\n        this.imageWrapper.style.wrappedTracks.forEach(track => {\r\n          track.color;\r\n        });\r\n      }\r\n      return () => {\r\n        return this.$store.getters[this.imageModule + 'genStyleFunction'];\r\n      };\r\n    },\r\n    filterFunction() {\r\n      return feature => !isCluster(feature);\r\n    },\r\n    never() {\r\n      return never;\r\n    },\r\n    shiftKeyOnly() {\r\n      return shiftKeyOnly;\r\n    }\r\n  },\r\n  watch: {\r\n    async styleFunctionFactory() {\r\n      // HACK: style function is not called again when redefined => force the update of style for selected features\r\n      if(this.$refs.interactionSelect && this.$refs.interactionSelect.$interaction) {\r\n        await this.$refs.interactionSelect.$interaction.getFeatures().forEach(ft => ft.changed());\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectInteraction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectInteraction.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SelectInteraction.vue?vue&type=template&id=7e273a70&\"\nimport script from \"./SelectInteraction.vue?vue&type=script&lang=js&\"\nexport * from \"./SelectInteraction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('vl-layer-vector',[_c('vl-source-vector',{ref:\"olSourceDrawTarget\",attrs:{\"ident\":_vm.drawSourceName}})],1),(_vm.nbActiveLayers > 0 || _vm.drawCorrection)?_c('vl-interaction-draw',{ref:\"olDrawInteraction\",attrs:{\"source\":_vm.drawSourceName,\"type\":_vm.drawType,\"freehand\":_vm.drawFreehand,\"freehand-condition\":undefined,\"geometry-function\":_vm.drawGeometryFunction},on:{\"drawend\":_vm.drawEndHandler}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <vl-layer-vector>\r\n    <vl-source-vector :ident=\"drawSourceName\" ref=\"olSourceDrawTarget\" />\r\n  </vl-layer-vector>\r\n\r\n  <vl-interaction-draw\r\n    v-if=\"nbActiveLayers > 0 || drawCorrection\"\r\n    ref=\"olDrawInteraction\"\r\n    :source=\"drawSourceName\"\r\n    :type=\"drawType\"\r\n    :freehand=\"drawFreehand\"\r\n    :freehand-condition=\"undefined\"\r\n    :geometry-function=\"drawGeometryFunction\"\r\n    @drawend=\"drawEndHandler\"\r\n  />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport Polygon, {fromCircle as polygonFromCircle} from 'ol/geom/Polygon';\r\nimport WKT from 'ol/format/WKT';\r\n\r\nimport {Annotation, AnnotationType} from 'cytomine-client';\r\nimport {Action} from '@/utils/annotation-utils.js';\r\n\r\nexport default {\r\n  name: 'draw-interaction',\r\n  props: {\r\n    index: String\r\n  },\r\n  data() {\r\n    return {\r\n      format: new WKT()\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    rotation() {\r\n      return this.imageWrapper.view.rotation;\r\n    },\r\n    termsToAssociate() {\r\n      return this.imageWrapper.draw.termsNewAnnots;\r\n    },\r\n    tracksToAssociate() {\r\n      return this.imageWrapper.draw.tracksNewAnnots;\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    slice() {\r\n      // Cannot draw on multiple slices at same time\r\n      return (this.imageWrapper.activeSlices) ? this.imageWrapper.activeSlices[0] : null;\r\n    },\r\n    activeTool() {\r\n      return this.imageWrapper.draw.activeTool;\r\n    },\r\n    activeEditTool() {\r\n      return this.imageWrapper.draw.activeEditTool;\r\n    },\r\n    selectedFeature() {\r\n      return this.$store.getters[this.imageModule + 'selectedFeature'];\r\n    },\r\n    drawType() {\r\n      switch(this.activeTool) {\r\n        case 'point':\r\n          return 'Point';\r\n        case 'line':\r\n        case 'freehand-line':\r\n          return 'LineString';\r\n        case 'rectangle':\r\n        case 'circle':\r\n          return 'Circle';\r\n        case 'polygon':\r\n        case 'freehand-polygon':\r\n        case 'select': // correct mode\r\n          return 'Polygon';\r\n        default:\r\n          return ''; // Should not happen\r\n      }\r\n    },\r\n    drawCorrection() {\r\n      return this.activeTool === 'select';\r\n    },\r\n    drawFreehand() {\r\n      return this.activeTool === 'freehand-polygon' || this.activeTool === 'freehand-line' || this.drawCorrection;\r\n    },\r\n    drawGeometryFunction() {\r\n      if(this.activeTool === 'rectangle') {\r\n        return (coordinates, geometry) => {\r\n          let rotatedCoords = this.rotateCoords(coordinates, this.rotation);\r\n\r\n          let [firstCorner, thirdCorner] = rotatedCoords;\r\n          let secondCorner = [thirdCorner[0], firstCorner[1]];\r\n          let fourthCorner = [firstCorner[0], thirdCorner[1]];\r\n\r\n          let rotatedBoxCoordinates = [firstCorner, secondCorner, thirdCorner, fourthCorner, firstCorner];\r\n          let boxCoordinates = [this.rotateCoords(rotatedBoxCoordinates, -this.rotation)];\r\n\r\n          if(geometry) {\r\n            geometry.setCoordinates(boxCoordinates);\r\n          }\r\n          else {\r\n            geometry = new Polygon(boxCoordinates);\r\n          }\r\n          return geometry;\r\n        };\r\n      }\r\n      else {\r\n        return null;\r\n      }\r\n    },\r\n    layers() {\r\n      return this.imageWrapper.layers.selectedLayers || [];\r\n    },\r\n    activeLayers() {\r\n      return this.layers.filter(layer => layer.drawOn);\r\n    },\r\n    nbActiveLayers() {\r\n      return this.activeLayers.length;\r\n    },\r\n    drawSourceName() {\r\n      return `draw-target-${this.index}`;\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    activeTool() {\r\n      this.$refs.olDrawInteraction.scheduleRecreate();\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    rotateCoords(coords, theta) {\r\n      let cosTheta = Math.cos(theta);\r\n      let sinTheta = Math.sin(theta);\r\n      return coords.map(([x, y]) => [x*cosTheta + y*sinTheta, -x*sinTheta + y*cosTheta]);\r\n    },\r\n\r\n    clearDrawnFeatures() {\r\n      this.$refs.olSourceDrawTarget.clear(true);\r\n    },\r\n\r\n    async drawEndHandler({feature}) {\r\n      if(this.drawCorrection) {\r\n        await this.endCorrection(feature);\r\n      }\r\n      else if(this.nbActiveLayers > 0) {\r\n        await this.endDraw(feature);\r\n      }\r\n\r\n      this.clearDrawnFeatures();\r\n    },\r\n\r\n    async endDraw(drawnFeature) {\r\n      this.activeLayers.forEach(async (layer, idx) => {\r\n        let annot = new Annotation({\r\n          location: this.getWktLocation(drawnFeature),\r\n          image: this.image.id,\r\n          slice: this.slice.id,\r\n          user: layer.id,\r\n          term: this.termsToAssociate,\r\n          track: this.tracksToAssociate\r\n        });\r\n\r\n        try {\r\n          await annot.save();\r\n          annot.userByTerm = this.termsToAssociate.map(term => ({term, user: [this.currentUser.id]}));\r\n          this.$eventBus.$emit('addAnnotation', annot);\r\n          if(idx === this.nbActiveLayers - 1) {\r\n            this.$eventBus.$emit('selectAnnotation', {index: this.index, annot});\r\n          }\r\n\r\n          this.$store.commit(this.imageModule + 'addAction', {annot, type: Action.CREATE});\r\n        }\r\n        catch(err) {\r\n          console.log(err);\r\n          this.$notify({type: 'error', text: this.$t('notif-error-annotation-creation')});\r\n        }\r\n      });\r\n    },\r\n\r\n    async endCorrection(feature) {\r\n      if(!this.selectedFeature) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        let annot = this.selectedFeature.properties.annot;\r\n        let correctedAnnot = await Annotation.correctAnnotations({\r\n          location: this.getWktLocation(feature),\r\n          review: annot.type === AnnotationType.REVIEWED,\r\n          remove: (this.activeEditTool === 'correct-remove'),\r\n          annotation: annot.id\r\n        });\r\n        if(correctedAnnot) {\r\n          correctedAnnot.userByTerm = annot.userByTerm; // copy terms from initial annot\r\n          correctedAnnot.track = annot.track;\r\n          correctedAnnot.annotationTrack = annot.annotationTrack;\r\n          this.$store.commit(this.imageModule + 'addAction', {annot: correctedAnnot, type: Action.UPDATE});\r\n          this.$eventBus.$emit('editAnnotation', correctedAnnot);\r\n        }\r\n      }\r\n      catch(err) {\r\n        console.log(err);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-correction')});\r\n      }\r\n    },\r\n\r\n    getWktLocation(feature) {\r\n      // transform circle to circular polygon\r\n      let geometry = feature.getGeometry();\r\n      if (geometry.getType() === 'Circle') {\r\n        feature.setGeometry(polygonFromCircle(geometry));\r\n      }\r\n      return this.format.writeFeature(feature);\r\n    },\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawInteraction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawInteraction.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DrawInteraction.vue?vue&type=template&id=1bf6ce48&\"\nimport script from \"./DrawInteraction.vue?vue&type=script&lang=js&\"\nexport * from \"./DrawInteraction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.activeEditTool === 'modify')?_c('vl-interaction-modify',{ref:\"olModifyInteraction\",attrs:{\"source\":_vm.selectSource,\"delete-condition\":_vm.deleteCondition,\"insert-vertex-condition\":_vm.insertVertexCondition},on:{\"modifystart\":_vm.startEdit,\"modifyend\":_vm.endEdit}}):_vm._e(),(_vm.activeEditTool === 'translate')?_c('vl-interaction-translate',{attrs:{\"source\":_vm.selectSource},on:{\"translatestart\":_vm.startEdit,\"translateend\":_vm.endEdit}}):_vm._e(),(_vm.activeEditTool === 'rescale')?_c('vl-interaction-rescale',{attrs:{\"source\":_vm.selectSource},on:{\"rescalestart\":_vm.startEdit,\"rescaleend\":_vm.endEdit}}):_vm._e(),(_vm.activeEditTool === 'rotate')?_c('vl-interaction-rotate',{attrs:{\"source\":_vm.selectSource},on:{\"rotatestart\":_vm.startEdit,\"rotateend\":_vm.endEdit}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport function isRectangle(geometry) {\r\n  if (geometry.getLinearRingCount() !== 1 || geometry.getCoordinates()[0].length !== 5) {\r\n    return false;\r\n  }\r\n\r\n  const coordinates = geometry.getCoordinates(false)[0];\r\n  let prevX = coordinates[0][0];\r\n  let prevY = coordinates[0][1];\r\n  for (let i = 1; i <= 4; i++) {\r\n    let x = coordinates[i][0];\r\n    let y = coordinates[i][1];\r\n    let xChanged = (x !== prevX);\r\n    let yChanged = (y !== prevY);\r\n    if (xChanged === yChanged) {\r\n      return false;\r\n    }\r\n    prevX = x;\r\n    prevY = y;\r\n  }\r\n\r\n  return true;\r\n}\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <vl-interaction-modify\r\n    v-if=\"activeEditTool === 'modify'\"\r\n    :source=\"selectSource\"\r\n    ref=\"olModifyInteraction\"\r\n    :delete-condition=\"deleteCondition\"\r\n    :insert-vertex-condition=\"insertVertexCondition\"\r\n    @modifystart=\"startEdit\"\r\n    @modifyend=\"endEdit\"\r\n  />\r\n\r\n  <vl-interaction-translate\r\n    v-if=\"activeEditTool === 'translate'\"\r\n    :source=\"selectSource\"\r\n    @translatestart=\"startEdit\"\r\n    @translateend=\"endEdit\"\r\n  />\r\n\r\n  <vl-interaction-rescale\r\n    v-if=\"activeEditTool === 'rescale'\"\r\n    :source=\"selectSource\"\r\n    @rescalestart=\"startEdit\"\r\n    @rescaleend=\"endEdit\"\r\n  />\r\n\r\n  <vl-interaction-rotate\r\n    v-if=\"activeEditTool === 'rotate'\"\r\n    :source=\"selectSource\"\r\n    @rotatestart=\"startEdit\"\r\n    @rotateend=\"endEdit\"\r\n  />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport WKT from 'ol/format/WKT';\r\nimport {Action} from '@/utils/annotation-utils.js';\r\nimport {singleClick} from 'ol/events/condition';\r\nimport {isRectangle} from '@/utils/geometry-utils';\r\n\r\nexport default {\r\n  name: 'modify-interaction',\r\n  props: {\r\n    index: String\r\n  },\r\n  data() {\r\n    return {\r\n      format: new WKT(),\r\n    };\r\n  },\r\n  computed: {\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    imageWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    selectSource() {\r\n      return `select-target-${this.index}`;\r\n    },\r\n    activeEditTool() {\r\n      return this.imageWrapper.draw.activeEditTool;\r\n    },\r\n    ongoingEdit: {\r\n      get() {\r\n        return this.imageWrapper.draw.ongoingEdit;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.imageModule + 'setOngoingEdit', value);\r\n      }\r\n    },\r\n    deleteCondition() {\r\n      return function(mapBrowserEvent) {\r\n        return mapBrowserEvent.originalEvent.ctrlKey && singleClick(mapBrowserEvent);\r\n      };\r\n    },\r\n    insertVertexCondition() {\r\n      return function() {\r\n        return !this.features_.getArray().every(function(feature) {\r\n          return isRectangle(feature.getGeometry());\r\n        });\r\n      };\r\n    }\r\n  },\r\n  methods: {\r\n    startEdit() {\r\n      this.ongoingEdit = true;\r\n    },\r\n    async endEdit({features}) {\r\n      features.forEach(async feature => {\r\n        if(!feature.get('annot')) {\r\n          return;\r\n        }\r\n\r\n        let annot = feature.get('annot').clone();\r\n        let oldLocation = annot.location;\r\n        try {\r\n          annot.location = this.format.writeFeature(feature);\r\n          annot.terms = annot.term; // HACK for reviewed annotation (unconsistent behaviour)\r\n          await annot.save();\r\n          this.$eventBus.$emit('editAnnotation', annot);\r\n          this.$store.commit(this.imageModule + 'addAction', {annot, type: Action.UPDATE});\r\n        }\r\n        catch(err) {\r\n          console.log(err);\r\n          this.$notify({type: 'error', text: this.$t('notif-error-annotation-update')});\r\n          annot.location = oldLocation;\r\n          feature.setGeometry(this.format.readGeometry(annot.location));\r\n        }\r\n      });\r\n      this.ongoingEdit = false;\r\n    },\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifyInteraction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifyInteraction.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModifyInteraction.vue?vue&type=template&id=274cff30&\"\nimport script from \"./ModifyInteraction.vue?vue&type=script&lang=js&\"\nexport * from \"./ModifyInteraction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"map-container\" @click=\"isActiveImage = true\" ref=\"container\">\r\n  <template v-if=\"!loading && zoom !== null\">\r\n    <vl-map\r\n      :data-projection=\"projectionName\"\r\n      :load-tiles-while-animating=\"true\"\r\n      :load-tiles-while-interacting=\"true\"\r\n      :keyboard-event-target=\"document\"\r\n      @pointermove=\"projectedMousePosition = $event.coordinate\"\r\n      @mounted=\"updateKeyboardInteractions\"\r\n      ref=\"map\"\r\n    >\r\n\r\n      <vl-view\r\n        :center.sync=\"center\"\r\n        :zoom.sync=\"zoom\"\r\n        :rotation.sync=\"rotation\"\r\n        :max-zoom=\"maxZoom\"\r\n        :max-resolution=\"Math.pow(2, image.zoom)\"\r\n        :extent=\"extent\"\r\n        :projection=\"projectionName\"\r\n        @mounted=\"viewMounted()\"\r\n        ref=\"view\"\r\n      />\r\n\r\n      <vl-layer-tile :extent=\"extent\" @mounted=\"addOverviewMap\" ref=\"baseLayer\">\r\n        <vl-source-zoomify\r\n          :projection=\"projectionName\"\r\n          :urls=\"baseLayerURLs\"\r\n          :size=\"imageSize\"\r\n          :extent=\"extent\"\r\n          :crossOrigin=\"slices[0].imageServerUrl\"\r\n          ref=\"baseSource\"\r\n          @mounted=\"setBaseSource()\"\r\n          :transition=\"0\"\r\n          :tile-size=\"tileSize\"\r\n        />\r\n      </vl-layer-tile>\r\n\r\n<!--      <vl-layer-image>-->\r\n<!--        <vl-source-raster-->\r\n<!--          v-if=\"baseSource && colorManipulationOn\"-->\r\n<!--          :sources=\"[baseSource]\"-->\r\n<!--          :operation=\"operation\"-->\r\n<!--          :lib=\"lib\"-->\r\n<!--        />-->\r\n<!--      </vl-layer-image>-->\r\n\r\n      <annotation-layer\r\n        v-for=\"layer in selectedLayers\"\r\n        :key=\"'layer-'+layer.id\"\r\n        :index=\"index\"\r\n        :layer=\"layer\"\r\n      />\r\n\r\n      <select-interaction v-if=\"activeSelectInteraction\" :index=\"index\" />\r\n      <draw-interaction v-if=\"activeDrawInteraction\" :index=\"index\" />\r\n      <modify-interaction v-if=\"activeModifyInteraction\" :index=\"index\" />\r\n\r\n    </vl-map>\r\n\r\n    <div v-if=\"configUI['project-tools-main']\" class=\"draw-tools\">\r\n      <draw-tools :index=\"index\" @screenshot=\"takeScreenshot()\"/>\r\n    </div>\r\n\r\n    <div class=\"panels\">\r\n      <ul>\r\n        <li>\r\n          <a @click=\"$emit('close')\" class=\"close\">\r\n            <i class=\"fas fa-times-circle\"></i>\r\n          </a>\r\n        </li>\r\n\r\n        <template v-if=\"isPanelDisplayed('hide-tools')\">\r\n          <li v-if=\"isPanelDisplayed('info')\">\r\n            <a @click=\"togglePanel('info')\" :class=\"{active: ['info', 'metadata'].includes(activePanel)}\">\r\n              <i class=\"fas fa-info\"></i>\r\n            </a>\r\n            <information-panel\r\n              class=\"panel-options\"\r\n              v-show=\"activePanel === 'info'\"\r\n              :index=\"index\"\r\n              @openMetadata=\"togglePanel('metadata')\"\r\n            />\r\n            <div v-show=\"activePanel === 'metadata'\">\r\n              <metadata-panel class=\"panel-metadata\" :index=\"index\" />\r\n            </div>\r\n          </li>\r\n\r\n          <li v-if=\"isPanelDisplayed('digital-zoom')\">\r\n            <a @click=\"togglePanel('digital-zoom')\" :class=\"{active: activePanel === 'digital-zoom'}\">\r\n              <i class=\"fas fa-search\"></i>\r\n            </a>\r\n            <digital-zoom class=\"panel-options\" v-show=\"activePanel === 'digital-zoom'\" :index=\"index\"\r\n                          @resetZoom=\"$refs.view.animate({zoom: image.zoom})\"\r\n                          @fitZoom=\"fitZoom\" />\r\n          </li>\r\n\r\n          <li v-if=\"isPanelDisplayed('link') && nbImages > 1\">\r\n            <a @click=\"togglePanel('link')\" :class=\"{active: activePanel === 'link'}\">\r\n              <i class=\"fas fa-link\"></i>\r\n            </a>\r\n            <link-panel class=\"panel-options\" v-show=\"activePanel === 'link'\" :index=\"index\" />\r\n          </li>\r\n\r\n          <li v-if=\"isPanelDisplayed('color-manipulation')\">\r\n            <a @click=\"togglePanel('colors')\" :class=\"{active: activePanel === 'colors'}\">\r\n              <i class=\"fas fa-adjust\"></i>\r\n            </a>\r\n            <color-manipulation class=\"panel-options\" v-show=\"activePanel === 'colors'\" :index=\"index\" />\r\n          </li>\r\n\r\n          <li v-if=\"isPanelDisplayed('image-layers')\">\r\n            <a @click=\"togglePanel('layers')\" :class=\"{active: activePanel === 'layers'}\">\r\n              <i class=\"fas fa-copy\"></i>\r\n            </a>\r\n            <layers-panel class=\"panel-options\" v-show=\"activePanel === 'layers'\"\r\n              :index=\"index\" :layers-to-preload=\"layersToPreload\"\r\n            />\r\n          </li>\r\n\r\n          <li v-if=\"isPanelDisplayed('ontology') && terms && terms.length > 0\">\r\n            <a @click=\"togglePanel('ontology')\" :class=\"{active: activePanel === 'ontology'}\">\r\n              <i class=\"fas fa-hashtag\"></i>\r\n            </a>\r\n            <ontology-panel class=\"panel-options\" v-show=\"activePanel === 'ontology'\" :index=\"index\" />\r\n          </li>\r\n\r\n          <li  v-if=\"isPanelDisplayed('property')\">\r\n            <a @click=\"togglePanel('properties')\" :class=\"{active: activePanel === 'properties'}\">\r\n              <i class=\"fas fa-tag\"></i>\r\n            </a>\r\n            <properties-panel class=\"panel-options\" v-show=\"activePanel === 'properties'\" :index=\"index\" />\r\n          </li>\r\n\r\n          <li v-if=\"isPanelDisplayed('follow')\">\r\n            <a @click=\"togglePanel('follow')\" :class=\"{active: activePanel === 'follow'}\">\r\n              <i class=\"fas fa-street-view\"></i>\r\n            </a>\r\n            <follow-panel class=\"panel-options\" v-show=\"activePanel === 'follow'\" :index=\"index\" :view=\"$refs.view\"/>\r\n          </li>\r\n\r\n          <li v-if=\"isPanelDisplayed('review') && canEdit\">\r\n            <a @click=\"togglePanel('review')\" :class=\"{active: activePanel === 'review'}\">\r\n              <i class=\"fas fa-check-circle\"></i>\r\n            </a>\r\n            <review-panel class=\"panel-options\" v-show=\"activePanel === 'review'\" :index=\"index\" />\r\n          </li>\r\n        </template>\r\n      </ul>\r\n    </div>\r\n\r\n    <image-controls :index=\"index\" class=\"image-controls-wrapper\" />\r\n\r\n    <div class=\"broadcast\" v-if=\"imageWrapper.tracking.broadcast\">\r\n      <i class=\"fas fa-circle\"></i> {{$t('live')}}\r\n    </div>\r\n\r\n    <rotation-selector class=\"rotation-selector-wrapper\" :index=\"index\" />\r\n\r\n    <scale-line :image=\"image\" :zoom=\"zoom\" :mousePosition=\"projectedMousePosition\" />\r\n\r\n    <annotations-container :index=\"index\" @centerView=\"centerViewOnAnnot\" />\r\n\r\n    <div class=\"custom-overview\" ref=\"overview\">\r\n      <p class=\"image-name\" :class=\"{hidden: overviewCollapsed}\">\r\n        <image-name :image=\"image\" />\r\n      </p>\r\n    </div>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport _ from 'lodash';\r\n\r\nimport ImageName from '@/components/image/ImageName';\r\nimport AnnotationLayer from './AnnotationLayer';\r\nimport RotationSelector from './RotationSelector';\r\nimport ScaleLine from './ScaleLine';\r\nimport DrawTools from './DrawTools';\r\nimport ImageControls from './ImageControls';\r\nimport AnnotationsContainer from './AnnotationsContainer';\r\n\r\nimport InformationPanel from './panels/InformationPanel';\r\nimport MetadataPanel from './panels/MetadataPanel.vue';\r\nimport DigitalZoom from './panels/DigitalZoom';\r\nimport ColorManipulation from './panels/ColorManipulation';\r\nimport LinkPanel from './panels/LinkPanel';\r\nimport LayersPanel from './panels/LayersPanel';\r\nimport OntologyPanel from './panels/OntologyPanel';\r\nimport PropertiesPanel from './panels/PropertiesPanel';\r\nimport FollowPanel from './panels/FollowPanel';\r\nimport ReviewPanel from './panels/ReviewPanel';\r\n\r\nimport SelectInteraction from './interactions/SelectInteraction';\r\nimport DrawInteraction from './interactions/DrawInteraction';\r\nimport ModifyInteraction from './interactions/ModifyInteraction';\r\n\r\nimport {addProj, createProj, getProj} from 'vuelayers/lib/ol-ext';\r\n\r\nimport View from 'ol/View';\r\nimport OverviewMap from 'ol/control/OverviewMap';\r\nimport {KeyboardPan, KeyboardZoom} from 'ol/interaction';\r\nimport {noModifierKeys, targetNotEditable} from 'ol/events/condition';\r\nimport WKT from 'ol/format/WKT';\r\n\r\nimport {ImageConsultation, Annotation, AnnotationType, UserPosition, SliceInstance} from 'cytomine-client';\r\n\r\nimport {constLib, operation} from '@/utils/color-manipulation.js';\r\n\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'cytomine-image',\r\n  props: {\r\n    index: String\r\n  },\r\n  components: {\r\n    ImageName,\r\n\r\n    AnnotationLayer,\r\n\r\n    RotationSelector,\r\n    ScaleLine,\r\n    DrawTools,\r\n    ImageControls,\r\n    AnnotationsContainer,\r\n\r\n    InformationPanel,\r\n    MetadataPanel,\r\n    DigitalZoom,\r\n    ColorManipulation,\r\n    LinkPanel,\r\n    LayersPanel,\r\n    OntologyPanel,\r\n    PropertiesPanel,\r\n    FollowPanel,\r\n    ReviewPanel,\r\n\r\n    SelectInteraction,\r\n    DrawInteraction,\r\n    ModifyInteraction\r\n  },\r\n  data() {\r\n    return {\r\n      minZoom: 0,\r\n\r\n      projectedMousePosition: [0, 0],\r\n\r\n      baseSource: null,\r\n      routedAnnotation: null,\r\n      selectedAnnotation: null,\r\n\r\n      timeoutSavePosition: null,\r\n\r\n      loading: true,\r\n\r\n      overview: null,\r\n\r\n      format: new WKT(),\r\n    };\r\n  },\r\n  computed: {\r\n    document() {\r\n      return document;\r\n    },\r\n    routedAction() {\r\n      return this.$route.query.action;\r\n    },\r\n    configUI: get('currentProject/configUI'),\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageModule() {\r\n      return this.$store.getters['currentProject/imageModule'](this.index);\r\n    },\r\n    viewerWrapper() {\r\n      return this.$store.getters['currentProject/currentViewer'];\r\n    },\r\n    nbImages() {\r\n      return Object.keys(this.viewerWrapper.images).length;\r\n    },\r\n    imageWrapper() {\r\n      return this.viewerWrapper.images[this.index];\r\n    },\r\n    image() {\r\n      return this.imageWrapper.imageInstance;\r\n    },\r\n    slices() {\r\n      return this.imageWrapper.activeSlices;\r\n    },\r\n    sliceIds() {\r\n      return this.slices.map(slice => slice.id);\r\n    },\r\n    canEdit() {\r\n      return this.$store.getters['currentProject/canEditImage'](this.image);\r\n    },\r\n    projectionName() {\r\n      return `CYTO-${this.image.id}`;\r\n    },\r\n    terms() {\r\n      return this.$store.getters['currentProject/terms'];\r\n    },\r\n    selectedLayers() {\r\n      return this.imageWrapper.layers.selectedLayers || [];\r\n    },\r\n    isActiveImage: {\r\n      get() {\r\n        return this.viewerWrapper.activeImage === this.index;\r\n      },\r\n      set(value) {\r\n        if(value) {\r\n          if(this.viewerWrapper) {\r\n            this.$store.commit(this.viewerModule + 'setActiveImage', this.index);\r\n          }\r\n        }\r\n        else {\r\n          throw new Error('Cannot unset active map');\r\n        }\r\n      }\r\n    },\r\n    activePanel() {\r\n      return this.imageWrapper.activePanel;\r\n    },\r\n    activeTool() {\r\n      return this.imageWrapper.draw.activeTool;\r\n    },\r\n    activeEditTool() {\r\n      return this.imageWrapper.draw.activeEditTool;\r\n    },\r\n    maxZoom() {\r\n      return this.$store.getters[this.imageModule + 'maxZoom'];\r\n    },\r\n\r\n    center: {\r\n      get() {\r\n        return this.imageWrapper.view.center;\r\n      },\r\n      set(value) {\r\n        this.$store.dispatch(this.viewerModule + 'setCenter', {index: this.index, center: value});\r\n      }\r\n    },\r\n    zoom: {\r\n      get() {\r\n        return this.imageWrapper.view.zoom;\r\n      },\r\n      set(value) {\r\n        this.$store.dispatch(this.viewerModule + 'setZoom', {index: this.index, zoom: Number(value)});\r\n      }\r\n    },\r\n    rotation: {\r\n      get() {\r\n        return this.imageWrapper.view.rotation;\r\n      },\r\n      set(value) {\r\n        this.$store.dispatch(this.viewerModule + 'setRotation', {index: this.index, rotation: Number(value)});\r\n      }\r\n    },\r\n\r\n    viewState() {\r\n      return {center: this.center, zoom: this.zoom, rotation: this.rotation};\r\n    },\r\n\r\n    extent() {\r\n      return [0, 0, this.image.width, this.image.height];\r\n    },\r\n    imageSize() {\r\n      return [this.image.width, this.image.height];\r\n    },\r\n    tileSize() {\r\n      return this.image.tileSize;\r\n    },\r\n    baseLayerProcessingParams() {\r\n      return this.$store.getters[this.imageModule + 'tileRequestParams'];\r\n    },\r\n    baseLayerSliceParams() {\r\n      return {\r\n        // eslint-disable-next-line camelcase\r\n        z_slices: this.slices[0].zStack,\r\n        timepoints: this.slices[0].time\r\n      };\r\n    },\r\n    baseLayerURLQuery() {\r\n      let query = new URLSearchParams({...this.baseLayerSliceParams, ...this.baseLayerProcessingParams}).toString();\r\n      if (query.length > 0) {\r\n        return `?${query}`;\r\n      }\r\n      return query;\r\n    },\r\n    baseLayerURLs() {\r\n      let slice = this.slices[0];\r\n      return  [`${slice.imageServerUrl}/image/${slice.path}/normalized-tile/zoom/{z}/ti/{tileIndex}.jpg${this.baseLayerURLQuery}`];\r\n    },\r\n    // colorManipulationOn() {\r\n    //   return this.imageWrapper.colors.brightness !== 0\r\n    //             || this.imageWrapper.colors.hue !== 0 || this.imageWrapper.colors.saturation !== 0;\r\n    // },\r\n    // operation() {\r\n    //   return operation;\r\n    // },\r\n    // lib() {\r\n    //   return {\r\n    //     ...constLib,\r\n    //     brightness: this.imageWrapper.colors.brightness,\r\n    //     contrast: this.imageWrapper.colors.contrast,\r\n    //     saturation: this.imageWrapper.colors.saturation,\r\n    //     hue: this.imageWrapper.colors.hue\r\n    //   };\r\n    // },\r\n\r\n    layersToPreload() {\r\n      let layers = [];\r\n      let annot = this.selectedAnnotation || this.routedAnnotation;\r\n      if(annot) {\r\n        layers.push(annot.type === AnnotationType.REVIEWED ? -1 : annot.user);\r\n      }\r\n      if(this.routedAction === 'review' && !layers.includes(-1)) {\r\n        layers.push(-1);\r\n      }\r\n      return layers;\r\n    },\r\n\r\n    overviewCollapsed() {\r\n      return this.overview ? this.overview.getCollapsed() : this.imageWrapper.view.overviewCollapsed;\r\n    },\r\n\r\n    correction() {\r\n      return ['correct-add', 'correct-remove'].includes(this.activeEditTool);\r\n    },\r\n    activeSelectInteraction() {\r\n      return this.activeTool === 'select';\r\n    },\r\n    activeDrawInteraction() {\r\n      return !this.activeSelectInteraction || this.correction;\r\n    },\r\n    activeModifyInteraction() {\r\n      return this.activeSelectInteraction && this.activeEditTool && !this.correction;\r\n    },\r\n    idealZoom() {\r\n      let container = this.$refs.container;\r\n      let idealZoom = this.maxZoom;\r\n      let factor = this.maxZoom - this.image.zoom;\r\n      let mapWidth = this.image.width * Math.pow(2, factor);\r\n      let mapHeight = this.image.height * Math.pow(2, factor);\r\n      while(mapWidth > container.clientWidth || mapHeight > container.clientHeight) {\r\n        mapWidth /= 2;\r\n        mapHeight /= 2;\r\n        idealZoom --;\r\n      }\r\n      return idealZoom;\r\n    }\r\n  },\r\n  watch: {\r\n    viewState() {\r\n      this.savePosition();\r\n    },\r\n    overviewCollapsed(value) {\r\n      this.$store.commit(this.imageModule + 'setOverviewCollapsed', value);\r\n    }\r\n  },\r\n  methods: {\r\n    setInitialZoom() {\r\n      if(this.zoom !== null) {\r\n        return; // not the first time the viewer is opened => zoom was already initialized\r\n      }\r\n      this.zoom = this.idealZoom;\r\n    },\r\n\r\n    async updateMapSize() {\r\n      await this.$nextTick();\r\n      if(this.$refs.map) {\r\n        this.$refs.map.updateSize();\r\n      }\r\n    },\r\n\r\n    async updateKeyboardInteractions() {\r\n      await this.$refs.map.$createPromise; // wait for ol.Map to be created\r\n\r\n      this.$refs.map.$map.getInteractions().forEach(interaction => {\r\n        if(interaction instanceof KeyboardPan || interaction instanceof KeyboardZoom) {\r\n          interaction.condition_ = (mapBrowserEvent) => {\r\n            return noModifierKeys(mapBrowserEvent)\r\n              && targetNotEditable(mapBrowserEvent)\r\n              && this.isActiveImage\r\n              && !mapBrowserEvent.originalEvent.target.classList.contains('ql-editor');\r\n          };\r\n        }\r\n      });\r\n    },\r\n\r\n    async viewMounted() {\r\n      await this.$refs.view.$createPromise; // wait for ol.View to be created\r\n      if(this.routedAnnotation) {\r\n        this.centerViewOnAnnot(this.routedAnnotation, 500);\r\n      }\r\n      this.savePosition();\r\n    },\r\n\r\n    async setBaseSource() {\r\n      await this.$refs.baseSource.$createPromise;\r\n      this.baseSource = this.$refs.baseSource.$source;\r\n    },\r\n\r\n    async addOverviewMap() {\r\n      if(!this.isPanelDisplayed('overview')) {\r\n        return;\r\n      }\r\n\r\n      await this.$refs.map.$createPromise; // wait for ol.Map to be created\r\n      await this.$refs.baseLayer.$createPromise; // wait for ol.Layer to be created\r\n\r\n      let map = this.$refs.map.$map;\r\n\r\n      this.overview = new OverviewMap({\r\n        view: new View({projection: this.projectionName}),\r\n        layers: [this.$refs.baseLayer.$layer],\r\n        tipLabel: this.$t('overview'),\r\n        target: this.$refs.overview,\r\n        collapsed: this.imageWrapper.view.overviewCollapsed\r\n      });\r\n      map.addControl(this.overview);\r\n\r\n      this.overview.getOverviewMap().on(('click'), (evt) => {\r\n        let size = map.getSize();\r\n        map.getView().centerOn(evt.coordinate, size, [size[0]/2, size[1]/2]);\r\n      });\r\n    },\r\n\r\n    toggleOverview() {\r\n      if (this.overview) {\r\n        this.overview.setCollapsed(!this.imageWrapper.view.overviewCollapsed);\r\n      }\r\n    },\r\n\r\n    togglePanel(panel) {\r\n      this.$store.commit(this.imageModule + 'togglePanel', panel);\r\n    },\r\n\r\n    savePosition: _.debounce(async function() {\r\n      if(this.$refs.view) {\r\n        let extent = this.$refs.view.$view.calculateExtent(); // [minX, minY, maxX, maxY]\r\n        try {\r\n          await UserPosition.create({\r\n            image: this.image.id,\r\n            slice: this.slices[0].id,\r\n            zoom: this.zoom,\r\n            rotation: this.rotation,\r\n            bottomLeftX: Math.round(extent[0]),\r\n            bottomLeftY: Math.round(extent[1]),\r\n            bottomRightX: Math.round(extent[2]),\r\n            bottomRightY: Math.round(extent[1]),\r\n            topLeftX: Math.round(extent[0]),\r\n            topLeftY: Math.round(extent[3]),\r\n            topRightX: Math.round(extent[2]),\r\n            topRightY: Math.round(extent[3]),\r\n            broadcast: this.imageWrapper.tracking.broadcast\r\n          });\r\n        }\r\n        catch(error) {\r\n          console.log(error);\r\n          this.$notify({type: 'error', text: this.$t('notif-error-save-user-position')});\r\n        }\r\n\r\n        clearTimeout(this.timeoutSavePosition);\r\n        this.timeoutSavePosition = setTimeout(this.savePosition, constants.SAVE_POSITION_IN_IMAGE_INTERVAL);\r\n      }\r\n    }, 500),\r\n\r\n    fitZoom() {\r\n      this.$refs.view.animate({\r\n        zoom: this.idealZoom,\r\n        center: [this.image.width/2, this.image.height/2]\r\n      });\r\n    },\r\n\r\n    async centerViewOnAnnot(annot, duration) {\r\n      if (annot.image === this.image.id) {\r\n        if (!annot.location) {\r\n          //in case annotation location has not been loaded\r\n          annot = await Annotation.fetch(annot.id);\r\n        }\r\n\r\n        let geometry = this.format.readGeometry(annot.location);\r\n        this.$refs.view.fit(geometry, {duration, padding: [10, 10, 10, 10], maxZoom: this.image.zoom});\r\n\r\n        // HACK: center set by view.fit() is incorrect => reset it manually\r\n        this.center = (geometry.getType() === 'Point') ? geometry.getFirstCoordinate()\r\n          : [annot.centroid.x, annot.centroid.y];\r\n        // ---\r\n      }\r\n    },\r\n\r\n    async selectAnnotationHandler({index, annot, center=false, showComments=false}) {\r\n      if (this.index === index && annot.image === this.image.id) {\r\n        try {\r\n          let sliceChange = false;\r\n          if (!annot.slice) {\r\n            //in case annotation slice has not been loaded\r\n            annot = await Annotation.fetch(annot.id);\r\n          }\r\n\r\n          if(annot.slice !== this.slices[0].id) {\r\n            let slice = await SliceInstance.fetch(annot.slice);\r\n            await this.$store.dispatch(this.imageModule + 'setActiveSlice', slice);\r\n            this.$eventBus.$emit('reloadAnnotations', {idImage: this.image.id, hard: true});\r\n            sliceChange = true;\r\n          }\r\n\r\n          if (showComments) {\r\n            this.$store.commit(this.imageModule + 'setShowComments', annot);\r\n          }\r\n\r\n          this.selectedAnnotation = annot; // used to pre-load annot layer\r\n          this.$store.commit(this.imageModule + 'setAnnotToSelect', annot);\r\n          this.$eventBus.$emit('selectAnnotationInLayer', {index, annot});\r\n\r\n          if (center) {\r\n            await this.viewMounted();\r\n            let duration = (sliceChange) ? undefined : 500;\r\n            this.centerViewOnAnnot(annot, duration);\r\n          }\r\n        }\r\n        catch(error) {\r\n          console.log(error);\r\n          this.$notify({type: 'error', text: this.$t('notif-error-target-annotation')});\r\n        }\r\n      }\r\n    },\r\n\r\n    isPanelDisplayed(panel) {\r\n      return this.configUI[`project-explore-${panel}`];\r\n    },\r\n    shortkeyHandler(key) {\r\n      if(!key.startsWith('toggle-all-') && !this.isActiveImage) { // shortkey should only be applied to active map\r\n        return;\r\n      }\r\n\r\n      key = key.replace('toggle-all-', 'toggle-');\r\n      switch(key) {\r\n        case 'toggle-information':\r\n          if (this.isPanelDisplayed('info')){\r\n            this.togglePanel('info');\r\n          }\r\n          return;\r\n        case 'toggle-zoom':\r\n          if (this.isPanelDisplayed('digital-zoom')) {\r\n            this.togglePanel('digital-zoom');\r\n          }\r\n          return;\r\n        case 'toggle-link':\r\n          if (this.isPanelDisplayed('link') && this.nbImages > 1) {\r\n            this.togglePanel('link');\r\n          }\r\n          return;\r\n        case 'toggle-filters':\r\n          if (this.isPanelDisplayed('color-manipulation')) {\r\n            this.togglePanel('colors');\r\n          }\r\n          return;\r\n        case 'toggle-layers':\r\n          if (this.isPanelDisplayed('image-layers')) {\r\n            this.togglePanel('layers');\r\n          }\r\n          return;\r\n        case 'toggle-ontology':\r\n          if (this.isPanelDisplayed('ontology') && this.terms && this.terms.length > 0) {\r\n            this.togglePanel('ontology');\r\n          }\r\n          return;\r\n        case 'toggle-properties':\r\n          if (this.isPanelDisplayed('property')) {\r\n            this.togglePanel('properties');\r\n          }\r\n          return;\r\n        case 'toggle-broadcast':\r\n          if (this.isPanelDisplayed('follow')) {\r\n            this.togglePanel('follow');\r\n          }\r\n          return;\r\n        case 'toggle-review':\r\n          if (this.isPanelDisplayed('review') && this.canEdit) {\r\n            this.togglePanel('review');\r\n          }\r\n          return;\r\n        case 'toggle-overview':\r\n          if (this.isPanelDisplayed('overview')) {\r\n            this.toggleOverview();\r\n          }\r\n          return;\r\n      }\r\n    },\r\n    async takeScreenshot() {\r\n      // Use of css percent values and html2canvas results in strange behavior\r\n      // Set image container as actual height in pixel (not in percent) to avoid image distortion when retrieving canvas\r\n      let containerHeight = document.querySelector('.map-container').clientHeight;\r\n      document.querySelector('.map-container').style.height = containerHeight+'px';\r\n\r\n      let a = document.createElement('a');\r\n      a.href = await this.$html2canvas(document.querySelector('.ol-unselectable'), {type: 'dataURL'});\r\n      let imageName = 'image_' + this.image.id.toString() + '_project_' + this.image.project.toString() + '.png';\r\n      a.download = imageName;\r\n      a.click();\r\n\r\n      // Reset container css values as previous\r\n      document.querySelector('.map-container').style.height = '';\r\n    },\r\n  },\r\n  async created() {\r\n    if(!getProj(this.projectionName)) { // if image opened for the first time\r\n      let projection = createProj({code: this.projectionName, units: 'pixels', extent: this.extent});\r\n      addProj(projection);\r\n    }\r\n\r\n    if(this.routedAction === 'review') {\r\n      this.togglePanel('review');\r\n      if(!this.image.inReview) {\r\n        try {\r\n          let clone = await this.image.clone().review();\r\n          this.$store.commit(this.imageModule + 'setImageInstance', clone);\r\n        }\r\n        catch(error) {\r\n          console.log(error);\r\n          this.$notify({type: 'error', text: this.$t('notif-error-start-review')});\r\n        }\r\n      }\r\n      this.$store.commit(this.imageModule + 'setReviewMode', true);\r\n    }\r\n\r\n    // remove all selected features in order to reselect them when they will be added to the map (otherwise,\r\n    // issue with the select interaction)\r\n    this.selectedLayers.forEach(layer => {\r\n      this.$store.commit(this.imageModule + 'removeLayerFromSelectedFeatures', {layer, cache: true});\r\n    });\r\n\r\n    let annot = this.imageWrapper.routedAnnotation;\r\n    if (!annot) {\r\n      let idRoutedAnnot = this.$route.params.idAnnotation;\r\n      if (idRoutedAnnot) {\r\n        try {\r\n          annot = await Annotation.fetch(idRoutedAnnot);\r\n        }\r\n        catch (error) {\r\n          console.log(error);\r\n          this.$notify({type: 'error', text: this.$t('notif-error-target-annotation')});\r\n        }\r\n      }\r\n    }\r\n\r\n    if (annot) {\r\n      try {\r\n        if(annot.image === this.image.id) {\r\n          if(!this.sliceIds.includes(annot.slice)) {\r\n            let slice = await SliceInstance.fetch(annot.slice);\r\n            await this.$store.dispatch(this.imageModule + 'setActiveSlice', slice);\r\n          }\r\n          this.routedAnnotation = annot;\r\n          if(this.routedAction === 'comments') {\r\n            this.$store.commit(this.imageModule + 'setShowComments', annot);\r\n          }\r\n          this.$store.commit(this.imageModule + 'setAnnotToSelect', annot);\r\n        }\r\n\r\n        this.$store.commit(this.imageModule + 'clearRoutedAnnotation');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-target-annotation')});\r\n      }\r\n    }\r\n\r\n    try {\r\n      await new ImageConsultation({image: this.image.id}).save();\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.$notify({type: 'error', text: this.$t('notif-error-save-image-consultation')});\r\n    }\r\n\r\n    this.loading = false;\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('updateMapSize', this.updateMapSize);\r\n    this.$eventBus.$on('shortkeyEvent', this.shortkeyHandler);\r\n    this.$eventBus.$on('selectAnnotation', this.selectAnnotationHandler);\r\n    this.$eventBus.$on('closeMetadata', () => this.$store.commit(this.imageModule + 'togglePanel', 'info'));\r\n    this.setInitialZoom();\r\n  },\r\n  beforeDestroy() {\r\n    this.$eventBus.$off('updateMapSize', this.updateMapSize);\r\n    this.$eventBus.$off('shortkeyEvent', this.shortkeyHandler);\r\n    this.$eventBus.$off('selectAnnotation', this.selectAnnotationHandler);\r\n    this.$eventBus.$off('closeMetadata');\r\n    clearTimeout(this.timeoutSavePosition);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '~vuelayers/lib/style.css';\r\n\r\n$backgroundPanelBar: #555;\r\n$widthPanelBar: 2.8rem;\r\n$backgroundPanel: #f2f2f2;\r\n$colorPanelLink: #eee;\r\n$colorHoverPanelLink: white;\r\n$colorBorderPanelLink: #222;\r\n$colorOpenedPanelLink: #6c95c8;\r\n\r\n.map-container {\r\n  display:flex;\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.map {\r\n  flex-grow: 1;\r\n}\r\n\r\n.draw-tools {\r\n  position: absolute;\r\n  top: 0.7em;\r\n  left: 3.5rem;\r\n  right: $widthPanelBar;\r\n  z-index: 30;\r\n}\r\n\r\n.broadcast {\r\n  position: absolute;\r\n  right: 4.5rem;\r\n  top: 0.7em;\r\n  text-transform: uppercase;\r\n  font-weight: 600;\r\n  background-color: #EE4242;\r\n  color: white;\r\n  padding: 0.25em 0.75em 0.25em 0.55em;\r\n  border-radius: 5px;\r\n  border: 2px solid white;\r\n\r\n  i.fas {\r\n    margin-right: 0.3em;\r\n  }\r\n}\r\n\r\n.panels {\r\n  background: $backgroundPanelBar;\r\n  display: flex;\r\n  font-size: 0.9em;\r\n\r\n  > ul {\r\n    padding: 0;\r\n    margin: 0;\r\n\r\n    > li {\r\n      position: relative;\r\n\r\n      > a {\r\n        position: relative;\r\n        display: block;\r\n        width: $widthPanelBar;\r\n        padding: 0.35rem 0.8rem;\r\n        font-size: 1.25rem;\r\n        color: $colorPanelLink;\r\n        border-bottom: 1px solid $colorBorderPanelLink;\r\n        text-decoration: none;\r\n        text-align:center;\r\n\r\n        &:hover {\r\n          color: $colorHoverPanelLink;\r\n        }\r\n\r\n        &.active {\r\n          background: $backgroundPanel;\r\n          color: $colorOpenedPanelLink;\r\n        }\r\n\r\n        &.close {\r\n          color: #ffc4c4;\r\n          :hover {\r\n            color: #ff7070;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.panel-options {\r\n  position: absolute;\r\n  bottom: -1.75em;\r\n  right: $widthPanelBar;\r\n  width: 24em;\r\n  min-height: 10em;\r\n  background: $backgroundPanel;\r\n  padding: 0.75em;\r\n  border-radius: 5px 0 0 5px;\r\n  z-index: 100;\r\n\r\n  h1 {\r\n    font-size: 1.1rem;\r\n    padding-top: 0.3rem !important;\r\n    padding-bottom: 1rem !important;\r\n  }\r\n\r\n  table {\r\n    background: none;\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n.panels li:nth-child(-n+8) .panel-options {\r\n  bottom: -7.5em;\r\n  min-height: 13em;\r\n}\r\n\r\n.panels li:nth-child(-n+4) .panel-options {\r\n  top: -1.75em;\r\n  bottom: auto;\r\n  min-height: 7.5em;\r\n}\r\n\r\n.panels li:nth-child(5) .panel-options {\r\n  top: -5.5em;\r\n  bottom: auto;\r\n}\r\n\r\n/* ----- Metadata panel ---- */\r\n\r\n.panel-metadata {\r\n  position: absolute;\r\n  top: -1.5em;\r\n  right: $widthPanelBar;\r\n  min-width: 30em;\r\n  min-height: 30em;\r\n  background: $backgroundPanel;\r\n  padding: 0.75em;\r\n  border-radius: 5px 0 0 5px;\r\n}\r\n\r\n/* ----- CUSTOM STYLE FOR OL CONTROLS ----- */\r\n\r\n.ol-zoom, .ol-rotate {\r\n  background: none !important;\r\n  z-index: 20;\r\n}\r\n\r\n.ol-rotate:not(.custom) {\r\n  display: none;\r\n}\r\n\r\n.ol-control button {\r\n  background: white !important;\r\n  color: black !important;\r\n  border-radius: 2px !important;\r\n  box-shadow: 0 0 1px #777;\r\n\r\n  &:hover {\r\n    box-shadow: 0 0 1px black;\r\n    cursor: pointer;\r\n  }\r\n}\r\n\r\n.ol-zoom-in {\r\n  margin-bottom: 5px !important;\r\n}\r\n\r\n/* ----- Rotation selector ----- */\r\n.rotation-selector-wrapper {\r\n  position: absolute;\r\n  left: .5em;\r\n  top: 5rem;\r\n  z-index: 20;\r\n}\r\n\r\n.custom-overview {\r\n  position: absolute;\r\n  bottom: 0.5em;\r\n  left: 0.5em;\r\n  background: rgba(255, 255, 255, 0.8);\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: 4px;\r\n\r\n  .ol-overviewmap {\r\n    position: static;\r\n    background: none;\r\n  }\r\n\r\n  .ol-overviewmap:not(.ol-collapsed) button {\r\n    bottom: 2px !important;\r\n  }\r\n\r\n  .image-name {\r\n    font-size: 0.8em;\r\n    padding: 2px 5px;\r\n    width: 158px;\r\n    word-wrap: break-word;\r\n\r\n    &.hidden {\r\n      display: none;\r\n    }\r\n  }\r\n}\r\n\r\n/* ----- Image controls ----- */\r\n.image-controls-wrapper {\r\n  position: absolute;\r\n  bottom: 1.5rem;\r\n  left: 20%;\r\n  right: calc(#{$widthPanelBar} + 20%);\r\n  z-index: 5;\r\n}\r\n\r\n/* ----- Annotation list ----- */\r\n.annotations-table-wrapper {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: $widthPanelBar;\r\n  z-index: 40;\r\n  pointer-events: none;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineImage.vue?vue&type=template&id=16879e9b&\"\nimport script from \"./CytomineImage.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineImage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineImage.vue?vue&type=style&index=0&id=16879e9b&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.imageSelectorEnabled),expression:\"imageSelectorEnabled\"}],staticClass:\"image-selector-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"filters\"},[_c('b-input',{staticClass:\"search-images search\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('tags'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableTags,\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"allPlaceholder\":_vm.$t('all')},model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})],1)],1),_c('button',{staticClass:\"delete\",on:{\"click\":function($event){_vm.imageSelectorEnabled = false}}})]),(_vm.error)?_c('div',{staticClass:\"content-wrapper\"},[_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])])],1):_c('div',{staticClass:\"image-selector\"},[_vm._l((_vm.displayedImages),function(image){return _c('div',{key:image.id,staticClass:\"card\"},[_c('a',{staticClass:\"card-image\",style:('background-image: url(' + _vm.appendShortTermToken(_vm.imageThumbUrl(image), _vm.shortTermToken) + ')'),on:{\"click\":function($event){return _vm.addImage(image)}}}),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('a',{on:{\"click\":function($event){return _vm.addImage(image)}}},[_c('image-name',{attrs:{\"image\":image}})],1)])])])}),(_vm.nbImagesDisplayed < _vm.filteredImages.length)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.more()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-more'))+\" \")]):_vm._e(),_c('div',{staticClass:\"space\"},[_vm._v(\" \")])],2)]:_vm._e()],2),_c('a',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.$t('add-image'), placement: 'left'}),expression:\"{content: $t('add-image'), placement: 'left'}\"}],staticClass:\"image-selector-button\",on:{\"click\":function($event){_vm.imageSelectorEnabled = true}}},[_c('i',{staticClass:\"fas fa-plus\"})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <div class=\"image-selector-wrapper\" v-show=\"imageSelectorEnabled\">\r\n    <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n    <template v-if=\"!loading\">\r\n      <div class=\"header\">\r\n        <div class=\"filters\">\r\n          <b-input class=\"search-images search\" v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\"\r\n            type=\"search\" icon=\"search\"\r\n          />\r\n          <div class=\"filter-label\">\r\n            {{$t('tags')}}\r\n          </div>\r\n          <div class=\"filter-body\">\r\n            <cytomine-multiselect v-model=\"selectedTags\" :options=\"availableTags\"\r\n              label=\"name\" track-by=\"id\" :multiple=\"true\" :allPlaceholder=\"$t('all')\" />\r\n          </div>\r\n        </div>\r\n        <button class=\"delete\" @click=\"imageSelectorEnabled = false\"></button>\r\n      </div>\r\n      <div class=\"content-wrapper\" v-if=\"error\">\r\n        <b-message type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n          <h2> {{ $t('error') }} </h2>\r\n          <p> {{ $t('unexpected-error-info-message') }} </p>\r\n        </b-message>\r\n      </div>\r\n      <div v-else class=\"image-selector\">\r\n        <div class=\"card\" v-for=\"image in displayedImages\" :key=\"image.id\">\r\n          <a class=\"card-image\" @click=\"addImage(image)\" :style=\"'background-image: url(' + appendShortTermToken(imageThumbUrl(image), shortTermToken) + ')'\"></a>\r\n          <div class=\"card-content\">\r\n            <div class=\"content\">\r\n              <a @click=\"addImage(image)\">\r\n                <image-name :image=\"image\" />\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <button class=\"button\" v-if=\"nbImagesDisplayed < filteredImages.length\" @click=\"more()\">\r\n          {{$t('button-more')}}\r\n        </button>\r\n\r\n        <div class=\"space\">&nbsp;</div>\r\n      </div>\r\n    </template>\r\n  </div>\r\n\r\n  <a\r\n    class=\"image-selector-button\"\r\n    @click=\"imageSelectorEnabled = true\"\r\n    v-tooltip=\"{content: $t('add-image'), placement: 'left'}\"\r\n  >\r\n    <i class=\"fas fa-plus\"></i>\r\n  </a>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get,syncMultiselectFilter} from '@/utils/store-helpers';\r\nimport {IMAGE_FORMAT} from '@/utils/image-utils';\r\n\r\nimport ImageName from '@/components/image/ImageName';\r\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\r\nimport {ImageInstanceCollection, TagCollection} from 'cytomine-client';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\n\r\nconst storeOptions = {rootModuleProp: 'storeModule'};\r\nconst localSyncMultiselectFilter = (filterName, options) => syncMultiselectFilter(null, filterName, options, storeOptions);\r\n\r\nexport default {\r\n  name: 'image-selector',\r\n  components: {\r\n    ImageName,\r\n    CytomineMultiselect\r\n  },\r\n  data() {\r\n    return {\r\n      images: [],\r\n      availableTags:[],\r\n      searchString: '',\r\n      nbImagesDisplayed: 20,\r\n      loading: true,\r\n      error: false\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    selectedTags: localSyncMultiselectFilter('selectedTags', 'availableTags'),\r\n    storeModule() {\r\n      return this.$store.getters['currentProject/currentProjectModule'] + 'listImages';\r\n    },\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    imageSelectorEnabled: {\r\n      get() {\r\n        return this.$store.getters['currentProject/currentViewer'].imageSelector;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(this.viewerModule + 'setImageSelector', value);\r\n      }\r\n    },\r\n    filteredImages() { // TODO: in backend\r\n      let filtered = this.images;\r\n\r\n      if(this.searchString) {\r\n        let regexp = getWildcardRegexp(this.searchString);\r\n        filtered =  filtered.filter(image => regexp.test(image.instanceFilename));\r\n      }\r\n\r\n      return filtered;\r\n    },\r\n    displayedImages() {\r\n      return this.filteredImages.slice(0, this.nbImagesDisplayed);\r\n    }\r\n  },\r\n  watch:{\r\n    async selectedTags(){\r\n      if(!this.selectedTags.length){\r\n        this.images = [];\r\n      }\r\n      else{\r\n        await this.fetchImages();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    async addImage(image) {\r\n      try {\r\n        await image.fetch(); // refetch image to ensure we have latest version\r\n        let slice = await image.fetchReferenceSlice();\r\n        await this.$store.dispatch(this.viewerModule + 'addImage', {image, slices: [slice]});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-add-viewer-image')});\r\n      }\r\n    },\r\n    async fetchImages() {\r\n      let collection = new ImageInstanceCollection({\r\n        filterKey: 'project',\r\n        filterValue: this.project.id,\r\n      });\r\n      if(this.selectedTags.length > 0) {\r\n        collection['tag'] = {\r\n          in: this.selectedTags.map(option => option.id).join()\r\n        };\r\n      }\r\n      this.images = (await collection.fetchAll()).array; // TODO: should not load full array, should be done with backend\r\n    },\r\n    async fetchTags() {\r\n      this.availableTags = [{id: 'null', name: this.$t('no-tag')}, ...(await TagCollection.fetchAll()).array];\r\n    },\r\n\r\n    more() {\r\n      this.nbImagesDisplayed += 20;\r\n    },\r\n\r\n    toggle() {\r\n      this.imageSelectorEnabled = !this.imageSelectorEnabled;\r\n    },\r\n\r\n    shortkeyHandler(key) {\r\n      if (key === 'toggle-add-image') {\r\n        this.toggle();\r\n      }\r\n    },\r\n    imageThumbUrl(image) {\r\n      return image.thumbURL(256, IMAGE_FORMAT);\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      await this.fetchImages();\r\n      await this.fetchTags();\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n    this.loading = false;\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('shortkeyEvent', this.shortkeyHandler);\r\n  },\r\n  beforeDestroy() {\r\n    this.$eventBus.$off('shortkeyEvent', this.shortkeyHandler);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.image-selector-wrapper {\r\n  position: absolute;\r\n  left: 0;\r\n  bottom: 0;\r\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: #f5f5f5;\r\n  width: 100%;\r\n  height: 20em;\r\n  z-index: 150;\r\n}\r\n\r\n.header {\r\n  padding: 0.75em;\r\n  padding-bottom: 0;\r\n  padding-top: 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.search {\r\n  margin-top: 0.25em;\r\n}\r\n\r\n.filters {\r\n  display: flex;\r\n  padding: 0;\r\n  background: None;\r\n}\r\n\r\n.filter-label {\r\n  font-size: 0.9em;\r\n  margin-top: 0.7rem;\r\n  margin-left: 1em;\r\n  margin-right: 0.5em;\r\n}\r\n\r\n.delete {\r\n  margin-top: 1.2rem;\r\n}\r\n\r\n.image-selector {\r\n  width: 100%;\r\n  overflow: auto;\r\n  display: flex;\r\n  align-items: center;\r\n  flex: 1;\r\n}\r\n\r\n.card {\r\n  display: inline-block;\r\n  min-width: 12em;\r\n  flex: 0;\r\n  box-sizing: border-box;\r\n  margin: 0.75em;\r\n}\r\n\r\n.card-image {\r\n  display: inline-block;\r\n  width: 100%;\r\n  height: 9.5em;\r\n  background-position: center center;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-color: white;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.card-content {\r\n  padding: 0.75em;\r\n  font-size: 0.8rem;\r\n  overflow-wrap: break-word;\r\n  overflow: hidden;\r\n  height: 5em;\r\n}\r\n\r\n.space {\r\n  margin-left: 0.5em;\r\n}\r\n\r\n.image-selector-button {\r\n  background: #95b5db;\r\n  border: 0.35rem solid white;\r\n  position: absolute;\r\n  bottom: 1rem;\r\n  right: 1rem;\r\n  width: 3.5rem;\r\n  height: 3.5rem;\r\n  border-radius: 50%;\r\n  text-align: center;\r\n  line-height: 2.8rem;\r\n  color: white;\r\n  font-size: 1.8rem;\r\n  box-sizing: border-box;\r\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n  z-index: 100;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageSelector.vue?vue&type=template&id=64d47f27&scoped=true&\"\nimport script from \"./ImageSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageSelector.vue?vue&type=style&index=0&id=64d47f27&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64d47f27\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {Cytomine, User} from 'cytomine-client';\r\n\r\nfunction getDefaultState() {\r\n  return {\r\n    user: null,\r\n    expandedSidebar: true,\r\n    increment: 0,\r\n    shortTermToken: null\r\n  };\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state: getDefaultState(),\r\n\r\n  mutations: {\r\n    setUser(state, user) {\r\n      state.user = user ? user.clone() : null;\r\n    },\r\n    setShortTermToken(state, value) {\r\n      state.shortTermToken = value;\r\n    },\r\n    setAdminByNow(state, value) {\r\n      state.user.adminByNow = value;\r\n    },\r\n    setExpandedSidebar(state, val) {\r\n      state.expandedSidebar = val;\r\n    },\r\n    resetState(state) {\r\n      Object.assign(state, getDefaultState());\r\n    },\r\n  },\r\n\r\n  actions: {\r\n    async fetchUser({commit}) {\r\n      let user = await User.fetchCurrent();\r\n      if(user.id) { // fetchCurrent() redirects to home page if user not authenticated => check that id is set\r\n        commit('setUser', user);\r\n      }\r\n      else {\r\n        commit('setUser', null);\r\n      }\r\n    },\r\n\r\n    async updateUser({commit}, user) {\r\n      await user.update();\r\n      commit('setUser', user);\r\n    },\r\n\r\n    async regenerateKeys({state, commit}) {\r\n      let user = state.user.clone();\r\n      await user.regenerateKeys();\r\n      commit('setUser', user);\r\n    },\r\n\r\n    async openAdminSession({commit}) {\r\n      await Cytomine.instance.openAdminSession();\r\n      commit('setAdminByNow', true);\r\n    },\r\n    async closeAdminSession({dispatch}) {\r\n      await Cytomine.instance.closeAdminSession();\r\n      await dispatch('fetchUser');\r\n    },\r\n\r\n    async login({dispatch, commit}, payload) {\r\n      let {shortTermToken} = await Cytomine.instance.login(payload.username, payload.password, payload.rememberMe);\r\n      commit('setShortTermToken', shortTermToken);\r\n      await dispatch('fetchUser');\r\n    }\r\n  },\r\n\r\n  getters: {\r\n      currentShortTermToken: (state, _, rootState) => {\r\n        let currentUser = rootState.currentUser || {};\r\n        return currentUser.shortTermToken;\r\n      },\r\n\r\n  }\r\n\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport Vue from 'vue';\r\n\r\nimport {Cytomine, Project, ProjectConnection, Ontology, AnnotationType, UserCollection, ProjectMemberRole} from 'cytomine-client';\r\n\r\nimport {fullName} from '@/utils/user-utils.js';\r\nimport {getAllTerms} from '@/utils/ontology-utils';\r\n\r\nfunction getDefaultState() {\r\n  return {\r\n    project: null,\r\n    configUI: {},\r\n    ontology: null,\r\n    managers: [],\r\n    members: [],\r\n    currentViewer: null,\r\n    currentMetadataSearch: {},\r\n  };\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state: getDefaultState(),\r\n\r\n  mutations: {\r\n    resetState(state) {\r\n      Object.assign(state, getDefaultState());\r\n    },\r\n\r\n    setProject(state, project) {\r\n      state.project = project;\r\n    },\r\n\r\n    setOntology(state, ontology) {\r\n      state.ontology = ontology;\r\n    },\r\n\r\n    setConfigUI(state, config) {\r\n      state.configUI = config;\r\n    },\r\n\r\n    setManagers(state, managers) {\r\n      state.managers = managers;\r\n    },\r\n\r\n    setMembers(state, members) {\r\n      state.members = members;\r\n    },\r\n\r\n    setCurrentViewer(state, id) {\r\n      state.currentViewer = id;\r\n    },\r\n\r\n    setImageFormat(state, format) {\r\n      state.currentMetadataSearch[format] = {};\r\n    },\r\n\r\n    setCurrentMetadataSearch(state, {format, key, searchValue}) {\r\n      state.currentMetadataSearch[format][key] = searchValue;\r\n    },\r\n\r\n    removeMetadataFilter(state, {format, key}) {\r\n      Vue.delete(state.currentMetadataSearch[format], key);\r\n    },\r\n\r\n    resetMetadataFilters(state) {\r\n      state.currentMetadataSearch = {};\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    async loadProject({state, dispatch, commit}, idProject) {\r\n      let projectChange = !state.project || state.project.id !== idProject;\r\n      let project = await Project.fetch(idProject);\r\n      commit('setProject', project);\r\n      commit(`projects/${project.id}/setProject`, project, {root: true});\r\n\r\n      let promises = [\r\n        dispatch('fetchUIConfig'),\r\n        dispatch('fetchOntology'),\r\n        dispatch('fetchProjectMembers')\r\n      ];\r\n\r\n      if(projectChange) {\r\n        promises.push(new ProjectConnection({project: idProject}).save());\r\n      }\r\n      await Promise.all(promises);\r\n    },\r\n    async reloadProject({state, commit}) {\r\n      let project = await Project.fetch(state.project.id);\r\n      commit('setProject', project);\r\n    },\r\n\r\n    async updateProject({state, dispatch, commit}, updatedProject) {\r\n      let reloadOntology = state.project.ontology !== updatedProject.ontology;\r\n      commit('setProject', updatedProject);\r\n      commit(`projects/${updatedProject.id}/setProject`, updatedProject, {root: true});\r\n      if(reloadOntology) {\r\n        await dispatch('fetchOntology');\r\n      }\r\n    },\r\n\r\n    async fetchUIConfig({state, commit}) {\r\n      let config = await Cytomine.instance.fetchUIConfigCurrentUser(state.project.id);\r\n      commit('setConfigUI', config);\r\n    },\r\n\r\n    async fetchProjectMembers({state, commit}) {\r\n      let collection = new UserCollection({\r\n        filterKey: 'project',\r\n        filterValue: state.project.id,\r\n      });\r\n\r\n      let members =  (await collection.fetchAll()).array;\r\n      let managers = members.filter(u => u.role == ProjectMemberRole.MANAGER || u.role == ProjectMemberRole.REPRESENTATIVE );\r\n\r\n      members.forEach(member => member.fullName = fullName(member));\r\n\r\n      commit('setManagers', managers);\r\n      commit('setMembers', members);\r\n    },\r\n\r\n    async fetchFollowers(_, {userId, imageId}) {\r\n      let followers = await UserCollection.fetchFollowers(userId, imageId);\r\n      //followers.forEach(follower => follower.fullName = fullName(follower));\r\n      return followers;\r\n    },\r\n\r\n    async fetchOntology({state, commit}) {\r\n      let ontology = state.project.ontology ? await Ontology.fetch(state.project.ontology) : null;\r\n      commit('setOntology', ontology);\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    canEditLayer: (state, getters, rootState) => idLayer => {\r\n      let currentUser = rootState.currentUser.user;\r\n      let project = state.project;\r\n      return getters.canManageProject ||\r\n        (!project.isReadOnly && (idLayer === currentUser.id || !project.isRestricted));\r\n    },\r\n\r\n    canEditAnnot: (_, getters, rootState) => annot => {\r\n      if (annot.type === AnnotationType.ALGO) {\r\n        return false;\r\n      }\r\n      let currentUser = rootState.currentUser.user;\r\n      let idLayer = annot.user;\r\n      if(annot.type === AnnotationType.REVIEWED) {\r\n        return currentUser.adminByNow || (!currentUser.guestByNow && annot.reviewUser === currentUser.id);\r\n      }\r\n      return getters.canEditLayer(idLayer);\r\n    },\r\n\r\n    canEditImage: (state, getters, rootState) => image => {\r\n      let currentUser = rootState.currentUser.user;\r\n      let project = state.project;\r\n      return getters.canManageProject ||\r\n        (!currentUser.guestByNow && !project.isReadOnly && (image.user === currentUser.id || !project.isRestricted));\r\n    },\r\n\r\n    canManageJob: (state, getters, rootState) => job => {\r\n      let currentUser = rootState.currentUser.user;\r\n      let project = state.project;\r\n      return getters.canManageProject ||\r\n        (!currentUser.guestByNow && !project.isReadOnly && (job.username === currentUser.username || !project.isRestricted));\r\n    },\r\n\r\n    canManageProject: (state, _, rootState) => { // true iff current user is admin or project manager\r\n      let currentUser = rootState.currentUser.user || {};\r\n      return currentUser.adminByNow || (!currentUser.guestByNow && state.managers.some(user => user.id === currentUser.id));\r\n    },\r\n\r\n    contributors: (state) => {\r\n      let idsManagers = state.managers.map(user => user.id);\r\n      return state.members.filter(user => !idsManagers.includes(user.id));\r\n    },\r\n\r\n    terms: (state) => {\r\n      return state.ontology ? getAllTerms(state.ontology) : null;\r\n    },\r\n\r\n    currentMetadataSearch: (state) => {\r\n      return state.currentMetadataSearch;\r\n    },\r\n\r\n    currentProjectModule: (state) => {\r\n      if(!state.project) {\r\n        return null;\r\n      }\r\n      return `projects/${state.project.id}/`;\r\n    },\r\n\r\n    currentViewer: (state, _, rootState) => {\r\n      if(!state.project) {\r\n        return null;\r\n      }\r\n      return rootState.projects[state.project.id].viewers[state.currentViewer];\r\n    },\r\n\r\n    currentViewerModule: (state, getters) => {\r\n      return `${getters.currentProjectModule}viewers/${state.currentViewer}/`;\r\n    },\r\n\r\n    imageModule: (_, getters) => index => {\r\n      return `${getters.currentViewerModule}images/${index}/`;\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nfunction getDefaultState() {\r\n  return {\r\n    searchString: '',\r\n    selectedOntology: null\r\n  };\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state: getDefaultState(),\r\n\r\n  mutations: {\r\n    setSelectedOntology(state, idOntology) {\r\n      state.selectedOntology = idOntology;\r\n    },\r\n\r\n    setSearchString(state, searchString) {\r\n      state.searchString = searchString;\r\n    },\r\n\r\n    resetState(state) {\r\n      Object.assign(state, getDefaultState());\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nfunction getDefaultState() {\r\n  return {\r\n    searchString: '',\r\n\r\n    filtersOpened: false,\r\n    filters: {\r\n      selectedOntologies: null,\r\n      selectedRoles: null,\r\n      selectedTags: null,\r\n      boundsMembers: null,\r\n      boundsImages: null,\r\n      boundsUserAnnotations: null,\r\n      boundsJobAnnotations: null,\r\n      boundsReviewedAnnotations: null\r\n    },\r\n\r\n    currentPage: 1,\r\n    perPage: 10,\r\n    sortField: 'lastActivity',\r\n    sortOrder: 'desc',\r\n    openedDetails: []\r\n  };\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state: getDefaultState(),\r\n\r\n  mutations: {\r\n    resetState(state) {\r\n      Object.assign(state, getDefaultState());\r\n    },\r\n\r\n    setSearchString(state, searchString) {\r\n      state.searchString = searchString;\r\n    },\r\n\r\n    setFiltersOpened(state, value) {\r\n      state.filtersOpened = value;\r\n    },\r\n\r\n    setFilter(state, {filterName, propValue}) {\r\n      state.filters[filterName] = propValue;\r\n    },\r\n\r\n    setCurrentPage(state, page) {\r\n      state.currentPage = page;\r\n    },\r\n\r\n    setPerPage(state, perPage) {\r\n      state.perPage = perPage;\r\n    },\r\n\r\n    setSortField(state, field) {\r\n      state.sortField = field;\r\n    },\r\n\r\n    setSortOrder(state, order) {\r\n      state.sortOrder = order;\r\n    },\r\n\r\n    setOpenedDetails(state, value) {\r\n      state.openedDetails = value;\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    nbActiveFilters: state => {\r\n      return Object.values(state.filters).filter(val => val).length; // count the number of not null values\r\n    },\r\n\r\n    nbEmptyFilters: state => {\r\n      return Object.values(state.filters).filter(val => val && val.length === 0).length;\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nfunction getDefaultState() {\r\n  return {\r\n    searchString: '',\r\n\r\n    filtersOpened: false,\r\n    filters: {\r\n      boundsJobs: null,\r\n      boundsSuccessJobs: null,\r\n      onlyLastReleases: true,\r\n      onlyExecutables: true,\r\n    },\r\n\r\n    currentPage: 1,\r\n    perPage: 10,\r\n    sort: {\r\n      field: 'name',\r\n      order: 'asc'\r\n    },\r\n    openedDetails: []\r\n  };\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state: getDefaultState(),\r\n\r\n  mutations: {\r\n    resetState(state) {\r\n      Object.assign(state, getDefaultState());\r\n    },\r\n\r\n    setSearchString(state, searchString) {\r\n      state.searchString = searchString;\r\n    },\r\n\r\n    setFiltersOpened(state, value) {\r\n      state.filtersOpened = value;\r\n    },\r\n\r\n    setFilter(state, {filterName, propValue}) {\r\n      state.filters[filterName] = propValue;\r\n    },\r\n\r\n    setCurrentPage(state, page) {\r\n      state.currentPage = page;\r\n    },\r\n\r\n    setPerPage(state, perPage) {\r\n      state.perPage = perPage;\r\n    },\r\n\r\n    setSort(state, sort) {\r\n      state.sort = sort;\r\n    },\r\n\r\n    setOpenedDetails(state, value) {\r\n      state.openedDetails = value;\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    nbActiveFilters: state => {\r\n      return Object.values(state.filters).filter(val => val).length; // count the number of not null values\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport Vue from 'vue';\r\nimport Vuex from 'vuex';\r\n\r\nimport currentUser from './modules/current-user.js';\r\nimport currentProject from './modules/current-project.js';\r\nimport ontologies from './modules/ontologies.js';\r\nimport listProjects from './modules/list-projects.js';\r\nimport listSoftware from './modules/list-software.js';\r\n\r\nVue.use(Vuex);\r\nlet store = new Vuex.Store({\r\n  actions: {\r\n    logout({state, commit}) {\r\n      commit('currentUser/resetState');\r\n      commit('currentProject/resetState');\r\n      commit('ontologies/resetState');\r\n      commit('listProjects/resetState');\r\n      commit('listSoftware/resetState');\r\n      for(let key in state.projects) {\r\n        this.unregisterModule(['projects', key]);\r\n      }\r\n    }\r\n  },\r\n  modules: {\r\n    currentUser,\r\n    currentProject,\r\n    ontologies,\r\n    listProjects,\r\n    listSoftware,\r\n    projects: {\r\n      namespaced: true\r\n    }\r\n  },\r\n  strict: process.env.NODE_ENV !== 'production'\r\n});\r\n\r\nexport default store;\r\n\r\nexport function getModuleNamespace(state) { // to update if https://github.com/vuejs/vuex/issues/1244 is implemented\r\n  let pathes = Object.keys(store._modulesNamespaceMap);\r\n  let moduleNamespace = pathes.find(path => store._modulesNamespaceMap[path].context.state === state);\r\n  if(typeof moduleNamespace === 'string') {\r\n    return moduleNamespace.slice(0, -1).split('/');\r\n  }\r\n}\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      idImage: 0,\r\n      nbBitsPerSample: 8,\r\n      nbSamplesPerChannel: 1,\r\n\r\n      apparentChannels: null,\r\n\r\n      gammaPerApparentChannel: true,\r\n      invertedPerApparentChannel: true,\r\n      histogramLogScale: true,\r\n      intensitiesByMinMax: true,\r\n\r\n      filter: null\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setIdImage(state, id) {\r\n      state.idImage = id;\r\n    },\r\n\r\n    setNbBitsPerSample(state, value) {\r\n      state.nbBitsPerSample = value;\r\n    },\r\n\r\n    setNbSamplesPerChannel(state, value) {\r\n      state.nbSamplesPerChannel = value;\r\n    },\r\n\r\n    setGammaPerApparentChannel(state, value) {\r\n      state.gammaPerApparentChannel = value;\r\n    },\r\n\r\n    setInvertedPerApparentChannel(state, value) {\r\n      state.invertedPerApparentChannel = value;\r\n    },\r\n\r\n    setHistogramLogScale(state, value) {\r\n      state.histogramLogScale = value;\r\n    },\r\n\r\n    setIntensitiesByMinMax(state, value) {\r\n      state.intensitiesByMinMax = value;\r\n    },\r\n\r\n    setFilter(state, filter) {\r\n      state.filter = filter;\r\n    },\r\n\r\n    setApparentChannels(state, apparentChannels) {\r\n            state.apparentChannels = apparentChannels;\r\n    },\r\n\r\n    setApparentChannelVisibility(state, {indexApparentChannel, visible}) {\r\n      let channel = state.apparentChannels[indexApparentChannel];\r\n      channel.visible = visible;\r\n    },\r\n    setApparentChannelColor(state, {indexApparentChannel, color, isColormap}) {\r\n      let channel = state.apparentChannels[indexApparentChannel];\r\n      channel.color = color;\r\n      channel.isColormap = isColormap;\r\n    },\r\n    setApparentChannelBounds(state, {indexApparentChannel, bounds}) {\r\n      let channel = state.apparentChannels[indexApparentChannel];\r\n      channel.bounds = bounds;\r\n    },\r\n    setApparentChannelGamma(state, {indexApparentChannel, gamma}) {\r\n      let channel = state.apparentChannels[indexApparentChannel];\r\n      channel.gamma = gamma;\r\n    },\r\n    setApparentChannelInverted(state, {indexApparentChannel, inverted}) {\r\n      let channel = state.apparentChannels[indexApparentChannel];\r\n      channel.inverted = inverted;\r\n    },\r\n\r\n    resetApparentChannel(state, indexApparentChannel) {\r\n      let channel = state.apparentChannels[indexApparentChannel];\r\n      resetApparentChannel(channel, state.nbBitsPerSample);\r\n    },\r\n    resetApparentChannels(state) {\r\n      state.apparentChannels.forEach(apparentChannel => {\r\n        resetApparentChannel(apparentChannel, state.nbBitsPerSample);\r\n      });\r\n    },\r\n\r\n    resetApparentChannelIntensities(state, indexApparentChannel) {\r\n      let channel = state.apparentChannels[indexApparentChannel];\r\n      resetApparentChannel(channel, state.nbBitsPerSample, true);\r\n    },\r\n    resetApparentChannelsIntensities(state) {\r\n      state.apparentChannels.forEach(apparentChannel => {\r\n        resetApparentChannel(apparentChannel, state.nbBitsPerSample, true);\r\n      });\r\n    },\r\n\r\n    adjustToImage(state, indexApparentChannel) {\r\n      let channel = state.apparentChannels[indexApparentChannel];\r\n      channel.bounds = channel.imageBounds;\r\n    },\r\n    adjustAllToImage(state) {\r\n      state.apparentChannels.forEach(apparentChannel => {\r\n        if (apparentChannel.visible) {\r\n          apparentChannel.bounds = apparentChannel.imageBounds;\r\n        }\r\n      });\r\n    },\r\n    adjustToSlice(state, {indexApparentChannel, bounds}) {\r\n      let channel = state.apparentChannels[indexApparentChannel];\r\n      channel.bounds = bounds;\r\n    },\r\n    adjustAllToSlice(state, allBounds) {\r\n      state.apparentChannels.forEach((apparentChannel, i) => {\r\n        if (apparentChannel.visible) {\r\n          apparentChannel.bounds = allBounds[i];\r\n        }\r\n      });\r\n    },\r\n\r\n    setChannelsVisibility(state, channels) {\r\n      state.apparentChannels.forEach(ac => {\r\n        ac.visible = (channels.includes(ac.channel));\r\n      });\r\n    },\r\n\r\n    resetImageColorManipulationSettings(state) {\r\n      state.gammaPerApparentChannel = true;\r\n      state.invertedPerApparentChannel = true;\r\n      state.histogramLogScale = true;\r\n      state.intensitiesByMinMax = true;\r\n    },\r\n  },\r\n\r\n  actions: {\r\n    async initialize({commit, dispatch}, {image, slices}) {\r\n      commit('setIdImage', image.id);\r\n      commit('setNbBitsPerSample', image.bitPerSample);\r\n      commit('setNbSamplesPerChannel', image.samplePerPixel);\r\n      await dispatch('refreshApparentChannels', {image});\r\n      let channels = slices.map(slice => slice.channel);\r\n      commit('setChannelsVisibility', channels);\r\n    },\r\n    async setImageInstance({commit, dispatch}, {image}) {\r\n      commit('setIdImage', image.id);\r\n      commit('setNbBitsPerSample', image.bitPerSample);\r\n      commit('setNbSamplesPerChannel', image.samplePerPixel);\r\n      await dispatch('refreshApparentChannels', {image});\r\n    },\r\n    async refreshApparentChannels({commit}, {image}) {\r\n      let apparentChannels = formatApparentChannels(\r\n        await fetchApparentChannels(image),\r\n        image.bitPerSample\r\n      );\r\n      commit('setApparentChannels', apparentChannels);\r\n    },\r\n\r\n    resetColorManipulation({commit}) {\r\n      commit('resetApparentChannels');\r\n      commit('resetImageColorManipulationSettings');\r\n      commit('setFilter', null);\r\n    },\r\n\r\n    setApparentChannelVisibility({commit, state, dispatch}, {indexApparentChannel, visible}) {\r\n      let apparentChannel = state.apparentChannels[indexApparentChannel];\r\n      let count = state.apparentChannels.filter(ac =>\r\n        ac.visible && ac.channel === apparentChannel.channel\r\n      ).length;\r\n      if (visible && count === 0) {\r\n        dispatch('addActiveSliceChannel', {channel: apparentChannel.channel});\r\n      }\r\n      else if (!visible && count === 1) {\r\n        dispatch('removeActiveSliceChannel', {channel: apparentChannel.channel});\r\n      }\r\n      commit('setApparentChannelVisibility', {indexApparentChannel, visible});\r\n    },\r\n    async setActiveSlice({commit}, slice) {\r\n      commit('setChannelsVisibility', [slice.channel]);\r\n    },\r\n    async setActiveSliceByPosition({commit}, {channel}) {\r\n      commit('setChannelsVisibility', [channel]);\r\n    },\r\n    async setActiveSlicesByPosition({commit}, {channels}) {\r\n      commit('setChannelsVisibility', channels);\r\n    },\r\n    // async setActiveSliceByRank({dispatch}, rank) {\r\n    //   //TODO\r\n    // },\r\n    // async setActiveSlicesByRank({dispatch}, ranks) {\r\n    //   //TODO\r\n    // },\r\n  },\r\n\r\n  getters: {\r\n    tileRequestParams: (state) => {\r\n      let params = {};\r\n      if (state.filter !== null) {\r\n        params.filters = state.filter;\r\n      }\r\n      let visibleApparentChannels = [];\r\n      if (state.apparentChannels) {\r\n        visibleApparentChannels = state.apparentChannels.filter(\r\n          (apparentChannel) => apparentChannel.visible\r\n        );\r\n      }\r\n      if (visibleApparentChannels.length > 0) {\r\n        params.channels = [];\r\n        // eslint-disable-next-line camelcase\r\n        params.min_intensities = [];\r\n        // eslint-disable-next-line camelcase\r\n        params.max_intensities = [];\r\n        params.gammas = [];\r\n        params.colormaps = [];\r\n\r\n        visibleApparentChannels.forEach(ac => {\r\n          params.channels.push(ac.index);\r\n          params.min_intensities.push(ac.bounds.min);\r\n          params.max_intensities.push(ac.bounds.max);\r\n          params.gammas.push(ac.gamma);\r\n          params.colormaps.push(formatColormapRequestParam(ac.color, ac.inverted));\r\n        });\r\n      }\r\n      return params;\r\n    },\r\n  }\r\n};\r\n\r\nfunction formatColormapRequestParam(color, inverted) {\r\n  if (color === null) {\r\n    color = 'DEFAULT';\r\n  }\r\n  if (inverted) {\r\n    return `!${color}`;\r\n  }\r\n  return color;\r\n}\r\n\r\nfunction defaultBounds(nBits) {\r\n  return {min: 0, max: 2**nBits - 1};\r\n}\r\n\r\nfunction autoAdjustBounds(nBits, {min, max}) {\r\n  if (nBits > 8) {\r\n    return {min, max};\r\n  }\r\n  return {min: 0, max:255};\r\n}\r\n\r\nasync function fetchApparentChannels(image) {\r\n  return await image.fetchChannelHistogramBounds();\r\n}\r\n\r\nfunction formatApparentChannels(apparentChannels, nBits) {\r\n  if (!apparentChannels) {\r\n    return;\r\n  }\r\n\r\n  return apparentChannels.map(apparentChannel =>\r\n    formatApparentChannel(apparentChannel, nBits)\r\n  );\r\n}\r\n\r\nfunction formatApparentChannel(apparentChannel, nBits) {\r\n  let result = {index: apparentChannel.apparentChannel};\r\n  result.channel = apparentChannel.channel;\r\n  result.sample = apparentChannel.sample;\r\n\r\n  result.defaultColor = apparentChannel.color;\r\n  result.color = apparentChannel.color;\r\n  result.isColormap = false;\r\n  result.visible = true;\r\n  result.gamma = 1.0;\r\n  result.inverted = false;\r\n  result.imageBounds = {\r\n    min: apparentChannel.minimum,\r\n    max: apparentChannel.maximum\r\n  };\r\n  result.bounds = autoAdjustBounds(nBits, result.imageBounds);\r\n\r\n  return result;\r\n}\r\n\r\nfunction resetApparentChannel(apparentChannel, nBits, onlyIntensities=false) {\r\n  if (!onlyIntensities) {\r\n    apparentChannel.color = apparentChannel.defaultColor;\r\n    apparentChannel.isColormap = false;\r\n    apparentChannel.visible = true;\r\n  }\r\n\r\n  apparentChannel.gamma = 1.0;\r\n  apparentChannel.inverted = false;\r\n  apparentChannel.bounds = defaultBounds(nBits);\r\n}\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      activeTool: 'select',\r\n\r\n      termsNewAnnots: [],\r\n      tracksNewAnnots: [],\r\n\r\n      activeEditTool: null,\r\n      ongoingEdit: false\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    activateTool(state, tool) {\r\n      state.activeTool = tool;\r\n    },\r\n\r\n    activateEditTool(state, tool) {\r\n      state.activeEditTool = tool;\r\n    },\r\n\r\n    setOngoingEdit(state, value) {\r\n      state.ongoingEdit = value;\r\n    },\r\n\r\n    setTermsNewAnnots(state, terms) {\r\n      state.termsNewAnnots = terms;\r\n    },\r\n\r\n    filterTermsNewAnnots(state, terms) { // keep only the terms that still exist\r\n      let idTerms = terms.map(term => term.id);\r\n      state.termsNewAnnots = state.termsNewAnnots.filter(id => idTerms.includes(id));\r\n    },\r\n\r\n    setTracksNewAnnots(state, tracks) {\r\n      state.tracksNewAnnots = tracks;\r\n    },\r\n\r\n    filterTracksNewAnnots(state, tracks) {\r\n      let idTracks = tracks.map(track => track.id);\r\n      state.tracksNewAnnots = state.tracksNewAnnots.filter(id => idTracks.includes(id));\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    activateTool({state, commit}, tool) {\r\n      let previousTool = state.activeTool;\r\n      if(previousTool === 'select' && tool !== 'select') {\r\n        commit('clearSelectedFeatures');\r\n        commit('activateEditTool', {tool: null});\r\n      }\r\n      commit('activateTool', tool);\r\n    },\r\n\r\n    refreshData({commit, getters, rootGetters}) {\r\n      commit('filterTermsNewAnnots', rootGetters['currentProject/terms'] || []);\r\n      commit('filterTracksNewAnnots', getters.tracks || []);\r\n    },\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      selectedLayers: null\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    addLayer(state, layer) {\r\n      if(!state.selectedLayers) {\r\n        state.selectedLayers = [];\r\n      }\r\n      state.selectedLayers.push({...layer});\r\n    },\r\n\r\n    removeLayer(state, indexLayer) {\r\n      state.selectedLayers.splice(indexLayer, 1);\r\n    },\r\n\r\n    toggleLayerVisibility(state, indexLayer) {\r\n      let layer = state.selectedLayers[indexLayer];\r\n      layer.visible = !layer.visible;\r\n    },\r\n\r\n    toggleLayerDrawOn(state, indexLayer) {\r\n      let layer = state.selectedLayers[indexLayer];\r\n      layer.drawOn = !layer.drawOn;\r\n    },\r\n\r\n    filterSelectedLayers(state, idLayers) {\r\n      if(!state.selectedLayers) {\r\n        return;\r\n      }\r\n      state.selectedLayers = state.selectedLayers.filter(layer => idLayers.includes(layer.id));\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    async addLayer({commit}, layer) {\r\n      commit('addLayer', layer);\r\n    },\r\n\r\n    toggleLayerVisibility({state, commit}, indexLayer) {\r\n      commit('toggleLayerVisibility', indexLayer);\r\n      let layer = state.selectedLayers[indexLayer];\r\n      if(!layer.visible) {\r\n        commit('removeLayerFromSelectedFeatures', {layer});\r\n      }\r\n    },\r\n\r\n    removeLayer({state, commit}, indexLayer) {\r\n      let layer = state.selectedLayers[indexLayer];\r\n      commit('removeLayer', indexLayer);\r\n      commit('removeLayerFromSelectedFeatures', {layer});\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    selectedLayers: state => state.selectedLayers // expose in getter function because properties module need access to this value\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {defaultColors} from '@/utils/style-utils.js';\r\nimport {PropertyCollection} from 'cytomine-client';\r\nimport constants from '@/utils/constants';\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      idImage: 0,\r\n      propertiesKeys: null,\r\n      selectedPropertyKey: null,\r\n      selectedPropertyColor: defaultColors[0],\r\n      selectedPropertyValues: {},\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setIdImage(state, id) {\r\n      state.idImage = id;\r\n    },\r\n\r\n    setPropertiesKeys(state, keys) {\r\n      state.propertiesKeys = keys;\r\n    },\r\n\r\n    setSelectedPropertyKey(state, value) {\r\n      state.selectedPropertyKey = value;\r\n    },\r\n\r\n    setSelectedPropertyColor(state, value) {\r\n      state.selectedPropertyColor = value;\r\n    },\r\n\r\n    setSelectedPropertyValues(state, properties) {\r\n      state.selectedPropertyValues = properties;\r\n    },\r\n\r\n    addSelectedPropertyValues(state, newValues) {\r\n      state.selectedPropertyValues = {...state.selectedPropertyValues, ...newValues};\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    async initialize({commit, rootState}, {image}) {\r\n      commit('setIdImage', image.id);\r\n\r\n      let [propertiesKeys, projectProperties] = await Promise.all([\r\n        fetchPropertiesKeys(image.id),\r\n        PropertyCollection.fetchAll({object: rootState.currentProject.project})\r\n      ]);\r\n\r\n      let selectedPropertyKey = null;\r\n      let defaultPropertyProp = projectProperties.array.find(prop => prop.key === constants.DEFAULT_PROPERTY_KEY);\r\n      if(defaultPropertyProp && propertiesKeys.includes(defaultPropertyProp.value)) {\r\n        selectedPropertyKey = defaultPropertyProp.value;\r\n      }\r\n\r\n      commit('setPropertiesKeys', propertiesKeys);\r\n      commit('setSelectedPropertyKey', selectedPropertyKey);\r\n    },\r\n\r\n    async setSelectedPropertyKey({state, commit, getters}, value) {\r\n      let selectedLayers = getters.selectedLayers;\r\n\r\n      let properties = {};\r\n      if(value && selectedLayers) {\r\n        for(let layer of selectedLayers) {\r\n          let layerValues = await fetchLayerPropertiesValues(layer.id, state.idImage, value);\r\n          properties = {...properties, ...layerValues};\r\n        }\r\n      }\r\n\r\n      commit('setSelectedPropertyValues', properties);\r\n      commit('setSelectedPropertyKey', value);\r\n    },\r\n\r\n    async addLayer({state, commit}, layer) {\r\n      let key = state.selectedPropertyKey;\r\n      let propValues = {};\r\n      if(key) {\r\n        propValues = await fetchLayerPropertiesValues(layer.id, state.idImage, key);\r\n      }\r\n      commit('addSelectedPropertyValues', propValues);\r\n    },\r\n\r\n    async setImageInstance({commit, dispatch}, {image}) {\r\n      commit('setIdImage', image.id);\r\n      await dispatch('refreshProperties');\r\n    },\r\n\r\n    async refreshProperties({state, commit, dispatch}) {\r\n      let keys = await fetchPropertiesKeys(state.idImage);\r\n      commit('setPropertiesKeys', keys);\r\n\r\n      let currentKey = state.selectedPropertyKey;\r\n      let newKey = keys.includes(currentKey) ? currentKey : null;\r\n      dispatch('setSelectedPropertyKey', newKey);\r\n    },\r\n\r\n    async refreshData({dispatch}) {\r\n      await dispatch('refreshProperties');\r\n    }\r\n  }\r\n};\r\n\r\nasync function fetchLayerPropertiesValues(idLayer, idImage, key) {\r\n  if(idLayer === -1) {\r\n    return []; // currently not possible to retrieve properties of review layer (TODO in core)\r\n  }\r\n\r\n  let propertiesValues = await PropertyCollection.fetchPropertiesValuesAndPositions(\r\n    idLayer,\r\n    idImage,\r\n    key\r\n  );\r\n\r\n  // if several properties with target key for an annotation, concatenate their values\r\n  let properties = {};\r\n  propertiesValues.forEach(propVal => {\r\n    if(!properties[propVal.idAnnotation]) {\r\n      properties[propVal.idAnnotation] = propVal.value;\r\n    }\r\n    else {\r\n      properties[propVal.idAnnotation] += '; ' + propVal.value;\r\n    }\r\n  });\r\n\r\n  return properties;\r\n}\r\n\r\nasync function fetchPropertiesKeys(idImage) {\r\n  let data = await PropertyCollection.fetchKeysAnnotationProperties(null, idImage);\r\n  return data;\r\n}\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {createGeoJsonFmt} from 'vuelayers/lib/ol-ext/format';\r\nimport {annotBelongsToLayer} from '@/utils/annotation-utils';\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      selectionTargetedFeatures: [], // when we select a feature by clicking on a location, we can have multiple feature at this location.\r\n      selectedFeatures: [],\r\n      annotsToSelect: [],\r\n      showComments: null, // set to the identifier of an annotation to automatically open comments modal if this annotation if the first to be selected\r\n      displayAnnotDetails: true,\r\n      positionAnnotDetails: {x: 0, y: 0},\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setSelectionTargetedFeatures(state, targetedFeatures) {\r\n      state.selectionTargetedFeatures = targetedFeatures;\r\n    },\r\n\r\n    setSelectedFeatures(state, selectedFeatures) {\r\n      let newSelectedFeatures = JSON.stringify(selectedFeatures);\r\n      let currentSelectedFeatures = JSON.stringify(state.selectedFeatures);\r\n      if (newSelectedFeatures !== currentSelectedFeatures) {\r\n        state.selectedFeatures = selectedFeatures;\r\n      }\r\n    },\r\n\r\n    clearSelectedFeatures(state) {\r\n      state.selectedFeatures = [];\r\n      state.annotsToSelect = [];\r\n    },\r\n\r\n    selectFeature(state, feature) {\r\n      state.selectedFeatures.push(createGeoJsonFmt().writeFeatureObject(feature));\r\n    },\r\n\r\n    changeAnnotSelectedFeature(state, {indexFeature, annot}) {\r\n      if (state.selectedFeatures[indexFeature]) {\r\n        state.selectedFeatures[indexFeature].properties.annot = annot;\r\n      }\r\n    },\r\n\r\n    removeLayerFromSelectedFeatures(state, {layer, cache=false}) {\r\n      let selectedFeatures = state.selectedFeatures;\r\n      for(let index = selectedFeatures.length - 1; index >= 0; index--) {\r\n        let feature = selectedFeatures[index];\r\n        let annot = feature.properties.annot;\r\n        if(annotBelongsToLayer(annot, layer)) {\r\n          selectedFeatures.splice(index, 1);\r\n          if(cache) {\r\n            state.annotsToSelect.push(annot);\r\n          }\r\n        }\r\n      }\r\n\r\n      if(!cache) {\r\n        state.annotsToSelect = state.annotsToSelect.filter(annot => !annotBelongsToLayer(annot, layer));\r\n      }\r\n    },\r\n\r\n    removeTermFromSelectedFeatures(state, {idTerm, terms}) { // idTerm: id of the term no longer displayed\r\n      state.selectedFeatures = state.selectedFeatures.filter(feature => {\r\n        let annot = feature.properties.annot;\r\n        if(!annot.term.includes(idTerm)) {\r\n          return true; // feature not affected since it does not have the hidden term\r\n        }\r\n        // if feature associated with hidden term, check if it is associated to other terms still displayed\r\n        return terms.some(term => term.visible && annot.term.includes(term.id));\r\n      });\r\n    },\r\n\r\n    removeNoTermFromSelectedFeatures(state) {\r\n      state.selectedFeatures = state.selectedFeatures.filter(feature => {\r\n        let annot = feature.properties.annot;\r\n        return annot.term.length; // keep feature only iff it is associated to at least one term\r\n      });\r\n    },\r\n\r\n    setAnnotToSelect(state, annot) {\r\n      state.annotsToSelect = [annot];\r\n    },\r\n\r\n    setShowComments(state, annot) {\r\n      state.showComments = annot ? annot.id : null;\r\n    },\r\n\r\n    setDisplayAnnotDetails(state, value) {\r\n      state.displayAnnotDetails = value;\r\n    },\r\n\r\n    setPositionAnnotDetails(state, value) {\r\n      state.positionAnnotDetails = value;\r\n    },\r\n  },\r\n\r\n  actions: {\r\n    selectFeature({commit}, feature) {\r\n      commit('clearSelectedFeatures');\r\n      commit('selectFeature', feature);\r\n    },\r\n\r\n    setImageInstance({commit}) {\r\n      commit('clearSelectedFeatures');\r\n    },\r\n\r\n    setActiveSlice({commit}) {\r\n      commit('clearSelectedFeatures');\r\n    },\r\n\r\n    setActiveSlices({commit}) {\r\n      commit('clearSelectedFeatures');\r\n    },\r\n  },\r\n\r\n  getters: {\r\n    selectedFeature: state => {\r\n      if(state.selectedFeatures.length === 1) {\r\n        return state.selectedFeatures[0];\r\n      }\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {createColorStyle, createColorLineStyle, changeOpacity, createStrokeStyle, createLineStrokeStyle} from '@/utils/style-utils.js';\r\n\r\nlet initialTermsOpacity = 1;\r\nlet initialTracksOpacity = 1;\r\nlet initialLayersOpacity = 0.5;\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      terms: null,\r\n\r\n      displayNoTerm: true,\r\n      noTermOpacity: initialTermsOpacity,\r\n      noTermStyle: createColorStyle('#fff', initialLayersOpacity*initialTermsOpacity),\r\n\r\n      defaultStyle: createColorStyle('#fff', initialLayersOpacity),\r\n      multipleTermsStyle: createColorStyle('#fff', initialLayersOpacity),\r\n\r\n      layersOpacity: initialLayersOpacity,\r\n\r\n      wrappedTracks: null,\r\n      multipleTracksStyle: createStrokeStyle('#fff', initialLayersOpacity)\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    addTerm(state, term) {\r\n      state.terms.push(formatTerm(term, state.layersOpacity));\r\n    },\r\n\r\n    setTerms(state, terms) {\r\n      state.terms = terms;\r\n    },\r\n\r\n    setWrappedTracks(state, tracks) {\r\n      state.wrappedTracks = formatTracks(tracks, state.layersOpacity, state.wrappedTracks || []);\r\n    },\r\n\r\n    toggleTermVisibility(state, indexTerm) {\r\n      let term = state.terms[indexTerm];\r\n      term.visible = !term.visible;\r\n    },\r\n\r\n    setDisplayNoTerm(state, value) {\r\n      state.displayNoTerm = value;\r\n    },\r\n\r\n    setTermOpacity(state, {indexTerm, opacity}) {\r\n      let term = state.terms[indexTerm];\r\n      term.opacity = opacity;\r\n      changeOpacity(term.olStyle, state.layersOpacity*opacity);\r\n      changeOpacity(term.olLineStyle, state.layersOpacity*opacity);\r\n    },\r\n\r\n    setNoTermOpacity(state, opacity) {\r\n      state.noTermOpacity = opacity;\r\n      changeOpacity(state.noTermStyle, state.layersOpacity*opacity);\r\n    },\r\n\r\n    resetTermOpacities(state) {\r\n      state.terms.forEach(term => {\r\n        term.opacity = initialTermsOpacity;\r\n        changeOpacity(term.olStyle, state.layersOpacity*initialTermsOpacity);\r\n        changeOpacity(term.olLineStyle, state.layersOpacity*initialTermsOpacity);\r\n      });\r\n      state.noTermOpacity = initialTermsOpacity;\r\n      changeOpacity(state.noTermStyle, state.layersOpacity*state.noTermOpacity);\r\n    },\r\n\r\n    setLayersOpacity(state, opacity) {\r\n      state.layersOpacity = opacity;\r\n      if(state.terms) {\r\n        state.terms.forEach(term => {\r\n          changeOpacity(term.olStyle, opacity*term.opacity);\r\n          changeOpacity(term.olLineStyle, opacity*term.opacity);\r\n        });\r\n      }\r\n      changeOpacity(state.noTermStyle, opacity*state.noTermOpacity);\r\n      changeOpacity(state.multipleTermsStyle, opacity);\r\n      changeOpacity(state.defaultStyle, opacity);\r\n      if(state.wrappedTracks) {\r\n        state.wrappedTracks.forEach(track => {\r\n          changeOpacity(track.olStyle, opacity*track.opacity);\r\n          changeOpacity(track.olLineStyle, opacity*track.opacity);\r\n        });\r\n      }\r\n      changeOpacity(state.multipleTracksStyle, opacity);\r\n    },\r\n  },\r\n\r\n  actions: {\r\n    initialize({commit, getters, rootGetters}) {\r\n      let terms = formatTerms(rootGetters['currentProject/terms'], initialLayersOpacity);\r\n      commit('setTerms', terms);\r\n\r\n      let tracks = formatTracks(getters.tracks, initialLayersOpacity);\r\n      commit('setWrappedTracks', tracks);\r\n    },\r\n\r\n    toggleTermVisibility({state, commit}, indexTerm) {\r\n      commit('toggleTermVisibility', indexTerm);\r\n      let toggledTerm = state.terms[indexTerm];\r\n      if(!toggledTerm.visible) {\r\n        commit('removeTermFromSelectedFeatures', {idTerm: toggledTerm.id, terms: state.terms});\r\n      }\r\n    },\r\n\r\n    setDisplayNoTerm({commit}, value) {\r\n      commit('setDisplayNoTerm', value);\r\n      if(!value) {\r\n        commit('removeNoTermFromSelectedFeatures');\r\n      }\r\n    },\r\n\r\n    async refreshData({state, commit, getters, rootGetters}) {\r\n      let terms = formatTerms(rootGetters['currentProject/terms'], state.layersOpacity, state.terms);\r\n      commit('setTerms', terms);\r\n\r\n      let tracks = formatTracks(getters.tracks, state.layersOpacity, state.terms);\r\n      commit('setWrappedTracks', tracks);\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    termsMapping: state => {\r\n      if(!state.terms) {\r\n        return {};\r\n      }\r\n\r\n      return state.terms.reduce((mapping, term) => {\r\n        mapping[term.id] = term;\r\n        return mapping;\r\n      }, {});\r\n    },\r\n    tracksMapping: state => {\r\n      if(!state.wrappedTracks) {\r\n        return {};\r\n      }\r\n\r\n      return state.wrappedTracks.reduce((mapping, track) => {\r\n        mapping[track.id] = track;\r\n        return mapping;\r\n      }, {});\r\n    },\r\n    wrappedTracks: state => state.wrappedTracks,\r\n    hiddenTermsIds: state => {\r\n      if (!state.terms) {\r\n        return [];\r\n      }\r\n\r\n      let list = state.terms.filter(term => !term.visible).map(term => term.id);\r\n      if (!state.displayNoTerm)\r\n        list.push(0);\r\n      return list || [];\r\n    },\r\n  }\r\n};\r\n\r\n\r\nfunction formatTerms(terms, layersOpacity, previousTerms=[]) {\r\n  if(!terms) {\r\n    return;\r\n  }\r\n\r\n  let result = [];\r\n  let nbTerms = terms.length;\r\n  for(let i = 0; i < nbTerms; i++) {\r\n    let term = terms[i];\r\n    let prevTerm = previousTerms.find(prevTerm => prevTerm.id === term.id);\r\n    result.push(prevTerm ? prevTerm : formatTerm(term, layersOpacity));\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction formatTerm(term, layersOpacity) {\r\n  let result = {id: term.id};\r\n  result.opacity = initialTermsOpacity;\r\n  result.olStyle = createColorStyle(term.color, initialTermsOpacity*layersOpacity);\r\n  result.olLineStyle = createColorLineStyle(term.color, initialTermsOpacity*layersOpacity);\r\n  result.visible = true;\r\n  result.color = term.color;\r\n  return result;\r\n}\r\n\r\nfunction formatTracks(tracks, layersOpacity, previousTracks=[]) {\r\n  if(!tracks) {\r\n    return;\r\n  }\r\n\r\n  let result = [];\r\n  let nbTracks = tracks.length;\r\n  for(let i = 0; i < nbTracks; i++) {\r\n    let track = tracks[i];\r\n    let prevTrack = previousTracks.find(prevTrack => prevTrack.id === track.id && prevTrack.color === track.color);\r\n    result.push(prevTrack ? prevTrack : formatTrack(track, layersOpacity));\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction formatTrack(track, layersOpacity) {\r\n  let result = {id: track.id};\r\n  result.opacity = initialTracksOpacity;\r\n  result.olStyle = createStrokeStyle(track.color, initialTracksOpacity*layersOpacity);\r\n  result.olLineStyle = createLineStrokeStyle(track.color, initialTracksOpacity*layersOpacity);\r\n  result.color = track.color;\r\n  return result;\r\n}\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      broadcast: false,\r\n      trackedUser: null\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setBroadcast(state, value) {\r\n      state.broadcast = value;\r\n    },\r\n\r\n    setTrackedUser(state, idUser) {\r\n      state.trackedUser = idUser;\r\n    },\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {Cytomine} from 'cytomine-client';\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      actions: [],\r\n      undoneActions: []\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    resetActions(state) {\r\n      state.actions = [];\r\n      state.undoneActions = [];\r\n    },\r\n\r\n    addAction(state, {annot, type}) {\r\n      let action = {annot, type, command: Cytomine.instance.lastCommand};\r\n      state.actions.push(action);\r\n      state.undoneActions = [];\r\n    },\r\n\r\n    undoAction(state, opposedAction) {\r\n      state.actions.pop();\r\n      state.undoneActions.push(opposedAction);\r\n    },\r\n\r\n    redoAction(state, opposedAction) {\r\n      state.undoneActions.pop();\r\n      state.actions.push(opposedAction);\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    setImageInstance({commit}) {\r\n      commit('resetActions');\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      zoom: null, // will be initialized to appropriate value (depending on container size) in CytomineImage\r\n      center: [0, 0],\r\n      rotation: 0,\r\n      digitalZoom: true,\r\n      overviewCollapsed: false\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setCenter(state, center) {\r\n      state.center = center;\r\n    },\r\n\r\n    setZoom(state, zoom) {\r\n      state.zoom = zoom;\r\n    },\r\n\r\n    setRotation(state, rotation) {\r\n      state.rotation = rotation;\r\n    },\r\n\r\n    setDigitalZoom(state, digitalZoom) {\r\n      state.digitalZoom = digitalZoom;\r\n    },\r\n\r\n    setOverviewCollapsed(state, value) {\r\n      state.overviewCollapsed = value;\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    async initialize({commit}, {image}) {\r\n      commit('setCenter', [image.width/2, image.height/2]);\r\n    },\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      reviewMode: false\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setReviewMode(state, value) {\r\n      state.reviewMode = value;\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    setImageInstance({commit}) { // when image is changed, reset reviewMode value\r\n      commit('setReviewMode', false);\r\n    },\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {TrackCollection} from 'cytomine-client';\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      idImage: 0,\r\n      tracks: [],\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setIdImage(state, id) {\r\n      state.idImage = id;\r\n    },\r\n\r\n    setTracks(state, keys) {\r\n      state.tracks = keys;\r\n    },\r\n  },\r\n\r\n  actions: {\r\n    async initialize({commit}, {image}) {\r\n      commit('setIdImage', image.id);\r\n\r\n      let [tracks] = await Promise.all([\r\n        fetchTracks(image.id)\r\n      ]);\r\n\r\n      commit('setTracks', tracks);\r\n      commit('setWrappedTracks', tracks);\r\n    },\r\n\r\n    async setImageInstance({commit, dispatch}, {image}) {\r\n      commit('setIdImage', image.id);\r\n      await dispatch('refreshTracks');\r\n    },\r\n\r\n    async refreshTracks({state, commit}) {\r\n      let tracks = await fetchTracks(state.idImage);\r\n      commit('filterTracksNewAnnots', tracks || []);\r\n      commit('setTracks', tracks);\r\n      commit('setWrappedTracks', tracks);\r\n    },\r\n\r\n    async refreshData({dispatch}) {\r\n      await dispatch('refreshTracks');\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    tracks: state => state.tracks\r\n  }\r\n};\r\n\r\nasync function fetchTracks(idImage) {\r\n  let data = (await TrackCollection.fetchAll({filterKey: 'imageinstance', filterValue: idImage})).array;\r\n  return data;\r\n}\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport Vue from 'vue';\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      open: false,\r\n      currentPages: {} // mapping of type {idProp: currentPage}\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setShowAnnotationsList(state, value) {\r\n      state.open = value;\r\n    },\r\n    setCurrentPage(state, {prop, page}) {\r\n      Vue.set(state.currentPages, prop, page);\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport constants from '@/utils/constants';\r\n\r\nexport default {\r\n  state() {\r\n    return {\r\n      step: {\r\n        channel: constants.DEFAULT_IMAGE_CONTROLS_STEP,\r\n        zStack: constants.DEFAULT_IMAGE_CONTROLS_STEP,\r\n        time: constants.DEFAULT_IMAGE_CONTROLS_STEP,\r\n      }\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setStep(state, {dimension, value}) {\r\n      state.step[dimension] = value;\r\n    }\r\n  },\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {ImageInstance, AnnotationType, SliceInstanceCollection, SliceInstance, CompanionFileCollection} from 'cytomine-client';\r\n\r\nimport constants from '@/utils/constants';\r\nimport {slicePositionToRank} from '@/utils/slice-utils';\r\n\r\nimport colors from './image_modules/colors';\r\nimport draw from './image_modules/draw';\r\nimport layers from './image_modules/layers';\r\nimport properties from './image_modules/properties';\r\nimport selectedFeatures from './image_modules/selected-features';\r\nimport style from './image_modules/style';\r\nimport tracking from './image_modules/tracking';\r\nimport undoRedo from './image_modules/undo-redo';\r\nimport view from './image_modules/view';\r\nimport review from './image_modules/review';\r\nimport tracks from './image_modules/tracks';\r\nimport annotationsList from './image_modules/annotations-list';\r\nimport controls from './image_modules/controls';\r\n\r\nimport _ from 'lodash';\r\n\r\nimport {\r\n  isCluster,\r\n  createTextStyle,\r\n  selectStyles,\r\n  verticesStyle,\r\n  reviewedStyles,\r\n  reviewedSelectStyles,\r\n  rejectedStyles,\r\n  rejectedSelectStyles,\r\n  trackedSelectStyles\r\n} from '@/utils/style-utils.js';\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state() {\r\n    return {\r\n      imageInstance: null,\r\n      profile: null,\r\n      sliceInstances: {},\r\n      loadedSlicePages: [],\r\n      activeSlices: null,\r\n      activePanel: null,\r\n      routedAnnotation: null\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setImageInstance(state, image) {\r\n      state.imageInstance = image;\r\n    },\r\n\r\n    setResolution(state, resolution) {\r\n      state.imageInstance.physicalSizeX = resolution.x;\r\n      state.imageInstance.physicalSizeY = resolution.y;\r\n      state.imageInstance.physicalSizeZ = resolution.z;\r\n      state.imageInstance.fps = resolution.t;\r\n    },\r\n\r\n    togglePanel(state, panel) {\r\n      state.activePanel = state.activePanel === panel ? null : panel;\r\n    },\r\n\r\n    clearSliceInstances(state) {\r\n      state.sliceInstances = {};\r\n      state.loadedSlicePages = [];\r\n    },\r\n\r\n    setSliceInstances(state, slices) {\r\n      state.sliceInstances = Object.assign(\r\n        {}, state.sliceInstances, slices.reduce((acc, v) => ({ ...acc, [v.rank]: v}), {})\r\n      );\r\n    },\r\n\r\n    setLoadedSlicePage(state, page) {\r\n      state.loadedSlicePages.push(page);\r\n    },\r\n\r\n    setActiveSlice(state, slice) {\r\n      state.activeSlices = [slice];\r\n    },\r\n\r\n    setActiveSlices(state, slices) {\r\n      state.activeSlices = slices;\r\n    },\r\n\r\n    setProfile(state, profile) {\r\n      state.profile = profile;\r\n    },\r\n\r\n    setRoutedAnnotation(state, annotation) {\r\n      state.routedAnnotation = annotation;\r\n    },\r\n    clearRoutedAnnotation(state) {\r\n      state.routedAnnotation = null;\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    async initialize({commit, dispatch}, {image, slices}) {\r\n      let clone = image.clone();\r\n      commit('setImageInstance', clone);\r\n\r\n      clone = _.cloneDeep(slices);\r\n      commit('setActiveSlices', clone);\r\n\r\n      await dispatch('fetchSliceInstancesAround', {rank: clone[0].rank});\r\n    },\r\n    async setImageInstance({dispatch, rootState}, {image, slices}) {\r\n      await dispatch('initialize', {image, slices});\r\n      let idProject = rootState.currentProject.project.id;\r\n      let idViewer = rootState.currentProject.currentViewer;\r\n      dispatch(`projects/${idProject}/viewers/${idViewer}/changePath`, null, {root: true});\r\n    },\r\n\r\n    async setActiveSlice({commit, dispatch, rootState}, slice) {\r\n      let idProject = rootState.currentProject.project.id;\r\n      let idViewer = rootState.currentProject.currentViewer;\r\n      commit('setActiveSlice', slice);\r\n      dispatch(`projects/${idProject}/viewers/${idViewer}/changePath`, null, {root: true});\r\n      await dispatch('fetchSliceInstancesAround', {rank: slice.rank});\r\n    },\r\n    async setActiveSliceByPosition({state, dispatch}, {channel, zStack, time}) {\r\n      let rank = slicePositionToRank({channel, zStack, time}, state.imageInstance);\r\n      await dispatch('setActiveSliceByRank', rank);\r\n    },\r\n    async setActiveSlicesByPosition({state, dispatch}, {channels, zStack, time}) {\r\n      let ranks = channels.map(channel => slicePositionToRank({channel, zStack, time}, state.imageInstance));\r\n      await dispatch('setActiveSlicesByRank', ranks);\r\n    },\r\n    async addActiveSliceChannel({state, dispatch}, {channel}) {\r\n      let activeSlice = state.activeSlices[0];\r\n      let ranks = state.activeSlices.map(s => s.rank);\r\n      ranks.push(slicePositionToRank({\r\n        channel, zStack: activeSlice.zStack, time: activeSlice.time\r\n      }, state.imageInstance));\r\n      await dispatch('setActiveSlicesByRank', ranks);\r\n    },\r\n    async removeActiveSliceChannel({state, dispatch}, {channel}) {\r\n      let channels = state.activeSlices.map(s => s.channel).filter(c => c !== channel);\r\n      let activeSlice = state.activeSlices[0];\r\n      let ranks = channels.map(channel => slicePositionToRank({\r\n        channel, zStack: activeSlice.zStack, time: activeSlice.time\r\n      }, state.imageInstance));\r\n      await dispatch('setActiveSlicesByRank', ranks);\r\n    },\r\n    async setActiveSliceByRank({state, commit, dispatch, rootState}, rank) {\r\n      let slice = state.sliceInstances[rank];\r\n      if (!slice) {\r\n        await dispatch('fetchSliceInstancesAround', {rank, setActive: true});\r\n      }\r\n      else {\r\n        commit('setActiveSlice', slice);\r\n      }\r\n\r\n      let idProject = rootState.currentProject.project.id;\r\n      let idViewer = rootState.currentProject.currentViewer;\r\n      dispatch(`projects/${idProject}/viewers/${idViewer}/changePath`, null, {root: true});\r\n    },\r\n    async setActiveSlicesByRank({state, commit, dispatch, rootState}, ranks) {\r\n      let slices = await Promise.all(ranks.map(async rank => {\r\n        let slice = state.sliceInstances[rank];\r\n        if (!slice) {\r\n          await dispatch('fetchSliceInstancesAround', {rank, setActive: false});\r\n          slice = state.sliceInstances[rank];\r\n        }\r\n        return slice;\r\n      }));\r\n      commit('setActiveSlices', slices);\r\n\r\n      let idProject = rootState.currentProject.project.id;\r\n      let idViewer = rootState.currentProject.currentViewer;\r\n      dispatch(`projects/${idProject}/viewers/${idViewer}/changePath`, null, {root: true});\r\n    },\r\n\r\n    async refreshData({state, commit, dispatch}) {\r\n      await Promise.all([\r\n        ImageInstance.fetch(state.imageInstance.id).then(\r\n          image => commit('setImageInstance', image)\r\n        ),\r\n        Promise.all(state.activeSlices.map(async slice => await SliceInstance.fetch(slice.id))).then(\r\n          slices => commit('setActiveSlices', slices)\r\n        )\r\n      ]);\r\n\r\n      commit('clearSliceInstances');\r\n      await dispatch('fetchSliceInstancesAround', {rank: state.activeSlices[0].rank});\r\n    },\r\n\r\n    async fetchSliceInstancesAround({state, commit}, {rank, setActive = false}) {\r\n      let promises = [];\r\n      let props = {filterKey: 'imageinstance', filterValue: state.imageInstance.id, max: constants.PRELOADED_SLICES};\r\n\r\n      let page = findRankPage(rank);\r\n      if (!state.loadedSlicePages.includes(page)) {\r\n        promises.push(new SliceInstanceCollection(props).fetchPage(page).then(data => {\r\n          commit('setSliceInstances', data.array);\r\n          if (setActive) {\r\n            let active = data.array.find(slice => slice.rank === rank);\r\n            if (active) {\r\n              commit('setActiveSlice', active);\r\n            }\r\n          }\r\n        }).then(() => commit('setLoadedSlicePage', page)));\r\n      }\r\n\r\n      let previous = page - 1;\r\n      if (previous >= 0 && !state.loadedSlicePages.includes(previous)) {\r\n        promises.push(new SliceInstanceCollection(props).fetchPage(previous).then(data => {\r\n          commit('setSliceInstances', data.array);\r\n        }).then(() => commit('setLoadedSlicePage', previous)));\r\n      }\r\n\r\n      let next = page + 1;\r\n      if (next < findSliceInstanceNbPage(state.imageInstance) && !state.loadedSlicePages.includes(previous)) {\r\n        promises.push(new SliceInstanceCollection(props).fetchPage(next).then(data => {\r\n          commit('setSliceInstances', data.array);\r\n        }).then(() => commit('setLoadedSlicePage', next)));\r\n      }\r\n\r\n      await Promise.all(promises);\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    genStyleFunction: (state, getters) => (feature) => {\r\n      let annot = feature.get('annot');\r\n      if(!annot) {\r\n        return;\r\n      }\r\n\r\n      // QUESTION: what to do with clusters (returned count does not take into account the selected terms) ?\r\n      // Possible solutions:\r\n      // 1. in backend, for clusters, send array with composition of cluster (x for term 1, y for term 2, z for term1-2)\r\n      // 2. force source refresh every time the list of terms to display is updated\r\n      // 3. add parameter allowing to provide the terms to take into account in kmeans (but only for kmeans)\r\n      if(isCluster(feature)) {\r\n        return [state.style.defaultStyle, createTextStyle(annot.count.toString())];\r\n      }\r\n\r\n      let styles = [];\r\n\r\n      let nbTerms = annot.term.length;\r\n      let terms = state.style.terms;\r\n\r\n      if(terms && nbTerms === 1) {\r\n        let wrappedTerm = getters.termsMapping[annot.term[0]];\r\n        if(wrappedTerm) {\r\n          if(!wrappedTerm.visible) {\r\n            return; // do not display annot\r\n          }\r\n          if(feature.getGeometry().getType() === 'LineString') {\r\n            styles.push(wrappedTerm.olLineStyle);\r\n          }\r\n          else {\r\n            styles.push(wrappedTerm.olStyle);\r\n          }\r\n        }\r\n        else {\r\n          styles.push(state.style.noTermStyle); // could not find term => display no term style\r\n        }\r\n      }\r\n      else if(terms && nbTerms > 1) {\r\n        let hasTermsToDisplay = terms.some(term => term.visible && annot.term.includes(term.id));\r\n        if(!hasTermsToDisplay) {\r\n          return; // do not display\r\n        }\r\n        styles.push(state.style.multipleTermsStyle);\r\n      }\r\n      else {\r\n        if(!state.style.displayNoTerm) {\r\n          return; // do not display annot\r\n        }\r\n        styles.push(state.style.noTermStyle);\r\n      }\r\n\r\n      let nbTracks = annot.track ? annot.track.length : 0;\r\n      let isReviewed = annot.type === AnnotationType.REVIEWED;\r\n      let isRejected = state.review.reviewMode && !isReviewed;\r\n\r\n      // Styles for selected elements\r\n      if(state.selectedFeatures.selectedFeatures.map(ftr => ftr.id).includes(feature.getId())) {\r\n        styles.push(...(isReviewed ? reviewedSelectStyles : isRejected ? rejectedSelectStyles : (nbTracks > 0) ? trackedSelectStyles : selectStyles));\r\n\r\n        // if in modify mode, display vertices\r\n        if(state.draw.activeEditTool === 'modify') {\r\n          styles.push(verticesStyle);\r\n        }\r\n      }\r\n      else if(isReviewed) {\r\n        styles.push(...reviewedStyles);\r\n      }\r\n      else if(isRejected) {\r\n        styles.push(...rejectedStyles);\r\n      }\r\n\r\n      let tracks = state.style.wrappedTracks;\r\n\r\n      if (tracks && nbTracks === 1) {\r\n        let wrappedTrack = getters.tracksMapping[annot.track[0]];\r\n        if(wrappedTrack) {\r\n          if(feature.getGeometry().getType() === 'LineString') {\r\n            styles.unshift(wrappedTrack.olLineStyle);\r\n          }\r\n          else {\r\n            styles.push(wrappedTrack.olStyle);\r\n          }\r\n        }\r\n      }\r\n      else if (tracks && nbTracks > 1) {\r\n        styles.push(state.style.multipleTracksStyle);\r\n      }\r\n\r\n      // Properties\r\n      let propValue = state.properties.selectedPropertyValues[annot.id];\r\n      if (propValue) {\r\n        let color = state.properties.selectedPropertyColor;\r\n        let fontSize = '34px';\r\n        if(state.view.zoom <= 3) {\r\n          fontSize = '12px';\r\n        }\r\n        else if(state.view.zoom <= 6) {\r\n          fontSize = '19px';\r\n        }\r\n        else if(state.view.zoom <= 8) {\r\n          fontSize = '26px';\r\n        }\r\n        styles.push(createTextStyle(propValue, fontSize, color.fill, null));\r\n      }\r\n\r\n      return styles;\r\n    },\r\n\r\n    maxZoom: state => {\r\n      if(!state.imageInstance) {\r\n        return 0;\r\n      }\r\n      let increment = state.view.digitalZoom ? constants.DIGITAL_ZOOM_INCREMENT : 0;\r\n      return state.imageInstance.zoom + increment;\r\n    },\r\n\r\n    maxRank: state => {\r\n      if(!state.imageInstance) {\r\n        return 0;\r\n      }\r\n\r\n      return state.imageInstance.depth * state.imageInstance.duration * state.imageInstance.channels;\r\n    },\r\n\r\n    channels: state => {\r\n      return _.orderBy(Object.values(_.groupBy(state.sliceInstances, 'channel')).map(slices => {\r\n        return {\r\n          index: slices[0].channel,\r\n          name: slices[0].channelName,\r\n          color: slices[0].channelColor\r\n        };\r\n      }), 'index');\r\n    }\r\n  },\r\n\r\n  modules: {\r\n    colors,\r\n    draw,\r\n    layers,\r\n    properties,\r\n    selectedFeatures,\r\n    style,\r\n    tracking,\r\n    undoRedo,\r\n    view,\r\n    review,\r\n    tracks,\r\n    annotationsList,\r\n    controls\r\n  }\r\n};\r\n\r\nfunction findRankPage(rank) {\r\n  return Math.ceil((rank + 1) / constants.PRELOADED_SLICES) - 1;\r\n}\r\n\r\nfunction findSliceInstanceNbPage(image) {\r\n  return Math.ceil(image.depth * image.duration * image.channels / constants.PRELOADED_SLICES);\r\n}\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport router from '@/routes';\r\nimport {getModuleNamespace} from '@/store/store';\r\nimport imageModule from './viewer_modules/image';\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state() {\r\n    return {\r\n      links: [],\r\n      linkMode: 'ABSOLUTE',\r\n      imageSelector: false,\r\n      activeImage: 0,\r\n      indexNextImage: 0,\r\n\r\n      copiedAnnot: null\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setImageSelector(state, value) {\r\n      state.imageSelector = value;\r\n    },\r\n\r\n    addImage(state) {\r\n      state.imageSelector = false;\r\n      state.activeImage = state.indexNextImage;\r\n      state.indexNextImage++;\r\n    },\r\n\r\n    setActiveImage(state, index) {\r\n      state.activeImage = index;\r\n    },\r\n\r\n    setCopiedAnnot(state, annot) {\r\n      state.copiedAnnot = annot;\r\n    },\r\n\r\n    setLinkMode(state, mode) {\r\n      state.linkMode = mode;\r\n    },\r\n\r\n    // ----- View links\r\n\r\n    createLinkGroup(state, indexes) {\r\n      state.links.push(indexes);\r\n    },\r\n\r\n    linkImageToGroup(state, {indexGroup, indexImage}) {\r\n      state.links[indexGroup].push(indexImage);\r\n    },\r\n\r\n\r\n    mergeLinkGroups(state, indexes) {\r\n      state.links[indexes[0]].push(...state.links[indexes[1]]);\r\n      state.links.splice(indexes[1], 1);\r\n    },\r\n\r\n    unlinkImage(state, {indexGroup, indexImage}) {\r\n      let links = state.links;\r\n      if(!indexGroup) { // if group not specified, find the group of the provided image\r\n        indexGroup = links.findIndex(group => group.includes(indexImage));\r\n        if(indexGroup === -1) {\r\n          return;\r\n        }\r\n      }\r\n\r\n      let group = links[indexGroup];\r\n      let indexWithinGroup = group.findIndex(idx => idx === indexImage);\r\n      group.splice(indexWithinGroup, 1);\r\n      if(group.length === 1) { // if group no longer contains several images, delete it\r\n        links.splice(indexGroup, 1);\r\n      }\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    changePath({getters}) {\r\n      let idAnnotation = router.currentRoute.params.idAnnotation;\r\n      let action = router.currentRoute.query.action;\r\n      router.replace(getters.pathViewer({idAnnotation, action}));\r\n    },\r\n\r\n    async addImage({state, commit, getters, dispatch}, {image, slices, annot=null}) {\r\n      let index = state.indexNextImage;\r\n      commit('addImage');\r\n      this.registerModule(getters.pathImageModule(index), imageModule);\r\n      if (annot) {\r\n        commit(`images/${index}/setRoutedAnnotation`, annot);\r\n      }\r\n      await dispatch(`images/${index}/initialize`, {image, slices});\r\n      dispatch('changePath');\r\n    },\r\n\r\n    setImageResolution({state, commit}, {idImage, resolution}) {\r\n      for(let index in state.images) {\r\n        let image = state.images[index].imageInstance;\r\n        if(image && image.id === idImage) {\r\n          commit(`images/${index}/setResolution`, resolution);\r\n        }\r\n      }\r\n    },\r\n\r\n    addTerm({state, commit}, term) { // add term to all image wrappers (as all images belong to same project)\r\n      for(let index in state.images) {\r\n        commit(`images/${index}/addTerm`, term);\r\n      }\r\n    },\r\n\r\n    refreshTracks({state, dispatch}, {idImage}) {\r\n      for(let index in state.images) {\r\n        let image = state.images[index].imageInstance;\r\n        if(image && image.id === idImage) {\r\n          dispatch(`images/${index}/refreshTracks`);\r\n        }\r\n      }\r\n    },\r\n\r\n    setCenter({state, getters, commit}, {index, center}) {\r\n      let relative = state.linkMode === 'RELATIVE';\r\n      let refImage = state.images[index];\r\n      let increments = refImage.view.center.map((val, i) => center[i] - val);\r\n      let refZoom = refImage.imageInstance.zoom - refImage.view.zoom;\r\n\r\n      let indexesToUpdate = getters.getLinkedIndexes(index);\r\n      indexesToUpdate.forEach(idx => {\r\n        let newCenter = center;\r\n        if (relative) {\r\n          let image = state.images[idx];\r\n          let diffZoom = image.imageInstance.zoom - image.view.zoom - refZoom;\r\n          let zoomFactor = Math.pow(2, diffZoom);\r\n          newCenter = image.view.center.map((val, i) => val + increments[i]*zoomFactor);\r\n        }\r\n        commit(`images/${idx}/setCenter`, newCenter);\r\n      });\r\n    },\r\n\r\n    setZoom({state, getters, commit}, {index, zoom}) {\r\n      let relative = state.linkMode === 'RELATIVE';\r\n      let zoomIncrement = zoom - state.images[index].view.zoom;\r\n      let indexesToUpdate = getters.getLinkedIndexes(index);\r\n      indexesToUpdate.forEach(idx => {\r\n        let newZoom = (relative) ? (state.images[idx].view.zoom + zoomIncrement) : zoom;\r\n        commit(`images/${idx}/setZoom`, newZoom);\r\n      });\r\n    },\r\n\r\n    setRotation({state, getters, commit}, {index, rotation}) {\r\n      let relative = state.linkMode === 'RELATIVE';\r\n      let rotationInc = rotation - state.images[index].view.rotation + 2*Math.PI;\r\n      let indexesToUpdate = getters.getLinkedIndexes(index);\r\n      indexesToUpdate.forEach(idx => {\r\n        let newRotation = (relative) ? (state.images[idx].view.rotation + rotationInc) % (2*Math.PI) : rotation;\r\n        commit(`images/${idx}/setRotation`, newRotation);\r\n      });\r\n    },\r\n\r\n    async refreshData({state, dispatch}) {\r\n      await Promise.all(Object.keys(state.images).map(async index => {\r\n        await dispatch(`images/${index}/refreshData`);\r\n      }));\r\n      dispatch('changePath');\r\n    },\r\n\r\n    removeImage({commit, getters, dispatch}, index) {\r\n      commit('unlinkImage', {indexImage: index});\r\n      this.unregisterModule(getters.pathImageModule(index), imageModule);\r\n      dispatch('changePath');\r\n    },\r\n  },\r\n\r\n  getters: {\r\n    pathModule: state => {\r\n      return getModuleNamespace(state);\r\n    },\r\n\r\n    pathImageModule: (_, getters) => index => {\r\n      return [...getters.pathModule, 'images', index];\r\n    },\r\n\r\n    pathViewer: (state, getters) => ({idAnnotation, action}={}) => {\r\n      // module path = ['projects', idProject, 'viewers', idViewer]\r\n      let idProject = getters.pathModule[1];\r\n      let idViewer = getters.pathModule[3];\r\n      // ---\r\n      let imagesIds = Object.values(state.images).map(img =>\r\n        img.imageInstance ? img.imageInstance.id : 0\r\n      );\r\n      let slicesIds = Object.values(state.images).map(img => {\r\n        if (img.activeSlices && img.activeSlices.length > 0) {\r\n          return img.activeSlices.map(slice => slice.id).join(':');\r\n        }\r\n        return 0;\r\n      });\r\n      let annot = idAnnotation ? `/annotation/${idAnnotation}` : '';\r\n      let actionStr = action ? '&action=' + action : '';\r\n      return `/project/${idProject}/image/${imagesIds.join('-')}/slice/${slicesIds.join('-')}${annot}?viewer=${idViewer}${actionStr}`;\r\n    },\r\n\r\n    getLinkedIndexes: state => index => { // find all indexes linked to provided index (if image is not linked, return only its index)\r\n      return state.links.find(group => group.includes(index)) || [index];\r\n    }\r\n  },\r\n\r\n  modules: {\r\n    images: {\r\n      namespaced: true\r\n    }\r\n  }\r\n};\r\n","const {detect} = require('detect-browser');\r\nconst browser = detect();\r\nconst shortkey = (browser && browser.os === 'Mac OS') ? 'meta' : 'ctrl';\r\n\r\n// Key list reference: https://github.com/iFgR/vue-shortkey#key-list\r\nexport default Object.freeze({\r\n  'general-close-modal': ['esc'], // Handled by Bulma\r\n  'general-shortcuts-modal': ['shift', '?'],\r\n  // 'navbar-dashboard': ['g', 'd'],\r\n  // 'navbar-projects': ['g', 'p'],\r\n  // 'navbar-ontologies': ['g', 'o'],\r\n  // 'navbar-storage': ['g', 's'],\r\n  // 'navbar-algorithms': ['g', 'a'],\r\n  // 'navbar-user': ['g', 'u'],\r\n  // 'navbar-help': ['g', 'h'],\r\n  // 'navbar-admin': ['g', 'z'],\r\n  // 'project-images': [],\r\n  // 'project-annotations': [],\r\n  // 'project-jobs': [],\r\n  // 'project-activities': [],\r\n  // 'project-information': [],\r\n  // 'project-configuration': [],\r\n  'viewer-nav-zoom-in': ['+'], // Handled by Openlayers KeyboardZoom\r\n  'viewer-nav-zoom-out': ['-'], // Handled by Openlayers KeyboardZoom\r\n  'viewer-nav-move-up': ['arrowup'], // Handled by Openlayers KeyboardPan\r\n  'viewer-nav-move-down': ['arrowdown'], // Handled by Openlayers KeyboardPan\r\n  'viewer-nav-move-left': ['arrowleft'], // Handled by Openlayers KeyboardPan\r\n  'viewer-nav-move-right': ['arrowright'], // Handled by Openlayers KeyboardPan\r\n  'viewer-nav-next-image': ['shift', 'arrowright'],\r\n  'viewer-nav-previous-image': ['shift', 'arrowleft'],\r\n  'viewer-nav-next-t': ['pageup'],\r\n  'viewer-nav-previous-t': ['pagedown'],\r\n  'viewer-nav-first-t': ['home'],\r\n  'viewer-nav-last-t': ['end'],\r\n  'viewer-nav-next-c': ['alt', 'pageup'],\r\n  'viewer-nav-previous-c': ['alt', 'pagedown'],\r\n  'viewer-nav-first-c': ['alt', 'home'],\r\n  'viewer-nav-last-c': ['alt', 'end'],\r\n  'viewer-nav-next-z': ['shift', 'pageup'],\r\n  'viewer-nav-previous-z': ['shift', 'pagedown'],\r\n  'viewer-nav-first-z': ['shift', 'home'],\r\n  'viewer-nav-last-z': ['shift', 'end'],\r\n  'viewer-nav-next-slice': ['alt', 'shift', 'pageup'],\r\n  'viewer-nav-previous-slice': ['alt', 'shift', 'pagedown'],\r\n  'viewer-nav-first-slice': ['alt', 'shift', 'home'],\r\n  'viewer-nav-last-slice': ['alt', 'shift', 'end'],\r\n  'viewer-nav-drag-rotate': ['alt', 'shift', 'drag'], // Handled by Openlayers\r\n  'viewer-nav-drag-zoom': ['shift', 'drag'], // Handled by Openlayers\r\n  'viewer-tool-select': ['s'],\r\n  'viewer-tool-point': ['o'],\r\n  'viewer-tool-line': ['l'],\r\n  'viewer-tool-freehand-line': ['shift', 'l'],\r\n  'viewer-tool-rectangle': ['r'],\r\n  'viewer-tool-circle': ['c'],\r\n  'viewer-tool-polygon': ['p'],\r\n  'viewer-tool-freehand-polygon': ['shift', 'p'],\r\n  'viewer-tool-screenshot': ['shift', 's'],\r\n  'viewer-tool-fill': ['f'],\r\n  'viewer-tool-correct-add': ['shift', 'c'],\r\n  'viewer-tool-correct-remove': ['alt', 'shift', 'c'],\r\n  'viewer-tool-modify': ['m'],\r\n  'viewer-tool-modify-delete-vertex': ['ctrl', 'click'], // Handled by Openlayers\r\n  'viewer-tool-rescale': ['shift', 'm'],\r\n  'viewer-tool-move': ['t'],\r\n  'viewer-tool-rotate': ['shift', 't'],\r\n  'viewer-tool-delete': ['del'],\r\n  'viewer-tool-copy': [shortkey, 'c'],\r\n  'viewer-tool-paste': [shortkey, 'v'],\r\n  'viewer-tool-undo': [shortkey, 'z'],\r\n  'viewer-tool-redo': [shortkey, 'y'],\r\n  'viewer-tool-review-accept': ['j'],\r\n  'viewer-tool-review-reject': ['k'],\r\n  'viewer-toggle-review-layer': ['i'],\r\n  'viewer-toggle-all-review-layer': [shortkey, 'i'],\r\n  'viewer-toggle-selected-layers': ['q'],\r\n  'viewer-toggle-all-selected-layers': [shortkey, 'q'],\r\n  // 'viewer-tool-go-to-slice-t': ['g'],\r\n  // 'viewer-tool-go-to-slice-z': ['shift', 'g'],\r\n  // 'viewer-tool-go-to-slice-c': ['alt', 'g'],\r\n  'viewer-toggle-information': ['alt', 'i'],\r\n  'viewer-toggle-all-information': [shortkey, 'alt', 'i'],\r\n  'viewer-toggle-zoom': ['alt', 'z'],\r\n  'viewer-toggle-all-zoom': [shortkey, 'alt', 'z'],\r\n  'viewer-toggle-link': ['alt', 's'],\r\n  'viewer-toggle-all-link': [shortkey, 'alt', 's'],\r\n  'viewer-toggle-filters': ['alt', 'f'],\r\n  'viewer-toggle-all-filters': [shortkey, 'alt', 'f'],\r\n  'viewer-toggle-layers': ['alt', 'l'],\r\n  'viewer-toggle-all-layers': [shortkey, 'alt', 'l'],\r\n  'viewer-toggle-ontology': ['alt', 't'],\r\n  'viewer-toggle-all-ontology': [shortkey, 'alt', 't'],\r\n  'viewer-toggle-properties': ['alt', 'p'],\r\n  'viewer-toggle-all-properties': [shortkey, 'alt', 'p'],\r\n  'viewer-toggle-broadcast': ['alt', 'b'],\r\n  'viewer-toggle-all-broadcast': [shortkey, 'alt', 'b'],\r\n  'viewer-toggle-review': ['alt', 'r'],\r\n  'viewer-toggle-all-review': [shortkey, 'alt', 'r'],\r\n  'viewer-toggle-overview': ['alt', 'o'],\r\n  'viewer-toggle-all-overview': [shortkey, 'alt', 'o'],\r\n  'viewer-toggle-annotations': ['alt', 'a'],\r\n  'viewer-toggle-all-annotations': [shortkey, 'alt', 'a'],\r\n  'viewer-toggle-current': ['alt', 'c'],\r\n  'viewer-toggle-all-current': [shortkey, 'alt', 'c'],\r\n  'viewer-toggle-add-image': ['alt', '+'],\r\n  'text-editor-bold': [shortkey, 'b'], // Handled by Quill editor\r\n  'text-editor-italic': [shortkey, 'i'], // Handled by Quill editor\r\n  'text-editor-underline': [shortkey, 'u'], // Handled by Quill editor\r\n});\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div v-if=\"error\" class=\"box error\">\r\n  <h2> {{ $t('error') }} </h2>\r\n  <p>{{ $t('error-loading-image') }}</p>\r\n  <p v-if=\"errorBadImageProject\">{{ $t('error-loading-image-bad-project') }}</p>\r\n</div>\r\n<div v-else class=\"cytomine-viewer\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <div v-if=\"!loading\" class=\"maps-wrapper\">\r\n    <div class=\"map-cell\"\r\n      v-for=\"(cell, i) in cells\"\r\n      :key=\"i\"\r\n      :style=\"`height:${elementHeight}%; width:${elementWidth}%;`\"\r\n    >\r\n      <cytomine-image\r\n        v-if=\"cell && cell.image && cell.slices\"\r\n        :index=\"cell.index\"\r\n        :key=\"`${cell.index}-${cell.image.id}`\"\r\n        @close=\"closeMap(cell.index)\"\r\n      />\r\n    </div>\r\n\r\n    <image-selector />\r\n\r\n    <!-- Emit event when a hotkey is pressed (to rework once https://github.com/iFgR/vue-shortkey/issues/78 is implemented) -->\r\n    <div class=\"hidden\" v-shortkey.once=\"shortkeysMapping\" @shortkey=\"shortkeyEvent\"></div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport CytomineImage from './CytomineImage';\r\nimport ImageSelector from './ImageSelector';\r\n\r\nimport viewerModuleModel from '@/store/modules/project_modules/viewer';\r\n\r\nimport constants from '@/utils/constants.js';\r\nimport shortcuts from '@/utils/shortcuts.js';\r\n\r\nimport {ImageInstance, SliceInstance, Annotation} from 'cytomine-client';\r\n\r\nexport default {\r\n  name: 'cytomine-viewer',\r\n  components: {\r\n    CytomineImage,\r\n    ImageSelector\r\n  },\r\n  data() {\r\n    return {\r\n      error: false,\r\n      errorBadImageProject: false,\r\n      loading: true,\r\n      reloadInterval: null,\r\n      idViewer: null\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    currentUser: get('currentUser/user'),\r\n    viewers() {\r\n      return this.$store.state.projects[this.project.id].viewers;\r\n    },\r\n    idImages() {\r\n      return this.$route.params.idImages.split('-');\r\n    },\r\n    idSlices() {\r\n      return (this.$route.params.idSlices) ? this.$route.params.idSlices.split('-') : [];\r\n    },\r\n    paramIdViewer() {\r\n      return this.$route.query.viewer;\r\n    },\r\n    viewerModule() {\r\n      return this.$store.getters['currentProject/currentViewerModule'];\r\n    },\r\n    viewer() {\r\n      return this.viewers[this.idViewer];\r\n    },\r\n    indexImages() {\r\n      return this.viewer ? Object.keys(this.viewer.images) : [];\r\n    },\r\n    nbImages() {\r\n      return this.indexImages.length;\r\n    },\r\n    nbHorizontalCells() {\r\n      return Math.ceil(Math.sqrt(this.nbImages));\r\n    },\r\n    nbVerticalCells() {\r\n      return this.nbHorizontalCells ? Math.ceil(this.nbImages/this.nbHorizontalCells) : 0;\r\n    },\r\n    cells() {\r\n      let cells = new Array(this.nbHorizontalCells*this.nbVerticalCells);\r\n      for(let i = 0; i < this.nbImages; i++) {\r\n        let index = this.indexImages[i];\r\n        let image = this.viewer.images[index].imageInstance;\r\n        let slices = this.viewer.images[index].activeSlices;\r\n        cells[i] = {index, image, slices};\r\n      }\r\n      return cells;\r\n    },\r\n    elementHeight() {\r\n      return 100/this.nbVerticalCells;\r\n    },\r\n    elementWidth() {\r\n      return 100/this.nbHorizontalCells;\r\n    },\r\n    shortkeysMapping() {\r\n      let allowed = ['nav-next-image', 'nav-previous-image', 'nav-next-slice', 'nav-previous-slice', 'nav-next-t', 'nav-previous-t', 'nav-next-c',\r\n        'nav-previous-c', 'nav-first-slice', 'nav-last-slice', 'nav-first-t', 'nav-last-t', 'nav-first-z', 'nav-last-z', 'nav-first-c', 'nav-last-c',\r\n        'tool-select', 'tool-point', 'tool-line', 'tool-freehand-line', 'tool-rectangle', 'tool-circle', 'tool-polygon',\r\n        'tool-freehand-polygon', 'tool-screenshot', 'tool-fill', 'tool-correct-add', 'tool-correct-remove', 'tool-modify', 'tool-rescale',\r\n        'tool-move', 'tool-rotate', 'tool-delete', 'tool-undo', 'tool-redo', 'tool-review-accept', 'tool-review-reject',\r\n        'toggle-review-layer', 'toggle-all-review-layer', 'toggle-selected-layers', 'toggle-all-selected-layers',\r\n        'tool-go-to-slice-t', 'tool-go-to-slice-z', 'tool-go-to-slice-c', 'toggle-information',\r\n        'toggle-zoom', 'toggle-filters', 'toggle-layers', 'toggle-ontology', 'toggle-properties', 'toggle-broadcast',\r\n        'toggle-review', 'toggle-overview', 'toggle-annotations', 'toggle-current', 'toggle-add-image', 'toggle-link',\r\n        'nav-next-z', 'nav-previous-z', 'tool-copy', 'tool-paste', 'tool-review-reject', 'tool-review-toggle',\r\n        'tool-go-to-slice-t', 'tool-go-to-slice-z', 'tool-go-to-slice-c', 'toggle-all-information', 'toggle-all-zoom',\r\n        'toggle-all-filters', 'toggle-all-layers', 'toggle-all-ontology', 'toggle-all-properties',\r\n        'toggle-all-broadcast', 'toggle-all-review', 'toggle-all-overview', 'toggle-all-annotations',\r\n        'toggle-all-current', 'toggle-all-link'];\r\n\r\n      return Object.keys(shortcuts).filter(key => allowed.includes(key.replace('viewer-', ''))).reduce((object, key) => {\r\n        object[key.replace('viewer-', '')] = shortcuts[key];\r\n        return object;\r\n      }, {});\r\n    }\r\n  },\r\n  watch: {\r\n    paramIdViewer() {\r\n      this.findIdViewer();\r\n    },\r\n    idViewer(_, old) {\r\n      if(old) {\r\n        this.loading = true;\r\n        this.loadViewer();\r\n      }\r\n    },\r\n    viewer() {\r\n      if(!this.viewer) {\r\n        console.log('Viewer closed from external source');\r\n        this.$router.push(`/project/${this.$route.params.idProject}`);\r\n      }\r\n    },\r\n    nbImages() {\r\n      this.$eventBus.$emit('updateMapSize');\r\n    }\r\n  },\r\n  methods: {\r\n    findIdViewer() {\r\n      if(this.paramIdViewer) {\r\n        this.idViewer = this.paramIdViewer;\r\n        return;\r\n      }\r\n\r\n      for(let id in this.viewers) {\r\n        // if viewer containing the targetted images, and only them, store its id\r\n        let imagesViewer = Object.values(this.viewers[id].images).map(img => img.imageInstance.id).join('-');\r\n        if(imagesViewer === this.$route.params.idImages) {\r\n          this.idViewer = id;\r\n          return;\r\n        }\r\n      }\r\n\r\n      this.idViewer = Math.random().toString(36).substr(2, 9);\r\n    },\r\n\r\n    closeMap(index) {\r\n      if(this.nbImages === 1) {\r\n        this.$store.unregisterModule(['projects', this.project.id, 'viewers', this.idViewer]);\r\n        this.$router.push(`/project/${this.$route.params.idProject}`);\r\n      }\r\n      else {\r\n        this.$store.dispatch(this.viewerModule + 'removeImage', index);\r\n      }\r\n    },\r\n\r\n    async loadViewer() {\r\n      try {\r\n        this.$store.commit('currentProject/setCurrentViewer', this.idViewer);\r\n        if(!this.viewer) {\r\n          //TODO: rewrite !\r\n          this.$store.registerModule(['projects', this.project.id, 'viewers', this.idViewer], viewerModuleModel);\r\n          await Promise.all(this.idImages.map(async (id, idx) => {\r\n            let image = await ImageInstance.fetch(id);\r\n\r\n            let idSlices = this.idSlices[idx];\r\n            let slices;\r\n            if (idSlices) {\r\n              idSlices = idSlices.split(':');\r\n              slices = await Promise.all(idSlices.map(async id => await SliceInstance.fetch(id)));\r\n            }\r\n            else {\r\n              slices = [await image.fetchReferenceSlice()];\r\n            }\r\n            await this.$store.dispatch(this.viewerModule + 'addImage', {image, slices});\r\n          }));\r\n\r\n          let images = {};\r\n          //don't fetch multiple times the same image.\r\n          let idImages = [...new Set(this.idImages)];\r\n          await Promise.all(idImages.map(async id => {\r\n            let image = await ImageInstance.fetch(id);\r\n            images[id] = image;\r\n          }));\r\n          const imagesNotInCurrentProject = Object.values(images).filter(image => image.project != this.project.id);\r\n          if (imagesNotInCurrentProject.length > 0) {\r\n            this.errorBadImageProject = true;\r\n            throw new Error('Some images are not from this project');\r\n          }\r\n        }\r\n        else {\r\n          await this.$store.dispatch(this.viewerModule + 'refreshData');\r\n        }\r\n        this.loading = false;\r\n      }\r\n      catch(err) {\r\n        console.log(err);\r\n        this.error = true;\r\n      }\r\n    },\r\n\r\n    async selectAnnotationHandler({index, annot, center=false}) {\r\n      try {\r\n        if (index && annot.image !== this.viewer.images[index].imageInstance.id) {\r\n          annot = await Annotation.fetch(annot.id);\r\n          let [image, slice] = await Promise.all([\r\n            ImageInstance.fetch(annot.image),\r\n            SliceInstance.fetch(annot.slice)\r\n          ]);\r\n          this.$store.commit(`${this.viewerModule}images/${index}/setRoutedAnnotation`, annot);\r\n          await this.$store.dispatch(`${this.viewerModule}images/${index}/setImageInstance`, {image, slice});\r\n        }\r\n        else if (index === null) {\r\n          annot = await Annotation.fetch(annot.id);\r\n          if (this.idImages.includes(String(annot.image))) {\r\n            let index = this.cells.find(cell => cell.image.id === annot.image).index;\r\n            this.$eventBus.$emit('selectAnnotation', {index, annot, center});\r\n          }\r\n          else {\r\n            let [image, slice] = await Promise.all([\r\n              ImageInstance.fetch(annot.image),\r\n              SliceInstance.fetch(annot.slice)\r\n            ]);\r\n            await this.$store.dispatch(this.viewerModule + 'addImage', {image, slice, annot});\r\n          }\r\n        }\r\n      }\r\n      catch(err) {\r\n        console.log(err);\r\n        this.error = true;\r\n      }\r\n    },\r\n\r\n    shortkeyEvent(event) {\r\n      this.$eventBus.$emit('shortkeyEvent', event.srcKey);\r\n    }\r\n  },\r\n  async created() {\r\n    this.findIdViewer();\r\n    await this.loadViewer();\r\n    this.reloadInterval = setInterval(\r\n      () => this.$eventBus.$emit('reloadAnnotations'),\r\n      constants.VIEWER_ANNOTATIONS_REFRESH_INTERVAL\r\n    );\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('selectAnnotation', this.selectAnnotationHandler);\r\n  },\r\n  beforeDestroy() {\r\n    this.$eventBus.$off('selectAnnotation', this.selectAnnotationHandler);\r\n    clearInterval(this.reloadInterval);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.cytomine-viewer {\r\n  height: 100%;\r\n}\r\n\r\n.maps-wrapper {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.map-cell {\r\n  border-top: 0.2em solid #222;\r\n  overflow: hidden;\r\n}\r\n\r\n.hidden {\r\n  display: none;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineViewer.vue?vue&type=template&id=2b45029e&scoped=true&\"\nimport script from \"./CytomineViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineViewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineViewer.vue?vue&type=style&index=0&id=2b45029e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b45029e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.permissionError || _vm.notFoundError)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t(_vm.permissionError ? 'access-denied' : 'not-found'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t(_vm.permissionError ? 'insufficient-permission' : 'not-found-error'))+\" \")])]):_c('div',{staticClass:\"project-container\"},[(!_vm.loading)?_c('project-sidebar',{key:_vm.idProject}):_vm._e(),_c('div',{staticClass:\"app-content\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('router-view'):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"sidebar\",staticClass:\"sidebar-wrapper\",class:{expanded: _vm.expanded}},[_c('nav',{staticClass:\"sidebar\",on:{\"click\":_vm.clickHandler}},[_c('h1',{staticClass:\"project-name\"},[_vm._v(_vm._s(`${_vm.$t('project')}: ${_vm.project.name}`))]),_c('ul',[(_vm.isTabDisplayed('images'))?[_c('router-link',{attrs:{\"tag\":\"li\",\"to\":`/project/${_vm.project.id}/images`}},[_c('a',[_c('i',{staticClass:\"far fa-images\"}),_vm._v(\" \"+_vm._s(_vm.$t('images'))+\" \")])])]:_vm._e(),(_vm.isTabDisplayed('annotations'))?_c('router-link',{attrs:{\"tag\":\"li\",\"to\":`/project/${_vm.project.id}/annotations`}},[_c('a',[_c('i',{staticClass:\"far fa-edit\"}),_vm._v(\" \"+_vm._s(_vm.$t('annotations'))+\" \")])]):_vm._e(),(_vm.isTabDisplayed('jobs') && _vm.algoEnabled)?_c('router-link',{attrs:{\"tag\":\"li\",\"to\":`/project/${_vm.project.id}/analysis`}},[_c('a',[_c('i',{staticClass:\"fas fa-tasks\"}),_vm._v(\" \"+_vm._s(_vm.$t('analysis'))+\" \")])]):_vm._e(),(_vm.isTabDisplayed('activities'))?_c('router-link',{attrs:{\"tag\":\"li\",\"to\":`/project/${_vm.project.id}/activity`}},[_c('a',[_c('i',{staticClass:\"fas fa-tachometer-alt\"}),_vm._v(\" \"+_vm._s(_vm.$t('activity'))+\" \")])]):_vm._e(),(_vm.isTabDisplayed('information'))?_c('router-link',{attrs:{\"tag\":\"li\",\"to\":`/project/${_vm.project.id}/information`}},[_c('a',[_c('i',{staticClass:\"fas fa-info-circle\"}),_vm._v(\" \"+_vm._s(_vm.$t('information'))+\" \")])]):_vm._e()],2),_c('ul',{staticClass:\"bottom-menu\"},[(_vm.isTabDisplayed('configuration'))?_c('router-link',{attrs:{\"tag\":\"li\",\"to\":`/project/${_vm.project.id}/configuration`}},[_c('a',[_c('i',{staticClass:\"fas fa-cogs\"}),_vm._v(\" \"+_vm._s(_vm.$t('configuration'))+\" \")])]):_vm._e()],1)]),_c('div',{staticClass:\"arrow-sidebar\",on:{\"click\":function($event){_vm.expanded = false}}},[_c('i')])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"sidebar-wrapper\" :class=\"{expanded: expanded}\" ref=\"sidebar\">\r\n  <nav class=\"sidebar\" @click=\"clickHandler\">\r\n    <h1 class=\"project-name\">{{`${$t('project')}: ${project.name}`}}</h1>\r\n    <ul>\r\n      <template v-if=\"isTabDisplayed('images')\">\r\n        <router-link tag=\"li\" :to=\"`/project/${project.id}/images`\">\r\n          <a>\r\n            <i class=\"far fa-images\"></i>\r\n            {{ $t('images') }}\r\n          </a>\r\n        </router-link>\r\n      </template>\r\n      <router-link v-if=\"isTabDisplayed('annotations')\" tag=\"li\" :to=\"`/project/${project.id}/annotations`\">\r\n        <a>\r\n          <i class=\"far fa-edit\"></i>\r\n          {{ $t('annotations') }}\r\n        </a>\r\n      </router-link>\r\n      <router-link  v-if=\"isTabDisplayed('jobs') && algoEnabled\" tag=\"li\" :to=\"`/project/${project.id}/analysis`\">\r\n        <a>\r\n          <i class=\"fas fa-tasks\"></i>\r\n          {{ $t('analysis') }}\r\n        </a>\r\n      </router-link>\r\n      <router-link v-if=\"isTabDisplayed('activities')\" tag=\"li\" :to=\"`/project/${project.id}/activity`\">\r\n        <a>\r\n          <i class=\"fas fa-tachometer-alt\"></i>\r\n          {{ $t('activity') }}\r\n        </a>\r\n      </router-link>\r\n      <router-link v-if=\"isTabDisplayed('information')\" tag=\"li\" :to=\"`/project/${project.id}/information`\">\r\n        <a>\r\n          <i class=\"fas fa-info-circle\"></i>\r\n          {{ $t('information') }}\r\n        </a>\r\n        </router-link>\r\n    </ul>\r\n    <ul class=\"bottom-menu\">\r\n      <router-link v-if=\"isTabDisplayed('configuration')\" tag=\"li\" :to=\"`/project/${project.id}/configuration`\">\r\n        <a>\r\n          <i class=\"fas fa-cogs\"></i>\r\n          {{ $t('configuration') }}\r\n        </a>\r\n      </router-link>\r\n    </ul>\r\n  </nav>\r\n\r\n  <div class=\"arrow-sidebar\" @click=\"expanded = false\">\r\n    <i></i>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get, sync} from '@/utils/store-helpers';\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'project-sidebar',\r\n  data(){\r\n    return {\r\n      algoEnabled: constants.ALGORITHMS_ENABLED\r\n    };\r\n  },\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    configUI: get('currentProject/configUI'),\r\n    expanded: sync('currentUser/expandedSidebar')\r\n  },\r\n  methods: {\r\n    clickHandler(event) {\r\n      let el = event.target;\r\n      if(!this.expanded && el.tagName !== 'I' && el.tagName !== 'A') { // if user clicked on icon, navigation purpose => do not expand the nav bar\r\n        this.expanded = true;\r\n      }\r\n    },\r\n    isTabDisplayed(tab) {\r\n      return this.configUI[`project-${tab}-tab`];\r\n    },\r\n    transitionEndHandler() { // led to a change of the size of the content div => need to reload OL map\r\n      this.$eventBus.$emit('updateMapSize');\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$refs.sidebar.addEventListener('transitionend', this.transitionEndHandler);\r\n  },\r\n  beforeDestroy() {\r\n    this.$refs.sidebar.removeEventListener('transitionend', this.transitionEndHandler);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n$background: #444;\r\n$activeBackground: #4f4f4f;\r\n$hoverBackground: #82aad8;\r\n$color: #ccc;\r\n$activeColor: #eee;\r\n$hoverColor: white;\r\n$arrowBackground: #484848;\r\n$border: #383838;\r\n$arrowColor: #888;\r\n\r\n.sidebar-wrapper {\r\n  display: flex;\r\n  height: 100%;\r\n  background: $background;\r\n  overflow: hidden;\r\n  transition: width .2s linear;\r\n  width: 4rem;\r\n}\r\n\r\n.sidebar-wrapper.expanded {\r\n  width:16rem;\r\n}\r\n\r\n.sidebar {\r\n  width: 16rem;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n}\r\n\r\n.project-name {\r\n  padding: 0.8em 0em 0.8em;\r\n  width: 14.5rem !important;\r\n  line-height: 1.8rem;\r\n  text-align: center;\r\n  color: $background;\r\n  font-size: 1rem;\r\n  margin: 0;\r\n  letter-spacing: 0.05em;\r\n  text-transform: uppercase;\r\n  text-align: center;\r\n  font-weight: 600;\r\n}\r\n\r\n.sidebar-wrapper.expanded .project-name {\r\n  color: $activeColor !important;\r\n}\r\n\r\nul {\r\n  width: 100%;\r\n}\r\n\r\nli {\r\n  height: 3.5rem;\r\n}\r\n\r\n.bottom-menu {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n}\r\n\r\na {\r\n  position: relative;\r\n  display: block;\r\n  font-size: 0.85rem;\r\n  height: 100%;\r\n  font-weight: 600;\r\n  color: $color;\r\n  text-decoration: none;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.fas, .far {\r\n  font-size: 1.25rem;\r\n  width: 4rem;\r\n  text-align: center;\r\n  flex-shrink: 0;\r\n}\r\n\r\nli a:hover {\r\n  color: $hoverColor;\r\n  background: $hoverBackground!important;\r\n}\r\n\r\nli.is-active a {\r\n  box-shadow: inset 5px 0 0 $hoverBackground;\r\n  color: $activeColor;\r\n  background: $activeBackground;\r\n}\r\n\r\n.arrow-sidebar {\r\n  width: 1.5rem;\r\n  border-left: 1px solid $border;\r\n  background: $arrowBackground;\r\n  justify-content: center;\r\n  display:flex;\r\n  align-items: center;\r\n}\r\n\r\n.arrow-sidebar i {\r\n  border: solid $arrowColor;\r\n  border-width: 0 2px 2px 0;\r\n  display: inline-block;\r\n  padding: 0.25rem;\r\n  transform: rotate(135deg);\r\n  margin-left: 0.25rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectSidebar.vue?vue&type=template&id=291f472f&scoped=true&\"\nimport script from \"./ProjectSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectSidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectSidebar.vue?vue&type=style&index=0&id=291f472f&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"291f472f\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state() {\r\n    return {\r\n      searchString: '',\r\n\r\n      filtersOpened: false,\r\n      filters: {\r\n        formats: null,\r\n        vendors: null,\r\n        selectedTags: null,\r\n        magnifications: null,\r\n        resolutions: null,\r\n        boundsWidth: null,\r\n        boundsHeight: null,\r\n        boundsUserAnnotations: null,\r\n        boundsJobAnnotations: null,\r\n        boundsReviewedAnnotations: null,\r\n        specificFormatFilters: null,\r\n      },\r\n\r\n      currentPage: 1,\r\n      perPage: 10,\r\n      sortField: null,\r\n      sortOrder: 'asc',\r\n      openedDetails: []\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setSearchString(state, searchString) {\r\n      state.searchString = searchString;\r\n    },\r\n\r\n    setFiltersOpened(state, value) {\r\n      state.filtersOpened = value;\r\n    },\r\n\r\n    setFilter(state, {filterName, propValue}) {\r\n      state.filters[filterName] = propValue;\r\n    },\r\n\r\n    setCurrentPage(state, page) {\r\n      state.currentPage = page;\r\n    },\r\n\r\n    setPerPage(state, perPage) {\r\n      state.perPage = perPage;\r\n    },\r\n\r\n    setSortField(state, field) {\r\n      state.sortField = field;\r\n    },\r\n\r\n    setSortOrder(state, order) {\r\n      state.sortOrder = order;\r\n    },\r\n\r\n    setOpenedDetails(state, value) {\r\n      state.openedDetails = value;\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    nbActiveFilters: state => {\r\n      return Object.values(state.filters).filter(val => val).length; // count the number of not null values\r\n    },\r\n\r\n    nbEmptyFilters: state => {\r\n      return Object.values(state.filters).filter(val => val && val.length === 0).length;\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport Vue from 'vue';\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state() {\r\n    return {\r\n      previewSize: null,\r\n      categorization: null,\r\n      perPage: 25,\r\n      outlineColor: null,\r\n\r\n      annotationType: null,\r\n      filters: {\r\n        members: null,\r\n        reviewers: null,\r\n        userJobs: null,\r\n        images: null,\r\n        termsIds: null,\r\n        tracksIds: null,\r\n        tags: null\r\n      },\r\n      fromDate: null,\r\n      toDate: null,\r\n\r\n      currentPages: {} // mapping of type {idProp: currentPage}\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setPreviewSize(state, size) {\r\n      state.previewSize = size;\r\n    },\r\n\r\n    setCategorization(state, categorization) {\r\n      state.categorization = categorization;\r\n    },\r\n\r\n    setPerPage(state, perPage) {\r\n      state.perPage = perPage;\r\n    },\r\n\r\n    setOutlineColor(state, color) {\r\n      state.outlineColor = color;\r\n    },\r\n\r\n    setAnnotationType(state, type) {\r\n      state.annotationType = type;\r\n    },\r\n\r\n    setFilter(state, {filterName, propValue}) {\r\n      state.filters[filterName] = propValue;\r\n    },\r\n\r\n    setFromDate(state, date) {\r\n      state.fromDate = date;\r\n    },\r\n\r\n    setToDate(state, date) {\r\n      state.toDate = date;\r\n    },\r\n\r\n    resetPagesAndFilters(state) {\r\n      for(let key in state.filters) {\r\n        state.filters[key] = null;\r\n      }\r\n      state.fromDate = null;\r\n      state.toDate = null;\r\n      state.currentPages = {};\r\n    },\r\n\r\n    setCurrentPage(state, {prop, page}) {\r\n      Vue.set(state.currentPages, prop, page);\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state() {\r\n    return {\r\n      filters: {\r\n        softwares: null,\r\n        launchers: null,\r\n        statuses: null,\r\n        favorites: null\r\n      },\r\n      executionDate: null,\r\n\r\n      currentPage: 1,\r\n      perPage: 10,\r\n      sortField: 'created',\r\n      sortOrder: 'desc',\r\n      openedDetails: []\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setFilter(state, {filterName, propValue}) {\r\n      state.filters[filterName] = propValue;\r\n    },\r\n\r\n    setExecutionDate(state, date) {\r\n      state.executionDate = date;\r\n    },\r\n\r\n    setCurrentPage(state, page) {\r\n      state.currentPage = page;\r\n    },\r\n\r\n    setPerPage(state, perPage) {\r\n      state.perPage = perPage;\r\n    },\r\n\r\n    setSortField(state, field) {\r\n      state.sortField = field;\r\n    },\r\n\r\n    setSortOrder(state, order) {\r\n      state.sortOrder = order;\r\n    },\r\n\r\n    setOpenedDetails(state, value) {\r\n      state.openedDetails = value;\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    nbActiveFilters: state => {\r\n      return Object.values(state.filters).filter(val => val).length; // count the number of not null values\r\n    },\r\n\r\n    nbEmptyFilters: state => {\r\n      return Object.values(state.filters).filter(val => val && val.length === 0).length;\r\n    }\r\n  }\r\n};\r\n","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport listImages from './project_modules/list-images.js';\r\nimport listAnnotations from './project_modules/list-annotations.js';\r\nimport listJobs from './project_modules/list-jobs.js';\r\n\r\nexport default {\r\n  namespaced: true,\r\n\r\n  state() {\r\n    return {\r\n      id: null,\r\n      name: null\r\n    };\r\n  },\r\n\r\n  mutations: {\r\n    setProject(state, project) {\r\n      state.id = project.id;\r\n      state.name = project.name;\r\n    },\r\n  },\r\n\r\n  modules: {\r\n    viewers: {\r\n      namespaced: true\r\n    },\r\n    listImages,\r\n    listAnnotations,\r\n    listJobs\r\n  }\r\n};\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div class=\"box error\" v-if=\"permissionError || notFoundError\">\r\n    <h2> {{ $t(permissionError ? 'access-denied' : 'not-found') }} </h2>\r\n    <p> {{ $t(permissionError ? 'insufficient-permission' : 'not-found-error') }} </p>\r\n  </div>\r\n  <div v-else class=\"project-container\">\r\n    <project-sidebar v-if=\"!loading\" :key=\"idProject\" />\r\n\r\n    <div class=\"app-content\">\r\n      <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n      <router-view v-if=\"!loading\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport ProjectSidebar from './ProjectSidebar.vue';\r\nimport projectModuleModel from '@/store/modules/project';\r\n\r\nexport default {\r\n  name: 'cytomine-project',\r\n  components: {ProjectSidebar},\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      permissionError: false,\r\n      notFoundError: false\r\n    };\r\n  },\r\n  computed: {\r\n    idProject() {\r\n      return this.$route.params.idProject;\r\n    },\r\n    project: get('currentProject/project'),\r\n    projectModule() {\r\n      return this.$store.state.projects[this.idProject];\r\n    }\r\n  },\r\n  watch: {\r\n    async idProject() {\r\n      this.loading = true;\r\n      await this.loadProject();\r\n    },\r\n    projectModule() {\r\n      if(!this.projectModule) {\r\n        console.log('Project closed from external source');\r\n        this.$store.commit('currentProject/resetState');\r\n        this.$router.push('/projects');\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async loadProject() {\r\n      try {\r\n        if(!this.$store.state.projects[this.idProject]) { // module does not exist yet\r\n          this.$store.registerModule(['projects', this.idProject], projectModuleModel);\r\n        }\r\n        await this.$store.dispatch('currentProject/loadProject', this.idProject);\r\n        this.loading = false;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        if(error.response && error.response.status === 403) {\r\n          this.permissionError = true;\r\n        }\r\n        else {\r\n          this.notFoundError = true;\r\n        }\r\n      }\r\n    },\r\n    deleteAnnotationEventHandler(annot) {\r\n      let updatedProject = this.$store.state.currentProject.project.clone();\r\n      if(annot.type === 'UserAnnotation') {\r\n        updatedProject.numberOfAnnotations--;\r\n      }\r\n      else {\r\n        updatedProject.numberOfReviewedAnnotations--;\r\n      }\r\n\r\n      this.$store.dispatch('currentProject/updateProject', updatedProject);\r\n    }\r\n  },\r\n  async created() {\r\n    await this.loadProject();\r\n  },\r\n  mounted() {\r\n    this.$eventBus.$on('deleteAnnotation', this.deleteAnnotationEventHandler);\r\n  },\r\n  beforeDestroy() {\r\n    this.$eventBus.$off('deleteAnnotation', this.deleteAnnotationEventHandler);\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.project-container {\r\n  display: flex;\r\n  height: 100%;\r\n  flex: 1;\r\n  background: #d4d4d4;\r\n  overflow-y: auto;\r\n  position: relative;\r\n}\r\n\r\n.app-content {\r\n  flex: 1;\r\n  position: relative;\r\n  overflow-y: auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProject.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProject.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineProject.vue?vue&type=template&id=56de602c&\"\nimport script from \"./CytomineProject.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineProject.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineProject.vue?vue&type=style&index=0&id=56de602c&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div')\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n\r\n<template>\r\n<div></div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nexport default {\r\n  computed: {\r\n    project: get('currentProject/project'),\r\n    configUI: get('currentProject/configUI')\r\n  },\r\n  created() {\r\n    if(this.configUI['project-images-tab']) {\r\n      this.$router.replace(`/project/${this.project.id}/images`);\r\n    }\r\n    else {\r\n      this.$router.replace(`/project/${this.project.id}/information`);\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectHome.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectHome.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectHome.vue?vue&type=template&id=37c44580&\"\nimport script from \"./ProjectHome.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectHome.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"user-activity-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('div',{staticClass:\"content-wrapper\"},[_c('nav',{staticClass:\"breadcrumb\",attrs:{\"aria-label\":\"breadcrumbs\"}},[_c('ul',[_c('li',[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}`}},[_vm._v(_vm._s(_vm.project.name))])],1),_c('li',[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}/activity?tab=members`}},[_vm._v(_vm._s(_vm.$t('members-activity')))])],1),_c('li',{staticClass:\"is-active\"},[_c('a',{attrs:{\"href\":\"#\",\"aria-current\":\"page\"}},[_vm._v(_vm._s(_vm.$t('activity-of-user', {username: _vm.user.fullName})))])])])]),_c('div',{staticClass:\"box\"},[(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('p',{staticClass:\"last-update is-size-7 has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('data-last-updated-on', {time: _vm.$options.filters.moment(_vm.lastUpdate, 'LTS')}))+\" \")]),_c('h1',[_vm._v(_vm._s(_vm.$t('activity-of-user', {username: _vm.user.fullName})))]),_c('ul',[(_vm.currentUser.adminByNow)?_c('li',[_c('strong',[_vm._v(_vm._s(_vm.$t('email'))+\":\")]),_vm._v(\" \"),_c('a',{attrs:{\"href\":`mailto:${_vm.user.email}`}},[_vm._v(_vm._s(_vm.user.email))])]):_vm._e(),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.$t('registration-date'))+\":\")]),_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.user.created),'ll LTS')))]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.$t('first-project-connection'))+\":\")]),_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.resumeActivity.firstConnection),'ll LTS')))]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.$t('last-project-connection'))+\":\")]),_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.resumeActivity.lastConnection),'ll LTS')))])]),_c('hr'),_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('project-connections')))]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.resumeActivity.totalConnections))])])]),_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('image-consultations')))]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.resumeActivity.totalConsultations))])])]),_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('annotation-selections')))]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.resumeActivity.totalAnnotationSelections))])])]),_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('annotation-creations')))]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.resumeActivity.totalAnnotations))])])])]),_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('detailed-project-connections')))]),_c('b-table',{attrs:{\"data\":_vm.connections.array,\"default-sort\":\"created\",\"default-sort-direction\":\"desc\",\"paginated\":true,\"per-page\":_vm.connectionsPerPage,\"pagination-size\":\"is-small\",\"detailed\":\"\",\"detail-key\":\"id\"},scopedSlots:_vm._u([{key:\"default\",fn:function({row: connection}){return [_c('b-table-column',{attrs:{\"label\":_vm.$t('date'),\"field\":\"created\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(connection.created),'ll LT'))+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('duration'),\"field\":\"time\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"duration\")(connection.time,'humanize'))+\" \"),(connection.online)?_c('span',{staticClass:\"tag is-success\"},[_vm._v(_vm._s(_vm.$t('ongoing')))]):_vm._e()]),_c('b-table-column',{attrs:{\"label\":_vm.$t('number-viewed-images'),\"field\":\"countViewedImages\",\"centered\":\"\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(connection.countViewedImages)+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('number-annotation-creations'),\"field\":\"countCreatedAnnotations\",\"centered\":\"\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(connection.countCreatedAnnotations)+\" \")])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-project-connection')))])])]},proxy:true},{key:\"detail\",fn:function({row: connection}){return [_c('project-connection-details',{key:connection.id,attrs:{\"connection\":connection}})]}},{key:\"footer\",fn:function(){return [_c('p',{staticClass:\"has-text-centered\"},[_c('a',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.downloadConnections(_vm.connections)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-export-as-csv'))+\" \")])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.connectionsPerPage),callback:function ($$v) {_vm.connectionsPerPage=$$v},expression:\"connectionsPerPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}],null,false,1062019546)}),_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('connections-chart')))]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-narrow\"},[_c('b-field',{attrs:{\"label\":_vm.$t('by'),\"horizontal\":\"\"}},[_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.period),callback:function ($$v) {_vm.period=$$v},expression:\"period\"}},[_c('option',{attrs:{\"value\":\"hour\"}},[_vm._v(_vm._s(_vm.$t('hour')))]),_c('option',{attrs:{\"value\":\"day\"}},[_vm._v(_vm._s(_vm.$t('day')))]),_c('option',{attrs:{\"value\":\"week\"}},[_vm._v(_vm._s(_vm.$t('week')))])])],1)],1),_c('div',{staticClass:\"column is-narrow\"},[_c('b-field',{attrs:{\"label\":_vm.$t('from'),\"horizontal\":\"\"}},[_c('cytomine-datepicker',{attrs:{\"resetButton\":false,\"maxDate\":_vm.endDate || new Date()},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}})],1)],1),_c('div',{staticClass:\"column is-narrow\"},[_c('b-field',{attrs:{\"label\":_vm.$t('to'),\"horizontal\":\"\"}},[_c('cytomine-datepicker',{attrs:{\"minDate\":_vm.startDate,\"maxDate\":new Date()},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1)],1)]),_c('div',{staticClass:\"chart-container\"},[_c('last-connections-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project.id,\"user\":_vm.idUser,\"period\":_vm.period,\"startDate\":_vm.startDate.getTime(),\"endDate\":_vm.endDate ? _vm.endDate.setHours(23, 59, 59, 999) : null,\"showDates\":true,\"revision\":_vm.chartRevision}})],1),_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('detailed-image-consultations')))]),_c('b-table',{attrs:{\"data\":_vm.consultations.array,\"paginated\":true,\"per-page\":_vm.consultationsPerPage,\"pagination-size\":\"is-small\"},scopedSlots:_vm._u([{key:\"default\",fn:function({row: consultation}){return [_c('b-table-column',{attrs:{\"label\":_vm.$t('overview'),\"field\":\"created\"}},[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}/image/${consultation.image}`}},[_c('image-thumbnail',{key:consultation.imageThumb,attrs:{\"url\":consultation.imageThumb,\"size\":128,\"extra-parameters\":{Authorization: 'Bearer ' + _vm.shortTermToken }}})],1)],1),_c('b-table-column',{attrs:{\"label\":_vm.$t('image'),\"field\":\"imageName\",\"sortable\":\"\"}},[_c('router-link',{attrs:{\"to\":`/project/${_vm.project.id}/image/${consultation.image}`}},[_vm._v(\" \"+_vm._s(consultation.imageName)+\" \")])],1),_c('b-table-column',{attrs:{\"label\":_vm.$t('duration'),\"field\":\"time\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"duration\")(consultation.time,'humanize'))+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('number-consultations'),\"field\":\"frequency\",\"centered\":\"\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(consultation.frequency)+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('first-consultation'),\"field\":\"first\",\"centered\":\"\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(consultation.first),'ll LT'))+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('last-consultation'),\"field\":\"last\",\"centered\":\"\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(consultation.last),'ll LT'))+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('number-annotation-creations'),\"field\":\"countCreatedAnnotations\",\"centered\":\"\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(consultation.countCreatedAnnotations)+\" \")])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-image-consultation')))])])]},proxy:true},{key:\"footer\",fn:function(){return [_c('p',{staticClass:\"has-text-centered\"},[_c('a',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.downloadConnections(_vm.consultations)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-export-as-csv'))+\" \")])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.consultationsPerPage),callback:function ($$v) {_vm.consultationsPerPage=$$v},expression:\"consultationsPerPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}],null,false,3460362066)})]],2)]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('table',{staticClass:\"table\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading},on:{\"update:active\":function($event){_vm.loading=$event}}}),(!_vm.loading)?_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('operating-system')))]),_c('td',[_vm._v(_vm._s(_vm.connection.os))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('browser')))]),_c('td',{staticClass:\"is-capitalized\"},[_vm._v(\" \"+_vm._s(_vm.connection.browser)+\" \"),(_vm.connection.browserVersion)?_c('span',[_vm._v(_vm._s(_vm.connection.browserVersion))]):_vm._e()])]),(_vm.consultations)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('image-consultations')))]),_c('td',[(_vm.consultations.length > 0)?_c('div',{staticClass:\"columns is-multiline\"},_vm._l((_vm.consultations),function(consultation){return _c('div',{key:consultation.id,staticClass:\"column\"},[_c('image-preview',{attrs:{\"image\":consultation,\"blindMode\":_vm.blindMode}},[_c('div',{staticClass:\"details\"},[_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t('duration'))+\":\")]),_vm._v(\" \"+_vm._s(_vm._f(\"duration\")(consultation.time,'humanize'))+\" \"),_c('br'),_c('strong',[_vm._v(_vm._s(_vm.$t('annotation-creations'))+\":\")]),_vm._v(\" \"+_vm._s(consultation.countCreatedAnnotations || 0)+\" \")])])])],1)}),0):_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-image-consultation')))])])]):_vm._e()]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<table class=\"table\">\r\n  <b-loading :is-full-page=\"false\" :active.sync=\"loading\" />\r\n  <tbody v-if=\"!loading\">\r\n    <tr>\r\n      <td>{{$t('operating-system')}}</td>\r\n      <td>{{connection.os}}</td>\r\n    </tr>\r\n    <tr>\r\n      <td>{{$t('browser')}}</td>\r\n      <td class=\"is-capitalized\">\r\n        {{connection.browser}} <span v-if=\"connection.browserVersion\">{{connection.browserVersion}}</span>\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"consultations\">\r\n      <td>{{$t('image-consultations')}}</td>\r\n      <td>\r\n        <div v-if=\"consultations.length > 0\" class=\"columns is-multiline\">\r\n          <div class=\"column\" v-for=\"consultation in consultations\" :key=\"consultation.id\">\r\n            <image-preview :image=\"consultation\" :blindMode=\"blindMode\">\r\n              <div class=\"details\">\r\n                <p>\r\n                  <strong>{{$t('duration')}}:</strong>\r\n                  {{ consultation.time | duration('humanize') }}\r\n                  <br>\r\n                  <strong>{{$t('annotation-creations')}}:</strong>\r\n                  {{consultation.countCreatedAnnotations || 0}}\r\n                </p>\r\n              </div>\r\n            </image-preview>\r\n          </div>\r\n        </div>\r\n        <em v-else class=\"has-text-grey\">{{$t('no-image-consultation')}}</em>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n</template>\r\n\r\n<script>\r\nimport {ImageConsultationCollection} from 'cytomine-client';\r\nimport ImagePreview from '@/components/image/ImagePreview';\r\n\r\nexport default {\r\n  name: 'project-connection-details',\r\n  components: {ImagePreview},\r\n  props: {\r\n    connection: Object\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      consultations: null\r\n    };\r\n  },\r\n  computed: {\r\n    blindMode() {\r\n      return this.$store.state.currentProject.project.blindMode;\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      this.consultations = (await ImageConsultationCollection.fetchAll({projectConnection: this.connection.id})).array;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.$notify({type: 'error', text: this.$t('error-failed-to-fetch-image-consultations')});\r\n    }\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n  background: none;\r\n  position: relative;\r\n}\r\n\r\ntd:first-child {\r\n  white-space: nowrap;\r\n  font-weight: 600;\r\n}\r\n\r\ntd:last-child {\r\n  width: 100%;\r\n}\r\n\r\n.column {\r\n  min-width: 18em;\r\n  max-width: 18em;\r\n}\r\n\r\n.details {\r\n  font-size: 0.85em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectConnectionDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectConnectionDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectConnectionDetails.vue?vue&type=template&id=9af9c308&scoped=true&\"\nimport script from \"./ProjectConnectionDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectConnectionDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectConnectionDetails.vue?vue&type=style&index=0&id=9af9c308&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9af9c308\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {Bar} from 'vue-chartjs';\r\nimport {ProjectConnectionCollection} from 'cytomine-client';\r\nimport moment from 'moment';\r\n\r\nexport default {\r\n  name: 'last-connections-chart',\r\n  extends: Bar,\r\n  props: {\r\n    startDate: Number,\r\n    endDate: Number,\r\n    period: String,\r\n    project: Number,\r\n    user: Number,\r\n    showDates: {type: Boolean, default: false},\r\n    revision: Number\r\n  },\r\n  data() {\r\n    return {\r\n      chartData: null,\r\n      projectConnections: null\r\n    };\r\n  },\r\n  computed: {\r\n    locale() {\r\n      return this.$i18n.locale;\r\n    },\r\n    queryParams() {\r\n      this.revision; // update of revision value will trigger re-evaluation of queryParams => new object => fetch data\r\n      return {\r\n        afterThan: this.startDate,\r\n        beforeThan: this.endDate,\r\n        period: this.period,\r\n        user: this.user,\r\n        project: this.project\r\n      };\r\n    },\r\n    momentPeriod() {\r\n      return this.period + 's';\r\n    }\r\n  },\r\n  watch: {\r\n    async queryParams() {\r\n      await this.fetchData();\r\n      this.updateChart();\r\n    },\r\n    locale() {\r\n      this.updateLabels();\r\n      this.updateChart();\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchData() {\r\n      let connections = (await ProjectConnectionCollection.fetchConnectionsFrequency(this.queryParams)).sort();\r\n      connections.sort((a, b) => Number(a.time) < Number(b.time) ? -1 : 1);\r\n\r\n      let allConnections = [];\r\n      let iterMoment = moment(this.startDate);\r\n      let lastMoment = this.endDate ? moment(this.endDate) : moment();\r\n      let indexConnection = 0;\r\n      while(iterMoment.isBefore(lastMoment)) {\r\n        if(connections[indexConnection] && iterMoment.isSame(Number(connections[indexConnection].time), this.period)) {\r\n          allConnections.push(connections[indexConnection]);\r\n          indexConnection++;\r\n        }\r\n        else {\r\n          allConnections.push({time: iterMoment.valueOf(), frequency: 0});\r\n        }\r\n        iterMoment.add(1, this.momentPeriod);\r\n      }\r\n      this.projectConnections = allConnections;\r\n      this.chartData.datasets[0].data = this.projectConnections.map(item => item.frequency);\r\n      this.updateLabels();\r\n    },\r\n    updateLabels() {\r\n      this.chartData.labels = this.projectConnections.map(item => {\r\n        let time = Number(item.time);\r\n        switch(this.period) {\r\n          case 'hour':\r\n            return moment(time).format(this.showDates ? 'll LT' : 'LT') + ' - ' + moment(time).add(1, 'hours').format('LT');\r\n          case 'day':\r\n            return moment(time).format(this.showDates ? 'll' : 'dddd');\r\n          case 'week':\r\n            return moment(time).format('ll') + ' - ' + moment.min(moment(), moment(time).endOf('week')).format('ll');\r\n        }\r\n      });\r\n    },\r\n    async updateChart() {\r\n      this.$data._chart.update();\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.chartData = {\r\n      labels: [],\r\n      datasets: [\r\n        {\r\n          label: this.$t('project-connections'),\r\n          data: [],\r\n          backgroundColor: '#4480c4',\r\n          borderWidth: 0\r\n        }\r\n      ]\r\n    };\r\n\r\n    await this.fetchData();\r\n\r\n    this.renderChart(this.chartData, {\r\n      maintainAspectRatio: false,\r\n      legend: {display: false},\r\n      scales: {\r\n        yAxes: [{\r\n          ticks: {\r\n            min: 0,\r\n          }\r\n        }],\r\n        xAxes: [{\r\n          categoryPercentage: 0.6,\r\n          gridLines: {\r\n            display: false\r\n          }\r\n        }]\r\n      }\r\n    });\r\n  }\r\n};\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"user-activity-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <div class=\"content-wrapper\" v-if=\"!loading\">\r\n    <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\r\n      <ul>\r\n        <li><router-link :to=\"`/project/${project.id}`\">{{project.name}}</router-link></li>\r\n        <li><router-link :to=\"`/project/${project.id}/activity?tab=members`\">{{$t('members-activity')}}</router-link></li>\r\n        <li class=\"is-active\"><a href=\"#\" aria-current=\"page\">{{$t('activity-of-user', {username: user.fullName})}}</a></li>\r\n      </ul>\r\n    </nav>\r\n\r\n    <div class=\"box\">\r\n      <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n        <h2> {{ $t('error') }} </h2>\r\n        <p> {{ $t('unexpected-error-info-message') }} </p>\r\n      </b-message>\r\n\r\n      <template v-else>\r\n        <p class=\"last-update is-size-7 has-text-grey\">\r\n          {{$t('data-last-updated-on', {time: $options.filters.moment(lastUpdate, 'LTS')})}}\r\n        </p>\r\n\r\n        <h1>{{$t('activity-of-user', {username: user.fullName})}}</h1>\r\n\r\n        <ul>\r\n          <li v-if=\"currentUser.adminByNow\">\r\n            <strong>{{$t('email')}}:</strong>&nbsp;<a :href=\"`mailto:${user.email}`\">{{user.email}}</a>\r\n          </li>\r\n          <li><strong>{{$t('registration-date')}}:</strong> {{Number(user.created) | moment('ll LTS')}}</li>\r\n          <li><strong>{{$t('first-project-connection')}}:</strong> {{Number(resumeActivity.firstConnection) | moment('ll LTS')}}</li>\r\n          <li><strong>{{$t('last-project-connection')}}:</strong> {{Number(resumeActivity.lastConnection) | moment('ll LTS')}}</li>\r\n        </ul>\r\n\r\n        <hr>\r\n\r\n        <div class=\"level\">\r\n          <div class=\"level-item has-text-centered\">\r\n            <div>\r\n              <p class=\"heading\">{{$t('project-connections')}}</p>\r\n              <p class=\"title\">{{resumeActivity.totalConnections}}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"level-item has-text-centered\">\r\n            <div>\r\n              <p class=\"heading\">{{$t('image-consultations')}}</p>\r\n              <p class=\"title\">{{resumeActivity.totalConsultations}}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"level-item has-text-centered\">\r\n            <div>\r\n              <p class=\"heading\">{{$t('annotation-selections')}}</p>\r\n              <p class=\"title\">{{resumeActivity.totalAnnotationSelections}}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"level-item has-text-centered\">\r\n            <div>\r\n              <p class=\"heading\">{{$t('annotation-creations')}}</p>\r\n              <p class=\"title\">{{resumeActivity.totalAnnotations}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <hr>\r\n\r\n        <h2>{{$t('detailed-project-connections')}}</h2>\r\n\r\n        <b-table\r\n          :data=\"connections.array\"\r\n          default-sort=\"created\"\r\n          default-sort-direction=\"desc\"\r\n          :paginated=\"true\"\r\n          :per-page=\"connectionsPerPage\"\r\n          pagination-size=\"is-small\"\r\n          detailed detail-key=\"id\"\r\n        >\r\n          <template #default=\"{row: connection}\">\r\n            <b-table-column :label=\"$t('date')\" field=\"created\" sortable>\r\n              {{ Number(connection.created) | moment('ll LT') }}\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('duration')\" field=\"time\" sortable>\r\n              {{ connection.time | duration('humanize') }}\r\n              <span class=\"tag is-success\" v-if=\"connection.online\">{{$t('ongoing')}}</span>\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('number-viewed-images')\" field=\"countViewedImages\" centered sortable>\r\n              {{ connection.countViewedImages }}\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('number-annotation-creations')\" field=\"countCreatedAnnotations\" centered sortable>\r\n              {{ connection.countCreatedAnnotations }}\r\n            </b-table-column>\r\n          </template>\r\n\r\n          <template #empty>\r\n            <div class=\"content has-text-grey has-text-centered\">\r\n              <p>{{$t('no-project-connection')}}</p>\r\n            </div>\r\n          </template>\r\n\r\n          <template #detail=\"{row: connection}\">\r\n            <project-connection-details :connection=\"connection\" :key=\"connection.id\" />\r\n          </template>\r\n\r\n          <template #footer>\r\n            <p class=\"has-text-centered\">\r\n              <a class=\"button is-link\" @click=\"downloadConnections(connections)\">\r\n                {{$t('button-export-as-csv')}}\r\n              </a>\r\n            </p>\r\n          </template>\r\n\r\n          <template #bottom-left>\r\n            <b-select v-model=\"connectionsPerPage\" size=\"is-small\">\r\n              <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n              <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n              <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n              <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n            </b-select>\r\n          </template>\r\n        </b-table>\r\n\r\n        <hr>\r\n\r\n        <h2>{{$t('connections-chart')}}</h2>\r\n\r\n        <div class=\"columns\">\r\n          <div class=\"column is-narrow\">\r\n            <b-field :label=\"$t('by')\" horizontal>\r\n              <b-select size=\"is-small\" v-model=\"period\">\r\n                <option value=\"hour\">{{$t('hour')}}</option>\r\n                <option value=\"day\">{{$t('day')}}</option>\r\n                <option value=\"week\">{{$t('week')}}</option>\r\n              </b-select>\r\n            </b-field>\r\n          </div>\r\n          <div class=\"column is-narrow\">\r\n            <b-field :label=\"$t('from')\" horizontal>\r\n              <cytomine-datepicker v-model=\"startDate\" :resetButton=\"false\" :maxDate=\"endDate || new Date()\" />\r\n            </b-field>\r\n          </div>\r\n          <div class=\"column is-narrow\">\r\n            <b-field :label=\"$t('to')\" horizontal>\r\n              <cytomine-datepicker v-model=\"endDate\" :minDate=\"startDate\" :maxDate=\"new Date()\" />\r\n            </b-field>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"chart-container\">\r\n          <last-connections-chart\r\n            css-classes=\"chart\"\r\n            :project=\"project.id\"\r\n            :user=\"idUser\"\r\n            :period=\"period\"\r\n            :startDate=\"startDate.getTime()\"\r\n            :endDate=\"endDate ? endDate.setHours(23, 59, 59, 999) : null\"\r\n            :showDates=\"true\"\r\n            :revision=\"chartRevision\"\r\n          />\r\n        </div>\r\n\r\n        <hr>\r\n\r\n        <h2>{{$t('detailed-image-consultations')}}</h2>\r\n\r\n        <b-table :data=\"consultations.array\" :paginated=\"true\" :per-page=\"consultationsPerPage\" pagination-size=\"is-small\">\r\n          <template #default=\"{row: consultation}\">\r\n            <b-table-column :label=\"$t('overview')\" field=\"created\">\r\n              <router-link :to=\"`/project/${project.id}/image/${consultation.image}`\">\r\n                <image-thumbnail :url=\"consultation.imageThumb\" :size=\"128\" :key=\"consultation.imageThumb\" :extra-parameters=\"{Authorization: 'Bearer ' + shortTermToken }\"/>\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('image')\" field=\"imageName\" sortable>\r\n              <router-link :to=\"`/project/${project.id}/image/${consultation.image}`\">\r\n                {{ consultation.imageName }}\r\n              </router-link>\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('duration')\" field=\"time\" sortable>\r\n              {{ consultation.time | duration('humanize') }}\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('number-consultations')\" field=\"frequency\" centered sortable>\r\n              {{ consultation.frequency }}\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('first-consultation')\" field=\"first\" centered sortable>\r\n              {{ Number(consultation.first) | moment('ll LT')}}\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('last-consultation')\" field=\"last\" centered sortable>\r\n              {{ Number(consultation.last) | moment('ll LT')}}\r\n            </b-table-column>\r\n\r\n            <b-table-column :label=\"$t('number-annotation-creations')\" field=\"countCreatedAnnotations\" centered sortable>\r\n              {{ consultation.countCreatedAnnotations }}\r\n            </b-table-column>\r\n          </template>\r\n\r\n          <template #empty>\r\n            <div class=\"content has-text-grey has-text-centered\">\r\n              <p>{{$t('no-image-consultation')}}</p>\r\n            </div>\r\n          </template>\r\n\r\n          <template #footer>\r\n            <p class=\"has-text-centered\">\r\n              <a class=\"button is-link\" @click=\"downloadConnections(consultations)\">\r\n                {{$t('button-export-as-csv')}}\r\n              </a>\r\n            </p>\r\n          </template>\r\n\r\n          <template #bottom-left>\r\n            <b-select v-model=\"consultationsPerPage\" size=\"is-small\">\r\n              <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n              <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n              <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n              <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n            </b-select>\r\n          </template>\r\n        </b-table>\r\n      </template>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {fullName} from '@/utils/user-utils.js';\r\nimport {User, ProjectConnectionCollection, ImageConsultationCollection} from 'cytomine-client';\r\n\r\nimport CytomineDatepicker from '@/components/form/CytomineDatepicker';\r\nimport ProjectConnectionDetails from '@/components/project/ProjectConnectionDetails';\r\nimport LastConnectionsChart from '@/components/charts/LastConnectionsChart.js';\r\n\r\nimport constants from '@/utils/constants.js';\r\n\r\nimport moment from 'moment';\r\nimport ImageThumbnail from '@/components/image/ImageThumbnail';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\n\r\n\r\nexport default {\r\n  name: 'member-activity-details',\r\n  components: {\r\n    ImageThumbnail,\r\n    CytomineDatepicker,\r\n    ProjectConnectionDetails,\r\n    LastConnectionsChart\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n      user: null,\r\n      resumeActivity: null,\r\n\r\n      connections: null,\r\n      connectionsPerPage: 10,\r\n\r\n      consultations: null,\r\n      consultationsPerPage: 10,\r\n\r\n      lastUpdate: null,\r\n      timeout: null,\r\n\r\n      chartRevision: 0,\r\n      period: 'day',\r\n      startDate: moment().subtract(1, 'month').toDate(),\r\n      endDate: null\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    idUser() {\r\n      return Number(this.$route.params.idUser);\r\n    },\r\n    project: get('currentProject/project'),\r\n    shortTermToken: get('currentUser/shortTermToken')\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    async fetchData() {\r\n      try {\r\n        await Promise.all([\r\n          this.fetchUser(),\r\n          this.fetchResumeActivity(),\r\n          this.fetchConnections(),\r\n          this.fetchConsultations()\r\n        ]);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n        return;\r\n      }\r\n\r\n      this.chartRevision++;\r\n      this.lastUpdate = new Date();\r\n      clearTimeout(this.timeout);\r\n      this.timeout = setTimeout(this.fetchData, constants.MEMBERS_ACTIVITY_REFRESH_INTERVAL);\r\n    },\r\n    async fetchUser() {\r\n      await this.user.fetch();\r\n      this.user.fullName = fullName(this.user);\r\n    },\r\n    async fetchResumeActivity() {\r\n      this.resumeActivity = await this.user.fetchResumeActivity(this.project.id);\r\n    },\r\n    async fetchConnections() {\r\n      this.connections = await ProjectConnectionCollection.fetchAll({project: this.project.id, user: this.idUser});\r\n    },\r\n    async fetchConsultations() {\r\n      this.consultations = await ImageConsultationCollection.fetchAll({project: this.project.id, user: this.idUser, resume: true});\r\n    },\r\n    downloadConnections(connections) {\r\n      window.location.assign(appendShortTermToken(connections.downloadURL, this.shortTermToken), '_blank');\r\n    }\r\n  },\r\n  async created() {\r\n    this.user = new User({id: this.idUser});\r\n    await this.fetchData();\r\n    this.loading = false;\r\n  },\r\n  destroyed() {\r\n    clearTimeout(this.timeout);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  text-transform: initial;\r\n  letter-spacing: initial;\r\n  font-weight: 400;\r\n  font-size: 1.8rem;\r\n  margin-bottom: 0.7rem;\r\n}\r\n\r\nli {\r\n  margin-bottom: 0.5em;\r\n}\r\n\r\n.image-thumbnail {\r\n  max-height: 4rem;\r\n  max-width: 10rem;\r\n}\r\n\r\n.box {\r\n  position: relative;\r\n}\r\n\r\n.last-update {\r\n  position: absolute;\r\n  top: 1.5em;\r\n  right: 2em;\r\n}\r\n\r\n.tag {\r\n  margin-left: 0.5em;\r\n}\r\n\r\n.chart-container {\r\n  margin-top: 2em;\r\n  height: 18em;\r\n  position: relative;\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n.user-activity-wrapper {\r\n  .table-wrapper {\r\n    margin-bottom: 0;\r\n  }\r\n\r\n  .chart {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  .field.is-horizontal {\r\n    align-items: center;\r\n  }\r\n\r\n  .field-label {\r\n    margin-right: 1em !important;\r\n    padding-top: 0 !important;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberActivityDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberActivityDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MemberActivityDetails.vue?vue&type=template&id=3009d81c&scoped=true&\"\nimport script from \"./MemberActivityDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./MemberActivityDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MemberActivityDetails.vue?vue&type=style&index=0&id=3009d81c&prod&scoped=true&lang=css&\"\nimport style1 from \"./MemberActivityDetails.vue?vue&type=style&index=1&id=3009d81c&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3009d81c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.currentUser.adminByNow)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):_c('div',{staticClass:\"content-wrapper\"},[_c('b-field',{staticClass:\"radio-buttons-fullwidth\"},[_c('b-radio-button',{attrs:{\"native-value\":\"dashboard\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('dashboard'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"users\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('users'))+\" \")]),_c('b-radio-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.algoEnabled),expression:\"algoEnabled\"}],attrs:{\"native-value\":\"trusted-sources\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('trusted-sources'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"tags\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('tags'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"configuration\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('configuration'))+\" \")])],1),_c('div',{staticClass:\"box\"},[_c('keep-alive',[_c(_vm.activeComponent,{tag:\"component\"})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"admin-dashboard-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[_c('h2',[_vm._v(_vm._s(_vm.$t('currently')))]),(!_vm.currentStats)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('failed-fetch-current-stats'))+\" \")]):[_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('online-users')))]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.currentStats.users))])])]),_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('active-projects')))]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.currentStats.projects))])])]),_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('used-storage-space')))]),_c('p',{staticClass:\"title\"},[(_vm.storageStats)?[_vm._v(_vm._s(Math.round(_vm.storageStats.usedP * 100))+\"%\")]:[_vm._v(\"?\")]],2)])])]),(_vm.currentStats.mostActiveProject)?_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t('most-active-project')))]),_vm._v(\": \"),_c('router-link',{attrs:{\"to\":`/project/${_vm.currentStats.mostActiveProject.project.id}`}},[_vm._v(\" \"+_vm._s(_vm.currentStats.mostActiveProject.project.name)+\" \")]),_vm._v(\" (\"+_vm._s(_vm.$tc(\"count-active-users\", _vm.currentStats.mostActiveProject.users, {count: _vm.currentStats.mostActiveProject.users}))+\") \")],1):_vm._e()],_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('total')))]),(!_vm.totalCounts)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('failed-fetch-total-counts'))+\" \")]):_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('table',{staticClass:\"table is-fullwidth\"},[_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.users))]),_c('td',[_vm._v(_vm._s(_vm.$t('users')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.projects))]),_c('td',[_vm._v(_vm._s(_vm.$t('projects')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.images))]),_c('td',[_vm._v(_vm._s(_vm.$t('images-in-projects')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.abstractImages))]),_c('td',[_vm._v(_vm._s(_vm.$t('uploaded-images')))])])])])]),_c('div',{staticClass:\"column\"},[_c('table',{staticClass:\"table is-fullwidth\"},[_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.ontologies))]),_c('td',[_vm._v(_vm._s(_vm.$t('ontologies')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.terms))]),_c('td',[_vm._v(_vm._s(_vm.$t('terms')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.userAnnotations))]),_c('td',[_vm._v(_vm._s(_vm.$t('user-annotations')))])]),_c('tr')])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.algoEnabled),expression:\"algoEnabled\"}],staticClass:\"column\"},[_c('table',{staticClass:\"table is-fullwidth\"},[_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.softwares))]),_c('td',[_vm._v(_vm._s(_vm.$t('algorithms')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.jobs))]),_c('td',[_vm._v(_vm._s(_vm.$t('analyses')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.jobAnnotations))]),_c('td',[_vm._v(_vm._s(_vm.$t('analysis-annotations')))])]),_c('tr')])])])]),_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('last-connections')))]),_c('div',{staticClass:\"is-flex\"},[_c('strong',{staticClass:\"has-margin-right\"},[_vm._v(_vm._s(_vm.$t('period')))]),_c('b-select',{model:{value:(_vm.selectedChartOption),callback:function ($$v) {_vm.selectedChartOption=$$v},expression:\"selectedChartOption\"}},_vm._l((_vm.chartOptions),function(option){return _c('option',{key:option.label,domProps:{\"value\":option}},[_vm._v(\" \"+_vm._s(option.label)+\" \")])}),0)],1),_c('div',{staticClass:\"chart-container\"},[_c('last-connections-chart',{attrs:{\"css-classes\":\"chart\",\"startDate\":_vm.selectedChartOption.startDate,\"period\":_vm.selectedChartOption.period}})],1)]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"admin-dashboard-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <template v-if=\"!loading\">\r\n    <h2>{{$t('currently')}}</h2>\r\n    <b-message v-if=\"!currentStats\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n      {{$t('failed-fetch-current-stats')}}\r\n    </b-message>\r\n    <template v-else>\r\n      <div class=\"level\">\r\n        <div class=\"level-item has-text-centered\">\r\n          <div>\r\n          <p class=\"heading\">{{$t('online-users')}}</p>\r\n          <p class=\"title\">{{currentStats.users}}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"level-item has-text-centered\">\r\n          <div>\r\n          <p class=\"heading\">{{$t('active-projects')}}</p>\r\n          <p class=\"title\">{{currentStats.projects}}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"level-item has-text-centered\">\r\n          <div>\r\n          <p class=\"heading\">{{$t('used-storage-space')}}</p>\r\n          <p class=\"title\">\r\n            <template v-if=\"storageStats\">{{Math.round(storageStats.usedP * 100)}}%</template>\r\n            <template v-else>?</template>\r\n          </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <p v-if=\"currentStats.mostActiveProject\">\r\n        <strong>{{$t('most-active-project')}}</strong>:\r\n        <router-link :to=\"`/project/${currentStats.mostActiveProject.project.id}`\">\r\n          {{currentStats.mostActiveProject.project.name}}\r\n        </router-link>\r\n        ({{$tc(\"count-active-users\", currentStats.mostActiveProject.users, {count: currentStats.mostActiveProject.users})}})\r\n      </p>\r\n    </template>\r\n\r\n    <hr>\r\n\r\n    <h2>{{$t('total')}}</h2>\r\n    <b-message v-if=\"!totalCounts\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n      {{$t('failed-fetch-total-counts')}}\r\n    </b-message>\r\n    <div v-else class=\"columns\">\r\n      <div class=\"column\">\r\n        <table class=\"table is-fullwidth\">\r\n          <tbody>\r\n            <tr>\r\n              <td>{{totalCounts.users}}</td>\r\n              <td>{{$t('users')}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>{{totalCounts.projects}}</td>\r\n              <td>{{$t('projects')}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>{{totalCounts.images}}</td>\r\n              <td>{{$t('images-in-projects')}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>{{totalCounts.abstractImages}}</td>\r\n              <td>{{$t('uploaded-images')}}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div class=\"column\">\r\n        <table class=\"table is-fullwidth\">\r\n          <tbody>\r\n            <tr>\r\n              <td>{{totalCounts.ontologies}}</td>\r\n              <td>{{$t('ontologies')}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>{{totalCounts.terms}}</td>\r\n              <td>{{$t('terms')}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>{{totalCounts.userAnnotations}}</td>\r\n              <td>{{$t('user-annotations')}}</td>\r\n            </tr>\r\n            <tr>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div class=\"column\" v-show=\"algoEnabled\">\r\n        <table class=\"table is-fullwidth\">\r\n          <tbody>\r\n            <tr>\r\n              <td>{{totalCounts.softwares}}</td>\r\n              <td>{{$t('algorithms')}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>{{totalCounts.jobs}}</td>\r\n              <td>{{$t('analyses')}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>{{totalCounts.jobAnnotations}}</td>\r\n              <td>{{$t('analysis-annotations')}}</td>\r\n            </tr>\r\n            <tr>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n\r\n    <hr>\r\n    <h2>{{$t('last-connections')}}</h2>\r\n\r\n    <div class=\"is-flex\">\r\n      <strong class=\"has-margin-right\">{{$t('period')}}</strong>\r\n      <b-select v-model=\"selectedChartOption\">\r\n        <option v-for=\"option in chartOptions\" :key=\"option.label\" :value=\"option\">\r\n          {{option.label}}\r\n        </option>\r\n      </b-select>\r\n    </div>\r\n\r\n    <div class=\"chart-container\">\r\n      <last-connections-chart\r\n        css-classes=\"chart\"\r\n        :startDate=\"selectedChartOption.startDate\"\r\n        :period=\"selectedChartOption.period\"\r\n      />\r\n    </div>\r\n\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport constants from '@/utils/constants.js';\r\nimport {Cytomine} from 'cytomine-client';\r\nimport LastConnectionsChart from '@/components/charts/LastConnectionsChart.js';\r\nimport moment from 'moment';\r\n\r\nexport default {\r\n  name: 'admin-dashboard',\r\n  components: {LastConnectionsChart},\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      currentStats: null,\r\n      totalCounts: null,\r\n      storageStats: null,\r\n      chartOptions: [],\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      selectedChartOption: null\r\n    };\r\n  },\r\n  methods: {\r\n    async fetchCurrentStats() {\r\n      this.currentStats = null; // reset to null so that we know if an error occurred (if so, variable remains null)\r\n      this.currentStats = await Cytomine.instance.fetchCurrentStats();\r\n    },\r\n    async fetchTotalCounts() {\r\n      this.totalCounts = null;\r\n      this.totalCounts = await Cytomine.instance.fetchTotalCounts();\r\n    },\r\n    async fetchStorageStats() {\r\n      this.storageStats = null;\r\n      this.storageStats = await Cytomine.instance.fetchStorageStats();\r\n    }\r\n  },\r\n  created() {\r\n    let chartOptions = [\r\n      {interval: 'day', period: 'hour'},\r\n      {interval: 'week', period: 'day'},\r\n      {interval: 'month', period: 'week'},\r\n      {interval: 'year', period: 'week'}\r\n    ];\r\n    this.chartOptions = chartOptions.map(option => {\r\n      let startDate = moment()\r\n        .add(1, option.period + 's')\r\n        .subtract(1, option.interval + 's')\r\n        .startOf(option.period)\r\n        .valueOf();\r\n      return {label: this.$t(`last-${option.interval}`), period: option.period, startDate};\r\n    });\r\n    this.selectedChartOption = this.chartOptions[0];\r\n  },\r\n  async activated() {\r\n    this.loading = true;\r\n    await Promise.all([\r\n      this.fetchCurrentStats(),\r\n      this.fetchTotalCounts(),\r\n      this.fetchStorageStats()\r\n    ].map(p => p.catch(e => console.log(e)))); // ignore errors (handled in template) and ensure all promises finish, even if some errors occur in the process\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.admin-dashboard-wrapper {\r\n  position: relative;\r\n  min-height: 10em;\r\n}\r\n\r\ntd:first-child {\r\n  font-weight: 600;\r\n  text-align: right;\r\n  padding-right: 1em;\r\n}\r\n\r\n.is-flex {\r\n  align-items: center;\r\n}\r\n\r\n.has-margin-right {\r\n  margin-right: 1em;\r\n}\r\n\r\n.chart-container {\r\n  margin-top: 2em;\r\n  height: 20em;\r\n  position: relative;\r\n}\r\n\r\n>>> .chart {\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminDashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminDashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminDashboard.vue?vue&type=template&id=2eaa6ab8&scoped=true&\"\nimport script from \"./AdminDashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminDashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminDashboard.vue?vue&type=style&index=0&id=2eaa6ab8&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2eaa6ab8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('div',{staticClass:\"column is-one-half has-text-right-desktop\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.startUserCreation()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-new-user'))+\" \")])])]),_c('cytomine-table',{attrs:{\"collection\":_vm.userCollection,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"detailed\":true,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function({row: user}){return [_c('b-table-column',{attrs:{\"field\":\"username\",\"label\":_vm.$t('username'),\"sortable\":\"\",\"width\":\"100\"}},[_vm._v(\" \"+_vm._s(user.username)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"fullName\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(user.firstname)+\" \"+_vm._s(user.lastname)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"role\",\"label\":_vm.$t('role'),\"sortable\":\"\",\"width\":\"50\"}},[_c('span',{staticClass:\"tag\",class:_vm.getRoleData(user).class},[_vm._v(_vm._s(_vm.$t(_vm.getRoleData(user).label)))])]),_c('b-table-column',{attrs:{\"field\":\"email\",\"label\":_vm.$t('email'),\"sortable\":\"\",\"width\":\"150\"}},[_c('a',{attrs:{\"href\":`mailto:${user.email}`}},[_vm._v(_vm._s(user.email))])]),_c('b-table-column',{attrs:{\"field\":\"origin\",\"label\":_vm.$t('source'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"50\"}},[_c('span',{class:['tag', user.LDAP ? 'is-link' : 'is-grey']},[_vm._v(\" \"+_vm._s(_vm.displayMemberOrigin(user))+\" \")])]),_c('b-table-column',{attrs:{\"field\":\"created\",\"label\":_vm.$t('created'),\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(user.created),'ll LT'))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"updated\",\"label\":_vm.$t('updated'),\"sortable\":\"\",\"width\":\"150\"}},[(user.updated)?[_vm._v(_vm._s(_vm._f(\"moment\")(Number(user.updated),'ll LT')))]:[_vm._v(\"-\")]],2),_c('b-table-column',{attrs:{\"label\":\"\",\"width\":\"100\"}},[_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button is-link is-small\",on:{\"click\":function($event){return _vm.startUserEdition(user)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-edit'))+\" \")]),(user.enabled)?_c('button',{staticClass:\"button is-danger is-small\",on:{\"click\":function($event){return _vm.lock(user)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-lock'))+\" \")]):_c('button',{staticClass:\"button is-success is-small\",on:{\"click\":function($event){return _vm.unlock(user)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-unlock'))+\" \")])])])]}},{key:\"detail\",fn:function({row: user}){return [_c('user-details',{attrs:{\"user\":user}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-user-fitting-criteria')))])])]},proxy:true}],null,false,1975094862)}),_c('user-modal',{attrs:{\"active\":_vm.modal,\"user\":_vm.editedUser},on:{\"update:active\":function($event){_vm.modal=$event},\"addUser\":_vm.refreshUsers,\"updateUser\":_vm.updateUser}})]]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.title},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any() || !_vm.isAdminConfirmed()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('input',{staticClass:\"hidden\",attrs:{\"id\":\"username\",\"type\":\"text\"}}),_c('input',{staticClass:\"hidden\",attrs:{\"id\":\"password\",\"type\":\"password\"}}),_c('b-field',{key:'username',attrs:{\"label\":_vm.$t('username'),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has('username')},\"message\":_vm.errors.first('username')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":'username',\"type\":'text',\"disabled\":_vm.internalUser.id},model:{value:(_vm.internalUser['username']),callback:function ($$v) {_vm.$set(_vm.internalUser, 'username', $$v)},expression:\"internalUser['username']\"}})],1),_vm._l((_vm.editableFields),function({field, validationRules}){return _c('b-field',{key:field,attrs:{\"label\":_vm.$t(field === 'password' && _vm.editionMode ? 'password-new' : field),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has(field)},\"message\":_vm.errors.first(field)}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(validationRules),expression:\"validationRules\"}],attrs:{\"name\":field,\"type\":field === 'password' ? 'password': 'text',\"password-reveal\":field === 'password'},model:{value:(_vm.internalUser[field]),callback:function ($$v) {_vm.$set(_vm.internalUser, field, $$v)},expression:\"internalUser[field]\"}})],1)}),_c('b-field',{attrs:{\"label\":_vm.$t('role'),\"horizontal\":\"\"}},[_c('b-select',{model:{value:(_vm.selectedRole),callback:function ($$v) {_vm.selectedRole=$$v},expression:\"selectedRole\"}},_vm._l((_vm.roles),function(value,key){return _c('option',{key:key,domProps:{\"value\":key}},[_vm._v(\" \"+_vm._s(_vm.$t(value.label))+\" \")])}),0)],1),(_vm.isChangingRoleToAdmin())?_c('b-field',{attrs:{\"horizontal\":\"\"}},[_c('b-checkbox',{model:{value:(_vm.adminConfirm),callback:function ($$v) {_vm.adminConfirm=$$v},expression:\"adminConfirm\"}},[_vm._v(\" \"+_vm._s(_vm.$t('admin-warning'))+\" \")])],1):_vm._e(),_c('b-field',{attrs:{\"label\":_vm.$t('language'),\"horizontal\":\"\"}},[_c('b-select',{model:{value:(_vm.internalUser['language']),callback:function ($$v) {_vm.$set(_vm.internalUser, 'language', $$v)},expression:\"internalUser['language']\"}},_vm._l((_vm.languages),function({value, name}){return _c('option',{key:value,domProps:{\"value\":value}},[_vm._v(\" \"+_vm._s(name)+\" \")])}),0)],1),_c('b-field',{attrs:{\"label\":_vm.$t('developer-mode'),\"horizontal\":\"\"}},[_c('b-switch',{staticClass:\"switch\",model:{value:(_vm.internalUser.isDeveloper),callback:function ($$v) {_vm.$set(_vm.internalUser, \"isDeveloper\", $$v)},expression:\"internalUser.isDeveloper\"}},[(_vm.internalUser.isDeveloper)?[_vm._v(_vm._s(_vm.$t('yes')))]:[_vm._v(_vm._s(_vm.$t('no')))]],2)],1)],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<form @submit.prevent=\"save()\">\r\n  <cytomine-modal :active=\"active\" :title=\"title\" @close=\"$emit('update:active', false)\">\r\n    <!-- HACK: fake fields to prevent autofill -->\r\n    <input id=\"username\" class=\"hidden\" type=\"text\">\r\n    <input id=\"password\" class=\"hidden\" type=\"password\">\r\n\r\n    <b-field\r\n      :key=\"'username'\"\r\n      :label=\"$t('username')\"\r\n      horizontal\r\n      :type=\"{'is-danger': errors.has('username')}\"\r\n      :message=\"errors.first('username')\"\r\n    >\r\n      <b-input\r\n        v-model=\"internalUser['username']\"\r\n        :name=\"'username'\"\r\n        v-validate=\"'required'\"\r\n        :type=\"'text'\"\r\n        :disabled=\"internalUser.id\"\r\n      />\r\n    </b-field>\r\n\r\n    <b-field\r\n      v-for=\"{field, validationRules} in editableFields\"\r\n      :key=\"field\"\r\n      :label=\"$t(field === 'password' && editionMode ? 'password-new' : field)\"\r\n      horizontal\r\n      :type=\"{'is-danger': errors.has(field)}\"\r\n      :message=\"errors.first(field)\"\r\n    >\r\n      <b-input\r\n        v-model=\"internalUser[field]\"\r\n        :name=\"field\"\r\n        v-validate=\"validationRules\"\r\n        :type=\"field === 'password' ? 'password': 'text'\"\r\n        :password-reveal=\"field === 'password'\"\r\n      />\r\n    </b-field>\r\n\r\n    <b-field :label=\"$t('role')\" horizontal>\r\n      <b-select v-model=\"selectedRole\">\r\n        <option v-for=\"(value, key) in roles\" :value=\"key\" :key=\"key\">\r\n          {{$t(value.label)}}\r\n        </option>\r\n      </b-select>\r\n    </b-field>\r\n\r\n    <b-field horizontal v-if=\"isChangingRoleToAdmin()\">\r\n      <b-checkbox v-model=\"adminConfirm\">\r\n        {{$t('admin-warning')}}\r\n      </b-checkbox>\r\n    </b-field>\r\n\r\n    <b-field :label=\"$t('language')\" horizontal>\r\n      <b-select v-model=\"internalUser['language']\">\r\n        <option v-for=\"{value, name} in languages\" :key=\"value\" :value=\"value\">\r\n          {{name}}\r\n        </option>\r\n      </b-select>\r\n    </b-field>\r\n\r\n    <b-field :label=\"$t('developer-mode')\" horizontal>\r\n      <b-switch v-model=\"internalUser.isDeveloper\" class=\"switch\">\r\n        <template v-if=\"internalUser.isDeveloper\">{{$t('yes')}}</template>\r\n        <template v-else>{{$t('no')}}</template>\r\n      </b-switch>\r\n    </b-field>\r\n\r\n    <template #footer>\r\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" :disabled=\"errors.any() || !isAdminConfirmed()\">\r\n        {{$t('button-save')}}\r\n      </button>\r\n    </template>\r\n  </cytomine-modal>\r\n</form>\r\n</template>\r\n\r\n<script>\r\nimport {User, RoleCollection} from 'cytomine-client';\r\nimport {rolesMapping} from '@/utils/role-utils';\r\nconst defaultRole = 'ROLE_GUEST';\r\nconst defaultLanguage = {value: 'EN', name:'English'};\r\n\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\n\r\nexport default {\r\n  name: 'user-modal',\r\n  props: {\r\n    active: Boolean,\r\n    user: Object\r\n  },\r\n  components: {CytomineModal},\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      internalUser: {},\r\n      rolesWithIds: null,\r\n      selectedRole: defaultRole,\r\n      displayErrors: false,\r\n      adminConfirm: false,\r\n      languages: [\r\n        {value: 'EN', name:'English'},\r\n        {value: 'FR', name:'Français'},\r\n        {value: 'ES', name:'Español'},\r\n        {value: 'NL', name:'Nederlands'}\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    roles() {\r\n      return rolesMapping;\r\n    },\r\n    editionMode() {\r\n      return Boolean(this.user);\r\n    },\r\n    title() {\r\n      return this.$t(this.editionMode ? 'update-user' : 'create-user');\r\n    },\r\n    editableFields() {\r\n      return [\r\n        {field: 'firstname', validationRules: 'required'},\r\n        {field: 'lastname', validationRules: 'required'},\r\n        //{field: 'username', validationRules: 'required'},\r\n        {field: 'email', validationRules: 'required|email'},\r\n        {field: 'password', validationRules: this.editionMode ? 'min:8' : 'required|min:8'}\r\n      ];\r\n    },\r\n    idRole() {\r\n      return this.rolesWithIds.find(role => role.authority === this.selectedRole).id;\r\n    }\r\n  },\r\n  watch: {\r\n    selectedRole() {\r\n      this.adminConfirm = !this.isChangingRoleToAdmin();\r\n    },\r\n    active(val) {\r\n      if(val) {\r\n        if(!this.rolesWithIds) {\r\n          this.$notify({type: 'error', text: this.$t('notif-unexpected-error')});\r\n          this.$emit('update:active', false);\r\n          return;\r\n        }\r\n        this.internalUser = this.user ? this.user.clone() : new User();\r\n        this.selectedRole = this.user ? this.user.role : defaultRole;\r\n        this.internalUser.language = this.user ? this.user.language : defaultLanguage.value;\r\n        this.displayErrors = false;\r\n        this.adminConfirm = false;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    isChangingRoleToAdmin() {\r\n      let currentRole = this.user ? this.user.role : defaultRole;\r\n      return this.isNotAdmin(currentRole) && !this.isNotAdmin(this.selectedRole);\r\n    },\r\n    isNotAdmin(role){\r\n      return role != 'ROLE_ADMIN' && role != 'ROLE_SUPER_ADMIN';\r\n    },\r\n    isAdminConfirmed(){\r\n      return this.adminConfirm || !this.isChangingRoleToAdmin();\r\n    },\r\n    \r\n    async save() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      let labelTranslation = this.editionMode ? 'update' : 'creation';\r\n\r\n      try {\r\n        await this.internalUser.save();\r\n        if(!this.editionMode || this.selectedRole !== this.user.role) {\r\n          await this.internalUser.defineRole(this.idRole);\r\n          this.internalUser.role = this.selectedRole; // for correct rendering in list\r\n        }\r\n        if(this.editionMode && this.internalUser.password) {\r\n          await this.internalUser.savePassword(this.internalUser.password);\r\n        }\r\n        this.internalUser.password = ''; // reinitialize password so that if modal reopened, field empty\r\n        this.$notify({type: 'success', text: this.$t('notif-success-user-' + labelTranslation)});\r\n        this.$emit('update:active', false);\r\n        this.$emit(this.editionMode ? 'updateUser' : 'addUser', this.internalUser);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-user-' + labelTranslation)});\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    try {\r\n      this.rolesWithIds = (await RoleCollection.fetchAll()).array;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.hidden {\r\n  display: none;\r\n}\r\n\r\n>>> .modal-card, >>> .modal-card-body {\r\n  width: 100vw;\r\n  max-width: 800px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserModal.vue?vue&type=template&id=faba5b5c&scoped=true&\"\nimport script from \"./UserModal.vue?vue&type=script&lang=js&\"\nexport * from \"./UserModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserModal.vue?vue&type=style&index=0&id=faba5b5c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"faba5b5c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"details-wrapper\"},[_c('b-loading',{staticClass:\"small\",attrs:{\"active\":_vm.loading,\"is-full-page\":false}}),(!_vm.loading)?_c('table',{staticClass:\"table\"},[_c('tbody',[(_vm.currentUser.isDeveloper)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('id')))]),_c('td',{attrs:{\"colspan\":\"2\"}},[_vm._v(_vm._s(_vm.user.id))])]):_vm._e(),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('projects')))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.projects ? _vm.projects.length : '?')+\" \")]),_c('td',[(_vm.projects && _vm.projects.length)?_c('b-collapse',{attrs:{\"open\":false},scopedSlots:_vm._u([{key:\"trigger\",fn:function({open}){return [_c('button',{staticClass:\"button is-small\"},[_vm._v(\" \"+_vm._s(_vm.$t(open ? 'button-hide' : 'button-show'))+\" \")])]}}],null,false,3507901580)},[_c('ul',_vm._l((_vm.projects),function(project){return _c('li',{key:project.id},[_c('router-link',{attrs:{\"to\":`/project/${project.id}`}},[_vm._v(\" \"+_vm._s(project.name)+\" \")])],1)}),0)]):_vm._e()],1)]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('managed-projects')))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.managedProjects ? _vm.managedProjects.length : '?')+\" \")]),_c('td',[(_vm.managedProjects && _vm.managedProjects.length)?_c('b-collapse',{attrs:{\"open\":false},scopedSlots:_vm._u([{key:\"trigger\",fn:function({open}){return [_c('button',{staticClass:\"button is-small\"},[_vm._v(\" \"+_vm._s(_vm.$t(open ? 'button-hide' : 'button-show'))+\" \")])]}}],null,false,3507901580)},[_c('ul',_vm._l((_vm.managedProjects),function(project){return _c('li',{key:project.id},[_c('router-link',{attrs:{\"to\":`/project/${project.id}`}},[_vm._v(\" \"+_vm._s(project.name)+\" \")])],1)}),0)]):_vm._e()],1)]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('user-annotations')))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.nbAnnotations == null ? '?' : _vm.nbAnnotations)+\" \")]),_c('td')]),(_vm.currentUser.id !== _vm.user.id)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('actions')))]),_c('td',{attrs:{\"colspan\":\"2\"}},[_c('button',{staticClass:\"button is-link is-small\",on:{\"click\":function($event){return _vm.switchUser()}}},[_vm._v(\" \"+_vm._s(_vm.$t('connect-as-user', {username: _vm.user.username}))+\" \")])])]):_vm._e()])]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"details-wrapper\">\r\n  <b-loading :active=\"loading\" :is-full-page=\"false\" class=\"small\" />\r\n  <table v-if=\"!loading\" class=\"table\">\r\n    <tbody>\r\n      <tr v-if=\"currentUser.isDeveloper\">\r\n        <td>{{$t('id')}}</td>\r\n        <td colspan=\"2\">{{user.id}}</td>\r\n      </tr>\r\n      <tr>\r\n        <td>{{$t('projects')}}</td>\r\n        <td>\r\n          {{projects ? projects.length : '?'}}\r\n        </td>\r\n        <td>\r\n          <b-collapse v-if=\"projects && projects.length\" :open=\"false\">\r\n            <template #trigger=\"{open}\">\r\n              <button class=\"button is-small\">\r\n                {{$t(open ? 'button-hide' : 'button-show')}}\r\n              </button>\r\n            </template>\r\n            <ul>\r\n              <li v-for=\"project in projects\" :key=\"project.id\">\r\n                <router-link :to=\"`/project/${project.id}`\">\r\n                  {{ project.name }}\r\n                </router-link>\r\n              </li>\r\n            </ul>\r\n          </b-collapse>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td>{{$t('managed-projects')}}</td>\r\n        <td>\r\n          {{managedProjects ? managedProjects.length : '?'}}\r\n        </td>\r\n        <td>\r\n          <b-collapse v-if=\"managedProjects && managedProjects.length\" :open=\"false\">\r\n            <template #trigger=\"{open}\">\r\n              <button class=\"button is-small\">\r\n                {{$t(open ? 'button-hide' : 'button-show')}}\r\n              </button>\r\n            </template>\r\n            <ul>\r\n              <li v-for=\"project in managedProjects\" :key=\"project.id\">\r\n                <router-link :to=\"`/project/${project.id}`\">\r\n                  {{ project.name }}\r\n                </router-link>\r\n              </li>\r\n            </ul>\r\n          </b-collapse>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td>{{$t('user-annotations')}}</td>\r\n        <td>\r\n          {{nbAnnotations == null ? '?' : nbAnnotations}}\r\n        </td>\r\n        <td></td>\r\n      </tr>\r\n      <tr v-if=\"currentUser.id !== user.id\">\r\n        <td>{{$t('actions')}}</td>\r\n        <td colspan=\"2\">\r\n          <button class=\"button is-link is-small\" @click=\"switchUser()\">\r\n            {{$t('connect-as-user', {username: user.username})}}\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {Cytomine, ProjectCollection} from 'cytomine-client';\r\n\r\nexport default {\r\n  props: {\r\n    user: Object\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      projects: null,\r\n      managedProjects: null,\r\n      nbAnnotations: null,\r\n      showProjects: false,\r\n      showManagedProjects: false\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user')\r\n  },\r\n  methods: {\r\n    async fetchProjects() {\r\n      this.projects = (await ProjectCollection.fetchAll({\r\n        filterKey: 'user',\r\n        filterValue: this.user.id,\r\n        light: true\r\n      })).array;\r\n    },\r\n    async fetchManagedProjects() {\r\n      this.managedProjects = (await ProjectCollection.fetchAll({\r\n        filterKey: 'user',\r\n        filterValue: this.user.id,\r\n        light: true,\r\n        admin: true\r\n      })).array;\r\n    },\r\n    async fetchNbAnnotations() {\r\n      this.nbAnnotations = await this.user.fetchNbAnnotations();\r\n    },\r\n    async switchUser() {\r\n      try {\r\n        await Cytomine.instance.switchUser(this.user.username);\r\n        await this.$store.dispatch('currentUser/fetchUser');\r\n        this.$router.push('/');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-failed-to-connect-as-user')});\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    await Promise.all([\r\n      this.fetchProjects(),\r\n      this.fetchManagedProjects(),\r\n      this.fetchNbAnnotations()\r\n    ].map(p => p.catch(e => console.log(e)))); // ignore errors (handled in template) and ensure all promises finish, even if some errors occur in the process\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n  background: none;\r\n}\r\n\r\n.details-wrapper {\r\n  min-height: 3em;\r\n  position: relative;\r\n}\r\n\r\ntd:first-child {\r\n  font-weight: 600;\r\n}\r\n\r\ntd:not(:last-child) {\r\n  white-space: nowrap;\r\n}\r\n\r\ntd:last-child {\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserDetails.vue?vue&type=template&id=5bd2ab78&scoped=true&\"\nimport script from \"./UserDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./UserDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserDetails.vue?vue&type=style&index=0&id=5bd2ab78&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bd2ab78\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <template v-if=\"!loading\">\r\n    <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n      <h2> {{ $t('error') }} </h2>\r\n      <p> {{ $t('unexpected-error-info-message') }} </p>\r\n    </b-message>\r\n    <template v-else>\r\n      <div class=\"columns\">\r\n        <div class=\"column is-one-quarter\">\r\n          <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\r\n        </div>\r\n\r\n        <div class=\"column is-one-half has-text-right-desktop\">\r\n          <button class=\"button is-link\" @click=\"startUserCreation()\">\r\n            {{$t('button-new-user')}}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <cytomine-table\r\n        :collection=\"userCollection\"\r\n        :currentPage.sync=\"currentPage\"\r\n        :perPage.sync=\"perPage\"\r\n        :sort.sync=\"sortField\"\r\n        :order.sync=\"sortOrder\"\r\n        :detailed=true\r\n        :revision=\"revision\"\r\n      >\r\n        <template #default=\"{row: user}\">\r\n\r\n          <b-table-column field=\"username\" :label=\"$t('username')\" sortable width=\"100\">\r\n            {{user.username}}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"fullName\" :label=\"$t('name')\" sortable width=\"150\">\r\n            {{user.firstname}} {{user.lastname}}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"role\" :label=\"$t('role')\" sortable width=\"50\">\r\n            <span class=\"tag\" :class=\"getRoleData(user).class\">{{$t(getRoleData(user).label)}}</span>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"email\" :label=\"$t('email')\" sortable width=\"150\">\r\n            <a :href=\"`mailto:${user.email}`\">{{ user.email }}</a>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"origin\" :label=\"$t('source')\" centered sortable width=\"50\">\r\n            <span :class=\"['tag', user.LDAP ? 'is-link' : 'is-grey']\">\r\n              {{displayMemberOrigin(user)}}\r\n            </span>\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"created\" :label=\"$t('created')\" sortable width=\"150\">\r\n            {{Number(user.created) | moment('ll LT')}}\r\n          </b-table-column>\r\n\r\n          <b-table-column field=\"updated\" :label=\"$t('updated')\" sortable width=\"150\">\r\n            <template v-if=\"user.updated\">{{Number(user.updated) | moment('ll LT')}}</template>\r\n            <template v-else>-</template>\r\n          </b-table-column>\r\n\r\n          <b-table-column label=\"\" width=\"100\">\r\n            <div class=\"buttons\">\r\n              <button class=\"button is-link is-small\" @click=\"startUserEdition(user)\">\r\n                {{$t('button-edit')}}\r\n              </button>\r\n              <button v-if=\"user.enabled\" class=\"button is-danger is-small\" @click=\"lock(user)\">\r\n                {{$t('button-lock')}}\r\n              </button>\r\n              <button v-else class=\"button is-success is-small\" @click=\"unlock(user)\">\r\n                {{$t('button-unlock')}}\r\n              </button>\r\n            </div>\r\n          </b-table-column>\r\n        </template>\r\n\r\n        <template #detail=\"{row: user}\">\r\n          <user-details :user=\"user\" />\r\n        </template>\r\n\r\n        <template #empty>\r\n          <div class=\"content has-text-grey has-text-centered\">\r\n            <p>{{$t('no-user-fitting-criteria')}}</p>\r\n          </div>\r\n        </template>\r\n      </cytomine-table>\r\n\r\n      <user-modal :active.sync=\"modal\" :user=\"editedUser\" @addUser=\"refreshUsers\" @updateUser=\"updateUser\" />\r\n    </template>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport CytomineTable from '@/components/utils/CytomineTable';\r\nimport {UserCollection} from 'cytomine-client';\r\nimport UserModal from './UserModal';\r\nimport UserDetails from './UserDetails';\r\nimport {rolesMapping} from '@/utils/role-utils';\r\n\r\nexport default {\r\n  name: 'admin-users',\r\n  components: {\r\n    CytomineTable,\r\n    UserModal,\r\n    UserDetails\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n      addUserModal: false,\r\n      searchString: '',\r\n      currentPage: 1,\r\n      perPage: 25,\r\n      sortField: 'username',\r\n      sortOrder: '',\r\n      revision: 0,\r\n      modal: false,\r\n      editedUser: null\r\n    };\r\n  },\r\n  computed: {\r\n    roles() {\r\n      return rolesMapping;\r\n    },\r\n    userCollection() {\r\n      let collection = new UserCollection({\r\n        withRoles: true\r\n      });\r\n      if(this.searchString) {\r\n        collection['fullName'] = {\r\n          ilike: encodeURIComponent(this.searchString)\r\n        };\r\n      }\r\n\r\n      return collection;\r\n    }\r\n  },\r\n  methods: {\r\n    displayMemberOrigin(member){\r\n      let key;\r\n      if(member.origin === 'LDAP') key = 'LDAP';\r\n      if(member.origin === 'BOOTSTRAP') key = 'system';\r\n      else key = 'manual';\r\n\r\n      return this.$t(key);\r\n    },\r\n    getRoleData(user) {\r\n      return this.roles[user.role];\r\n    },\r\n    async lock(user) {\r\n      try {\r\n        await user.lock();\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-user-lock')});\r\n      }\r\n    },\r\n    async unlock(user) {\r\n      try {\r\n        await user.unlock();\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-user-unlock')});\r\n      }\r\n    },\r\n    startUserCreation() {\r\n      this.editedUser = null;\r\n      this.modal = true;\r\n    },\r\n    refreshUsers() {\r\n      this.revision++;\r\n    },\r\n    startUserEdition(user) {\r\n      this.editedUser = user;\r\n      this.modal = true;\r\n    },\r\n    updateUser(user) {\r\n      this.revision++;\r\n      this.editedUser.populate(user);\r\n    }\r\n  },\r\n  async created() {\r\n    this.revision++;\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminUsers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminUsers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminUsers.vue?vue&type=template&id=70fc0491&\"\nimport script from \"./AdminUsers.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminUsers.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[(!_vm.trustedSources)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('div',{staticClass:\"column is-one-half has-text-right-desktop\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.startSourceCreation()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-new-trusted-source'))+\" \")])])]),_c('b-table',{attrs:{\"data\":_vm.filteredTrustedSources,\"paginated\":true,\"per-page\":_vm.perPage,\"pagination-size\":\"is-small\"},scopedSlots:_vm._u([{key:\"default\",fn:function({row: source}){return [_c('b-table-column',{attrs:{\"field\":\"source\",\"label\":_vm.$t('trusted-source'),\"width\":\"400\"}},[_c('software-source',{attrs:{\"source\":source}})],1),_c('b-table-column',{attrs:{\"label\":\"\",\"width\":\"50\"}},[_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button is-link is-small\",on:{\"click\":function($event){return _vm.startSourceEdition(source)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-edit'))+\" \")]),_c('button',{staticClass:\"button is-link is-small\",on:{\"click\":function($event){return _vm.refresh(source)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-refresh'))+\" \")]),_c('button',{staticClass:\"button is-danger is-small\",on:{\"click\":function($event){return _vm.deleteSourceDialog(source)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")])])])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-trusted-source-fitting-criteria')))])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}],null,false,3431149966)}),_c('trusted-source-modal',{attrs:{\"active\":_vm.modal,\"source\":_vm.editedSource},on:{\"update:active\":function($event){_vm.modal=$event},\"addSource\":_vm.addSource,\"updateSource\":_vm.updateSource}})]]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.title},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},_vm._l((_vm.editableFields),function({field, validationRules, disabled}){return _c('b-field',{key:field,attrs:{\"label\":_vm.$t(_vm.fieldLabels[field]),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has(field)},\"message\":_vm.errors.first(field)}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(validationRules),expression:\"validationRules\"}],attrs:{\"name\":field,\"placeholder\":\"\",\"disabled\":disabled},model:{value:(_vm.internalSource[field]),callback:function ($$v) {_vm.$set(_vm.internalSource, field, $$v)},expression:\"internalSource[field]\"}})],1)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <form @submit.prevent=\"save()\">\r\n    <cytomine-modal :active=\"active\" :title=\"title\" @close=\"$emit('update:active', false)\">\r\n      <b-field\r\n        v-for=\"{field, validationRules, disabled} in editableFields\"\r\n        :key=\"field\"\r\n        :label=\"$t(fieldLabels[field])\"\r\n        horizontal\r\n        :type=\"{'is-danger': errors.has(field)}\"\r\n        :message=\"errors.first(field)\"\r\n      >\r\n        <b-input\r\n          v-model=\"internalSource[field]\"\r\n          :name=\"field\"\r\n          v-validate=\"validationRules\"\r\n          placeholder=\"\"\r\n          :disabled=disabled\r\n        />\r\n      </b-field>\r\n\r\n      <template #footer>\r\n        <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\r\n          {{$t('button-cancel')}}\r\n        </button>\r\n        <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n          {{$t('button-save')}}\r\n        </button>\r\n      </template>\r\n    </cytomine-modal>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport {TrustedSource} from 'cytomine-client';\r\n\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\n\r\nexport default {\r\n  name: 'trusted-source-modal',\r\n  props: {\r\n    active: Boolean,\r\n    source: Object\r\n  },\r\n  components: {CytomineModal},\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      internalSource: {},\r\n      displayErrors: false\r\n    };\r\n  },\r\n  computed: {\r\n    editionMode() {\r\n      return Boolean(this.source);\r\n    },\r\n    title() {\r\n      return this.$t(this.editionMode ? 'update-source' : 'create-source');\r\n    },\r\n    editableFields() {\r\n      return [\r\n        {field: 'username', validationRules: 'required', disabled: false},\r\n        {field: 'dockerUsername', validationRules: 'required', disabled: false},\r\n        {field: 'prefix', validationRules: '', disabled: false},\r\n        {field: 'provider', validationRules: 'required', disabled: true},\r\n        {field: 'environmentProvider', validationRules: 'required', disabled: true},\r\n      ];\r\n    },\r\n    fieldLabels() {\r\n      return {\r\n        'provider': 'source-provider',\r\n        'username': 'source-provider-name',\r\n        'environmentProvider': 'environment-provider',\r\n        'dockerUsername': 'environment-provider-name',\r\n        'prefix': 'prefix'\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    active(val) {\r\n      if(val) {\r\n        this.internalSource = this.formatSource(this.source ? this.source.clone() : new TrustedSource());\r\n        this.displayErrors = false;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async save() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      let labelTranslation = this.editionMode ? 'update' : 'creation';\r\n\r\n      try {\r\n        let source = (await this.internalSource.save());\r\n        this.internalSource = this.formatSource(source);\r\n        this.$notify({type: 'success', text: this.$t('notif-success-source-' + labelTranslation)});\r\n        this.$emit('update:active', false);\r\n        this.$emit(this.editionMode ? 'updateSource' : 'addSource', this.internalSource);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-source-' + labelTranslation)});\r\n      }\r\n    },\r\n    formatSource(source) {\r\n      source.environmentProvider = 'docker';\r\n      source.provider = (!source.provider) ? 'github' : source.provider;\r\n      return source;\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n>>> .modal-card, >>> .modal-card-body {\r\n  width: 100vw;\r\n  max-width: 800px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSourceModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSourceModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TrustedSourceModal.vue?vue&type=template&id=0a1b2893&scoped=true&\"\nimport script from \"./TrustedSourceModal.vue?vue&type=script&lang=js&\"\nexport * from \"./TrustedSourceModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TrustedSourceModal.vue?vue&type=style&index=0&id=0a1b2893&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a1b2893\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n    <template v-if=\"!loading\">\r\n      <b-message v-if=\"!trustedSources\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n        <h2> {{ $t('error') }} </h2>\r\n        <p> {{ $t('unexpected-error-info-message') }} </p>\r\n      </b-message>\r\n      <template v-else>\r\n        <div class=\"columns\">\r\n          <div class=\"column is-one-quarter\">\r\n            <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\r\n          </div>\r\n\r\n          <div class=\"column is-one-half has-text-right-desktop\">\r\n            <button class=\"button is-link\" @click=\"startSourceCreation()\">\r\n              {{$t('button-new-trusted-source')}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <b-table\r\n          :data=\"filteredTrustedSources\"\r\n          :paginated=\"true\"\r\n          :per-page=\"perPage\"\r\n          pagination-size=\"is-small\"\r\n        >\r\n\r\n          <template #default=\"{row: source}\">\r\n\r\n            <b-table-column field=\"source\" :label=\"$t('trusted-source')\" width=\"400\">\r\n              <software-source :source=\"source\" />\r\n            </b-table-column>\r\n\r\n            <b-table-column label=\"\" width=\"50\">\r\n              <div class=\"buttons\">\r\n                <button class=\"button is-link is-small\" @click=\"startSourceEdition(source)\">\r\n                  {{$t('button-edit')}}\r\n                </button>\r\n                <button class=\"button is-link is-small\" @click=\"refresh(source)\">\r\n                  {{$t('button-refresh')}}\r\n                </button>\r\n                <button class=\"button is-danger is-small\" @click=\"deleteSourceDialog(source)\">\r\n                  {{$t('button-delete')}}\r\n                </button>\r\n              </div>\r\n            </b-table-column>\r\n          </template>\r\n\r\n          <template #empty>\r\n            <div class=\"content has-text-grey has-text-centered\">\r\n              <p>{{$t('no-trusted-source-fitting-criteria')}}</p>\r\n            </div>\r\n          </template>\r\n\r\n          <template #bottom-left>\r\n            <b-select v-model=\"perPage\" size=\"is-small\">\r\n              <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n              <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n              <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n              <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n            </b-select>\r\n          </template>\r\n        </b-table>\r\n\r\n        <trusted-source-modal :active.sync=\"modal\" :source=\"editedSource\" @addSource=\"addSource\" @updateSource=\"updateSource\" />\r\n      </template>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {TrustedSourceCollection} from 'cytomine-client';\r\nimport TrustedSourceModal from './TrustedSourceModal';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\nimport SoftwareSource from '@/components/software/SoftwareSource';\r\n\r\nexport default {\r\n  name: 'admin-software',\r\n  components: {\r\n    SoftwareSource,\r\n    TrustedSourceModal,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      trustedSources: null,\r\n      addSourceModal: false,\r\n      searchString: '',\r\n      perPage: 25,\r\n      modal: false,\r\n      editedSource: null\r\n    };\r\n  },\r\n  computed: {\r\n    regexp() {\r\n      return getWildcardRegexp(this.searchString);\r\n    },\r\n    filteredTrustedSources() {\r\n      if(!this.searchString) {\r\n        return this.trustedSources;\r\n      }\r\n\r\n      return this.trustedSources.filter(ts => this.regexp.test(ts.name) ||\r\n        this.regexp.test(ts.username) || this.regexp.test(ts.provider) ||\r\n        this.regexp.test(ts.dockerUsername) || this.regexp.test(ts.environmentProvider));\r\n    }\r\n  },\r\n  methods: {\r\n    formatSource(source) {\r\n      source.environmentProvider = 'docker';\r\n    },\r\n    async refresh(source) {\r\n      try {\r\n        await source.refresh();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-source-refresh')});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-source-refresh')});\r\n      }\r\n    },\r\n    startSourceCreation() {\r\n      this.editedSource = null;\r\n      this.modal = true;\r\n    },\r\n    addSource(source) {\r\n      this.formatSource(source);\r\n      this.trustedSources.push(source);\r\n    },\r\n    startSourceEdition(source) {\r\n      this.editedSource = source;\r\n      this.modal = true;\r\n    },\r\n    updateSource(source) {\r\n      this.formatSource(source);\r\n      this.editedSource.populate(source);\r\n    },\r\n    deleteSourceDialog(source) {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('delete'),\r\n        message: this.$t('delete-source-confirmation-message', {username: source.username, dockerUsername: source.dockerUsername}),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.deleteSource(source)\r\n      });\r\n    },\r\n    deleteSource(source) {\r\n      try {\r\n        source.delete();\r\n        this.trustedSources.splice(this.trustedSources.indexOf(source), 1);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-source-delete', {username: source.username, dockerUsername: source.dockerUsername})\r\n        });\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-source-delete', {username: source.username, dockerUsername: source.dockerUsername})\r\n        });\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    try {\r\n      let sources = (await TrustedSourceCollection.fetchAll()).array;\r\n      sources.forEach(source => this.formatSource(source));\r\n      this.trustedSources = sources;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n    }\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminSoftware.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminSoftware.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminSoftware.vue?vue&type=template&id=2f522a1e&\"\nimport script from \"./AdminSoftware.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminSoftware.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('welcome-message')))]),_c('cytomine-quill-editor',{model:{value:(_vm.welcomeConfig.value),callback:function ($$v) {_vm.$set(_vm.welcomeConfig, \"value\", $$v)},expression:\"welcomeConfig.value\"}}),_c('p',{staticClass:\"has-text-right\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":_vm.save}},[_vm._v(_vm._s(_vm.$t('button-save')))])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n\r\n<template>\r\n<div>\r\n  <h2>{{$t('welcome-message')}}</h2>\r\n  <cytomine-quill-editor v-model=\"welcomeConfig.value\" />\r\n  <p class=\"has-text-right\">\r\n    <button class=\"button is-link\" @click=\"save\">{{$t('button-save')}}</button>\r\n  </p>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport CytomineQuillEditor from '@/components/form/CytomineQuillEditor';\r\nimport {Configuration} from 'cytomine-client';\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'admin-configuration',\r\n  components: {CytomineQuillEditor},\r\n  data() {\r\n    return {\r\n      welcomeConfig: new Configuration({key: constants.CONFIG_KEY_WELCOME, value: '', readingRole: 'all'})\r\n    };\r\n  },\r\n  methods: {\r\n    async save() {\r\n      try {\r\n        if(!this.welcomeConfig.value) {\r\n          await this.welcomeConfig.delete();\r\n        }\r\n        else {\r\n          await this.welcomeConfig.save();\r\n        }\r\n        this.$notify({type: 'success', text: this.$t('notif-success-welcome-message-update')});\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-welcome-message-update')});\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      await this.welcomeConfig.fetch();\r\n    }\r\n    catch(error) {\r\n      // no welcome message currently set\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n>>> .cytomine-quill-editor {\r\n  min-height: 25em !important;\r\n  max-height: 25em !important;\r\n}\r\n\r\n.button {\r\n  margin-top: 1em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminConfiguration.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminConfiguration.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminConfiguration.vue?vue&type=template&id=5d85b1f4&scoped=true&\"\nimport script from \"./AdminConfiguration.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminConfiguration.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminConfiguration.vue?vue&type=style&index=0&id=5d85b1f4&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d85b1f4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[(!_vm.tags)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('div',{staticClass:\"column is-one-half has-text-right-desktop\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.startTagCreation()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-new-tag'))+\" \")])])]),_c('b-table',{attrs:{\"data\":_vm.filteredTags,\"paginated\":true,\"per-page\":_vm.perPage,\"pagination-size\":\"is-small\"},scopedSlots:_vm._u([{key:\"default\",fn:function({row: tag}){return [_c('b-table-column',{attrs:{\"field\":'name',\"label\":_vm.$t('name'),\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(tag.name)+\" \")]),_c('b-table-column',{attrs:{\"field\":'creatorName',\"label\":_vm.$t('creator'),\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(tag.creatorName)+\" \")]),_c('b-table-column',{attrs:{\"field\":'created',\"label\":_vm.$t('created'),\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(tag.created),'ll'))+\" \")]),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\"}},[_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button is-small is-link\",on:{\"click\":function($event){return _vm.startTagEdition(tag)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-edit'))+\" \")]),_c('button',{staticClass:\"button is-small is-danger\",on:{\"click\":function($event){return _vm.deleteTagDialog(tag)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")])])])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-tag-fitting-criteria')))])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}],null,false,2904442176)}),_c('tag-modal',{attrs:{\"active\":_vm.modal,\"tag\":_vm.editedTag},on:{\"update:active\":function($event){_vm.modal=$event},\"addTag\":_vm.addTag,\"updateTag\":_vm.updateTag}})]]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.title},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-field',{attrs:{\"label\":_vm.$t('name'),\"type\":{'is-danger': _vm.errors.has('name')},\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"name\"},model:{value:(_vm.internalTag['name']),callback:function ($$v) {_vm.$set(_vm.internalTag, 'name', $$v)},expression:\"internalTag['name']\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n\r\n<template>\r\n<form @submit.prevent=\"save()\">\r\n  <cytomine-modal :active=\"active\" :title=\"title\" @close=\"$emit('update:active', false)\">\r\n    <b-field :label=\"$t('name')\" :type=\"{'is-danger': errors.has('name')}\" :message=\"errors.first('name')\">\r\n      <b-input v-model=\"internalTag['name']\" name=\"name\" v-validate=\"'required'\" />\r\n    </b-field>\r\n\r\n    <template #footer>\r\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n        {{$t('button-save')}}\r\n      </button>\r\n    </template>\r\n  </cytomine-modal>\r\n</form>\r\n</template>\r\n\r\n<script>\r\nimport {Tag} from 'cytomine-client';\r\nimport CytomineModal from '@/components/utils/CytomineModal';\r\n\r\nexport default {\r\n  name: 'tag-modal',\r\n  props: {\r\n    active: Boolean,\r\n    tag: Object\r\n  },\r\n  components: {CytomineModal},\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      internalTag: {},\r\n      displayErrors: false,\r\n    };\r\n  },\r\n  computed: {\r\n    editionMode() {\r\n      return Boolean(this.tag);\r\n    },\r\n    title() {\r\n      return this.$t(this.editionMode ? 'update-tag' : 'create-tag');\r\n    },\r\n  },\r\n  watch: {\r\n    active(val) {\r\n      if(val) {\r\n        this.internalTag = (this.tag) ? this.tag.clone() : new Tag();\r\n        this.displayErrors = false;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async save() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      let labelTranslation = this.editionMode ? 'update' : 'creation';\r\n\r\n      try {\r\n        await this.internalTag.save();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-tag-' + labelTranslation)});\r\n        this.$emit('update:active', false);\r\n        this.$emit(this.editionMode ? 'updateTag' : 'addTag', this.internalTag);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-tag-' + labelTranslation)});\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TagModal.vue?vue&type=template&id=8aa710e0&\"\nimport script from \"./TagModal.vue?vue&type=script&lang=js&\"\nexport * from \"./TagModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n    <template v-if=\"!loading\">\r\n      <b-message v-if=\"!tags\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n        <h2> {{ $t('error') }} </h2>\r\n        <p> {{ $t('unexpected-error-info-message') }} </p>\r\n      </b-message>\r\n      <template v-else>\r\n        <div class=\"columns\">\r\n          <div class=\"column is-one-quarter\">\r\n            <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\r\n          </div>\r\n\r\n          <div class=\"column is-one-half has-text-right-desktop\">\r\n            <button class=\"button is-link\" @click=\"startTagCreation()\">\r\n              {{$t('button-new-tag')}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <b-table\r\n          :data=\"filteredTags\"\r\n          :paginated=\"true\"\r\n          :per-page=\"perPage\"\r\n          pagination-size=\"is-small\"\r\n        >\r\n\r\n          <template #default=\"{row: tag}\">\r\n            <b-table-column\r\n              :field=\"'name'\"\r\n              :label=\"$t('name')\"\r\n              sortable\r\n            >\r\n            {{tag.name}}\r\n            </b-table-column>\r\n\r\n            <b-table-column\r\n              :field=\"'creatorName'\"\r\n              :label=\"$t('creator')\"\r\n              sortable\r\n            >\r\n              {{tag.creatorName}}\r\n            </b-table-column>\r\n\r\n            <b-table-column\r\n              :field=\"'created'\"\r\n              :label=\"$t('created')\"\r\n              sortable\r\n            >\r\n              {{ Number(tag.created) | moment('ll') }}\r\n            </b-table-column>\r\n\r\n            <b-table-column label=\" \" centered>\r\n              <div class=\"buttons\">\r\n                <button class=\"button is-small is-link\" @click=\"startTagEdition(tag)\">\r\n                  {{$t('button-edit')}}\r\n                </button>\r\n                <button class=\"button is-small is-danger\" @click=\"deleteTagDialog(tag)\">\r\n                  {{$t('button-delete')}}\r\n                </button>\r\n              </div>\r\n            </b-table-column>\r\n          </template>\r\n\r\n          <template #empty>\r\n            <div class=\"content has-text-grey has-text-centered\">\r\n              <p>{{$t('no-tag-fitting-criteria')}}</p>\r\n            </div>\r\n          </template>\r\n\r\n          <template #bottom-left>\r\n            <b-select v-model=\"perPage\" size=\"is-small\">\r\n              <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n              <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n              <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n              <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n            </b-select>\r\n          </template>\r\n        </b-table>\r\n\r\n        <tag-modal :active.sync=\"modal\" :tag=\"editedTag\" @addTag=\"addTag\" @updateTag=\"updateTag\" />\r\n      </template>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {TagCollection} from 'cytomine-client';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\nimport TagModal from '@/components/tag/TagModal';\r\n\r\nexport default {\r\n  name: 'admin-tags',\r\n  components: {\r\n    TagModal\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      tags: null,\r\n      addTagModal: false,\r\n      searchString: '',\r\n      perPage: 25,\r\n      modal: false,\r\n      editedTag: null\r\n    };\r\n  },\r\n  computed: {\r\n    regexp() {\r\n      return getWildcardRegexp(this.searchString);\r\n    },\r\n    filteredTags() {\r\n      if(!this.searchString) {\r\n        return this.tags;\r\n      }\r\n\r\n      return this.tags.filter(ts => this.regexp.test(ts.name));\r\n    }\r\n  },\r\n  methods: {\r\n    startTagCreation() {\r\n      this.editedTag = null;\r\n      this.modal = true;\r\n    },\r\n    addTag(tag) {\r\n      this.tags.push(tag);\r\n    },\r\n    startTagEdition(tag) {\r\n      this.editedTag = tag;\r\n      this.modal = true;\r\n    },\r\n    updateTag(tag) {\r\n      this.editedTag.populate(tag);\r\n    },\r\n\r\n    deleteTagDialog(tag) {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('delete'),\r\n        message: this.$t('delete-tag-confirmation-message', {tagName: tag.name}),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.deleteTag(tag)\r\n      });\r\n    },\r\n    deleteTag(tag) {\r\n      try {\r\n        tag.delete();\r\n        this.tags.splice(this.tags.indexOf(tag), 1);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-tag-delete', {tagName: tag.name})\r\n        });\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-tag-delete', {tagName: this.currentTag.name})\r\n        });\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    try {\r\n      this.tags = (await TagCollection.fetchAll()).array;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n    }\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTags.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTags.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminTags.vue?vue&type=template&id=47bd9de5&\"\nimport script from \"./AdminTags.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminTags.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"box error\" v-if=\"!currentUser.adminByNow\">\r\n  <h2> {{ $t('access-denied') }} </h2>\r\n  <p>{{ $t('insufficient-permission') }}</p>\r\n</div>\r\n<div class=\"content-wrapper\" v-else>\r\n  <b-field class=\"radio-buttons-fullwidth\">\r\n    <b-radio-button v-model=\"activeTab\" native-value=\"dashboard\" type=\"is-link\">\r\n      {{$t('dashboard')}}\r\n    </b-radio-button>\r\n\r\n    <b-radio-button v-model=\"activeTab\" native-value=\"users\" type=\"is-link\">\r\n      {{$t('users')}}\r\n    </b-radio-button>\r\n\r\n    <b-radio-button v-show=\"algoEnabled\"  v-model=\"activeTab\" native-value=\"trusted-sources\" type=\"is-link\">\r\n      {{$t('trusted-sources')}}\r\n    </b-radio-button>\r\n\r\n    <b-radio-button v-model=\"activeTab\" native-value=\"tags\" type=\"is-link\">\r\n      {{$t('tags')}}\r\n    </b-radio-button>\r\n\r\n    <b-radio-button v-model=\"activeTab\" native-value=\"configuration\" type=\"is-link\">\r\n      {{$t('configuration')}}\r\n    </b-radio-button>\r\n  </b-field>\r\n\r\n  <div class=\"box\">\r\n    <keep-alive>\r\n      <component :is=\"activeComponent\" />\r\n    </keep-alive>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport AdminDashboard from './AdminDashboard';\r\nimport AdminUsers from './AdminUsers';\r\nimport AdminSoftware from './AdminSoftware';\r\nimport AdminConfiguration from './AdminConfiguration';\r\nimport AdminTags from './AdminTags';\r\nimport constants from '@/utils/constants.js';\r\nconst defaultTab = 'dashboard';\r\n\r\nexport default {\r\n  name: 'admin-panel',\r\n  data() {\r\n    return {\r\n      activeTab: 0,\r\n      tabNames: [\r\n        'dashboard',\r\n        'users',\r\n        'trusted-sources',\r\n        'tags',\r\n        'configuration'\r\n      ],\r\n      algoEnabled: constants.ALGORITHMS_ENABLED\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    queriedTab() {\r\n      return this.$route.query.tab;\r\n    },\r\n    // eslint-disable-next-line vue/return-in-computed-property\r\n    activeComponent() {\r\n      switch(this.activeTab) {\r\n        case 'dashboard':\r\n          return AdminDashboard;\r\n        case 'users':\r\n          return AdminUsers;\r\n        case 'configuration':\r\n          return AdminConfiguration;\r\n        case 'trusted-sources':\r\n          return AdminSoftware;\r\n        case 'tags':\r\n          return AdminTags;\r\n      }\r\n      throw new Error('Cannot load active tabs ' + this.activeTab);\r\n    }\r\n  },\r\n  watch: {\r\n    queriedTab() {\r\n      this.changeTab();\r\n    },\r\n    activeTab() {\r\n      if(this.activeTab !== defaultTab || this.queriedTab) {\r\n        this.$router.push(`?tab=${this.activeTab}`);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    changeTab() {\r\n      this.activeTab = this.queriedTab || defaultTab;\r\n      if(!this.activeComponent) {\r\n        this.activeTab = defaultTab;\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.changeTab();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.box {\r\n  position: relative;\r\n  min-height: 20em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminPanel.vue?vue&type=template&id=779e7332&scoped=true&\"\nimport script from \"./AdminPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminPanel.vue?vue&type=style&index=0&id=779e7332&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"779e7332\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"content-wrapper\"},[_c('div',{staticClass:\"box\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('activity-logs')))]),_c('activity-logs',{attrs:{\"idUser\":_vm.currentUser.id}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"content-wrapper\">\r\n  <div class=\"box\">\r\n    <h2>{{$t('activity-logs')}}</h2>\r\n    <activity-logs :idUser=\"currentUser.id\" />\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport ActivityLogs from '@/components/utils/ActivityLogs';\r\n\r\nexport default {\r\n  name: 'user-activity',\r\n  components: {ActivityLogs},\r\n  computed: {\r\n    currentUser: get('currentUser/user')\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.content-wrapper {\r\n  height: 100%;\r\n}\r\n\r\n.box {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserActivity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserActivity.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserActivity.vue?vue&type=template&id=0e92280e&scoped=true&\"\nimport script from \"./UserActivity.vue?vue&type=script&lang=js&\"\nexport * from \"./UserActivity.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserActivity.vue?vue&type=style&index=0&id=0e92280e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e92280e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('h1',[_vm._v(\" \"+_vm._s(_vm.$t('page-not-found'))+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <h1>\r\n    {{$t('page-not-found')}}\r\n  </h1>\r\n</template>\r\n\r\n\r\n<script>\r\nexport default {\r\n  name: 'page-not-found'\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  padding: 2rem;\r\n  font-size: 1.5rem !important;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageNotFound.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageNotFound.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PageNotFound.vue?vue&type=template&id=38a884ba&scoped=true&\"\nimport script from \"./PageNotFound.vue?vue&type=script&lang=js&\"\nexport * from \"./PageNotFound.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PageNotFound.vue?vue&type=style&index=0&id=38a884ba&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38a884ba\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"software-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('div',{staticClass:\"content-wrapper\"},[_c('nav',{staticClass:\"breadcrumb\",attrs:{\"aria-label\":\"breadcrumbs\"}},[_c('ul',[_c('li',[_c('router-link',{attrs:{\"to\":`/algorithm`}},[_vm._v(_vm._s(_vm.$t('algorithms')))])],1),_c('li',{staticClass:\"is-active\"},[_c('a',{attrs:{\"href\":\"#\",\"aria-current\":\"page\"}},[_vm._v(_vm._s(_vm.software.fullName))])])])]),_c('div',{staticClass:\"box\"},[(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('h1',[_vm._v(_vm._s(_vm.software.fullName))]),_c('div',{staticClass:\"description\"},[_c('cytomine-description',{attrs:{\"object\":_vm.software,\"canEdit\":_vm.canManageSoftware}})],1),_c('hr'),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('projects')))]),(_vm.projects.length)?_vm._l((_vm.projects),function(project,index){return _c('span',{key:project.id},[_c('router-link',{attrs:{\"to\":`/project/${project.id}`}},[_vm._v(_vm._s(project.name))]),(index < _vm.projects.length - 1)?_c('span',[_vm._v(\", \")]):_vm._e()],1)}):(_vm.nbProjects > 0)?_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('used-in-project-no-access'))+\" \")]):_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('not-used-in-any-project'))+\" \")])],2),_c('div',{staticClass:\"column\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('statistics')))]),_c('div',{staticClass:\"chart-container\"},[_c('software-statistics-chart',{attrs:{\"css-classes\":\"chart\",\"software\":_vm.software}})],1)])]),_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('software-parameters')))]),_c('b-table',{attrs:{\"data\":_vm.softwareParameters,\"default-sort\":\"created\",\"default-sort-direction\":\"desc\",\"paginated\":true,\"per-page\":_vm.softwareParametersPerPage,\"pagination-size\":\"is-small\",\"detailed\":\"\",\"detail-key\":\"id\"},scopedSlots:_vm._u([{key:\"default\",fn:function({row: parameter}){return [_c('b-table-column',{attrs:{\"label\":_vm.$t('name'),\"field\":\"name\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(parameter.humanName)+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('type'),\"field\":\"type\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t(parameter.type.toLowerCase()))+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('default-value'),\"field\":\"defaultValue\"}},[_vm._v(\" \"+_vm._s(parameter.defaultParamValue)+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('mandatory'),\"field\":\"mandatory\"}},[(parameter.required)?[_vm._v(_vm._s(_vm.$t('yes')))]:[_vm._v(_vm._s(_vm.$t('no')))]],2)]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-software-parameter')))])])]},proxy:true},{key:\"detail\",fn:function({row: parameter}){return [_c('software-parameter-details',{key:parameter.id,attrs:{\"parameter\":parameter}})]}},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.softwareParametersPerPage),callback:function ($$v) {_vm.softwareParametersPerPage=$$v},expression:\"softwareParametersPerPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}],null,false,1795709409)}),_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('other-information')))]),_c('software-details',{attrs:{\"software\":_vm.software,\"excluded-properties\":['projects', 'name', 'description']}})]],2)]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\",\"size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):_c('table',{staticClass:\"table\"},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('tbody',[(_vm.isPropDisplayed('id') && _vm.currentUser.isDeveloper)?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('id')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(_vm._s(_vm.parameter.id))])]):_vm._e(),(_vm.isPropDisplayed('description'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('description')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-description',{attrs:{\"object\":_vm.parameter,\"canEdit\":_vm.canManageParameter}})],1)]):_vm._e(),(_vm.isPropDisplayed('name'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('name')))]),_c('td',{staticClass:\"prop-content\"},[_c('code',[_vm._v(_vm._s(_vm.parameter.name))])])]):_vm._e(),(_vm.isPropDisplayed('valueKey'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('value-key')))]),_c('td',{staticClass:\"prop-content\"},[_c('code',[_vm._v(_vm._s(_vm.parameter.valueKey))])])]):_vm._e(),(_vm.isPropDisplayed('commandLineFlag'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('command-line-flag')))]),_c('td',{staticClass:\"prop-content\"},[_c('code',[_vm._v(_vm._s(_vm.parameter.commandLineFlag))])])]):_vm._e()]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\" size=\"is-small\">\r\n    <h2> {{ $t('error') }} </h2>\r\n    <p> {{ $t('unexpected-error-info-message') }} </p>\r\n  </b-message>\r\n  <table v-else class=\"table\">\r\n    <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\r\n    <tbody v-if=\"!loading\">\r\n\r\n    <tr v-if=\"isPropDisplayed('id') && currentUser.isDeveloper\">\r\n      <td class=\"prop-label\">{{$t('id')}}</td>\r\n      <td class=\"prop-content\">{{parameter.id}}</td>\r\n    </tr>\r\n\r\n    <tr v-if=\"isPropDisplayed('description')\">\r\n      <td class=\"prop-label\">{{$t('description')}}</td>\r\n      <td class=\"prop-content\">\r\n        <cytomine-description :object=\"parameter\" :canEdit=\"canManageParameter\" />\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('name')\">\r\n      <td class=\"prop-label\">{{$t('name')}}</td>\r\n      <td class=\"prop-content\">\r\n        <code>{{parameter.name}}</code>\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('valueKey')\">\r\n      <td class=\"prop-label\">{{$t('value-key')}}</td>\r\n      <td class=\"prop-content\">\r\n        <code>{{parameter.valueKey}}</code>\r\n      </td>\r\n    </tr>\r\n    <tr v-if=\"isPropDisplayed('commandLineFlag')\">\r\n      <td class=\"prop-label\">{{$t('command-line-flag')}}</td>\r\n      <td class=\"prop-content\">\r\n        <code>{{parameter.commandLineFlag}}</code>\r\n      </td>\r\n    </tr>\r\n    <!--  <tr v-if=\"canManageParameter\">-->\r\n    <!--    <td class=\"prop-label\">{{$t('actions')}}</td>-->\r\n    <!--    <td class=\"prop-content\">-->\r\n    <!--      <parameter-actions :parameter=\"parameter\" @update=\"$emit('update', $event)\" @delete=\"$emit('delete')\" />-->\r\n    <!--    </td>-->\r\n    <!--  </tr>-->\r\n    </tbody>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport CytomineDescription from '@/components/description/CytomineDescription';\r\n\r\nexport default {\r\n  name: 'software-parameter-details',\r\n  props: {\r\n    parameter: Object,\r\n    excludedProperties: {type: Array, default: () => []}\r\n  },\r\n  components: {\r\n    CytomineDescription,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    canManageParameter() {\r\n      return this.currentUser.adminByNow;\r\n    },\r\n  },\r\n  methods: {\r\n    isPropDisplayed(prop) {\r\n      return !this.excludedProperties.includes(prop);\r\n    },\r\n    async fetchProjects() {\r\n      this.loading = true;\r\n      this.error = false;\r\n\r\n      this.loading = false;\r\n    },\r\n  },\r\n  created() {\r\n    this.fetchProjects();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n  background: none;\r\n  position: relative;\r\n  height: 3em;\r\n}\r\n\r\ntd.prop-label {\r\n  white-space: nowrap;\r\n  font-weight: 600;\r\n}\r\n\r\ntd.prop-content {\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareParameterDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareParameterDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SoftwareParameterDetails.vue?vue&type=template&id=5b5f6240&scoped=true&\"\nimport script from \"./SoftwareParameterDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./SoftwareParameterDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SoftwareParameterDetails.vue?vue&type=style&index=0&id=5b5f6240&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b5f6240\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {HorizontalBar} from 'vue-chartjs';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\nimport jobStatusMapping from '@/utils/job-utils';\r\n\r\nimport {asArray as hexToRgb} from 'ol/color';\r\n\r\nconst defaultColor = '#eee';\r\n\r\nexport default {\r\n  name: 'software-statistics-chart',\r\n  extends: HorizontalBar,\r\n  props: {\r\n    software: Object,\r\n    startDate: Number,\r\n    endDate: Number\r\n  },\r\n  data() {\r\n    return {\r\n      chartData: null\r\n    };\r\n  },\r\n  computed: {\r\n    queryParams() {\r\n      return {\r\n        startDate: this.startDate,\r\n        endDate: this.endDate\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    async queryParams() {\r\n      this.doRenderChart();\r\n    }\r\n  },\r\n  methods: {\r\n    async doRenderChart() {\r\n      let status = Object.values(jobStatusMapping);\r\n      let data = status.map(status => this.software[status.statLabel]);\r\n      let borderColors = status.map(status => {\r\n        let [r, g, b] = hexToRgb(status.color || defaultColor);\r\n        const factor = 0.8;\r\n        return `rgba(${r*factor}, ${g*factor}, ${b*factor}, 1)`;\r\n      });\r\n\r\n      this.$emit('nbElems', data.length);\r\n\r\n      this.renderChart({\r\n        labels: status.map(status => this.$t(status.label)),\r\n        datasets: [\r\n          {\r\n            data,\r\n            backgroundColor: status.map(status => status.color || defaultColor),\r\n            borderColor: borderColors,\r\n            borderWidth: 1,\r\n            hoverBorderColor: borderColors,\r\n          }\r\n        ]\r\n      }, {\r\n        maintainAspectRatio: false,\r\n        legend: {display: false},\r\n        scales: {\r\n          xAxes: [{\r\n            ticks: {\r\n              min: 0,\r\n              suggestedMax: Math.round(Math.max(...data)*1.2)+1\r\n            }\r\n          }],\r\n          yAxes: [{\r\n            gridLines: {\r\n              display: false\r\n            },\r\n            categoryPercentage: 0.6\r\n          }]\r\n        }\r\n      });\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.addPlugin(ChartDataLabels);\r\n    this.doRenderChart();\r\n  }\r\n};\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div class=\"software-wrapper\">\r\n    <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n    <div class=\"content-wrapper\" v-if=\"!loading\">\r\n      <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\r\n        <ul>\r\n          <li><router-link :to=\"`/algorithm`\">{{$t('algorithms')}}</router-link></li>\r\n          <li class=\"is-active\"><a href=\"#\" aria-current=\"page\">{{software.fullName}}</a></li>\r\n        </ul>\r\n      </nav>\r\n\r\n      <div class=\"box\">\r\n        <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\r\n          <h2> {{ $t('error') }} </h2>\r\n          <p> {{ $t('unexpected-error-info-message') }} </p>\r\n        </b-message>\r\n\r\n        <template v-else>\r\n          <h1>{{software.fullName}}</h1>\r\n\r\n          <div class=\"description\">\r\n            <cytomine-description :object=\"software\" :canEdit=\"canManageSoftware\" />\r\n          </div>\r\n\r\n          <hr>\r\n\r\n          <div class=\"columns\">\r\n            <div class=\"column\">\r\n              <h2>{{$t('projects')}}</h2>\r\n              <template v-if=\"projects.length\">\r\n                <span v-for=\"(project, index) in projects\" :key=\"project.id\">\r\n                  <router-link :to=\"`/project/${project.id}`\">{{project.name}}</router-link>\r\n                  <span v-if=\"index < projects.length - 1\">, </span>\r\n                </span>\r\n              </template>\r\n              <em class=\"has-text-grey\" v-else-if=\"nbProjects > 0\">\r\n                {{$t('used-in-project-no-access')}}\r\n              </em>\r\n              <em class=\"has-text-grey\" v-else>\r\n                {{$t('not-used-in-any-project')}}\r\n              </em>\r\n            </div>\r\n            <div class=\"column\">\r\n              <h2>{{$t('statistics')}}</h2>\r\n              <div class=\"chart-container\">\r\n                <software-statistics-chart\r\n                  css-classes=\"chart\"\r\n                  :software=\"software\"\r\n                />\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n\r\n          <hr>\r\n\r\n          <h2>{{$t('software-parameters')}}</h2>\r\n\r\n          <b-table\r\n            :data=\"softwareParameters\"\r\n            default-sort=\"created\"\r\n            default-sort-direction=\"desc\"\r\n            :paginated=\"true\"\r\n            :per-page=\"softwareParametersPerPage\"\r\n            pagination-size=\"is-small\"\r\n            detailed detail-key=\"id\"\r\n          >\r\n            <template #default=\"{row: parameter}\">\r\n              <b-table-column :label=\"$t('name')\" field=\"name\" sortable>\r\n                {{parameter.humanName}}\r\n              </b-table-column>\r\n\r\n              <b-table-column :label=\"$t('type')\" field=\"type\" sortable>\r\n                {{$t(parameter.type.toLowerCase())}}\r\n              </b-table-column>\r\n\r\n              <b-table-column :label=\"$t('default-value')\" field=\"defaultValue\">\r\n                {{parameter.defaultParamValue}}\r\n              </b-table-column>\r\n\r\n              <b-table-column :label=\"$t('mandatory')\" field=\"mandatory\">\r\n                <template v-if=\"parameter.required\">{{$t('yes')}}</template>\r\n                <template v-else>{{$t('no')}}</template>\r\n              </b-table-column>\r\n            </template>\r\n\r\n            <template #empty>\r\n              <div class=\"content has-text-grey has-text-centered\">\r\n                <p>{{$t('no-software-parameter')}}</p>\r\n              </div>\r\n            </template>\r\n\r\n            <template #detail=\"{row: parameter}\">\r\n              <software-parameter-details :parameter=\"parameter\" :key=\"parameter.id\" />\r\n            </template>\r\n\r\n            <template #bottom-left>\r\n              <b-select v-model=\"softwareParametersPerPage\" size=\"is-small\">\r\n                <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\r\n                <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\r\n                <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\r\n                <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\r\n              </b-select>\r\n            </template>\r\n          </b-table>\r\n\r\n          <hr>\r\n\r\n          <h2>{{$t('other-information')}}</h2>\r\n\r\n          <software-details :software=\"software\" :excluded-properties=\"['projects', 'name', 'description']\"/>\r\n\r\n        </template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nimport {Software, SoftwareParameterCollection, ProjectCollection} from 'cytomine-client';\r\n\r\nimport CytomineDescription from '@/components/description/CytomineDescription';\r\nimport SoftwareParameterDetails from '@/components/software/SoftwareParameterDetails';\r\nimport SoftwareStatisticsChart from '@/components/charts/SoftwareStatisticsChart';\r\nimport SoftwareDetails from '@/components/software/SoftwareDetails';\r\n\r\n\r\nexport default {\r\n  name: 'software-information',\r\n  components: {\r\n    SoftwareDetails,\r\n    SoftwareStatisticsChart,\r\n    SoftwareParameterDetails,\r\n    CytomineDescription\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n\r\n      software: null,\r\n\r\n      softwareParameters: [],\r\n      softwareParametersPerPage: 10,\r\n\r\n      projects: [],\r\n\r\n      chartRevision: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    idSoftware() {\r\n      return Number(this.$route.params.idSoftware);\r\n    },\r\n    canManageSoftware() {\r\n      return this.currentUser.adminByNow;\r\n    },\r\n    nbProjects() {\r\n      return this.projects.length;\r\n    }\r\n  },\r\n  watch: {\r\n    async idSoftware() {\r\n      this.loading = true;\r\n      await this.loadSoftware();\r\n    },\r\n    async software() {\r\n      this.chartRevision++;\r\n    }\r\n  },\r\n  methods: {\r\n    async loadSoftware() {\r\n      try {\r\n        await Promise.all([\r\n          this.fetchSoftware(),\r\n          this.fetchSoftwareParameters(),\r\n          this.fetchProjects()\r\n        ]);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.error = true;\r\n        return;\r\n      }\r\n\r\n      this.chartRevision++;\r\n    },\r\n    async fetchSoftware() {\r\n      this.software = await Software.fetch(this.idSoftware);\r\n    },\r\n    async fetchSoftwareParameters() {\r\n      this.softwareParameters = (await SoftwareParameterCollection.fetchAll({filterKey: 'software', filterValue: this.idSoftware})).array;\r\n    },\r\n    async fetchProjects() {\r\n      this.projects = (await ProjectCollection.fetchAll({filterKey: 'software', filterValue: this.idSoftware})).array;\r\n    },\r\n  },\r\n  async created() {\r\n    await this.loadSoftware();\r\n    this.loading = false;\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  text-transform: initial;\r\n  letter-spacing: initial;\r\n  font-weight: 400;\r\n  font-size: 1.8rem;\r\n  margin-bottom: 0.7rem;\r\n}\r\n\r\nli {\r\n  margin-bottom: 0.5em;\r\n}\r\n\r\n.box {\r\n  position: relative;\r\n}\r\n\r\n.chart-container {\r\n  margin-top: 2em;\r\n  height: 10em;\r\n  position: relative;\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n.software-wrapper {\r\n  .table-wrapper {\r\n    margin-bottom: 0;\r\n  }\r\n\r\n  .chart {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  .field.is-horizontal {\r\n    align-items: center;\r\n  }\r\n\r\n  .field-label {\r\n    margin-right: 1em !important;\r\n    padding-top: 0 !important;\r\n  }\r\n}\r\n\r\n.table {\r\n  background: none;\r\n  position: relative;\r\n  height: 3em;\r\n}\r\n\r\ntd.prop-label {\r\n  white-space: nowrap;\r\n  font-weight: 600;\r\n}\r\n\r\ntd.prop-content {\r\n  width: 100%;\r\n}\r\n\r\n.description {\r\n  font-size: 14px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareInformation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareInformation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SoftwareInformation.vue?vue&type=template&id=067d1ba2&scoped=true&\"\nimport script from \"./SoftwareInformation.vue?vue&type=script&lang=js&\"\nexport * from \"./SoftwareInformation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SoftwareInformation.vue?vue&type=style&index=0&id=067d1ba2&prod&scoped=true&lang=css&\"\nimport style1 from \"./SoftwareInformation.vue?vue&type=style&index=1&id=067d1ba2&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"067d1ba2\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\nimport VueRouter from 'vue-router';\r\n\r\n// Import Components\r\nimport GlobalDashboard from './components/GlobalDashboard.vue';\r\nimport ListProjects from './components/project/ListProjects.vue';\r\nimport CytomineStorage from './components/storage/CytomineStorage.vue';\r\nimport ListOntologies from './components/ontology/ListOntologies.vue';\r\nimport ListSoftware from './components/software/ListSoftware.vue';\r\nimport ListImages from './components/image/ListImages.vue';\r\nimport ImageInformation from './components/image/ImageInformation.vue';\r\nimport ListAnnotations from './components/annotations/ListAnnotations.vue';\r\nimport ProjectActivity from './components/project/ProjectActivity.vue';\r\nimport ListJobs from './components/job/ListJobs.vue';\r\nimport ProjectInformation from './components/project/ProjectInformation.vue';\r\nimport ProjectConfiguration from './components/project/ProjectConfiguration.vue';\r\nimport Account from './components/user/Account.vue';\r\nimport AdvancedSearch from './components/search/AdvancedSearch.vue';\r\nimport CytomineViewer from './components/viewer/CytomineViewer.vue';\r\nimport CytomineProject from './components/project/CytomineProject.vue';\r\nimport ProjectHome from './components/project/ProjectHome.vue';\r\nimport MemberActivityDetails from './components/project/activity/MemberActivityDetails.vue';\r\nimport AdminPanel from './components/admin/AdminPanel.vue';\r\nimport UserActivity from './components/user/UserActivity.vue';\r\nimport PageNotFound from './components/PageNotFound.vue';\r\nimport SoftwareInformation from './components/software/SoftwareInformation.vue';\r\n\r\n// Define routes\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    component: GlobalDashboard, // Alternative: component: require(\"./components/GlobalDashboard.vue\").default\r\n  },\r\n  {\r\n    path: '/projects',\r\n    component: ListProjects,\r\n  },\r\n  {\r\n    path: '/storage',\r\n    component: CytomineStorage,\r\n  },\r\n  {\r\n    path: '/ontology/:idOntology?',\r\n    component: ListOntologies\r\n  },\r\n  {\r\n    path: '/algorithm',\r\n    component: ListSoftware\r\n  },\r\n  {\r\n    path: '/algorithm/:idSoftware',\r\n    component: SoftwareInformation\r\n  },\r\n  {\r\n    path: '/advanced-search/:searchString?',\r\n    component: AdvancedSearch\r\n  },\r\n  {\r\n    path: '/account',\r\n    component: Account,\r\n  },\r\n  {\r\n    path: '/project/:idProject',\r\n    component: CytomineProject,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: ProjectHome\r\n      },\r\n      {\r\n        path: 'images',\r\n        component: ListImages\r\n      },\r\n      {\r\n        path: 'image/:idImages',\r\n        component: CytomineViewer\r\n      },\r\n      {\r\n        path: 'image/:idImages/slice/:idSlices',\r\n        component: CytomineViewer\r\n      },\r\n      {\r\n        path: 'image/:idImage/information',\r\n        component: ImageInformation\r\n      },\r\n      {\r\n        path: 'image/:idImages/annotation/:idAnnotation',\r\n        component: CytomineViewer\r\n      },\r\n      {\r\n        path: 'image/:idImages/slice/:idSlices/annotation/:idAnnotation',\r\n        component: CytomineViewer\r\n      },\r\n      {\r\n        path: 'annotations',\r\n        component: ListAnnotations\r\n      },\r\n      {\r\n        path: 'analysis',\r\n        component: ListJobs\r\n      },\r\n      {\r\n        path: 'activity',\r\n        component: ProjectActivity\r\n      },\r\n      {\r\n        path: 'activity/user/:idUser',\r\n        component: MemberActivityDetails\r\n      },\r\n      {\r\n        path: 'information',\r\n        component: ProjectInformation\r\n      },\r\n      {\r\n        path: 'configuration',\r\n        component: ProjectConfiguration\r\n      },\r\n      {\r\n        path: '*',\r\n        component: PageNotFound\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '/activity',\r\n    component: UserActivity\r\n  },\r\n  {\r\n    path: '/admin',\r\n    component: AdminPanel\r\n  },\r\n\r\n  // redirections for old URLS\r\n  {path: '/userdashboard', redirect: '/'},\r\n  {path: '/project', redirect: '/projects'},\r\n  {path: '/explorer', redirect: '/'},\r\n  {path: '/upload', redirect: '/storage'},\r\n  {path: '/software', redirect: '/algorithm'},\r\n  {path: '/software/:idSoftware', redirect: '/algorithm/:idSoftware'},\r\n\r\n  {path: '/activity', redirect: '/'},\r\n  {path: '/activity-:idProject-', redirect: '/project/:idProject/activity'},\r\n  {path: '/activity-:idProject-:idUser', redirect: '/project/:idProject/activity/user/:idUser'},\r\n\r\n  {path: '/search-', redirect: '/advanced-search'},\r\n\r\n  {path: '/admin-tabs-dashboard', redirect: '/admin?tab=dashboard'},\r\n  {path: '/admin-tabs-users', redirect: '/admin?tab=users'},\r\n  {path: '/admin-tabs-groups', redirect: '/'}, // TODO\r\n  {path: '/admin-tabs-permissions', redirect: '/'}, // TODO\r\n  {path: '/admin-tabs-configuration', redirect: '/admin?tab=configuration'},\r\n\r\n  {path: '/tabs-dashboard-:idProject', redirect: '/project/:idProject/information'},\r\n  {path: '/tabs-images-:idProject', redirect: '/project/:idProject/images'},\r\n  {path: '/tabs-annotations-:idProject', redirect: '/project/:idProject/annotations'},\r\n  {path: '/tabs-annotationproperties-:idProject-:idAnnot', redirect: '/project/:idProject'},\r\n  {path: '/tabs-imageproperties-:idProject-:idImage', redirect: '/project/:idProject'},\r\n  {path: '/tabs-imageproperties-:idProject-:idImage', redirect: '/project/:idProject'},\r\n  {path: '/tabs-algos-:idProject', redirect: '/project/:idProject/analysis'},\r\n  {path: '/tabs-config-:idProject', redirect: '/project/:idProject/configuration'},\r\n  {path: '/tabs-usersconfig-:idProject', redirect: '/project/:idProject/configuration?tab=members'},\r\n  {path: '/tabs-#tabs-useractivity-:idProject-:idUser', redirect: '/project/:idProject/activity/user/:idUser'},\r\n  {path: '/tabs-image-:idProject-:idImage-0', redirect: '/project/:idProject/image/:idImage'},\r\n  {path: '/tabs-image-:idProject-:idImage-:idAnnotation', redirect: '/project/:idProject/image/:idImage/annotation/:idAnnotation'},\r\n  {path: '/tabs-image-:idProject-:idImage-', redirect: '/project/:idProject/image/:idImage'},\r\n  // -----\r\n\r\n  {\r\n    path: '*',\r\n    component: PageNotFound\r\n  }\r\n];\r\n\r\n// Create router instance\r\nconst router = new VueRouter({\r\n  routes: routes,\r\n  linkActiveClass: 'is-active'\r\n});\r\n\r\nexport default router;\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<script>\r\n/**\r\n * @module zoomify-source/source\r\n */\r\nimport ZoomifySource from 'ol/source/Zoomify';\r\nimport {createFromTileUrlFunctions} from 'ol/tileurlfunction';\r\nimport tileSource from 'vuelayers/lib/mixin/tile-source';\r\nimport TileGrid from 'ol/tilegrid/TileGrid';\r\nimport {DEFAULT_TILE_SIZE} from 'ol/tilegrid/common';\r\n\r\nconst props = {\r\n  tierSizeCalculation: {\r\n    type: String,\r\n  },\r\n  extent: {\r\n    type: Array,\r\n  },\r\n  size: {\r\n    type: Array,\r\n  },\r\n  url: {\r\n    type: [String, Function],\r\n    required: false // override property since it is not required if urls is set\r\n  },\r\n  urls: {\r\n    type: Array\r\n  },\r\n  tileSize: {\r\n    type: Number,\r\n    default: DEFAULT_TILE_SIZE\r\n  },\r\n};\r\n\r\nconst data = () => {\r\n  return {\r\n    tierSizeInTiles: null,\r\n    tileCountUpToTier: null,\r\n    resolutions: null\r\n  };\r\n};\r\n\r\nfunction created() { // source: https://github.com/openlayers/openlayers/blob/v5.3.0/src/ol/source/Zoomify.js#L137\r\n  const size = this.size;\r\n  const imageWidth = size[0];\r\n  const imageHeight = size[1];\r\n  const tierSizeInTiles = [];\r\n  let tileSizeForTierSizeCalculation = this.tileSize;\r\n  while (imageWidth > tileSizeForTierSizeCalculation || imageHeight > tileSizeForTierSizeCalculation) {\r\n    tierSizeInTiles.push([\r\n      Math.ceil(imageWidth / tileSizeForTierSizeCalculation),\r\n      Math.ceil(imageHeight / tileSizeForTierSizeCalculation),\r\n    ]);\r\n    tileSizeForTierSizeCalculation += tileSizeForTierSizeCalculation;\r\n  }\r\n  tierSizeInTiles.push([1, 1]);\r\n  tierSizeInTiles.reverse();\r\n\r\n  const resolutions = [1];\r\n  const tileCountUpToTier = [0];\r\n  for (let i = 1, ii = tierSizeInTiles.length; i < ii; i++) {\r\n    resolutions.push(1 << i);\r\n    tileCountUpToTier.push(\r\n      tierSizeInTiles[i - 1][0] * tierSizeInTiles[i - 1][1] +\r\n            tileCountUpToTier[i - 1]\r\n    );\r\n  }\r\n  resolutions.reverse();\r\n\r\n  this.tierSizeInTiles = tierSizeInTiles;\r\n  this.tileCountUpToTier = tileCountUpToTier;\r\n  this.resolutions = resolutions;\r\n}\r\n\r\nconst methods = {\r\n  createSource() {\r\n    if(!this.url && !this.urls) {\r\n      throw new Error('Either url or urls properties must be set for ZoomifySource');\r\n    }\r\n\r\n    let source = new ZoomifySource({\r\n      attributions: this.attributions,\r\n      cacheSize: this.cacheSize,\r\n      crossOrigin: this.crossOrigin,\r\n      projection: this.projection,\r\n      reprojectionErrorThreshold: this.reprojectionErrorThreshold,\r\n      url: this.urlTmpl,\r\n      tierSizeCalculation: this.tierSizeCalculation,\r\n      size: this.size,\r\n      extent: this.extent,\r\n      transition: this.transition,\r\n      tileSize: this.tileSize\r\n    });\r\n\r\n    if(this.urls) {\r\n      const tileUrlFunction = createFromTileUrlFunctions(this.urls.map(this.createFromTemplate(source)));\r\n      source.setTileUrlFunction(tileUrlFunction);\r\n    }\r\n\r\n    return source;\r\n  },\r\n  createTileGrid() {\r\n    const extent = this.extent || [0, -this.size[1], this.size[0], 0];\r\n    return new TileGrid({\r\n      tileSize: this.tileSize,\r\n      extent: extent,\r\n      origin: [extent[0], extent[3]],\r\n      resolutions: this.resolutions,\r\n    });\r\n  },\r\n  // source: https://github.com/openlayers/openlayers/blob/v5.3.0/src/ol/source/Zoomify.js#L202\r\n  // temporary hack since Zoomify does not support multiple URLs (https://github.com/openlayers/openlayers/issues/9352)\r\n  createFromTemplate(source) {\r\n    return template => {\r\n      return (\r\n        (tileCoord) => {\r\n          if (!tileCoord) {\r\n            return undefined;\r\n          }\r\n          else {\r\n            const tileCoordZ = tileCoord[0];\r\n            const tileCoordX = tileCoord[1];\r\n            const tileCoordY = -tileCoord[2] - 1;\r\n            const tileIndex = tileCoordX + tileCoordY * this.tierSizeInTiles[tileCoordZ][0];\r\n            const tileSize = source.tileGrid.getTileSize(tileCoordZ);\r\n            const tileWidth = Array.isArray(tileSize) ? tileSize[0] : tileSize;\r\n            const tileGroup = ((tileIndex + this.tileCountUpToTier[tileCoordZ]) / tileWidth) | 0;\r\n            const localContext = {\r\n              'z': tileCoordZ,\r\n              'x': tileCoordX,\r\n              'y': tileCoordY,\r\n              'tileIndex': tileIndex,\r\n              'TileGroup': 'TileGroup' + tileGroup\r\n            };\r\n            return template.replace(/\\{(\\w+?)\\}/g, function(m, p) {\r\n              return localContext[p];\r\n            });\r\n          }\r\n        }\r\n      );\r\n    };\r\n  }\r\n};\r\n\r\nconst watch = {\r\n  urls() {\r\n    //source: https://github.com/openlayers/openlayers/blob/v5.3.0/src/ol/source/UrlTile.js#L194\r\n    if (this.$source) {\r\n      const tileUrlFunction = createFromTileUrlFunctions(this.urls.map(this.createFromTemplate(this.$source)));\r\n      this.$source.setTileUrlFunction(tileUrlFunction, this.urls.join('\\n'));\r\n    }\r\n  },\r\n};\r\n\r\nexport default {\r\n  name: 'vl-source-zoomify',\r\n  mixins: [tileSource],\r\n  props,\r\n  data,\r\n  methods,\r\n  watch,\r\n  created\r\n};\r\n</script>\r\n","var render, staticRenderFns\nimport script from \"./source.vue?vue&type=script&lang=js&\"\nexport * from \"./source.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./source.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./source.vue?vue&type=script&lang=js&\"","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport { pick } from 'vuelayers/lib/util/minilo';\r\nimport Source from './source.vue';\r\n\r\n/**\r\n * @param {Vue} Vue\r\n * @param {VueLayersOptions} [options]\r\n */\r\nfunction plugin (Vue, options = {}) {\r\n  if (plugin.installed) {\r\n    return;\r\n  }\r\n  plugin.installed = true;\r\n\r\n  options = pick(options, 'dataProjection');\r\n  Object.assign(Source, options);\r\n\r\n  Vue.component(Source.name, Source);\r\n}\r\n\r\nexport default plugin;\r\n\r\nexport {\r\n  Source,\r\n  plugin as install,\r\n};\r\n","var render, staticRenderFns\nimport script from \"./source.vue?vue&type=script&lang=js&\"\nexport * from \"./source.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<script>\r\n/**\r\n * @module raster-source/source\r\n */\r\nimport RasterSource from 'ol/source/Raster';\r\nimport tileSource from 'vuelayers/lib/mixin/image-source';\r\n\r\nconst props = {\r\n  sources: {type: Array},\r\n  operation: {type: Function},\r\n  lib: {type: Object},\r\n};\r\n\r\nconst methods = {\r\n  createSource() {\r\n    return new RasterSource({\r\n      sources: this.sources,\r\n      operation: this.operation,\r\n      lib: this.lib,\r\n    });\r\n  }\r\n};\r\n\r\nconst watch = {\r\n  operation() {\r\n    this.$source.setOperation(this.operation, this.lib);\r\n  },\r\n  lib() {\r\n    this.$source.setOperation(this.operation, this.lib);\r\n  }\r\n};\r\n\r\nexport default {\r\n  name: 'vl-source-raster',\r\n  mixins: [tileSource],\r\n  props,\r\n  methods,\r\n  watch\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./source.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./source.vue?vue&type=script&lang=js&\"","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport {pick} from 'vuelayers/lib/util/minilo';\r\nimport Source from './source.vue';\r\n\r\n/**\r\n * @param {Vue} Vue\r\n * @param {VueLayersOptions} [options]\r\n */\r\nfunction plugin (Vue, options = {}) {\r\n  if (plugin.installed) {\r\n    return;\r\n  }\r\n  plugin.installed = true;\r\n\r\n  options = pick(options, 'dataProjection');\r\n  Object.assign(Source, options);\r\n\r\n  Vue.component(Source.name, Source);\r\n}\r\n\r\nexport default plugin;\r\n\r\nexport {\r\n  Source,\r\n  plugin as install,\r\n};\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<script>\r\n/** @module translate-interaction/interaction */\r\nimport TranslateInteraction from 'ol/interaction/Translate';\r\nimport observableFromOlEvent from 'vuelayers/lib/rx-ext/from-ol-event';\r\nimport interaction from 'vuelayers/lib/mixin/interaction';\r\nimport { isCollection } from 'vuelayers/lib/ol-ext/util';\r\nimport { isFunction } from 'vuelayers/lib/util/minilo';\r\nimport { hasInteraction } from 'vuelayers/lib/util/assert';\r\nimport { makeWatchers } from 'vuelayers/lib/util/vue-helpers';\r\n\r\n/**\r\n * @vueProps\r\n */\r\nconst props = {\r\n  /**\r\n   * Source or collection identifier from IdentityMap.\r\n   * @type {String}\r\n   */\r\n  source: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  /**\r\n   * Hit-detection tolerance. Pixels inside the radius around the given position will be checked for features.\r\n   * This only works for the canvas renderer and not for WebGL.\r\n   * @type {number}\r\n   */\r\n  hitTolerance: {\r\n    type: Number,\r\n    default: 0,\r\n  },\r\n};\r\n\r\n/**\r\n * @vueMethods\r\n */\r\nconst methods = {\r\n  /**\r\n   * @return {Promise<ol.interaction.Translate>}\r\n   * @protected\r\n   */\r\n  async createInteraction () {\r\n    let sourceIdent = this.makeIdent(this.source);\r\n    let source = await this.$identityMap.get(sourceIdent, this.$options.INSTANCE_PROMISE_POOL);\r\n    if (isFunction(source.getFeatures)) {\r\n      let features = source.getFeatures();\r\n      if (isCollection(features)) {\r\n        source = features;\r\n      }\r\n    }\r\n    return new TranslateInteraction({\r\n      // source: isVectorSource(source) ? source : undefined,\r\n      features: isCollection(source) ? source : undefined,\r\n      hitTolerance: this.hitTolerance\r\n    });\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  mount () {\r\n    interaction.methods.mount.call(this);\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  unmount () {\r\n    interaction.methods.unmount.call(this);\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  subscribeAll () {\r\n    subscribeToInteractionChanges.call(this);\r\n  },\r\n};\r\n\r\nconst watch = makeWatchers(['source'], () => function () {\r\n  this.scheduleRecreate();\r\n});\r\n\r\n/**\r\n * @vueProto\r\n * @alias module:translate-interaction/interaction\r\n * @title vl-interaction-translate\r\n */\r\nexport default {\r\n  name: 'vl-interaction-translate',\r\n  mixins: [interaction],\r\n  props,\r\n  methods,\r\n  watch,\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nfunction subscribeToInteractionChanges () {\r\n  hasInteraction(this);\r\n  const translateEvents = observableFromOlEvent(this.$interaction, ['translatestart', 'translateend']);\r\n  this.subscribeTo(translateEvents, evt => {\r\n    ++this.rev;\r\n    this.$emit(evt.type, evt);\r\n  });\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js&\"","var render, staticRenderFns\nimport script from \"./interaction.vue?vue&type=script&lang=js&\"\nexport * from \"./interaction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport { pick } from 'vuelayers/lib/util/minilo';\r\nimport Interaction from './interaction.vue';\r\n\r\nfunction plugin (Vue, options = {}) {\r\n  if (plugin.installed) {\r\n    return;\r\n  }\r\n  plugin.installed = true;\r\n\r\n  options = pick(options, 'dataProjection');\r\n  Object.assign(Interaction, options);\r\n\r\n  Vue.component(Interaction.name, Interaction);\r\n}\r\n\r\nexport default plugin;\r\n\r\nexport {\r\n  Interaction,\r\n  plugin as install,\r\n};\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<script>\r\n/** @module rotate-interaction/interaction */\r\nimport RotateFeatureInteraction from 'ol-rotate-feature';\r\nimport observableFromOlEvent from 'vuelayers/lib/rx-ext/from-ol-event';\r\nimport interaction from 'vuelayers/lib/mixin/interaction';\r\nimport stylesContainer from 'vuelayers/lib/mixin/styles-container';\r\nimport { defaultEditStyle, createStyle } from 'vuelayers/lib/ol-ext/style';\r\nimport { isCollection, isVectorSource } from 'vuelayers/lib/ol-ext/util';\r\nimport { mapValues, isFunction } from 'vuelayers/lib/util/minilo';\r\nimport mergeDescriptors from 'vuelayers/lib/util/multi-merge-descriptors';\r\nimport { hasInteraction } from 'vuelayers/lib/util/assert';\r\nimport { makeWatchers } from 'vuelayers/lib/util/vue-helpers';\r\n\r\n/**\r\n * @vueProps\r\n */\r\nconst props = {\r\n  /**\r\n   * Source or collection identifier from IdentityMap.\r\n   * @type {String}\r\n   */\r\n  source: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  /**\r\n   * Initial angle in radians (positive is counter-clockwise), applied for features already added to collection.\r\n   * @type {number}\r\n   */\r\n  angle: {\r\n    type: Number,\r\n    default: 0,\r\n  },\r\n};\r\n\r\n/**\r\n * @vueMethods\r\n */\r\nconst methods = {\r\n  /**\r\n   * @return {Promise<ol.interaction.Rotate>}\r\n   * @protected\r\n   */\r\n  async createInteraction () {\r\n    let sourceIdent = this.makeIdent(this.source);\r\n    let source = await this.$identityMap.get(sourceIdent, this.$options.INSTANCE_PROMISE_POOL);\r\n    if (isFunction(source.getFeatures)) {\r\n      let features = source.getFeatures();\r\n      if (isCollection(features)) {\r\n        source = features;\r\n      }\r\n    }\r\n    return new RotateFeatureInteraction({\r\n      source: isVectorSource(source) ? source : undefined,\r\n      features: isCollection(source) ? source : undefined,\r\n      deleteCondition: this.deleteCondition,\r\n      insertVertexCondition: this.insertVertexCondition,\r\n      pixelTolerance: this.pixelTolerance,\r\n      style: this.createStyleFunc(),\r\n      wrapX: this.wrapX,\r\n    });\r\n  },\r\n  /**\r\n   * @return {ol.StyleFunction}\r\n   * @protected\r\n   */\r\n  getDefaultStyles () {\r\n    const defaultStyles = mapValues(defaultEditStyle(), styles => styles.map(createStyle));\r\n    return function __selectDefaultStyleFunc (feature) {\r\n      if (feature.getGeometry()) {\r\n        return defaultStyles[feature.getGeometry().getType()];\r\n      }\r\n    };\r\n  },\r\n  /**\r\n   * @returns {Object}\r\n   * @protected\r\n   */\r\n  getServices () {\r\n    return mergeDescriptors(\r\n      interaction.methods.getServices.call(this),\r\n      stylesContainer.methods.getServices.call(this),\r\n    );\r\n  },\r\n  /**\r\n   * @return {ol.interaction.Interaction|undefined}\r\n   * @protected\r\n   */\r\n  getStyleTarget () {\r\n    return this.$interaction;\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  mount () {\r\n    interaction.methods.mount.call(this);\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  unmount () {\r\n    interaction.methods.unmount.call(this);\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  subscribeAll () {\r\n    subscribeToInteractionChanges.call(this);\r\n  },\r\n  /**\r\n   * @param {Array<{style: ol.style.Style, condition: (function|boolean|undefined)}>|ol.StyleFunction|Vue|undefined} styles\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  setStyle (styles) {\r\n    if (styles !== this._styles) {\r\n      this._styles = styles;\r\n      this.scheduleRefresh();\r\n    }\r\n  },\r\n};\r\n\r\nconst watch = makeWatchers(['source'], () => function () {\r\n  this.scheduleRecreate();\r\n});\r\n\r\n/**\r\n * @vueProto\r\n * @alias module:rotate-interaction/interaction\r\n * @title vl-interaction-rotate\r\n */\r\nexport default {\r\n  name: 'vl-interaction-rotate',\r\n  mixins: [interaction, stylesContainer],\r\n  props,\r\n  methods,\r\n  watch,\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nfunction subscribeToInteractionChanges () {\r\n  hasInteraction(this);\r\n  const rotateEvents = observableFromOlEvent(this.$interaction, ['rotatestart', 'rotateend']);\r\n  this.subscribeTo(rotateEvents, evt => {\r\n    ++this.rev;\r\n    this.$emit(evt.type, evt);\r\n  });\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js&\"","var render, staticRenderFns\nimport script from \"./interaction.vue?vue&type=script&lang=js&\"\nexport * from \"./interaction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport { pick } from 'vuelayers/lib/util/minilo';\r\nimport Interaction from './interaction.vue';\r\n\r\nfunction plugin (Vue, options = {}) {\r\n  if (plugin.installed) {\r\n    return;\r\n  }\r\n  plugin.installed = true;\r\n\r\n  options = pick(options, 'dataProjection');\r\n  Object.assign(Interaction, options);\r\n\r\n  Vue.component(Interaction.name, Interaction);\r\n}\r\n\r\nexport default plugin;\r\n\r\nexport {\r\n  Interaction,\r\n  plugin as install,\r\n};\r\n","import ModifyInteractionBase from 'ol/interaction/Modify';\r\nimport GeometryType from 'ol/geom/GeometryType';\r\nimport {equals as coordinatesEqual, distance as coordinateDistance, closestOnSegment} from 'ol/coordinate';\r\nimport {getUid} from 'ol/util';\r\nimport {boundingExtent} from 'ol/extent';\r\nimport {isRectangle} from '@/utils/geometry-utils';\r\n\r\nfunction getSegmentDataUid(segmentData) {\r\n  let uid = getUid(segmentData.feature);\r\n  const depth = segmentData.depth;\r\n  if (depth) {\r\n    uid += '-' + depth.join('-'); // separate feature components\r\n  }\r\n\r\n  return uid;\r\n}\r\n\r\n/**\r\n * @param {SegmentData} a The first segment data.\r\n * @param {SegmentData} b The second segment data.\r\n * @return {number} The difference in indexes.\r\n */\r\nfunction compareIndexes(a, b) {\r\n  return a.index - b.index;\r\n}\r\n\r\n/**\r\n * Returns the point closest to a given line segment.\r\n *\r\n * @param {import(\"ol/coordinate\").Coordinate} pointCoordinates The point to which a closest point\r\n *        should be found.\r\n * @param {SegmentData} segmentData The object describing the line\r\n *        segment which should contain the closest point.\r\n * @return {import(\"ol/coordinate\").Coordinate} The point closest to the specified line segment.\r\n */\r\nfunction closestOnSegmentData(pointCoordinates, segmentData) {\r\n  const geometry = segmentData.geometry;\r\n\r\n  if (geometry.getType() === GeometryType.CIRCLE &&\r\n    segmentData.index === 1) {\r\n    return geometry.getClosestPoint(pointCoordinates);\r\n  }\r\n  return closestOnSegment(pointCoordinates, segmentData.segment);\r\n}\r\n\r\n\r\nexport default class ModifyInteraction extends ModifyInteractionBase {\r\n  handleDragEvent(evt) {\r\n    this.ignoreNextSingleClick_ = false;\r\n    this.willModifyFeatures_(evt);\r\n\r\n    const vertex = evt.coordinate;\r\n    for (let i = 0, ii = this.dragSegments_.length; i < ii; ++i) {\r\n      const dragSegment = this.dragSegments_[i];\r\n      const segmentData = dragSegment[0];\r\n      const depth = segmentData.depth;\r\n      const geometry = segmentData.geometry;\r\n      let coordinates, newVertex;\r\n      const segment = segmentData.segment;\r\n      const index = dragSegment[1];\r\n\r\n      while (vertex.length < geometry.getStride()) {\r\n        vertex.push(segment[index][vertex.length]);\r\n      }\r\n\r\n      switch (geometry.getType()) {\r\n        case GeometryType.POINT:\r\n          coordinates = vertex;\r\n          segment[0] = segment[1] = vertex;\r\n          break;\r\n        case GeometryType.MULTI_POINT:\r\n          coordinates = geometry.getCoordinates();\r\n          coordinates[segmentData.index] = vertex;\r\n          segment[0] = segment[1] = vertex;\r\n          break;\r\n        case GeometryType.LINE_STRING:\r\n          coordinates = geometry.getCoordinates();\r\n          coordinates[segmentData.index + index] = vertex;\r\n          segment[index] = vertex;\r\n          break;\r\n        case GeometryType.MULTI_LINE_STRING:\r\n          coordinates = geometry.getCoordinates();\r\n          coordinates[depth[0]][segmentData.index + index] = vertex;\r\n          segment[index] = vertex;\r\n          break;\r\n        case GeometryType.POLYGON:\r\n          coordinates = geometry.getCoordinates();\r\n          newVertex = vertex;\r\n          if (i === 2 || i === 3) {\r\n            newVertex = coordinates[depth[0]][segmentData.index + index];\r\n            newVertex[0] = vertex[0];\r\n          }\r\n          else if (i === 4 || i === 5) {\r\n            newVertex = coordinates[depth[0]][segmentData.index + index];\r\n            newVertex[1] = vertex[1];\r\n          }\r\n          coordinates[depth[0]][segmentData.index + index] = newVertex;\r\n          segment[index] = newVertex;\r\n          break;\r\n        case GeometryType.MULTI_POLYGON:\r\n          coordinates = geometry.getCoordinates();\r\n          coordinates[depth[1]][depth[0]][segmentData.index + index] = vertex;\r\n          segment[index] = vertex;\r\n          break;\r\n        case GeometryType.CIRCLE:\r\n          segment[0] = segment[1] = vertex;\r\n          if (segmentData.index === 1) {\r\n            this.changingFeature_ = true;\r\n            geometry.setCenter(vertex);\r\n            this.changingFeature_ = false;\r\n          }\r\n          else { // We're dragging the circle's circumference:\r\n            this.changingFeature_ = true;\r\n            geometry.setRadius(coordinateDistance(geometry.getCenter(), vertex));\r\n            this.changingFeature_ = false;\r\n          }\r\n          break;\r\n        default:\r\n        // pass\r\n      }\r\n\r\n      if (coordinates) {\r\n        this.setGeometryCoordinates_(geometry, coordinates);\r\n      }\r\n    }\r\n    this.createOrUpdateVertexFeature_(vertex);\r\n  }\r\n\r\n  /**\r\n   * @inheritDoc\r\n   */\r\n  handleDownEvent(evt) {\r\n    if (!this.condition_(evt)) {\r\n      return false;\r\n    }\r\n    this.handlePointerAtPixel_(evt.pixel, evt.map);\r\n    const pixelCoordinate = evt.map.getCoordinateFromPixel(evt.pixel);\r\n    this.dragSegments_.length = 0;\r\n    this.modified_ = false;\r\n    const vertexFeature = this.vertexFeature_;\r\n    if (vertexFeature) {\r\n      const insertVertices = [];\r\n      const geometry = /** @type {Point} */ (vertexFeature.getGeometry());\r\n      const vertex = geometry.getCoordinates();\r\n      const vertexExtent = boundingExtent([vertex]);\r\n      const segmentDataMatches = this.rBush_.getInExtent(vertexExtent);\r\n      const componentSegments = {};\r\n      segmentDataMatches.sort(compareIndexes);\r\n      for (let i = 0, ii = segmentDataMatches.length; i < ii; ++i) {\r\n        const segmentDataMatch = segmentDataMatches[i];\r\n        const segment = segmentDataMatch.segment;\r\n        let uid = getSegmentDataUid(segmentDataMatch);\r\n        if (!componentSegments[uid]) {\r\n          componentSegments[uid] = new Array(2);\r\n        }\r\n        if (segmentDataMatch.geometry.getType() === GeometryType.CIRCLE &&\r\n          segmentDataMatch.index === 1) {\r\n\r\n          const closestVertex = closestOnSegmentData(pixelCoordinate, segmentDataMatch);\r\n          if (coordinatesEqual(closestVertex, vertex) && !componentSegments[uid][0]) {\r\n            this.dragSegments_.push([segmentDataMatch, 0]);\r\n            componentSegments[uid][0] = segmentDataMatch;\r\n          }\r\n        }\r\n        else if (segmentDataMatch.geometry.getType() === GeometryType.POLYGON\r\n          && isRectangle(segmentDataMatch.geometry)) {\r\n          let cid = segmentDataMatch.feature.get('annot').id;\r\n          const segmentDataBbox = this.rBush_.getInExtent(segmentDataMatch.geometry.getExtent()).filter( sd => {\r\n            return sd.feature.get('annot').id === cid;\r\n          });\r\n\r\n          const otherVertices = segmentDataMatch.geometry.getCoordinates()[0]\r\n            .filter(coord => !coordinatesEqual(coord, vertex));\r\n\r\n          const predicates = [\r\n            (sd) => coordinatesEqual(sd.segment[0], vertex)\r\n              && !componentSegments[getSegmentDataUid(sd)][0],\r\n            (sd) => coordinatesEqual(sd.segment[1], vertex)\r\n              && !componentSegments[getSegmentDataUid(sd)][1],\r\n            (sd) => sd.segment[0][0] === vertex[0] && sd.segment[0][1] !== vertex[1]\r\n              && otherVertices.find(c => coordinatesEqual(c, sd.segment[0])),\r\n            (sd) => sd.segment[1][0] === vertex[0] && sd.segment[1][1] !== vertex[1]\r\n              && otherVertices.find(c => coordinatesEqual(c, sd.segment[1])),\r\n            (sd) => sd.segment[0][1] === vertex[1] && sd.segment[0][0] !== vertex[0]\r\n              && otherVertices.find(c => coordinatesEqual(c, sd.segment[0])),\r\n            (sd) => sd.segment[1][1] === vertex[1] && sd.segment[1][0] !== vertex[0]\r\n              && otherVertices.find(c => coordinatesEqual(c, sd.segment[1]))\r\n          ];\r\n\r\n          for (let j = 0, jj = predicates.length; j < jj; ++j) {\r\n            const sd = segmentDataBbox.find(predicates[j]);\r\n            if (!sd) {\r\n              break;\r\n            }\r\n            this.dragSegments_.push([sd, j % 2]);\r\n            let uid = getSegmentDataUid(sd);\r\n            if (!componentSegments[uid]) {\r\n              componentSegments[uid] = new Array(2);\r\n            }\r\n            componentSegments[uid][j % 2] = sd;\r\n          }\r\n          break;\r\n        }\r\n        else if (coordinatesEqual(segment[0], vertex) &&\r\n          !componentSegments[uid][0]) {\r\n          this.dragSegments_.push([segmentDataMatch, 0]);\r\n          componentSegments[uid][0] = segmentDataMatch;\r\n        }\r\n        else if (coordinatesEqual(segment[1], vertex) &&\r\n          !componentSegments[uid][1]) {\r\n\r\n          // prevent dragging closed linestrings by the connecting node\r\n          if ((segmentDataMatch.geometry.getType() ===\r\n            GeometryType.LINE_STRING ||\r\n            segmentDataMatch.geometry.getType() ===\r\n            GeometryType.MULTI_LINE_STRING) &&\r\n            componentSegments[uid][0] &&\r\n            componentSegments[uid][0].index === 0) {\r\n            continue;\r\n          }\r\n\r\n          this.dragSegments_.push([segmentDataMatch, 1]);\r\n          componentSegments[uid][1] = segmentDataMatch;\r\n        }\r\n        else if (this.insertVertexCondition_(evt) && getUid(segment) in this.vertexSegments_ &&\r\n          (!componentSegments[uid][0] && !componentSegments[uid][1])) {\r\n          insertVertices.push([segmentDataMatch, vertex]);\r\n        }\r\n      }\r\n      if (insertVertices.length) {\r\n        this.willModifyFeatures_(evt);\r\n      }\r\n      for (let j = insertVertices.length - 1; j >= 0; --j) {\r\n        this.insertVertex_.apply(this, insertVertices[j]);\r\n      }\r\n    }\r\n    return !!this.vertexFeature_;\r\n  }\r\n}\r\n\r\n","<script>\r\nimport {altKeyOnly, always, primaryAction} from 'ol/events/condition';\r\nimport ModifyInteraction from './modify';\r\nimport interaction from 'vuelayers/lib/mixin/interaction';\r\nimport stylesContainer from 'vuelayers/lib/mixin/styles-container';\r\nimport {createStyle, defaultEditStyle} from 'vuelayers/lib/ol-ext/style';\r\nimport {isCollection, isVectorSource} from 'vuelayers/lib/ol-ext/util';\r\nimport observableFromOlEvent from 'vuelayers/lib/rx-ext/from-ol-event';\r\nimport {hasInteraction} from 'vuelayers/lib/util/assert';\r\nimport {isFunction, mapValues} from 'vuelayers/lib/util/minilo';\r\nimport mergeDescriptors from 'vuelayers/lib/util/multi-merge-descriptors';\r\nimport {makeWatchers} from 'vuelayers/lib/util/vue-helpers';\r\n\r\n/**\r\n * @vueProps\r\n */\r\nconst props = {\r\n  /**\r\n   * Source or collection identifier from IdentityMap.\r\n   * @type {String}\r\n   */\r\n  source: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  /**\r\n   * A function that takes an `ol.MapBrowserEvent` and returns a boolean to indicate whether that event will be\r\n   * considered to add or move a vertex to the sketch. Default is `ol.events.condition.primaryAction`.\r\n   * @type {function|undefined}\r\n   */\r\n  condition: {\r\n    type: Function,\r\n    default: primaryAction,\r\n  },\r\n  /**\r\n   * A function that takes an `ol.MapBrowserEvent` and returns a boolean to indicate whether that event should be handled.\r\n   * By default, `ol.events.condition.singleClick` with `ol.events.condition.altKeyOnly` results in a vertex deletion.\r\n   * @type {function|undefined}\r\n   */\r\n  deleteCondition: {\r\n    type: Function,\r\n    default: altKeyOnly,\r\n  },\r\n  /**\r\n   * A function that takes an `ol.MapBrowserEvent` and returns a boolean to indicate whether a new vertex can be added\r\n   * to the sketch features. Default is `ol.events.condition.always`.\r\n   * @type {function|undefined}\r\n   */\r\n  insertVertexCondition: {\r\n    type: Function,\r\n    default: always,\r\n  },\r\n  /**\r\n   * Pixel tolerance for considering the pointer close enough to a segment or vertex for editing.\r\n   * @type {number}\r\n   */\r\n  pixelTolerance: {\r\n    type: Number,\r\n    default: 10,\r\n  },\r\n  /**\r\n   * Wrap the world horizontally on the sketch overlay.\r\n   * @type {boolean}\r\n   */\r\n  wrapX: {\r\n    type: Boolean,\r\n    default: false,\r\n  },\r\n};\r\n\r\n/**\r\n * @vueMethods\r\n */\r\nconst methods = {\r\n  /**\r\n   * @return {Promise<Modify>}\r\n   * @protected\r\n   */\r\n  async createInteraction() {\r\n    let sourceIdent = this.makeIdent(this.source);\r\n    let source = await this.$identityMap.get(sourceIdent, this.$options.INSTANCE_PROMISE_POOL);\r\n\r\n    if (isFunction(source.getFeatures)) {\r\n      let features = source.getFeatures();\r\n      if (isCollection(features)) {\r\n        source = features;\r\n      }\r\n    }\r\n\r\n    return new ModifyInteraction({\r\n      source: isVectorSource(source) ? source : undefined,\r\n      features: isCollection(source) ? source : undefined,\r\n      deleteCondition: this.deleteCondition,\r\n      insertVertexCondition: this.insertVertexCondition,\r\n      pixelTolerance: this.pixelTolerance,\r\n      style: this.createStyleFunc(),\r\n      wrapX: this.wrapX,\r\n    });\r\n  },\r\n  /**\r\n   * @return {function(feature: Feature): Style}\r\n   * @protected\r\n   */\r\n  getDefaultStyles() {\r\n    const defaultStyles = mapValues(defaultEditStyle(), styles => styles.map(createStyle));\r\n\r\n    return function __selectDefaultStyleFunc(feature) {\r\n      if (feature.getGeometry()) {\r\n        return defaultStyles[feature.getGeometry().getType()];\r\n      }\r\n    };\r\n  },\r\n  /**\r\n   * @returns {Object}\r\n   * @protected\r\n   */\r\n  getServices() {\r\n    return mergeDescriptors(\r\n      interaction.methods.getServices.call(this),\r\n      stylesContainer.methods.getServices.call(this),\r\n    );\r\n  },\r\n  /**\r\n   * @return {Interaction|undefined}\r\n   * @protected\r\n   */\r\n  getStyleTarget() {\r\n    return this.$interaction;\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  mount() {\r\n    interaction.methods.mount.call(this);\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  unmount() {\r\n    interaction.methods.unmount.call(this);\r\n  },\r\n  /**\r\n   * @param {Array<{style: Style, condition: (function|boolean|undefined)}>|function(feature: Feature): Style|Vue|undefined} styles\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  setStyle(styles) {\r\n    if (styles !== this._styles) {\r\n      this._styles = styles;\r\n      this.scheduleRefresh();\r\n    }\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  subscribeAll() {\r\n    subscribeToInteractionChanges.call(this);\r\n  },\r\n};\r\n\r\nconst watch = makeWatchers(['source'], () => function () {\r\n  this.scheduleRecreate();\r\n});\r\n\r\n/**\r\n * @vueProto\r\n * @alias module:modify-interaction/interaction\r\n * @title vl-interaction-modify\r\n */\r\nexport default {\r\n  name: 'vl-interaction-modify',\r\n  mixins: [interaction, stylesContainer],\r\n  props,\r\n  methods,\r\n  watch,\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nfunction subscribeToInteractionChanges() {\r\n  hasInteraction(this);\r\n\r\n  const modifyEvents = observableFromOlEvent(this.$interaction, ['modifystart', 'modifyend']);\r\n  this.subscribeTo(modifyEvents, evt => {\r\n    ++this.rev;\r\n    this.$emit(evt.type, evt);\r\n  });\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js&\"","var render, staticRenderFns\nimport script from \"./interaction.vue?vue&type=script&lang=js&\"\nexport * from \"./interaction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport { pick } from 'vuelayers/lib/util/minilo';\r\nimport Interaction from './interaction.vue';\r\n\r\nfunction plugin (Vue, options = {}) {\r\n  if (plugin.installed) {\r\n    return;\r\n  }\r\n  plugin.installed = true;\r\n\r\n  options = pick(options, 'dataProjection');\r\n  Object.assign(Interaction, options);\r\n\r\n  Vue.component(Interaction.name, Interaction);\r\n}\r\n\r\nexport default plugin;\r\n\r\nexport {\r\n  Interaction,\r\n  plugin as install,\r\n};\r\n","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<script>\r\n/** @module rotate-interaction/interaction */\r\nimport RescaleFeatureInteraction from 'ol-rescale-feature';\r\nimport observableFromOlEvent from 'vuelayers/lib/rx-ext/from-ol-event';\r\nimport interaction from 'vuelayers/lib/mixin/interaction';\r\nimport stylesContainer from 'vuelayers/lib/mixin/styles-container';\r\nimport { defaultEditStyle, createStyle } from 'vuelayers/lib/ol-ext/style';\r\nimport { isCollection, isVectorSource } from 'vuelayers/lib/ol-ext/util';\r\nimport { mapValues, isFunction } from 'vuelayers/lib/util/minilo';\r\nimport mergeDescriptors from 'vuelayers/lib/util/multi-merge-descriptors';\r\nimport { hasInteraction } from 'vuelayers/lib/util/assert';\r\nimport { makeWatchers } from 'vuelayers/lib/util/vue-helpers';\r\n\r\n/**\r\n * @vueProps\r\n */\r\nconst props = {\r\n  /**\r\n   * Source or collection identifier from IdentityMap.\r\n   * @type {String}\r\n   */\r\n  source: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  /**\r\n   * Initial scale factor, applied for features already added to collection.\r\n   * @type {number}\r\n   */\r\n  factor: {\r\n    type: Number,\r\n    default: 1,\r\n  },\r\n};\r\n\r\n/**\r\n * @vueMethods\r\n */\r\nconst methods = {\r\n  /**\r\n   * @return {Promise<ol.interaction.Rescale>}\r\n   * @protected\r\n   */\r\n  async createInteraction () {\r\n    let sourceIdent = this.makeIdent(this.source);\r\n    let source = await this.$identityMap.get(sourceIdent, this.$options.INSTANCE_PROMISE_POOL);\r\n    if (isFunction(source.getFeatures)) {\r\n      let features = source.getFeatures();\r\n      if (isCollection(features)) {\r\n        source = features;\r\n      }\r\n    }\r\n    return new RescaleFeatureInteraction({\r\n      source: isVectorSource(source) ? source : undefined,\r\n      features: isCollection(source) ? source : undefined,\r\n      deleteCondition: this.deleteCondition,\r\n      insertVertexCondition: this.insertVertexCondition,\r\n      pixelTolerance: this.pixelTolerance,\r\n      style: this.createStyleFunc(),\r\n      wrapX: this.wrapX,\r\n    });\r\n  },\r\n  /**\r\n   * @return {ol.StyleFunction}\r\n   * @protected\r\n   */\r\n  getDefaultStyles () {\r\n    const defaultStyles = mapValues(defaultEditStyle(), styles => styles.map(createStyle));\r\n    return function __selectDefaultStyleFunc (feature) {\r\n      if (feature.getGeometry()) {\r\n        return defaultStyles[feature.getGeometry().getType()];\r\n      }\r\n    };\r\n  },\r\n  /**\r\n   * @returns {Object}\r\n   * @protected\r\n   */\r\n  getServices () {\r\n    return mergeDescriptors(\r\n      interaction.methods.getServices.call(this),\r\n      stylesContainer.methods.getServices.call(this),\r\n    );\r\n  },\r\n  /**\r\n   * @return {ol.interaction.Interaction|undefined}\r\n   * @protected\r\n   */\r\n  getStyleTarget () {\r\n    return this.$interaction;\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  mount () {\r\n    interaction.methods.mount.call(this);\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  unmount () {\r\n    interaction.methods.unmount.call(this);\r\n  },\r\n  /**\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  subscribeAll () {\r\n    subscribeToInteractionChanges.call(this);\r\n  },\r\n  /**\r\n   * @param {Array<{style: ol.style.Style, condition: (function|boolean|undefined)}>|ol.StyleFunction|Vue|undefined} styles\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  setStyle (styles) {\r\n    if (styles !== this._styles) {\r\n      this._styles = styles;\r\n      this.scheduleRefresh();\r\n    }\r\n  },\r\n};\r\n\r\nconst watch = makeWatchers(['source'], () => function () {\r\n  this.scheduleRecreate();\r\n});\r\n\r\n/**\r\n * @vueProto\r\n * @alias module:rescale-interaction/interaction\r\n * @title vl-interaction-rescale\r\n */\r\nexport default {\r\n  name: 'vl-interaction-rescale',\r\n  mixins: [interaction, stylesContainer],\r\n  props,\r\n  methods,\r\n  watch,\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nfunction subscribeToInteractionChanges () {\r\n  hasInteraction(this);\r\n  const rescaleEvents = observableFromOlEvent(this.$interaction, ['rescalestart', 'rescaleend']);\r\n  this.subscribeTo(rescaleEvents, evt => {\r\n    ++this.rev;\r\n    this.$emit(evt.type, evt);\r\n  });\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js&\"","var render, staticRenderFns\nimport script from \"./interaction.vue?vue&type=script&lang=js&\"\nexport * from \"./interaction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport { pick } from 'vuelayers/lib/util/minilo';\r\nimport Interaction from './interaction.vue';\r\n\r\nfunction plugin (Vue, options = {}) {\r\n  if (plugin.installed) {\r\n    return;\r\n  }\r\n  plugin.installed = true;\r\n\r\n  options = pick(options, 'dataProjection');\r\n  Object.assign(Interaction, options);\r\n\r\n  Vue.component(Interaction.name, Interaction);\r\n}\r\n\r\nexport default plugin;\r\n\r\nexport {\r\n  Interaction,\r\n  plugin as install,\r\n};\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wrapper\",attrs:{\"id\":\"app\"}},[_c('notifications',{attrs:{\"position\":\"top center\",\"width\":\"30%\",\"max\":5},scopedSlots:_vm._u([{key:\"body\",fn:function(props){return [_c('div',{staticClass:\"notification vue-notification\",class:props.item.type},[_c('button',{staticClass:\"delete\",on:{\"click\":props.close}}),_c('strong',{staticClass:\"notification-title\"},[_vm._v(\" \"+_vm._s(props.item.title)+\" \")]),_c('div',{staticClass:\"notification-content\",domProps:{\"innerHTML\":_vm._s(props.item.text)}})])]}}])}),(!_vm.loading)?[(_vm.communicationError)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('communication-error'))+\" \")]),_vm._v(\" \"+_vm._s(_vm.$t('core-cannot-be-reached'))+\" \")]):(!_vm.currentUser)?_c('login'):[_c('cytomine-navbar'),_c('div',{staticClass:\"bottom\"},[_c('keep-alive',{attrs:{\"include\":\"cytomine-storage\"}},[(_vm.currentUser)?_c('router-view'):_vm._e()],1)],1)]]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('nav',{staticClass:\"navbar is-light\",attrs:{\"role\":\"navigation\"}},[_c('div',{staticClass:\"navbar-brand\"},[_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/\",\"exact\":\"\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.svg\"),\"id\":\"logo\",\"alt\":\"Cytomine\"}})]),_c('a',{staticClass:\"navbar-burger\",class:{'is-active':_vm.openedTopMenu},attrs:{\"role\":\"\"},on:{\"click\":function($event){_vm.openedTopMenu=!_vm.openedTopMenu}}},[_c('span'),_vm._v(\" \"),_c('span'),_vm._v(\" \"),_c('span')])],1),_c('div',{staticClass:\"navbar-menu\",class:{'is-active':_vm.openedTopMenu},attrs:{\"id\":\"topMenu\"}},[_c('div',{staticClass:\"navbar-start\"},[(this.nbActiveProjects > 0)?_c('navbar-dropdown',{attrs:{\"icon\":\"fa-folder-open\",\"title\":_vm.$t('workspace'),\"listPathes\":['/project/']}},[_c('navigation-tree')],1):_vm._e(),_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/projects\"}},[_c('i',{staticClass:\"fas fa-list-alt\"}),_vm._v(\" \"+_vm._s(_vm.$t('projects'))+\" \")]),(!_vm.currentUser.guestByNow)?_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/storage\"}},[_c('i',{staticClass:\"fas fa-download\"}),_vm._v(\" \"+_vm._s(_vm.$t('storage'))+\" \")]):_vm._e(),_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/ontology\"}},[_c('i',{staticClass:\"fas fa-hashtag\"}),_vm._v(\" \"+_vm._s(_vm.$t('ontologies'))+\" \")]),_c('router-link',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.algoEnabled),expression:\"algoEnabled\"}],staticClass:\"navbar-item\",attrs:{\"to\":\"/algorithm\"}},[_c('i',{staticClass:\"fas fa-code\"}),_vm._v(\" \"+_vm._s(_vm.$t('algorithms'))+\" \")]),(_vm.currentUser.adminByNow)?_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/admin\"}},[_c('i',{staticClass:\"fas fa-wrench\"}),_vm._v(\" \"+_vm._s(_vm.$t('admin-menu'))+\" \")]):_vm._e()],1),_c('div',{staticClass:\"navbar-end\"},[_c('cytomine-searcher'),_c('navbar-dropdown',{attrs:{\"icon\":_vm.currentUser.adminByNow ? 'fa-star' : _vm.currentUser.isSwitched ? 'fa-user-ninja' : 'fa-user',\"title\":_vm.currentUserFullInfo,\"linkClasses\":{'has-text-dark-primary': _vm.currentUser.isSwitched},\"tag\":_vm.currentUser.adminByNow ? {type: 'is-danger', text: _vm.$t('admin')} : null,\"listPathes\":['/account', '/activity']}},[_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/account\"}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-user fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t('account'))+\" \")]),_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/activity\"}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-history fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t('activity-history'))+\" \")]),(_vm.currentUser.admin)?[(!_vm.currentUser.adminByNow)?_c('a',{staticClass:\"navbar-item\",on:{\"click\":function($event){return _vm.openAdminSession()}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-star fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t('open-admin-session'))+\" \")]):_c('a',{staticClass:\"navbar-item\",on:{\"click\":function($event){return _vm.closeAdminSession()}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"far fa-star fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t('close-admin-session'))+\" \")])]:_vm._e(),(_vm.currentUser.isSwitched)?[_c('a',{staticClass:\"navbar-item has-text-dark-primary\",on:{\"click\":function($event){return _vm.stopSwitchUser()}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-exchange-alt fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t('switch-back-to-user', {username: _vm.currentUser.realUser}))+\" \")])]:_vm._e(),_c('a',{staticClass:\"navbar-item\",on:{\"click\":function($event){return _vm.logout()}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-power-off fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t('logout'))+\" \")])],2),_c('navbar-dropdown',{attrs:{\"icon\":\"fa-question-circle\",\"title\":_vm.$t('help'),\"classes\":['is-right']}},[_c('a',{staticClass:\"navbar-item\",on:{\"click\":function($event){return _vm.openHotkeysModal()}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"far fa-keyboard fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t('shortcuts'))+\" \")]),_c('a',{staticClass:\"navbar-item\",on:{\"click\":function($event){return _vm.openAboutModal()}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-info-circle fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t('about-cytomine'))+\" \")])])],1)]),_c('div',{directives:[{name:\"shortkey\",rawName:\"v-shortkey.once\",value:(_vm.openHotkeysModalShortcut),expression:\"openHotkeysModalShortcut\",modifiers:{\"once\":true}}],staticClass:\"hidden\",on:{\"shortkey\":_vm.openHotkeysModal}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"navbar-item has-dropdown is-hoverable\"},[_c('span',{staticClass:\"navbar-link\",class:{'is-active': _vm.isActive, ..._vm.linkClasses},attrs:{\"tabindex\":\"0\"}},[(_vm.icon)?_c('i',{class:[_vm.iconPack, _vm.icon]}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.title)+\" \"),(_vm.tag)?_c('b-tag',{attrs:{\"type\":_vm.tag.type}},[_vm._v(_vm._s(_vm.tag.text))]):_vm._e()],1),_c('div',{staticClass:\"navbar-dropdown\",class:_vm.classes},[_vm._t(\"default\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"navbar-item has-dropdown is-hoverable\">\r\n  <span class=\"navbar-link\" :class=\"{'is-active': isActive, ...linkClasses}\" tabindex=\"0\">\r\n    <i v-if=\"icon\" :class=\"[iconPack, icon]\"></i>\r\n    {{title}}\r\n    <b-tag v-if=\"tag\" :type=\"tag.type\">{{tag.text}}</b-tag>\r\n  </span>\r\n  <div class=\"navbar-dropdown\" :class=\"classes\">\r\n    <slot></slot>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'navbar-dropdown',\r\n  props: {\r\n    icon: String,\r\n    iconPack: {type: String, default: 'fas'},\r\n    title: String,\r\n    tag: Object,\r\n    classes: Array,\r\n    linkClasses: Object,\r\n    listPathes: Array\r\n  },\r\n  data() {\r\n    return {\r\n      isActive: false\r\n    };\r\n  },\r\n  watch: {\r\n    '$route.path': {\r\n      handler() {\r\n        if (this.listPathes) {\r\n          this.isActive = !!this.listPathes.find(p => this.$route.path.match(p));\r\n        }\r\n        // required so dropdown doesn't remain open on route change.\r\n        document.activeElement.blur();\r\n      },\r\n      immediate: true\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.navbar-item .tag {\r\n  margin-left: 0.5rem;\r\n}\r\n@media screen and (min-width: 1024px) {\r\n  .navbar-item.is-hoverable:hover .navbar-dropdown {\r\n    display: block;\r\n  }\r\n  .navbar-item.is-hoverable:focus-within:not(:hover) .navbar-dropdown {\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavbarDropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavbarDropdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavbarDropdown.vue?vue&type=template&id=92a0791a&\"\nimport script from \"./NavbarDropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./NavbarDropdown.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavbarDropdown.vue?vue&type=style&index=0&id=92a0791a&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"navigation-tree-wrapper\"},_vm._l((_vm.projects),function(project,_,index){return _c('div',{key:project.id},[_c('router-link',{staticClass:\"navbar-item project-item\",attrs:{\"to\":`/project/${project.id}`}},[_vm._v(\" \"+_vm._s(project.name)+\" \"),_c('a',{staticClass:\"delete is-small\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.closeProject(project)}}})]),_vm._l((project.viewers),function(viewer,idViewer){return [(_vm.nbImages(viewer))?_c('router-link',{key:idViewer,staticClass:\"navbar-item viewer-item\",attrs:{\"to\":_vm.viewerPath(project.id, idViewer),\"exact\":\"\"}},[_c('div',{staticClass:\"viewer-name\"},[_c('span',[_c('i',{staticClass:\"fas fa-caret-right\"}),(_vm.nbImages(viewer) === 1)?[_c('image-name',{attrs:{\"image\":Object.values(viewer.images)[0].imageInstance}})]:[_vm._v(\" \"+_vm._s(_vm.$t('viewer-group', {nbImages: _vm.nbImages(viewer)}))+\" \")],_vm._v(\" \"+_vm._s(viewer.name)+\" \")],2),(_vm.nbImages(viewer) > 1)?_c('ul',{staticClass:\"viewer-details\"},_vm._l((viewer.images),function(image,idx){return _c('li',{key:idx},[_c('image-name',{attrs:{\"image\":image.imageInstance}})],1)}),0):_vm._e()]),_c('a',{staticClass:\"delete is-small\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.closeViewer(project.id, idViewer)}}})]):_vm._e()]}),(index < _vm.projects.length - 1)?_c('hr',{staticClass:\"navbar-divider\"}):_vm._e()],2)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"navigation-tree-wrapper\">\r\n  <div v-for=\"(project, _, index) in projects\" :key=\"project.id\">\r\n\r\n    <router-link\r\n      class=\"navbar-item project-item\"\r\n      :to=\"`/project/${project.id}`\"\r\n    >\r\n      {{project.name}}\r\n      <a class=\"delete is-small\" @click.stop.prevent=\"closeProject(project)\"></a>\r\n    </router-link>\r\n\r\n    <template v-for=\"(viewer, idViewer) in project.viewers\">\r\n      <router-link\r\n        v-if=\"nbImages(viewer)\"\r\n        class=\"navbar-item viewer-item\"\r\n        :to=\"viewerPath(project.id, idViewer)\"\r\n        :key=\"idViewer\"\r\n        exact\r\n      >\r\n        <div class=\"viewer-name\">\r\n          <span>\r\n            <i class=\"fas fa-caret-right\"></i>\r\n            <template v-if=\"nbImages(viewer) === 1\">\r\n              <image-name :image=\"Object.values(viewer.images)[0].imageInstance\" />\r\n            </template>\r\n            <template v-else>\r\n              {{$t('viewer-group', {nbImages: nbImages(viewer)})}}\r\n            </template>\r\n            {{viewer.name}}\r\n          </span>\r\n          <ul class=\"viewer-details\" v-if=\"nbImages(viewer) > 1\">\r\n            <li v-for=\"(image, idx) in viewer.images\" :key=\"idx\">\r\n              <image-name :image=\"image.imageInstance\" />\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <a class=\"delete is-small\" @click.stop.prevent=\"closeViewer(project.id, idViewer)\"></a>\r\n      </router-link>\r\n    </template>\r\n    <hr v-if=\"index < projects.length - 1\" class=\"navbar-divider\">\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport ImageName from '@/components/image/ImageName';\r\n\r\nexport default {\r\n  name: 'navigation-tree',\r\n  components: {ImageName},\r\n  computed: {\r\n    projects: get('projects')\r\n  },\r\n  methods: {\r\n    nbImages(viewer) {\r\n      return Object.keys(viewer.images).length;\r\n    },\r\n    viewerPath(idProject, idViewer) {\r\n      return this.$store.getters[`projects/${idProject}/viewers/${idViewer}/pathViewer`]();\r\n    },\r\n    closeProject(project) {\r\n      let nbViewers = Object.keys(project.viewers).length;\r\n      if(nbViewers) {\r\n        this.$buefy.dialog.confirm({\r\n          title: this.$t('confirm-close-project'),\r\n          message: this.$t(\r\n            'confirm-close-project-message',\r\n            {viewers: this.$tc('count-viewers', nbViewers, {count: nbViewers})}\r\n          ),\r\n          type: 'is-danger',\r\n          confirmText: this.$t('button-confirm'),\r\n          cancelText: this.$t('button-cancel'),\r\n          onConfirm: () => this.doCloseProject(project)\r\n        });\r\n        return;\r\n      }\r\n      this.doCloseProject(project);\r\n    },\r\n    doCloseProject(project) {\r\n      this.$store.unregisterModule(['projects', project.id]);\r\n    },\r\n    closeViewer(idProject, idViewer) {\r\n      this.$store.unregisterModule(['projects', idProject, 'viewers', idViewer]);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~bulma/sass/utilities/mixins.sass';\r\n\r\n.project-item {\r\n  color: #333;\r\n}\r\n\r\n.viewer-item {\r\n  padding-left: 1.5rem !important;\r\n  padding-right: 1.5rem !important;\r\n  position: relative;\r\n}\r\n\r\n.viewer-item ul {\r\n  color: #888;\r\n  font-weight: normal;\r\n  margin-left: 1rem;\r\n  font-size: 0.85em;\r\n}\r\n\r\n.viewer-name {\r\n  padding-right: 2rem;\r\n}\r\n\r\n.delete {\r\n  position: absolute;\r\n  top: 0.5rem;\r\n  right: 0.5rem;\r\n}\r\n\r\n.navigation-tree-wrapper {\r\n  @include desktop {\r\n    max-height: 70vh;\r\n    overflow: auto;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavigationTree.vue?vue&type=template&id=5859de40&scoped=true&\"\nimport script from \"./NavigationTree.vue?vue&type=script&lang=js&\"\nexport * from \"./NavigationTree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavigationTree.vue?vue&type=style&index=0&id=5859de40&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5859de40\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('cytomine-modal-card',{attrs:{\"title\":_vm.$t('shortcuts'),\"footer\":false},on:{\"close\":function($event){return _vm.$parent.close()}}},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\",\"size\":\"is-small\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_vm._l((_vm.filteredCategories),function(category){return _c('div',{key:category},[_c('h2',[_vm._v(_vm._s(_vm.$t(`shortcut-${category}`)))]),_c('b-table',{staticClass:\"shortcut-list\",attrs:{\"data\":_vm.filteredShortcuts(category)},scopedSlots:_vm._u([{key:\"default\",fn:function({row: shortcut}){return [_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('description')}},[_vm._v(\" \"+_vm._s(_vm.$t(`shortcut-${shortcut.name}`))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"val\",\"label\":_vm.$t('shortcut')}},_vm._l((shortcut.key),function(k,index){return _c('span',{key:`${category}${shortcut.name}${k}`},[_c('span',{staticClass:\"key\"},[(k === 'click')?_c('i',{staticClass:\"fas fa-mouse-pointer\"}):(k === 'drag')?_c('i',{staticClass:\"fas fa-hand-pointer\"}):(k === '+')?_c('i',{staticClass:\"fas fa-plus\"}):(k === '-')?_c('i',{staticClass:\"fas fa-minus\"}):(k === 'arrowleft')?_c('i',{staticClass:\"fas fa-arrow-left\"}):(k === 'arrowright')?_c('i',{staticClass:\"fas fa-arrow-right\"}):(k === 'arrowup')?_c('i',{staticClass:\"fas fa-arrow-up\"}):(k === 'arrowdown')?_c('i',{staticClass:\"fas fa-arrow-down\"}):(k === 'meta')?_c('span',[_vm._v(\"⌘ Cmd\")]):(k === 'shift')?_c('span',[_vm._v(\"⇧ Shift\")]):(k === 'alt')?_c('span',[_vm._v(\"⌥ Alt\")]):(k === 'pageup')?_c('span',[_vm._v(\"Page Up\")]):(k === 'pagedown')?_c('span',[_vm._v(\"Page Down\")]):(k === 'del')?_c('span',[_vm._v(\"Delete\")]):_c('span',[_vm._v(_vm._s(k))])]),(index < shortcut.key.length - 1)?[_vm._v(\"+\")]:_vm._e()],2)}),0)]}}],null,true)})],1)}),(_vm.noResult)?_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_vm._v(\" \"+_vm._s(_vm.$t('no-result'))+\" \")]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<cytomine-modal-card :title=\"$t('shortcuts')\" @close=\"$parent.close()\" :footer=\"false\">\r\n  <b-input\r\n      v-model=\"searchString\"\r\n      :placeholder=\"$t('search-placeholder')\"\r\n      type=\"search\"\r\n      icon=\"search\"\r\n      size=\"is-small\"\r\n  />\r\n  <div v-for=\"category in filteredCategories\" :key=\"category\">\r\n    <h2>{{$t(`shortcut-${category}`)}}</h2>\r\n    <b-table :data=\"filteredShortcuts(category)\" class=\"shortcut-list\">\r\n      <template #default=\"{row: shortcut}\">\r\n        <b-table-column field=\"name\" :label=\"$t('description')\">\r\n          {{$t(`shortcut-${shortcut.name}`)}}\r\n        </b-table-column>\r\n\r\n        <b-table-column field=\"val\" :label=\"$t('shortcut')\">\r\n          <span v-for=\"(k, index) in shortcut.key\" :key=\"`${category}${shortcut.name}${k}`\">\r\n            <span class=\"key\">\r\n              <i v-if=\"k === 'click'\" class=\"fas fa-mouse-pointer\"></i>\r\n              <i v-else-if=\"k === 'drag'\" class=\"fas fa-hand-pointer\"></i>\r\n              <i v-else-if=\"k === '+'\" class=\"fas fa-plus\"></i>\r\n              <i v-else-if=\"k === '-'\" class=\"fas fa-minus\"></i>\r\n              <i v-else-if=\"k === 'arrowleft'\" class=\"fas fa-arrow-left\"></i>\r\n              <i v-else-if=\"k === 'arrowright'\" class=\"fas fa-arrow-right\"></i>\r\n              <i v-else-if=\"k === 'arrowup'\" class=\"fas fa-arrow-up\"></i>\r\n              <i v-else-if=\"k === 'arrowdown'\" class=\"fas fa-arrow-down\"></i>\r\n              <span v-else-if=\"k === 'meta'\">&#8984; Cmd</span>\r\n              <span v-else-if=\"k === 'shift'\">&#8679; Shift</span>\r\n              <span v-else-if=\"k === 'alt'\">&#8997; Alt</span>\r\n              <span v-else-if=\"k === 'pageup'\">Page Up</span>\r\n              <span v-else-if=\"k === 'pagedown'\">Page Down</span>\r\n              <span v-else-if=\"k === 'del'\">Delete</span>\r\n              <span v-else>{{k}}</span>\r\n            </span>\r\n            <template v-if=\"index < shortcut.key.length - 1\">+</template>\r\n          </span>\r\n        </b-table-column>\r\n      </template>\r\n    </b-table>\r\n  </div>\r\n  <div class=\"content has-text-grey has-text-centered\" v-if=\"noResult\">\r\n    {{$t('no-result')}}\r\n  </div>\r\n</cytomine-modal-card>\r\n</template>\r\n\r\n<script>\r\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\r\nimport shortcuts from '@/utils/shortcuts.js';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\n\r\nexport default {\r\n  name: 'hotkeys-modal',\r\n  components: {CytomineModalCard},\r\n  data() {\r\n    return {\r\n      categories: ['general', 'viewer-nav', 'viewer-tool', 'viewer-toggle', 'text-editor'],\r\n      searchString: ''\r\n    };\r\n  },\r\n  computed: {\r\n    shortcuts() {\r\n      return Object.entries(shortcuts).map(([name, key]) => {\r\n        return {name, key};\r\n      });\r\n    },\r\n    noResult() {\r\n      return this.categories.every(category => this.isEmpty(category));\r\n    },\r\n    filteredCategories() {\r\n      return this.categories.filter(category => this.filteredShortcuts(category).length > 0);\r\n    }\r\n  },\r\n  methods: {\r\n    filteredShortcuts(category) {\r\n      let regexp = getWildcardRegexp(this.searchString);\r\n      return this.shortcuts.filter(shortcut => {\r\n        return shortcut.name.startsWith(`${category}-`) &&\r\n          (!this.searchString || regexp.test(this.$t(`shortcut-${shortcut.name}`)));\r\n      });\r\n    },\r\n    isEmpty(category) {\r\n      return this.filteredShortcuts(category).length === 0;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.modal-card, .modal-card-body {\r\n  width: 50vw;\r\n  min-width: 600px;\r\n  font-weight: normal;\r\n}\r\n\r\n.key {\r\n  min-width: 3rem;\r\n  height: 2.25rem;\r\n  border: 1px solid #ddd;\r\n  padding: 0.5em 1em !important;\r\n  margin: 0 0.3em 0 0.3em;\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 3px;\r\n  color: #888;\r\n  background: #f8f8f8;\r\n  font-weight: 600;\r\n  text-transform: capitalize;\r\n}\r\n\r\n.shortcut-list {\r\n  margin-bottom: 2em;\r\n}\r\n\r\n>>> td, >>> th {\r\n  vertical-align: middle !important;\r\n  width: 50%;\r\n}\r\n\r\n>>> input {\r\n  max-width: 30em;\r\n  margin-bottom: 1em;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotkeysModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotkeysModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HotkeysModal.vue?vue&type=template&id=31a9f839&scoped=true&\"\nimport script from \"./HotkeysModal.vue?vue&type=script&lang=js&\"\nexport * from \"./HotkeysModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HotkeysModal.vue?vue&type=style&index=0&id=31a9f839&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31a9f839\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('cytomine-modal-card',{attrs:{\"title\":_vm.$t('about-cytomine')},on:{\"close\":function($event){return _vm.$parent.close()}}},[[_c('dl',[_c('dt',[_vm._v(_vm._s(_vm.$t('version')))]),_c('dd',[_vm._v(_vm._s(_vm.version || '?'))]),_c('dt',[_vm._v(_vm._s(_vm.$t('sponsors')))]),_c('dd',[_c('a',{attrs:{\"href\":\"https://cytomine.coop\",\"target\":\"_blank\"}},[_c('img',{staticClass:\"sponsor\",attrs:{\"src\":require(\"@/assets/sponsors/logo-cytomine-coop.png\")}})]),_c('a',{attrs:{\"href\":\"https://www.uliege.be\",\"target\":\"_blank\"}},[_c('img',{staticClass:\"sponsor\",attrs:{\"src\":require(\"@/assets/sponsors/logo-uliege.png\")}})]),_c('a',{attrs:{\"href\":\"https://www.wallonie.be/\",\"target\":\"_blank\"}},[_c('img',{staticClass:\"sponsor\",attrs:{\"src\":require(\"@/assets/sponsors/logo-wallonie.png\")}})])]),_c('dt',[_vm._v(_vm._s(_vm.$t('description')))]),_c('dd',[_c('i18n',{attrs:{\"path\":\"cytomine-sponsors-info\"}},[_c('a',{attrs:{\"place\":\"cytomineCompanyLink\",\"href\":\"https://cytomine.coop\",\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.$t('cytomine-company')))])])],1),_c('dt',[_vm._v(_vm._s(_vm.$t('website')))]),_c('dd',[_c('i18n',{attrs:{\"path\":\"cytomine-website-info\"}},[_c('a',{attrs:{\"place\":\"websiteLink\",\"href\":\"https://cytomine.coop\",\"target\":\"_blank\"}},[_vm._v(\"cytomine.org\")])])],1),_c('dt',[_vm._v(_vm._s(_vm.$t('source-code')))]),_c('dd',[_c('i18n',{attrs:{\"path\":\"source-code-info\"}},[_c('a',{attrs:{\"place\":\"githubLink\",\"href\":\"http://github.com/cytomine/\",\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.$t('github-repository')))])])],1),_c('dt',[_vm._v(_vm._s(_vm.$t('documentation')))]),_c('dd',[_c('i18n',{attrs:{\"path\":\"documentation-info\"}},[_c('a',{attrs:{\"place\":\"docLink\",\"href\":\"https://documentation.cytomine.org/\",\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.$t('here')))])])],1),_c('dt',[_vm._v(_vm._s(_vm.$t('contact')))]),_c('dd',[_c('i18n',{attrs:{\"path\":\"contact-info\"}},[_c('a',{attrs:{\"place\":\"contactMail\",\"href\":\"mailto:info@cytomine.org\"}},[_vm._v(\"info@cytomine.org\")])])],1)])]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<cytomine-modal-card :title=\"$t('about-cytomine')\" @close=\"$parent.close()\">\r\n  <template>\r\n    <dl>\r\n      <dt>{{$t('version')}}</dt>\r\n      <dd>{{version || '?'}}</dd>\r\n\r\n      <dt>{{$t('sponsors')}}</dt>\r\n      <dd>\r\n        <a href=\"https://cytomine.coop\" target=\"_blank\">\r\n          <img src=\"@/assets/sponsors/logo-cytomine-coop.png\" class=\"sponsor\">\r\n        </a>\r\n        <a href=\"https://www.uliege.be\" target=\"_blank\">\r\n          <img src=\"@/assets/sponsors/logo-uliege.png\" class=\"sponsor\">\r\n        </a>\r\n        <a href=\"https://www.wallonie.be/\" target=\"_blank\">\r\n          <img src=\"@/assets/sponsors/logo-wallonie.png\" class=\"sponsor\">\r\n        </a>\r\n      </dd>\r\n\r\n      <dt>{{$t('description')}}</dt>\r\n      <dd>\r\n        <i18n path=\"cytomine-sponsors-info\">\r\n          <a place=\"cytomineCompanyLink\" href=\"https://cytomine.coop\" target=\"_blank\">\r\n            {{$t('cytomine-company')}}</a>\r\n        </i18n>\r\n      </dd>\r\n\r\n      <dt>{{$t('website')}}</dt>\r\n      <dd>\r\n        <i18n path=\"cytomine-website-info\">\r\n          <a place=\"websiteLink\" href=\"https://cytomine.coop\" target=\"_blank\">cytomine.org</a>\r\n        </i18n>\r\n      </dd>\r\n\r\n      <dt>{{$t('source-code')}}</dt>\r\n      <dd>\r\n        <i18n path=\"source-code-info\">\r\n          <a place=\"githubLink\" href=\"http://github.com/cytomine/\" target=\"_blank\">\r\n            {{$t('github-repository')}}</a>\r\n        </i18n>\r\n      </dd>\r\n\r\n      <dt>{{$t('documentation')}}</dt>\r\n      <dd>\r\n        <i18n path=\"documentation-info\">\r\n          <a place=\"docLink\" href=\"https://documentation.cytomine.org/\" target=\"_blank\">{{$t('here')}}</a>\r\n        </i18n>\r\n      </dd>\r\n\r\n      <dt>{{$t('contact')}}</dt>\r\n      <dd>\r\n        <i18n path=\"contact-info\">\r\n          <a place=\"contactMail\" href=\"mailto:info@cytomine.org\">info@cytomine.org</a>\r\n        </i18n>\r\n      </dd>\r\n    </dl>\r\n  </template>\r\n</cytomine-modal-card>\r\n</template>\r\n\r\n<script>\r\nimport constants from '@/utils/constants.js';\r\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\r\n\r\nexport default {\r\n  name: 'about-cytomine-wrapper',\r\n  components: {CytomineModalCard},\r\n  data() {\r\n    return {\r\n      version: constants.CYTOMINE_COMMERCIAL_VERSION\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.modal-card, .modal-card-body {\r\n  width: 50vw;\r\n  min-width: 700px;\r\n  font-weight: normal;\r\n}\r\n\r\ndt {\r\n  float: left;\r\n  width: 12rem;\r\n  text-align: right;\r\n  padding-right: 1rem;\r\n  clear: both;\r\n  font-weight: 600;\r\n}\r\n\r\ndd {\r\n  margin-left: 14rem;\r\n  background-color: #fff;\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\nimg.sponsor {\r\n  max-height: 7rem;\r\n  margin-right: 1rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutCytomineModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutCytomineModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AboutCytomineModal.vue?vue&type=template&id=9b72ba08&scoped=true&\"\nimport script from \"./AboutCytomineModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AboutCytomineModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AboutCytomineModal.vue?vue&type=style&index=0&id=9b72ba08&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9b72ba08\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.deactivate),expression:\"deactivate\"}],class:['navbar-item', 'search', _vm.displayResults ? 'is-active' : '']},[_c('b-field',{staticClass:\"no-margin\",attrs:{\"type\":_vm.error ? 'is-danger' : null}},[_c('b-input',{staticClass:\"global-search\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\",\"loading\":_vm.loading,\"disabled\":_vm.error},nativeOn:{\"click\":function($event){return _vm.activate()}},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('p',{staticClass:\"control\"},[_c('router-link',{staticClass:\"button\",attrs:{\"to\":\"/advanced-search\",\"active-class\":\"router-link-active\"},nativeOn:{\"click\":function($event){return _vm.deactivate.apply(null, arguments)}}},[_vm._v(\"+\")])],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(true),expression:\"true\"}],staticClass:\"navbar-dropdown search-results\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('project'))+\" (\"+_vm._s(_vm.filteredProjects.length)+\")\")]),(_vm.filteredProjects.length > 0)?_c('p',[_vm._l((_vm.subsetProjects),function(project){return _c('router-link',{key:project.id,staticClass:\"navbar-item\",attrs:{\"to\":`/project/${project.id}`},domProps:{\"innerHTML\":_vm._s(_vm.highlightedName(project.name))},nativeOn:{\"click\":function($event){return _vm.deactivate.apply(null, arguments)}}})}),(_vm.moreProjects)?_c('a',{staticClass:\"navbar-item\"},[_vm._v(\"...\")]):_vm._e()],2):_c('span',{staticClass:\"navbar-item no-result\"},[_vm._v(_vm._s(_vm.$t('no-project')))]),_c('h2',[_vm._v(_vm._s(_vm.$t('images'))+\" (\"+_vm._s(_vm.filteredImages.length)+\")\")]),(_vm.filteredImages.length > 0)?_c('p',[_vm._l((_vm.subsetImages),function(img){return _c('router-link',{key:img.id,staticClass:\"navbar-item\",attrs:{\"to\":`/project/${img.project}/image/${img.id}`},domProps:{\"innerHTML\":_vm._s(_vm.htmlImageName(img))},nativeOn:{\"click\":function($event){return _vm.deactivate.apply(null, arguments)}}})}),(_vm.moreImages)?_c('a',{staticClass:\"navbar-item\"},[_vm._v(\"...\")]):_vm._e()],2):_c('span',{staticClass:\"navbar-item no-result\"},[_vm._v(_vm._s(_vm.$t('no-image')))]),(_vm.moreImages || _vm.moreProjects)?_c('div',{staticClass:\"search-view-all\"},[_c('router-link',{staticClass:\"button is-small\",attrs:{\"to\":`/advanced-search/${_vm.searchString}`},nativeOn:{\"click\":function($event){return _vm.deactivate.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-view-all'))+\" (\"+_vm._s(_vm.totalNbResults)+\") \")])],1):_vm._e()])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div :class=\"['navbar-item', 'search', displayResults ? 'is-active' : '']\" v-click-outside=\"deactivate\">\r\n  <b-field class=\"no-margin\" :type=\"error ? 'is-danger' : null\">\r\n    <b-input\r\n      class=\"global-search\"\r\n      v-model=\"searchString\"\r\n      :placeholder=\"$t('search-placeholder')\"\r\n      type=\"search\"\r\n      icon=\"search\"\r\n      @click.native=\"activate()\"\r\n      :loading=\"loading\"\r\n      :disabled=\"error\"\r\n    />\r\n    <p class=\"control\">\r\n      <router-link class=\"button\" to=\"/advanced-search\" active-class=\"router-link-active\" @click.native=\"deactivate\">+</router-link>\r\n    </p>\r\n  </b-field>\r\n\r\n  <div class=\"navbar-dropdown search-results\" v-show=\"true\">\r\n    <h2>{{$t('project')}} ({{filteredProjects.length}})</h2>\r\n    <p v-if=\"filteredProjects.length > 0\">\r\n      <router-link\r\n        v-for=\"project in subsetProjects\"\r\n        :key=\"project.id\"\r\n        :to=\"`/project/${project.id}`\"\r\n        class=\"navbar-item\"\r\n        v-html=\"highlightedName(project.name)\"\r\n        @click.native=\"deactivate\"\r\n      />\r\n      <a v-if=\"moreProjects\" class=\"navbar-item\">...</a>\r\n    </p>\r\n    <span v-else class=\"navbar-item no-result\">{{$t('no-project')}}</span>\r\n\r\n    <h2>{{$t('images')}} ({{filteredImages.length}})</h2>\r\n    <p v-if=\"filteredImages.length > 0\">\r\n      <router-link\r\n        v-for=\"img in subsetImages\"\r\n        :key=\"img.id\"\r\n        :to=\"`/project/${img.project}/image/${img.id}`\"\r\n        class=\"navbar-item\"\r\n        @click.native=\"deactivate\"\r\n        v-html=\"htmlImageName(img)\"\r\n      />\r\n      <a v-if=\"moreImages\" class=\"navbar-item\">...</a>\r\n    </p>\r\n    <span v-else class=\"navbar-item no-result\">{{$t('no-image')}}</span>\r\n\r\n    <div v-if=\"moreImages || moreProjects\" class=\"search-view-all\">\r\n      <router-link class=\"button is-small\" :to=\"`/advanced-search/${searchString}`\" @click.native=\"deactivate\">\r\n        {{$t('button-view-all')}} ({{totalNbResults}})\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {ImageInstanceCollection, ProjectCollection} from 'cytomine-client';\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\n\r\nexport default {\r\n  name: 'cytomine-searcher',\r\n  data() {\r\n    return {\r\n      isActive: false,\r\n      loading: false,\r\n      error: false,\r\n      searchString: '',\r\n      projects: [],\r\n      images: [],\r\n      maxNbDisplayed: 5\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    displayResults() {\r\n      return this.isActive && !this.error && this.searchString.length > 0;\r\n    },\r\n    regexp() {\r\n      return getWildcardRegexp(this.searchString);\r\n    },\r\n    filteredProjects() {\r\n      if(!this.searchString) {\r\n        return this.projects;\r\n      }\r\n\r\n      return this.projects.filter(project => {\r\n        return this.regexp.test(project.name);\r\n      });\r\n    },\r\n    subsetProjects() {\r\n      return this.filteredProjects.slice(0, this.maxNbDisplayed);\r\n    },\r\n    moreProjects() {\r\n      return this.filteredProjects > this.subsetProjects;\r\n    },\r\n    filteredImages() {\r\n      if(!this.searchString) {\r\n        return this.images;\r\n      }\r\n\r\n      return this.images.filter(image => {\r\n        return this.regexp.test(this.imageName(image));\r\n      });\r\n    },\r\n    subsetImages() {\r\n      return this.filteredImages.slice(0, this.maxNbDisplayed);\r\n    },\r\n    moreImages() {\r\n      return this.filteredImages > this.subsetImages;\r\n    },\r\n    totalNbResults() {\r\n      return this.filteredImages.length + this.filteredProjects.length;\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchImages() {\r\n      this.images = await ImageInstanceCollection.fetchAllLight();\r\n    },\r\n    async fetchProjects() {\r\n      this.projects = (await new ProjectCollection({\r\n        light: true,\r\n        filterKey: 'user',\r\n        filterValue: this.currentUser.id\r\n      }).fetchAll()).array;\r\n    },\r\n    async activate() {\r\n      if(!this.isActive) {\r\n        try {\r\n          this.loading = true;\r\n          await Promise.all([\r\n            this.fetchImages(),\r\n            this.fetchProjects()\r\n          ]);\r\n        }\r\n        catch(error) {\r\n          console.log(error);\r\n          this.error = true;\r\n        }\r\n        this.loading = false;\r\n        this.isActive = true;\r\n      }\r\n    },\r\n    deactivate() {\r\n      this.isActive = false;\r\n    },\r\n    imageName(image) {\r\n      return String(image.blindedName || image.instanceFilename);\r\n    },\r\n    highlightedName(value) {\r\n      return value.replace(this.regexp, '<strong>$1</strong>');\r\n    },\r\n    htmlImageName(img) {\r\n      let blindIndication = img.blindedName ? `<span class=\"blind\">[${this.$t('blinded-name-indication')}] </span>` : '';\r\n      let inProject = `<span class=\"in-project\">(${this.$t('in-project', {projectName: img.projectName})})</span>`;\r\n      return `${blindIndication}${this.highlightedName(this.imageName(img))}&nbsp;${inProject}`;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.navbar-item.search {\r\n  height: 100%;\r\n}\r\n\r\n.navbar-item:not(.is-active) .navbar-dropdown { /* display dropdown if inactive even on mobile */\r\n  display: none;\r\n}\r\n\r\n.navbar-dropdown.search-results h2 {\r\n  background: #f1f1f1;\r\n  text-transform: uppercase;\r\n  font-size: 0.9em;\r\n  font-weight: 600;\r\n  padding: 0.2em 0 0.3em 3em;\r\n  border-top: 1px solid #e3e3e3;\r\n  margin-bottom: 0;\r\n}\r\n\r\n.navbar-dropdown.search-results .navbar-item {\r\n  font-weight: normal;\r\n  padding: 0.2em 1em 0.2em 1.75em;\r\n  white-space: pre;\r\n}\r\n\r\n.search-view-all {\r\n  border-top: 1px solid #e3e3e3;\r\n  padding-top: 0.5em;\r\n  text-align: center;\r\n}\r\n\r\n.no-result {\r\n  color: grey;\r\n}\r\n\r\n>>> .blind {\r\n  font-size: 0.9em;\r\n  text-transform: uppercase;\r\n}\r\n\r\n.global-search {\r\n  max-width: 15em;\r\n}\r\n\r\n.no-margin {\r\n  margin: 0 !important;\r\n}\r\n\r\n>>> .global-search .fas {\r\n  padding-right: 0px !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineSearcher.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineSearcher.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineSearcher.vue?vue&type=template&id=714c3a7d&scoped=true&\"\nimport script from \"./CytomineSearcher.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineSearcher.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineSearcher.vue?vue&type=style&index=0&id=714c3a7d&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"714c3a7d\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<nav class=\"navbar is-light\" role=\"navigation\">\r\n  <div class=\"navbar-brand\">\r\n    <router-link to=\"/\" exact class=\"navbar-item\">\r\n      <img src=\"@/assets/logo.svg\" id=\"logo\" alt=\"Cytomine\">\r\n    </router-link>\r\n    <a role=\"\" class=\"navbar-burger\" :class=\"{'is-active':openedTopMenu}\" @click=\"openedTopMenu=!openedTopMenu\">\r\n      <span></span> <span></span> <span></span>\r\n    </a>\r\n  </div>\r\n  <div id=\"topMenu\" class=\"navbar-menu\" :class=\"{'is-active':openedTopMenu}\">\r\n    <div class=\"navbar-start\">\r\n      <navbar-dropdown\r\n      icon=\"fa-folder-open\"\r\n      v-if=\"this.nbActiveProjects > 0\"\r\n      :title=\"$t('workspace')\"\r\n      :listPathes=\"['/project/']\">\r\n        <navigation-tree />\r\n      </navbar-dropdown>\r\n      <router-link to=\"/projects\" class=\"navbar-item\">\r\n        <i class=\"fas fa-list-alt\"></i>\r\n        {{ $t('projects') }}\r\n      </router-link>\r\n      <router-link v-if=\"!currentUser.guestByNow\" to=\"/storage\" class=\"navbar-item\">\r\n        <i class=\"fas fa-download\"></i>\r\n        {{ $t('storage') }}\r\n      </router-link>\r\n      <router-link to=\"/ontology\" class=\"navbar-item\">\r\n        <i class=\"fas fa-hashtag\"></i>\r\n        {{ $t('ontologies') }}\r\n      </router-link>\r\n      <router-link v-show=\"algoEnabled\" to=\"/algorithm\" class=\"navbar-item\">\r\n        <i class=\"fas fa-code\"></i>\r\n        {{ $t('algorithms') }}\r\n      </router-link>\r\n      <router-link v-if=\"currentUser.adminByNow\" to=\"/admin\" class=\"navbar-item\">\r\n        <i class=\"fas fa-wrench\"></i>\r\n        {{ $t('admin-menu') }}\r\n      </router-link>\r\n    </div>\r\n\r\n    <div class=\"navbar-end\">\r\n      <cytomine-searcher />\r\n\r\n      <navbar-dropdown\r\n        :icon=\"currentUser.adminByNow ? 'fa-star' : currentUser.isSwitched ? 'fa-user-ninja' : 'fa-user'\"\r\n        :title=\"currentUserFullInfo\"\r\n        :linkClasses=\"{'has-text-dark-primary': currentUser.isSwitched}\"\r\n        :tag=\"currentUser.adminByNow ? {type: 'is-danger', text: $t('admin')} : null\"\r\n        :listPathes=\"['/account', '/activity']\"\r\n      >\r\n        <router-link to=\"/account\" class=\"navbar-item\">\r\n          <span class=\"icon\"><i class=\"fas fa-user fa-xs\"></i></span> {{$t('account')}}\r\n        </router-link>\r\n        <router-link to=\"/activity\" class=\"navbar-item\">\r\n          <span class=\"icon\"><i class=\"fas fa-history fa-xs\"></i></span> {{$t('activity-history')}}\r\n        </router-link>\r\n        <template v-if=\"currentUser.admin\">\r\n          <a v-if=\"!currentUser.adminByNow\" class=\"navbar-item\" @click=\"openAdminSession()\">\r\n            <span class=\"icon\"><i class=\"fas fa-star fa-xs\"></i></span> {{$t('open-admin-session')}}\r\n          </a>\r\n          <a v-else class=\"navbar-item\" @click=\"closeAdminSession()\">\r\n            <span class=\"icon\"><i class=\"far fa-star fa-xs\"></i></span> {{$t('close-admin-session')}}\r\n          </a>\r\n        </template>\r\n        <template v-if=\"currentUser.isSwitched\">\r\n          <a class=\"navbar-item has-text-dark-primary\" @click=\"stopSwitchUser()\">\r\n            <span class=\"icon\"><i class=\"fas fa-exchange-alt fa-xs\"></i></span>\r\n            {{$t('switch-back-to-user', {username: currentUser.realUser})}}\r\n          </a>\r\n        </template>\r\n        <a class=\"navbar-item\" @click=\"logout()\">\r\n          <span class=\"icon\"><i class=\"fas fa-power-off fa-xs\"></i></span> {{ $t('logout') }}\r\n        </a>\r\n      </navbar-dropdown>\r\n\r\n      <navbar-dropdown icon=\"fa-question-circle\" :title=\"$t('help')\" :classes=\"['is-right']\">\r\n        <a class=\"navbar-item\" @click=\"openHotkeysModal()\">\r\n          <span class=\"icon\"><i class=\"far fa-keyboard fa-xs\"></i></span> {{$t('shortcuts')}}\r\n        </a>\r\n        <a class=\"navbar-item\" @click=\"openAboutModal()\">\r\n          <span class=\"icon\"><i class=\"fas fa-info-circle fa-xs\"></i></span> {{$t('about-cytomine')}}\r\n        </a>\r\n      </navbar-dropdown>\r\n    </div>\r\n  </div>\r\n  <div class=\"hidden\" v-shortkey.once=\"openHotkeysModalShortcut\" @shortkey=\"openHotkeysModal\"></div>\r\n</nav>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {changeLanguageMixin} from '@/lang.js';\r\n\r\nimport NavbarDropdown from './NavbarDropdown';\r\nimport NavigationTree from './NavigationTree';\r\nimport HotkeysModal from './HotkeysModal';\r\nimport AboutCytomineModal from './AboutCytomineModal';\r\nimport CytomineSearcher from '@/components/search/CytomineSearcher';\r\nimport constants from '@/utils/constants.js';\r\nimport {Cytomine} from 'cytomine-client';\r\nimport {fullName} from '@/utils/user-utils.js';\r\nimport shortcuts from '@/utils/shortcuts.js';\r\n\r\nexport default {\r\n  name: 'cytomine-navbar',\r\n  components: {\r\n    NavbarDropdown,\r\n    NavigationTree,\r\n    CytomineSearcher\r\n  },\r\n  mixins: [changeLanguageMixin],\r\n  data() {\r\n    return {\r\n      openedTopMenu: false,\r\n      hotkeysModal: null,\r\n      algoEnabled: constants.ALGORITHMS_ENABLED,\r\n      aboutModal: null\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    currentUserFullInfo() {\r\n      return fullName(this.currentUser);\r\n    },\r\n    nbActiveProjects() {\r\n      return Object.keys(this.$store.state.projects).length;\r\n    },\r\n    openHotkeysModalShortcut() {\r\n      return shortcuts['general-shortcuts-modal'];\r\n    }\r\n  },\r\n  watch: {\r\n    $route(){\r\n      this.openedTopMenu = false;\r\n    }\r\n  },\r\n  methods: {\r\n    // required to use programmatic modal for correct display in IE11\r\n    openHotkeysModal() {\r\n      if (!this.hotkeysModal) {\r\n        this.hotkeysModal = this.$buefy.modal.open({\r\n          parent: this,\r\n          component: HotkeysModal,\r\n          hasModalCard: true,\r\n          onCancel: () => this.hotkeysModal = null,\r\n        });\r\n      }\r\n    },\r\n    openAboutModal() {\r\n      this.$buefy.modal.open({\r\n        parent: this,\r\n        component: AboutCytomineModal,\r\n        hasModalCard: true\r\n      });\r\n    },\r\n    // ---\r\n\r\n    async openAdminSession() {\r\n      try {\r\n        await this.$store.dispatch('currentUser/openAdminSession');\r\n        this.$router.push('/admin');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    async closeAdminSession() {\r\n      try {\r\n        await this.$store.dispatch('currentUser/closeAdminSession');\r\n        if(this.$router.currentRoute.path === '/') this.$router.push('/projects');\r\n        else this.$router.push('/');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    async stopSwitchUser() {\r\n      try {\r\n        await Cytomine.instance.stopSwitchUser();\r\n        await this.$store.dispatch('currentUser/fetchUser');\r\n        this.$router.push('/');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-failed-to-switch-back-as-real-user')});\r\n      }\r\n    },\r\n\r\n    async logout() {\r\n      try {\r\n        await Cytomine.instance.logout();\r\n        this.$store.dispatch('logout');\r\n        this.changeLanguage();\r\n        this.$router.push('/');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-logout')});\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#logo {\r\n  height: 2rem;\r\n  font-family: \"cytomine\";\r\n  font-size: 2em;\r\n  font-weight: lighter;\r\n  line-height: 1em;\r\n}\r\n\r\n/* Special styling for IE */\r\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\r\n  #logo {\r\n    height: 40px !important;\r\n    max-height: none !important;\r\n  }\r\n}\r\n\r\n.navbar {\r\n  font-weight: 600;\r\n  z-index: 500 !important;\r\n\r\n  .fas, .far {\r\n    padding-right: 0.5rem;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineNavbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineNavbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineNavbar.vue?vue&type=template&id=564ccd5a&\"\nimport script from \"./CytomineNavbar.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineNavbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineNavbar.vue?vue&type=style&index=0&id=564ccd5a&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"panel\"},[(_vm.forgotUsername)?[_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-user\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t('forgot-username'))+\" \"),_vm._m(0)]),_c('div',{staticClass:\"panel-block\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.sendUsername.apply(null, arguments)}}},[_c('b-field',{attrs:{\"label\":_vm.$t('email')}},[_c('b-input',{model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_c('div',{staticClass:\"buttons is-right\"},[_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.forgotUsername = false}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel')))]),_c('button',{staticClass:\"button is-link\"},[_vm._v(\" \"+_vm._s(_vm.$t('button-get-username')))])])],1)])]:(_vm.forgotPassword)?[_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-user\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t('forgot-password'))+\" \"),_vm._m(1)]),_c('div',{staticClass:\"panel-block\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.resetPassword()}}},[_c('b-field',{attrs:{\"label\":_vm.$t('username')}},[_c('b-input',{model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}})],1),_c('div',{staticClass:\"buttons is-right\"},[_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.forgotPassword = false}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel')))]),_c('button',{staticClass:\"button is-link\"},[_vm._v(\" \"+_vm._s(_vm.$t('button-reset-password')))])])],1)])]:(_vm.registering)?_c('register',{on:{\"close\":function($event){_vm.registering=false}}}):[_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-user\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t('login'))+\" \"),_vm._m(2)]),_c('div',{staticClass:\"panel-block\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.login()}}},[_c('b-field',{attrs:{\"label\":_vm.$t('username')}},[_c('b-input',{attrs:{\"minlength\":\"1\",\"maxlength\":\"50\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('password')}},[_c('b-input',{attrs:{\"type\":\"password\",\"password-reveal\":\"\",\"minlength\":\"4\",\"maxlength\":\"100\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',[_c('b-checkbox',{attrs:{\"type\":\"is-info\"},model:{value:(_vm.rememberMe),callback:function ($$v) {_vm.rememberMe=$$v},expression:\"rememberMe\"}},[_vm._v(_vm._s(_vm.$t('remember-me')))])],1)],1),_c('div',{staticClass:\"column has-text-right\"},[_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":!_vm.loginEnabled}},[_vm._v(\" \"+_vm._s(_vm.$t('button-login')))])])])],1)]),_c('i18n',{staticClass:\"is-size-7 has-text-centered forgot-credentials\",attrs:{\"path\":\"forgot-credentials\",\"tag\":\"p\"}},[_c('a',{attrs:{\"place\":\"username\"},on:{\"click\":function($event){_vm.forgotUsername = true}}},[_vm._v(_vm._s(_vm.$t('username')))]),_c('a',{attrs:{\"place\":\"password\"},on:{\"click\":function($event){_vm.forgotPassword = true}}},[_vm._v(_vm._s(_vm.$t('password')))])]),(_vm.allowedRegistration)?_c('i18n',{staticClass:\"is-size-7 has-text-centered\",attrs:{\"path\":\"no-account-yet\",\"tag\":\"p\"}},[_c('a',{attrs:{\"place\":\"registerLink\"},on:{\"click\":function($event){_vm.registering = true}}},[_vm._v(_vm._s(_vm.$t('register')))])]):_vm._e()]],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('a',{attrs:{\"href\":\"https://doc.cytomine.org\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.svg\"),\"id\":\"logo\",\"alt\":\"Cytomine\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('a',{attrs:{\"href\":\"https://doc.cytomine.org\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.svg\"),\"id\":\"logo\",\"alt\":\"Cytomine\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('a',{attrs:{\"href\":\"https://doc.cytomine.org\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.svg\"),\"id\":\"logo\",\"alt\":\"Cytomine\"}})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-user-plus\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t('register'))+\" \")]),_c('div',{staticClass:\"panel-block\"},[(_vm.success)?[_c('b-message',{attrs:{\"type\":\"is-success\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('successful-registration'))+\" \")]),_c('p',{staticClass:\"has-text-centered\"},[_c('a',{on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(_vm._s(_vm.$t('back-to-login')))])])]:_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.register()}}},[_c('b-field',{attrs:{\"label\":_vm.$t('firstname'),\"type\":{'is-danger': _vm.errors.has('firstname')},\"message\":_vm.errors.first('firstname')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"firstname\"},model:{value:(_vm.firstname),callback:function ($$v) {_vm.firstname=$$v},expression:\"firstname\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('lastname'),\"type\":{'is-danger': _vm.errors.has('lastname')},\"message\":_vm.errors.first('lastname')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"lastname\"},model:{value:(_vm.lastname),callback:function ($$v) {_vm.lastname=$$v},expression:\"lastname\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('username'),\"type\":{'is-danger': _vm.errors.has('username')},\"message\":_vm.errors.first('username')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"username\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('email'),\"type\":{'is-danger': _vm.errors.has('email')},\"message\":_vm.errors.first('email')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|email'),expression:\"'required|email'\"}],attrs:{\"name\":\"email\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_c('div',{staticClass:\"buttons is-right\"},[_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\",\"disabled\":_vm.loading},on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",class:{'is-loading': _vm.loading},attrs:{\"disabled\":_vm.errors.any() || _vm.loading}},[_vm._v(\" \"+_vm._s(_vm.$t('button-register'))+\" \")])])],1)],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div>\r\n  <p class=\"panel-heading\">\r\n    <i class=\"fas fa-user-plus\" aria-hidden=\"true\"></i>\r\n    {{$t('register')}}\r\n  </p>\r\n  <div class=\"panel-block\">\r\n    <template v-if=\"success\">\r\n      <b-message type=\"is-success\" has-icon icon-size=\"is-small\">\r\n        {{$t('successful-registration')}}\r\n      </b-message>\r\n      <p class=\"has-text-centered\">\r\n        <a @click=\"$emit('close')\">{{$t('back-to-login')}}</a>\r\n      </p>\r\n    </template>\r\n\r\n    <form v-else @submit.prevent=\"register()\">\r\n      <b-field :label=\"$t('firstname')\" :type=\"{'is-danger': errors.has('firstname')}\" :message=\"errors.first('firstname')\">\r\n        <b-input v-model=\"firstname\" name=\"firstname\" v-validate=\"'required'\" />\r\n      </b-field>\r\n\r\n      <b-field :label=\"$t('lastname')\" :type=\"{'is-danger': errors.has('lastname')}\" :message=\"errors.first('lastname')\">\r\n        <b-input v-model=\"lastname\" name=\"lastname\" v-validate=\"'required'\"  />\r\n      </b-field>\r\n\r\n      <b-field :label=\"$t('username')\" :type=\"{'is-danger': errors.has('username')}\" :message=\"errors.first('username')\">\r\n        <b-input v-model=\"username\" name=\"username\" v-validate=\"'required'\" />\r\n      </b-field>\r\n\r\n      <b-field :label=\"$t('email')\" :type=\"{'is-danger': errors.has('email')}\" :message=\"errors.first('email')\">\r\n        <b-input v-model=\"email\" name=\"email\" v-validate=\"'required|email'\"  />\r\n      </b-field>\r\n\r\n      <div class=\"buttons is-right\">\r\n        <button class=\"button\" type=\"button\" :disabled=\"loading\" @click=\"$emit('close')\">\r\n          {{$t('button-cancel')}}\r\n        </button>\r\n        <button class=\"button is-link\" :class=\"{'is-loading': loading}\" :disabled=\"errors.any() || loading\">\r\n          {{$t('button-register')}}\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {Cytomine} from 'cytomine-client';\r\n\r\nexport default {\r\n  name: 'register',\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return  {\r\n      username: '',\r\n      email: '',\r\n      firstname: '',\r\n      lastname: '',\r\n      success: false,\r\n      loading: false\r\n    };\r\n  },\r\n  methods: {\r\n    async register() {\r\n      console.log('register');\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        this.loading = true;\r\n        let params = new URLSearchParams();\r\n        params.append('firstname', this.firstname);\r\n        params.append('lastname', this.lastname);\r\n        params.append('username', this.username);\r\n        params.append('email', this.email);\r\n        await Cytomine.instance.api.post(`${Cytomine.instance.host}/login/createAccount`, params);\r\n        this.success = true;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        if(error.response && error.response.status === 409) {\r\n          this.$notify({type: 'error', text: this.$t('notif-error-register-username-exists')});\r\n        }\r\n        else {\r\n          this.$notify({type: 'error', text: this.$t('notif-error-register')});\r\n        }\r\n      }\r\n      this.loading = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=6cc2e326&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"panel\">\r\n  <template v-if=\"forgotUsername\">\r\n    <p class=\"panel-heading\">\r\n      <i class=\"fas fa-user\" aria-hidden=\"true\"></i>\r\n      {{$t('forgot-username')}}\r\n      <a href=\"https://doc.cytomine.org\" target=\"_blank\"><img src=\"@/assets/logo.svg\" id=\"logo\" alt=\"Cytomine\"></a>\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <form @submit.prevent=\"sendUsername\">\r\n        <b-field :label=\"$t('email')\">\r\n          <b-input v-model=\"email\" />\r\n        </b-field>\r\n\r\n        <div class=\"buttons is-right\">\r\n          <button class=\"button\" type=\"button\" @click=\"forgotUsername = false\"> {{$t('button-cancel')}}</button>\r\n          <button class=\"button is-link\"> {{$t('button-get-username')}}</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </template>\r\n\r\n  <template v-else-if=\"forgotPassword\">\r\n    <p class=\"panel-heading\">\r\n      <i class=\"fas fa-user\" aria-hidden=\"true\"></i>\r\n      {{$t('forgot-password')}}\r\n      <a href=\"https://doc.cytomine.org\" target=\"_blank\"><img src=\"@/assets/logo.svg\" id=\"logo\" alt=\"Cytomine\"></a>\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <form @submit.prevent=\"resetPassword()\">\r\n        <b-field :label=\"$t('username')\">\r\n          <b-input v-model=\"username\" />\r\n        </b-field>\r\n\r\n        <div class=\"buttons is-right\">\r\n          <button class=\"button\" type=\"button\" @click=\"forgotPassword = false\"> {{$t('button-cancel')}}</button>\r\n          <button class=\"button is-link\"> {{$t('button-reset-password')}}</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </template>\r\n\r\n  <register v-else-if=\"registering\" @close=\"registering=false\" />\r\n\r\n  <template v-else>\r\n    <p class=\"panel-heading\">\r\n      <i class=\"fas fa-user\" aria-hidden=\"true\"></i>\r\n      {{$t('login')}}\r\n      <a href=\"https://doc.cytomine.org\" target=\"_blank\"><img src=\"@/assets/logo.svg\" id=\"logo\" alt=\"Cytomine\"></a>\r\n    </p>\r\n    <div class=\"panel-block\">\r\n      <form @submit.prevent=\"login()\">\r\n        <b-field :label=\"$t('username')\">\r\n          <b-input minlength=\"1\" maxlength=\"50\" v-model=\"username\" />\r\n        </b-field>\r\n\r\n        <b-field :label=\"$t('password')\">\r\n          <b-input type=\"password\" password-reveal minlength=\"4\" maxlength=\"100\" v-model=\"password\" />\r\n        </b-field>\r\n\r\n        <div class=\"columns\">\r\n          <div class=\"column\">\r\n            <b-field>\r\n              <b-checkbox v-model=\"rememberMe\" type=\"is-info\">{{$t('remember-me')}}</b-checkbox>\r\n            </b-field>\r\n          </div>\r\n\r\n          <div class=\"column has-text-right\">\r\n            <button :disabled=\"!loginEnabled\" class=\"button is-link\"> {{$t('button-login')}}</button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n    <i18n path=\"forgot-credentials\" tag=\"p\" class=\"is-size-7 has-text-centered forgot-credentials\">\r\n      <a place=\"username\" @click=\"forgotUsername = true\">{{ $t('username') }}</a>\r\n      <a place=\"password\" @click=\"forgotPassword = true\">{{ $t('password') }}</a>\r\n    </i18n>\r\n    <i18n v-if=\"allowedRegistration\" path=\"no-account-yet\" tag=\"p\" class=\"is-size-7 has-text-centered\">\r\n      <a place=\"registerLink\" @click=\"registering = true\">{{$t('register')}}</a>\r\n    </i18n>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {get} from '@/utils/store-helpers';\r\nimport {changeLanguageMixin} from '@/lang.js';\r\nimport {Cytomine} from 'cytomine-client';\r\nimport Register from './Register';\r\n\r\nexport default {\r\n  name: 'login',\r\n  components: {Register},\r\n  mixins: [changeLanguageMixin],\r\n  data() {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n      email: '',\r\n      rememberMe: true,\r\n\r\n      allowedRegistration: false, // TODO: retrieve info from core\r\n\r\n      forgotUsername: false,\r\n      forgotPassword: false,\r\n      registering: false\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    loginEnabled() {\r\n      return !!this.username && !!this.password;\r\n    }\r\n  },\r\n  methods: {\r\n    async login() {\r\n      try {\r\n        await this.$store.dispatch('currentUser/login', {\r\n          username: this.username,\r\n          password: this.password,\r\n          rememberMe: this.rememberMe\r\n        });\r\n        if(this.currentUser) {\r\n          this.changeLanguage(this.currentUser.language);\r\n          this.$notify({type: 'success', text: this.$t('notif-success-login')});\r\n        }\r\n        else {\r\n          this.$notify({type: 'error', text: this.$t('notif-unexpected-error')});\r\n        }\r\n      }\r\n      catch(error) {\r\n        console.log(error.response);\r\n        this.$notify({type: 'error', text: error.response.data.errors.message});\r\n      }\r\n    },\r\n    async sendUsername() {\r\n      try {\r\n        await Cytomine.instance.forgotUsername(this.email);\r\n        this.$notify({type: 'success', text: this.$t('notif-success-forgot-username')});\r\n        this.forgotUsername = false;\r\n      }\r\n      catch(error) {\r\n        this.$notify({type: 'error', text: this.$t('notif-error-forgot-username')});\r\n      }\r\n    },\r\n    async resetPassword() {\r\n      try {\r\n        await Cytomine.instance.forgotPassword(this.username);\r\n        this.$notify({type: 'success', text: this.$t('notif-success-forgot-password')});\r\n        this.forgotPassword = false;\r\n      }\r\n      catch(error) {\r\n        this.$notify({type: 'error', text: this.$t('notif-error-forgot-password')});\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.panel {\r\n  width: 100%;\r\n  max-width: 40em;\r\n  margin: auto;\r\n  margin-top: 3em;\r\n}\r\n\r\n.columns, .buttons {\r\n  margin-top: 0.5em;\r\n}\r\n\r\n.panel-block {\r\n  margin-bottom: 1em;\r\n}\r\n\r\n.forgot-credentials a {\r\n  text-transform: lowercase;\r\n}\r\n\r\n.panel-heading img {\r\n  float: right;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=d00c21ee&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=d00c21ee&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d00c21ee\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n\r\n<template>\r\n<div id=\"app\" class=\"wrapper\">\r\n  <notifications position=\"top center\" width=\"30%\" :max=\"5\">\r\n    <template #body=\"props\">\r\n      <div class=\"notification vue-notification\" :class=\"props.item.type\">\r\n        <button class=\"delete\" @click=\"props.close\"></button>\r\n        <strong class=\"notification-title\">\r\n          {{props.item.title}}\r\n        </strong>\r\n        <div class=\"notification-content\" v-html=\"props.item.text\"></div>\r\n      </div>\r\n    </template>\r\n  </notifications>\r\n\r\n  <template v-if=\"!loading\">\r\n    <div class=\"box error\" v-if=\"communicationError\">\r\n      <h2>\r\n        {{$t('communication-error')}}\r\n      </h2>\r\n      {{$t('core-cannot-be-reached')}}\r\n    </div>\r\n\r\n    <login v-else-if=\"!currentUser\" />\r\n\r\n    <template v-else>\r\n      <cytomine-navbar />\r\n      <div class=\"bottom\">\r\n        <keep-alive include=\"cytomine-storage\">\r\n          <router-view v-if=\"currentUser\" />\r\n        </keep-alive>\r\n      </div>\r\n    </template>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport {get} from '@/utils/store-helpers';\r\nimport {changeLanguageMixin} from '@/lang.js';\r\n\r\nimport CytomineNavbar from './components/navbar/CytomineNavbar.vue';\r\nimport Login from './components/user/Login.vue';\r\n\r\nimport {Cytomine} from 'cytomine-client';\r\n\r\nimport constants from '@/utils/constants.js';\r\nimport ifvisible from 'ifvisible';\r\nifvisible.setIdleDuration(constants.IDLE_DURATION);\r\n\r\nexport default {\r\n  name: 'app',\r\n  components: {CytomineNavbar, Login},\r\n  mixins: [changeLanguageMixin],\r\n  data() {\r\n    return {\r\n      communicationError: false,\r\n      loading: true,\r\n      timeout: null\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n    project: get('currentProject/project')\r\n  },\r\n  methods: {\r\n    async loginWithToken() {\r\n      try {\r\n        let {shortTermToken} = await Cytomine.instance.loginWithToken(this.$route.query.username, this.$route.query.token);\r\n        this.$store.commit('currentUser/setShortTermToken', shortTermToken);\r\n\r\n        await this.fetchUser();\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('invalid-token')});\r\n      }\r\n    },\r\n    async ping() {\r\n      if(!ifvisible.now()){\r\n        return; // window not visible or inactive user => stop pinging\r\n      }\r\n      try {\r\n        let {authenticated, shortTermToken} = await Cytomine.instance.ping(this.project ? this.project.id : null);\r\n\r\n        this.$store.commit('currentUser/setShortTermToken', shortTermToken);\r\n\r\n        if(this.currentUser && !authenticated) {\r\n          await this.$store.dispatch('logout');\r\n        }\r\n        if(!this.currentUser && authenticated) {\r\n          await this.fetchUser();\r\n        }\r\n        this.communicationError = false;\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        if (error.toString().indexOf('401')!==-1) {\r\n          this.communicationError = false;\r\n          Cytomine.instance.logout();\r\n        }\r\n        else {\r\n          this.communicationError = true;\r\n        }\r\n      }\r\n\r\n      clearTimeout(this.timeout);\r\n      this.timeout = setTimeout(this.ping, constants.PING_INTERVAL);\r\n    },\r\n    async fetchUser() {\r\n      await this.$store.dispatch('currentUser/fetchUser');\r\n      if(this.currentUser) {\r\n        this.changeLanguage(this.currentUser.language);\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    let settings;\r\n    await axios\r\n      .get('configuration.json')\r\n      .then(response => (settings = response.data));\r\n\r\n    await axios\r\n      .get('meta-prefixes.json')\r\n      .then(response => {\r\n        constants.METADATA_PREFIXES = response.data\r\n      });\r\n    \r\n    for (let i in settings) {\r\n      if (Object.prototype.hasOwnProperty.call(constants, i)\r\n        || i.includes('_NAMESPACE') || i.includes('_VERSION') || i.includes('_ENABLED')) {\r\n        constants[i] = settings[i];\r\n      }\r\n    }\r\n    Object.freeze(constants);\r\n\r\n    new Cytomine(constants.CYTOMINE_CORE_HOST);\r\n\r\n    if(this.$route.query.token && this.$route.query.username) {\r\n      await this.loginWithToken();\r\n    }\r\n    await this.ping();\r\n    this.loading = false;\r\n    ifvisible.on('wakeup', this.ping);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '@/assets/styles/main.scss';\r\n\r\n@font-face {\r\n  font-family: 'cytomine';\r\n  src: url('assets/cytomine-font.woff') format('woff');\r\n}\r\n\r\nhtml, body {\r\n  height: 100vh;\r\n  margin: 0;\r\n  padding: 0;\r\n  overflow: hidden;\r\n}\r\n\r\nbody {\r\n  font-family: \"Open Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif, sans-serif;\r\n  color: #333;\r\n  background: #d4d4d4;\r\n}\r\n\r\n.wrapper {\r\n  display: flex;\r\n  height: 100%;\r\n  width: 100%;\r\n  flex-direction: column;\r\n  background: #d4d4d4;\r\n}\r\n\r\n.box.error {\r\n  max-width: 600px;\r\n  margin: auto;\r\n  margin-top: 3rem;\r\n}\r\n\r\n.notifications {\r\n  margin-top: 1em;\r\n}\r\n\r\n.notification.info {\r\n  background: #77b1ea;\r\n}\r\n\r\n.bottom {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  /* position: relative; */\r\n}\r\n\r\nh1 {\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.1rem;\r\n  font-size: 1.25rem;\r\n  text-align: center;\r\n  padding: 0.9rem;\r\n}\r\n\r\nh2 {\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.08rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.in-project {\r\n  color: grey;\r\n  font-size: 0.8em;\r\n}\r\n\r\n.input[readonly] {\r\n  background-color: whitesmoke;\r\n}\r\n\r\nstrong, .label {\r\n  font-weight: 600 !important;\r\n}\r\n\r\n.content-wrapper {\r\n  padding: 1.5% 2.5%;\r\n  position: relative;\r\n  min-height: 100%;\r\n}\r\n\r\n/* Filters */\r\n\r\n.filters {\r\n  background: #f8f8f8;\r\n  margin-top: 1.2rem;\r\n  border-radius: 10px;\r\n  padding: 1rem;\r\n}\r\n\r\n.filter-label {\r\n  text-transform: uppercase;\r\n  font-size: 0.8em;\r\n  margin-bottom: 0.5em;\r\n  margin-left: 1em;\r\n}\r\n\r\n.filter-label .no-uppercase {\r\n  text-transform: none;\r\n}\r\n\r\n.nb-active-filters {\r\n  display: inline-block;\r\n  background: $primary;\r\n  color: $primary-invert;\r\n  min-width: 1.25rem;\r\n  height: 1.25rem;\r\n  font-weight: 600;\r\n  border-radius: 0.625rem;\r\n  margin-left: 0.5em;\r\n  font-size: 0.9em;\r\n  line-height: 1.25em;\r\n  padding: 0 0.25em;\r\n  position: absolute;\r\n  top: -0.3em;\r\n  right: -0.6em;\r\n}\r\n\r\n/* For correct display of svg images on IE > 10 */\r\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\r\n  img[src$=\".svg\"] {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=ec623fc8&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=ec623fc8&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport Vue from 'vue';\r\n\r\nimport VueRouter from 'vue-router';\r\nimport router from './routes.js';\r\nVue.use(VueRouter);\r\n\r\nimport i18n from './lang.js';\r\n\r\nimport store from './store/store.js';\r\n\r\nimport Buefy from 'buefy';\r\nVue.use(Buefy, {defaultIconPack: 'fas'});\r\n\r\nimport VeeValidate, {Validator} from 'vee-validate';\r\nValidator.extend('positive', value => Number(value) > 0);\r\nVue.use(VeeValidate, {\r\n  i18nRootKey: 'validations',\r\n  i18n,\r\n  inject: false\r\n});\r\n\r\nimport Notifications from 'vue-notification';\r\nVue.use(Notifications);\r\n\r\nimport VTooltip from 'v-tooltip';\r\nVue.use(VTooltip);\r\n\r\nimport VueMoment from 'vue-moment';\r\nconst moment = require('moment');\r\nVue.use(VueMoment, {moment});\r\n\r\nimport VueShortKey from 'vue-shortkey';\r\nVue.use(VueShortKey, {\r\n  prevent: [\r\n    'input[type=text]',\r\n    'input[type=password]',\r\n    'input[type=search]',\r\n    'input[type=email]',\r\n    'textarea',\r\n    '.ql-editor'\r\n  ]\r\n});\r\n\r\nimport VueHtml2Canvas from 'vue-html2canvas';\r\n\r\nVue.use(VueHtml2Canvas);\r\n\r\nimport * as vClickOutside from 'v-click-outside-x';\r\nVue.use(vClickOutside);\r\n\r\nimport VueLayers from 'vuelayers';\r\nimport ZoomifySource from './vuelayers-suppl/zoomify-source';\r\nimport RasterSource from './vuelayers-suppl/raster-source';\r\nimport TranslateInteraction from './vuelayers-suppl/translate-interaction';\r\nimport RotateInteraction from './vuelayers-suppl/rotate-interaction';\r\nimport ModifyInteraction from './vuelayers-suppl/modify-interaction';\r\nimport RescaleInteraction from './vuelayers-suppl/rescale-interaction';\r\nVue.use(VueLayers);\r\nVue.use(ZoomifySource);\r\nVue.use(RasterSource);\r\nVue.use(TranslateInteraction);\r\nVue.use(RotateInteraction);\r\nVue.use(ModifyInteraction);\r\nVue.use(RescaleInteraction);\r\n\r\nimport Chart from 'chart.js';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\nimport ChartZoom from 'chartjs-plugin-zoom';\r\nChart.plugins.unregister(ChartZoom);\r\nChart.plugins.unregister(ChartDataLabels);\r\nChart.helpers.merge(Chart.defaults.global.plugins.datalabels, {\r\n  anchor: 'end',\r\n  align: 'end',\r\n  offset: 5,\r\n  clamp: true\r\n});\r\n\r\nimport App from './App.vue';\r\n\r\nVue.config.productionTip = false;\r\nVue.prototype.$eventBus = new Vue();\r\n\r\nnew Vue({\r\n  render: h => h(App),\r\n  router,\r\n  store,\r\n  i18n\r\n}).$mount('#app');\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListProjects.vue?vue&type=style&index=0&id=719f2815&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAnnotationsBy.vue?vue&type=style&index=0&id=357d368c&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenameModal.vue?vue&type=style&index=0&id=7aaff35b&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTerm.vue?vue&type=style&index=0&id=23b57a24&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackTree.vue?vue&type=style&index=0&id=0a743348&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineSlider.vue?vue&type=style&index=0&id=3416f5aa&prod&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectImageFilters.vue?vue&type=style&index=0&id=646ef45a&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobParameterRow.vue?vue&type=style&index=0&id=35dc6b43&prod&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/aperio.bfe0ede1.jpg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareInformation.vue?vue&type=style&index=0&id=067d1ba2&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListUsernames.vue?vue&type=style&index=0&id=2e92ce16&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTags.vue?vue&type=style&index=0&id=36bde01e&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetadataPanel.vue?vue&type=style&index=0&id=45b50a44&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivity.vue?vue&type=style&index=1&id=77d5a06f&prod&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotkeysModal.vue?vue&type=style&index=0&id=31a9f839&prod&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/leica.1ca27d5c.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageControls.vue?vue&type=style&index=0&id=ff293574&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTags.vue?vue&type=style&index=1&id=36bde01e&prod&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedFileModal.vue?vue&type=style&index=0&id=64b34ee5&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyTree.vue?vue&type=style&index=1&id=4cca4912&prod&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityCharts.vue?vue&type=style&index=0&id=a5f175d8&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DigitalZoom.vue?vue&type=style&index=0&id=319faf68&prod&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/logo-uliege.1f181756.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TermModal.vue?vue&type=style&index=0&id=5dc37d20&prod&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tags-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[_c('b-field',{attrs:{\"grouped\":\"\",\"group-multiline\":\"\"}},[(_vm.error)?_c('em',[_vm._v(_vm._s(_vm.$t('error-fetch-tags')))]):(_vm.associatedTags.length > 0)?_vm._l((_vm.associatedTags),function(association,idx){return _c('div',{key:association.id,staticClass:\"control\"},[_c('b-taglist',{attrs:{\"attached\":\"\"}},[_c('b-tag',{attrs:{\"type\":\"is-info\"}},[_vm._v(\" \"+_vm._s(association.tagName.toUpperCase())+\" \"),(_vm.currentUser.isDeveloper)?_c('span',[_vm._v(\" (\"+_vm._s(_vm.$t('id'))+\": \"+_vm._s(association.tag)+\")\")]):_vm._e()]),(_vm.canEdit)?_c('b-tag',[_c('button',{staticClass:\"delete is-small\",attrs:{\"title\":_vm.$t('button-delete')},on:{\"click\":function($event){return _vm.removeTag(association, idx)}}})]):_vm._e()],1)],1)}):(_vm.associatedTags.length === 0)?_c('em',[_vm._v(_vm._s(_vm.$t('no-tag')))]):_vm._e(),(_vm.canEdit)?_c('button',{staticClass:\"button is-small add-tag\",on:{\"click\":function($event){return _vm.displayModal()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")]):_vm._e()],2)]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('cytomine-modal-card',{attrs:{\"title\":_vm.$t('associate-tags'),\"active\":\"\"},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$parent.close()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",on:{\"click\":_vm.addAssociations}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")])]},proxy:true}])},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[_c('b-field',[_c('domain-tag-input',{attrs:{\"domains\":_vm.notAssociatedTags,\"placeholder\":\"search-or-create-tag\",\"allowNew\":\"\"},model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})],1)]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n\r\n<template>\r\n<cytomine-modal-card :title=\"$t('associate-tags')\" active>\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\r\n  <template v-if=\"!loading\">\r\n    <b-field>\r\n      <domain-tag-input v-model=\"selectedTags\" :domains=\"notAssociatedTags\" placeholder=\"search-or-create-tag\" allowNew />\r\n    </b-field>\r\n  </template>\r\n\r\n  <template #footer>\r\n    <button class=\"button\" @click=\"$parent.close()\">\r\n      {{$t('button-cancel')}}\r\n    </button>\r\n    <button class=\"button is-link\" @click=\"addAssociations\">\r\n      {{$t('button-add')}}\r\n    </button>\r\n  </template>\r\n</cytomine-modal-card>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {TagCollection} from 'cytomine-client';\r\nimport DomainTagInput from '@/components/utils/DomainTagInput';\r\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\r\n\r\nexport default {\r\n  name: 'add-tag-modal',\r\n  props: {\r\n    associatedTags: Array\r\n  },\r\n  components: {\r\n    CytomineModalCard,\r\n    DomainTagInput,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      tags: [],\r\n      selectedTags: []\r\n    };\r\n  },\r\n  computed: {\r\n    notAssociatedTags() {\r\n      return this.tags.filter(tag => !this.associatedTags.map(u => u.tag).includes(tag.id));\r\n    }\r\n  },\r\n  methods: {\r\n    async addAssociations() {\r\n      this.$emit('addObjects', this.selectedTags);\r\n      this.$parent.close();\r\n    },\r\n    async fetchTags() {\r\n      this.tags = (await TagCollection.fetchAll()).array;\r\n    },\r\n\r\n  },\r\n  async created() {\r\n    this.fetchTags();\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n>>> .modal-card, >>> .modal-card-body {\r\n  overflow: visible !important;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddTagDomainAssociationModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddTagDomainAssociationModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddTagDomainAssociationModal.vue?vue&type=template&id=36d2ab80&scoped=true&\"\nimport script from \"./AddTagDomainAssociationModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddTagDomainAssociationModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddTagDomainAssociationModal.vue?vue&type=style&index=0&id=36d2ab80&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36d2ab80\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n\r\n<template>\r\n<div class=\"tags-wrapper\">\r\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\r\n  <template v-if=\"!loading\">\r\n    <b-field grouped group-multiline>\r\n      <em v-if=\"error\">{{$t('error-fetch-tags')}}</em>\r\n      <div class=\"control\" v-else-if=\"associatedTags.length > 0\" v-for=\"(association, idx) in associatedTags\" :key=\"association.id\">\r\n        <b-taglist attached>\r\n          <b-tag type=\"is-info\">\r\n            {{association.tagName.toUpperCase()}}\r\n            <span v-if=\"currentUser.isDeveloper\"> ({{$t('id')}}: {{association.tag}})</span>\r\n          </b-tag>\r\n          <b-tag v-if=\"canEdit\">\r\n            <button class=\"delete is-small\" :title=\"$t('button-delete')\" @click=\"removeTag(association, idx)\">\r\n            </button>\r\n          </b-tag>\r\n        </b-taglist>\r\n      </div>\r\n      <em v-else-if=\"associatedTags.length === 0\">{{$t('no-tag')}}</em>\r\n\r\n      <button v-if=\"canEdit\" class=\"button is-small add-tag\" @click=\"displayModal()\">\r\n        {{$t('button-add')}}\r\n      </button>\r\n    </b-field>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {Tag, TagDomainAssociation, TagDomainAssociationCollection} from 'cytomine-client';\r\nimport AddTagDomainAssociationModal from '@/components/tag/AddTagDomainAssociationModal';\r\nimport {get} from '@/utils/store-helpers';\r\n\r\nexport default {\r\n  name: 'cytomine-tags',\r\n  props: {\r\n    object: {type: Object},\r\n    canEdit: {type: Boolean, default: true}\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n      addTagModal:false,\r\n      associatedTags: []\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: get('currentUser/user'),\r\n  },\r\n  methods: {\r\n    displayModal() {\r\n      //this.addTagModal = true;\r\n      // required to use programmatic modal because the description is sometimes displayed in elements with a\r\n      // CSS transform (e.g. popover) that conflict with the fixed position of the modal\r\n      // (http://meyerweb.com/eric/thoughts/2011/09/12/un-fixing-fixed-elements-with-css-transforms/)\r\n\r\n      this.$buefy.modal.open({\r\n        parent: this,\r\n        component: AddTagDomainAssociationModal,\r\n        props: {associatedTags: this.associatedTags},\r\n        hasModalCard: true,\r\n        events: {'addObjects': this.addAssociations}\r\n      });\r\n    },\r\n    sortAssociatedTags() {\r\n      this.associatedTags.sort((a, b) => a.tagName.localeCompare(b.tagName));\r\n    },\r\n    async addAssociations(tags){\r\n      if(tags.length === 0) {\r\n        this.$notify({type: 'error', text: this.$t('notif-error-add-tag-domain-associations')});\r\n        return;\r\n      }\r\n\r\n      let [existingTags, newTags] = tags.reduce(\r\n        (result, element) => {\r\n          result[element instanceof Tag ? 0 : 1].push(element); // Determine and push to which arr\r\n          return result;\r\n        },\r\n        [[], []] // Default values\r\n      );\r\n\r\n      try{\r\n        let tagPromises = [];\r\n        for(let i = 0; i < newTags.length; i++) {\r\n          tagPromises.push(new Tag({name : newTags[i]}, this.object).save());\r\n        }\r\n        newTags = await Promise.all(tagPromises).then(function(values) {\r\n          return values;\r\n        });\r\n        tags = existingTags.concat(newTags);\r\n      }\r\n      catch(error){\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-add-tags')});\r\n      }\r\n\r\n      try{\r\n        let associationPromises = [];\r\n        for(let i = 0; i < tags.length; i++) {\r\n          associationPromises.push(new TagDomainAssociation({tag : tags[i].id}, this.object).save());\r\n        }\r\n        let newAssocations = await Promise.all(associationPromises).then(function(values) {\r\n          return values;\r\n        });\r\n        this.associatedTags = this.associatedTags.concat(newAssocations);\r\n        this.sortAssociatedTags();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-add-tag-domain-association')});\r\n      }\r\n      catch(error){\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-add-tag-domain-associations')});\r\n      }\r\n    },\r\n    async removeTag(association, idx) {\r\n      try {\r\n        await TagDomainAssociation.delete(association.id);\r\n        this.associatedTags.splice(idx, 1);\r\n        this.$emit('update');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-remove-tag')});\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    try {\r\n      this.associatedTags = (await new TagDomainAssociationCollection({object: this.object}).fetchAll()).array;\r\n      this.sortAssociatedTags();\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n    this.loading = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nem {\r\n  margin-right: 0.5em;\r\n}\r\n</style>\r\n\r\n<style>\r\n.tags-wrapper .control, .tags-wrapper .tags {\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\n.tags-wrapper .tag {\r\n  margin-right: 0.5em;\r\n  margin-bottom: 0.3em !important;\r\n  background-color: rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n.tags-wrapper .tag.is-dark {\r\n  background-color: rgba(0, 0, 0, 0.1);\r\n  color: black;\r\n}\r\n\r\n.tags-wrapper .field.is-grouped.is-grouped-multiline {\r\n  margin-bottom: 0 !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTags.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTags.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineTags.vue?vue&type=template&id=36bde01e&scoped=true&\"\nimport script from \"./CytomineTags.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineTags.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineTags.vue?vue&type=style&index=0&id=36bde01e&prod&scoped=true&lang=css&\"\nimport style1 from \"./CytomineTags.vue?vue&type=style&index=1&id=36bde01e&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36bde01e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImagePreview.vue?vue&type=style&index=0&id=1af6021b&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserDetails.vue?vue&type=style&index=0&id=5bd2ab78&prod&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalDashboard.vue?vue&type=style&index=0&id=bbd1f22e&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineQuillEditor.vue?vue&type=style&index=0&id=e3c24ba2&prod&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProject.vue?vue&type=style&index=0&id=56de602c&prod&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyPanel.vue?vue&type=style&index=0&id=2a725c86&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDescriptionModal.vue?vue&type=style&index=0&id=c1872c3e&prod&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackModal.vue?vue&type=style&index=0&id=451011d2&prod&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineStorage.vue?vue&type=style&index=0&id=496c9281&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageSelector.vue?vue&type=style&index=0&id=64d47f27&prod&scoped=true&lang=css&\"","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\n// Helpers for vuex (inspired by https://github.com/davestewart/vuex-pathify)\r\n\r\nimport _ from 'lodash';\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {String|Array} rootModuleProp  The name of the component property containing the path to the root module to\r\n *                                          use; this root path will be prefixed to the provided path\r\n * @property {Number} debounced The debounce delay\r\n */\r\n\r\n/**\r\n * Getter for a computed property allowing to easily retrieve the value of a store property\r\n * This function must be called from a Vue.js component\r\n * @example\r\n * computed: {\r\n *   myProp: get('myModule/myProp')\r\n * }\r\n *\r\n * @example\r\n * computed: {\r\n *   myProp: sync('myProp', {rootModuleProp: 'modulePath'}),\r\n *   modulePath() {\r\n *     return 'myModule';\r\n *   }\r\n * }\r\n *\r\n * @param {String|Array<String>} path Store path to the property\r\n * @param {Options} [options] Options refining the way to get the property\r\n * @returns A computed getter for the targetted property\r\n */\r\nexport function get(path, options={}) {\r\n  path = arrayPath(path);\r\n  return {\r\n    get() {\r\n      return getValue(this.$store, fullPath(path, this, options));\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * Provides getter and setter for a computed property that should be synchronized with a store property\r\n * This function must be called from a Vue.js component\r\n * @example\r\n * computed: {\r\n *   myProp: sync('myModule/myProp')\r\n * }\r\n *\r\n * @param {String|Array<String>} path Store path to the property\r\n * @param {Options} [options] Options refining the way to sync the property\r\n * @returns Computed getter and setter for the targetted property\r\n */\r\nexport function sync(path, options={}) {\r\n  path = arrayPath(path);\r\n  return {\r\n    ...get(path, options),\r\n    set: debounce(function(value) {\r\n      this.$store.commit(getMutationName(fullPath(path, this, options)), value);\r\n    }, options)\r\n  };\r\n}\r\n\r\n/**\r\n * Provides getter and setter for a computed property that should be synchronized with a simple filter\r\n * stored in Vuex\r\n * This function must be called from a Vue.js component and the targetted module should be constructed as shown\r\n * in the example\r\n * @example\r\n * // Vue.js component\r\n * computed: {\r\n *   myFilter: sync('myModule', 'myFilter'),\r\n * }\r\n * // myModule structure\r\n * namespaced: true,\r\n * state: {\r\n *   filters: {\r\n *     myFilter: null // null value for inactive filter\r\n *   }\r\n * },\r\n * mutations: {\r\n *   setFilter(state, {filterName, propValue}) {\r\n *     state.filters[filterName] = propValue;\r\n *   },\r\n * }\r\n *\r\n *\r\n * @param {String|Array<String>} modulePath Path to the store module containing the filters\r\n * @param {String} filterName The name of the filter property\r\n * @param {Options} [options] Options refining the way to sync the filter\r\n * @returns Computed getter and setter for the targetted filter\r\n */\r\nexport function syncFilter(modulePath, filterName, options={}) {\r\n  modulePath = arrayPath(modulePath);\r\n\r\n  return {\r\n    get() {\r\n      return getValue(this.$store, fullPath(modulePath, this, options)).filters[filterName];\r\n    },\r\n    set(propValue) {\r\n      let path = fullPath(modulePath, this, options);\r\n      this.$store.commit(path.join('/') + '/setFilter', {filterName, propValue});\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * Provides getter and setter for a computed property that should be synchronized with a bounds filter (min, max bounds)\r\n * stored in Vuex\r\n * This function must be called from a Vue.js component, that also defines a property giving the max upper bound, and the\r\n * targetted module should be constructed as shown in the example\r\n * @example\r\n * // Vue.js component\r\n * computed: {\r\n *   myFilter: sync('myModule', 'myFilter', 'maxValue'),\r\n *   maxValue() {return 15;}\r\n * }\r\n * // myModule structure\r\n * namespaced: true,\r\n * state: {\r\n *   filters: {\r\n *     myFilter: null // null value for inactive filter (computed property will be equal to [0, maxValue])\r\n *   }\r\n * },\r\n * mutations: {\r\n *   setFilter(state, {filterName, propValue}) {\r\n *     state.filters[filterName] = propValue;\r\n *   },\r\n * }\r\n *\r\n *\r\n * @param {String|Array<String>} modulePath Path to the store module containing the filters\r\n * @param {String} filterName The name of the filter property\r\n * @param {String} maxProp The name of the component property containing the max allowed value\r\n * @param {Options} [options] Options refining the way to sync the filter\r\n * @returns Computed getter and setter for the targetted filter\r\n */\r\nexport function syncBoundsFilter(modulePath, filterName, maxProp, options={}) {\r\n  modulePath = arrayPath(modulePath);\r\n\r\n  return {\r\n    get() {\r\n      let value = getValue(this.$store, fullPath(modulePath, this, options)).filters[filterName];\r\n      return value ? value : [0, this[maxProp]];\r\n    },\r\n    set: debounce(function(bounds) {\r\n      let path = fullPath(modulePath, this, options);\r\n      let propValue = bounds[0] !== 0 || bounds[1] !== this[maxProp] ? bounds : null;\r\n      this.$store.commit(path.join('/') + '/setFilter', {filterName, propValue});\r\n    }, options)\r\n  };\r\n}\r\n\r\n/**\r\n * Provides getter and setter for a computed property that should be synchronized with a multiselect filter stored in Vuex\r\n * This function must be called from a Vue.js component, that also defines a property giving the available options, and the\r\n * targetted module should be constructed as shown in the example\r\n * @example\r\n * // Vue.js component\r\n * computed: {\r\n *   myFilter: sync('myModule', 'myFilter', 'availableOptions'),\r\n *   availableOptions() {return [1, 2, 3];}\r\n * }\r\n * // myModule structure\r\n * namespaced: true,\r\n * state: {\r\n *   filters: {\r\n *     myFilter: null // null value for inactive filter (computed property will be equal to copy of available options)\r\n *   }\r\n * },\r\n * mutations: {\r\n *   setFilter(state, {filterName, propValue}) {\r\n *     state.filters[filterName] = propValue;\r\n *   },\r\n * }\r\n *\r\n *\r\n * @param {String|Array<String>} path Path to the store module containing the filters\r\n * @param {String} filterName The name of the filter property\r\n * @param {String} optionsProp The name of the component property containing the available options\r\n * @param {Options} [options] Options refining the way to sync the filter\r\n * @returns Computed getter and setter for the targetted filter\r\n */\r\nexport function syncMultiselectFilter(modulePath, filterName, optionsProp, options={}) {\r\n  modulePath = arrayPath(modulePath);\r\n\r\n  return {\r\n    get() {\r\n      let value = getValue(this.$store, fullPath(modulePath, this, options)).filters[filterName];\r\n      return value ? value : this[optionsProp].slice();\r\n    },\r\n    set: debounce(function(selectedOptions) {\r\n      let path = fullPath(modulePath, this, options);\r\n      let propValue = (selectedOptions.length === this[optionsProp].length) ? null : selectedOptions;\r\n      this.$store.commit(path.join('/') + '/setFilter', {filterName, propValue});\r\n    }, options)\r\n  };\r\n}\r\n\r\n// wrapper for lodash debounce that debounces the function iff the debounce delay specified in options is > 0\r\nfunction debounce(fct, options) {\r\n  if(options.debounce) {\r\n    return _.debounce(fct, options.debounce);\r\n  }\r\n  else {\r\n    return fct;\r\n  }\r\n}\r\n\r\nfunction arrayPath(path) {\r\n  if(!path) {\r\n    return [];\r\n  }\r\n  if(Array.isArray(path)) {\r\n    return path;\r\n  }\r\n  if(typeof path === 'string') {\r\n    return path.split('/');\r\n  }\r\n  throw new Error('Path must be a string or an array');\r\n}\r\n\r\nfunction fullPath(path, component, options) {\r\n  if(options.rootModuleProp) {\r\n    path = arrayPath(component[options.rootModuleProp]).concat(path);\r\n  }\r\n  return path;\r\n}\r\n\r\nfunction getValue(store, path) {\r\n  let obj = store.state;\r\n  for(let i = 0; i < path.length; i++) {\r\n    obj = obj[path[i]];\r\n  }\r\n  return obj;\r\n}\r\n\r\nfunction getMutationName(path) {\r\n  let variableName = path[path.length - 1];\r\n  let modulePath = path.slice(0, path.length -1);\r\n  return modulePath.join('/') + '/set' + variableName.charAt(0).toUpperCase() + variableName.slice(1);\r\n}\r\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReviewPanel.vue?vue&type=style&index=0&id=2a9f2ca9&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageDetails.vue?vue&type=style&index=0&id=6cc541f6&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyTree.vue?vue&type=style&index=0&id=4cca4912&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareSourceButtons.vue?vue&type=style&index=0&id=470ead4b&prod&scoped=true&lang=css&\"","/*\r\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport function appendShortTermToken(url, shortTermToken) {\r\n  if(url==null || shortTermToken==null) {\r\n    return url;\r\n  }\r\n  if(url.indexOf('?')===-1) {\r\n    return url + '?Authorization=Bearer ' + shortTermToken;\r\n  }\r\n  else {\r\n    return url + '&Authorization=' + encodeURI('Bearer ' + shortTermToken);\r\n  }\r\n}\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProperties.vue?vue&type=style&index=1&id=fa6ad84e&prod&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProperties.vue?vue&type=style&index=0&id=fa6ad84e&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDatepicker.vue?vue&type=style&index=0&id=ac55ba94&prod&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTask.vue?vue&type=style&index=0&id=6d0d3d7d&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAnnotations.vue?vue&type=style&index=0&id=8e411a6c&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserModal.vue?vue&type=style&index=0&id=faba5b5c&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityLogs.vue?vue&type=style&index=0&id=37261b9d&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"attached-files-wrapper\"},[(!_vm.loading)?[(_vm.error)?_c('em',[_vm._v(_vm._s(_vm.$t('error-attached-files')))]):(_vm.attachedFiles.length > 0)?_vm._l((_vm.attachedFiles),function(file,index){return _c('span',{key:file.id,staticClass:\"file-item\"},[_c('a',{on:{\"click\":function($event){return _vm.downloadAttachedFile(_vm.host, file)}}},[_vm._v(_vm._s(file.filename))]),(_vm.canEdit)?_c('button',{staticClass:\"delete is-small\",on:{\"click\":function($event){return _vm.confirmDeletion(file, index)}}}):_vm._e(),(index < _vm.attachedFiles.length - 1)?[_vm._v(\",\")]:_vm._e()],2)}):_c('em',[_vm._v(_vm._s(_vm.$t('no-attached-file'))+\" \")]),(_vm.canEdit)?_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.displayModal()}}},[_vm._v(_vm._s(_vm.$t('button-add')))]):_vm._e()]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('cytomine-modal-card',{attrs:{\"title\":_vm.$t('add-attached-file')},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$parent.close()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":!_vm.selectedFile || _vm.errors.any()},on:{\"click\":function($event){return _vm.save()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-field',[_c('b-upload',{attrs:{\"type\":\"is-link\",\"drag-drop\":\"\"},model:{value:(_vm.selectedFile),callback:function ($$v) {_vm.selectedFile=$$v},expression:\"selectedFile\"}},[_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"content has-text-centered\"},[(!_vm.selectedFile)?[_c('p',[_c('i',{staticClass:\"fas fa-upload fa-3x\"})]),_c('p',[_vm._v(_vm._s(_vm.$t('choose-file-or-drop')))])]:[_c('p',{staticClass:\"filename is-size-4\"},[_c('i',{staticClass:\"fas fa-file\"}),_vm._v(\" \"+_vm._s(_vm.selectedFile.name))]),_c('p',{staticClass:\"has-text-grey is-size-6\"},[_vm._v(_vm._s(_vm.$t('click-or-drop-new-file')))])]],2)])])],1),_c('b-field',{attrs:{\"label\":_vm.$t('name'),\"type\":{'is-danger': _vm.errors.has('name')},\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"disabled\":!_vm.selectedFile,\"name\":\"name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<cytomine-modal-card :title=\"$t('add-attached-file')\">\r\n  <b-field>\r\n    <b-upload v-model=\"selectedFile\" type=\"is-link\" drag-drop>\r\n      <section class=\"section\">\r\n        <div class=\"content has-text-centered\">\r\n          <template v-if=\"!selectedFile\">\r\n            <p><i class=\"fas fa-upload fa-3x\"></i></p>\r\n            <p>{{$t('choose-file-or-drop')}}</p>\r\n          </template>\r\n          <template v-else>\r\n            <p class=\"filename is-size-4\"><i class=\"fas fa-file\"></i> {{selectedFile.name}}</p>\r\n            <p class=\"has-text-grey is-size-6\">{{$t('click-or-drop-new-file')}}</p>\r\n          </template>\r\n        </div>\r\n      </section>\r\n    </b-upload>\r\n  </b-field>\r\n\r\n  <b-field :label=\"$t('name')\" :type=\"{'is-danger': errors.has('name')}\" :message=\"errors.first('name')\">\r\n    <b-input v-model=\"name\" :disabled=\"!selectedFile\" name=\"name\" v-validate=\"'required'\" />\r\n  </b-field>\r\n\r\n  <template #footer>\r\n    <button class=\"button\" @click=\"$parent.close()\">\r\n      {{$t('button-cancel')}}\r\n    </button>\r\n    <button class=\"button is-link\" :disabled=\"!selectedFile || errors.any()\" @click=\"save()\">\r\n      {{$t('button-save')}}\r\n    </button>\r\n  </template>\r\n</cytomine-modal-card>\r\n</template>\r\n\r\n<script>\r\nimport {AttachedFile} from 'cytomine-client';\r\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\r\n\r\nexport default {\r\n  name: 'attached-file-modal',\r\n  props: {\r\n    object: Object\r\n  },\r\n  components: {CytomineModalCard},\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      selectedFile: null,\r\n      name: ''\r\n    };\r\n  },\r\n  watch: {\r\n    selectedFile(file) {\r\n      if(file) {\r\n        this.name = file.name;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async save() {\r\n      let result = await this.$validator.validateAll('password');\r\n      if(!this.selectedFile || !result) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        let attached = await new AttachedFile({file: this.selectedFile, filename: this.name}, this.object).save();\r\n        this.$emit('addAttachedFile', attached);\r\n        this.$notify({type: 'success', text: this.$t('notif-success-attached-file-creation')});\r\n        this.$parent.close();\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-attached-file-creation')});\r\n      }\r\n    },\r\n  }\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.filename {\r\n  color: rgb(50, 115, 220);\r\n}\r\n\r\n.filename .fas {\r\n  margin-right: 0.5em;\r\n}\r\n\r\n>>> .upload-draggable {\r\n  margin-left: 10%;\r\n  width: 80%;\r\n}\r\n</style>\r\n\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedFileModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedFileModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachedFileModal.vue?vue&type=template&id=64b34ee5&scoped=true&\"\nimport script from \"./AttachedFileModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachedFileModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachedFileModal.vue?vue&type=style&index=0&id=64b34ee5&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64b34ee5\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"attached-files-wrapper\">\r\n  <template v-if=\"!loading\">\r\n    <em v-if=\"error\">{{$t('error-attached-files')}}</em>\r\n    <template v-else-if=\"attachedFiles.length > 0\">\r\n      <span class=\"file-item\" v-for=\"(file, index) in attachedFiles\" :key=\"file.id\">\r\n        <a @click=\"downloadAttachedFile(host, file)\">{{file.filename}}</a>\r\n        <button v-if=\"canEdit\" class=\"delete is-small\" @click=\"confirmDeletion(file, index)\"></button>\r\n        <template v-if=\"index < attachedFiles.length - 1\">,</template>\r\n      </span>\r\n    </template>\r\n    <em v-else>{{$t('no-attached-file')}} </em>\r\n    <button v-if=\"canEdit\" class=\"button is-small\" @click=\"displayModal()\">{{$t('button-add')}}</button>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {Cytomine, AttachedFileCollection} from 'cytomine-client';\r\nimport AttachedFileModal from './AttachedFileModal';\r\nimport {appendShortTermToken} from '@/utils/token-utils.js';\r\nimport {get} from '@/utils/store-helpers.js';\r\n\r\nexport default {\r\n  name: 'attached-files',\r\n  props: {\r\n    object: {type: Object},\r\n    canEdit: {type: Boolean, default: true}\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n      attachedFiles: []\r\n    };\r\n  },\r\n  computed: {\r\n    shortTermToken: get('currentUser/shortTermToken'),\r\n    host() {\r\n      return Cytomine.instance.host;\r\n    }\r\n  },\r\n  methods: {\r\n    appendShortTermToken,\r\n    displayModal() {\r\n      // required to use programmatic modal because the description is sometimes displayed in elements with a\r\n      // CSS transform (e.g. popover) that conflict with the fixed position of the modal\r\n      // (http://meyerweb.com/eric/thoughts/2011/09/12/un-fixing-fixed-elements-with-css-transforms/)\r\n\r\n      this.$buefy.modal.open({\r\n        parent: this,\r\n        component: AttachedFileModal,\r\n        props: {object: this.object},\r\n        hasModalCard: true,\r\n        events: {'addAttachedFile': this.addAttachedFile}\r\n      });\r\n    },\r\n    downloadAttachedFile(host, attachedFile) {\r\n      window.location.assign(appendShortTermToken(host + attachedFile.url, this.shortTermToken));\r\n    },\r\n    addAttachedFile(attachedFile) {\r\n      this.attachedFiles.push(attachedFile);\r\n    },\r\n    confirmDeletion(attachedFile, idx) {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('confirm-deletion'),\r\n        message: this.$t('confirm-deletion-attached-file', {filename: attachedFile.filename}),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.deleteAttachedFile(attachedFile, idx)\r\n      });\r\n    },\r\n    async deleteAttachedFile(attachedFile, idx) {\r\n      try {\r\n        await attachedFile.delete();\r\n        this.attachedFiles.splice(idx, 1);\r\n        this.$notify({\r\n          type: 'success',\r\n          text: this.$t('notif-success-attached-file-deletion', {filename: attachedFile.filename})\r\n        });\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-attached-file-deletion', {filename: attachedFile.filename})\r\n        });\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      this.attachedFiles = (await AttachedFileCollection.fetchAll({object: this.object})).array;\r\n    }\r\n    catch(error) {\r\n      console.log(error);\r\n      this.error = true;\r\n    }\r\n    this.loading = false;\r\n  }\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.attached-files-wrapper {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.file-item {\r\n  margin-right: 0.5em;\r\n}\r\n\r\n.file-item .delete {\r\n  margin-left: 0.4rem;\r\n  margin-right: 0.1rem;\r\n  position: relative;\r\n  top: 2px;\r\n}\r\n\r\n.button {\r\n  margin-left: 0.5em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedFiles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedFiles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachedFiles.vue?vue&type=template&id=5a01c499&scoped=true&\"\nimport script from \"./AttachedFiles.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachedFiles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachedFiles.vue?vue&type=style&index=0&id=5a01c499&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a01c499\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/roche.092e0cab.gif\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberActivityDetails.vue?vue&type=style&index=0&id=3009d81c&prod&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/logo.8bfe6faf.svg\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectMembers.vue?vue&type=style&index=1&id=6e85a606&prod&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityLogsItem.vue?vue&type=style&index=0&id=10699078&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobDetails.vue?vue&type=style&index=1&id=4eb4085b&prod&scoped=true&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.image)?_c('span',[(_vm.image.blindedName)?[_c('span',{staticClass:\"blind-indication\"},[_vm._v(\"[\"+_vm._s(this.$t('blinded-name-indication'))+\"]\")]),_vm._v(\" \"+_vm._s(_vm.image.blindedName)+\" \"),(_vm.image.instanceFilename && _vm.showBothNames)?[_c('br'),_c('span',{staticClass:\"true-name\"},[_vm._v(\" \"+_vm._s(_vm.image.instanceFilename)+\" \")])]:_vm._e()]:[_vm._v(_vm._s(_vm.image.instanceFilename))]],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<span v-if=\"image\">\r\n  <template v-if=\"image.blindedName\">\r\n    <span class=\"blind-indication\">[{{this.$t('blinded-name-indication')}}]</span>\r\n    {{image.blindedName}}\r\n    <template v-if=\"image.instanceFilename && showBothNames\">\r\n      <br>\r\n      <span class=\"true-name\">\r\n        {{image.instanceFilename}} <!-- backend will return this prop iff user is allowed to view it (admin or project manager) -->\r\n      </span>\r\n    </template>\r\n  </template>\r\n  <template v-else>{{image.instanceFilename}}</template>\r\n</span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'image-name',\r\n  props: {\r\n    image: Object,\r\n    showBothNames: {type: Boolean, default: false}\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.blind-indication {\r\n  font-size: 0.9em;\r\n  text-transform: uppercase;\r\n}\r\n\r\n.true-name {\r\n  margin-top: 0.2em;\r\n  font-size: 0.9em;\r\n  color: #888;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageName.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageName.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageName.vue?vue&type=template&id=6643e86b&scoped=true&\"\nimport script from \"./ImageName.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageName.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageName.vue?vue&type=style&index=0&id=6643e86b&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6643e86b\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectImageFilters.vue?vue&type=style&index=1&id=646ef45a&prod&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminDashboard.vue?vue&type=style&index=0&id=2eaa6ab8&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSoftwares.vue?vue&type=style&index=0&id=50b0beee&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawTools.vue?vue&type=style&index=0&id=04a5c87e&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListSoftware.vue?vue&type=style&index=0&id=3fd487a5&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationPreview.vue?vue&type=style&index=0&id=a37d5e4e&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineStorage.vue?vue&type=style&index=1&id=496c9281&prod&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=style&index=0&id=31271cb5&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDescription.vue?vue&type=style&index=0&id=2038f6b8&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChannelName.vue?vue&type=style&index=0&id=2d881ed8&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal-card\"},[_c('header',{staticClass:\"modal-card-head\"},[_c('p',{staticClass:\"modal-card-title\"},[_vm._v(_vm._s(_vm.title))]),_vm._t(\"controls\")],2),_c('section',{staticClass:\"modal-card-body\"},[_vm._t(\"default\")],2),(_vm.footer)?_c('footer',{staticClass:\"modal-card-foot\"},[_vm._t(\"footer\",function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-close'))+\" \")])]})],2):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"modal-card\">\r\n  <header class=\"modal-card-head\">\r\n    <p class=\"modal-card-title\">{{title}}</p>\r\n    <slot name=\"controls\"></slot>\r\n  </header>\r\n  <section class=\"modal-card-body\">\r\n    <slot></slot>\r\n  </section>\r\n  <footer class=\"modal-card-foot\" v-if=\"footer\">\r\n    <slot name=\"footer\">\r\n      <button class=\"button\" type=\"button\" @click=\"$emit('close')\">\r\n        {{$t('button-close')}}\r\n      </button>\r\n    </slot>\r\n  </footer>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'cytomine-modal-card',\r\n  props: {\r\n    title: String,\r\n    footer: {type: Boolean, default: true}\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineModalCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineModalCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineModalCard.vue?vue&type=template&id=b6e500b4&\"\nimport script from \"./CytomineModalCard.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineModalCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PropertiesPanel.vue?vue&type=style&index=0&id=4c1e15ee&prod&lang=css&\"","module.exports = __webpack_public_path__ + \"img/3dh.bb638da6.png\";","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport _ from 'lodash';\r\n\r\n/**\r\n * Return a Regexp based on the provided search string, and using * as a wildcard character.\r\n * @param {String} str The string entered by the user\r\n * @return {RegExp}\r\n */\r\nexport function getWildcardRegexp(str) {\r\n  let escapedString = _.escapeRegExp(str); // escape all RegExp special characters (only * should have a special behaviour)\r\n  return new RegExp('(' + escapedString.split('\\\\*').join('.*') + ')', 'i');\r\n}\r\n\r\n/**\r\n * Convert the string into a date time\r\n * @param {String} str The string value\r\n * @return {Date} The converted date time\r\n */\r\nexport function convertToDate(str) {\r\n  let dateString = '';\r\n\r\n  if (str.length === 8) {\r\n    dateString = str.replace(/(\\d{4})(\\d{2})(\\d{2})/, '$1-$2-$3');\r\n  }\r\n  else {\r\n    dateString = str.replace(/(\\d{4})(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})/, '$1-$2-$3 $4:$5:$6');\r\n  }\r\n\r\n  return new Date(dateString);\r\n}\r\n\r\n/**\r\n * Check if the string is a valid date\r\n * @param {String} str The string value\r\n * @return {boolean}\r\n */\r\nexport function isDate(str) {\r\n  return (new Date(str)).toString() !== 'Invalid Date';\r\n}\r\n\r\n/**\r\n * Check if a string is a valid number.\r\n * @param {String} str The string entered by the user\r\n * @return {boolean}\r\n */\r\nexport function isNumeric(str) {\r\n  return !isNaN(str);\r\n}\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedFiles.vue?vue&type=style&index=0&id=5a01c499&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineSearcher.vue?vue&type=style&index=0&id=714c3a7d&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageControlsShiftButtons.vue?vue&type=style&index=1&id=5eb6685e&prod&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorManipulation.vue?vue&type=style&index=0&id=49a921d7&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUIProject.vue?vue&type=style&index=1&id=740dcc38&prod&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageControls.vue?vue&type=style&index=1&id=ff293574&prod&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetails.vue?vue&type=style&index=0&id=67b2b09b&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InformationPanel.vue?vue&type=style&index=0&id=184a5a83&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavbarDropdown.vue?vue&type=style&index=0&id=92a0791a&prod&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowPanel.vue?vue&type=style&index=1&id=f95581d2&prod&lang=css&\"","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nexport default {\r\n  CYTOMINE_CORE_HOST: 'https://localhost-core',\r\n  CYTOMINE_UPLOAD_HOST: 'https://localhost-upload',\r\n  STOP_PREVIEW_KEYWORD: 'STOP_PREVIEW',\r\n  DIGITAL_ZOOM_INCREMENT: 4,\r\n  // features switches\r\n  ALGORITHMS_ENABLED: false,\r\n  PRELOADED_SLICES: 50,\r\n  MAX_MERGEABLE_CHANNELS: 36,\r\n  // Refresh intervals (expressed in milliseconds)\r\n  VIEWER_ANNOTATIONS_REFRESH_INTERVAL: 10000,\r\n  MEMBERS_ACTIVITY_REFRESH_INTERVAL: 30000,\r\n  PING_INTERVAL: 20000, // should be lower than 30 seconds (otherwise, not counted in backend)\r\n  JOB_DETAILS_REFRESH_INTERVAL: 2000,\r\n  JOB_LOGS_REFRESH_INTERVAL: 5000,\r\n  TASK_REFRESH_INTERVAL: 2000,\r\n  STORAGE_REFRESH_INTERVAL: 10000,\r\n  ONGOING_UPLOAD_REFRESH_INTERVAL: 500,\r\n  SAVE_POSITION_IN_IMAGE_INTERVAL: 5000, // position also stored each time the user moves in the image\r\n  BROADCASTING_USERS_REFRESH_INTERVAL: 10000,\r\n  TRACKING_REFRESH_INTERVAL: 500,\r\n  ANNOTATION_STROKE_COLOR:  [0, 0, 0, 1],\r\n  ANNOTATION_STROKE_SELECT_COLOR: [0, 153, 255, 1],\r\n  MAX_IMAGES_FOR_FILTER: 50000,\r\n  // ---\r\n  IDLE_DURATION: 120, // if the user does not move his mouse on the page during this duration, he is considered as inactive - no more ping (expressed in seconds)\r\n  CONFIG_KEY_WELCOME: 'WELCOME',\r\n  PREFIX_HIDDEN_PROPERTY_KEY: '@',\r\n  METADATA_PREFIXES: '',\r\n  DEFAULT_PROPERTY_KEY: '@DEFAULT_PROPERTY',\r\n  DEFAULT_IMAGE_CONTROLS_STEP: 2,\r\n  CATEGORY_ITEMS_PER_BATCH: 10,\r\n  ANNOTATIONS_MAX_ITEMS_PER_CATEGORY: 10,\r\n  // To keep the WebSockets alive by sending the broadcaster viewer position\r\n  WS_POSITION_KEEP_ALIVE_INTERVAL: 10000,\r\n  \r\n};\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListImages.vue?vue&type=style&index=0&id=2c0e27e8&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MembersActivity.vue?vue&type=style&index=0&id=63399df4&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddTagDomainAssociationModal.vue?vue&type=style&index=0&id=36d2ab80&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyDetails.vue?vue&type=style&index=0&id=e68b0e42&prod&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageInformation.vue?vue&type=style&index=0&id=2ffeee81&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareInformation.vue?vue&type=style&index=1&id=067d1ba2&prod&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineMultiselect.vue?vue&type=style&index=0&id=1187e655&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"track-tree\",class:{selector: _vm.allowSelection, draggable: _vm.allowDrag, editable: _vm.allowEdition}},[_c('sl-vue-tree',{ref:\"tree\",attrs:{\"allowMultiselect\":false},on:{\"select\":_vm.select,\"drop\":_vm.drop},scopedSlots:_vm._u([{key:\"toggle\",fn:function({node}){return [(!node.data.hidden && !node.isLeaf && node.children.length > 0)?[_c('i',{class:['tree-toggle', 'fas', node.isExpanded ? 'fa-angle-down' : 'fa-angle-right']})]:_vm._e(),_c('div',{staticClass:\"sl-vue-tree-gap\"})]}},{key:\"title\",fn:function({node}){return [(!node.data.hidden)?_c('div',{staticClass:\"tree-selector\"},[(_vm.allowSelection)?_c('i',{staticClass:\"tree-checkbox\",class:_vm.classNames(node)}):_vm._e(),_c('cytomine-track',{attrs:{\"track\":node.data}})],1):_c('div')]}},{key:\"sidebar\",fn:function({node}){return [(!node.data.hidden)?_vm._t(\"custom-sidebar\",function(){return [(_vm.allowEdition)?_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.startTrackUpdate(node)}}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-edit\"})])]),_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.confirmTrackDeletion(node)}}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"far fa-trash-alt\"})])])]):_vm._e()]},{\"track\":node.data}):_vm._e()]}}],null,true),model:{value:(_vm.treeNodes),callback:function ($$v) {_vm.treeNodes=$$v},expression:\"treeNodes\"}}),(_vm.noResult)?_vm._t(\"no-result\",function(){return [_c('em',{staticClass:\"has-text-grey no-result\"},[_vm._v(_vm._s(_vm.$t('no-result')))])]}):_vm._e(),(_vm.allowEdition || _vm.allowNew)?_c('div',{staticClass:\"add-track-container\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.startTrackCreation()}}},[_vm._v(_vm._s(_vm.$t('add-track')))])]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save()}}},[_c('cytomine-modal-card',{staticClass:\"track-modal\",attrs:{\"title\":_vm.$t(_vm.track ? 'update-track' : 'create-track')},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$parent.close()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-field',{attrs:{\"label\":_vm.$t('name'),\"type\":{'is-danger': _vm.errors.has('name')},\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('sketch-picker',{attrs:{\"presetColors\":_vm.presetColors},model:{value:(_vm.color),callback:function ($$v) {_vm.color=$$v},expression:\"color\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <form @submit.prevent=\"save()\">\r\n    <cytomine-modal-card :title=\"$t(track ? 'update-track' : 'create-track')\" class=\"track-modal\">\r\n      <b-field :label=\"$t('name')\" :type=\"{'is-danger': errors.has('name')}\" :message=\"errors.first('name')\">\r\n        <b-input v-model=\"name\" name=\"name\" v-validate=\"'required'\" />\r\n      </b-field>\r\n\r\n      <sketch-picker v-model=\"color\" :presetColors=\"presetColors\" />\r\n\r\n      <template #footer>\r\n        <button class=\"button\" type=\"button\" @click=\"$parent.close()\">\r\n          {{$t('button-cancel')}}\r\n        </button>\r\n        <button class=\"button is-link\" :disabled=\"errors.any()\">\r\n          {{$t('button-save')}}\r\n        </button>\r\n      </template>\r\n    </cytomine-modal-card>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport {Track} from 'cytomine-client';\r\nimport {Sketch} from 'vue-color';\r\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\r\n\r\nexport default {\r\n  name: 'track-modal',\r\n  props: {\r\n    track: Object,\r\n    image: Object\r\n  },\r\n  components: {\r\n    'sketch-picker': Sketch,\r\n    CytomineModalCard\r\n  },\r\n  $_veeValidate: {validator: 'new'},\r\n  data() {\r\n    return {\r\n      name: '',\r\n      color: null\r\n    };\r\n  },\r\n  computed: {\r\n    presetColors() {\r\n      return [\r\n        '#F44E3B',\r\n        '#FB9E00',\r\n        '#FCDC00',\r\n        '#68BC00',\r\n        '#16A5A5',\r\n        '#009CE0',\r\n        '#7B10D8',\r\n        '#F06292',\r\n        '#000',\r\n        '#777',\r\n        '#FFF'\r\n      ];\r\n    }\r\n  },\r\n  methods: {\r\n    randomColor() {\r\n      return '#' + (Math.random().toString(16) + '0000000').slice(2, 8);\r\n    },\r\n    async save() {\r\n      let result = await this.$validator.validateAll();\r\n      if(!result) {\r\n        return;\r\n      }\r\n\r\n      if(this.track) {\r\n        this.update();\r\n      }\r\n      else {\r\n        this.create();\r\n      }\r\n    },\r\n    async create() {\r\n      try {\r\n        let track = await new Track({name: this.name, color: this.color.hex, image: this.image.id}).save();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-track-creation')});\r\n        this.$emit('newTrack', track);\r\n        this.$parent.close();\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-track-creation')});\r\n      }\r\n    },\r\n    async update() {\r\n      let track = new Track(this.track);\r\n      track.color = this.color.hex;\r\n      track.name = this.name;\r\n      try {\r\n        await track.save();\r\n        this.$notify({type: 'success', text: this.$t('notif-success-track-update')});\r\n        this.$emit('updateTrack', track);\r\n        this.$parent.close();\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-track-update')});\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.name = this.track ? this.track.name : '';\r\n    this.color = {hex: this.track ? this.track.color : this.randomColor()};\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n  .track-modal .vc-sketch {\r\n    width: auto;\r\n    box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n  }\r\n\r\n  .track-modal .vc-sketch-active-color {\r\n    box-shadow: inset 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n  }\r\n\r\n  .track-modal .vc-sketch-saturation-wrap {\r\n    padding-bottom: 15vh;\r\n  }\r\n\r\n  /* hide alpha channel */\r\n  .track-modal .vc-sketch-field--single:last-child {\r\n    display: none;\r\n  }\r\n  /* --- */\r\n\r\n  .track-modal .vc-sketch-sliders {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .track-modal .vc-sketch-hue-wrap {\r\n    flex-grow: 1;\r\n  }\r\n\r\n  .track-modal .vc-sketch-alpha-wrap {\r\n    display: none;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TrackModal.vue?vue&type=template&id=451011d2&\"\nimport script from \"./TrackModal.vue?vue&type=script&lang=js&\"\nexport * from \"./TrackModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TrackModal.vue?vue&type=style&index=0&id=451011d2&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n  <div class=\"track-tree\" :class=\"{selector: allowSelection, draggable: allowDrag, editable: allowEdition}\">\r\n    <sl-vue-tree v-model=\"treeNodes\" :allowMultiselect=\"false\" @select=\"select\" @drop=\"drop\" ref=\"tree\">\r\n      <template #toggle=\"{node}\">\r\n        <template v-if=\"!node.data.hidden && !node.isLeaf && node.children.length > 0\">\r\n          <i :class=\"['tree-toggle', 'fas', node.isExpanded ? 'fa-angle-down' : 'fa-angle-right']\"></i>\r\n        </template>\r\n        <div class=\"sl-vue-tree-gap\"></div>\r\n      </template>\r\n\r\n      <template #title=\"{node}\">\r\n        <div v-if=\"!node.data.hidden\" class=\"tree-selector\">\r\n          <i class=\"tree-checkbox\"\r\n             v-if=\"allowSelection\"\r\n             :class=\"classNames(node)\">\r\n          </i>\r\n          <cytomine-track :track=\"node.data\" />\r\n        </div>\r\n        <div v-else></div>\r\n      </template>\r\n\r\n      <template #sidebar=\"{node}\">\r\n        <slot v-if=\"!node.data.hidden\" name=\"custom-sidebar\" :track=\"node.data\">\r\n          <div v-if=\"allowEdition\" class=\"buttons\">\r\n            <button class=\"button is-small\" @click=\"startTrackUpdate(node)\">\r\n            <span class=\"icon is-small\">\r\n              <i class=\"fas fa-edit\"></i>\r\n            </span>\r\n            </button>\r\n            <button class=\"button is-small\" @click=\"confirmTrackDeletion(node)\">\r\n            <span class=\"icon is-small\">\r\n              <i class=\"far fa-trash-alt\"></i>\r\n            </span>\r\n            </button>\r\n          </div>\r\n        </slot>\r\n      </template>\r\n    </sl-vue-tree>\r\n\r\n    <slot v-if=\"noResult\" name=\"no-result\">\r\n      <em class=\"has-text-grey no-result\">{{$t('no-result')}}</em>\r\n    </slot>\r\n\r\n    <div v-if=\"allowEdition || allowNew\" class=\"add-track-container\">\r\n      <button class=\"button is-small\" @click=\"startTrackCreation()\">{{$t('add-track')}}</button>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SlVueTree from 'sl-vue-tree';\r\nimport CytomineTrack from './CytomineTrack';\r\nimport TrackModal from './TrackModal';\r\nimport {Track} from 'cytomine-client';\r\n\r\nexport default {\r\n  name: 'track-tree',\r\n  model: {\r\n    prop: 'selectedNodes',\r\n    event: 'setSelectedNodes'\r\n  },\r\n  props: {\r\n    tracks: {type: Array},\r\n    additionalNodes: {type: Array, default: () => []},\r\n    startWithAdditionalNodes: {type: Boolean, default: false},\r\n    searchString: {type: String, default: ''},\r\n    selectedNodes: {type: Array, default: () => []},\r\n    allowSelection: {type: Boolean, default: true},\r\n    multipleSelection: {type: Boolean, default: true},\r\n    allowDrag: {type: Boolean, default: false},\r\n    allowEdition: {type: Boolean, default: false},\r\n    allowNew: {type: Boolean, default: false},\r\n    image: {type: Object, default: null} //Cannot be null if allowNew\r\n  },\r\n  components: {\r\n    SlVueTree,\r\n    CytomineTrack\r\n  },\r\n  data() {\r\n    return {\r\n      treeNodes: [],\r\n      internalSelectedNodes: [],\r\n      editedNode: null\r\n    };\r\n  },\r\n  computed: {\r\n    lowCaseSearchString() {\r\n      return this.searchString.toLowerCase();\r\n    },\r\n    noResult() {\r\n      return this.treeNodes.every(node => node.data.hidden);\r\n    }\r\n  },\r\n  watch: {\r\n    tracks() {\r\n      this.makeTree();\r\n    },\r\n    additionalNodes() {\r\n      this.makeTree();\r\n    },\r\n    selectedNodes() {\r\n      this.internalSelectedNodes = this.selectedNodes.slice();\r\n      this.refreshNodeSelection();\r\n    },\r\n    lowCaseSearchString() {\r\n      this.filter();\r\n    }\r\n  },\r\n  methods: {\r\n    makeTree() {\r\n      if(!this.tracks) {\r\n        this.treeNodes = [];\r\n        return;\r\n      }\r\n\r\n      let nodes = this.createSubTree(this.tracks.slice());\r\n      let additionalNodes = this.createSubTree(this.additionalNodes.slice());\r\n      this.treeNodes = this.startWithAdditionalNodes ? additionalNodes.concat(nodes) : nodes.concat(additionalNodes);\r\n\r\n      this.filter();\r\n    },\r\n\r\n    createSubTree(tracks) {\r\n      return tracks.map(track => this.createNode(track));\r\n    },\r\n\r\n    createNode(track) {\r\n      return {\r\n        title: track.name,\r\n        isLeaf: false, // all tracks can be used as parent for drag and drop\r\n        isDraggable: this.allowDrag,\r\n        isExpanded: true,\r\n        isSelected: this.internalSelectedNodes.includes(track.id),\r\n        data: {\r\n          id: track.id,\r\n          name: track.name,\r\n          color: track.color,\r\n          parent: track.parent,\r\n          image: track.image,\r\n          hidden: false\r\n        },\r\n        children: track.children && track.children.length > 0 ? this.createSubTree(track.children) : []\r\n      };\r\n    },\r\n\r\n    filter() {\r\n      let str = this.lowCaseSearchString;\r\n      this.applyToAllNodes(node => {\r\n        let match = node.title.toLowerCase().indexOf(str) >= 0;\r\n        if(node.children) {\r\n          let matchInChildren = node.children.some(child => !child.data.hidden); // OK because applyToAllNodes performs bottom-up operations\r\n          node.isExpanded = matchInChildren;\r\n          match = match || matchInChildren;\r\n        }\r\n        node.data.hidden = !match;\r\n      });\r\n    },\r\n\r\n    classNames(node) {\r\n      if(this.multipleSelection) {\r\n        return node.isSelected ? ['fas', 'fa-check-square'] : ['far', 'fa-square'];\r\n      }\r\n      else {\r\n        return node.isSelected ? ['fas', 'fa-dot-circle'] : ['far', 'fa-circle'];\r\n      }\r\n    },\r\n\r\n    select(nodes, event) {\r\n      if(!this.allowSelection) {\r\n        return;\r\n      }\r\n\r\n      if(this.clickOnTreeSelector(event.target)) {\r\n        nodes.forEach(node => {\r\n          if(this.multipleSelection) {\r\n            let indexSelected = this.internalSelectedNodes.indexOf(node.data.id);\r\n            if(indexSelected >= 0) {\r\n              this.internalSelectedNodes.splice(indexSelected, 1);\r\n              this.$emit('unselect', node.data.id);\r\n            }\r\n            else {\r\n              this.internalSelectedNodes.push(node.data.id);\r\n              this.$emit('select', node.data.id);\r\n            }\r\n          }\r\n          else {\r\n            this.internalSelectedNodes = [node.data.id];\r\n            this.$emit('select', node.data.id);\r\n          }\r\n        });\r\n        this.$emit('setSelectedNodes', this.internalSelectedNodes);\r\n      }\r\n\r\n      this.refreshNodeSelection();\r\n    },\r\n    refreshNodeSelection() {\r\n      if(!this.allowSelection) {\r\n        return;\r\n      }\r\n\r\n      this.applyToAllNodes(node => {\r\n        node.isSelected = this.internalSelectedNodes.some(id => id === node.data.id);\r\n      });\r\n    },\r\n    clickOnTreeSelector(elem) {\r\n      if(elem.classList.contains('tree-selector')) {\r\n        return true;\r\n      }\r\n      return elem.parentElement ? this.clickOnTreeSelector(elem.parentElement) : false;\r\n    },\r\n    applyToAllNodes(fct, nodes=this.treeNodes) {\r\n      nodes.forEach(node => {\r\n        if(node.children) {\r\n          this.applyToAllNodes(fct, node.children);\r\n        }\r\n        fct(node);\r\n      });\r\n    },\r\n\r\n    startTrackCreation() {\r\n      this.editedNode = null;\r\n      this.openModal();\r\n    },\r\n    createTrack(track) {\r\n      this.treeNodes.push(this.createNode(track));\r\n      this.$emit('newTrack', track);\r\n    },\r\n\r\n    startTrackUpdate(node) {\r\n      this.editedNode = node;\r\n      this.openModal();\r\n    },\r\n    updateTrack(track) {\r\n      this.$refs.tree.updateNode(this.editedNode.path, {data: {...track}});\r\n      this.$emit('updatedTrack', track);\r\n    },\r\n\r\n    openModal() {\r\n      this.$buefy.modal.open({\r\n        parent: this,\r\n        component: TrackModal,\r\n        props: {\r\n          track: this.editedNode ? this.editedNode.data : null,\r\n          image: this.image\r\n        },\r\n        events: {\r\n          newTrack: this.createTrack,\r\n          updateTrack: this.updateTrack\r\n        },\r\n        hasModalCard: true\r\n      });\r\n    },\r\n\r\n    drop(nodes, position) {\r\n      nodes.forEach(async node => {\r\n        let idParent = (position.placement === 'inside') ? position.node.data.id : position.node.data.parent;\r\n        if(node.data.parent !== idParent) {\r\n          try {\r\n            await new Track(node.data).changeParent(idParent);\r\n            this.applyToAllNodes(tmp => {\r\n              if(tmp.data.id === node.data.id) {\r\n                tmp.data.parent = idParent;\r\n              }\r\n            });\r\n          }\r\n          catch(error) {\r\n            console.log(error);\r\n            this.$notify({type: 'error', text: this.$t('notif-error-track-tree-update')});\r\n          }\r\n        }\r\n        else {\r\n          this.$notify({type: 'warn', text: this.$t('notif-warn-track-tree-order-not-persisted')});\r\n        }\r\n      });\r\n    },\r\n\r\n    confirmTrackDeletion(node) {\r\n      this.$buefy.dialog.confirm({\r\n        title: this.$t('confirm-deletion'),\r\n        message: this.$t('confirm-deletion-track', {name: node.data.name}),\r\n        type: 'is-danger',\r\n        confirmText: this.$t('button-confirm'),\r\n        cancelText: this.$t('button-cancel'),\r\n        onConfirm: () => this.deleteTrack(node)\r\n      });\r\n    },\r\n    async deleteTrack(node) {\r\n      try {\r\n        await Track.delete(node.data.id);\r\n        this.$refs.tree.remove([node.path]);\r\n        this.$emit('deletedTrack', node.data.id);\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-track-deletion')});\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.internalSelectedNodes = this.selectedNodes.slice();\r\n    this.makeTree();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .add-track-container {\r\n    text-align: center;\r\n    margin-top: 0.5em;\r\n    margin-bottom: 0.5em;\r\n  }\r\n</style>\r\n\r\n\r\n<style>\r\n  .track-tree {\r\n    padding: 0 0 2px 0;\r\n  }\r\n\r\n  .track-tree .tree-checkbox {\r\n    margin-right: 10px;\r\n    color: rgba(0, 0, 0, 0.2);\r\n    font-size: 1rem;\r\n  }\r\n\r\n  .track-tree.selector .sl-vue-tree-node-item:hover {\r\n    background: rgba(0, 0, 0, 0.05);\r\n  }\r\n\r\n  .track-tree.selector .sl-vue-tree-selected > .sl-vue-tree-node-item {\r\n    background: rgba(0, 0, 0, 0.05);\r\n    font-weight: 600;\r\n  }\r\n\r\n  .track-tree .sl-vue-tree-selected > .sl-vue-tree-node-item .tree-checkbox {\r\n    color: #61b2e8;\r\n  }\r\n\r\n  .track-tree.selector .sl-vue-tree-gap {\r\n    width: 24px;\r\n  }\r\n\r\n  .track-tree.selector .tree-selector {\r\n    cursor: pointer;\r\n    flex-grow: 1;\r\n  }\r\n\r\n  .track-tree .tree-selector {\r\n    min-width: 0; /* to allow correct handling of overflow-wrap */\r\n  }\r\n\r\n  .track-tree .tree-selector:hover .tree-checkbox {\r\n    color: #61b2e8;\r\n  }\r\n\r\n  .track-tree .no-result {\r\n    margin-left: 20px;\r\n    line-height: 1.5;\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  .track-tree .buttons, .track-tree .button {\r\n    margin-bottom: 0 !important;\r\n  }\r\n\r\n  .track-tree.editable .sl-vue-tree-sidebar {\r\n    padding-left: 20px;\r\n    flex-shrink: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TrackTree.vue?vue&type=template&id=0a743348&scoped=true&\"\nimport script from \"./TrackTree.vue?vue&type=script&lang=js&\"\nexport * from \"./TrackTree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TrackTree.vue?vue&type=style&index=0&id=0a743348&prod&scoped=true&lang=css&\"\nimport style1 from \"./TrackTree.vue?vue&type=style&index=1&id=0a743348&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a743348\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTable.vue?vue&type=style&index=0&id=0fa69708&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminPanel.vue?vue&type=style&index=0&id=779e7332&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackTree.vue?vue&type=style&index=1&id=0a743348&prod&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkPanel.vue?vue&type=style&index=0&id=53934cea&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListImagesPreview.vue?vue&type=style&index=0&id=2744f546&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSourceModal.vue?vue&type=style&index=0&id=0a1b2893&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectConfiguration.vue?vue&type=style&index=0&id=b2c4095a&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageMetadataModal.vue?vue&type=style&index=0&id=3735e86c&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawTools.vue?vue&type=style&index=1&id=04a5c87e&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-taginput',{attrs:{\"value\":_vm.value,\"data\":_vm.filteredDomains,\"autocomplete\":\"\",\"open-on-focus\":true,\"append-to-body\":true,\"field\":_vm.displayedProperty,\"placeholder\":_vm.$t(_vm.placeholder),\"allow-new\":_vm.allowNew,\"allow-duplicates\":false},on:{\"input\":function($event){return _vm.$emit('input', $event)},\"typing\":val => _vm.searchString = val,\"add\":function($event){_vm.searchString = ''}}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n\r\n<template>\r\n<b-taginput\r\n  :value=\"value\"\r\n  @input=\"$emit('input', $event)\"\r\n  :data=\"filteredDomains\"\r\n  autocomplete\r\n  :open-on-focus=\"true\"\r\n  :append-to-body=\"true\"\r\n  :field=\"displayedProperty\"\r\n  :placeholder=\"$t(placeholder)\"\r\n  @typing=\"val => searchString = val\"\r\n  @add=\"searchString = ''\"\r\n  :allow-new=\"allowNew\"\r\n  :allow-duplicates=\"false\"\r\n/>\r\n</template>\r\n\r\n<script>\r\nimport {getWildcardRegexp} from '@/utils/string-utils';\r\n\r\nexport default {\r\n  name: 'domain-tag-input',\r\n  props: {\r\n    value: Array,\r\n    domains: Array,\r\n    identifier: {\r\n      type: String,\r\n      default: 'id'\r\n    },\r\n    displayedProperty: {\r\n      type: String,\r\n      default: 'name'\r\n    },\r\n    searchedProperty: {\r\n      type: String,\r\n      default: 'name'\r\n    },\r\n    allowNew: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: 'search-placeholder'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      searchString: ''\r\n    };\r\n  },\r\n  computed: {\r\n    filteredDomains() {\r\n      let selectedIds = this.value.map(v => v[this.identifier]);\r\n      let filtered = this.domains.filter(user => !selectedIds.includes(user[this.identifier]));\r\n      if(this.searchString === '') {\r\n        return filtered;\r\n      }\r\n\r\n      let regexp = getWildcardRegexp(this.searchString);\r\n\r\n      return filtered.filter(user => regexp.test(user[this.searchedProperty]));\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.taginput {\r\n  width: 82% !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainTagInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainTagInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DomainTagInput.vue?vue&type=template&id=45831b03&scoped=true&\"\nimport script from \"./DomainTagInput.vue?vue&type=script&lang=js&\"\nexport * from \"./DomainTagInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DomainTagInput.vue?vue&type=style&index=0&id=45831b03&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45831b03\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralConfiguration.vue?vue&type=style&index=0&id=3cd00c07&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.channel)?_c('span',[_c('i',{staticClass:\"fa fa-circle color-preview\",style:({color: _vm.color})}),_vm._v(\" \"+_vm._s(_vm.name)+\" \")]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <span v-if=\"channel\">\r\n    <i class=\"fa fa-circle color-preview\" :style=\"{color}\" />\r\n    {{ name }}\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ChannelName',\r\n  props: {\r\n    channel: Object\r\n  },\r\n  computed: {\r\n    channelIndex() {\r\n      return this.channel.channel || this.channel.index;\r\n    },\r\n    color() {\r\n      return this.channel.color || this.channel.channelColor || '#C0C0C0';\r\n    },\r\n    name() {\r\n      if (this.channel.name) {\r\n        return this.channel.name;\r\n      }\r\n      if (this.channel.channelName) {\r\n        return this.channel.channelName;\r\n      }\r\n      return `${this.$t('channel-abbr')} ${this.channelIndex}`;\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.color-preview {\r\n  margin-right: 0.25em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChannelName.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChannelName.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChannelName.vue?vue&type=template&id=2d881ed8&scoped=true&\"\nimport script from \"./ChannelName.vue?vue&type=script&lang=js&\"\nexport * from \"./ChannelName.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChannelName.vue?vue&type=style&index=0&id=2d881ed8&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d881ed8\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n* Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nimport moment from 'moment';\r\n\r\nexport function fullName(user) {\r\n  if(!user) {\r\n    return '';\r\n  }\r\n\r\n  if(!user.algo) {\r\n    return `${user.firstname} ${user.lastname} (${user.username})`;\r\n  }\r\n  else {\r\n    let date = moment(Number(user.created)).format('L LTS');\r\n    return `${user.softwareName} - ${date}`;\r\n  }\r\n}\r\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUIProject.vue?vue&type=style&index=0&id=740dcc38&prod&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/logo-wallonie.45258121.png\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberActivityDetails.vue?vue&type=style&index=1&id=3009d81c&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"cytomine-quill-editor\"},[_c('div',{attrs:{\"id\":\"tooltip-container\"}}),_vm._v(\" \"),_c('quill-editor',{ref:\"quillEditor\",attrs:{\"value\":_vm.value,\"options\":_vm.editorOptions},on:{\"input\":function($event){return _vm.$emit('input', $event)}},scopedSlots:_vm._u([{key:\"toolbar\",fn:function(){return [_c('div',{attrs:{\"id\":\"toolbar\"}},[_c('span',{staticClass:\"ql-formats\"},[_c('select',{staticClass:\"ql-header\"},[_c('option',{attrs:{\"selected\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('ql-paragraph'))+\" \")]),_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(\" \"+_vm._s(_vm.$t('ql-header-1'))+\" \")]),_c('option',{attrs:{\"value\":\"2\"}},[_vm._v(\" \"+_vm._s(_vm.$t('ql-header-2'))+\" \")]),_c('option',{attrs:{\"value\":\"3\"}},[_vm._v(\" \"+_vm._s(_vm.$t('ql-header-3'))+\" \")]),_c('option',{attrs:{\"value\":\"4\"}},[_vm._v(\" \"+_vm._s(_vm.$t('ql-header-4'))+\" \")])])]),_c('span',{staticClass:\"ql-formats\",attrs:{\"title\":_vm.$t('ql-font')}},[_c('select',{staticClass:\"ql-font\"},[_c('option',{attrs:{\"selected\":\"\"}}),_c('option',{attrs:{\"value\":\"serif\"}}),_c('option',{attrs:{\"value\":\"monospace\"}})])]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-bold\",attrs:{\"title\":_vm.$t('ql-bold')}}),_c('button',{staticClass:\"ql-italic\",attrs:{\"title\":_vm.$t('ql-italic')}}),_c('button',{staticClass:\"ql-underline\",attrs:{\"title\":_vm.$t('ql-underline')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-script\",attrs:{\"value\":\"sub\",\"title\":_vm.$t('ql-subscript')}}),_c('button',{staticClass:\"ql-script\",attrs:{\"value\":\"super\",\"title\":_vm.$t('ql-superscript')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('span',{attrs:{\"title\":_vm.$t('ql-font-color')}},[_c('select',{staticClass:\"ql-color\"})]),_c('span',{attrs:{\"title\":_vm.$t('ql-background-color')}},[_c('select',{staticClass:\"ql-background\"})])]),_c('span',{staticClass:\"ql-formats\",attrs:{\"title\":_vm.$t('ql-align')}},[_c('select',{staticClass:\"ql-align\"},[_c('option',{attrs:{\"selected\":\"\"}}),_c('option',{attrs:{\"value\":\"center\"}}),_c('option',{attrs:{\"value\":\"right\"}})])]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-indent\",attrs:{\"value\":\"-1\",\"title\":_vm.$t('ql-indent-left')}}),_c('button',{staticClass:\"ql-indent\",attrs:{\"value\":\"+1\",\"title\":_vm.$t('ql-indent-right')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-list\",attrs:{\"value\":\"ordered\",\"title\":_vm.$t('ql-ordered-list')}}),_c('button',{staticClass:\"ql-list\",attrs:{\"value\":\"bullet\",\"title\":_vm.$t('ql-bullet-list')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-blockquote\",attrs:{\"title\":_vm.$t('ql-blockquote')}}),_c('button',{staticClass:\"ql-code-block\",attrs:{\"title\":_vm.$t('ql-code-block')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-clean\",attrs:{\"title\":_vm.$t('ql-clean-format')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-link\",attrs:{\"title\":_vm.$t('ql-link')}}),_c('button',{staticClass:\"ql-image\",attrs:{\"title\":_vm.$t('ql-image')}}),_c('button',{staticClass:\"ql-video\",attrs:{\"title\":_vm.$t('ql-video')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('span',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(() => _vm.expandedSpecialChars = false),expression:\"() => expandedSpecialChars = false\"}],class:['ql-picker', _vm.expandedSpecialChars ? 'ql-expanded' : '', 'ql-special-characters'],attrs:{\"title\":_vm.$t('ql-special-character')},on:{\"click\":function($event){_vm.expandedSpecialChars = !_vm.expandedSpecialChars}}},[_c('span',{staticClass:\"ql-picker-label\",attrs:{\"tabindex\":\"0\",\"role\":\"button\"}},[_c('svg',{attrs:{\"viewBox\":\"0 0 18 18\"}},[_c('polygon',{staticClass:\"ql-stroke\",attrs:{\"points\":\"7 11 9 13 11 11 7 11\"}}),_c('polygon',{staticClass:\"ql-stroke\",attrs:{\"points\":\"7 7 9 5 11 7 7 7\"}})])]),_c('span',{staticClass:\"ql-picker-options\"},_vm._l((_vm.specialCharacters),function(char){return _c('button',{key:char,staticClass:\"special-char\",on:{\"click\":function($event){return _vm.insertSpecialCharacter(char)}}},[_vm._v(\" \"+_vm._s(char)+\" \")])}),0)])])])]},proxy:true}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"cytomine-quill-editor\">\r\n  <div id=\"tooltip-container\"></div> <!-- invisible div defining the allowed positions for ql tooltip -->\r\n\r\n  <quill-editor :value=\"value\" @input=\"$emit('input', $event)\" :options=\"editorOptions\" ref=\"quillEditor\">\r\n    <template #toolbar>\r\n      <div id=\"toolbar\">\r\n        <span class=\"ql-formats\">\r\n          <select class=\"ql-header\">\r\n            <option selected> {{ $t('ql-paragraph') }} </option>\r\n            <option value=\"1\"> {{ $t('ql-header-1') }} </option>\r\n            <option value=\"2\"> {{ $t('ql-header-2') }} </option>\r\n            <option value=\"3\"> {{ $t('ql-header-3') }} </option>\r\n            <option value=\"4\"> {{ $t('ql-header-4') }} </option>\r\n          </select>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\" :title=\"$t('ql-font')\">\r\n          <select class=\"ql-font\">\r\n            <option selected></option>\r\n            <option value=\"serif\"></option>\r\n            <option value=\"monospace\"></option>\r\n          </select>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\">\r\n          <button class=\"ql-bold\" :title=\"$t('ql-bold')\"></button>\r\n          <button class=\"ql-italic\" :title=\"$t('ql-italic')\"></button>\r\n          <button class=\"ql-underline\" :title=\"$t('ql-underline')\"></button>\r\n        </span>\r\n\r\n        <!-- Add subscript and superscript buttons -->\r\n        <span class=\"ql-formats\">\r\n          <button class=\"ql-script\" value=\"sub\" :title=\"$t('ql-subscript')\"></button>\r\n          <button class=\"ql-script\" value=\"super\" :title=\"$t('ql-superscript')\"></button>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\">\r\n          <span :title=\"$t('ql-font-color')\">\r\n            <select class=\"ql-color\"></select>\r\n          </span>\r\n          <span :title=\"$t('ql-background-color')\">\r\n            <select class=\"ql-background\"></select>\r\n          </span>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\" :title=\"$t('ql-align')\">\r\n          <select class=\"ql-align\">\r\n            <option selected></option>\r\n            <option value=\"center\"></option>\r\n            <option value=\"right\"></option>\r\n          </select>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\">\r\n          <button class=\"ql-indent\" value=\"-1\" :title=\"$t('ql-indent-left')\"></button>\r\n          <button class=\"ql-indent\" value=\"+1\" :title=\"$t('ql-indent-right')\"></button>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\">\r\n          <button class=\"ql-list\" value=\"ordered\" :title=\"$t('ql-ordered-list')\"></button>\r\n          <button class=\"ql-list\" value=\"bullet\" :title=\"$t('ql-bullet-list')\"></button>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\">\r\n          <button class=\"ql-blockquote\" :title=\"$t('ql-blockquote')\"></button>\r\n          <button class=\"ql-code-block\" :title=\"$t('ql-code-block')\"></button>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\">\r\n          <button class=\"ql-clean\" :title=\"$t('ql-clean-format')\"></button>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\">\r\n          <button class=\"ql-link\" :title=\"$t('ql-link')\"></button>\r\n          <button class=\"ql-image\" :title=\"$t('ql-image')\"></button>\r\n          <button class=\"ql-video\" :title=\"$t('ql-video')\"></button>\r\n        </span>\r\n\r\n        <span class=\"ql-formats\">\r\n          <span\r\n            :class=\"['ql-picker', expandedSpecialChars ? 'ql-expanded' : '', 'ql-special-characters']\"\r\n            :title=\"$t('ql-special-character')\"\r\n            @click=\"expandedSpecialChars = !expandedSpecialChars\"\r\n            v-click-outside=\"() => expandedSpecialChars = false\"\r\n          >\r\n            <span class=\"ql-picker-label\" tabindex=\"0\" role=\"button\">\r\n              <svg viewBox=\"0 0 18 18\">\r\n                <polygon class=\"ql-stroke\" points=\"7 11 9 13 11 11 7 11\"></polygon>\r\n                <polygon class=\"ql-stroke\" points=\"7 7 9 5 11 7 7 7\"></polygon>\r\n              </svg>\r\n            </span>\r\n\r\n            <span class=\"ql-picker-options\">\r\n              <button\r\n                class=\"special-char\"\r\n                v-for=\"char in specialCharacters\" :key=\"char\"\r\n                @click=\"insertSpecialCharacter(char)\"\r\n              >\r\n                {{ char }}\r\n              </button>\r\n            </span>\r\n          </span>\r\n        </span>\r\n      </div>\r\n    </template>\r\n  </quill-editor>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {quillEditor} from 'vue-quill-editor';\r\n\r\nexport default {\r\n  name: 'cytomine-quill-editor',\r\n  components: {quillEditor},\r\n  props: {\r\n    value: String,\r\n    placeholder: String\r\n  },\r\n  data() {\r\n    return {\r\n      editorOptions: {\r\n        bounds: '#tooltip-container',\r\n        placeholder: this.placeholder || this.$t('enter-text'),\r\n        modules: {\r\n          toolbar: '#toolbar'\r\n        }\r\n      },\r\n      expandedSpecialChars: false,\r\n      specialCharacters: [\r\n        '$', '€', '£', '¢', '¥', '¤', '‰', '©', '®', '™', '§', '¶', 'Æ', 'æ', 'Œ', 'œ',\r\n        '±', '×', '÷', '⇒', '⇔', '∏', '∑', '≃', '≤', '≥'\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    quill() {\r\n      return this.$refs.quillEditor.quill;\r\n    }\r\n  },\r\n  methods: {\r\n    insertSpecialCharacter(char) {\r\n      let range = this.quill.getSelection(true);\r\n      if(range.length > 0) {\r\n        this.quill.deleteText(range.index, range.length, 'user');\r\n      }\r\n      this.quill.insertText(range.index, char, 'user');\r\n      this.quill.setSelection(range.index + 1);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.cytomine-quill-editor {\r\n  position: relative;\r\n  min-height: 30vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  .ql-toolbar {\r\n    flex-shrink: 0;\r\n  }\r\n\r\n  .ql-bold svg, .ql-italic svg, .ql-underline svg {\r\n    display: none;\r\n  }\r\n\r\n  .ql-bold::before {\r\n    content: \"A\";\r\n    font-weight: 600;\r\n  }\r\n\r\n  .ql-italic::before {\r\n    content: \"A\";\r\n    font-style: italic;\r\n  }\r\n\r\n  .ql-underline::before {\r\n    content:\"A\";\r\n    text-decoration: underline;\r\n  }\r\n\r\n  .ql-picker.ql-special-characters .ql-picker-label::before {\r\n    content: \"\\03A9\"; /* Omega */\r\n    font-weight: 600;\r\n    margin-right: 1.5em;\r\n  }\r\n\r\n  .ql-picker.ql-special-characters .ql-picker-options  {\r\n    white-space: normal;\r\n    width: 13.3em;\r\n  }\r\n\r\n  .special-char {\r\n    display: inline-block !important;\r\n  }\r\n\r\n  .special-char:hover {\r\n    background: #f5f5f5 !important;\r\n  }\r\n\r\n  #tooltip-container {\r\n    position: absolute;\r\n    left: 1em;\r\n    right: 1em;\r\n    top: 0;\r\n    bottom: 0;\r\n    pointer-events: none; /* to allow selection of elements below it */\r\n  }\r\n\r\n  .quill-editor {\r\n    min-height: 30vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex: 1;\r\n  }\r\n\r\n  .ql-container {\r\n    overflow: auto;\r\n    flex-grow: 1;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineQuillEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineQuillEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineQuillEditor.vue?vue&type=template&id=e3c24ba2&\"\nimport script from \"./CytomineQuillEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineQuillEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineQuillEditor.vue?vue&type=style&index=0&id=e3c24ba2&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddMemberModal.vue?vue&type=style&index=0&id=085e2b90&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetailsContainer.vue?vue&type=style&index=1&id=0d23ef15&prod&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"properties-wrapper\"},[[_c('b-field',{attrs:{\"grouped\":\"\",\"group-multiline\":\"\"}},[(_vm.error)?_c('em',[_vm._v(_vm._s(_vm.$t('error-fetch-properties')))]):(_vm.properties.length > 0)?_vm._l((_vm.notEditedProperties),function(prop,idx){return _c('div',{key:prop.id,staticClass:\"control\"},[_c('b-taglist',{attrs:{\"attached\":\"\"}},[_c('b-tag',{attrs:{\"type\":\"is-dark\"}},[_vm._v(_vm._s(prop.key))]),_c('b-tag',[_vm._v(\" \"+_vm._s(prop.value)+\" \"),(_vm.canEdit)?[_c('button',{staticClass:\"edit is-small\",attrs:{\"title\":_vm.$t('button-edit')},on:{\"click\":function($event){return _vm.startPropEdition(prop)}}},[_c('i',{staticClass:\"fas fa-pencil-alt\"})]),_c('button',{staticClass:\"delete is-small\",attrs:{\"title\":_vm.$t('button-delete')},on:{\"click\":function($event){return _vm.removeProp(idx)}}})]:_vm._e()],2)],1)],1)}):_c('em',[_vm._v(_vm._s(_vm.$t('no-properties')))]),(_vm.canEdit)?_c('button',{key:\"showForm\",staticClass:\"button is-small add-prop\",on:{\"click\":function($event){return _vm.addNewProp()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")]):_vm._e()],2),_vm._l((_vm.editedProperties),function(prop,idx){return _c('form',{key:prop.id,staticClass:\"new-prop-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.saveProp(idx)}}},[_c('b-input',{attrs:{\"size\":\"is-small\",\"placeholder\":_vm.$t('key')},model:{value:(prop.key),callback:function ($$v) {_vm.$set(prop, \"key\", $$v)},expression:\"prop.key\"}}),_c('b-input',{attrs:{\"size\":\"is-small\",\"placeholder\":_vm.$t('value')},model:{value:(prop.value),callback:function ($$v) {_vm.$set(prop, \"value\", $$v)},expression:\"prop.value\"}}),_c('button',{staticClass:\"button is-small\"},[_vm._v(\" \"+_vm._s(prop.id ? _vm.$t('button-save') : _vm.$t('button-add'))+\" \")]),_c('button',{staticClass:\"button is-small\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.cancelPropEdition(idx)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")])],1)})]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2022. Authors: see NOTICE file.\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n      http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.-->\r\n\r\n<template>\r\n<div class=\"properties-wrapper\">\r\n  <template>\r\n    <b-field grouped group-multiline>\r\n      <em v-if=\"error\">{{$t('error-fetch-properties')}}</em>\r\n      <div class=\"control\" v-else-if=\"properties.length > 0\" v-for=\"(prop, idx) in notEditedProperties\" :key=\"prop.id\">\r\n        <b-taglist attached>\r\n          <b-tag type=\"is-dark\">{{prop.key}}</b-tag>\r\n          <b-tag>\r\n            {{prop.value}}\r\n            <template v-if=\"canEdit\">\r\n              <button class=\"edit is-small\" :title=\"$t('button-edit')\" @click=\"startPropEdition(prop)\">\r\n                <i class=\"fas fa-pencil-alt\"></i>\r\n              </button>\r\n              <button class=\"delete is-small\" :title=\"$t('button-delete')\" @click=\"removeProp(idx)\">\r\n              </button>\r\n            </template>\r\n          </b-tag>\r\n        </b-taglist>\r\n      </div>\r\n      <em v-else>{{$t('no-properties')}}</em>\r\n\r\n      <button v-if=\"canEdit\" class=\"button is-small add-prop\" @click=\"addNewProp()\" key=\"showForm\">\r\n        {{$t('button-add')}}\r\n      </button>\r\n    </b-field>\r\n\r\n    <form @submit.prevent=\"saveProp(idx)\" class=\"new-prop-form\" v-for=\"(prop, idx) in editedProperties\" :key=\"prop.id\">\r\n      <b-input size=\"is-small\" v-model=\"prop.key\" :placeholder=\"$t('key')\" />\r\n      <b-input size=\"is-small\" v-model=\"prop.value\" :placeholder=\"$t('value')\" />\r\n      <button class=\"button is-small\">\r\n        {{prop.id ? $t('button-save') : $t('button-add')}}\r\n      </button>\r\n      <button class=\"button is-small\" type=\"button\" @click=\"cancelPropEdition(idx)\">\r\n        {{$t('button-cancel')}}\r\n      </button>\r\n    </form>\r\n  </template>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {Property, PropertyCollection} from 'cytomine-client';\r\nimport constants from '@/utils/constants.js';\r\n\r\nexport default {\r\n  name: 'cytomine-properties',\r\n  props: {\r\n    object: {type: Object},\r\n    canEdit: {type: Boolean, default: true},\r\n    properties: {type: Array},\r\n    error: {type: Boolean, default: false}\r\n  },\r\n  data() {\r\n    return {\r\n      editedProperties: [],\r\n      newPropKey: '',\r\n      newPropValue: '',\r\n      showNewPropForm: false\r\n    };\r\n  },\r\n  computed: {\r\n    notEditedProperties() {\r\n      let editedIds = this.editedProperties.map(prop => prop.id);\r\n      return this.properties.filter(prop => !editedIds.includes(prop.id));\r\n    }\r\n  },\r\n  methods: {\r\n    addNewProp() {\r\n      let newProp = new Property({object: this.object});\r\n      this.editedProperties.push(newProp);\r\n    },\r\n    async removeProp(idx) {\r\n      let prop = this.properties[idx];\r\n      try {\r\n        await Property.delete(prop.id, this.object);\r\n        // In a future and longer refactor, add, editing and removing should simply send events to the parent\r\n        // Or dispatch an action that would trigger an \"effect\" on the store...\r\n        this.$emit('deleted', prop);\r\n        // For PropertiesPanel update\r\n        this.$emit('updateProperties');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-remove-prop')});\r\n      }\r\n    },\r\n    startPropEdition(prop) {\r\n      // store current values of key and value, so that they can be restored if needed (e.g. edit cancellation)\r\n      prop.oldKey = prop.key;\r\n      prop.oldValue = prop.value;\r\n      this.editedProperties.splice(0, 0, prop); // insert at first position\r\n    },\r\n    async saveProp(idx) {\r\n      let prop = this.editedProperties[idx];\r\n\r\n      // prevent user from saving a property whose key starts with the internal prefix (would be hidden aftewards)\r\n      if(prop.key.startsWith(constants.PREFIX_HIDDEN_PROPERTY_KEY)) {\r\n        this.$notify({\r\n          type: 'error',\r\n          text: this.$t('notif-error-invalid-key-prefix', {prefix: constants.PREFIX_HIDDEN_PROPERTY_KEY})\r\n        });\r\n        return;\r\n      }\r\n\r\n      let newProp = prop.isNew();\r\n      try {\r\n        await prop.save();\r\n        this.editedProperties.splice(idx, 1);\r\n        if(newProp) {\r\n        // In a future and longer refactor, add, editing and removing should simply send events to the parent\r\n        // Or dispatch an action that would trigger an \"effect\" on the store...\r\n          this.$emit('added', prop);\r\n        }\r\n        // For PropertiesPanel update\r\n        this.$emit('updateProperties');\r\n      }\r\n      catch(error) {\r\n        console.log(error);\r\n        this.$notify({type: 'error', text: this.$t('notif-error-save-prop')});\r\n      }\r\n    },\r\n    cancelPropEdition(idx) {\r\n      let prop = this.editedProperties[idx];\r\n      prop.key = prop.oldKey;\r\n      prop.value = prop.oldValue;\r\n      this.editedProperties.splice(idx, 1);\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.new-prop-form {\r\n  margin-bottom: 0.45em;\r\n  margin-top: 0.45em;\r\n}\r\n\r\n.new-prop-form .button {\r\n  margin: 0;\r\n  margin-right: 0.45em;\r\n}\r\n\r\n.new-prop-form .control {\r\n  margin-right: 0.5em;\r\n  display: inline-block;\r\n}\r\n\r\n.tag button.edit {\r\n  height: 16px;\r\n  width: 16px;\r\n  background-color: rgba(10, 10, 10, 0.2);\r\n  border: none;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  pointer-events: auto;\r\n  display: inline-block;\r\n  font-size: 8px;\r\n  padding: 0;\r\n  outline: none;\r\n  position: relative;\r\n  vertical-align: top;\r\n  color: white;\r\n  margin-left: 0.5em;\r\n  line-height: 17px;\r\n}\r\n\r\n.tag button.edit:hover {\r\n  background-color: rgba(10, 10, 10, 0.3);\r\n}\r\n\r\nem {\r\n  margin-right: 0.5em;\r\n}\r\n</style>\r\n\r\n<style>\r\n.properties-wrapper .control, .properties-wrapper .tags {\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\n.properties-wrapper .tag {\r\n  margin-right: 0.5em;\r\n  margin-bottom: 0.3em !important;\r\n  background-color: rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n.properties-wrapper .tag.is-dark {\r\n  background-color: rgba(0, 0, 0, 0.1);\r\n  color: black;\r\n}\r\n\r\n.properties-wrapper .field.is-grouped.is-grouped-multiline {\r\n  margin-bottom: 0 !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProperties.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProperties.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineProperties.vue?vue&type=template&id=fa6ad84e&scoped=true&\"\nimport script from \"./CytomineProperties.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineProperties.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineProperties.vue?vue&type=style&index=0&id=fa6ad84e&prod&scoped=true&lang=css&\"\nimport style1 from \"./CytomineProperties.vue?vue&type=style&index=1&id=fa6ad84e&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fa6ad84e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineImage.vue?vue&type=style&index=0&id=16879e9b&prod&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobDetails.vue?vue&type=style&index=0&id=4eb4085b&prod&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageNotFound.vue?vue&type=style&index=0&id=38a884ba&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSidebar.vue?vue&type=style&index=0&id=291f472f&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainTagInput.vue?vue&type=style&index=0&id=45831b03&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListJobs.vue?vue&type=style&index=0&id=44623caa&prod&scoped=true&lang=css&\""],"sourceRoot":""}