{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/job/ListJobs.vue?a01b","webpack:///./src/components/viewer/DrawTools.vue?6355","webpack:///./src/components/viewer/ScaleLine.vue?b864","webpack:///./src/components/image/ImageName.vue?31df","webpack:///./src/components/navbar/AboutCytomineModal.vue?c930","webpack:///./src/components/annotations/AnnotationCommentsModal.vue?694f","webpack:///./src/components/project/ProjectConnectionDetails.vue?6b97","webpack:///./src/components/image/ImageDetails.vue?6759","webpack:///./src/components/project/ProjectConfiguration.vue?97fa","webpack:///./src/components/search/CytomineSearcher.vue?16ea","webpack:///./src/components/project/ListProjects.vue?a944","webpack:///./src/components/viewer/panels/ReviewPanel.vue?2b29","webpack:///./src/components/tag/CytomineTags.vue?710f","webpack:///./src/components/project/ListProjects.vue?d562","webpack:///./src/components/project/configuration-panels/GeneralConfiguration.vue?034d","webpack:///./src/components/project/ProjectDetails.vue?ed0a","webpack:///./src/components/utils/ActivityLogsItem.vue?a069","webpack:///./src/components/software/SoftwareSourceButtons.vue?f4ff","webpack:///./src/components/navbar/HotkeysModal.vue?e652","webpack:///./src/components/project/configuration-panels/ProjectSoftwares.vue?0760","webpack:///./src/components/project/activity/MembersActivity.vue?8981","webpack:///./src/assets/sponsors/logo-cytomine-coop.png","webpack:///./src/components/navbar/CytomineNavbar.vue?fdbf","webpack:///./src/components/user/Account.vue?3562","webpack:///./src/components/ontology/OntologyDetails.vue?67eb","webpack:///./src/components/user/ListUsernames.vue?527c","webpack:///./src/components/utils/CytomineTable.vue?c320","webpack:///./src/components/user/Login.vue?8eb4","webpack:///./src/components/property/CytomineProperties.vue?f003","webpack:///./src/components/storage/UploadedFileStatus.vue?6f6d","webpack:///./src/components/PageNotFound.vue?7c24","webpack:///./src/components/navbar/NavbarDropdown.vue?501e","webpack:///./src/assets/brands/philips.svg","webpack:///./src/assets/brands/hamamatsu.jpg","webpack:///./src/components/software/SoftwareDetails.vue?7553","webpack:///./src/components/image/AddImageModal.vue?58e4","webpack:///./src/components/project/activity/MemberActivityDetails.vue?5867","webpack:///./src/components/project/CytomineProject.vue?0e51","webpack:///./src/components/admin/AdminConfiguration.vue?92c4","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/admin/AdminPanel.vue?e76f","webpack:///./src/components/project/configuration-panels/ProjectMembers.vue?e3a2","webpack:///./src/components/admin/AdminDashboard.vue?2121","webpack:///./src/components/job/JobParameterRow.vue?7948","webpack:///./src/components/attached-file/AttachedFiles.vue?481e","webpack:///./src/components/form/CytomineMultiselect.vue?9715","webpack:///./src/components/project/configuration-panels/CustomUIProject.vue?ef5b","webpack:///./src/components/viewer/ImageSelector.vue?ed1f","webpack:///./src/components/image/ImageMetadataModal.vue?b6a4","webpack:///./src/components/GlobalDashboard.vue?6e28","webpack:///./src/utils/store-helpers.js","webpack:///./src/components/image/ListImagesPreview.vue?b168","webpack:///./src/components/image/ImagePreview.vue?8edc","webpack:///src/components/image/ImagePreview.vue","webpack:///./src/components/image/ImagePreview.vue?d674","webpack:///./src/components/image/ImagePreview.vue?86f3","webpack:///src/components/image/ListImagesPreview.vue","webpack:///./src/components/image/ListImagesPreview.vue?acab","webpack:///./src/components/image/ListImagesPreview.vue?5910","webpack:///./src/utils/constants.js","webpack:///src/components/GlobalDashboard.vue","webpack:///./src/components/GlobalDashboard.vue?acbf","webpack:///./src/components/GlobalDashboard.vue?089d","webpack:///./src/components/project/ListProjects.vue?443b","webpack:///./src/components/utils/CytomineTable.vue?5799","webpack:///src/components/utils/CytomineTable.vue","webpack:///./src/components/utils/CytomineTable.vue?113f","webpack:///./src/components/utils/CytomineTable.vue?6ec3","webpack:///./src/components/form/CytomineMultiselect.vue?41ca","webpack:///src/components/form/CytomineMultiselect.vue","webpack:///./src/components/form/CytomineMultiselect.vue?a61f","webpack:///./src/components/form/CytomineMultiselect.vue?0722","webpack:///./src/components/form/CytomineSlider.vue?580e","webpack:///src/components/form/CytomineSlider.vue","webpack:///./src/components/form/CytomineSlider.vue?bb08","webpack:///./src/components/form/CytomineSlider.vue?bc46","webpack:///./src/components/project/ProjectDetails.vue?71e8","webpack:///./src/components/user/ListUsernames.vue?9729","webpack:///./src/components/user/Username.vue?dd8e","webpack:///./src/utils/user-utils.js","webpack:///src/components/user/Username.vue","webpack:///./src/components/user/Username.vue?b9a7","webpack:///./src/components/user/Username.vue?787b","webpack:///src/components/user/ListUsernames.vue","webpack:///./src/components/user/ListUsernames.vue?c35d","webpack:///./src/components/user/ListUsernames.vue?fde0","webpack:///./src/components/project/ProjectActions.vue?0f6f","webpack:///./src/components/utils/CytomineModal.vue?c51f","webpack:///./src/components/utils/CytomineModalCard.vue?eb39","webpack:///src/components/utils/CytomineModalCard.vue","webpack:///./src/components/utils/CytomineModalCard.vue?22fe","webpack:///./src/components/utils/CytomineModalCard.vue","webpack:///src/components/utils/CytomineModal.vue","webpack:///./src/components/utils/CytomineModal.vue?85e2","webpack:///./src/components/utils/CytomineModal.vue","webpack:///./src/components/utils/RenameModal.vue?a0ce","webpack:///src/components/utils/RenameModal.vue","webpack:///./src/components/utils/RenameModal.vue?0b01","webpack:///./src/components/utils/RenameModal.vue","webpack:///src/components/project/ProjectActions.vue","webpack:///./src/components/project/ProjectActions.vue?0ade","webpack:///./src/components/project/ProjectActions.vue","webpack:///./src/components/description/CytomineDescription.vue?a08b","webpack:///./src/components/description/CytomineDescriptionModal.vue?cc90","webpack:///./src/components/form/CytomineQuillEditor.vue?a14f","webpack:///src/components/form/CytomineQuillEditor.vue","webpack:///./src/components/form/CytomineQuillEditor.vue?6692","webpack:///./src/components/form/CytomineQuillEditor.vue?64b8","webpack:///src/components/description/CytomineDescriptionModal.vue","webpack:///./src/components/description/CytomineDescriptionModal.vue?ae0d","webpack:///./src/components/description/CytomineDescriptionModal.vue?11be","webpack:///src/components/description/CytomineDescription.vue","webpack:///./src/components/description/CytomineDescription.vue?451e","webpack:///./src/components/description/CytomineDescription.vue?cea2","webpack:///./src/components/property/CytomineProperties.vue?94b7","webpack:///src/components/property/CytomineProperties.vue","webpack:///./src/components/property/CytomineProperties.vue?5627","webpack:///./src/components/property/CytomineProperties.vue?5d4f","webpack:///./src/components/tag/CytomineTags.vue?d82d","webpack:///./src/components/utils/DomainTagInput.vue?b09f","webpack:///./src/utils/string-utils.js","webpack:///src/components/utils/DomainTagInput.vue","webpack:///./src/components/utils/DomainTagInput.vue?66a0","webpack:///./src/components/utils/DomainTagInput.vue?5468","webpack:///./src/components/tag/AddTagDomainAssociationModal.vue?c534","webpack:///src/components/tag/AddTagDomainAssociationModal.vue","webpack:///./src/components/tag/AddTagDomainAssociationModal.vue?c459","webpack:///./src/components/tag/AddTagDomainAssociationModal.vue?ea8a","webpack:///src/components/tag/CytomineTags.vue","webpack:///./src/components/tag/CytomineTags.vue?3a35","webpack:///./src/components/tag/CytomineTags.vue?46a7","webpack:///./src/components/attached-file/AttachedFiles.vue?35c6","webpack:///./src/components/attached-file/AttachedFileModal.vue?ba98","webpack:///src/components/attached-file/AttachedFileModal.vue","webpack:///./src/components/attached-file/AttachedFileModal.vue?9e04","webpack:///./src/components/attached-file/AttachedFileModal.vue?d9a4","webpack:///src/components/attached-file/AttachedFiles.vue","webpack:///./src/components/attached-file/AttachedFiles.vue?089b","webpack:///./src/components/attached-file/AttachedFiles.vue?42d5","webpack:///src/components/project/ProjectDetails.vue","webpack:///./src/components/project/ProjectDetails.vue?9f86","webpack:///./src/components/project/ProjectDetails.vue?9fb1","webpack:///./src/components/project/AddProjectModal.vue?2320","webpack:///src/components/project/AddProjectModal.vue","webpack:///./src/components/project/AddProjectModal.vue?1159","webpack:///./src/components/project/AddProjectModal.vue","webpack:///./src/components/icons/IconProjectMemberRole.vue?dc40","webpack:///src/components/icons/IconProjectMemberRole.vue","webpack:///./src/components/icons/IconProjectMemberRole.vue?f835","webpack:///./src/components/icons/IconProjectMemberRole.vue?a32c","webpack:///src/components/project/ListProjects.vue","webpack:///./src/components/project/ListProjects.vue?3d24","webpack:///./src/components/project/ListProjects.vue?19d7","webpack:///./src/components/storage/CytomineStorage.vue?0d10","webpack:///./src/components/storage/UploadedFileStatus.vue?af7a","webpack:///src/components/storage/UploadedFileStatus.vue","webpack:///./src/components/storage/UploadedFileStatus.vue?75e6","webpack:///./src/components/storage/UploadedFileStatus.vue?66ef","webpack:///./src/components/storage/UploadedFileDetails.vue?b7c2","webpack:///src/components/storage/UploadedFileDetails.vue","webpack:///./src/components/storage/UploadedFileDetails.vue?9f41","webpack:///./src/components/storage/UploadedFileDetails.vue?f048","webpack:///src/components/storage/CytomineStorage.vue","webpack:///./src/components/storage/CytomineStorage.vue?ce76","webpack:///./src/components/storage/CytomineStorage.vue?956c","webpack:///./src/components/ontology/ListOntologies.vue?0732","webpack:///./src/components/ontology/OntologyDetails.vue?7134","webpack:///./src/components/ontology/OntologyTree.vue?8afb","webpack:///./src/components/ontology/CytomineTerm.vue?4e13","webpack:///src/components/ontology/CytomineTerm.vue","webpack:///./src/components/ontology/CytomineTerm.vue?6564","webpack:///./src/components/ontology/CytomineTerm.vue?76df","webpack:///./src/components/ontology/TermModal.vue?6117","webpack:///src/components/ontology/TermModal.vue","webpack:///./src/components/ontology/TermModal.vue?73a4","webpack:///./src/components/ontology/TermModal.vue?7b5e","webpack:///src/components/ontology/OntologyTree.vue","webpack:///./src/components/ontology/OntologyTree.vue?8442","webpack:///./src/components/ontology/OntologyTree.vue?9192","webpack:///src/components/ontology/OntologyDetails.vue","webpack:///./src/components/ontology/OntologyDetails.vue?a3a2","webpack:///./src/components/ontology/OntologyDetails.vue?1919","webpack:///./src/components/ontology/AddOntologyModal.vue?bab3","webpack:///src/components/ontology/AddOntologyModal.vue","webpack:///./src/components/ontology/AddOntologyModal.vue?4369","webpack:///./src/components/ontology/AddOntologyModal.vue","webpack:///src/components/ontology/ListOntologies.vue","webpack:///./src/components/ontology/ListOntologies.vue?d30c","webpack:///./src/components/ontology/ListOntologies.vue?1d8e","webpack:///./src/components/software/ListSoftware.vue?cade","webpack:///./src/components/software/SoftwareStatus.vue?0ef0","webpack:///src/components/software/SoftwareStatus.vue","webpack:///./src/components/software/SoftwareStatus.vue?a480","webpack:///./src/components/software/SoftwareStatus.vue","webpack:///./src/components/utils/BooleanItem.vue?7248","webpack:///src/components/utils/BooleanItem.vue","webpack:///./src/components/utils/BooleanItem.vue?fd66","webpack:///./src/components/utils/BooleanItem.vue","webpack:///./src/components/software/SoftwareDetails.vue?596f","webpack:///./src/components/software/SoftwareSource.vue?4677","webpack:///src/components/software/SoftwareSource.vue","webpack:///./src/components/software/SoftwareSource.vue?230e","webpack:///./src/components/software/SoftwareSource.vue","webpack:///./src/components/software/SoftwareSourceButtons.vue?8239","webpack:///src/components/software/SoftwareSourceButtons.vue","webpack:///./src/components/software/SoftwareSourceButtons.vue?3734","webpack:///./src/components/software/SoftwareSourceButtons.vue?eae2","webpack:///src/components/software/SoftwareDetails.vue","webpack:///./src/components/software/SoftwareDetails.vue?66a6","webpack:///./src/components/software/SoftwareDetails.vue?0bba","webpack:///src/components/software/ListSoftware.vue","webpack:///./src/components/software/ListSoftware.vue?5b00","webpack:///./src/components/software/ListSoftware.vue?d5c3","webpack:///./src/components/image/ListImages.vue?1d89","webpack:///./src/components/image/ImageName.vue?424b","webpack:///src/components/image/ImageName.vue","webpack:///./src/components/image/ImageName.vue?b064","webpack:///./src/components/image/ImageName.vue?797c","webpack:///./src/components/image/ImageDetails.vue?a7b4","webpack:///./src/components/image/MagnificationModal.vue?797c","webpack:///src/components/image/MagnificationModal.vue","webpack:///./src/components/image/MagnificationModal.vue?875c","webpack:///./src/components/image/MagnificationModal.vue","webpack:///./src/components/image/CalibrationModal.vue?e107","webpack:///src/components/image/CalibrationModal.vue","webpack:///./src/components/image/CalibrationModal.vue?1680","webpack:///./src/components/image/CalibrationModal.vue","webpack:///./src/components/image/ImageMetadataModal.vue?d3f1","webpack:///src/components/image/ImageMetadataModal.vue","webpack:///./src/components/image/ImageMetadataModal.vue?d9b5","webpack:///./src/components/image/ImageMetadataModal.vue","webpack:///./src/components/image/ImageStatus.vue?5bcb","webpack:///src/components/image/ImageStatus.vue","webpack:///./src/components/image/ImageStatus.vue?1cc3","webpack:///./src/components/image/ImageStatus.vue","webpack:///./src/utils/vendor.js","webpack:///src/components/image/ImageDetails.vue","webpack:///./src/components/image/ImageDetails.vue?7b44","webpack:///./src/components/image/ImageDetails.vue?424f","webpack:///./src/components/image/AddImageModal.vue?b1fa","webpack:///src/components/image/AddImageModal.vue","webpack:///./src/components/image/AddImageModal.vue?eea7","webpack:///./src/components/image/AddImageModal.vue?7e95","webpack:///src/components/image/ListImages.vue","webpack:///./src/components/image/ListImages.vue?97e7","webpack:///./src/components/image/ListImages.vue?90c3","webpack:///./src/components/image/ImageInformation.vue?00e0","webpack:///src/components/image/ImageInformation.vue","webpack:///./src/components/image/ImageInformation.vue?52cc","webpack:///./src/components/image/ImageInformation.vue","webpack:///./src/components/annotations/ListAnnotations.vue?5733","webpack:///./src/components/form/CytomineDatepicker.vue?799c","webpack:///src/components/form/CytomineDatepicker.vue","webpack:///./src/components/form/CytomineDatepicker.vue?666f","webpack:///./src/components/form/CytomineDatepicker.vue?b0dd","webpack:///./src/components/ontology/OntologyTreeMultiselect.vue?2a90","webpack:///./src/utils/ontology-utils.js","webpack:///src/components/ontology/OntologyTreeMultiselect.vue","webpack:///./src/components/ontology/OntologyTreeMultiselect.vue?1d26","webpack:///./src/components/ontology/OntologyTreeMultiselect.vue","webpack:///./src/components/annotations/ListAnnotationsByTerm.vue?2687","webpack:///./src/components/annotations/AnnotationPreview.vue?8b47","webpack:///./src/components/annotations/AnnotationDetails.vue?3ad3","webpack:///./src/components/annotations/AnnotationCommentsModal.vue?a59e","webpack:///src/components/annotations/AnnotationCommentsModal.vue","webpack:///./src/components/annotations/AnnotationCommentsModal.vue?3962","webpack:///./src/components/annotations/AnnotationCommentsModal.vue?7a2a","webpack:///src/components/annotations/AnnotationDetails.vue","webpack:///./src/components/annotations/AnnotationDetails.vue?a43e","webpack:///./src/components/annotations/AnnotationDetails.vue?306c","webpack:///src/components/annotations/AnnotationPreview.vue","webpack:///./src/components/annotations/AnnotationPreview.vue?55fe","webpack:///./src/components/annotations/AnnotationPreview.vue?2055","webpack:///src/components/annotations/ListAnnotationsByTerm.vue","webpack:///./src/components/annotations/ListAnnotationsByTerm.vue?a883","webpack:///./src/components/annotations/ListAnnotationsByTerm.vue?041f","webpack:///./src/utils/style-utils.js","webpack:///src/components/annotations/ListAnnotations.vue","webpack:///./src/components/annotations/ListAnnotations.vue?6171","webpack:///./src/components/annotations/ListAnnotations.vue?bf59","webpack:///./src/components/project/ProjectActivity.vue?4cdd","webpack:///./src/components/project/activity/ProjectActivityCharts.vue?a3f1","webpack:///./src/components/charts/NumberAnnotationsChart.js","webpack:///./src/components/charts/AnnotationTermChart.js","webpack:///./src/components/charts/AnnotatedImagesByTermChart.js","webpack:///./src/components/charts/AnnotationContributorChart.js","webpack:///./src/components/charts/AnnotatedImagesByContributorChart.js","webpack:///./src/components/charts/ActivityOverviewChart.js","webpack:///src/components/project/activity/ProjectActivityCharts.vue","webpack:///./src/components/project/activity/ProjectActivityCharts.vue?a627","webpack:///./src/components/project/activity/ProjectActivityCharts.vue?6098","webpack:///./src/components/project/activity/MembersActivity.vue?6314","webpack:///src/components/project/activity/MembersActivity.vue","webpack:///./src/components/project/activity/MembersActivity.vue?ed65","webpack:///./src/components/project/activity/MembersActivity.vue?0e5e","webpack:///./src/components/project/activity/ProjectActivityLogs.vue?f256","webpack:///./src/components/utils/ActivityLogs.vue?dafe","webpack:///./src/components/utils/ActivityLogsItem.vue?e2a3","webpack:///src/components/utils/ActivityLogsItem.vue","webpack:///./src/components/utils/ActivityLogsItem.vue?b647","webpack:///./src/components/utils/ActivityLogsItem.vue?ec04","webpack:///src/components/utils/ActivityLogs.vue","webpack:///./src/components/utils/ActivityLogs.vue?e2ad","webpack:///./src/components/utils/ActivityLogs.vue?d716","webpack:///src/components/project/activity/ProjectActivityLogs.vue","webpack:///./src/components/project/activity/ProjectActivityLogs.vue?accc","webpack:///./src/components/project/activity/ProjectActivityLogs.vue?9d16","webpack:///src/components/project/ProjectActivity.vue","webpack:///./src/components/project/ProjectActivity.vue?57f5","webpack:///./src/components/project/ProjectActivity.vue?9709","webpack:///./src/components/job/ListJobs.vue?fd81","webpack:///./src/components/job/JobStatus.vue?da63","webpack:///./src/utils/job-utils.js","webpack:///src/components/job/JobStatus.vue","webpack:///./src/components/job/JobStatus.vue?8aff","webpack:///./src/components/job/JobStatus.vue","webpack:///./src/components/job/JobDetails.vue?c1cb","webpack:///./src/components/utils/CytomineTask.vue?f6e0","webpack:///src/components/utils/CytomineTask.vue","webpack:///./src/components/utils/CytomineTask.vue?7d43","webpack:///./src/components/utils/CytomineTask.vue?cd65","webpack:///src/components/job/JobDetails.vue","webpack:///./src/components/job/JobDetails.vue?5337","webpack:///./src/components/job/JobDetails.vue?c235","webpack:///./src/components/job/AddJobModal.vue?8050","webpack:///./src/components/job/JobParameterRow.vue?99eb","webpack:///src/components/job/JobParameterRow.vue","webpack:///./src/components/job/JobParameterRow.vue?3e85","webpack:///./src/components/job/JobParameterRow.vue?34d7","webpack:///src/components/job/AddJobModal.vue","webpack:///./src/components/job/AddJobModal.vue?ae08","webpack:///./src/components/job/AddJobModal.vue?fd51","webpack:///src/components/job/ListJobs.vue","webpack:///./src/components/job/ListJobs.vue?3935","webpack:///./src/components/job/ListJobs.vue?4a14","webpack:///./src/components/project/ProjectInformation.vue?f14b","webpack:///src/components/project/ProjectInformation.vue","webpack:///./src/components/project/ProjectInformation.vue?9154","webpack:///./src/components/project/ProjectInformation.vue","webpack:///./src/components/project/ProjectConfiguration.vue?4b88","webpack:///./src/components/project/configuration-panels/GeneralConfiguration.vue?9fc2","webpack:///./src/components/project/configuration-panels/DefaultProperty.vue?6e68","webpack:///src/components/project/configuration-panels/DefaultProperty.vue","webpack:///./src/components/project/configuration-panels/DefaultProperty.vue?ad8e","webpack:///./src/components/project/configuration-panels/DefaultProperty.vue","webpack:///src/components/project/configuration-panels/GeneralConfiguration.vue","webpack:///./src/components/project/configuration-panels/GeneralConfiguration.vue?28c8","webpack:///./src/components/project/configuration-panels/GeneralConfiguration.vue?ed32","webpack:///./src/components/project/configuration-panels/ProjectMembers.vue?1e06","webpack:///./src/components/project/configuration-panels/AddMemberModal.vue?b6e9","webpack:///src/components/project/configuration-panels/AddMemberModal.vue","webpack:///./src/components/project/configuration-panels/AddMemberModal.vue?c917","webpack:///./src/components/project/configuration-panels/AddMemberModal.vue?4fb0","webpack:///src/components/project/configuration-panels/ProjectMembers.vue","webpack:///./src/components/project/configuration-panels/ProjectMembers.vue?f3da","webpack:///./src/components/project/configuration-panels/ProjectMembers.vue?ac4f","webpack:///./src/components/project/configuration-panels/CustomUIProject.vue?46ff","webpack:///./src/components/icons/IconPolygonFreeHand.vue?a2db","webpack:///src/components/icons/IconPolygonFreeHand.vue","webpack:///./src/components/icons/IconPolygonFreeHand.vue?e4c6","webpack:///./src/components/icons/IconPolygonFreeHand.vue","webpack:///./src/components/icons/IconLineFreeHand.vue?4b33","webpack:///src/components/icons/IconLineFreeHand.vue","webpack:///./src/components/icons/IconLineFreeHand.vue?0d24","webpack:///./src/components/icons/IconLineFreeHand.vue","webpack:///src/components/project/configuration-panels/CustomUIProject.vue","webpack:///./src/components/project/configuration-panels/CustomUIProject.vue?b6a6","webpack:///./src/components/project/configuration-panels/CustomUIProject.vue?fa88","webpack:///./src/components/project/configuration-panels/ProjectSoftwares.vue?8347","webpack:///src/components/project/configuration-panels/ProjectSoftwares.vue","webpack:///./src/components/project/configuration-panels/ProjectSoftwares.vue?b2c0","webpack:///./src/components/project/configuration-panels/ProjectSoftwares.vue?a6f1","webpack:///./src/components/project/configuration-panels/ProjectImageFilters.vue?cd1b","webpack:///src/components/project/configuration-panels/ProjectImageFilters.vue","webpack:///./src/components/project/configuration-panels/ProjectImageFilters.vue?76ef","webpack:///./src/components/project/configuration-panels/ProjectImageFilters.vue?82d7","webpack:///src/components/project/ProjectConfiguration.vue","webpack:///./src/components/project/ProjectConfiguration.vue?9d5f","webpack:///./src/components/project/ProjectConfiguration.vue?543e","webpack:///./src/components/user/Account.vue?4ef3","webpack:///./src/lang.js","webpack:///./src/utils/role-utils.js","webpack:///src/components/user/Account.vue","webpack:///./src/components/user/Account.vue?b4de","webpack:///./src/components/user/Account.vue?6800","webpack:///./src/components/search/AdvancedSearch.vue?8703","webpack:///src/components/search/AdvancedSearch.vue","webpack:///./src/components/search/AdvancedSearch.vue?e870","webpack:///./src/components/search/AdvancedSearch.vue?0c20","webpack:///./src/components/viewer/CytomineViewer.vue?0aff","webpack:///./src/components/viewer/CytomineImage.vue?37bc","webpack:///./src/components/viewer/AnnotationLayer.vue?9bc2","webpack:///./src/utils/annotation-utils.js","webpack:///src/components/viewer/AnnotationLayer.vue","webpack:///./src/components/viewer/AnnotationLayer.vue?b9a0","webpack:///./src/components/viewer/AnnotationLayer.vue","webpack:///./src/components/viewer/RotationSelector.vue?50b0","webpack:///src/components/viewer/RotationSelector.vue","webpack:///./src/components/viewer/RotationSelector.vue?262d","webpack:///./src/components/viewer/RotationSelector.vue?9043","webpack:///./src/components/viewer/ScaleLine.vue?eba1","webpack:///src/components/viewer/ScaleLine.vue","webpack:///./src/components/viewer/ScaleLine.vue?eacd","webpack:///./src/components/viewer/ScaleLine.vue?290b","webpack:///./src/components/viewer/DrawTools.vue?2bf6","webpack:///src/components/viewer/DrawTools.vue","webpack:///./src/components/viewer/DrawTools.vue?c611","webpack:///./src/components/viewer/DrawTools.vue?284c","webpack:///./src/components/viewer/panels/InformationPanel.vue?a2a3","webpack:///src/components/viewer/panels/InformationPanel.vue","webpack:///./src/components/viewer/panels/InformationPanel.vue?d61f","webpack:///./src/components/viewer/panels/InformationPanel.vue?2517","webpack:///./src/components/viewer/panels/DigitalZoom.vue?7610","webpack:///src/components/viewer/panels/DigitalZoom.vue","webpack:///./src/components/viewer/panels/DigitalZoom.vue?5e68","webpack:///./src/components/viewer/panels/DigitalZoom.vue","webpack:///./src/components/viewer/panels/ColorManipulation.vue?b828","webpack:///src/components/viewer/panels/ColorManipulation.vue","webpack:///./src/components/viewer/panels/ColorManipulation.vue?e983","webpack:///./src/components/viewer/panels/ColorManipulation.vue?accf","webpack:///./src/components/viewer/panels/LinkPanel.vue?dae9","webpack:///src/components/viewer/panels/LinkPanel.vue","webpack:///./src/components/viewer/panels/LinkPanel.vue?a4ed","webpack:///./src/components/viewer/panels/LinkPanel.vue","webpack:///./src/components/viewer/panels/LayersPanel.vue?54ab","webpack:///src/components/viewer/panels/LayersPanel.vue","webpack:///./src/components/viewer/panels/LayersPanel.vue?3a14","webpack:///./src/components/viewer/panels/LayersPanel.vue?2eb4","webpack:///./src/components/viewer/panels/OntologyPanel.vue?3274","webpack:///src/components/viewer/panels/OntologyPanel.vue","webpack:///./src/components/viewer/panels/OntologyPanel.vue?c761","webpack:///./src/components/viewer/panels/OntologyPanel.vue?10b1","webpack:///./src/components/viewer/panels/PropertiesPanel.vue?1f2b","webpack:///src/components/viewer/panels/PropertiesPanel.vue","webpack:///./src/components/viewer/panels/PropertiesPanel.vue?3ac1","webpack:///./src/components/viewer/panels/PropertiesPanel.vue?2ace","webpack:///./src/components/viewer/panels/FollowPanel.vue?fb54","webpack:///src/components/viewer/panels/FollowPanel.vue","webpack:///./src/components/viewer/panels/FollowPanel.vue?37dd","webpack:///./src/components/viewer/panels/FollowPanel.vue?0bab","webpack:///./src/components/viewer/panels/ReviewPanel.vue?0785","webpack:///src/components/viewer/panels/ReviewPanel.vue","webpack:///./src/components/viewer/panels/ReviewPanel.vue?dd60","webpack:///./src/components/viewer/panels/ReviewPanel.vue?6fa0","webpack:///./src/components/viewer/AnnotationDetailsContainer.vue?eea5","webpack:///src/components/viewer/AnnotationDetailsContainer.vue","webpack:///./src/components/viewer/AnnotationDetailsContainer.vue?b8ed","webpack:///./src/components/viewer/AnnotationDetailsContainer.vue?2786","webpack:///./src/components/viewer/interactions/SelectInteraction.vue?6f66","webpack:///src/components/viewer/interactions/SelectInteraction.vue","webpack:///./src/components/viewer/interactions/SelectInteraction.vue?c4b8","webpack:///./src/components/viewer/interactions/SelectInteraction.vue","webpack:///./src/components/viewer/interactions/DrawInteraction.vue?0ee0","webpack:///src/components/viewer/interactions/DrawInteraction.vue","webpack:///./src/components/viewer/interactions/DrawInteraction.vue?114f","webpack:///./src/components/viewer/interactions/DrawInteraction.vue","webpack:///./src/components/viewer/interactions/ModifyInteraction.vue?f2fc","webpack:///src/components/viewer/interactions/ModifyInteraction.vue","webpack:///./src/components/viewer/interactions/ModifyInteraction.vue?7196","webpack:///./src/components/viewer/interactions/ModifyInteraction.vue","webpack:///./src/utils/color-manipulation.js","webpack:///src/components/viewer/CytomineImage.vue","webpack:///./src/components/viewer/CytomineImage.vue?4857","webpack:///./src/components/viewer/CytomineImage.vue?06fa","webpack:///./src/components/viewer/ImageSelector.vue?5480","webpack:///src/components/viewer/ImageSelector.vue","webpack:///./src/components/viewer/ImageSelector.vue?228b","webpack:///./src/components/viewer/ImageSelector.vue?b201","webpack:///./src/store/modules/current-user.js","webpack:///./src/store/modules/current-project.js","webpack:///./src/store/modules/ontologies.js","webpack:///./src/store/modules/list-projects.js","webpack:///./src/store/modules/list-software.js","webpack:///./src/store/store.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/colors.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/draw.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/layers.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/properties.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/selected-features.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/style.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/tracking.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/undo-redo.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/view.js","webpack:///./src/store/modules/project_modules/viewer_modules/image_modules/review.js","webpack:///./src/store/modules/project_modules/viewer_modules/image.js","webpack:///./src/store/modules/project_modules/viewer.js","webpack:///./src/utils/shortcuts.js","webpack:///src/components/viewer/CytomineViewer.vue","webpack:///./src/components/viewer/CytomineViewer.vue?b2f1","webpack:///./src/components/viewer/CytomineViewer.vue?acb8","webpack:///./src/components/project/CytomineProject.vue?4f8d","webpack:///./src/components/project/ProjectSidebar.vue?6996","webpack:///src/components/project/ProjectSidebar.vue","webpack:///./src/components/project/ProjectSidebar.vue?2a9d","webpack:///./src/components/project/ProjectSidebar.vue","webpack:///./src/store/modules/project_modules/list-images.js","webpack:///./src/store/modules/project_modules/list-annotations.js","webpack:///./src/store/modules/project_modules/list-jobs.js","webpack:///./src/store/modules/project.js","webpack:///src/components/project/CytomineProject.vue","webpack:///./src/components/project/CytomineProject.vue?70b8","webpack:///./src/components/project/CytomineProject.vue?5a9f","webpack:///./src/components/project/ProjectHome.vue?5e03","webpack:///src/components/project/ProjectHome.vue","webpack:///./src/components/project/ProjectHome.vue?1dc4","webpack:///./src/components/project/ProjectHome.vue","webpack:///./src/components/project/activity/MemberActivityDetails.vue?293f","webpack:///./src/components/project/ProjectConnectionDetails.vue?8565","webpack:///src/components/project/ProjectConnectionDetails.vue","webpack:///./src/components/project/ProjectConnectionDetails.vue?78b0","webpack:///./src/components/project/ProjectConnectionDetails.vue?073b","webpack:///./src/components/charts/LastConnectionsChart.js","webpack:///src/components/project/activity/MemberActivityDetails.vue","webpack:///./src/components/project/activity/MemberActivityDetails.vue?ae92","webpack:///./src/components/project/activity/MemberActivityDetails.vue?3c95","webpack:///./src/components/admin/AdminPanel.vue?1944","webpack:///./src/components/admin/AdminDashboard.vue?fa08","webpack:///src/components/admin/AdminDashboard.vue","webpack:///./src/components/admin/AdminDashboard.vue?cecc","webpack:///./src/components/admin/AdminDashboard.vue?f4bf","webpack:///./src/components/admin/AdminUsers.vue?c4bf","webpack:///./src/components/admin/UserModal.vue?9c81","webpack:///src/components/admin/UserModal.vue","webpack:///./src/components/admin/UserModal.vue?a63a","webpack:///./src/components/admin/UserModal.vue?4cb9","webpack:///./src/components/admin/UserDetails.vue?3e68","webpack:///src/components/admin/UserDetails.vue","webpack:///./src/components/admin/UserDetails.vue?6046","webpack:///./src/components/admin/UserDetails.vue?0092","webpack:///src/components/admin/AdminUsers.vue","webpack:///./src/components/admin/AdminUsers.vue?cf12","webpack:///./src/components/admin/AdminUsers.vue","webpack:///./src/components/admin/AdminSoftware.vue?a7e1","webpack:///./src/components/admin/TrustedSourceModal.vue?9d9b","webpack:///src/components/admin/TrustedSourceModal.vue","webpack:///./src/components/admin/TrustedSourceModal.vue?3984","webpack:///./src/components/admin/TrustedSourceModal.vue?073f","webpack:///src/components/admin/AdminSoftware.vue","webpack:///./src/components/admin/AdminSoftware.vue?c72d","webpack:///./src/components/admin/AdminSoftware.vue","webpack:///./src/components/admin/AdminConfiguration.vue?2a50","webpack:///src/components/admin/AdminConfiguration.vue","webpack:///./src/components/admin/AdminConfiguration.vue?7394","webpack:///./src/components/admin/AdminConfiguration.vue?5223","webpack:///./src/components/admin/AdminTags.vue?3905","webpack:///./src/components/tag/TagModal.vue?84ac","webpack:///src/components/tag/TagModal.vue","webpack:///./src/components/tag/TagModal.vue?b66e","webpack:///./src/components/tag/TagModal.vue","webpack:///src/components/admin/AdminTags.vue","webpack:///./src/components/admin/AdminTags.vue?a55b","webpack:///./src/components/admin/AdminTags.vue","webpack:///src/components/admin/AdminPanel.vue","webpack:///./src/components/admin/AdminPanel.vue?1085","webpack:///./src/components/admin/AdminPanel.vue?6502","webpack:///./src/components/user/UserActivity.vue?b196","webpack:///src/components/user/UserActivity.vue","webpack:///./src/components/user/UserActivity.vue?df73","webpack:///./src/components/user/UserActivity.vue?9457","webpack:///./src/components/PageNotFound.vue?52c2","webpack:///src/components/PageNotFound.vue","webpack:///./src/components/PageNotFound.vue?81ce","webpack:///./src/components/PageNotFound.vue?cdb8","webpack:///./src/components/software/SoftwareInformation.vue?0acf","webpack:///./src/components/software/SoftwareParameterDetails.vue?0c73","webpack:///src/components/software/SoftwareParameterDetails.vue","webpack:///./src/components/software/SoftwareParameterDetails.vue?bfe4","webpack:///./src/components/software/SoftwareParameterDetails.vue?7d37","webpack:///./src/components/charts/SoftwareStatisticsChart.js","webpack:///src/components/software/SoftwareInformation.vue","webpack:///./src/components/software/SoftwareInformation.vue?9819","webpack:///./src/components/software/SoftwareInformation.vue?2729","webpack:///./src/routes.js","webpack:///src/vuelayers-suppl/zoomify-source/source.vue","webpack:///./src/vuelayers-suppl/zoomify-source/source.vue","webpack:///./src/vuelayers-suppl/zoomify-source/source.vue?a7a2","webpack:///./src/vuelayers-suppl/zoomify-source/index.js","webpack:///./src/vuelayers-suppl/raster-source/source.vue","webpack:///src/vuelayers-suppl/raster-source/source.vue","webpack:///./src/vuelayers-suppl/raster-source/source.vue?4d1b","webpack:///./src/vuelayers-suppl/raster-source/index.js","webpack:///src/vuelayers-suppl/translate-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/translate-interaction/interaction.vue?e097","webpack:///./src/vuelayers-suppl/translate-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/translate-interaction/index.js","webpack:///src/vuelayers-suppl/rotate-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/rotate-interaction/interaction.vue?6d6a","webpack:///./src/vuelayers-suppl/rotate-interaction/interaction.vue","webpack:///./src/vuelayers-suppl/rotate-interaction/index.js","webpack:///./src/App.vue?04fb","webpack:///./src/components/navbar/CytomineNavbar.vue?7a52","webpack:///./src/components/navbar/NavbarDropdown.vue?b2ce","webpack:///src/components/navbar/NavbarDropdown.vue","webpack:///./src/components/navbar/NavbarDropdown.vue?5759","webpack:///./src/components/navbar/NavbarDropdown.vue?40b5","webpack:///./src/components/navbar/NavigationTree.vue?eecc","webpack:///src/components/navbar/NavigationTree.vue","webpack:///./src/components/navbar/NavigationTree.vue?1cbb","webpack:///./src/components/navbar/NavigationTree.vue","webpack:///./src/components/navbar/HotkeysModal.vue?47bd","webpack:///src/components/navbar/HotkeysModal.vue","webpack:///./src/components/navbar/HotkeysModal.vue?50b7","webpack:///./src/components/navbar/HotkeysModal.vue?15d9","webpack:///./src/components/navbar/AboutCytomineModal.vue?6452","webpack:///src/components/navbar/AboutCytomineModal.vue","webpack:///./src/components/navbar/AboutCytomineModal.vue?6879","webpack:///./src/components/navbar/AboutCytomineModal.vue?8518","webpack:///./src/components/search/CytomineSearcher.vue?76a5","webpack:///src/components/search/CytomineSearcher.vue","webpack:///./src/components/search/CytomineSearcher.vue?f4ee","webpack:///./src/components/search/CytomineSearcher.vue?e043","webpack:///src/components/navbar/CytomineNavbar.vue","webpack:///./src/components/navbar/CytomineNavbar.vue?b724","webpack:///./src/components/navbar/CytomineNavbar.vue?6ad6","webpack:///./src/components/user/Login.vue?7311","webpack:///./src/components/user/Register.vue?b7db","webpack:///src/components/user/Register.vue","webpack:///./src/components/user/Register.vue?d539","webpack:///./src/components/user/Register.vue","webpack:///src/components/user/Login.vue","webpack:///./src/components/user/Login.vue?da82","webpack:///./src/components/user/Login.vue?8044","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js","webpack:///./src/components/viewer/panels/LayersPanel.vue?eb6f","webpack:///./src/components/image/ListImages.vue?6eb3","webpack:///./src/App.vue?c650","webpack:///./src/components/ontology/OntologyTree.vue?bf0f","webpack:///./src/components/project/configuration-panels/ProjectImageFilters.vue?71ac","webpack:///./src/components/project/ProjectActivity.vue?cc4c","webpack:///./src/components/viewer/panels/FollowPanel.vue?806d","webpack:///./src/components/project/ProjectSidebar.vue?2335","webpack:///./src/assets/brands/aperio.jpg","webpack:///./src/components/project/activity/ProjectActivityCharts.vue?ea6d","webpack:///./src/components/software/SoftwareInformation.vue?6799","webpack:///./src/assets/brands/leica.png","webpack:///./src/components/user/Username.vue?48b2","webpack:///./src/components/navbar/NavigationTree.vue?6b4a","webpack:///./src/components/viewer/CytomineViewer.vue?1ae4","webpack:///./src/components/form/CytomineDatepicker.vue?13a2","webpack:///./src/assets/sponsors/logo-uliege.png","webpack:///./src/components/tag/CytomineTags.vue?d6be","webpack:///./src/components/job/JobDetails.vue?9702","webpack:///./src/components/ontology/CytomineTerm.vue?2a6c","webpack:///./src/components/viewer/panels/OntologyPanel.vue?8579","webpack:///./src/components/software/SoftwareParameterDetails.vue?f5fb","webpack:///./src/components/software/ListSoftware.vue?db9d","webpack:///./src/components/description/CytomineDescriptionModal.vue?95b0","webpack:///./src/components/viewer/RotationSelector.vue?2ee7","webpack:///./src/components/GlobalDashboard.vue?6357","webpack:///./src/components/ontology/TermModal.vue?f39d","webpack:///./src/components/viewer/panels/InformationPanel.vue?f660","webpack:///./src/components/form/CytomineQuillEditor.vue?f892","webpack:///./src/components/admin/UserModal.vue?f864","webpack:///./src/components/project/activity/ProjectActivityCharts.vue?146b","webpack:///./src/components/viewer/panels/PropertiesPanel.vue?a556","webpack:///./src/assets/brands/roche.gif","webpack:///./src/components/viewer/RotationSelector.vue?a62a","webpack:///./src/assets/logo.svg","webpack:///./src/components/project/configuration-panels/ProjectSoftwares.vue?2250","webpack:///./src/components/image/ImagePreview.vue?e31d","webpack:///./src/components/ontology/ListOntologies.vue?9972","webpack:///./src/components/storage/UploadedFileDetails.vue?a30c","webpack:///./src/components/project/activity/MemberActivityDetails.vue?db52","webpack:///./src/components/software/ListSoftware.vue?e8a9","webpack:///./src/components/property/CytomineProperties.vue?15d6","webpack:///./src/components/utils/CytomineTask.vue?7d8f","webpack:///./src/components/viewer/DrawTools.vue?fbac","webpack:///./src/assets/brands/3dh.png","webpack:///./src/components/storage/CytomineStorage.vue?800e","webpack:///./src/components/attached-file/AttachedFileModal.vue?0894","webpack:///./src/components/admin/TrustedSourceModal.vue?eb7a","webpack:///./src/components/ontology/OntologyTree.vue?5d01","webpack:///./src/components/project/activity/ProjectActivityLogs.vue?5966","webpack:///./src/components/admin/UserDetails.vue?1727","webpack:///./src/components/project/configuration-panels/CustomUIProject.vue?3c1b","webpack:///./src/components/viewer/CytomineImage.vue?f98e","webpack:///./src/components/viewer/panels/FollowPanel.vue?dd94","webpack:///./src/components/icons/IconProjectMemberRole.vue?dadc","webpack:///./src/components/user/UserActivity.vue?8f38","webpack:///./src/components/viewer/AnnotationDetailsContainer.vue?e87d","webpack:///./src/components/annotations/ListAnnotationsByTerm.vue?cc17","webpack:///./src/components/job/AddJobModal.vue?8319","webpack:///./src/components/project/configuration-panels/AddMemberModal.vue?53d8","webpack:///./src/components/viewer/panels/ColorManipulation.vue?57ba","webpack:///./src/components/project/configuration-panels/ProjectMembers.vue?4ff7","webpack:///./src/components/viewer/panels/LinkPanel.vue?53b7","webpack:///./src/components/project/configuration-panels/ProjectImageFilters.vue?9f41","webpack:///./src/components/software/SoftwareInformation.vue?f56c","webpack:///./src/components/annotations/AnnotationPreview.vue?78d7","webpack:///./src/components/image/ListImagesPreview.vue?1188","webpack:///./src/components/job/JobDetails.vue?7d2a","webpack:///./src/components/annotations/ListAnnotations.vue?db86","webpack:///./src/assets/sponsors/logo-wallonie.png","webpack:///./src/components/description/CytomineDescription.vue?2123","webpack:///./src/components/annotations/AnnotationDetails.vue?7b36","webpack:///./src/components/project/ProjectActivity.vue?93a2","webpack:///./src/components/viewer/AnnotationDetailsContainer.vue?39b8","webpack:///./src/components/form/CytomineSlider.vue?f0aa","webpack:///./src/components/utils/ActivityLogs.vue?9d53","webpack:///./src/components/search/AdvancedSearch.vue?74dc","webpack:///./src/components/tag/AddTagDomainAssociationModal.vue?d85e","webpack:///./src/components/utils/DomainTagInput.vue?7f05","webpack:///./src/components/storage/CytomineStorage.vue?24bd"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","loading","on","$event","_e","domProps","_s","welcomeMessage","_v","$t","recentProjects","scopedSlots","_u","fn","ref","project","row","proxy","projects","nbImages","nbUserAnnots","nbReviewed","lastOpenedImage","blindMode","staticRenderFns","path","options","arrayPath","getValue","$store","fullPath","sync","set","debounce","commit","getMutationName","syncFilter","modulePath","filterName","filters","propValue","join","syncBoundsFilter","maxProp","bounds","syncMultiselectFilter","optionsProp","selectedOptions","fct","_","Array","isArray","split","component","rootModuleProp","concat","store","obj","state","variableName","charAt","toUpperCase","images","_l","image","class","fullHeightCard","idImage","style","blindedName","instanceFilename","imageName","projectName","_t","props","showProject","computed","figureStyle","components","nbRecent","type","Number","default","currentUser","CYTOMINE_CORE_HOST","CYTOMINE_UPLOAD_HOST","STOP_PREVIEW_KEYWORD","DIGITAL_ZOOM_INCREMENT","VIEWER_ANNOTATIONS_REFRESH_INTERVAL","MEMBERS_ACTIVITY_REFRESH_INTERVAL","PING_INTERVAL","JOB_DETAILS_REFRESH_INTERVAL","JOB_LOGS_REFRESH_INTERVAL","TASK_REFRESH_INTERVAL","STORAGE_REFRESH_INTERVAL","ONGOING_UPLOAD_REFRESH_INTERVAL","SAVE_POSITION_IN_IMAGE_INTERVAL","BROADCASTING_USERS_REFRESH_INTERVAL","TRACKING_REFRESH_INTERVAL","IDLE_DURATION","CONFIG_KEY_WELCOME","PREFIX_HIDDEN_PROPERTY_KEY","DEFAULT_PROPERTY_KEY","ListImagesPreview","ImagePreview","recentProjectsId","recentImages","array","reduce","count","numberOfImages","forEach","lastOpened","methods","guestByNow","creationModal","model","callback","$$v","searchString","expression","toggleFilterDisplay","_m","filtersOpened","nbActiveFilters","availableOntologies","selectedOntologies","availableRoles","selectedRoles","availableTags","selectedTags","maxNbMembers","boundsMembers","maxNbImages","boundsImages","maxNbUserAnnotations","boundsUserAnnotations","maxNbJobAnnotations","boundsJobAnnotations","maxNbReviewedAnnotations","boundsReviewedAnnotations","projectCollection","currentPage","perPage","openedDetails","sortField","sortOrder","revision","currentUserRoles","admin","representative","membersCount","numberOfAnnotations","numberOfJobAnnotations","numberOfReviewedAnnotations","_f","lastActivity","excludedProperties","updateProject","deleteProject","ontologies","total","internalPerPage","internalCurrentPage","detailed","detailKey","openedDetailed","sort","order","checkable","internalCheckedRows","isRowCheckable","$emit","updateSort","column","label","index","option","collection","perPageOptions","refreshInterval","checkedRows","error","internalSort","internalOrder","timeout","internalCollection","max","watch","fetchPage","page","chckedRows","clearTimeout","created","trackBy","groupLabel","groupValues","multiple","searchable","allowEmpty","disabled","selectAllAvailable","selectAll","allSelected","isOpen","allPlaceholder","displayedOptions","countNotDisplayed","$tc","maxNbDisplayed","every","newValue","min","tooltipPlacement","lazy","stopPropagation","startEdition","indexEdited","Math","round","focus","stopEdition","nativeOn","indexOf","_k","keyCode","editedValue","integerOnly","parsedValue","newVal","reverse","$refs","inputSlider","isPropDisplayed","members","canManageProject","ontologyName","creator","onlines","representatives","managers","contributors","filteredUsers","user","isOnline","usersToDisplay","expanded","online","displayFullName","fullName","resolvedUser","username","algo","date","moment","format","softwareName","firstname","lastname","fetchedUser","users","nbDisplayed","filter","tooManyUsers","some","isRenameModalActive","rename","preventDefault","saveOntology","isOntologyModalActive","savingOntology","errorOntologies","loadingOntologies","selectedOntology","ontology","size","cannotDeleteOntology","active","close","title","String","Boolean","errors","any","has","first","directives","rawName","newName","extends","CytomineModal","currentName","$_veeValidate","RenameModal","$buefy","dialog","confirm","message","confirmText","cancelText","onConfirm","previewDescription","openModal","$parent","save","edit","stopPreviewKeyword","descriptionContent","descriptionWithoutKeywords","editorOptions","expandedSpecialChars","char","insertSpecialCharacter","placeholder","toolbar","specialCharacters","quill","quillEditor","deleteText","range","insertText","setSelection","description","CytomineModalCard","CytomineQuillEditor","replace","RegExp","constants","canEdit","maxPreviewLength","modalOpened","substring","posStop","croppedDescription","modal","open","parent","hasModalCard","events","change","properties","prop","idx","startPropEdition","removeProp","addNewProp","saveProp","$set","cancelPropEdition","editedProperties","newPropKey","newPropValue","showNewPropForm","notEditedProperties","newProp","oldKey","oldValue","associatedTags","association","tagName","removeTag","displayModal","filteredDomains","displayedProperty","allowNew","val","getWildcardRegexp","str","escapedString","escapeRegExp","domains","identifier","searchedProperty","filtered","addAssociations","notAssociatedTags","DomainTagInput","tags","AddTagDomainAssociationModal","addTagModal","sortAssociatedTags","attachedFiles","file","host","url","filename","confirmDeletion","selectedFile","AttachedFileModal","addAttachedFile","attachedFile","ListUsernames","ProjectActions","CytomineDescription","CytomineProperties","CytomineTags","AttachedFiles","editable","adminByNow","managersIds","includes","createProject","isManager","clickable","isRepresentative","IconProjectMemberRole","CytomineTable","ProjectDetails","AddProjectModal","CytomineMultiselect","CytomineSlider","contributorLabel","managerLabel","querySearchTags","$route","query","getters","selectedOntologiesIds","boundsFilters","withMembersCount","withLastActivity","withCurrentUserRoles","in","toLowerCase","ilike","encodeURIComponent","fetchOntologies","fetchMaxFilters","queriedTags","labelButton","storages","selectedStorage","selectedProject","dropFiles","wrapper","filesize","uploadedFile","progress","startUpload","cancelUpload","overallProgress","plainFiles","filesChange","filesPendingUpload","startAll","ongoingUpload","cancelAll","hideFinished","debounceSearchString","uploadedFileCollection","tableRefreshInterval","uFile","thumbURL","originalFilename","contentType","globalSize","parentFilename","updatedTree","iconOnly","textClass","iconClass","labels","status","isConverted","nbChildren","tagClass","node","isLeaf","isExpanded","downloadURL","samplePreview","macroURL","slidePreview","nodes","SlVueTree","UploadedFileStatus","rootId","uploadedFiles","findRoot","makeTree","parentId","createNodes","directChildren","children","isDraggable","UploadedFileDetails","newUploadError","timeoutRefreshSessionUploads","signature","signatureDate","finishedStatus","filesFinishedUpload","nbUploads","totalProgress","floor","uri","queryString","files","processed","uploading","cancelToken","formData","append","fileWrapper","cancel","activated","fetchStorages","fetchProjects","refreshStatusSessionUploads","deactivated","isSelected","selectOntology","deleteOntology","renameOntology","addOntology","fullOntology","nbProjects","creatorFullname","selector","allowSelection","draggable","allowDrag","allowEdition","select","drop","hidden","classNames","startTermUpdate","confirmTermDeletion","treeNodes","startTermCreation","term","background","color","presetColors","randomColor","random","toString","event","additionalNodes","startWithAdditionalNodes","selectedNodes","multipleSelection","CytomineTerm","internalSelectedNodes","editedNode","regexp","noResult","refreshNodeSelection","createSubTree","terms","createNode","applyToAllNodes","matchInChildren","match","clickOnTreeSelector","elem","parentElement","createTerm","updateTerm","tree","updateNode","TermModal","newTerm","OntologyTree","managedProjects","hasAccessToAllProjects","allProjectsAreCollaborative","manageAllProjects","fetchOntology","createOntology","OntologyDetails","AddOntologyModal","idTargetOntology","params","idOntology","filteredOntologies","selectTargetOntology","$router","find","sortOntologies","maxNbJobs","boundsJobs","maxNbSuccessJobs","boundsSuccessJobs","onlyLastReleases","onlyExecutables","filteredSoftwares","field","software","sortBySoftwareStatus","executable","numberOfJob","numberOfSuccess","updateSoftware","deleteSoftware","source","canManageSoftware","executeCommand","pullingCommand","sourceCodeProviderIcon","sourceCodeProvider","prefix","environmentProviderIcon","environmentProvider","dockerUsername","supportedProviders","provider","formatProvider","sourceCodeProviderLink","environmentProviderLink","SoftwareSourceButtons","SoftwareSource","BooleanItem","SoftwareStatus","fetchData","SoftwareDetails","softwares","listSoftware","getSoftwareStatusValue","softwareVersion","deprecated","populate","configUI","addImageModal","availableFormats","selectedFormats","availableVendors","selectedVendors","availableMagnifications","selectedMagnifications","availableResolutions","selectedResolutions","maxWidth","boundsWidth","maxHeight","boundsHeight","imageCollection","magnification","refreshData","showBothNames","thumb","isMetadataModalActive","extension","vendor","imgPath","resolution","toFixed","reviewed","inReview","reviewUser","cancelReview","isCalibrationModalActive","isMagnificationModalActive","canDownloadImages","setMagnification","fieldType","newMagnification","currentProject","setResolution","calibrationField","calibrationFactor","rotationAngle","rotate","filteredProps","styleImagePreview","width","height","vendors","hamamatsu","require","aperio","leica","roche","philips","vendorFromMime","mime","MagnificationModal","CalibrationModal","ImageMetadataModal","ImageStatus","imageNameNotif","deleteImage","previewURL","wasAdded","isInProject","addImage","idsAddedImages","inProject","ImageName","ImageDetails","AddImageModal","canAddImage","isReadOnly","storeModule","storeOptions","multiSelectFilters","filterKey","filterValue","permissionError","notFoundError","loadImage","allowedSizes","selectedSize","nbPerPage","colors","selectedColor","annotationTypes","selectedAnnotationType","selectedImages","selectedTermsIds","jobAnnotationOption","userJobs","selectedUserJobs","userAnnotationOption","filteredMembers","selectedMembers","selectedReviewers","toDate","Date","fromDate","hexaCode","allUsers","multipleTermsOption","noTermOption","selectedImagesIds","selectedUsersIds","tagsIdsNotNull","noTag","reviewUsersIds","afterThan","beforeThan","addTerm","styles","minDate","maxDate","months","weekdaysMin","resetButton","activeSelector","displayedSelectedTerms","target","composing","handleSelection","getAllTerms","processNodes","allTerms","ids","nbAnnotations","annotations","annot","allImages","opened","modifiers","handleDeletion","currentTarget","viewAnnot","annotation","area","perimeter","removeTerm","showTermSelector","addTermString","associatedTermsIds","associatedTerms","isReview","reviewer","annotationURL","copyURL","comments","openCommentsModal","comment","senderName","addingComment","sendToAllMembers","text","share","allMembers","$nextTick","AnnotationCommentsModal","showImageInfo","showComments","revTerms","canEditTerms","userByTerm","$notify","findUserByTerm","addComment","unshift","styleAnnotDetails","backgroundImage","backgroundRepeat","el","$eventBus","multipleTerms","noTerm","imagesIds","usersIds","tagsIds","openedAnnot","reviewUsers","multipleTerm","showTerm","showGIS","projectModule","listAnnotations","currentPages","isCluster","feature","createStroke","opacity","Stroke","createColorStyle","colorArray","hexToRgb","colorWithOpacity","fill","Fill","circleStyle","Circle","radius","stroke","setOpacity","Style","createLineStyle","textFill","textStroke","createTextStyle","fontSize","Text","font","overflow","blue","green","lightGreen","red","lightRed","white","blueStroke","greenStroke","lightGreenStroke","redStroke","lightRedStroke","whiteStroke","selectStyles","verticesStyle","geometry","coordinates","getGeometry","getCoordinates","MultiPoint","reviewedStyles","reviewedSelectStyles","rejectedStyles","rejectedSelectStyles","changeOpacity","getStroke","getColor","getFill","getImage","createDefaultColor","defaultColors","freeze","CytomineDatepicker","OntologyTreeMultiselect","ListAnnotationsByTerm","projectUsers","reviewedAnnotationOption","targetAnnotationType","termsOptions","termOptionsIds","getTime","setHours","querySearchImage","selectedTagsIds","x","getDownloadURL","resetPagesAndFilters","queriedImage","activeTab","endDate","startDate","activeComponent","tag","daysRange","nbProjectVisits","nbImageConsultations","nbAnnotationSelections","USER","ALGO","REVIEWED","selectedTerms","nbElemsAnnotationTermChart","nbElemsAnnotationContributorChart","Bar","annotationsEvolution","AnnotationType","chartData","locale","$i18n","queryParams","accumulate","reverseOrder","updateChart","updateLabels","fetchAnnotationsEvolution","annotationType","Promise","all","datasets","item","$options","$data","_chart","update","mounted","backgroundColor","borderWidth","renderChart","maintainAspectRatio","scales","yAxes","ticks","xAxes","categoryPercentage","gridLines","display","defaultColor","HorizontalBar","leafsOnly","doRenderChart","fetchStatsTerms","borderColors","g","b","factor","borderColor","hoverBorderColor","legend","suggestedMax","addPlugin","ChartDataLabels","fetchStatsAnnotatedImagesByTerm","fetchStatsAnnotationCreators","contribs","fetchStatsAnnotatedImagesByCreator","projectConnections","imageConsultations","annotationSelections","fetchProjectConnections","fetchConnectionsEvolution","fetchImageConsultations","fetchImageConsultationsEvolution","fetchAnnotationSelections","fetchAnnotationActionsEvolution","action","NumberAnnotationsChart","AnnotationTermChart","AnnotatedImagesByTermChart","AnnotationContributorChart","AnnotatedImagesByContributorChart","ActivityOverviewChart","intervalDuration","dayDuration","styleAnnotationTermChart","styleAnnotationContributorChart","loadData","time","lastUpdate","availableStatus","selectedStatus","member","onlineIds","role","managerRole","lastImageName","lastConnection","frequency","Username","contributorRole","onlineStatus","offlineStatus","idManagers","selectedUser","uJob","actions","scrollHandler","month","refDate","day","loadedAllActions","loadActions","enter","leave","route","visible","showPreview","previewUrl","actionData","JSON","parse","ANNOT","IMAGE","PROJECT","annotationHandler","imageHandler","img","projectHandler","addCommandHandler","editCommandHandler","newImageInstance","idUser","offset","nbActionsPerPage","fullData","formattedActions","results","idxMonths","days","idxDays","lastDate","bottom","defaultTab","queriedTab","tab","ProjectActivityCharts","MembersActivity","ProjectActivityLogs","changeTab","launchModal","availableSoftwares","selectedSoftwares","availableLaunchers","selectedLaunchers","selectedDate","jobCollection","job","number","deleteJob","addJob","jobStatusMapping","JobStatus","RUNNING","statLabel","SUCCESS","FAILED","NOTLAUNCH","WAIT","INQUEUE","INDETERMINATE","KILLED","statusComment","updated","showParameters","jobParameters","param","humanName","isJustFinished","log","showLog","canManageJob","allData","jobData","viewURL","relaunchJob","dataDeleted","isFinished","deletionModal","confirmJobDeletion","confirmJobKilling","deleteData","annotationsTerm","jobDatas","deletionTask","task","lastComment","refresh","CytomineTask","justFinishedInterval","timeoutRefresh","isRunning","isSuccessful","hasAnnotationResult","hasFileResult","beforeDestroy","createJob","executableSoftwares","selectedSoftware","optionalParams","showOptional","prefilledParams","showPrefilled","validationName","uriPrintAttribut","smallCropURL","formatJob","internalValue","inject","processedUri","validationRules","required","decimal","objectsClass","areAnnotationObjects","areTermObjects","areJobObjects","getInitialValue","defaultParamValue","attribute","JobParameterRow","parameters","paramsMandatoryNoDefault","JobDetails","AddJobModal","canAddJob","gte","lte","dispatch","updatedProject","editingMode","hideManagersLayers","hideContributorsLayers","layerToAdd","layer","addDefaultLayer","selectedLayers","saveDefaultLayer","defaultLayers","deleteDefaultLayer","imagesDownloadable","externalProjectUpdate","filteredKeys","defaultPropertyProp","keysAnnotationProps","onCancel","DefaultProperty","layers","currentEditingMode","isRestricted","unselectedLayers","initData","hideAdminsLayers","hideUsersLayers","areImagesDownloadable","addMemberModal","confirmMembersRemoval","MemberCollection","representativeRole","confirmToggleManager","toggleRepresentative","ldap","LDAP","displayMemberOrigin","exportURL","refreshMembers","addMembers","notMemberUsers","projectMembersIds","newProjectMembers","AddMemberModal","toggleManager","category","superscript","icon","iconComponent","customUI","ADMIN_PROJECT","isParentDisabled","toggleProp","CONTRIBUTOR_PROJECT","staticStyle","customUITree","selected","loadingToggleSoftware","toggleSoftware","filteredImageFilters","toggleFilter","imageFilters","GeneralConfiguration","ProjectMembers","CustomUIProject","ProjectSoftwares","ProjectImageFilters","editDetails","updatedUser","savePassword","typeCurrentPassword","messageCurrentPassword","isCheckingPassword","currentPassword","newPasswordDisabled","newPassword","is","confirmPassword","publicKey","copy","privateKey","regenerateKeys","Vue","use","VueI18n","fallbackLocale","messages","changeLanguageMixin","changeLanguage","language","$moment","rolesMapping","mixins","clone","correctPassword","languages","passwordExpired","checkPassword","totalNbItems","projectBlind","pathSearchString","querySearchString","cell","elementHeight","elementWidth","closeMap","shortkeyEvent","isActiveImage","zoom","projectionName","document","projectedMousePosition","coordinate","updateKeyboardInteractions","center","rotation","maxZoom","pow","depth","extent","viewMounted","addOverviewMap","baseLayerURLs","imageSize","setBaseSource","baseSource","colorManipulationOn","operation","lib","isPanelDisplayed","activePanel","togglePanel","layersToPreload","view","imageWrapper","tracking","overviewCollapsed","imageExtent","loaderFactory","strategyFactory","styleFunctionFactory","Action","SELECT","CREATE","UPDATE","DELETE","updateTermProperties","AnnotationTermCollection","fetchAll","annotTerms","mapping","annotBelongsToLayer","isReviewed","WKT","lastExtent","clustered","maxResolutionNoClusters","imageModule","imageInstance","annotsIdsToSelect","selectedFeatures","annotsToSelect","ongoingEdit","draw","layersOpacity","displayNoTerm","noTermOpacity","selectedPropertyKey","selectedPropertyColor","review","reviewMode","clearFeatures","olSource","addAnnotationHandler","addFeature","createFeature","selectAnnotationHandler","olFeature","reloadAnnotationsHandler","loader","reviewAnnotationHandler","deleteAnnotationHandler","editAnnotationHandler","setGeometry","readGeometry","location","indexFeature","indexSelectedFeature","removeFeature","updateFeature","setId","sameTerms","terms1","$on","$off","transform","degreesRotation","increment","viewerModule","PI","inc","interpolation","scaleLineLength","scaleLength","mousePosition","unit","isToolDisplayed","activeTool","activateTool","isToolDisabled","accept","reject","termsToAssociate","disabledDraw","backgroundTermsNewAnnot","searchStringTerm","displayAnnotDetails","selectedFeature","activeEditTool","activateEditTool","undo","undoneActions","redo","IconPolygonFreeHand","IconLineFreeHand","viewerWrapper","termsNewAnnots","tool","noActiveLayer","undoRedo","activeImage","shortkeyHandler","calibrationModal","isFirstImage","previousImage","isLastImage","nextImage","digitalZoom","selectedFilter","brightness","contrast","saturation","hue","reset","imagesWithNum","unlink","otherGroups","otherSoloImages","handleCheckboxChange","indexImage","revisionNumber","linkGroups","links","linkGroupsWithNum","indexCurrentGroup","findIndex","linkedIndexes","values","inGroupsIndexes","idxs","trackedUser","checked","link","indexGroup","selectedLayer","layerName","addLayer","toggleLayerVisibility","drawOn","canDraw","toggleLayerDrawOn","removeLayer","indexLayers","layersIds","selectedLayersIds","nbReviewedAnnotations","hasReviewLayer","reviewLayer","fetchIndexLayers","addAnnotationEventHandler","annotationEventHandler","deleteAnnotationEventHandler","addLayerById","termsMapping","toggleTermVisibility","resetOpacities","propertiesKeys","disabledBroadcast","broadcastModel","broadcast","trackedUserModel","onlineManagers","onlineContributors","onlineUsers","timeoutOnlineUsers","timeoutTracking","projectMembers","projectManagers","projectContributors","linkedIndexTracking","alreadyBroadcastingImage","trackedUserFullName","fetchOnline","track","isReviewer","reviewStop","unvalidate","visibleUserLayers","taskReviewAll","reviewAll","validate","reviewStart","startReview","visibleUserLayerIds","commitImage","reload","positionAnnotDetails","y","dragStop","updateTerms","updateProperties","centerViewOnAnnot","fit","fetchUsers","fetchUserJobs","addEventListener","handleResize","destroyed","removeEventListener","filterFunction","never","shiftKeyOnly","notAnnotations","previousTarget","recordAction","selectedPropertyValues","drawSourceName","nbActiveLayers","drawCorrection","drawType","drawFreehand","undefined","drawGeometryFunction","drawEndHandler","setCoordinates","boxCoordinates","Polygon","activeLayers","olDrawInteraction","scheduleRecreate","rotateCoords","coords","clearDrawnFeatures","olSourceDrawTarget","clear","getWktLocation","getType","writeFeature","selectSource","deleteCondition","startEdit","endEdit","mapBrowserEvent","originalEvent","ctrlKey","computeContrastFactorFunc","computeHueMatrixFunc","angle","cosA","cos","sinA","sin","sqrtThird","sqrt","hueMatrix","truncatePixelValueFunc","changeBrightnessContrastFunc","pixel","truncatePixelValue","contrastFactor","changeSaturationFunc","saturationConstant","Pr","Pg","Pb","changeHueFunc","constLib","changeBrightnessContrast","changeSaturation","changeHue","computeContrastFactor","computeHueMatrix","pixels","AnnotationLayer","RotationSelector","ScaleLine","DrawTools","AnnotationDetailsContainer","InformationPanel","DigitalZoom","ColorManipulation","LinkPanel","LayersPanel","OntologyPanel","PropertiesPanel","FollowPanel","ReviewPanel","SelectInteraction","DrawInteraction","ModifyInteraction","minZoom","routedAnnotation","timeoutSavePosition","overview","routedAction","viewState","imageServerURLs","getCollapsed","correction","activeSelectInteraction","activeDrawInteraction","activeModifyInteraction","savePosition","setInitialZoom","mapWidth","mapHeight","idealZoom","toggleOverview","setCollapsed","panel","updateMapSize","imageSelectorEnabled","preview","nbImagesDisplayed","filteredImages","more","content","placement","imageSelector","displayedImages","toggle","getDefaultState","expandedSidebar","namespaced","mutations","setUser","setAdminByNow","setExpandedSidebar","resetState","assign","fetchUser","User","fetchCurrent","updateUser","openAdminSession","Cytomine","instance","closeAdminSession","login","payload","password","rememberMe","currentViewer","setProject","setOntology","setConfigUI","config","setManagers","setMembers","setCurrentViewer","loadProject","idProject","projectChange","Project","fetch","root","promises","ProjectConnection","reloadProject","reloadOntology","fetchUIConfig","fetchUIConfigCurrentUser","fetchProjectMembers","UserCollection","u","ProjectMemberRole","MANAGER","REPRESENTATIVE","Ontology","canEditLayer","rootState","idLayer","canEditAnnot","canEditImage","idsManagers","currentProjectModule","viewers","currentViewerModule","setSelectedOntology","setSearchString","setFiltersOpened","setFilter","setCurrentPage","setPerPage","setSortField","setSortOrder","setOpenedDetails","setSort","Vuex","Store","logout","unregisterModule","listProjects","strict","process","getModuleNamespace","pathes","_modulesNamespaceMap","moduleNamespace","context","setBrightness","setContrast","setHue","setSaturation","resetColorManipulation","setOngoingEdit","setTermsNewAnnots","filterTermsNewAnnots","idTerms","previousTool","rootGetters","indexLayer","filterSelectedLayers","idLayers","setIdImage","setPropertiesKeys","setSelectedPropertyKey","setSelectedPropertyColor","setSelectedPropertyValues","addSelectedPropertyValues","newValues","initialize","fetchPropertiesKeys","PropertyCollection","projectProperties","fetchLayerPropertiesValues","layerValues","propValues","setImageInstance","refreshProperties","currentKey","newKey","fetchPropertiesValuesAndPositions","propertiesValues","propVal","idAnnotation","fetchKeysAnnotationProperties","selectionTargetedFeatures","setSelectionTargetedFeatures","targetedFeatures","setSelectedFeatures","newSelectedFeatures","stringify","currentSelectedFeatures","clearSelectedFeatures","selectFeature","createGeoJsonFmt","writeFeatureObject","changeAnnotSelectedFeature","removeLayerFromSelectedFeatures","cache","removeTermFromSelectedFeatures","idTerm","removeNoTermFromSelectedFeatures","setAnnotToSelect","setShowComments","setDisplayAnnotDetails","setPositionAnnotDetails","initialTermsOpacity","initialLayersOpacity","noTermStyle","defaultStyle","multipleTermsStyle","formatTerm","setTerms","indexTerm","setDisplayNoTerm","setTermOpacity","olStyle","olLineStyle","setNoTermOpacity","resetTermOpacities","setLayersOpacity","formatTerms","toggledTerm","previousTerms","nbTerms","prevTerm","setBroadcast","setTrackedUser","resetActions","addAction","command","lastCommand","undoAction","opposedAction","pop","redoAction","setCenter","setZoom","setRotation","setDigitalZoom","setOverviewCollapsed","setReviewMode","fetchImageServers","idViewer","fetchImage","genStyleFunction","wrappedTerm","hasTermsToDisplay","isRejected","ftr","getId","ImageInstance","AbstractImage","baseImage","indexNextImage","setImageSelector","setActiveImage","createLinkGroup","indexes","linkImageToGroup","mergeLinkGroups","unlinkImage","group","indexWithinGroup","changePath","router","currentRoute","pathViewer","registerModule","pathImageModule","setImageResolution","refImage","increments","refZoom","indexesToUpdate","getLinkedIndexes","diffZoom","zoomFactor","zoomIncrement","rotationInc","removeImage","pathModule","actionStr","shortkey","CytomineImage","ImageSelector","errorBadImageProject","reloadInterval","idImages","paramIdViewer","viewer","indexImages","nbHorizontalCells","ceil","nbVerticalCells","cells","shortkeysMapping","findIdViewer","loadViewer","substr","srcKey","clearInterval","clickHandler","isTabDisplayed","transitionEndHandler","sidebar","formats","magnifications","resolutions","previewSize","outlineColor","reviewers","termsIds","setPreviewSize","setOutlineColor","setAnnotationType","setFromDate","setToDate","launchers","statuses","executionDate","setExecutionDate","listImages","listJobs","email","resumeActivity","firstConnection","totalConnections","totalConsultations","totalAnnotationSelections","totalAnnotations","connections","connectionsPerPage","connection","countViewedImages","countCreatedAnnotations","period","chartRevision","consultations","consultationsPerPage","consultation","imageThumb","last","os","browser","browserVersion","showDates","momentPeriod","ProjectConnectionCollection","fetchConnectionsFrequency","a","allConnections","iterMoment","lastMoment","indexConnection","isBefore","isSame","valueOf","add","endOf","ProjectConnectionDetails","LastConnectionsChart","currentStats","storageStats","usedP","mostActiveProject","totalCounts","userAnnotations","jobs","jobAnnotations","selectedChartOption","chartOptions","startUserCreation","userCollection","getRoleData","startUserEdition","lock","unlock","editedUser","refreshUsers","internalUser","editionMode","selectedRole","rolesWithIds","defaultRole","displayErrors","roles","editableFields","idRole","defaultLanguage","switchUser","showProjects","showManagedProjects","UserModal","UserDetails","addUserModal","withRoles","trustedSources","startSourceCreation","filteredTrustedSources","startSourceEdition","deleteSourceDialog","editedSource","addSource","updateSource","fieldLabels","internalSource","formatSource","TrustedSourceModal","addSourceModal","deleteSource","delete","welcomeConfig","startTagCreation","filteredTags","creatorName","startTagEdition","deleteTagDialog","editedTag","addTag","updateTag","internalTag","TagModal","deleteTag","tabNames","AdminDashboard","AdminUsers","AdminConfiguration","AdminSoftware","AdminTags","softwareParameters","softwareParametersPerPage","parameter","canManageParameter","valueKey","commandLineFlag","SoftwareStatisticsChart","SoftwareParameterDetails","idSoftware","routes","GlobalDashboard","ListProjects","CytomineStorage","ListOntologies","ListSoftware","SoftwareInformation","AdvancedSearch","Account","CytomineProject","ProjectHome","ListImages","CytomineViewer","ImageInformation","ListAnnotations","ListJobs","ProjectActivity","MemberActivityDetails","ProjectInformation","ProjectConfiguration","PageNotFound","UserActivity","AdminPanel","redirect","VueRouter","linkActiveClass","tierSizeCalculation","Function","urls","tileSize","tierSizeInTiles","tileCountUpToTier","imageWidth","tileSizeForTierSizeCalculation","imageHeight","createSource","attributions","cacheSize","crossOrigin","projection","reprojectionErrorThreshold","urlTmpl","transition","setTileUrlFunction","tileUrlFunction","createTileGrid","TileGrid","origin","createFromTemplate","$source","plugin","installed","pick","Source","sources","Raster","setOperation","hitTolerance","mount","unmount","subscribeAll","subscribeToInteractionChanges","subscribeTo","translateEvents","Interaction","getDefaultStyles","defaultStyles","getServices","getStyleTarget","$interaction","setStyle","_styles","scheduleRefresh","rotateEvents","openedTopMenu","nbActiveProjects","isSwitched","currentUserFullInfo","stopSwitchUser","realUser","openHotkeysModal","openAboutModal","isActive","linkClasses","iconPack","classes","listPathes","handler","newPath","activeElement","blur","immediate","closeProject","viewerPath","closeViewer","doCloseProject","filteredShortcuts","shortcut","k","categories","shortcuts","entries","startsWith","version","apiDocLink","displayResults","activate","deactivate","filteredProjects","highlightedName","htmlImageName","moreImages","moreProjects","totalNbResults","subsetProjects","subsetImages","NavbarDropdown","NavigationTree","CytomineSearcher","hotkeysModal","aboutModal","HotkeysModal","AboutCytomineModal","sendUsername","forgotUsername","resetPassword","forgotPassword","registering","register","success","allowedRegistration","communicationError","Buefy","defaultIconPack","Validator","extend","VeeValidate","i18nRootKey","i18n","Notifications","VTooltip","VueMoment","VueShortKey","prevent","vClickOutside","VueLayers","ZoomifySource","RasterSource","TranslateInteraction","RotateInteraction","Chart","plugins","unregister","helpers","merge","defaults","global","datalabels","anchor","align","clamp","productionTip","render","h","App","$mount"],"mappings":"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A,YAzEA,QA0EA,gBACA,4BA3EA,0GCjE8T,MCQ1T,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QCCf6jC,aAAIC,IAAIgvB,QAORjvB,aAAIC,IAAI41B,QAAO,CAACC,gBAAiB,QAGjCC,QAAUC,OAAO,YAAY,SAAA/iE,GAAK,OAAIkH,OAAOlH,GAAS,KACtD+sC,aAAIC,IAAIg2B,QAAa,CACnBC,YAAa,cACbC,QACAx8B,QAAQ,IAIVqG,aAAIC,IAAIm2B,MAGRp2B,aAAIC,IAAIo2B,SAGR,IAAMrxD,GAASga,EAAQ,QACvBghB,aAAIC,IAAIq2B,KAAW,CAACtxD,YAGpBg7B,aAAIC,IAAIs2B,KAAa,CAAEC,QAAS,CAAC,QAAS,WAAY,gBAGtDx2B,aAAIC,IAAIw2B,IAORz2B,aAAIC,IAAIy2B,SACR12B,aAAIC,IAAI02B,IACR32B,aAAIC,IAAI22B,IACR52B,aAAIC,IAAI42B,IACR72B,aAAIC,IAAI62B,IAIRC,KAAMC,QAAQC,WAAWlnC,MACzBgnC,KAAMG,QAAQC,MAAMJ,KAAMK,SAASC,OAAOL,QAAQM,WAAY,CAC5DC,OAAQ,MACRC,MAAO,MACPljC,OAAQ,EACRmjC,OAAO,IAKTz3B,aAAIgY,OAAO0f,eAAgB,EAC3B13B,aAAIlvC,UAAU61B,UAAY,IAAIqZ,aAE9B,IAAIA,aAAI,CACN23B,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,KACflV,UACAjqD,SACAy9D,UACC2B,OAAO,S,2DCpFV,W,6DCAA,W,oCCAA,W,6DCAA,W,8DCAA,W,6DCAA,W,oCCAA,W,kCCAA,W,gGCAA3lE,EAAOD,QAAU,IAA0B,2B,oFCA3C,W,2DCAA,W,uBCAAC,EAAOD,QAAU,IAA0B,0B,kCCA3C,W,oCCAA,W,8DCAA,W,oCCAA,W,8CCAAC,EAAOD,QAAU,IAA0B,gC,kFCA3C,W,kCCAA,W,2DCAA,W,2DCAA,W,oCCAA,W,sFCAA,W,6DCAA,W,oCCAA,W,2DCAA,W,yGCAA,W,kCCAA,W,2DCAA,W,sFCAA,W,oCCAA,W,oFCAA,W,gGCAAC,EAAOD,QAAU,IAA0B,0B,oCCA3C,W,sw5CCAAC,EAAOD,QAAU,IAA0B,yB,2DCA3C,W,kCCAA,W,kCCAA,W,gFCAA,W,yDCAA,W,kCCAA,W,yDCAA,W,kCCAA,W,kCCAA,W,iHCAAC,EAAOD,QAAU,IAA0B,wB,kCCA3C,W,kCCAA,W,kCCAA,W,yDCAA,W,kCCAA,W,8HCAA,W,yDCAA,Y,kCCAA,W,kCCAA,W,gFCAA,W,gFCAA,W,yDCAA,W,qJCAA,W,yDCAA,W,kCCAA,W,kCCAA,W,uGCAA,W,gFCAA,W,kCCAA,W,kCCAA,W,kCCAA,W,gFCAA,W,yDCAA,W,gFCAA,W,qBCAAC,EAAOD,QAAU,IAA0B,kC,yDCA3C,W,kCCAA,W,kCCAA,W,yDCAA,W,kCCAA,W,kCCAA,W,kCCAA,W,kCCAA,W,kCCAA,W,kCCAA","file":"js/app.c4711a64.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListJobs.vue?vue&type=style&index=0&id=9d96b340&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawTools.vue?vue&type=style&index=0&id=02cc6faa&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaleLine.vue?vue&type=style&index=0&id=66fc9522&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageName.vue?vue&type=style&index=0&id=2a983bb4&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutCytomineModal.vue?vue&type=style&index=0&id=7525c9fc&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCommentsModal.vue?vue&type=style&index=0&id=00a946fa&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectConnectionDetails.vue?vue&type=style&index=0&id=d6c43a1e&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageDetails.vue?vue&type=style&index=0&id=1ffffabd&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectConfiguration.vue?vue&type=style&index=0&id=7bd523cb&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineSearcher.vue?vue&type=style&index=0&id=420dbf64&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListProjects.vue?vue&type=style&index=0&id=e4e5a8a2&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReviewPanel.vue?vue&type=style&index=0&id=f97fe7e4&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTags.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListProjects.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralConfiguration.vue?vue&type=style&index=0&id=7819b418&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetails.vue?vue&type=style&index=0&id=10592d48&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityLogsItem.vue?vue&type=style&index=0&id=905a3ede&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareSourceButtons.vue?vue&type=style&index=0&id=426f24c6&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotkeysModal.vue?vue&type=style&index=0&id=2097f692&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSoftwares.vue?vue&type=style&index=0&id=6a89c4dc&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MembersActivity.vue?vue&type=style&index=0&id=819454d2&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/logo-cytomine-coop.4a5cd544.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineNavbar.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=style&index=0&id=9705f78a&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyDetails.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListUsernames.vue?vue&type=style&index=0&id=3b1c61de&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTable.vue?vue&type=style&index=0&id=2c405f02&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=941353a0&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProperties.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFileStatus.vue?vue&type=style&index=0&id=dcb91b00&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageNotFound.vue?vue&type=style&index=0&id=cbba54ee&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavbarDropdown.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/philips.5ab07c91.svg\";","module.exports = __webpack_public_path__ + \"img/hamamatsu.d2b568a4.jpg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareDetails.vue?vue&type=style&index=0&id=98ad7208&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddImageModal.vue?vue&type=style&index=0&id=4bf4c07a&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberActivityDetails.vue?vue&type=style&index=0&id=66eaa793&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProject.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminConfiguration.vue?vue&type=style&index=0&id=a2037cc6&scoped=true&lang=css&\"","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d833\",\n\t\"./ar-tn.js\": \"6d833\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a391\",\n\t\"./ne.js\": \"3a391\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminPanel.vue?vue&type=style&index=0&id=e5e0acac&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectMembers.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminDashboard.vue?vue&type=style&index=0&id=c86b88d6&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobParameterRow.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedFiles.vue?vue&type=style&index=0&id=c897d6d0&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineMultiselect.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUIProject.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageSelector.vue?vue&type=style&index=0&id=d428ec68&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageMetadataModal.vue?vue&type=style&index=0&id=c1c4df70&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading},on:{\"update:active\":function($event){_vm.loading=$event}}}),(!_vm.loading)?[(_vm.welcomeMessage)?_c('div',{staticClass:\"box\",domProps:{\"innerHTML\":_vm._s(_vm.welcomeMessage)}}):_vm._e(),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-two-thirds\"},[_c('div',{staticClass:\"box\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('recently-opened'))+\" \")]),(!_vm.recentProjects)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('failed-fetch-recent-projects'))+\" \")]):_c('b-table',{attrs:{\"data\":_vm.recentProjects},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar project = ref.row;\nreturn [_c('b-table-column',{attrs:{\"label\":_vm.$t('project'),\"width\":\"100\",\"centered\":\"\"}},[_c('router-link',{staticClass:\"project-name\",attrs:{\"to\":(\"/project/\" + (project.id))}},[_vm._v(\" \"+_vm._s(project.name)+\" \")])],1),_c('b-table-column',{attrs:{\"label\":_vm.$t('images'),\"width\":\"400\"}},[_c('list-images-preview',{attrs:{\"project\":project}})],1)]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-recent-project')))])])]},proxy:true}],null,false,4264962988)}),_c('p',{staticClass:\"has-text-centered all-projects\"},[_c('router-link',{staticClass:\"button is-link\",attrs:{\"to\":\"/projects\"}},[_vm._v(_vm._s(_vm.$t('view-all-projects')))])],1)],1)]),_c('div',{staticClass:\"column right-column\"},[_c('div',{staticClass:\"box stats\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('statistics'))+\" \")]),_c('table',{staticClass:\"table is-fullwidth\"},[_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.projects ? _vm.projects.length : \"?\"))]),_c('td',[_vm._v(_vm._s(_vm.$t('projects')))]),_c('td',[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t('number-projects-info-message')))])]},proxy:true}],null,false,2258136266)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.nbImages != null ? _vm.nbImages : \"?\"))]),_c('td',[_vm._v(_vm._s(_vm.$t('images')))]),_c('td',[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t('number-images-info-message')))])]},proxy:true}],null,false,2856895864)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.nbUserAnnots != null ? _vm.nbUserAnnots : \"?\"))]),_c('td',[_vm._v(_vm._s(_vm.$t('user-annotations')))]),_c('td',[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t('number-annotations-info-message')))])]},proxy:true}],null,false,3793819640)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.nbReviewed != null ? _vm.nbReviewed : \"?\"))]),_c('td',[_vm._v(_vm._s(_vm.$t('reviewed-annotations')))]),_c('td',[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t('number-reviewed-annotations-info-message')))])]},proxy:true}],null,false,4053539854)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)])])])]),_c('div',{staticClass:\"box\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('last-opened-image'))+\" \")]),(_vm.lastOpenedImage)?_c('image-preview',{attrs:{\"image\":_vm.lastOpenedImage,\"fullHeightCard\":false,\"showProject\":true,\"blindMode\":_vm.lastOpenedImage.blindMode}}):_c('div',{staticClass:\"has-text-grey has-text-centered\"},[_vm._v(\" \"+_vm._s(_vm.$t('no-recent-image'))+\" \")])],1)])])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n// Helpers for vuex (inspired by https://github.com/davestewart/vuex-pathify)\n\nimport _ from 'lodash';\n\n/**\n * @typedef {Object} Options\n * @property {String|Array} rootModuleProp  The name of the component property containing the path to the root module to\n *                                          use; this root path will be prefixed to the provided path\n * @property {Number} debounced The debounce delay\n */\n\n/**\n * Getter for a computed property allowing to easily retrieve the value of a store property\n * This function must be called from a Vue.js component\n * @example\n * computed: {\n *   myProp: get('myModule/myProp')\n * }\n *\n * @example\n * computed: {\n *   myProp: sync('myProp', {rootModuleProp: 'modulePath'}),\n *   modulePath() {\n *     return 'myModule';\n *   }\n * }\n *\n * @param {String|Array<String>} path Store path to the property\n * @param {Options} [options] Options refining the way to get the property\n * @returns A computed getter for the targetted property\n */\nexport function get(path, options={}) {\n  path = arrayPath(path);\n  return {\n    get() {\n      return getValue(this.$store, fullPath(path, this, options));\n    },\n  };\n}\n\n/**\n * Provides getter and setter for a computed property that should be synchronized with a store property\n * This function must be called from a Vue.js component\n * @example\n * computed: {\n *   myProp: sync('myModule/myProp')\n * }\n *\n * @param {String|Array<String>} path Store path to the property\n * @param {Options} [options] Options refining the way to sync the property\n * @returns Computed getter and setter for the targetted property\n */\nexport function sync(path, options={}) {\n  path = arrayPath(path);\n  return {\n    ...get(path, options),\n    set: debounce(function(value) {\n      this.$store.commit(getMutationName(fullPath(path, this, options)), value);\n    }, options)\n  };\n}\n\n/**\n * Provides getter and setter for a computed property that should be synchronized with a simple filter\n * stored in Vuex\n * This function must be called from a Vue.js component and the targetted module should be constructed as shown\n * in the example\n * @example\n * // Vue.js component\n * computed: {\n *   myFilter: sync('myModule', 'myFilter'),\n * }\n * // myModule structure\n * namespaced: true,\n * state: {\n *   filters: {\n *     myFilter: null // null value for inactive filter\n *   }\n * },\n * mutations: {\n *   setFilter(state, {filterName, propValue}) {\n *     state.filters[filterName] = propValue;\n *   },\n * }\n *\n *\n * @param {String|Array<String>} modulePath Path to the store module containing the filters\n * @param {String} filterName The name of the filter property\n * @param {Options} [options] Options refining the way to sync the filter\n * @returns Computed getter and setter for the targetted filter\n */\nexport function syncFilter(modulePath, filterName, options={}) {\n  modulePath = arrayPath(modulePath);\n\n  return {\n    get() {\n      return getValue(this.$store, fullPath(modulePath, this, options)).filters[filterName];\n    },\n    set(propValue) {\n      let path = fullPath(modulePath, this, options);\n      this.$store.commit(path.join('/') + '/setFilter', {filterName, propValue});\n    }\n  };\n}\n\n/**\n * Provides getter and setter for a computed property that should be synchronized with a bounds filter (min, max bounds)\n * stored in Vuex\n * This function must be called from a Vue.js component, that also defines a property giving the max upper bound, and the\n * targetted module should be constructed as shown in the example\n * @example\n * // Vue.js component\n * computed: {\n *   myFilter: sync('myModule', 'myFilter', 'maxValue'),\n *   maxValue() {return 15;}\n * }\n * // myModule structure\n * namespaced: true,\n * state: {\n *   filters: {\n *     myFilter: null // null value for inactive filter (computed property will be equal to [0, maxValue])\n *   }\n * },\n * mutations: {\n *   setFilter(state, {filterName, propValue}) {\n *     state.filters[filterName] = propValue;\n *   },\n * }\n *\n *\n * @param {String|Array<String>} modulePath Path to the store module containing the filters\n * @param {String} filterName The name of the filter property\n * @param {String} maxProp The name of the component property containing the max allowed value\n * @param {Options} [options] Options refining the way to sync the filter\n * @returns Computed getter and setter for the targetted filter\n */\nexport function syncBoundsFilter(modulePath, filterName, maxProp, options={}) {\n  modulePath = arrayPath(modulePath);\n\n  return {\n    get() {\n      let value = getValue(this.$store, fullPath(modulePath, this, options)).filters[filterName];\n      return value ? value : [0, this[maxProp]];\n    },\n    set: debounce(function(bounds) {\n      let path = fullPath(modulePath, this, options);\n      let propValue = bounds[0] !== 0 || bounds[1] !== this[maxProp] ? bounds : null;\n      this.$store.commit(path.join('/') + '/setFilter', {filterName, propValue});\n    }, options)\n  };\n}\n\n/**\n * Provides getter and setter for a computed property that should be synchronized with a multiselect filter stored in Vuex\n * This function must be called from a Vue.js component, that also defines a property giving the available options, and the\n * targetted module should be constructed as shown in the example\n * @example\n * // Vue.js component\n * computed: {\n *   myFilter: sync('myModule', 'myFilter', 'availableOptions'),\n *   availableOptions() {return [1, 2, 3];}\n * }\n * // myModule structure\n * namespaced: true,\n * state: {\n *   filters: {\n *     myFilter: null // null value for inactive filter (computed property will be equal to copy of available options)\n *   }\n * },\n * mutations: {\n *   setFilter(state, {filterName, propValue}) {\n *     state.filters[filterName] = propValue;\n *   },\n * }\n *\n *\n * @param {String|Array<String>} path Path to the store module containing the filters\n * @param {String} filterName The name of the filter property\n * @param {String} optionsProp The name of the component property containing the available options\n * @param {Options} [options] Options refining the way to sync the filter\n * @returns Computed getter and setter for the targetted filter\n */\nexport function syncMultiselectFilter(modulePath, filterName, optionsProp, options={}) {\n  modulePath = arrayPath(modulePath);\n\n  return {\n    get() {\n      let value = getValue(this.$store, fullPath(modulePath, this, options)).filters[filterName];\n      return value ? value : this[optionsProp].slice();\n    },\n    set: debounce(function(selectedOptions) {\n      let path = fullPath(modulePath, this, options);\n      let propValue = (selectedOptions.length === this[optionsProp].length) ? null : selectedOptions;\n      this.$store.commit(path.join('/') + '/setFilter', {filterName, propValue});\n    }, options)\n  };\n}\n\n// wrapper for lodash debounce that debounces the function iff the debounce delay specified in options is > 0\nfunction debounce(fct, options) {\n  if(options.debounce) {\n    return _.debounce(fct, options.debounce);\n  }\n  else {\n    return fct;\n  }\n}\n\nfunction arrayPath(path) {\n  if(!path) {\n    return [];\n  }\n  if(Array.isArray(path)) {\n    return path;\n  }\n  if(typeof path === 'string') {\n    return path.split('/');\n  }\n  throw new Error('Path must be a string or an array');\n}\n\nfunction fullPath(path, component, options) {\n  if(options.rootModuleProp) {\n    path = arrayPath(component[options.rootModuleProp]).concat(path);\n  }\n  return path;\n}\n\nfunction getValue(store, path) {\n  let obj = store.state;\n  for(let i = 0; i < path.length; i++) {\n    obj = obj[path[i]];\n  }\n  return obj;\n}\n\nfunction getMutationName(path) {\n  let variableName = path[path.length - 1];\n  let modulePath = path.slice(0, path.length -1);\n  return modulePath.join('/') + '/set' + variableName.charAt(0).toUpperCase() + variableName.slice(1);\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.images && _vm.images.length)?_c('div',{staticClass:\"columns\"},[_vm._l((_vm.images),function(image){return _c('div',{key:image.image,staticClass:\"column\"},[_c('image-preview',{attrs:{\"image\":image,\"blindMode\":_vm.project.blindMode}})],1)}),_c('div',{staticClass:\"column is-narrow vertical-center\"},[_c('router-link',{staticClass:\"button\",attrs:{\"to\":(\"/project/\" + (this.project.id) + \"/images\")}},[_vm._v(_vm._s(_vm.$t('button-view-all')))])],1)],2):_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('no-image-recently-opened'))+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\",class:{'full-height-card': _vm.fullHeightCard}},[_c('router-link',{staticClass:\"card-image recent-image\",attrs:{\"to\":(\"/project/\" + (_vm.image.project) + \"/image/\" + _vm.idImage)}},[_c('figure',{staticClass:\"image is-5by3\",style:(_vm.figureStyle)})]),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('p',[_c('router-link',{attrs:{\"to\":(\"/project/\" + (_vm.image.project) + \"/image/\" + _vm.idImage)}},[(_vm.blindMode)?_c('span',{staticClass:\"blind-indication\"},[_vm._v(\"[\"+_vm._s(this.$t('blinded-name-indication'))+\"]\")]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.image.blindedName || _vm.image.instanceFilename || _vm.image.imageName)+\" \"),(_vm.showProject)?_c('span',{staticClass:\"in-project\"},[_vm._v(\"(\"+_vm._s(_vm.$t('in-project', {projectName: _vm.image.projectName}))+\")\")]):_vm._e()])],1),_vm._t(\"default\")],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"card\" :class=\"{'full-height-card': fullHeightCard}\">\n  <router-link class=\"card-image recent-image\" :to=\"`/project/${image.project}/image/${idImage}`\">\n    <figure class=\"image is-5by3\" :style=\"figureStyle\">\n    </figure>\n  </router-link>\n  <div class=\"card-content\">\n    <div class=\"content\">\n      <p>\n        <router-link :to=\"`/project/${image.project}/image/${idImage}`\">\n          <span v-if=\"blindMode\" class=\"blind-indication\">[{{this.$t('blinded-name-indication')}}]</span>\n          {{ image.blindedName || image.instanceFilename || image.imageName }}\n          <span v-if=\"showProject\" class=\"in-project\">({{$t('in-project', {projectName: image.projectName})}})</span>\n        </router-link>\n      </p>\n      <slot></slot>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  name: 'image-preview',\n  props: {\n    image: {type: Object},\n    fullHeightCard: {type: Boolean, default: true},\n    showProject: {type: Boolean, default: false},\n    blindMode: {type: Boolean, default: false},\n  },\n  computed: {\n    idImage() {\n      return this.image.image || this.image.id; // if provided object is image consultation, image.image\n    },\n    figureStyle() {\n      return {backgroundImage: `url(\"${(this.image.thumb || this.image.imageThumb)}\")`};\n    }\n  }\n};\n</script>\n\n<style scoped>\n.image {\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: cover;\n  position: relative;\n  border-bottom: 1px solid #ddd;\n}\n\n.card.full-height-card {\n  height: 100%;\n}\n\n.card-content {\n  padding: 1.5rem;\n  overflow-wrap: break-word;\n}\n\n.card-content a {\n  font-weight: 600;\n}\n\n.blind-indication {\n  font-size: 0.9em;\n  text-transform: uppercase;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImagePreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImagePreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImagePreview.vue?vue&type=template&id=56aa8af0&scoped=true&\"\nimport script from \"./ImagePreview.vue?vue&type=script&lang=js&\"\nexport * from \"./ImagePreview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImagePreview.vue?vue&type=style&index=0&id=56aa8af0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56aa8af0\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"columns\" v-if=\"images && images.length\">\n  <div class=\"column\" v-for=\"image in images\" :key=\"image.image\">\n    <image-preview :image=\"image\" :blindMode=\"project.blindMode\" />\n  </div>\n  <div class=\"column is-narrow vertical-center\">\n    <router-link class=\"button\" :to=\"`/project/${this.project.id}/images`\">{{$t('button-view-all')}}</router-link>\n  </div>\n</div>\n<div v-else>\n  {{$t('no-image-recently-opened')}}\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport {ImageInstanceCollection} from 'cytomine-client';\n\nimport ImagePreview from './ImagePreview';\n\nexport default {\n  name: 'list-images-preview',\n  components: {ImagePreview},\n  props: {\n    project: Object,\n    nbRecent: {\n      type: Number,\n      default: 3\n    }\n  },\n  data() {\n    return {\n      images: []\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user')\n  },\n  async created() {\n    this.images = await ImageInstanceCollection.fetchLastOpened({\n      max: this.nbRecent,\n      project: this.project.id,\n      user: this.currentUser.id\n    });\n  }\n};\n</script>\n\n<style scoped>\n.column:not(.is-narrow) {\n  max-width: 12.5rem;\n  min-width: 12.5rem;\n}\n\n.vertical-center {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListImagesPreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListImagesPreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListImagesPreview.vue?vue&type=template&id=54a5cece&scoped=true&\"\nimport script from \"./ListImagesPreview.vue?vue&type=script&lang=js&\"\nexport * from \"./ListImagesPreview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListImagesPreview.vue?vue&type=style&index=0&id=54a5cece&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54a5cece\",\n  null\n  \n)\n\nexport default component.exports","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nexport default {\n  CYTOMINE_CORE_HOST: 'http://localhost-core',\n  CYTOMINE_UPLOAD_HOST: 'http://localhost-upload',\n  STOP_PREVIEW_KEYWORD: 'STOP_PREVIEW',\n  DIGITAL_ZOOM_INCREMENT: 4,\n  // Refresh intervals (expressed in milliseconds)\n  VIEWER_ANNOTATIONS_REFRESH_INTERVAL: 10000,\n  MEMBERS_ACTIVITY_REFRESH_INTERVAL: 30000,\n  PING_INTERVAL: 20000, // should be lower than 30 seconds (otherwise, not counted in backend)\n  JOB_DETAILS_REFRESH_INTERVAL: 2000,\n  JOB_LOGS_REFRESH_INTERVAL: 5000,\n  TASK_REFRESH_INTERVAL: 1000,\n  STORAGE_REFRESH_INTERVAL: 10000,\n  ONGOING_UPLOAD_REFRESH_INTERVAL: 500,\n  SAVE_POSITION_IN_IMAGE_INTERVAL: 5000, // position also stored each time the user moves in the image\n  BROADCASTING_USERS_REFRESH_INTERVAL: 10000,\n  TRACKING_REFRESH_INTERVAL: 500,\n  // ---\n  IDLE_DURATION: 120, // if the user does not move his mouse on the page during this duration, he is considered as inactive - no more ping (expressed in seconds)\n  CONFIG_KEY_WELCOME: 'WELCOME',\n  PREFIX_HIDDEN_PROPERTY_KEY: '@',\n  DEFAULT_PROPERTY_KEY: '@DEFAULT_PROPERTY',\n};\n","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"content-wrapper\">\n  <b-loading :is-full-page=\"false\" :active.sync=\"loading\" />\n\n  <template v-if=\"!loading\">\n    <div v-if=\"welcomeMessage\" class=\"box\" v-html=\"welcomeMessage\"></div>\n\n    <div class=\"columns\">\n      <div class=\"column is-two-thirds\">\n        <div class=\"box\">\n          <h2> {{ $t('recently-opened') }} </h2>\n          <b-message v-if=\"!recentProjects\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n            {{$t('failed-fetch-recent-projects')}}\n          </b-message>\n          <b-table v-else :data=\"recentProjects\">\n\n            <template #default=\"{row: project}\">\n              <b-table-column :label=\"$t('project')\" width=\"100\" centered>\n                <router-link class=\"project-name\" :to=\"`/project/${project.id}`\">\n                  {{ project.name }}\n                </router-link>\n              </b-table-column>\n\n              <b-table-column :label=\"$t('images')\" width=\"400\">\n                <list-images-preview :project=\"project\" />\n              </b-table-column>\n            </template>\n\n            <template #empty>\n              <div class=\"content has-text-grey has-text-centered\">\n                <p>{{$t('no-recent-project')}}</p>\n              </div>\n            </template>\n          </b-table>\n\n          <p class=\"has-text-centered all-projects\">\n            <router-link class=\"button is-link\" to=\"/projects\">{{$t('view-all-projects')}}</router-link>\n          </p>\n        </div>\n      </div>\n\n      <div class=\"column right-column\">\n        <div class=\"box stats\">\n          <h2> {{ $t('statistics') }} </h2>\n          <table class=\"table is-fullwidth\">\n            <tbody>\n              <tr>\n                <td>{{projects ? projects.length : \"?\"}}</td>\n                <td>{{$t('projects')}}</td>\n                <td>\n                  <v-popover>\n                    <i class=\"fas fa-info-circle\"></i>\n                    <template #popover>\n                      <p>{{$t('number-projects-info-message')}}</p>\n                    </template>\n                  </v-popover>\n                </td>\n              </tr>\n              <tr>\n                <td>{{nbImages != null ? nbImages : \"?\"}}</td>\n                <td>{{$t('images')}}</td>\n                <td>\n                  <v-popover>\n                    <i class=\"fas fa-info-circle\"></i>\n                    <template #popover>\n                      <p>{{$t('number-images-info-message')}}</p>\n                    </template>\n                  </v-popover>\n                </td>\n              </tr>\n              <tr>\n                <td>{{nbUserAnnots != null ? nbUserAnnots : \"?\"}}</td>\n                <td>{{$t('user-annotations')}}</td>\n                <td>\n                  <v-popover>\n                    <i class=\"fas fa-info-circle\"></i>\n                    <template #popover>\n                      <p>{{$t('number-annotations-info-message')}}</p>\n                    </template>\n                  </v-popover>\n                </td>\n              </tr>\n              <tr>\n                <td>{{nbReviewed != null ? nbReviewed : \"?\"}}</td>\n                <td>{{$t('reviewed-annotations')}}</td>\n                <td>\n                  <v-popover>\n                    <i class=\"fas fa-info-circle\"></i>\n                    <template #popover>\n                      <p>{{$t('number-reviewed-annotations-info-message')}}</p>\n                    </template>\n                  </v-popover>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n        <div class=\"box\">\n          <h2> {{ $t('last-opened-image') }} </h2>\n          <image-preview\n            v-if=\"lastOpenedImage\"\n            :image=\"lastOpenedImage\"\n            :fullHeightCard=\"false\"\n            :showProject=\"true\"\n            :blindMode=\"lastOpenedImage.blindMode\"\n          />\n          <div class=\"has-text-grey has-text-centered\" v-else>\n            {{$t('no-recent-image')}}\n          </div>\n        </div>\n      </div>\n    </div>\n  </template>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport ListImagesPreview from '@/components/image/ListImagesPreview';\nimport ImagePreview from '@/components/image/ImagePreview';\n\nimport {ImageInstanceCollection, ProjectCollection, Configuration} from 'cytomine-client';\n\nimport constants from '@/utils/constants.js';\n\nexport default {\n  name: 'global-dashboard',\n  components: {\n    ListImagesPreview,\n    ImagePreview\n  },\n  props: {\n    nbRecent: {\n      type: Number,\n      default: 3\n    }\n  },\n  data() {\n    return {\n      projects: null,\n      recentProjectsId: null,\n      recentImages: [],\n      nbUserAnnots: null,\n      nbReviewed: null,\n      welcomeMessage: null,\n      loading: true\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n\n    nbImages() {\n      if(!this.projects) {\n        return;\n      }\n\n      return this.projects.array.reduce((count, project) => {\n        return count + project.numberOfImages;\n      }, 0);\n    },\n    recentProjects() {\n      if(!this.recentProjectsId || !this.projects) {\n        return;\n      }\n\n      let array = [];\n      this.recentProjectsId.forEach(id => {\n        let project = this.projects.array.find(project => project.id === id);\n        if(project) {\n          array.push(project);\n        }\n      });\n      return array;\n    },\n    lastOpenedImage() {\n      if(this.recentImages && this.recentImages.length > 0 && this.projects) {\n        let lastOpened = this.recentImages[0];\n        let project = this.projects.array.find(project => project.id === lastOpened.project);\n        if(project) {\n          lastOpened.projectName = project.name;\n          lastOpened.blindMode = project.blindMode;\n        }\n        return lastOpened;\n      }\n    }\n  },\n  methods: {\n    async fetchProjects() {\n      this.projects = await ProjectCollection.fetchAll();\n    },\n    async fetchNbAnnots() {\n      this.nbUserAnnots = await this.currentUser.fetchNbAnnotations();\n    },\n    async fetchNbReviewedAnnots() {\n      this.nbReviewed = await this.currentUser.fetchNbAnnotations(true);\n    },\n    async fetchRecentProjectsId() {\n      let listRecent = await ProjectCollection.fetchLastOpened(this.nbRecent);\n      this.recentProjectsId = listRecent.map(recent => recent.id);\n    },\n    async fetchRecentImages() {\n      this.recentImages = await ImageInstanceCollection.fetchLastOpened({max: 1});\n    },\n    async fetchWelcomeMessage() {\n      try {\n        this.welcomeMessage = (await Configuration.fetch(constants.CONFIG_KEY_WELCOME)).value;\n      }\n      catch(error) {\n        // no welcome message defined\n      }\n    }\n  },\n  async created() {\n    await Promise.all([\n      this.fetchProjects(),\n      this.fetchNbAnnots(),\n      this.fetchNbReviewedAnnots(),\n      this.fetchRecentProjectsId(),\n      this.fetchRecentImages(),\n      this.fetchWelcomeMessage()\n    ].map(p => p.catch(e => console.log(e)))); // ignore errors (handled in template) and ensure all promises finish, even if some errors occur in the process\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\ntd {\n  vertical-align: middle !important;\n}\n\na.project-name {\n  font-weight: 600;\n  font-size: 1.1rem;\n}\n\n.all-projects {\n  margin-top: 1rem;\n}\n\n.right-column {\n  display: flex;\n  flex-direction: column;\n}\n\n.stats {\n  padding-bottom: 2.5rem;\n}\n\ntd:first-child {\n  font-weight: 600;\n  text-align: right;\n  width: 25%;\n}\n\n.fas.fa-info-circle {\n  cursor: pointer;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalDashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalDashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GlobalDashboard.vue?vue&type=template&id=3c1c3e9c&scoped=true&\"\nimport script from \"./GlobalDashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./GlobalDashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GlobalDashboard.vue?vue&type=style&index=0&id=3c1c3e9c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c1c3e9c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list-projects-wrapper content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('unexpected-error-info-message')))])]):(!_vm.loading)?_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('projects'))+\" \"),(!_vm.currentUser.guestByNow)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){_vm.creationModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('new-project'))+\" \")]):_vm._e()]),_c('div',{staticClass:\"panel-block\"},[_c('div',{staticClass:\"search-block\"},[_c('b-input',{staticClass:\"search-projects\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.toggleFilterDisplay()}}},[_vm._m(0),_c('span',[_vm._v(\" \"+_vm._s(_vm.filtersOpened ? _vm.$t('button-hide-filters') : _vm.$t('button-show-filters'))+\" \")]),(_vm.nbActiveFilters)?_c('span',{staticClass:\"nb-active-filters\"},[_vm._v(\" \"+_vm._s(_vm.nbActiveFilters)+\" \")]):_vm._e()])],1),_c('b-collapse',{attrs:{\"open\":_vm.filtersOpened}},[_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('ontology'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableOntologies,\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"allPlaceholder\":_vm.$t('all-ontologies')},model:{value:(_vm.selectedOntologies),callback:function ($$v) {_vm.selectedOntologies=$$v},expression:\"selectedOntologies\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('my-role'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableRoles,\"multiple\":\"\",\"searchable\":false},model:{value:(_vm.selectedRoles),callback:function ($$v) {_vm.selectedRoles=$$v},expression:\"selectedRoles\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('tags'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableTags,\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"allPlaceholder\":_vm.$t('all')},model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})],1)])]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('members'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbMembers},model:{value:(_vm.boundsMembers),callback:function ($$v) {_vm.boundsMembers=$$v},expression:\"boundsMembers\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('images'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbImages},model:{value:(_vm.boundsImages),callback:function ($$v) {_vm.boundsImages=$$v},expression:\"boundsImages\"}})],1)]),_c('div',{staticClass:\"column\"})]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('user-annotations'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbUserAnnotations},model:{value:(_vm.boundsUserAnnotations),callback:function ($$v) {_vm.boundsUserAnnotations=$$v},expression:\"boundsUserAnnotations\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('analysis-annotations'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbJobAnnotations},model:{value:(_vm.boundsJobAnnotations),callback:function ($$v) {_vm.boundsJobAnnotations=$$v},expression:\"boundsJobAnnotations\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('reviewed-annotations'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbReviewedAnnotations},model:{value:(_vm.boundsReviewedAnnotations),callback:function ($$v) {_vm.boundsReviewedAnnotations=$$v},expression:\"boundsReviewedAnnotations\"}})],1)])])])]),_c('cytomine-table',{staticClass:\"table-projects\",attrs:{\"collection\":_vm.projectCollection,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"openedDetailed\":_vm.openedDetails,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar project = ref.row;\nreturn [_c('b-table-column',{attrs:{\"field\":\"currentUserRole\",\"label\":\"\",\"centered\":\"\",\"width\":\"1\",\"sortable\":\"\"}},[_c('icon-project-member-role',{attrs:{\"is-manager\":project.currentUserRoles.admin,\"is-representative\":project.currentUserRoles.representative}})],1),_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"250\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (project.id))}},[_vm._v(\" \"+_vm._s(project.name)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"membersCount\",\"label\":_vm.$t('members'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(project.membersCount)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"numberOfImages\",\"label\":_vm.$t('images'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (project.id) + \"/images\")}},[_vm._v(_vm._s(project.numberOfImages))])],1),_c('b-table-column',{attrs:{\"field\":\"numberOfAnnotations\",\"label\":_vm.$t('user-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (project.id) + \"/annotations?type=user\")}},[_vm._v(\" \"+_vm._s(project.numberOfAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"numberOfJobAnnotations\",\"label\":_vm.$t('analysis-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (project.id) + \"/annotations?type=algo\")}},[_vm._v(\" \"+_vm._s(project.numberOfJobAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"numberOfReviewedAnnotations\",\"label\":_vm.$t('reviewed-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (project.id) + \"/annotations?type=reviewed\")}},[_vm._v(\" \"+_vm._s(project.numberOfReviewedAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"lastActivity\",\"label\":_vm.$t('last-activity'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"180\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(project.lastActivity),'ll'))+\" \")]),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\",\"width\":\"150\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":(\"/project/\" + (project.id))}},[_vm._v(\" \"+_vm._s(_vm.$t('button-open'))+\" \")])],1)]}},{key:\"detail\",fn:function(ref){\nvar project = ref.row;\nreturn [_c('project-details',{attrs:{\"project\":project,\"excluded-properties\":_vm.excludedProperties,\"editable\":\"\"},on:{\"update\":function($event){return _vm.updateProject()},\"delete\":function($event){return _vm.deleteProject(project)}}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-project')))])])]},proxy:true}])}),_c('div',{staticClass:\"legend\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('legend')))]),_c('p',[_c('icon-project-member-role'),_vm._v(\" : \"+_vm._s(_vm.$t('contributor-icon-label')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('manager-icon-label')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true,\"is-representative\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('representative-icon-label')))],1)])],1)]):_vm._e(),_c('add-project-modal',{attrs:{\"active\":_vm.creationModal,\"ontologies\":_vm.ontologies},on:{\"update:active\":function($event){_vm.creationModal=$event}}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-filter\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._t(\"error\",[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])])],2):_c('div',{staticClass:\"cytomine-table-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":!_vm.data}}),(_vm.data)?_c('b-table',{attrs:{\"data\":_vm.data,\"loading\":_vm.loading,\"paginated\":\"\",\"backend-pagination\":\"\",\"total\":_vm.total,\"per-page\":_vm.internalPerPage,\"current-page\":_vm.internalCurrentPage,\"pagination-size\":\"is-small\",\"detailed\":_vm.detailed,\"detail-key\":_vm.detailKey,\"opened-detailed\":_vm.openedDetailed.slice(),\"backend-sorting\":\"\",\"default-sort\":_vm.sort,\"default-sort-direction\":_vm.order,\"checkable\":_vm.checkable,\"checked-rows\":_vm.internalCheckedRows,\"is-row-checkable\":_vm.isRowCheckable},on:{\"update:currentPage\":function($event){_vm.internalCurrentPage=$event},\"update:current-page\":function($event){_vm.internalCurrentPage=$event},\"update:openedDetailed\":function($event){return _vm.$emit('update:openedDetailed', $event)},\"update:checkedRows\":function($event){_vm.internalCheckedRows=$event},\"update:checked-rows\":function($event){_vm.internalCheckedRows=$event},\"sort\":_vm.updateSort},scopedSlots:_vm._u([{key:\"header\",fn:function(ref){\nvar column = ref.column;\nreturn [_vm._t(\"header\",[_vm._v(\" \"+_vm._s(column.label)+\" \")],{\"column\":column,\"index\":_vm.index})]}},{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._t(\"default\",null,{\"row\":row,\"index\":index})]}},{key:\"detail\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._t(\"detail\",null,{\"row\":row,\"index\":index})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_vm._t(\"empty\",[_vm._v(\" \"+_vm._s(_vm.$t('no-result'))+\" \")],{\"row\":_vm.row,\"index\":_vm.index})],2)]},proxy:true},{key:\"footer\",fn:function(){return [_vm._t(\"footer\")]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.internalPerPage),callback:function ($$v) {_vm.internalPerPage=$$v},expression:\"internalPerPage\"}},_vm._l((_vm.perPageOptions),function(option){return _c('option',{key:option,domProps:{\"value\":option}},[_vm._v(\" \"+_vm._s(_vm.$t('count-per-page', {count: option}))+\" \")])}),0)]},proxy:true}],null,true)}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n  <slot name=\"error\">\n    <h2> {{ $t('error') }} </h2>\n    <p> {{ $t('unexpected-error-info-message') }} </p>\n  </slot>\n</b-message>\n<div v-else class=\"cytomine-table-wrapper\">\n  <b-loading :is-full-page=\"false\" :active=\"!data\" />\n  <b-table\n    v-if=\"data\"\n    :data=\"data\"\n    :loading=\"loading\"\n    paginated\n    backend-pagination\n    :total=\"total\"\n    :per-page=\"internalPerPage\"\n    :current-page.sync=\"internalCurrentPage\"\n    pagination-size=\"is-small\"\n    :detailed=\"detailed\"\n    :detail-key=\"detailKey\"\n    :opened-detailed=\"openedDetailed.slice()\" @update:openedDetailed=\"$emit('update:openedDetailed', $event)\"\n    backend-sorting\n    :default-sort=\"sort\"\n    :default-sort-direction=\"order\"\n    :checkable=\"checkable\"\n    :checked-rows.sync=\"internalCheckedRows\"\n    :is-row-checkable=\"isRowCheckable\"\n    @sort=\"updateSort\"\n  >\n    <template #header=\"{column}\">\n      <slot name=\"header\" :column=\"column\" :index=\"index\">\n        {{ column.label }}\n      </slot>\n    </template>\n\n    <template #default=\"{row, index}\">\n      <slot :row=\"row\" :index=\"index\"></slot>\n    </template>\n\n    <template #detail=\"{row, index}\">\n      <slot name=\"detail\" :row=\"row\" :index=\"index\"></slot>\n    </template>\n\n    <template #empty>\n      <div class=\"content has-text-grey has-text-centered\">\n        <slot name=\"empty\" :row=\"row\" :index=\"index\">\n          {{$t('no-result')}}\n        </slot>\n      </div>\n    </template>\n\n    <template #footer>\n      <slot name=\"footer\"></slot>\n    </template>\n\n    <template #bottom-left>\n      <b-select v-model=\"internalPerPage\" size=\"is-small\">\n        <option v-for=\"option in perPageOptions\" :key=\"option\" :value=\"option\">\n          {{$t('count-per-page', {count: option})}}\n        </option>\n      </b-select>\n    </template>\n  </b-table>\n</div>\n</template>\n\n<script>\nexport default {\n  name: 'cytomine-table',\n  props: {\n    collection: Object,\n    perPageOptions: {type: Array, default: () => [10, 25, 50, 100]},\n    perPage: {type: Number, default: 25},\n    currentPage: {type: Number, default: 1},\n    detailed: {type: Boolean, default: true},\n    detailKey: {type: String, default: 'id'},\n    openedDetailed: {type: Array, default: () => []},\n    sort: {type: String},\n    order: {type: String, default: 'asc'},\n    revision: Number, // updating this value will result in update of table data\n    refreshInterval: {type: Number, default: 0}, // if > 0, table data will be refreshed according to refreshInterval (expressed in ms)\n    checkable: {type: Boolean, default: false},\n    checkedRows: {type: Array, default: () => []},\n    isRowCheckable: { type: Function }\n  },\n  data() {\n    return {\n      index: 0,\n      row: null,\n\n      data: null,\n      error: false,\n      loading: true,\n      total: 0,\n      internalCheckedRows: [],\n      internalCurrentPage: null,\n      internalPerPage: null,\n      internalSort: null,\n      internalOrder: null,\n      timeout: null\n    };\n  },\n  computed: {\n    internalCollection() {\n      let collection = this.collection.clone();\n      collection.max = this.internalPerPage;\n      collection.sort = this.internalSort;\n      collection.order = this.internalOrder;\n      return collection;\n    }\n  },\n  watch: {\n    internalCollection() {\n      this.fetchPage(true);\n    },\n    internalCurrentPage(page, previousValue) {\n      if(previousValue) { // do not trigger change for value initialization\n        this.$emit('update:currentPage', page);\n        this.fetchPage(true);\n      }\n    },\n    internalCheckedRows(chckedRows) {\n      this.$emit('update:checkedRows', chckedRows);\n    },\n    internalPerPage(perPage) {\n      this.$emit('update:perPage', perPage);\n    },\n    revision() {\n      this.fetchPage();\n    },\n    refreshInterval(value) {\n      if(value === 0) {\n        clearTimeout(this.timeout);\n        this.timeout = null;\n      }\n      else if(!this.timeout) { // user provided a valid refresh interval, and no fetch page planned => relaunch fetch page\n        this.fetchPage();\n      }\n    }\n  },\n  methods: {\n    updateSort(sort, order) {\n      this.internalSort = sort;\n      this.internalOrder = order;\n      this.$emit('update:sort', sort);\n      this.$emit('update:order', order);\n    },\n    async fetchPage(showLoading=false) {\n      if(showLoading) {\n        this.loading = true;\n      }\n\n      try {\n        let data = await this.internalCollection.fetchPage(this.internalCurrentPage - 1);\n        this.data = data.array;\n        this.total = data.totalNbItems;\n\n        //as data is refetched, we need to update the selected rows\n        this.internalCheckedRows = this.data.filter(member => {\n          return this.internalCheckedRows.map(u => u.id).includes(member.id);\n        });\n\n        this.$emit('update:checkedRows', this.internalCheckedRows);\n        this.$emit('update:data', data);\n      }\n      catch(error) {\n        if(this.internalCurrentPage > 1) { // error may be due to the page number (not enough elements) => retry on first page\n          this.internalCurrentPage = 1;\n          return;\n        }\n\n        console.log(error);\n        this.error = true;\n        return;\n      }\n\n      this.loading = false;\n\n      clearTimeout(this.timeout);\n      if(this.refreshInterval) {\n        this.timeout = setTimeout(this.fetchPage, this.refreshInterval);\n      }\n    },\n  },\n  created() {\n    this.internalCurrentPage = this.currentPage;\n    this.internalPerPage = this.perPage;\n    this.internalSort = this.sort;\n    this.internalOrder = this.order;\n    this.internalCheckedRows = this.checkedRows;\n  }\n};\n</script>\n\n<style scoped>\n.cytomine-table-wrapper {\n  min-height: 10em;\n  position: relative;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineTable.vue?vue&type=template&id=2c405f02&scoped=true&\"\nimport script from \"./CytomineTable.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineTable.vue?vue&type=style&index=0&id=2c405f02&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c405f02\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('multiselect',{attrs:{\"value\":_vm.value,\"label\":_vm.label,\"track-by\":_vm.trackBy,\"group-label\":_vm.groupLabel,\"group-values\":_vm.groupValues,\"group-select\":true,\"options\":_vm.options,\"optionHeight\":30,\"showLabels\":false,\"multiple\":_vm.multiple,\"close-on-select\":_vm.multiple ? false : true,\"searchable\":_vm.searchable,\"clear-on-select\":_vm.multiple ? false : true,\"showPointer\":false,\"placeholder\":_vm.$t('select-options'),\"allow-empty\":_vm.allowEmpty,\"disabled\":_vm.disabled},on:{\"input\":function($event){return _vm.$emit('input', $event)}},scopedSlots:_vm._u([(_vm.multiple && _vm.options.length > 0 && _vm.selectAllAvailable)?{key:\"beforeList\",fn:function(){return [_c('li',{staticClass:\"multiselect__element multiselect__select-all\",on:{\"click\":function($event){return _vm.selectAll()}}},[_c('span',{class:['multiselect__option', _vm.allSelected ? 'multiselect__option--selected' : '']},[_vm._v(\" \"+_vm._s(_vm.$t('select-all'))+\" \")])])]},proxy:true}:null,(_vm.multiple && _vm.options.length > 0)?{key:\"selection\",fn:function(ref){\nvar isOpen = ref.isOpen;\nreturn [(!isOpen)?_c('div',{staticClass:\"multiselect__tags-wrap\"},[(_vm.allSelected)?_c('strong',[_vm._v(\" \"+_vm._s(_vm.allPlaceholder || _vm.$t('all'))+\" \")]):[_vm._l((_vm.displayedOptions),function(option,index){return _c('span',{key:option[_vm.trackBy]},[_vm._v(\" \"+_vm._s(_vm.label ? option[_vm.label] : option)),(index < _vm.displayedOptions.length - 1)?[_vm._v(\",\")]:_vm._e()],2)}),(_vm.countNotDisplayed > 0)?_c('strong',[_vm._v(\" \"+_vm._s(_vm.$tc(\"and-count-others\", _vm.countNotDisplayed, {count: _vm.countNotDisplayed}))+\" \")]):_vm._e()]],2):_c('div')]}}:null,{key:\"option\",fn:function(ref){\nvar option = ref.option;\nreturn [_vm._t(\"option\",null,{\"option\":option})]}}],null,true)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<multiselect\n  :value=\"value\" @input=\"$emit('input', $event)\"\n  :label=\"label\"\n  :track-by=\"trackBy\"\n  :group-label=\"groupLabel\"\n  :group-values=\"groupValues\"\n  :group-select=\"true\"\n  :options=\"options\"\n  :optionHeight=\"30\"\n  :showLabels=\"false\"\n  :multiple=\"multiple\"\n  :close-on-select=\"multiple ? false : true\"\n  :searchable=\"searchable\"\n  :clear-on-select=\"multiple ? false : true\"\n  :showPointer=\"false\"\n  :placeholder=\"$t('select-options')\"\n  :allow-empty=\"allowEmpty\"\n  :disabled=\"disabled\"\n>\n\n  <template #beforeList v-if=\"multiple && options.length > 0 && selectAllAvailable\">\n    <li class=\"multiselect__element multiselect__select-all\" @click=\"selectAll()\">\n      <span :class=\"['multiselect__option', allSelected ? 'multiselect__option--selected' : '']\">\n        {{$t('select-all')}}\n      </span>\n    </li>\n  </template>\n\n  <template #selection=\"{isOpen}\" v-if=\"multiple && options.length > 0\">\n    <div class=\"multiselect__tags-wrap\" v-if=\"!isOpen\">\n      <strong v-if=\"allSelected\"> {{allPlaceholder || $t('all')}} </strong>\n      <template v-else>\n        <span v-for=\"(option, index) in displayedOptions\" :key=\"option[trackBy]\">\n          {{label ? option[label] : option}}<template v-if=\"index < displayedOptions.length - 1\">,</template>\n        </span>\n        <strong v-if=\"countNotDisplayed > 0\">\n          {{ $tc(\"and-count-others\", countNotDisplayed, {count: countNotDisplayed}) }}\n        </strong>\n      </template>\n    </div>\n    <div v-else></div>\n  </template>\n\n  <template #option=\"{option}\">\n    <slot name=\"option\" :option=\"option\"></slot>\n  </template>\n\n</multiselect>\n</template>\n\n<script>\nimport Multiselect from 'vue-multiselect';\n\nexport default {\n  name: 'cytomine-multiselect',\n  components: {Multiselect},\n  props: {\n    value: {type: null},\n    options: {type: null},\n    label: {type: String},\n    trackBy: {type: String},\n    groupLabel: {type: String},\n    groupValues: {type: String},\n    multiple: {type: Boolean, default: false},\n    selectAllAvailable: {type: Boolean, default: true},\n    searchable: {type: Boolean, default: true},\n    allowEmpty: {type: Boolean, default: true},\n    disabled: {type: Boolean, default: false},\n    allPlaceholder: {type: String}\n  },\n  data() {\n    return {\n      maxNbDisplayed: 3\n    };\n  },\n  computed: {\n    allSelected() {\n      if(!this.multiple) {\n        return false;\n      }\n\n      return this.options.every(opt => this.value.includes(opt));\n    },\n    displayedOptions() {\n      return this.value.slice(0, this.maxNbDisplayed);\n    },\n    countNotDisplayed() {\n      return this.value.length - this.maxNbDisplayed;\n    }\n  },\n  methods: {\n    selectAll() {\n      let newValue = this.allSelected ? [] : this.options;\n      this.$emit('input', newValue);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import '~vue-multiselect/dist/vue-multiselect.min.css';\n@import '~bulma/sass/utilities/initial-variables.sass';\n\n.multiselect--active, .multiselect__content-wrapper {\n  z-index: 50 !important;\n}\n\n.multiselect__option--selected {\n  font-weight: 600 !important;\n}\n\n.multiselect__option--selected::before {\n  content: \"\\f00c\";\n  font-family: 'Font Awesome 5 Free';\n  font-size: 10px;\n  position: absolute;\n  left: 10px;\n}\n\n.multiselect__option {\n  padding: 6px 5px 5px 30px !important;\n  font-size: 1rem !important;\n  min-height: 30px !important;\n}\n\n.multiselect__option:hover {\n  background: #61b2e8 !important;\n  color: white;\n}\n\n.multiselect__select-all {\n  border-bottom: 1px solid #eee;\n  display: inline-block;\n  width: 100%;\n  height:100%;\n}\n\n.multiselect__placeholder, .multiselect__tags-wrap, .multiselect__single {\n  margin-bottom: 8px;\n  line-height: 20px;\n  vertical-align: top;\n  font-size: 1rem;\n}\n\n.multiselect__tags-wrap :first-child {\n  margin-left: 5px;\n}\n\n.multiselect__placeholder, .multiselect__single {\n  padding-left: 5px;\n  position: relative;\n  padding-top: 0 !important;\n}\n\n.multiselect__input {\n  font-size: 1rem !important;\n}\n\n.is-danger .multiselect__tags {\n  border-color: $red;\n}\n\n.is-danger .multiselect__select::before {\n  border-color: $red transparent transparent;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineMultiselect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineMultiselect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineMultiselect.vue?vue&type=template&id=42f0f21a&\"\nimport script from \"./CytomineMultiselect.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineMultiselect.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineMultiselect.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vue-slider',{attrs:{\"value\":_vm.value,\"min\":_vm.min,\"max\":_vm.max,\"tooltip\":'always',\"tooltip-placement\":_vm.tooltipPlacement,\"lazy\":_vm.lazy},on:{\"change\":function($event){return _vm.$emit('input', $event)}},scopedSlots:_vm._u([{key:\"tooltip\",fn:function(ref){\nvar value = ref.value;\nvar index = ref.index;\nreturn [_c('div',{class:['vue-slider-dot-tooltip-inner', (\"vue-slider-dot-tooltip-inner-\" + (_vm.tooltipPlacement[index]))],on:{\"mousedown\":function($event){$event.stopPropagation();},\"click\":function($event){$event.stopPropagation();return _vm.startEdition(index)}}},[(_vm.indexEdited !== index)?[_vm._v(\" \"+_vm._s(Math.round(value * 1000)/1000)+\" \")]:_c('b-input',{ref:\"inputSlider\",attrs:{\"type\":\"text\"},on:{\"hook:mounted\":function($event){return _vm.focus()},\"blur\":function($event){return _vm.stopEdition(index)}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.stopEdition(index)}},model:{value:(_vm.editedValue),callback:function ($$v) {_vm.editedValue=$$v},expression:\"editedValue\"}})],2)]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<vue-slider\n  :value=\"value\" @change=\"$emit('input', $event)\"\n  :min=\"min\"\n  :max=\"max\"\n  :tooltip=\"'always'\"\n  :tooltip-placement=\"tooltipPlacement\"\n  :lazy=\"lazy\"\n>\n  <template #tooltip=\"{value, index}\">\n    <div\n      :class=\"['vue-slider-dot-tooltip-inner', `vue-slider-dot-tooltip-inner-${tooltipPlacement[index]}`]\"\n      @mousedown.stop\n      @click.stop=\"startEdition(index)\"\n    >\n        <template v-if=\"indexEdited !== index\">\n          {{Math.round(value * 1000)/1000}}\n        </template>\n        <b-input\n          v-else\n          type=\"text\"\n          ref=\"inputSlider\"\n          v-model=\"editedValue\"\n          @hook:mounted=\"focus()\"\n          @blur=\"stopEdition(index)\"\n          @keyup.enter.native=\"stopEdition(index)\"\n        />\n    </div>\n  </template>\n</vue-slider>\n</template>\n\n<script>\nimport VueSlider from 'vue-slider-component';\n\nexport default {\n  name: 'cytomine-slider',\n  components: {VueSlider},\n  props: {\n    value: {type: null},\n    min: {type: Number, default: 0},\n    max: {type: Number, default: 100},\n    integerOnly: {type: Boolean, default: true},\n    lazy: {type: Boolean, default: true}\n  },\n  data() {\n    return {\n      indexEdited: null,\n      editedValue: 0\n    };\n  },\n  computed: {\n    isArray() {\n      return Array.isArray(this.value);\n    },\n    tooltipPlacement() {\n      return this.isArray ? ['left', 'right'] : ['right'];\n    }\n  },\n  methods: {\n    startEdition(index) {\n      if(this.indexEdited !== index) {\n        this.editedValue = this.isArray ? this.value[index] : this.value;\n        this.indexEdited = index;\n      }\n    },\n    stopEdition(index=0) {\n      if(this.indexEdited === index) {\n        this.indexEdited = null;\n\n        if(!this.editedValue || isNaN(this.editedValue)) {\n          return; // if entered value is not a number, ignore\n        }\n\n        let parsedValue = this.integerOnly ? parseInt(this.editedValue) : Number(this.editedValue);\n        parsedValue = Math.min(parsedValue, this.max);\n        parsedValue = Math.max(parsedValue, this.min);\n\n        if(this.isArray) {\n          let newVal = this.value.slice();\n          newVal[index] = parsedValue;\n          if(newVal[0] > newVal[1]) { // reorder bounds if needed\n            newVal.reverse();\n          }\n          this.$emit('input', newVal);\n        }\n        else {\n          this.$emit('input', parsedValue);\n        }\n      }\n    },\n    focus() {\n      this.$refs.inputSlider.focus();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import '~vue-slider-component/theme/default.css';\n\n.vue-slider-dot-tooltip-inner {\n  font-size: 0.9rem !important;\n}\n\n.vue-slider {\n  margin-left: 4rem;\n  margin-right: 6rem;\n}\n\n.vue-slider-dot-tooltip input {\n  width: 4rem;\n  height: 1.5rem;\n  font-size: 0.8rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineSlider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineSlider.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineSlider.vue?vue&type=template&id=2082ef8a&\"\nimport script from \"./CytomineSlider.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineSlider.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineSlider.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\",\"size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):_c('table',{staticClass:\"table\"},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('tbody',[(_vm.isPropDisplayed('name'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('name')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(\" \"+_vm._s(_vm.project.name)+\" \")])]):_vm._e(),(_vm.isPropDisplayed('numberOfImages'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('images')))]),_c('td',{staticClass:\"prop-content\"},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (_vm.project.id) + \"/images\")}},[_vm._v(_vm._s(_vm.project.numberOfImages))])],1)]):_vm._e(),(_vm.isPropDisplayed('membersCount'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('members')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(\" \"+_vm._s(this.members.length)+\" \")])]):_vm._e(),(_vm.isPropDisplayed('numberOfAnnotations'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('user-annotations')))]),_c('td',{staticClass:\"prop-content\"},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (_vm.project.id) + \"/annotations?type=user\")}},[_vm._v(\" \"+_vm._s(_vm.project.numberOfAnnotations)+\" \")])],1)]):_vm._e(),(_vm.isPropDisplayed('numberOfJobAnnotations'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('analysis-annotations')))]),_c('td',{staticClass:\"prop-content\"},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (_vm.project.id) + \"/annotations?type=algo\")}},[_vm._v(\" \"+_vm._s(_vm.project.numberOfJobAnnotations)+\" \")])],1)]):_vm._e(),(_vm.isPropDisplayed('numberOfReviewedAnnotations'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('reviewed-annotations')))]),_c('td',{staticClass:\"prop-content\"},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (_vm.project.id) + \"/annotations?type=reviewed\")}},[_vm._v(\" \"+_vm._s(_vm.project.numberOfReviewedAnnotations)+\" \")])],1)]):_vm._e(),(_vm.isPropDisplayed('description'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('description')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-description',{attrs:{\"object\":_vm.project,\"canEdit\":_vm.canManageProject}})],1)]):_vm._e(),(_vm.isPropDisplayed('tags'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('tags')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-tags',{attrs:{\"object\":_vm.project,\"canEdit\":_vm.canManageProject}})],1)]):_vm._e(),(_vm.isPropDisplayed('properties'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('properties')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-properties',{attrs:{\"object\":_vm.project,\"canEdit\":_vm.canManageProject}})],1)]):_vm._e(),(_vm.isPropDisplayed('attachedFiles'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('attached-files')))]),_c('td',{staticClass:\"prop-content\"},[_c('attached-files',{attrs:{\"object\":_vm.project,\"canEdit\":_vm.canManageProject}})],1)]):_vm._e(),(_vm.isPropDisplayed('ontology'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('ontology')))]),_c('td',{staticClass:\"prop-content\"},[(_vm.project.ontology)?_c('router-link',{attrs:{\"to\":(\"/ontology/\" + (_vm.project.ontology))}},[_vm._v(\" \"+_vm._s(_vm.project.ontologyName)+\" \")]):_c('em',[_vm._v(_vm._s(_vm.$t('no-ontology')))])],1)]):_vm._e(),(_vm.isPropDisplayed('created'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('created-on')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.project.created),'ll'))+\" \")])]):_vm._e(),(_vm.isPropDisplayed('creator'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('creator')))]),_c('td',{staticClass:\"prop-content\"},[_c('list-usernames',{attrs:{\"users\":[_vm.creator],\"onlines\":_vm.onlines}})],1)]):_vm._e(),(_vm.isPropDisplayed('representatives'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('representatives'))+\" (\"+_vm._s(_vm.representatives.length)+\")\")]),_c('td',{staticClass:\"prop-content\"},[_c('list-usernames',{attrs:{\"users\":_vm.representatives,\"onlines\":_vm.onlines}})],1)]):_vm._e(),(_vm.isPropDisplayed('managers'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('managers'))+\" (\"+_vm._s(_vm.managers.length)+\")\")]),_c('td',{staticClass:\"prop-content\"},[_c('list-usernames',{attrs:{\"users\":_vm.managers,\"onlines\":_vm.onlines}})],1)]):_vm._e(),(_vm.isPropDisplayed('contributors'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('contributors'))+\" (\"+_vm._s(_vm.contributors.length)+\")\")]),_c('td',{staticClass:\"prop-content\"},[_c('list-usernames',{attrs:{\"users\":_vm.contributors,\"onlines\":_vm.onlines}})],1)]):_vm._e(),(_vm.isPropDisplayed('imagesPreview'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('images')))]),_c('td',{staticClass:\"prop-content\"},[_c('list-images-preview',{attrs:{\"project\":_vm.project}})],1)]):_vm._e(),(_vm.canManageProject)?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('actions')))]),_c('td',{staticClass:\"prop-content\"},[_c('project-actions',{attrs:{\"project\":_vm.project},on:{\"update\":function($event){return _vm.$emit('update', $event)},\"delete\":function($event){return _vm.$emit('delete')}}})],1)]):_vm._e()]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.filteredUsers.length)?_c('span',[_vm._l((_vm.usersToDisplay),function(user,index){return _c('span',{key:user.id},[_c('username',{attrs:{\"user\":user,\"online\":_vm.isOnline(user.id)}}),(index < _vm.usersToDisplay.length - 1)?[_vm._v(\", \")]:_vm._e()],2)}),(_vm.tooManyUsers)?_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.expanded=!_vm.expanded}}},[_vm._v(\" \"+_vm._s(_vm.expanded ? _vm.$t('button-less') : _vm.$t('button-more'))+\" \")]):_vm._e()],2):_c('span',[_vm._v(\" - \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.resolvedUser)?_c('span',[(_vm.online !== null)?_c('span',{class:[_vm.online ? 'online-dot' : 'offline-dot']}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.displayFullName ? _vm.fullName : _vm.resolvedUser.username))]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport moment from 'moment';\n\nexport function fullName(user) {\n  if(!user) {\n    return '';\n  }\n\n  if(!user.algo) {\n    return `${user.firstname} ${user.lastname} (${user.username})`;\n  }\n  else {\n    let date = moment(Number(user.created)).format('L LTS');\n    return `${user.softwareName} - ${date}`;\n  }\n}\n","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<span v-if=\"resolvedUser\">\n  <span :class=\"[online ? 'online-dot' : 'offline-dot']\" v-if=\"online !== null\"></span>\n  {{displayFullName ? fullName : resolvedUser.username}}</span></template>\n\n<script>\nimport {User} from 'cytomine-client';\nimport {fullName} from '@/utils/user-utils.js';\n\nexport default {\n  name: 'username',\n  props: {\n    user: Object,\n    id: Number, // if user not set, the user corresponding to the provided id will be fetched\n    online: {type: Boolean, default: null},\n    displayFullName: {type: Boolean, default: true}\n  },\n  data() {\n    return {\n      fetchedUser: {}\n    };\n  },\n  computed: {\n    resolvedUser() {\n      return this.user || this.fetchedUser;\n    },\n    fullName() {\n      return fullName(this.resolvedUser);\n    }\n  },\n  async created() {\n    if(!this.user && this.id) {\n      this.fetchedUser = await User.fetch(this.id);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.online-dot, .offline-dot {\n  height: 0.8em;\n  width: 0.8em;\n  border-radius: 50%;\n  display: inline-block;\n  margin-right: 0.2em;\n}\n\n.online-dot {\n  background: limegreen;\n}\n\n.offline-dot {\n  background: lightgrey;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Username.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Username.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Username.vue?vue&type=template&id=569bb75c&scoped=true&\"\nimport script from \"./Username.vue?vue&type=script&lang=js&\"\nexport * from \"./Username.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Username.vue?vue&type=style&index=0&id=569bb75c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"569bb75c\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<span v-if=\"filteredUsers.length\">\n  <span v-for=\"(user, index) in usersToDisplay\" :key=\"user.id\">\n    <username :user=\"user\" :online=\"isOnline(user.id)\" /><template v-if=\"index < usersToDisplay.length - 1\">, </template>\n  </span>\n  <button class=\"button is-small\" @click=\"expanded=!expanded\" v-if=\"tooManyUsers\">\n    {{ expanded ? $t('button-less') : $t('button-more')}}\n  </button>\n</span>\n<span v-else>\n  -\n</span>\n</template>\n\n<script>\nimport Username from './Username';\nexport default {\n  name: 'list-usernames',\n  components: {Username},\n  props: {\n    users: Array,\n    onlines: Array,\n    nbDisplayed: {\n      type: Number,\n      default: 5\n    }\n  },\n  data() {\n    return {\n      expanded: false\n    };\n  },\n  computed: {\n    filteredUsers() {\n      return this.users.filter(user => user); // Filter null users\n    },\n    tooManyUsers() {\n      return this.filteredUsers && this.filteredUsers.length > this.nbDisplayed;\n    },\n    usersToDisplay() {\n      if(!this.tooManyUsers || this.expanded || this.nbDisplayed === 0) {\n        return this.filteredUsers;\n      }\n      else {\n        return this.filteredUsers.slice(0, this.nbDisplayed);\n      }\n    }\n  },\n  methods: {\n    isOnline(id) {\n      if(!this.onlines) {\n        return null;\n      }\n\n      return this.onlines.some(online => online.id === id);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.button {\n  line-height: initial;\n  height: initial;\n  margin-left: 0.5em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListUsernames.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListUsernames.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListUsernames.vue?vue&type=template&id=3b1c61de&scoped=true&\"\nimport script from \"./ListUsernames.vue?vue&type=script&lang=js&\"\nexport * from \"./ListUsernames.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListUsernames.vue?vue&type=style&index=0&id=3b1c61de&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b1c61de\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"project-actions-wrapper\"},[_c('rename-modal',{attrs:{\"title\":_vm.$t('rename-project'),\"currentName\":_vm.project.name,\"active\":_vm.isRenameModalActive},on:{\"update:active\":function($event){_vm.isRenameModalActive=$event},\"rename\":_vm.rename}}),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.saveOntology()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.isOntologyModalActive,\"title\":_vm.$t('change-ontology')},on:{\"close\":function($event){_vm.isOntologyModalActive = false}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\",\"disabled\":_vm.savingOntology},on:{\"click\":function($event){_vm.isOntologyModalActive = false}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),(!_vm.errorOntologies)?_c('button',{staticClass:\"button is-link\",class:{'is-loading': _vm.savingOntology},attrs:{\"disabled\":_vm.loadingOntologies || _vm.savingOntology}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")]):_vm._e()]},proxy:true}])},[(_vm.errorOntologies)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[(_vm.project.ontology)?_c('b-message',{attrs:{\"type\":\"is-warning\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('change-ontology-warning-message'))+\" \")]):_vm._e(),_c('b-field',{attrs:{\"label\":_vm.$t('ontology')}},[_c('b-select',{attrs:{\"placeholder\":_vm.$t('no-ontology'),\"disabled\":_vm.loadingOntologies,\"loading\":_vm.loadingOntologies},model:{value:(_vm.selectedOntology),callback:function ($$v) {_vm.selectedOntology=$$v},expression:\"selectedOntology\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\" \"+_vm._s(_vm.$t('no-ontology'))+\" \")]),_vm._l((_vm.ontologies),function(ontology){return _c('option',{key:ontology.id,domProps:{\"value\":ontology.id}},[_vm._v(\" \"+_vm._s(ontology.name)+\" \")])})],2)],1)]],2)],1),_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",class:_vm.size,on:{\"click\":function($event){_vm.isRenameModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-rename'))+\" \")]),_c('button',{staticClass:\"button\",class:_vm.size,attrs:{\"disabled\":_vm.cannotDeleteOntology},on:{\"click\":function($event){_vm.isOntologyModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-change-ontology'))+\" \")]),_c('button',{staticClass:\"button is-danger\",class:_vm.size,on:{\"click\":function($event){return _vm.deleteProject()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"active\":_vm.active,\"has-modal-card\":\"\"},on:{\"close\":function($event){return _vm.close()}}},[_c('cytomine-modal-card',{attrs:{\"title\":_vm.title},on:{\"close\":function($event){return _vm.close()}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_vm._t(\"footer\")]},proxy:true}],null,true)},[_vm._t(\"default\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-card\"},[_c('header',{staticClass:\"modal-card-head\"},[_c('p',{staticClass:\"modal-card-title\"},[_vm._v(_vm._s(_vm.title))]),_vm._t(\"controls\")],2),_c('section',{staticClass:\"modal-card-body\"},[_vm._t(\"default\")],2),_c('footer',{staticClass:\"modal-card-foot\"},[_vm._t(\"footer\",[_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-close'))+\" \")])])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"modal-card\">\n  <header class=\"modal-card-head\">\n    <p class=\"modal-card-title\">{{title}}</p>\n    <slot name=\"controls\"></slot>\n  </header>\n  <section class=\"modal-card-body\">\n    <slot></slot>\n  </section>\n  <footer class=\"modal-card-foot\">\n    <slot name=\"footer\">\n      <button class=\"button\" type=\"button\" @click=\"$emit('close')\">\n        {{$t('button-close')}}\n      </button>\n    </slot>\n  </footer>\n</div>\n</template>\n\n<script>\nexport default {\n  name: 'cytomine-modal-card',\n  props: {\n    title: String\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineModalCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineModalCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineModalCard.vue?vue&type=template&id=f077e3fa&\"\nimport script from \"./CytomineModalCard.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineModalCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<b-modal :active=\"active\" @close=\"close()\" has-modal-card>\n  <cytomine-modal-card :title=\"title\" @close=\"close()\">\n    <slot></slot>\n    <template #footer>\n      <slot name=\"footer\"></slot>\n    </template>\n  </cytomine-modal-card>\n</b-modal>\n</template>\n\n<script>\nimport CytomineModalCard from './CytomineModalCard';\n\nexport default {\n  name: 'cytomine-modal',\n  props: {\n    active: Boolean,\n    title: String\n  },\n  components: {CytomineModalCard},\n  methods: {\n    close() {\n      this.$emit('close');\n      this.$emit('update:active', false);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineModal.vue?vue&type=template&id=04158838&\"\nimport script from \"./CytomineModal.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.rename()}}},[_c('cytomine-modal',{attrs:{\"title\":_vm.title,\"active\":_vm.active},on:{\"close\":function($event){return _vm.close()}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.close()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-field',{attrs:{\"label\":_vm.$t('new-name'),\"type\":{'is-danger': _vm.errors.has('name')},\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"name\"},model:{value:(_vm.newName),callback:function ($$v) {_vm.newName=$$v},expression:\"newName\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<form @submit.prevent=\"rename()\">\n  <cytomine-modal :title=\"title\" :active=\"active\" @close=\"close()\">\n    <b-field :label=\"$t('new-name')\" :type=\"{'is-danger': errors.has('name')}\" :message=\"errors.first('name')\">\n      <b-input v-model=\"newName\" name=\"name\" v-validate=\"'required'\" />\n    </b-field>\n    <template #footer>\n      <button class=\"button\" type=\"button\" @click=\"close()\">\n        {{$t('button-cancel')}}\n      </button>\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\n        {{$t('button-save')}}\n      </button>\n    </template>\n  </cytomine-modal>\n</form>\n</template>\n\n<script>\nimport CytomineModal from './CytomineModal';\n\nexport default {\n  name: 'rename-modal',\n  extends: CytomineModal,\n  props: {\n    currentName: String,\n    title: String\n  },\n  components: {CytomineModal},\n  $_veeValidate: {validator: 'new'},\n  data() {\n    return {\n      newName: ''\n    };\n  },\n  watch: {\n    active(active) {\n      if(active) {\n        this.newName = this.currentName;\n      }\n    }\n  },\n  methods: {\n    async rename() {\n      let result = await this.$validator.validateAll();\n      if(!result) {\n        return;\n      }\n      this.$emit('rename', this.newName);\n      this.$parent.close();\n    }\n  },\n  async created() {\n    this.newName = this.currentName;\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenameModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenameModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RenameModal.vue?vue&type=template&id=48016e2e&\"\nimport script from \"./RenameModal.vue?vue&type=script&lang=js&\"\nexport * from \"./RenameModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"project-actions-wrapper\">\n  <rename-modal\n    :title=\"$t('rename-project')\"\n    :currentName=\"project.name\"\n    :active.sync=\"isRenameModalActive\"\n    @rename=\"rename\"\n  />\n\n  <form @submit.prevent=\"saveOntology()\">\n    <cytomine-modal :active=\"isOntologyModalActive\" :title=\"$t('change-ontology')\" @close=\"isOntologyModalActive = false\">\n      <b-message v-if=\"errorOntologies\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n        <h2> {{ $t('error') }} </h2>\n        <p> {{ $t('unexpected-error-info-message') }} </p>\n      </b-message>\n      <template v-else>\n        <b-message v-if=\"project.ontology\" type=\"is-warning\" has-icon icon-size=\"is-small\">\n          {{$t('change-ontology-warning-message')}}\n        </b-message>\n        <b-field :label=\"$t('ontology')\">\n          <b-select\n            v-model=\"selectedOntology\"\n            :placeholder=\"$t('no-ontology')\"\n            :disabled=\"loadingOntologies\"\n            :loading=\"loadingOntologies\"\n          >\n            <option :value=\"null\">\n              {{$t('no-ontology')}}\n            </option>\n            <option v-for=\"ontology in ontologies\" :value=\"ontology.id\" :key=\"ontology.id\">\n              {{ontology.name}}\n            </option>\n          </b-select>\n        </b-field>\n      </template>\n\n      <template #footer>\n        <button\n          class=\"button\"\n          type=\"button\"\n          @click=\"isOntologyModalActive = false\"\n          :disabled=\"savingOntology\"\n        >\n          {{$t('button-cancel')}}\n        </button>\n        <button\n          v-if=\"!errorOntologies\"\n          class=\"button is-link\"\n          :class=\"{'is-loading': savingOntology}\"\n          :disabled=\"loadingOntologies || savingOntology\"\n        >\n          {{$t('button-save')}}\n        </button>\n      </template>\n    </cytomine-modal>\n  </form>\n\n  <div class=\"buttons\">\n    <button class=\"button\" :class=\"size\" @click=\"isRenameModalActive = true\">\n      {{$t('button-rename')}}\n    </button>\n    <button class=\"button\" :class=\"size\" @click=\"isOntologyModalActive = true\" :disabled=\"cannotDeleteOntology\">\n      {{$t('button-change-ontology')}}\n    </button>\n    <button class=\"button is-danger\" :class=\"size\" @click=\"deleteProject()\">\n      {{$t('button-delete')}}\n    </button>\n  </div>\n</div>\n</template>\n\n<script>\nimport {OntologyCollection} from 'cytomine-client';\nimport CytomineModal from '@/components/utils/CytomineModal';\nimport RenameModal from '@/components/utils/RenameModal';\n\nexport default {\n  name: 'project-actions',\n  props: {\n    project: {type: Object},\n    size: {type: String, default: 'is-small'}\n  },\n  components: {\n    CytomineModal,\n    RenameModal\n  },\n  data() {\n    return {\n      isRenameModalActive: false,\n      isOntologyModalActive: false,\n      loadingOntologies: true,\n      errorOntologies: false,\n      ontologies: null,\n      selectedOntology: null,\n      cannotDeleteOntology: false,\n      savingOntology: false\n    };\n  },\n  watch: {\n    async isOntologyModalActive(val) {\n      if(val) {\n        if(this.loadingOntologies) { // first opening of the ontology modal => load ontologies\n          try {\n            this.ontologies = (await OntologyCollection.fetchAll({light: true})).array;\n            this.ontologies.sort((a, b) => a.name.localeCompare(b.name));\n            this.loadingOntologies = false;\n          }\n          catch(error) {\n            console.log(error);\n            this.errorOntologies = true;\n          }\n        }\n\n        // preselect the ontology of the project\n        this.selectedOntology = this.project.ontology;\n        this.savingOntology = false;\n      }\n    }\n  },\n  methods: {\n    async rename(newName) {\n      let updatedProject = this.project.clone();\n      try {\n        updatedProject.name = newName;\n        await updatedProject.save();\n        this.$emit('update', updatedProject);\n        this.$notify({\n          type: 'success',\n          text: this.$t('notif-success-project-rename', {projectName: updatedProject.name})\n        });\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-project-rename', {projectName: this.project.name})\n        });\n      }\n      this.isRenameModalActive = false;\n    },\n\n    async saveOntology(forceOntologyUpdate=false) {\n      this.savingOntology = true; // possibly long operation => give user visual indication that it is in progress\n      let updatedProject = this.project.clone();\n      try {\n        updatedProject.ontology = this.selectedOntology;\n        updatedProject.forceOntologyUpdate = forceOntologyUpdate; // to delete annotationterms if some exist\n        await updatedProject.save();\n        this.$emit('update', updatedProject);\n        this.$notify({\n          type: 'success',\n          text: this.$t('notif-success-project-ontology-change', {projectName: this.project.name})\n        });\n      }\n      catch(error) {\n        console.log(error);\n        if(error.response && error.response.data.errorValues) {\n          let counts = error.response.data.errorValues;\n\n          // if the only terms associations are performed by users, ask confirmation and delete them\n          if(counts.algoAssociatedTermsCount === 0 && counts.reviewedAssociatedTermsCount === 0) {\n            this.$buefy.dialog.confirm({\n              title: this.$t('confirm-ontology-change'),\n              message: this.$t('confirm-ontology-change-delete-user-terms', {count: counts.userAssociatedTermsCount}),\n              type: 'is-danger',\n              confirmText: this.$t('button-confirm'),\n              cancelText: this.$t('button-cancel'),\n              onConfirm: () => this.saveOntology(true)\n            });\n          }\n          else { // otherwise, backend does not allow automatic deletion => notify of error\n            this.cannotDeleteOntology = true;\n            this.$notify({\n              type: 'error',\n              text: this.$t('notif-error-project-ontology-change-' +\n                                (counts.algoAssociatedTermsCount ? 'job-terms' : 'reviewed-terms'))\n            });\n          }\n        }\n        else {\n          this.$notify({\n            type: 'error',\n            text: this.$t('notif-error-project-ontology-change', {projectName: this.project.name})\n          });\n        }\n      }\n      this.savingOntology = false;\n      this.isOntologyModalActive = false;\n    },\n\n    deleteProject() {\n      this.$buefy.dialog.confirm({\n        title: this.$t('delete-project'),\n        message: this.$t('delete-project-confirmation-message', {projectName: this.project.name}),\n        type: 'is-danger',\n        confirmText: this.$t('button-confirm'),\n        cancelText: this.$t('button-cancel'),\n        onConfirm: () => this.$emit('delete')\n      });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectActions.vue?vue&type=template&id=6b801968&\"\nimport script from \"./ProjectActions.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectActions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['description-wrapper', _vm.loading ? 'loading' : '']},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[(_vm.description)?[_c('div',{staticClass:\"ql-snow\"},[_c('div',{staticClass:\"ql-editor\",domProps:{\"innerHTML\":_vm._s(_vm.previewDescription)}})]),_c('div',{staticClass:\"buttons are-small\"},[(_vm.croppedDescription)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.openModal(false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-full-text'))+\" \")]):_vm._e(),(_vm.canEdit)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.openModal(true)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-edit'))+\" \")]):_vm._e()])]:[_c('em',[_vm._v(_vm._s(_vm.$t('no-description')))]),(_vm.canEdit)?_c('button',{staticClass:\"button is-small margin\",on:{\"click\":function($event){return _vm.openModal(true)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")]):_vm._e()]]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('cytomine-modal-card',{staticClass:\"description-modal\",class:{expanded: _vm.expanded},attrs:{\"title\":_vm.$t('description')},on:{\"close\":function($event){return _vm.$parent.close()}},scopedSlots:_vm._u([{key:\"controls\",fn:function(){return [_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.expanded = !_vm.expanded}}},[_c('i',{class:['fas', _vm.expanded ? 'fa-compress' : 'fa-expand']})])]},proxy:true},(_vm.edit)?{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$parent.close()}}},[_vm._v(_vm._s(_vm.$t('button-cancel')))]),(_vm.edit)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.save()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")]):_vm._e()]},proxy:true}:null],null,true)},[(!_vm.edit)?_c('div',{staticClass:\"ql-snow\"},[_c('div',{staticClass:\"ql-editor preview\",domProps:{\"innerHTML\":_vm._s(_vm.descriptionWithoutKeywords)}})]):[_c('div',{staticClass:\"keyword-info\"},[_c('i',{staticClass:\"fas fa-info-circle\"}),_c('i18n',{attrs:{\"path\":\"info-keyword-stop-preview-description\"}},[_c('span',{staticClass:\"keyword\",attrs:{\"place\":\"keyword\"}},[_vm._v(\" \"+_vm._s(_vm.stopPreviewKeyword)+\" \")])])],1),_c('cytomine-quill-editor',{attrs:{\"placeholder\":_vm.$t('enter-description')},model:{value:(_vm.descriptionContent),callback:function ($$v) {_vm.descriptionContent=$$v},expression:\"descriptionContent\"}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cytomine-quill-editor\"},[_c('div',{attrs:{\"id\":\"tooltip-container\"}}),_vm._v(\" \"),_c('quill-editor',{ref:\"quillEditor\",attrs:{\"value\":_vm.value,\"options\":_vm.editorOptions},on:{\"input\":function($event){return _vm.$emit('input', $event)}},scopedSlots:_vm._u([{key:\"toolbar\",fn:function(){return [_c('div',{attrs:{\"id\":\"toolbar\"}},[_c('span',{staticClass:\"ql-formats\"},[_c('select',{staticClass:\"ql-header\"},[_c('option',{attrs:{\"selected\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('ql-paragraph'))+\" \")]),_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(\" \"+_vm._s(_vm.$t('ql-header-1'))+\" \")]),_c('option',{attrs:{\"value\":\"2\"}},[_vm._v(\" \"+_vm._s(_vm.$t('ql-header-2'))+\" \")]),_c('option',{attrs:{\"value\":\"3\"}},[_vm._v(\" \"+_vm._s(_vm.$t('ql-header-3'))+\" \")]),_c('option',{attrs:{\"value\":\"4\"}},[_vm._v(\" \"+_vm._s(_vm.$t('ql-header-4'))+\" \")])])]),_c('span',{staticClass:\"ql-formats\",attrs:{\"title\":_vm.$t('ql-font')}},[_c('select',{staticClass:\"ql-font\"},[_c('option',{attrs:{\"selected\":\"\"}}),_c('option',{attrs:{\"value\":\"serif\"}}),_c('option',{attrs:{\"value\":\"monospace\"}})])]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-bold\",attrs:{\"title\":_vm.$t('ql-bold')}}),_c('button',{staticClass:\"ql-italic\",attrs:{\"title\":_vm.$t('ql-italic')}}),_c('button',{staticClass:\"ql-underline\",attrs:{\"title\":_vm.$t('ql-underline')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-script\",attrs:{\"value\":\"sub\",\"title\":_vm.$t('ql-subscript')}}),_c('button',{staticClass:\"ql-script\",attrs:{\"value\":\"super\",\"title\":_vm.$t('ql-superscript')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('span',{attrs:{\"title\":_vm.$t('ql-font-color')}},[_c('select',{staticClass:\"ql-color\"})]),_c('span',{attrs:{\"title\":_vm.$t('ql-background-color')}},[_c('select',{staticClass:\"ql-background\"})])]),_c('span',{staticClass:\"ql-formats\",attrs:{\"title\":_vm.$t('ql-align')}},[_c('select',{staticClass:\"ql-align\"},[_c('option',{attrs:{\"selected\":\"\"}}),_c('option',{attrs:{\"value\":\"center\"}}),_c('option',{attrs:{\"value\":\"right\"}})])]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-indent\",attrs:{\"value\":\"-1\",\"title\":_vm.$t('ql-indent-left')}}),_c('button',{staticClass:\"ql-indent\",attrs:{\"value\":\"+1\",\"title\":_vm.$t('ql-indent-right')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-list\",attrs:{\"value\":\"ordered\",\"title\":_vm.$t('ql-ordered-list')}}),_c('button',{staticClass:\"ql-list\",attrs:{\"value\":\"bullet\",\"title\":_vm.$t('ql-bullet-list')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-blockquote\",attrs:{\"title\":_vm.$t('ql-blockquote')}}),_c('button',{staticClass:\"ql-code-block\",attrs:{\"title\":_vm.$t('ql-code-block')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-clean\",attrs:{\"title\":_vm.$t('ql-clean-format')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-link\",attrs:{\"title\":_vm.$t('ql-link')}}),_c('button',{staticClass:\"ql-image\",attrs:{\"title\":_vm.$t('ql-image')}}),_c('button',{staticClass:\"ql-video\",attrs:{\"title\":_vm.$t('ql-video')}})]),_c('span',{staticClass:\"ql-formats\"},[_c('span',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(function () { return _vm.expandedSpecialChars = false; }),expression:\"() => expandedSpecialChars = false\"}],class:['ql-picker', _vm.expandedSpecialChars ? 'ql-expanded' : '', 'ql-special-characters'],attrs:{\"title\":_vm.$t('ql-special-character')},on:{\"click\":function($event){_vm.expandedSpecialChars = !_vm.expandedSpecialChars}}},[_c('span',{staticClass:\"ql-picker-label\",attrs:{\"tabindex\":\"0\",\"role\":\"button\"}},[_c('svg',{attrs:{\"viewBox\":\"0 0 18 18\"}},[_c('polygon',{staticClass:\"ql-stroke\",attrs:{\"points\":\"7 11 9 13 11 11 7 11\"}}),_c('polygon',{staticClass:\"ql-stroke\",attrs:{\"points\":\"7 7 9 5 11 7 7 7\"}})])]),_c('span',{staticClass:\"ql-picker-options\"},_vm._l((_vm.specialCharacters),function(char){return _c('button',{key:char,staticClass:\"special-char\",on:{\"click\":function($event){return _vm.insertSpecialCharacter(char)}}},[_vm._v(\" \"+_vm._s(char)+\" \")])}),0)])])])]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"cytomine-quill-editor\">\n  <div id=\"tooltip-container\"></div> <!-- invisible div defining the allowed positions for ql tooltip -->\n\n  <quill-editor :value=\"value\" @input=\"$emit('input', $event)\" :options=\"editorOptions\" ref=\"quillEditor\">\n    <template #toolbar>\n      <div id=\"toolbar\">\n        <span class=\"ql-formats\">\n          <select class=\"ql-header\">\n            <option selected> {{ $t('ql-paragraph') }} </option>\n            <option value=\"1\"> {{ $t('ql-header-1') }} </option>\n            <option value=\"2\"> {{ $t('ql-header-2') }} </option>\n            <option value=\"3\"> {{ $t('ql-header-3') }} </option>\n            <option value=\"4\"> {{ $t('ql-header-4') }} </option>\n          </select>\n        </span>\n\n        <span class=\"ql-formats\" :title=\"$t('ql-font')\">\n          <select class=\"ql-font\">\n            <option selected></option>\n            <option value=\"serif\"></option>\n            <option value=\"monospace\"></option>\n          </select>\n        </span>\n\n        <span class=\"ql-formats\">\n          <button class=\"ql-bold\" :title=\"$t('ql-bold')\"></button>\n          <button class=\"ql-italic\" :title=\"$t('ql-italic')\"></button>\n          <button class=\"ql-underline\" :title=\"$t('ql-underline')\"></button>\n        </span>\n\n        <!-- Add subscript and superscript buttons -->\n        <span class=\"ql-formats\">\n          <button class=\"ql-script\" value=\"sub\" :title=\"$t('ql-subscript')\"></button>\n          <button class=\"ql-script\" value=\"super\" :title=\"$t('ql-superscript')\"></button>\n        </span>\n\n        <span class=\"ql-formats\">\n          <span :title=\"$t('ql-font-color')\">\n            <select class=\"ql-color\"></select>\n          </span>\n          <span :title=\"$t('ql-background-color')\">\n            <select class=\"ql-background\"></select>\n          </span>\n        </span>\n\n        <span class=\"ql-formats\" :title=\"$t('ql-align')\">\n          <select class=\"ql-align\">\n            <option selected></option>\n            <option value=\"center\"></option>\n            <option value=\"right\"></option>\n          </select>\n        </span>\n\n        <span class=\"ql-formats\">\n          <button class=\"ql-indent\" value=\"-1\" :title=\"$t('ql-indent-left')\"></button>\n          <button class=\"ql-indent\" value=\"+1\" :title=\"$t('ql-indent-right')\"></button>\n        </span>\n\n        <span class=\"ql-formats\">\n          <button class=\"ql-list\" value=\"ordered\" :title=\"$t('ql-ordered-list')\"></button>\n          <button class=\"ql-list\" value=\"bullet\" :title=\"$t('ql-bullet-list')\"></button>\n        </span>\n\n        <span class=\"ql-formats\">\n          <button class=\"ql-blockquote\" :title=\"$t('ql-blockquote')\"></button>\n          <button class=\"ql-code-block\" :title=\"$t('ql-code-block')\"></button>\n        </span>\n\n        <span class=\"ql-formats\">\n          <button class=\"ql-clean\" :title=\"$t('ql-clean-format')\"></button>\n        </span>\n\n        <span class=\"ql-formats\">\n          <button class=\"ql-link\" :title=\"$t('ql-link')\"></button>\n          <button class=\"ql-image\" :title=\"$t('ql-image')\"></button>\n          <button class=\"ql-video\" :title=\"$t('ql-video')\"></button>\n        </span>\n\n        <span class=\"ql-formats\">\n          <span\n            :class=\"['ql-picker', expandedSpecialChars ? 'ql-expanded' : '', 'ql-special-characters']\"\n            :title=\"$t('ql-special-character')\"\n            @click=\"expandedSpecialChars = !expandedSpecialChars\"\n            v-click-outside=\"() => expandedSpecialChars = false\"\n          >\n            <span class=\"ql-picker-label\" tabindex=\"0\" role=\"button\">\n              <svg viewBox=\"0 0 18 18\">\n                <polygon class=\"ql-stroke\" points=\"7 11 9 13 11 11 7 11\"></polygon>\n                <polygon class=\"ql-stroke\" points=\"7 7 9 5 11 7 7 7\"></polygon>\n              </svg>\n            </span>\n\n            <span class=\"ql-picker-options\">\n              <button\n                class=\"special-char\"\n                v-for=\"char in specialCharacters\" :key=\"char\"\n                @click=\"insertSpecialCharacter(char)\"\n              >\n                {{ char }}\n              </button>\n            </span>\n          </span>\n        </span>\n      </div>\n    </template>\n  </quill-editor>\n</div>\n</template>\n\n<script>\nimport {quillEditor} from 'vue-quill-editor';\n\nexport default {\n  name: 'cytomine-quill-editor',\n  components: {quillEditor},\n  props: {\n    value: String,\n    placeholder: String\n  },\n  data() {\n    return {\n      editorOptions: {\n        bounds: '#tooltip-container',\n        placeholder: this.placeholder || this.$t('enter-text'),\n        modules: {\n          toolbar: '#toolbar'\n        }\n      },\n      expandedSpecialChars: false,\n      specialCharacters: [\n        '$', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '', '', ''\n      ]\n    };\n  },\n  computed: {\n    quill() {\n      return this.$refs.quillEditor.quill;\n    }\n  },\n  methods: {\n    insertSpecialCharacter(char) {\n      let range = this.quill.getSelection(true);\n      if(range.length > 0) {\n        this.quill.deleteText(range.index, range.length, 'user');\n      }\n      this.quill.insertText(range.index, char, 'user');\n      this.quill.setSelection(range.index + 1);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.cytomine-quill-editor {\n  position: relative;\n  min-height: 30vh;\n  display: flex;\n  flex-direction: column;\n\n  .ql-toolbar {\n    flex-shrink: 0;\n  }\n\n  .ql-bold svg, .ql-italic svg, .ql-underline svg {\n    display: none;\n  }\n\n  .ql-bold::before {\n    content: \"A\";\n    font-weight: 600;\n  }\n\n  .ql-italic::before {\n    content: \"A\";\n    font-style: italic;\n  }\n\n  .ql-underline::before {\n    content:\"A\";\n    text-decoration: underline;\n  }\n\n  .ql-picker.ql-special-characters .ql-picker-label::before {\n    content: \"\\03A9\"; /* Omega */\n    font-weight: 600;\n    margin-right: 1.5em;\n  }\n\n  .ql-picker.ql-special-characters .ql-picker-options  {\n    white-space: normal;\n    width: 13.3em;\n  }\n\n  .special-char {\n    display: inline-block !important;\n  }\n\n  .special-char:hover {\n    background: #f5f5f5 !important;\n  }\n\n  #tooltip-container {\n    position: absolute;\n    left: 1em;\n    right: 1em;\n    top: 0;\n    bottom: 0;\n    pointer-events: none; /* to allow selection of elements below it */\n  }\n\n  .quill-editor {\n    min-height: 30vh;\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n  }\n\n  .ql-container {\n    overflow: auto;\n    flex-grow: 1;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineQuillEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineQuillEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineQuillEditor.vue?vue&type=template&id=3fc7de68&\"\nimport script from \"./CytomineQuillEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineQuillEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineQuillEditor.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<cytomine-modal-card\n  :title=\"$t('description')\"\n  class=\"description-modal\"\n  :class=\"{expanded: expanded}\"\n  @close=\"$parent.close()\"\n>\n  <template #controls>\n    <button class=\"button is-small\" @click=\"expanded = !expanded\">\n      <i :class=\"['fas', expanded ? 'fa-compress' : 'fa-expand']\"></i>\n    </button>\n  </template>\n\n  <div v-if=\"!edit\" class=\"ql-snow\">\n    <div class=\"ql-editor preview\" v-html=\"descriptionWithoutKeywords\"></div>\n  </div>\n\n  <template v-else>\n    <div class=\"keyword-info\">\n      <i class=\"fas fa-info-circle\"></i>\n      <i18n path=\"info-keyword-stop-preview-description\">\n        <span place=\"keyword\" class=\"keyword\"> {{ stopPreviewKeyword }} </span>\n      </i18n>\n    </div>\n\n    <cytomine-quill-editor v-model=\"descriptionContent\" :placeholder=\"$t('enter-description')\" />\n  </template>\n\n  <template v-if=\"edit\" #footer>\n    <button class=\"button\" @click=\"$parent.close()\">{{$t('button-cancel')}}</button>\n    <button v-if=\"edit\" class=\"button is-link\" @click=\"save()\"> {{ $t('button-save') }} </button>\n  </template>\n</cytomine-modal-card>\n</template>\n\n<script>\nimport CytomineQuillEditor from '@/components/form/CytomineQuillEditor';\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\nimport constants from '@/utils/constants.js';\n\nexport default {\n  name: 'cytomine-description-modal',\n  props: {\n    description: Object,\n    edit: Boolean\n  },\n  components: {\n    CytomineModalCard,\n    CytomineQuillEditor\n  },\n  data() {\n    return {\n      descriptionContent: '',\n      expanded: false\n    };\n  },\n  computed: {\n    descriptionWithoutKeywords() {\n      return this.description.data.replace(new RegExp(constants.STOP_PREVIEW_KEYWORD, 'g'), '');\n    },\n    stopPreviewKeyword() {\n      return constants.STOP_PREVIEW_KEYWORD;\n    }\n  },\n  methods: {\n    async save() {\n      let updatedDesc = this.description.clone();\n      try {\n        if(this.descriptionContent) {\n          updatedDesc.data = this.descriptionContent;\n          await updatedDesc.save();\n          this.$emit('change', updatedDesc);\n        }\n        else if(this.description.data) { // if description existed, and content was emptied by user, delete description model\n          await updatedDesc.delete();\n          this.$emit('change', null);\n        }\n        this.$parent.close();\n      }\n      catch(error) {\n        this.descriptionContent = this.description.data;\n        this.$notify({type: 'error', text: this.$t('notif-error-update-description')});\n      }\n    }\n  },\n  created() {\n    this.descriptionContent = this.description.data;\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.description-modal {\n  &.expanded, &.expanded .modal-card-body {\n    width: 90vw;\n    height: 90vh;\n    max-height: 90vh;\n  }\n\n  &:not(.expanded), &:not(.expanded) .modal-card-body {\n    width: 50vw;\n    height: 60vh;\n    max-height: 60vh;\n  }\n\n  .ql-editor.preview {\n    padding: 0 0 1em 0;\n    text-align: justify;\n    white-space: normal;\n  }\n\n  .modal-card-body {\n    display: flex;\n    flex-direction: column;\n    position: relative;\n  }\n\n  .keyword-info {\n    margin-bottom: 1em;\n\n    .fas {\n      margin-right: 0.75em;\n    }\n\n    .keyword {\n      font-weight: 600;\n    }\n  }\n\n  .cytomine-quill-editor {\n    flex: 1;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDescriptionModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDescriptionModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineDescriptionModal.vue?vue&type=template&id=76a79cc4&\"\nimport script from \"./CytomineDescriptionModal.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineDescriptionModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineDescriptionModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div :class=\"['description-wrapper', loading ? 'loading' : '']\">\n  <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\n  <template v-if=\"!loading\">\n    <template v-if=\"description\">\n      <div class=\"ql-snow\">\n        <div class=\"ql-editor\" v-html=\"previewDescription\"></div> <!-- WARNING can lead to js injection -->\n      </div>\n      <div class=\"buttons are-small\">\n        <button class=\"button\" v-if=\"croppedDescription\" @click=\"openModal(false)\">\n          {{ $t('button-full-text') }}\n        </button>\n        <button class=\"button\" v-if=\"canEdit\" @click=\"openModal(true)\">\n          {{ $t('button-edit') }}\n        </button>\n      </div>\n    </template>\n    <template v-else>\n      <em>{{$t('no-description')}}</em>\n      <button v-if=\"canEdit\" class=\"button is-small margin\" @click=\"openModal(true)\">\n        {{$t('button-add')}}\n      </button>\n    </template>\n  </template>\n</div>\n</template>\n\n<script>\nimport {Description} from 'cytomine-client';\nimport DescriptionModal from './CytomineDescriptionModal';\n\nimport constants from '@/utils/constants.js';\n\nexport default {\n  name: 'cytomine-description',\n  props: {\n    object: {type: Object},\n    canEdit: {type: Boolean, default: true},\n    maxPreviewLength: {type: Number, default: 0} // if set to 0, the description preview is not limited unless stop preview keyword is present\n  },\n  data() {\n    return {\n      loading: true,\n      description: null,\n      modalOpened: false\n    };\n  },\n  computed: {\n    previewDescription() {\n      let posStop = this.description.data.indexOf(constants.STOP_PREVIEW_KEYWORD);\n      if(posStop !== -1) {\n        return this.description.data.substring(0, posStop);\n      }\n      else if(this.maxPreviewLength && this.description.data.length > this.maxPreviewLength) {\n        return this.description.data.substring(0, this.maxPreviewLength) + '...';\n      }\n      else {\n        return this.description.data;\n      }\n    },\n    croppedDescription() {\n      return this.description.data.length !== this.previewDescription.length;\n    }\n  },\n  methods: {\n    openModal(edit) {\n      // required to use programmatic modal because the description is sometimes displayed in elements with a\n      // CSS transform (e.g. popover) that conflict with the fixed position of the modal\n      // (http://meyerweb.com/eric/thoughts/2011/09/12/un-fixing-fixed-elements-with-css-transforms/)\n\n      this.$buefy.modal.open({\n        parent: this,\n        component: DescriptionModal,\n        props: {\n          description: this.description || new Description({data: '', object: this.object}),\n          edit\n        },\n        hasModalCard: true,\n        events: {\n          change: newDesc => this.description = newDesc\n        }\n      });\n    }\n  },\n  async created() {\n    try {\n      this.description = await Description.fetch(this.object);\n    }\n    catch(err) {\n      // the error may make sense if the object has no description\n    }\n    this.loading = false;\n  }\n\n};\n</script>\n\n<style scoped>\n.description-wrapper {\n  position: relative;\n}\n\n.description-wrapper .ql-editor {\n  padding: 0;\n  white-space: normal;\n}\n\n.description-wrapper.loading {\n  min-height: 3em;\n}\n\n.button.margin {\n  margin-left: 0.5em;\n}\n\n.ql-snow {\n  margin-bottom: 0.5em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDescription.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDescription.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineDescription.vue?vue&type=template&id=17d906a7&scoped=true&\"\nimport script from \"./CytomineDescription.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineDescription.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineDescription.vue?vue&type=style&index=0&id=17d906a7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17d906a7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"properties-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[_c('b-field',{attrs:{\"grouped\":\"\",\"group-multiline\":\"\"}},[(_vm.error)?_c('em',[_vm._v(_vm._s(_vm.$t('error-fetch-properties')))]):(_vm.properties.length > 0)?_vm._l((_vm.notEditedProperties),function(prop,idx){return _c('div',{key:prop.id,staticClass:\"control\"},[_c('b-taglist',{attrs:{\"attached\":\"\"}},[_c('b-tag',{attrs:{\"type\":\"is-dark\"}},[_vm._v(_vm._s(prop.key))]),_c('b-tag',[_vm._v(\" \"+_vm._s(prop.value)+\" \"),(_vm.canEdit)?[_c('button',{staticClass:\"edit is-small\",attrs:{\"title\":_vm.$t('button-edit')},on:{\"click\":function($event){return _vm.startPropEdition(prop)}}},[_c('i',{staticClass:\"fas fa-pencil-alt\"})]),_c('button',{staticClass:\"delete is-small\",attrs:{\"title\":_vm.$t('button-delete')},on:{\"click\":function($event){return _vm.removeProp(idx)}}})]:_vm._e()],2)],1)],1)}):(_vm.properties.length === 0)?_c('em',[_vm._v(_vm._s(_vm.$t('no-properties')))]):_vm._e(),(_vm.canEdit)?_c('button',{key:\"showForm\",staticClass:\"button is-small add-prop\",on:{\"click\":function($event){return _vm.addNewProp()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")]):(_vm.properties.length === 0)?_c('em',[_vm._v(_vm._s(_vm.$t('no-properties')))]):_vm._e()],2),_vm._l((_vm.editedProperties),function(prop,idx){return _c('form',{key:prop.id,staticClass:\"new-prop-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.saveProp(idx)}}},[_c('b-input',{attrs:{\"size\":\"is-small\",\"placeholder\":_vm.$t('key')},model:{value:(prop.key),callback:function ($$v) {_vm.$set(prop, \"key\", $$v)},expression:\"prop.key\"}}),_c('b-input',{attrs:{\"size\":\"is-small\",\"placeholder\":_vm.$t('value')},model:{value:(prop.value),callback:function ($$v) {_vm.$set(prop, \"value\", $$v)},expression:\"prop.value\"}}),_c('button',{staticClass:\"button is-small\"},[_vm._v(\" \"+_vm._s(prop.id ? _vm.$t('button-save') : _vm.$t('button-add'))+\" \")]),_c('button',{staticClass:\"button is-small\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.cancelPropEdition(idx)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")])],1)})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"properties-wrapper\">\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\n  <template v-if=\"!loading\">\n    <b-field grouped group-multiline>\n      <em v-if=\"error\">{{$t('error-fetch-properties')}}</em>\n      <div class=\"control\" v-else-if=\"properties.length > 0\" v-for=\"(prop, idx) in notEditedProperties\" :key=\"prop.id\">\n        <b-taglist attached>\n          <b-tag type=\"is-dark\">{{prop.key}}</b-tag>\n          <b-tag>\n            {{prop.value}}\n            <template v-if=\"canEdit\">\n              <button class=\"edit is-small\" :title=\"$t('button-edit')\" @click=\"startPropEdition(prop)\">\n                <i class=\"fas fa-pencil-alt\"></i>\n              </button>\n              <button class=\"delete is-small\" :title=\"$t('button-delete')\" @click=\"removeProp(idx)\">\n              </button>\n            </template>\n          </b-tag>\n        </b-taglist>\n      </div>\n      <em v-else-if=\"properties.length === 0\">{{$t('no-properties')}}</em>\n\n      <button v-if=\"canEdit\" class=\"button is-small add-prop\" @click=\"addNewProp()\" key=\"showForm\">\n        {{$t('button-add')}}\n      </button>\n      <em v-else-if=\"properties.length === 0\">{{$t('no-properties')}}</em>\n    </b-field>\n\n    <form @submit.prevent=\"saveProp(idx)\" class=\"new-prop-form\" v-for=\"(prop, idx) in editedProperties\" :key=\"prop.id\">\n      <b-input size=\"is-small\" v-model=\"prop.key\" :placeholder=\"$t('key')\" />\n      <b-input size=\"is-small\" v-model=\"prop.value\" :placeholder=\"$t('value')\" />\n      <button class=\"button is-small\">\n        {{prop.id ? $t('button-save') : $t('button-add')}}\n      </button>\n      <button class=\"button is-small\" type=\"button\" @click=\"cancelPropEdition(idx)\">\n        {{$t('button-cancel')}}\n      </button>\n    </form>\n  </template>\n</div>\n</template>\n\n<script>\nimport {Property, PropertyCollection} from 'cytomine-client';\nimport constants from '@/utils/constants.js';\n\nexport default {\n  name: 'cytomine-properties',\n  props: {\n    object: {type: Object},\n    canEdit: {type: Boolean, default: true}\n  },\n  data() {\n    return {\n      loading: true,\n      error: false,\n\n      properties: [],\n      editedProperties: [],\n      newPropKey: '',\n      newPropValue: '',\n      showNewPropForm: false\n    };\n  },\n  computed: {\n    notEditedProperties() {\n      let editedIds = this.editedProperties.map(prop => prop.id);\n      return this.properties.filter(prop => !editedIds.includes(prop.id));\n    }\n  },\n  methods: {\n    addNewProp() {\n      let newProp = new Property({object: this.object});\n      this.editedProperties.push(newProp);\n    },\n    async removeProp(idx) {\n      let prop = this.properties[idx];\n      try {\n        await Property.delete(prop.id, this.object);\n        this.properties.splice(idx, 1);\n        this.$emit('update');\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-remove-prop')});\n      }\n    },\n    startPropEdition(prop) {\n      // store current values of key and value, so that they can be restored if needed (e.g. edit cancellation)\n      prop.oldKey = prop.key;\n      prop.oldValue = prop.value;\n      this.editedProperties.splice(0, 0, prop); // insert at first position\n    },\n    async saveProp(idx) {\n      let prop = this.editedProperties[idx];\n\n      // prevent user from saving a property whose key starts with the internal prefix (would be hidden aftewards)\n      if(prop.key.startsWith(constants.PREFIX_HIDDEN_PROPERTY_KEY)) {\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-invalid-key-prefix', {prefix: constants.PREFIX_HIDDEN_PROPERTY_KEY})\n        });\n        return;\n      }\n\n      let newProp = prop.isNew();\n      try {\n        await prop.save();\n        this.editedProperties.splice(idx, 1);\n        if(newProp) {\n          this.properties.push(prop);\n        }\n        this.$emit('update');\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-save-prop')});\n      }\n    },\n    cancelPropEdition(idx) {\n      let prop = this.editedProperties[idx];\n      prop.key = prop.oldKey;\n      prop.value = prop.oldValue;\n      this.editedProperties.splice(idx, 1);\n    },\n  },\n  async created() {\n    try {\n      let props = (await PropertyCollection.fetchAll({object: this.object})).array;\n      this.properties = props.filter(prop => !prop.key.startsWith(constants.PREFIX_HIDDEN_PROPERTY_KEY)); // filter the properties used internally\n    }\n    catch(error) {\n      console.log(error);\n      this.error = true;\n    }\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\n.new-prop-form {\n  margin-bottom: 0.45em;\n  margin-top: 0.45em;\n}\n\n.new-prop-form .button {\n  margin: 0;\n  margin-right: 0.45em;\n}\n\n.new-prop-form .control {\n  margin-right: 0.5em;\n  display: inline-block;\n}\n\n.tag button.edit {\n  height: 16px;\n  width: 16px;\n  background-color: rgba(10, 10, 10, 0.2);\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  pointer-events: auto;\n  display: inline-block;\n  font-size: 8px;\n  padding: 0;\n  outline: none;\n  position: relative;\n  vertical-align: top;\n  color: white;\n  margin-left: 0.5em;\n  line-height: 17px;\n}\n\n.tag button.edit:hover {\n  background-color: rgba(10, 10, 10, 0.3);\n}\n\nem {\n  margin-right: 0.5em;\n}\n</style>\n\n<style>\n.properties-wrapper .control, .properties-wrapper .tags {\n  margin-bottom: 0 !important;\n}\n\n.properties-wrapper .tag {\n  margin-right: 0.5em;\n  margin-bottom: 0.3em !important;\n  background-color: rgba(0, 0, 0, 0.04);\n}\n\n.properties-wrapper .tag.is-dark {\n  background-color: rgba(0, 0, 0, 0.1);\n  color: black;\n}\n\n.properties-wrapper .field.is-grouped.is-grouped-multiline {\n  margin-bottom: 0 !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProperties.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProperties.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineProperties.vue?vue&type=template&id=7755d0c0&scoped=true&\"\nimport script from \"./CytomineProperties.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineProperties.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineProperties.vue?vue&type=style&index=0&id=7755d0c0&scoped=true&lang=css&\"\nimport style1 from \"./CytomineProperties.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7755d0c0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tags-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[_c('b-field',{attrs:{\"grouped\":\"\",\"group-multiline\":\"\"}},[(_vm.error)?_c('em',[_vm._v(_vm._s(_vm.$t('error-fetch-tags')))]):(_vm.associatedTags.length > 0)?_vm._l((_vm.associatedTags),function(association,idx){return _c('div',{key:association.id,staticClass:\"control\"},[_c('b-taglist',{attrs:{\"attached\":\"\"}},[_c('b-tag',{attrs:{\"type\":\"is-info\"}},[_vm._v(_vm._s(association.tagName.toUpperCase()))]),(_vm.canEdit)?_c('b-tag',[_c('button',{staticClass:\"delete is-small\",attrs:{\"title\":_vm.$t('button-delete')},on:{\"click\":function($event){return _vm.removeTag(association, idx)}}})]):_vm._e()],1)],1)}):(_vm.associatedTags.length === 0)?_c('em',[_vm._v(_vm._s(_vm.$t('no-tag')))]):_vm._e(),(_vm.canEdit)?_c('button',{staticClass:\"button is-small add-tag\",on:{\"click\":function($event){return _vm.displayModal()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")]):_vm._e()],2)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-taginput',{attrs:{\"value\":_vm.value,\"data\":_vm.filteredDomains,\"autocomplete\":\"\",\"open-on-focus\":true,\"append-to-body\":true,\"field\":_vm.displayedProperty,\"placeholder\":_vm.$t(_vm.placeholder),\"allow-new\":_vm.allowNew,\"allow-duplicates\":false},on:{\"input\":function($event){return _vm.$emit('input', $event)},\"typing\":function (val) { return _vm.searchString = val; },\"add\":function($event){_vm.searchString = ''}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport _ from 'lodash';\n\n/**\n * Return a Regexp based on the provided search string, and using * as a wildcard character.\n * @param {String} str The string entered by the user\n * @return {RegExp}\n */\nexport function getWildcardRegexp(str) {\n  let escapedString = _.escapeRegExp(str); // escape all RegExp special characters (only * should have a special behaviour)\n  return new RegExp('(' + escapedString.split('\\\\*').join('.*') + ')', 'i');\n}\n","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<b-taginput\n  :value=\"value\"\n  @input=\"$emit('input', $event)\"\n  :data=\"filteredDomains\"\n  autocomplete\n  :open-on-focus=\"true\"\n  :append-to-body=\"true\"\n  :field=\"displayedProperty\"\n  :placeholder=\"$t(placeholder)\"\n  @typing=\"val => searchString = val\"\n  @add=\"searchString = ''\"\n  :allow-new=\"allowNew\"\n  :allow-duplicates=\"false\"\n/>\n</template>\n\n<script>\nimport {getWildcardRegexp} from '@/utils/string-utils';\n\nexport default {\n  name: 'domain-tag-input',\n  props: {\n    value: Array,\n    domains: Array,\n    identifier: {\n      type: String,\n      default: 'id'\n    },\n    displayedProperty: {\n      type: String,\n      default: 'name'\n    },\n    searchedProperty: {\n      type: String,\n      default: 'name'\n    },\n    allowNew: {\n      type: Boolean,\n      default: false\n    },\n    placeholder: {\n      type: String,\n      default: 'search-placeholder'\n    }\n  },\n  data() {\n    return {\n      searchString: ''\n    };\n  },\n  computed: {\n    filteredDomains() {\n      let selectedIds = this.value.map(v => v[this.identifier]);\n      let filtered = this.domains.filter(user => !selectedIds.includes(user[this.identifier]));\n      if(this.searchString === '') {\n        return filtered;\n      }\n\n      let regexp = getWildcardRegexp(this.searchString);\n\n      return filtered.filter(user => regexp.test(user[this.searchedProperty]));\n    }\n  }\n};\n</script>\n<style scoped>\n.taginput {\n  width: 82% !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainTagInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainTagInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DomainTagInput.vue?vue&type=template&id=526466b8&scoped=true&\"\nimport script from \"./DomainTagInput.vue?vue&type=script&lang=js&\"\nexport * from \"./DomainTagInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DomainTagInput.vue?vue&type=style&index=0&id=526466b8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"526466b8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('cytomine-modal-card',{attrs:{\"title\":_vm.$t('associate-tags'),\"active\":\"\"},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$parent.close()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",on:{\"click\":_vm.addAssociations}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")])]},proxy:true}])},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[_c('b-field',[_c('domain-tag-input',{attrs:{\"domains\":_vm.notAssociatedTags,\"placeholder\":\"search-or-create-tag\",\"allowNew\":\"\"},model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})],1)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<cytomine-modal-card :title=\"$t('associate-tags')\" active>\n  <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\n  <template v-if=\"!loading\">\n    <b-field>\n      <domain-tag-input v-model=\"selectedTags\" :domains=\"notAssociatedTags\" placeholder=\"search-or-create-tag\" allowNew />\n    </b-field>\n  </template>\n\n  <template #footer>\n    <button class=\"button\" @click=\"$parent.close()\">\n      {{$t('button-cancel')}}\n    </button>\n    <button class=\"button is-link\" @click=\"addAssociations\">\n      {{$t('button-add')}}\n    </button>\n  </template>\n</cytomine-modal-card>\n</template>\n\n<script>\n\nimport {TagCollection} from 'cytomine-client';\nimport DomainTagInput from '@/components/utils/DomainTagInput';\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\n\nexport default {\n  name: 'add-tag-modal',\n  props: {\n    associatedTags: Array\n  },\n  components: {\n    CytomineModalCard,\n    DomainTagInput,\n  },\n  data() {\n    return {\n      loading: true,\n      tags: [],\n      selectedTags: []\n    };\n  },\n  computed: {\n    notAssociatedTags() {\n      return this.tags.filter(tag => !this.associatedTags.map(u => u.tag).includes(tag.id));\n    }\n  },\n  methods: {\n    async addAssociations() {\n      this.$emit('addObjects', this.selectedTags);\n      this.$parent.close();\n    },\n    async fetchTags() {\n      this.tags = (await TagCollection.fetchAll()).array;\n    },\n\n  },\n  async created() {\n    this.fetchTags();\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\n>>> .modal-card, >>> .modal-card-body {\n  overflow: visible !important;\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddTagDomainAssociationModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddTagDomainAssociationModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddTagDomainAssociationModal.vue?vue&type=template&id=3d0b8921&scoped=true&\"\nimport script from \"./AddTagDomainAssociationModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddTagDomainAssociationModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddTagDomainAssociationModal.vue?vue&type=style&index=0&id=3d0b8921&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d0b8921\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"tags-wrapper\">\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\n  <template v-if=\"!loading\">\n    <b-field grouped group-multiline>\n      <em v-if=\"error\">{{$t('error-fetch-tags')}}</em>\n      <div class=\"control\" v-else-if=\"associatedTags.length > 0\" v-for=\"(association, idx) in associatedTags\" :key=\"association.id\">\n        <b-taglist attached>\n          <b-tag type=\"is-info\">{{association.tagName.toUpperCase()}}</b-tag>\n          <b-tag v-if=\"canEdit\">\n            <button class=\"delete is-small\" :title=\"$t('button-delete')\" @click=\"removeTag(association, idx)\">\n            </button>\n          </b-tag>\n        </b-taglist>\n      </div>\n      <em v-else-if=\"associatedTags.length === 0\">{{$t('no-tag')}}</em>\n\n      <button v-if=\"canEdit\" class=\"button is-small add-tag\" @click=\"displayModal()\">\n        {{$t('button-add')}}\n      </button>\n    </b-field>\n  </template>\n</div>\n</template>\n\n<script>\n\nimport {Tag, TagDomainAssociation, TagDomainAssociationCollection} from 'cytomine-client';\nimport DomainTagInput from '@/components/utils/DomainTagInput';\nimport AddTagDomainAssociationModal from '@/components/tag/AddTagDomainAssociationModal';\n\nexport default {\n  name: 'cytomine-tags',\n  props: {\n    object: {type: Object},\n    canEdit: {type: Boolean, default: true}\n  },\n  components: {\n    DomainTagInput,\n    AddTagDomainAssociationModal\n  },\n  data() {\n    return {\n      loading: true,\n      error: false,\n      addTagModal:false,\n      associatedTags: []\n    };\n  },\n  methods: {\n    displayModal() {\n      //this.addTagModal = true;\n      // required to use programmatic modal because the description is sometimes displayed in elements with a\n      // CSS transform (e.g. popover) that conflict with the fixed position of the modal\n      // (http://meyerweb.com/eric/thoughts/2011/09/12/un-fixing-fixed-elements-with-css-transforms/)\n\n      this.$buefy.modal.open({\n        parent: this,\n        component: AddTagDomainAssociationModal,\n        props: {associatedTags: this.associatedTags},\n        hasModalCard: true,\n        events: {'addObjects': this.addAssociations}\n      });\n    },\n    sortAssociatedTags() {\n      this.associatedTags.sort((a, b) => a.tagName.localeCompare(b.tagName));\n    },\n    async addAssociations(tags){\n      if(tags.length === 0) {\n        this.$notify({type: 'error', text: this.$t('notif-error-add-tag-domain-associations')});\n        return;\n      }\n\n      let [existingTags, newTags] = tags.reduce(\n        (result, element) => {\n          result[element instanceof Tag ? 0 : 1].push(element); // Determine and push to which arr\n          return result;\n        },\n        [[], []] // Default values\n      );\n\n      try{\n        let tagPromises = [];\n        for(let i = 0; i < newTags.length; i++) {\n          tagPromises.push(new Tag({name : newTags[i]}, this.object).save());\n        }\n        newTags = await Promise.all(tagPromises).then(function(values) {\n          return values;\n        });\n        tags = existingTags.concat(newTags);\n      }\n      catch(error){\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-add-tags')});\n      }\n\n      try{\n        let associationPromises = [];\n        for(let i = 0; i < tags.length; i++) {\n          associationPromises.push(new TagDomainAssociation({tag : tags[i].id}, this.object).save());\n        }\n        let newAssocations = await Promise.all(associationPromises).then(function(values) {\n          return values;\n        });\n        this.associatedTags = this.associatedTags.concat(newAssocations);\n        this.sortAssociatedTags();\n        this.$notify({type: 'success', text: this.$t('notif-success-add-tag-domain-association')});\n      }\n      catch(error){\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-add-tag-domain-associations')});\n      }\n    },\n    async removeTag(association, idx) {\n      try {\n        await TagDomainAssociation.delete(association.id);\n        this.associatedTags.splice(idx, 1);\n        this.$emit('update');\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-remove-tag')});\n      }\n    },\n  },\n  async created() {\n    try {\n      this.associatedTags = (await new TagDomainAssociationCollection({object: this.object}).fetchAll()).array;\n      this.sortAssociatedTags();\n    }\n    catch(error) {\n      console.log(error);\n      this.error = true;\n    }\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\nem {\n  margin-right: 0.5em;\n}\n</style>\n\n<style>\n.tags-wrapper .control, .tags-wrapper .tags {\n  margin-bottom: 0 !important;\n}\n\n.tags-wrapper .tag {\n  margin-right: 0.5em;\n  margin-bottom: 0.3em !important;\n  background-color: rgba(0, 0, 0, 0.04);\n}\n\n.tags-wrapper .tag.is-dark {\n  background-color: rgba(0, 0, 0, 0.1);\n  color: black;\n}\n\n.tags-wrapper .field.is-grouped.is-grouped-multiline {\n  margin-bottom: 0 !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTags.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTags.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineTags.vue?vue&type=template&id=a3bd014e&scoped=true&\"\nimport script from \"./CytomineTags.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineTags.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineTags.vue?vue&type=style&index=0&id=a3bd014e&scoped=true&lang=css&\"\nimport style1 from \"./CytomineTags.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a3bd014e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"attached-files-wrapper\"},[(!_vm.loading)?[(_vm.error)?_c('em',[_vm._v(_vm._s(_vm.$t('error-attached-files')))]):(_vm.attachedFiles.length > 0)?_vm._l((_vm.attachedFiles),function(file,index){return _c('span',{key:file.id,staticClass:\"file-item\"},[_c('a',{attrs:{\"href\":_vm.host + file.url}},[_vm._v(_vm._s(file.filename))]),(_vm.canEdit)?_c('button',{staticClass:\"delete is-small\",on:{\"click\":function($event){return _vm.confirmDeletion(file, index)}}}):_vm._e(),(index < _vm.attachedFiles.length - 1)?[_vm._v(\",\")]:_vm._e()],2)}):_c('em',[_vm._v(_vm._s(_vm.$t('no-attached-file'))+\" \")]),(_vm.canEdit)?_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.displayModal()}}},[_vm._v(_vm._s(_vm.$t('button-add')))]):_vm._e()]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('cytomine-modal-card',{attrs:{\"title\":_vm.$t('add-attached-file')},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$parent.close()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":!_vm.selectedFile || _vm.errors.any()},on:{\"click\":function($event){return _vm.save()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-field',[_c('b-upload',{attrs:{\"type\":\"is-link\",\"drag-drop\":\"\"},model:{value:(_vm.selectedFile),callback:function ($$v) {_vm.selectedFile=$$v},expression:\"selectedFile\"}},[_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"content has-text-centered\"},[(!_vm.selectedFile)?[_c('p',[_c('i',{staticClass:\"fas fa-upload fa-3x\"})]),_c('p',[_vm._v(_vm._s(_vm.$t('choose-file-or-drop')))])]:[_c('p',{staticClass:\"filename is-size-4\"},[_c('i',{staticClass:\"fas fa-file\"}),_vm._v(\" \"+_vm._s(_vm.selectedFile.name))]),_c('p',{staticClass:\"has-text-grey is-size-6\"},[_vm._v(_vm._s(_vm.$t('click-or-drop-new-file')))])]],2)])])],1),_c('b-field',{attrs:{\"label\":_vm.$t('name'),\"type\":{'is-danger': _vm.errors.has('name')},\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"disabled\":!_vm.selectedFile,\"name\":\"name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<cytomine-modal-card :title=\"$t('add-attached-file')\">\n  <b-field>\n    <b-upload v-model=\"selectedFile\" type=\"is-link\" drag-drop>\n      <section class=\"section\">\n        <div class=\"content has-text-centered\">\n          <template v-if=\"!selectedFile\">\n            <p><i class=\"fas fa-upload fa-3x\"></i></p>\n            <p>{{$t('choose-file-or-drop')}}</p>\n          </template>\n          <template v-else>\n            <p class=\"filename is-size-4\"><i class=\"fas fa-file\"></i> {{selectedFile.name}}</p>\n            <p class=\"has-text-grey is-size-6\">{{$t('click-or-drop-new-file')}}</p>\n          </template>\n        </div>\n      </section>\n    </b-upload>\n  </b-field>\n\n  <b-field :label=\"$t('name')\" :type=\"{'is-danger': errors.has('name')}\" :message=\"errors.first('name')\">\n    <b-input v-model=\"name\" :disabled=\"!selectedFile\" name=\"name\" v-validate=\"'required'\" />\n  </b-field>\n\n  <template #footer>\n    <button class=\"button\" @click=\"$parent.close()\">\n      {{$t('button-cancel')}}\n    </button>\n    <button class=\"button is-link\" :disabled=\"!selectedFile || errors.any()\" @click=\"save()\">\n      {{$t('button-save')}}\n    </button>\n  </template>\n</cytomine-modal-card>\n</template>\n\n<script>\nimport {AttachedFile} from 'cytomine-client';\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\n\nexport default {\n  name: 'attached-file-modal',\n  props: {\n    object: Object\n  },\n  components: {CytomineModalCard},\n  $_veeValidate: {validator: 'new'},\n  data() {\n    return {\n      selectedFile: null,\n      name: ''\n    };\n  },\n  watch: {\n    selectedFile(file) {\n      if(file) {\n        this.name = file.name;\n      }\n    }\n  },\n  methods: {\n    async save() {\n      let result = await this.$validator.validateAll('password');\n      if(!this.selectedFile || !result) {\n        return;\n      }\n\n      try {\n        let attached = await new AttachedFile({file: this.selectedFile, filename: this.name}, this.object).save();\n        this.$emit('addAttachedFile', attached);\n        this.$notify({type: 'success', text: this.$t('notif-success-attached-file-creation')});\n        this.$parent.close();\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-attached-file-creation')});\n      }\n    },\n  }\n\n};\n</script>\n\n<style scoped>\n.filename {\n  color: rgb(50, 115, 220);\n}\n\n.filename .fas {\n  margin-right: 0.5em;\n}\n\n>>> .upload-draggable {\n  margin-left: 10%;\n  width: 80%;\n}\n</style>\n\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedFileModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedFileModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachedFileModal.vue?vue&type=template&id=14e73ffe&scoped=true&\"\nimport script from \"./AttachedFileModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachedFileModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachedFileModal.vue?vue&type=style&index=0&id=14e73ffe&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14e73ffe\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"attached-files-wrapper\">\n  <template v-if=\"!loading\">\n    <em v-if=\"error\">{{$t('error-attached-files')}}</em>\n    <template v-else-if=\"attachedFiles.length > 0\">\n      <span class=\"file-item\" v-for=\"(file, index) in attachedFiles\" :key=\"file.id\">\n        <a :href=\"host + file.url\">{{file.filename}}</a>\n        <button v-if=\"canEdit\" class=\"delete is-small\" @click=\"confirmDeletion(file, index)\"></button>\n        <template v-if=\"index < attachedFiles.length - 1\">,</template>\n      </span>\n    </template>\n    <em v-else>{{$t('no-attached-file')}} </em>\n    <button v-if=\"canEdit\" class=\"button is-small\" @click=\"displayModal()\">{{$t('button-add')}}</button>\n  </template>\n</div>\n</template>\n\n<script>\nimport {Cytomine, AttachedFileCollection} from 'cytomine-client';\nimport AttachedFileModal from './AttachedFileModal';\n\nexport default {\n  name: 'attached-files',\n  props: {\n    object: {type: Object},\n    canEdit: {type: Boolean, default: true}\n  },\n  data() {\n    return {\n      loading: true,\n      error: false,\n      attachedFiles: []\n    };\n  },\n  computed: {\n    host() {\n      return Cytomine.instance.host;\n    }\n  },\n  methods: {\n    displayModal() {\n      // required to use programmatic modal because the description is sometimes displayed in elements with a\n      // CSS transform (e.g. popover) that conflict with the fixed position of the modal\n      // (http://meyerweb.com/eric/thoughts/2011/09/12/un-fixing-fixed-elements-with-css-transforms/)\n\n      this.$buefy.modal.open({\n        parent: this,\n        component: AttachedFileModal,\n        props: {object: this.object},\n        hasModalCard: true,\n        events: {'addAttachedFile': this.addAttachedFile}\n      });\n    },\n    addAttachedFile(attachedFile) {\n      this.attachedFiles.push(attachedFile);\n    },\n    confirmDeletion(attachedFile, idx) {\n      this.$buefy.dialog.confirm({\n        title: this.$t('confirm-deletion'),\n        message: this.$t('confirm-deletion-attached-file', {filename: attachedFile.filename}),\n        type: 'is-danger',\n        confirmText: this.$t('button-confirm'),\n        cancelText: this.$t('button-cancel'),\n        onConfirm: () => this.deleteAttachedFile(attachedFile, idx)\n      });\n    },\n    async deleteAttachedFile(attachedFile, idx) {\n      try {\n        await attachedFile.delete();\n        this.attachedFiles.splice(idx, 1);\n        this.$notify({\n          type: 'success',\n          text: this.$t('notif-success-attached-file-deletion', {filename: attachedFile.filename})\n        });\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-attached-file-deletion', {filename: attachedFile.filename})\n        });\n      }\n    }\n  },\n  async created() {\n    try {\n      this.attachedFiles = (await AttachedFileCollection.fetchAll({object: this.object})).array;\n    }\n    catch(error) {\n      console.log(error);\n      this.error = true;\n    }\n    this.loading = false;\n  }\n\n};\n</script>\n\n<style scoped>\n.attached-files-wrapper {\n  position: relative;\n  display: flex;\n  align-items: center;\n}\n\n.file-item {\n  margin-right: 0.5em;\n}\n\n.file-item .delete {\n  margin-left: 0.4rem;\n  margin-right: 0.1rem;\n  position: relative;\n  top: 2px;\n}\n\n.button {\n  margin-left: 0.5em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedFiles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedFiles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachedFiles.vue?vue&type=template&id=c897d6d0&scoped=true&\"\nimport script from \"./AttachedFiles.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachedFiles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachedFiles.vue?vue&type=style&index=0&id=c897d6d0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c897d6d0\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\" size=\"is-small\">\n  <h2> {{ $t('error') }} </h2>\n  <p> {{ $t('unexpected-error-info-message') }} </p>\n</b-message>\n<table v-else class=\"table\">\n  <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\n  <tbody v-if=\"!loading\">\n    <tr v-if=\"isPropDisplayed('name')\">\n      <td class=\"prop-label\">{{$t('name')}}</td>\n      <td class=\"prop-content\">\n        {{project.name}}\n      </td>\n    </tr>\n    <tr v-if=\"isPropDisplayed('numberOfImages')\">\n      <td class=\"prop-label\">{{$t('images')}}</td>\n      <td class=\"prop-content\">\n        <router-link :to=\"`/project/${project.id}/images`\">{{project.numberOfImages}}</router-link>\n      </td>\n    </tr>\n    <tr v-if=\"isPropDisplayed('membersCount')\">\n      <td class=\"prop-label\">{{$t('members')}}</td>\n      <td class=\"prop-content\">\n        {{this.members.length}}\n      </td>\n    </tr>\n    <tr v-if=\"isPropDisplayed('numberOfAnnotations')\">\n      <td class=\"prop-label\">{{$t('user-annotations')}}</td>\n      <td class=\"prop-content\">\n        <router-link :to=\"`/project/${project.id}/annotations?type=user`\">\n          {{ project.numberOfAnnotations }}\n        </router-link>\n      </td>\n    </tr>\n    <tr v-if=\"isPropDisplayed('numberOfJobAnnotations')\">\n      <td class=\"prop-label\">{{$t('analysis-annotations')}}</td>\n      <td class=\"prop-content\">\n        <router-link :to=\"`/project/${project.id}/annotations?type=algo`\">\n          {{ project.numberOfJobAnnotations }}\n        </router-link>\n      </td>\n    </tr>\n    <tr v-if=\"isPropDisplayed('numberOfReviewedAnnotations')\">\n      <td class=\"prop-label\">{{$t('reviewed-annotations')}}</td>\n      <td class=\"prop-content\">\n        <router-link :to=\"`/project/${project.id}/annotations?type=reviewed`\">\n          {{project.numberOfReviewedAnnotations}}\n        </router-link>\n      </td>\n    </tr>\n    <tr v-if=\"isPropDisplayed('description')\">\n      <td class=\"prop-label\">{{$t('description')}}</td>\n      <td class=\"prop-content\">\n        <cytomine-description :object=\"project\" :canEdit=\"canManageProject\" />\n      </td>\n    </tr>\n    <tr v-if=\"isPropDisplayed('tags')\">\n      <td class=\"prop-label\">{{$t('tags')}}</td>\n      <td class=\"prop-content\">\n        <cytomine-tags :object=\"project\" :canEdit=\"canManageProject\" />\n      </td>\n    </tr>\n    <tr v-if=\"isPropDisplayed('properties')\">\n      <td class=\"prop-label\">{{$t('properties')}}</td>\n      <td class=\"prop-content\">\n        <cytomine-properties :object=\"project\" :canEdit=\"canManageProject\" />\n      </td>\n    </tr>\n    <tr v-if=\"isPropDisplayed('attachedFiles')\">\n      <td class=\"prop-label\">{{$t('attached-files')}}</td>\n      <td class=\"prop-content\">\n        <attached-files :object=\"project\" :canEdit=\"canManageProject\" />\n      </td>\n    </tr>\n    <tr v-if=\"isPropDisplayed('ontology')\">\n      <td class=\"prop-label\">{{$t('ontology')}}</td>\n      <td class=\"prop-content\">\n        <router-link v-if=\"project.ontology\" :to=\"`/ontology/${project.ontology}`\">\n          {{project.ontologyName}}\n        </router-link>\n        <em v-else>{{$t('no-ontology')}}</em>\n      </td>\n    </tr>\n    <tr v-if=\"isPropDisplayed('created')\">\n      <td class=\"prop-label\">{{$t('created-on')}}</td>\n      <td class=\"prop-content\">\n        {{ Number(project.created) | moment('ll') }}\n      </td>\n    </tr>\n    <tr v-if=\"isPropDisplayed('creator')\">\n      <td class=\"prop-label\">{{$t('creator')}}</td>\n      <td class=\"prop-content\">\n        <list-usernames :users=\"[creator]\" :onlines=\"onlines\" />\n      </td>\n    </tr>\n    <tr v-if=\"isPropDisplayed('representatives')\">\n      <td class=\"prop-label\">{{$t('representatives')}} ({{representatives.length}})</td>\n      <td class=\"prop-content\">\n        <list-usernames :users=\"representatives\" :onlines=\"onlines\" />\n      </td>\n    </tr>\n    <tr v-if=\"isPropDisplayed('managers')\">\n      <td class=\"prop-label\">{{$t('managers')}} ({{managers.length}})</td>\n      <td class=\"prop-content\">\n        <list-usernames :users=\"managers\" :onlines=\"onlines\" />\n      </td>\n    </tr>\n    <tr v-if=\"isPropDisplayed('contributors')\">\n      <td class=\"prop-label\">{{$t('contributors')}} ({{contributors.length}})</td>\n      <td class=\"prop-content\">\n        <list-usernames :users=\"contributors\" :onlines=\"onlines\" />\n      </td>\n    </tr>\n    <tr v-if=\"isPropDisplayed('imagesPreview')\">\n      <td class=\"prop-label\">{{$t('images')}}</td>\n      <td class=\"prop-content\">\n        <list-images-preview :project=\"project\" />\n      </td>\n    </tr>\n    <tr v-if=\"canManageProject\">\n      <td class=\"prop-label\">{{$t('actions')}}</td>\n      <td class=\"prop-content\">\n        <project-actions :project=\"project\" @update=\"$emit('update', $event)\" @delete=\"$emit('delete')\" />\n      </td>\n    </tr>\n  </tbody>\n</table>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport ListImagesPreview from '@/components/image/ListImagesPreview';\nimport ListUsernames from '@/components/user/ListUsernames';\nimport ProjectActions from './ProjectActions';\nimport CytomineDescription from '@/components/description/CytomineDescription';\nimport CytomineProperties from '@/components/property/CytomineProperties';\nimport CytomineTags from '@/components/tag/CytomineTags';\nimport AttachedFiles from '@/components/attached-file/AttachedFiles';\n\nexport default {\n  name: 'project-details',\n  components: {\n    ListImagesPreview,\n    ListUsernames,\n    ProjectActions,\n    CytomineDescription,\n    CytomineProperties,\n    CytomineTags,\n    AttachedFiles\n  },\n  props: {\n    project: {type: Object},\n    excludedProperties: {type: Array, default: () => []},\n    editable: {type: Boolean, default: false}\n  },\n  data() {\n    return {\n      loading: true,\n      error: false,\n\n      creator: null,\n      managers: [],\n      members: [],\n      onlines: [],\n      representatives: []\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    canManageProject() {\n      return this.editable && (this.currentUser.adminByNow || this.managersIds.includes(this.currentUser.id));\n    },\n    managersIds() {\n      return this.managers.map(manager => manager.id);\n    },\n    contributors() {\n      return this.members.filter(member => !this.managersIds.includes(member.id));\n    }\n  },\n  methods: {\n    async fetchCreator() {\n      this.creator = await this.project.fetchCreator();\n    },\n    async fetchManagers() {\n      this.managers = (await this.project.fetchAdministrators()).array;\n    },\n    async fetchRepresentatives() {\n      this.representatives = (await this.project.fetchRepresentatives()).array;\n    },\n    async fetchMembers() {\n      this.members = (await this.project.fetchUsers()).array;\n    },\n    async fetchOnlines() {\n      this.onlines = await this.project.fetchConnectedUsers();\n    },\n\n    isPropDisplayed(prop) {\n      return !this.excludedProperties.includes(prop);\n    },\n\n    deleteProject() {\n      this.$buefy.dialog.confirm({\n        title: this.$t('delete-project'),\n        message: this.$t('delete-project-confirmation-message', {projectName: this.project.name}),\n        type: 'is-danger',\n        confirmText: this.$t('button-confirm'),\n        cancelText: this.$t('button-cancel'),\n        onConfirm: () => this.$emit('delete')\n      });\n    }\n  },\n  async created() {\n    try {\n      await Promise.all([\n        this.fetchCreator(),\n        this.fetchManagers(),\n        this.fetchRepresentatives(),\n        this.fetchMembers(),\n        this.fetchOnlines()\n      ]);\n    }\n    catch(error) {\n      console.log(error);\n      this.error = true;\n    }\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\n.table {\n  background: none;\n  position: relative;\n  height: 3em;\n}\n\ntd.prop-label {\n  white-space: nowrap;\n  font-weight: 600;\n}\n\ntd.prop-content {\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectDetails.vue?vue&type=template&id=10592d48&scoped=true&\"\nimport script from \"./ProjectDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectDetails.vue?vue&type=style&index=0&id=10592d48&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10592d48\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createProject()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('create-project')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-field',{attrs:{\"label\":_vm.$t('name'),\"type\":{'is-danger': _vm.errors.has('name')},\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('ontology')}},[_c('b-radio',{attrs:{\"native-value\":\"NO\"},model:{value:(_vm.ontology),callback:function ($$v) {_vm.ontology=$$v},expression:\"ontology\"}},[_vm._v(\" \"+_vm._s(_vm.$t('no-ontology'))+\" \")])],1),_c('b-field',[_c('b-radio',{attrs:{\"native-value\":\"EXISTING\"},model:{value:(_vm.ontology),callback:function ($$v) {_vm.ontology=$$v},expression:\"ontology\"}},[_vm._v(\" \"+_vm._s(_vm.$t('use-existing-ontology'))+\" \")])],1),_c('b-field',[_c('b-radio',{attrs:{\"native-value\":\"NEW\"},model:{value:(_vm.ontology),callback:function ($$v) {_vm.ontology=$$v},expression:\"ontology\"}},[_vm._v(\" \"+_vm._s(_vm.$t('create-ontology-for-project'))+\" \")])],1),(_vm.ontology === 'EXISTING')?[_c('b-field',{attrs:{\"type\":{'is-danger': _vm.errors.has('ontology')},\"message\":_vm.errors.first('ontology')}},[_c('b-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"size\":\"is-small\",\"placeholder\":_vm.$t('select-ontology'),\"name\":\"ontology\"},model:{value:(_vm.selectedOntology),callback:function ($$v) {_vm.selectedOntology=$$v},expression:\"selectedOntology\"}},_vm._l((_vm.ontologies),function(ontology){return _c('option',{key:ontology.id,domProps:{\"value\":ontology.id}},[_vm._v(\" \"+_vm._s(ontology.name)+\" \")])}),0)],1)]:_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<form @submit.prevent=\"createProject()\">\n  <cytomine-modal :active=\"active\" :title=\"$t('create-project')\" @close=\"$emit('update:active', false)\">\n    <b-field :label=\"$t('name')\" :type=\"{'is-danger': errors.has('name')}\" :message=\"errors.first('name')\">\n      <b-input v-model=\"name\" name=\"name\" v-validate=\"'required'\" />\n    </b-field>\n\n    <b-field :label=\"$t('ontology')\">\n      <b-radio v-model=\"ontology\" native-value=\"NO\">\n        {{$t('no-ontology')}}\n      </b-radio>\n    </b-field>\n    <b-field>\n      <b-radio v-model=\"ontology\" native-value=\"EXISTING\">\n        {{$t('use-existing-ontology')}}\n      </b-radio>\n    </b-field>\n    <b-field>\n      <b-radio v-model=\"ontology\" native-value=\"NEW\">\n        {{$t('create-ontology-for-project')}}\n      </b-radio>\n    </b-field>\n\n    <template v-if=\"ontology === 'EXISTING'\">\n      <b-field :type=\"{'is-danger': errors.has('ontology')}\" :message=\"errors.first('ontology')\">\n        <b-select\n          size=\"is-small\"\n          v-model=\"selectedOntology\"\n          :placeholder=\"$t('select-ontology')\"\n          name=\"ontology\"\n          v-validate=\"'required'\"\n        >\n          <option v-for=\"ontology in ontologies\" :value=\"ontology.id\" :key=\"ontology.id\">\n            {{ontology.name}}\n          </option>\n        </b-select>\n      </b-field>\n    </template>\n\n    <template #footer>\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\n        {{$t('button-cancel')}}\n      </button>\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\n        {{$t('button-save')}}\n      </button>\n    </template>\n  </cytomine-modal>\n</form>\n</template>\n\n<script>\nimport {Project, Ontology} from 'cytomine-client';\nimport CytomineModal from '@/components/utils/CytomineModal';\n\nexport default {\n  name: 'add-project-modal',\n  props: {\n    active: Boolean,\n    ontologies: Array\n  },\n  components: {CytomineModal},\n  $_veeValidate: {validator: 'new'},\n  data() {\n    return {\n      name: '',\n      ontology: 'NO',\n      selectedOntology: null\n    };\n  },\n  watch: {\n    active(val) {\n      if(val) {\n        this.name = '';\n        this.ontology = 'NO';\n        this.selectedOntology = null;\n      }\n    }\n  },\n  methods: {\n    async createProject() {\n      let result = await this.$validator.validateAll();\n      if(!result) {\n        return;\n      }\n\n      try {\n        let idOntology;\n        if(this.ontology === 'NEW') {\n          let ontology = await new Ontology({name: this.name}).save();\n          idOntology = ontology.id;\n        }\n        else if(this.ontology === 'EXISTING') {\n          idOntology = this.selectedOntology;\n        }\n\n        let project = await new Project({name: this.name, ontology: idOntology}).save();\n        this.$notify({type: 'success', text: this.$t('notif-success-project-creation')});\n        this.$router.push(`/project/${project.id}/configuration`);\n      }\n      catch(error) {\n        if(error.response.status == 409) {\n          this.$notify({type: 'error', text: this.$t('notif-error-project-already-exists')});\n        }\n        else {\n          this.$notify({type: 'error', text: this.$t('notif-error-project-creation')});\n        }\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddProjectModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddProjectModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddProjectModal.vue?vue&type=template&id=278aa556&\"\nimport script from \"./AddProjectModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddProjectModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('i',{staticClass:\"fas fa-user-cog\",class:{disabled: !_vm.isManager, clickable: _vm.editable},attrs:{\"title\":_vm.$t(_vm.label)},on:{\"click\":function($event){return _vm.$emit('toggleManager')}}}),((!_vm.editable && _vm.isRepresentative))?_c('i',{staticClass:\"superscript fas fa-flag\"}):((_vm.editable && _vm.isManager))?_c('i',{staticClass:\"superscript fas fa-flag editable\",class:{disabled: !_vm.isRepresentative},on:{\"click\":function($event){return _vm.$emit('toggleRepresentative')}}}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n<template>\n  <div>\n    <i\n      class=\"fas fa-user-cog\"\n      :class=\"{disabled: !isManager, clickable: editable}\"\n      :title=\"$t(label)\"\n      @click=\"$emit('toggleManager')\"\n    >\n    </i>\n    <i v-if=\"(!editable && isRepresentative)\" class=\"superscript fas fa-flag\"></i>\n    <i v-else-if=\"(editable && isManager)\"\n       class=\"superscript fas fa-flag editable\"\n       :class=\"{disabled: !isRepresentative}\"\n       @click=\"$emit('toggleRepresentative')\"\n    ></i>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'IconProjectMemberRole',\n  props: {\n    isManager: {type: Boolean, default: false},\n    isRepresentative: {type: Boolean, default: false},\n    editable: {type: Boolean, default: false}\n  },\n  computed: {\n    label() {\n      if (this.editable) {\n        return '';\n      }\n      if (this.isRepresentative) {\n        return 'representative-icon-label';\n      }\n      if (this.isManager) {\n        return 'manager-icon-label';\n      }\n      return 'contributor-icon-label';\n    }\n  }\n};\n</script>\n\n<style scoped>\n  .fas.fa-user-cog {\n    width: 20px;\n    position: relative;\n    text-align: center;\n  }\n\n  .superscript {\n    font-size: 8px;\n    position: relative;\n    top: -8px;\n    left: -8px;\n    right: 0;\n  }\n\n  .fas.disabled, .disabled .fas {\n    color: rgba(0, 0, 0, 0.1);\n  }\n\n  .editable:hover {\n    color: #2778ad !important;\n    cursor: pointer;\n  }\n\n  div {\n    width: 30px;\n    text-align: left;\n    display: inline-block;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconProjectMemberRole.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconProjectMemberRole.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconProjectMemberRole.vue?vue&type=template&id=ad1d0d70&scoped=true&\"\nimport script from \"./IconProjectMemberRole.vue?vue&type=script&lang=js&\"\nexport * from \"./IconProjectMemberRole.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconProjectMemberRole.vue?vue&type=style&index=0&id=ad1d0d70&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ad1d0d70\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"list-projects-wrapper content-wrapper\">\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\n  <div class=\"box error\" v-if=\"error\">\n    <h2> {{ $t('error') }} </h2>\n    <p>{{ $t('unexpected-error-info-message') }}</p>\n  </div>\n  <div v-else-if=\"!loading\" class=\"panel\">\n    <p class=\"panel-heading\">\n      {{$t('projects')}}\n      <button v-if=\"!currentUser.guestByNow\" class=\"button is-link\" @click=\"creationModal = true\">\n        {{$t('new-project')}}\n      </button>\n    </p>\n    <div class=\"panel-block\">\n      <div class=\"search-block\">\n        <b-input\n          class=\"search-projects\"\n          v-model=\"searchString\"\n          :placeholder=\"$t('search-placeholder')\"\n          type=\"search\" icon=\"search\"\n        />\n        <button class=\"button\" @click=\"toggleFilterDisplay()\">\n          <span class=\"icon\">\n            <i class=\"fas fa-filter\"></i>\n          </span>\n          <span>\n            {{filtersOpened ? $t('button-hide-filters') : $t('button-show-filters')}}\n          </span>\n          <span v-if=\"nbActiveFilters\" class=\"nb-active-filters\">\n            {{nbActiveFilters}}\n          </span>\n        </button>\n      </div>\n\n      <b-collapse :open=\"filtersOpened\">\n        <div class=\"filters\">\n          <div class=\"columns\">\n            <div class=\"column filter\">\n              <div class=\"filter-label\">\n                {{$t('ontology')}}\n              </div>\n              <div class=\"filter-body\">\n                <cytomine-multiselect v-model=\"selectedOntologies\" :options=\"availableOntologies\"\n                  label=\"name\" track-by=\"id\" :multiple=\"true\" :allPlaceholder=\"$t('all-ontologies')\" />\n              </div>\n            </div>\n\n            <div class=\"column filter\">\n              <div class=\"filter-label\">\n                {{$t('my-role')}}\n              </div>\n              <div class=\"filter-body\">\n                <cytomine-multiselect v-model=\"selectedRoles\" :options=\"availableRoles\" multiple :searchable=\"false\" />\n              </div>\n            </div>\n\n            <div class=\"column filter\">\n              <div class=\"filter-label\">\n                {{$t('tags')}}\n              </div>\n              <div class=\"filter-body\">\n                <cytomine-multiselect v-model=\"selectedTags\" :options=\"availableTags\"\n                  label=\"name\" track-by=\"id\" :multiple=\"true\" :allPlaceholder=\"$t('all')\" />\n              </div>\n            </div>\n          </div>\n\n          <div class=\"columns\">\n              <div class=\"column filter\">\n                <div class=\"filter-label\">\n                  {{$t('members')}}\n                </div>\n                <div class=\"filter-body\">\n                  <cytomine-slider v-model=\"boundsMembers\" :max=\"maxNbMembers\" />\n                </div>\n              </div>\n\n              <div class=\"column filter\">\n                <div class=\"filter-label\">\n                  {{$t('images')}}\n                </div>\n                <div class=\"filter-body\">\n                  <cytomine-slider v-model=\"boundsImages\" :max=\"maxNbImages\" />\n                </div>\n              </div>\n\n              <div class=\"column\"></div>\n          </div>\n\n          <div class=\"columns\">\n            <div class=\"column filter\">\n              <div class=\"filter-label\">\n                {{$t('user-annotations')}}\n              </div>\n              <div class=\"filter-body\">\n                <cytomine-slider v-model=\"boundsUserAnnotations\" :max=\"maxNbUserAnnotations\" />\n              </div>\n            </div>\n\n            <div class=\"column filter\">\n              <div class=\"filter-label\">\n                {{$t('analysis-annotations')}}\n              </div>\n              <div class=\"filter-body\">\n                <cytomine-slider v-model=\"boundsJobAnnotations\" :max=\"maxNbJobAnnotations\" />\n              </div>\n            </div>\n\n            <div class=\"column filter\">\n              <div class=\"filter-label\">\n                {{$t('reviewed-annotations')}}\n              </div>\n              <div class=\"filter-body\">\n                <cytomine-slider v-model=\"boundsReviewedAnnotations\" :max=\"maxNbReviewedAnnotations\" />\n              </div>\n            </div>\n          </div>\n        </div>\n      </b-collapse>\n\n\n      <cytomine-table\n        :collection=\"projectCollection\"\n        class=\"table-projects\"\n        :currentPage.sync=\"currentPage\"\n        :perPage.sync=\"perPage\"\n        :openedDetailed.sync=\"openedDetails\"\n        :sort.sync=\"sortField\"\n        :order.sync=\"sortOrder\"\n        :revision=\"revision\"\n      >\n        <template #default=\"{row: project}\">\n          <b-table-column field=\"currentUserRole\" label=\"\" centered width=\"1\" sortable>\n            <icon-project-member-role\n              :is-manager=\"project.currentUserRoles.admin\"\n              :is-representative=\"project.currentUserRoles.representative\"\n            />\n          </b-table-column>\n\n          <b-table-column field=\"name\" :label=\"$t('name')\" sortable width=\"250\">\n            <router-link :to=\"`/project/${project.id}`\">\n              {{ project.name }}\n            </router-link>\n          </b-table-column>\n\n          <b-table-column field=\"membersCount\" :label=\"$t('members')\" centered sortable width=\"150\">\n            {{ project.membersCount }}\n          </b-table-column>\n\n          <b-table-column field=\"numberOfImages\" :label=\"$t('images')\" centered sortable width=\"150\">\n            <router-link :to=\"`/project/${project.id}/images`\">{{ project.numberOfImages }}</router-link>\n          </b-table-column>\n\n          <b-table-column field=\"numberOfAnnotations\" :label=\"$t('user-annotations')\" centered sortable width=\"150\">\n            <router-link :to=\"`/project/${project.id}/annotations?type=user`\">\n              {{ project.numberOfAnnotations }}\n            </router-link>\n          </b-table-column>\n\n          <b-table-column field=\"numberOfJobAnnotations\" :label=\"$t('analysis-annotations')\" centered sortable width=\"150\">\n            <router-link :to=\"`/project/${project.id}/annotations?type=algo`\">\n              {{ project.numberOfJobAnnotations }}\n            </router-link>\n          </b-table-column>\n\n          <b-table-column field=\"numberOfReviewedAnnotations\" :label=\"$t('reviewed-annotations')\" centered sortable width=\"150\">\n            <router-link :to=\"`/project/${project.id}/annotations?type=reviewed`\">\n              {{ project.numberOfReviewedAnnotations }}\n            </router-link>\n          </b-table-column>\n\n          <b-table-column field=\"lastActivity\" :label=\"$t('last-activity')\" centered sortable width=\"180\">\n            {{ Number(project.lastActivity) | moment('ll') }}\n          </b-table-column>\n\n          <b-table-column label=\" \" centered width=\"150\">\n            <router-link :to=\"`/project/${project.id}`\" class=\"button is-small is-link\">\n              {{$t('button-open')}}\n            </router-link>\n          </b-table-column>\n        </template>\n\n        <template #detail=\"{row: project}\">\n          <project-details\n            :project=\"project\"\n            :excluded-properties=\"excludedProperties\"\n            editable\n            @update=\"updateProject()\"\n            @delete=\"deleteProject(project)\"\n          />\n        </template>\n\n        <template #empty>\n          <div class=\"content has-text-grey has-text-centered\">\n            <p>{{$t('no-project')}}</p>\n          </div>\n        </template>\n      </cytomine-table>\n\n      <div class=\"legend\">\n          <h2>{{$t('legend')}}</h2>\n          <p><icon-project-member-role /> : {{$t('contributor-icon-label')}}</p>\n          <p><icon-project-member-role :is-manager=\"true\" /> : {{$t('manager-icon-label')}}</p>\n          <p><icon-project-member-role :is-manager=\"true\" :is-representative=\"true\" /> : {{$t('representative-icon-label')}}</p>\n      </div>\n    </div>\n  </div>\n\n  <add-project-modal :active.sync=\"creationModal\" :ontologies=\"ontologies\" />\n</div>\n</template>\n\n<script>\nimport CytomineTable from '@/components/utils/CytomineTable';\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\nimport CytomineSlider from '@/components/form/CytomineSlider';\nimport ProjectDetails from './ProjectDetails';\nimport AddProjectModal from './AddProjectModal';\n\nimport {get, sync, syncBoundsFilter, syncMultiselectFilter} from '@/utils/store-helpers';\n\nimport {ProjectCollection, OntologyCollection, TagCollection} from 'cytomine-client';\nimport IconProjectMemberRole from '@/components/icons/IconProjectMemberRole';\nexport default {\n  name: 'list-projects',\n  components: {\n    IconProjectMemberRole,\n    CytomineTable,\n    ProjectDetails,\n    AddProjectModal,\n    CytomineMultiselect,\n    CytomineSlider\n  },\n  data() {\n    return {\n      loading: true,\n      error: false,\n\n      projects: [],\n      ontologies: [],\n      availableTags:[],\n\n\n      contributorLabel: this.$t('contributor'),\n      managerLabel: this.$t('manager'),\n\n      creationModal: false,\n\n      excludedProperties: [\n        'name',\n        'membersCount',\n        'numberOfImages',\n        'numberOfAnnotations',\n        'numberOfJobAnnotations',\n        'numberOfReviewedAnnotations',\n        'lastActivity'\n      ],\n\n      maxNbMembers: 10,\n      maxNbImages: 10,\n      maxNbUserAnnotations: 100,\n      maxNbJobAnnotations: 100,\n      maxNbReviewedAnnotations: 100,\n\n      revision: 0\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n\n    searchString: sync('listProjects/searchString', {debounce: 500}),\n    filtersOpened: sync('listProjects/filtersOpened'),\n\n    availableRoles() {\n      return [this.contributorLabel, this.managerLabel];\n    },\n\n    availableOntologies() {\n      return [{id: 'null', name: this.$t('no-ontology')}, ...this.ontologies];\n    },\n\n    querySearchTags() {\n      return this.$route.query.tags;\n    },\n    selectedOntologies: syncMultiselectFilter('listProjects', 'selectedOntologies', 'availableOntologies'),\n    selectedRoles: syncMultiselectFilter('listProjects', 'selectedRoles', 'availableRoles'),\n    selectedTags: syncMultiselectFilter('listProjects', 'selectedTags', 'availableTags'),\n    boundsMembers: syncBoundsFilter('listProjects', 'boundsMembers', 'maxNbMembers'),\n    boundsImages: syncBoundsFilter('listProjects', 'boundsImages', 'maxNbImages'),\n    boundsUserAnnotations: syncBoundsFilter('listProjects', 'boundsUserAnnotations', 'maxNbUserAnnotations'),\n    boundsJobAnnotations: syncBoundsFilter('listProjects', 'boundsJobAnnotations', 'maxNbJobAnnotations'),\n    boundsReviewedAnnotations: syncBoundsFilter('listProjects', 'boundsReviewedAnnotations', 'maxNbReviewedAnnotations'),\n\n    nbActiveFilters() {\n      return this.$store.getters['listProjects/nbActiveFilters'];\n    },\n\n    selectedOntologiesIds() {\n      return this.selectedOntologies.map(ontology => ontology.id);\n    },\n\n    boundsFilters() {\n      return [\n        {prop: 'numberOfImages', bounds: this.boundsImages},\n        {prop: 'membersCount', bounds: this.boundsMembers},\n        {prop: 'numberOfAnnotations', bounds: this.boundsUserAnnotations},\n        {prop: 'numberOfJobAnnotations', bounds: this.boundsJobAnnotations},\n        {prop: 'numberOfReviewedAnnotations', bounds: this.boundsReviewedAnnotations},\n      ];\n    },\n\n    projectCollection() {\n      let collection = new ProjectCollection({\n        withMembersCount: true,\n        withLastActivity: true,\n        withCurrentUserRoles: true\n      });\n      if(this.selectedOntologiesIds.length > 0 && this.selectedOntologiesIds.length < this.availableOntologies.length){\n        collection['ontology'] = {\n          in: this.selectedOntologiesIds.join()\n        };\n      }\n      if(this.selectedRoles.length > 0){\n        collection['currentUserRole'] = {\n          in: this.selectedRoles.join().toLowerCase()\n        };\n      }\n      if(this.searchString) {\n        collection['name'] = {\n          ilike: encodeURIComponent(this.searchString)\n        };\n      }\n      if(this.selectedTags.length > 0 && this.selectedTags.length < this.availableTags.length){\n        collection['tag'] = {\n          in: this.selectedTags.map(t => t.id).join()\n        };\n      }\n      for(let {prop, bounds} of this.boundsFilters) {\n        collection[prop] = {\n          lte: bounds[1]\n        };\n        if(bounds[0] > 0) collection[prop]['gte'] = bounds[0];\n      }\n      return collection;\n    },\n\n    currentPage: sync('listProjects/currentPage'),\n    perPage: sync('listProjects/perPage'),\n    sortField: sync('listProjects/sortField'),\n    sortOrder: sync('listProjects/sortOrder'),\n    openedDetails: sync('listProjects/openedDetails')\n  },\n  watch: {\n    revision() {\n      this.fetchOntologies();\n      this.fetchMaxFilters();\n    },\n    querySearchTags(values) {\n      if(values) {\n        this.selectedTags = [];\n        let queriedTags = this.availableTags.filter(tag => values.split(',').includes(tag.name));\n        if(queriedTags) {\n          this.selectedTags = queriedTags;\n        }\n      }\n    }\n  },\n  methods: {\n    async fetchOntologies() {\n      let ontologies = (await OntologyCollection.fetchAll({light: true})).array;\n      ontologies.sort((a, b) => a.name.localeCompare(b.name));\n      this.ontologies = ontologies;\n    },\n    async fetchMaxFilters() {\n      let stats = await new ProjectCollection.fetchBounds({withMembersCount:true});\n\n      this.maxNbMembers = Math.max(10, stats.members.max);\n      this.maxNbImages = Math.max(10, stats.numberOfImages.max);\n      this.maxNbUserAnnotations = Math.max(100, stats.numberOfAnnotations.max);\n      this.maxNbJobAnnotations = Math.max(100, stats.numberOfJobAnnotations.max);\n      this.maxNbReviewedAnnotations = Math.max(100, stats.numberOfReviewedAnnotations.max);\n    },\n    async fetchTags() {\n      this.availableTags = [{id: 'null', name: this.$t('no-tag')}, ...(await TagCollection.fetchAll()).array];\n    },\n    toggleFilterDisplay() {\n      this.filtersOpened = !this.filtersOpened;\n    },\n    updateProject() {\n      this.revision++;\n    },\n    async deleteProject(projectToDelete) {\n      try {\n        await projectToDelete.delete();\n        this.revision++;\n        this.$notify({\n          type: 'success',\n          text: this.$t('notif-success-project-deletion', {projectName: projectToDelete.name})\n        });\n      }\n      catch(error) {\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-project-deletion', {projectName: projectToDelete.name})\n        });\n        return;\n      }\n    }\n  },\n  async created() {\n    try {\n      await Promise.all([\n        this.fetchOntologies(),\n        this.fetchMaxFilters(),\n        this.fetchTags()\n      ]);\n    }\n    catch(error) {\n      console.log(error);\n      this.error = true;\n    }\n    if(this.$route.query.tags) {\n      let queriedTags = this.availableTags.filter(tag => this.$route.query.tags.split(',').includes(tag.name));\n      if(queriedTags) {\n        this.selectedTags = queriedTags;\n      }\n    }\n\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\n.panel-block {\n  padding-top: 0.8em;\n}\n\n.panel-heading {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.search-block {\n  display: flex;\n}\n\n.legend {\n  margin-top: 0.8rem;\n  margin-bottom: 1rem;\n  border-radius: 10px;\n  padding: 1rem 1.5em;\n  background: #f8f8f8;\n}\n\n.legend p:not(:last-child) {\n  margin-bottom: 0.4em;\n}\n</style>\n\n<style>\n.search-projects {\n  max-width: 25em;\n  margin-right: 1em;\n}\n\n.table-projects {\n  margin-top: 1rem;\n}\n\n.list-projects-wrapper td, .list-projects-wrapper th {\n  vertical-align: middle !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListProjects.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListProjects.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListProjects.vue?vue&type=template&id=e4e5a8a2&scoped=true&\"\nimport script from \"./ListProjects.vue?vue&type=script&lang=js&\"\nexport * from \"./ListProjects.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListProjects.vue?vue&type=style&index=0&id=e4e5a8a2&scoped=true&lang=css&\"\nimport style1 from \"./ListProjects.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e4e5a8a2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"storage-wrapper content-wrapper\"},[_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('upload'))+\" \")]),(_vm.newUploadError)?_c('div',{staticClass:\"panel-block\"},[_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('error-cannot-upload'))+\" \")])],1):_c('div',{staticClass:\"panel-block\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(_vm._s(_vm.$t('important-notes')))]),_c('ul',{staticClass:\"small-text\"},[_c('li',[_vm._v(_vm._s(_vm.$t('allowed-formats-upload-info')))]),_c('li',[_vm._v(_vm._s(_vm.$t('vms-mrxs-upload-info')))]),_c('li',[_vm._v(_vm._s(_vm.$t('zip-upload-info')))]),_c('li',[_vm._v(_vm._s(_vm.$t('drag-drop-upload-info', {labelButton: _vm.$t('add-files')})))]),_c('li',[_vm._v(_vm._s(_vm.$t('link-to-project-upload-info')))])])]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter has-text-right\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('storage')))])]),_c('div',{staticClass:\"column is-half\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.storages,\"label\":\"name\",\"track-by\":\"id\",\"allow-empty\":false},model:{value:(_vm.selectedStorage),callback:function ($$v) {_vm.selectedStorage=$$v},expression:\"selectedStorage\"}})],1)]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter has-text-right\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('link-with-project')))])]),_c('div',{staticClass:\"column is-half\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.projects,\"label\":\"name\",\"track-by\":\"id\"},model:{value:(_vm.selectedProject),callback:function ($$v) {_vm.selectedProject=$$v},expression:\"selectedProject\"}})],1)]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter has-text-right\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('files')))])]),_c('div',{staticClass:\"column is-half\"},[(_vm.dropFiles.length > 0)?_c('table',{staticClass:\"table is-fullwidth upload-table\"},[_c('tbody',_vm._l((_vm.dropFiles),function(wrapper,idx){return _c('tr',{key:idx},[_c('td',[_vm._v(_vm._s(wrapper.file.name))]),_c('td',[_vm._v(_vm._s(_vm.filesize(wrapper.file.size)))]),(wrapper.uploadedFile === null)?[_c('td',[_c('progress',{staticClass:\"progress is-info\",attrs:{\"max\":\"100\"},domProps:{\"value\":wrapper.progress}},[_vm._v(\" \"+_vm._s(wrapper.progress)+\"% \")])]),_c('td',[_c('div',{staticClass:\"field is-grouped\"},[_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.startUpload(wrapper)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-start'))+\" \")])]),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.cancelUpload(idx)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")])])])])]:[_c('td',[(wrapper.uploadedFile)?_c('uploaded-file-status',{attrs:{\"file\":wrapper.uploadedFile}}):_c('span',{staticClass:\"tag is-danger\"},[_vm._v(\" \"+_vm._s(_vm.$t('upload-error'))+\" \")])],1),_c('td',[_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.cancelUpload(idx)}}},[_vm._v(_vm._s(_vm.$t('button-hide')))])])])]],2)}),0)]):_c('em',{staticClass:\"first-child-like has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-file')))])])]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-half flex-column is-offset-one-quarter\"},[(_vm.ongoingUpload)?_c('progress',{staticClass:\"progress is-success\",attrs:{\"max\":\"100\"},domProps:{\"value\":_vm.overallProgress}},[_vm._v(\" \"+_vm._s(_vm.overallProgress)+\"% \")]):_vm._e(),_c('div',{staticClass:\"buttons\"},[_c('b-upload',{attrs:{\"value\":_vm.plainFiles,\"type\":\"is-link\",\"multiple\":\"\",\"drag-drop\":\"\"},on:{\"input\":_vm.filesChange}},[_c('a',{staticClass:\"button is-success\"},[_vm._v(_vm._s(_vm.$t('add-files')))])]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":!_vm.filesPendingUpload},on:{\"click\":function($event){return _vm.startAll()}}},[_vm._v(\" \"+_vm._s(_vm.$t('start-upload'))+\" \")]),_c('button',{staticClass:\"button\",attrs:{\"disabled\":!_vm.filesPendingUpload && !_vm.ongoingUpload},on:{\"click\":function($event){return _vm.cancelAll()}}},[_vm._v(\" \"+_vm._s(_vm.$t('cancel-upload'))+\" \")]),(_vm.filesFinishedUpload)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.hideFinished()}}},[_vm._v(\" \"+_vm._s(_vm.$t('hide-successful-upload'))+\" \")]):_vm._e()],1)])])],1)]),_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('storage'))+\" \")]),_c('div',{staticClass:\"panel-block storage\"},[_c('b-input',{staticClass:\"search-uploaded-file\",attrs:{\"value\":_vm.searchString,\"placeholder\":_vm.$t('search-placeholder'),\"icon\":\"search\"},on:{\"input\":_vm.debounceSearchString}}),_c('cytomine-table',{attrs:{\"collection\":_vm.uploadedFileCollection,\"sort\":\"created\",\"order\":\"desc\",\"revision\":_vm.revision,\"openedDetailed\":_vm.openedDetails,\"refreshInterval\":_vm.tableRefreshInterval},on:{\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar uFile = ref.row;\nreturn [_c('b-table-column',{attrs:{\"label\":_vm.$t('preview'),\"width\":\"80\"}},[(uFile.thumbURL)?_c('img',{staticClass:\"image-overview\",attrs:{\"src\":uFile.thumbURL,\"alt\":\"-\"}}):_c('div',{staticClass:\"is-size-7 has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-preview-available')))])]),_c('b-table-column',{attrs:{\"field\":\"originalFilename\",\"label\":_vm.$t('filename'),\"sortable\":\"\",\"width\":\"200\"}},[_vm._v(\" \"+_vm._s(uFile.originalFilename)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"created\",\"label\":_vm.$t('created'),\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(uFile.created),'lll'))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"size\",\"label\":_vm.$t('size'),\"sortable\":\"\",\"width\":\"80\"}},[_vm._v(\" \"+_vm._s(_vm.filesize(uFile.size))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"contentType\",\"label\":_vm.$t('content-type'),\"sortable\":\"\",\"width\":\"100\"}},[_vm._v(\" \"+_vm._s(uFile.contentType)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"globalSize\",\"label\":_vm.$t('global-size'),\"sortable\":\"\",\"width\":\"80\"}},[_vm._v(\" \"+_vm._s(_vm.filesize(uFile.globalSize))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"status\",\"label\":_vm.$t('status'),\"sortable\":\"\",\"width\":\"80\"}},[_c('uploaded-file-status',{attrs:{\"file\":uFile}})],1),_c('b-table-column',{attrs:{\"field\":\"parentFilename\",\"label\":_vm.$t('from'),\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(uFile.parentFilename ? uFile.parentFilename : \"-\")+\" \")])]}},{key:\"detail\",fn:function(ref){\nvar uFile = ref.row;\nreturn [_c('uploaded-file-details',{key:uFile.id,attrs:{\"file\":uFile},on:{\"update\":function($event){return _vm.updatedTree()}}})]}},{key:\"empty\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t('no-uploaded-file')))])]},proxy:true}])})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.iconOnly)?_c('div',[(!_vm.isConverted || !_vm.file.nbChildren)?_c('span',{staticClass:\"tag\",class:_vm.tagClass},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.labels[_vm.file.status]))+\" \")]):_c('div',{staticClass:\"tags has-addons\"},[_c('span',{staticClass:\"tag is-success\"},[_vm._v(_vm._s(_vm.$t('converted')))]),_c('span',{staticClass:\"tag is-light\"},[_vm._v(_vm._s(_vm.$tc(\"count-files\", _vm.file.nbChildren, {count: _vm.file.nbChildren})))])])]):_c('span',{class:['icon', _vm.textClass]},[_c('i',{class:['fas', _vm.iconClass],attrs:{\"title\":_vm.$t(_vm.labels[_vm.file.status])}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div v-if=\"!iconOnly\">\n  <span v-if=\"!isConverted || !file.nbChildren\" class=\"tag\" :class=\"tagClass\">\n    {{$t(labels[file.status])}}\n  </span>\n  <div v-else class=\"tags has-addons\">\n    <span class=\"tag is-success\">{{$t('converted')}}</span>\n    <span class=\"tag is-light\">{{$tc(\"count-files\", file.nbChildren, {count: file.nbChildren})}}</span>\n  </div>\n</div>\n<span v-else :class=\"['icon', textClass]\">\n  <i :class=\"['fas', iconClass]\" :title=\"$t(labels[file.status])\"></i>\n</span>\n</template>\n\n<script>\nimport {UploadedFileStatus} from 'cytomine-client';\n\nexport default {\n  name: 'uploaded-file-status',\n  props: {\n    file: Object,\n    iconOnly: {type: Boolean, default: false}\n  },\n  computed: {\n    isConverted() {\n      return this.file.status === UploadedFileStatus.CONVERTED;\n    },\n    labels() {\n      return {\n        [UploadedFileStatus.UPLOADED]: 'uploaded',\n        [UploadedFileStatus.CONVERTED]: 'converted',\n        [UploadedFileStatus.DEPLOYED]: 'deployed',\n        [UploadedFileStatus.ERROR_FORMAT]: 'error-format',\n        [UploadedFileStatus.ERROR_CONVERT]: 'error-convert',\n        [UploadedFileStatus.UNCOMPRESSED]: 'uncompressed',\n        [UploadedFileStatus.TO_DEPLOY]: 'to-deploy',\n        [UploadedFileStatus.TO_CONVERT]: 'to-convert',\n        [UploadedFileStatus.ERROR_DEPLOYMENT]: 'error-deployment',\n      };\n    },\n    result() {\n      switch(this.file.status) {\n        case UploadedFileStatus.UPLOADED:\n        case UploadedFileStatus.TO_DEPLOY:\n        case UploadedFileStatus.TO_CONVERT:\n        case UploadedFileStatus.UNCOMPRESSED:\n          return 'info';\n        case UploadedFileStatus.CONVERTED:\n        case UploadedFileStatus.DEPLOYED:\n          return 'success';\n        case UploadedFileStatus.ERROR_FORMAT:\n        case UploadedFileStatus.ERROR_CONVERT:\n        case UploadedFileStatus.ERROR_DEPLOYMENT:\n          return 'danger';\n      }\n    },\n    tagClass() {\n      return 'is-' + this.result;\n    },\n    textClass() {\n      return 'has-text-' + this.result;\n    },\n    iconClass() {\n      switch(this.result) {\n        case 'info':\n          return 'fa-spinner';\n        case 'success':\n          return 'fa-check-square';\n        case 'danger':\n          return 'fa-times-circle';\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.fas {\n  font-size: 1.3em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFileStatus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFileStatus.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadedFileStatus.vue?vue&type=template&id=dcb91b00&scoped=true&\"\nimport script from \"./UploadedFileStatus.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadedFileStatus.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadedFileStatus.vue?vue&type=style&index=0&id=dcb91b00&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dcb91b00\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('file-tree'))+\" \")]),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\",\"size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):_c('sl-vue-tree',{attrs:{\"allowMultiselect\":false},scopedSlots:_vm._u([{key:\"toggle\",fn:function(ref){\nvar node = ref.node;\nreturn [(!node.isLeaf)?[_c('i',{class:['tree-toggle', 'fas', node.isExpanded ? 'fa-angle-down' : 'fa-angle-right']})]:_vm._e()]}},{key:\"title\",fn:function(ref){\nvar node = ref.node;\nreturn [_c('p',{class:{'target-element': node.data.id === _vm.file.id}},[_vm._v(_vm._s(node.title))])]}},{key:\"sidebar\",fn:function(ref){\nvar node = ref.node;\nreturn [_c('div',{staticClass:\"filesize\"},[_vm._v(\" \"+_vm._s(_vm.filesize(node.data.size))+\" \")]),_c('div',{staticClass:\"status\"},[_c('uploaded-file-status',{attrs:{\"file\":node.data,\"iconOnly\":true}})],1),_c('div',{staticClass:\"buttons\"},[_c('a',{staticClass:\"button is-small is-link\",attrs:{\"href\":node.data.downloadURL}},[_vm._v(\" \"+_vm._s(_vm.$t('button-download'))+\" \")]),_c('button',{staticClass:\"button is-small is-danger\",on:{\"click\":function($event){return _vm.confirmDeletion(node.data)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")])]),_c('p',{staticClass:\"preview\"},[(node.data.thumbURL)?_c('a',{on:{\"click\":function($event){_vm.samplePreview = node.data}}},[_vm._v(\" \"+_vm._s(_vm.$t('sample-preview'))+\" \")]):_vm._e(),(node.data.thumbURL && node.data.macroURL)?_c('span',[_vm._v(\"/\")]):_vm._e(),(node.data.macroURL)?_c('a',{on:{\"click\":function($event){_vm.slidePreview = node.data}}},[_vm._v(\" \"+_vm._s(_vm.$t('slide-preview'))+\" \")]):_vm._e()])]}}]),model:{value:(_vm.nodes),callback:function ($$v) {_vm.nodes=$$v},expression:\"nodes\"}}),(_vm.samplePreview)?[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('sample-preview-of', {filename: _vm.samplePreview.originalFilename}))+\" \"),_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.samplePreview = null}}},[_vm._v(_vm._s(_vm.$t('button-hide')))])]),_c('img',{attrs:{\"src\":_vm.samplePreview.thumbURL}})]:(_vm.slidePreview)?[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('slide-preview-of', {filename: _vm.slidePreview.originalFilename}))+\" \"),_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.slidePreview = null}}},[_vm._v(_vm._s(_vm.$t('button-hide')))])]),_c('img',{attrs:{\"src\":_vm.slidePreview.macroURL}})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div>\n  <h2>\n    {{$t('file-tree')}}\n  </h2>\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\" size=\"is-small\">\n    <h2> {{ $t('error') }} </h2>\n    <p> {{ $t('unexpected-error-info-message') }} </p>\n  </b-message>\n  <sl-vue-tree v-else v-model=\"nodes\" :allowMultiselect=\"false\">\n    <template #toggle=\"{node}\">\n      <template v-if=\"!node.isLeaf\">\n        <i :class=\"['tree-toggle', 'fas', node.isExpanded ? 'fa-angle-down' : 'fa-angle-right']\"></i>\n      </template>\n    </template>\n\n    <template #title=\"{node}\">\n      <p :class=\"{'target-element': node.data.id === file.id}\">{{node.title}}</p>\n    </template>\n\n    <template #sidebar=\"{node}\">\n      <div class=\"filesize\">\n        {{filesize(node.data.size)}}\n      </div>\n      <div class=\"status\">\n        <uploaded-file-status :file=\"node.data\" :iconOnly=\"true\" />\n      </div>\n      <div class=\"buttons\">\n        <a class=\"button is-small is-link\" :href=\"node.data.downloadURL\">\n          {{$t('button-download')}}\n        </a>\n        <button class=\"button is-small is-danger\" @click=\"confirmDeletion(node.data)\">\n          {{$t('button-delete')}}\n        </button>\n      </div>\n      <p class=\"preview\">\n        <a v-if=\"node.data.thumbURL\" @click=\"samplePreview = node.data\">\n          {{$t('sample-preview')}}\n        </a>\n        <span v-if=\"node.data.thumbURL && node.data.macroURL\">/</span>\n        <a v-if=\"node.data.macroURL\" @click=\"slidePreview = node.data\">\n          {{$t('slide-preview')}}\n        </a>\n      </p>\n    </template>\n  </sl-vue-tree>\n\n  <template v-if=\"samplePreview\">\n    <h2>\n      {{$t('sample-preview-of', {filename: samplePreview.originalFilename})}}\n      <button class=\"button is-small\" @click=\"samplePreview = null\">{{$t('button-hide')}}</button>\n    </h2>\n    <img :src=\"samplePreview.thumbURL\">\n  </template>\n  <template v-else-if=\"slidePreview\">\n    <h2>\n      {{$t('slide-preview-of', {filename: slidePreview.originalFilename})}}\n      <button class=\"button is-small\" @click=\"slidePreview = null\">{{$t('button-hide')}}</button>\n    </h2>\n    <img :src=\"slidePreview.macroURL\">\n  </template>\n</div>\n</template>\n\n<script>\nimport SlVueTree from 'sl-vue-tree';\nimport {UploadedFile, UploadedFileCollection} from 'cytomine-client';\nimport UploadedFileStatus from './UploadedFileStatus';\nimport filesize from 'filesize';\n\nexport default {\n  name: 'uploaded-file-details',\n  components: {\n    SlVueTree,\n    UploadedFileStatus\n  },\n  props: {\n    file: Object // WARNING: the root of the tree must be the file or its direct parent\n  },\n  data() {\n    return {\n      rootId: null,\n      uploadedFiles: [],\n      nodes: [],\n      slidePreview: null,\n      samplePreview: null,\n      error: false\n    };\n  },\n  watch: {\n    file() {\n      this.findRoot();\n      this.makeTree();\n    },\n    slidePreview(val) {\n      if(val) {\n        this.samplePreview = null; // if slide preview enabled, disable sample preview\n      }\n    },\n    samplePreview(val) {\n      if(val) {\n        this.slidePreview = null; // if sample preview enabled, disable slide preview\n      }\n    },\n  },\n  methods: {\n    findRoot() {\n      this.rootId = this.file.parentId || this.file.id;\n    },\n    async makeTree() {\n      try {\n        this.uploadedFiles = (await UploadedFileCollection.fetchAll({root: this.rootId})).array;\n        this.nodes = this.createNodes(null);\n      }\n      catch(error) {\n        console.log(error);\n        this.error = true;\n      }\n    },\n    createNodes(idParent) {\n      let directChildren = this.uploadedFiles.filter(file => file.parentId === idParent);\n      return directChildren.map(file => {\n        let children = this.createNodes(file.id);\n        return {\n          title: file.originalFilename,\n          isLeaf: children.length === 0,\n          isDraggable: false,\n          isExpanded: true,\n          data: {downloadURL: file.downloadURL, ...file}, // data converted to object by sl-vue-tree => need to define downloadURL as property\n          children\n        };\n      });\n    },\n    filesize(size) {\n      return filesize(size, {base: 10});\n    },\n    confirmDeletion(file) {\n      this.$buefy.dialog.confirm({\n        title: this.$t('confirm-deletion'),\n        message: this.$t('confirm-deletion-file'),\n        type: 'is-danger',\n        confirmText: this.$t('button-confirm'),\n        cancelText: this.$t('button-cancel'),\n        onConfirm: () => this.deleteFile(file)\n      });\n    },\n    async deleteFile(file) {\n      try {\n        await UploadedFile.delete(file.id);\n        this.$emit('update');\n      }\n      catch(error) {\n        console.log(error);\n        let errorValues = error.response.data.errorValues;\n        let text;\n        if(errorValues && errorValues.projectNames && errorValues.imageNames) {\n          text = this.$t('notif-error-delete-used-uploaded-file', {\n            projects: errorValues.projectNames.join(', '),\n            names: errorValues.imageNames.join(', ')\n          });\n        }\n        else {\n          text = this.$t('notif-error-delete-uploaded-file');\n        }\n        this.$notify({type: 'error', text});\n      }\n    }\n  },\n  created() {\n    this.findRoot();\n    this.makeTree();\n  }\n};\n</script>\n\n<style scoped>\n.target-element {\n  font-weight: 600;\n  min-width: 0; /* to allow correct handling of overflow-wrap */\n}\n\n.filesize {\n  width: 8em;\n  margin-left: 1em;\n}\n\n.status {\n  width: 5em;\n}\n\n.preview {\n  width: 20em;\n}\n\n.buttons {\n  margin-right: 2em;\n  margin-bottom: 0 !important;\n}\n\n.buttons .button {\n  margin-bottom: 0.5em !important;\n  margin-top: 0.2em !important;\n}\n\nh2:not(:first-child) {\n  margin-top: 1em;\n  border-bottom: 2px solid #ddd;\n}\n\nh2 .button {\n  position: relative;\n  bottom: 3px;\n  margin-left: 0.8em;\n  text-transform: none;\n}\n\n>>> .sl-vue-tree-sidebar {\n  display: flex;\n  align-items: top;\n  justify-content: flex-end;\n}\n\n>>> .sl-vue-tree-gap {\n  border: 0 dotted #bbb;\n  border-left-width: 1px;\n  position: relative;\n  right: 0.95em;\n  bottom: 1.25em;\n}\n\n>>> .sl-vue-tree-toggle {\n  background: #fafafa;\n  z-index: 1;\n}\n\n>>> .sl-vue-tree-gap:nth-last-child(3) {\n  border-width: 0 0 1px 1px !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFileDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFileDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadedFileDetails.vue?vue&type=template&id=73af0bfc&scoped=true&\"\nimport script from \"./UploadedFileDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadedFileDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadedFileDetails.vue?vue&type=style&index=0&id=73af0bfc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73af0bfc\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"storage-wrapper content-wrapper\">\n  <div class=\"panel\">\n    <p class=\"panel-heading\">\n      {{ $t('upload') }}\n    </p>\n    <div class=\"panel-block\" v-if=\"newUploadError\">\n      <b-message type=\"is-danger\" has-icon icon-size=\"is-small\">\n        {{ $t('error-cannot-upload') }}\n      </b-message>\n    </div>\n    <div class=\"panel-block\" v-else>\n      <b-message type=\"is-info\" has-icon icon-size=\"is-small\">\n        <h2>{{$t('important-notes')}}</h2>\n        <ul class=\"small-text\">\n          <li>{{$t('allowed-formats-upload-info')}}</li>\n          <li>{{$t('vms-mrxs-upload-info')}}</li>\n          <li>{{$t('zip-upload-info')}}</li>\n          <li>{{$t('drag-drop-upload-info', {labelButton: $t('add-files')})}}</li>\n          <li>{{$t('link-to-project-upload-info')}}</li>\n        </ul>\n      </b-message>\n\n      <div class=\"columns\">\n        <div class=\"column is-one-quarter has-text-right\">\n          <strong>{{$t('storage')}}</strong>\n        </div>\n        <div class=\"column is-half\">\n          <cytomine-multiselect v-model=\"selectedStorage\" :options=\"storages\" label=\"name\" track-by=\"id\" :allow-empty=\"false\" />\n        </div>\n      </div>\n\n      <div class=\"columns\">\n        <div class=\"column is-one-quarter has-text-right\">\n          <strong>{{$t('link-with-project')}}</strong>\n        </div>\n        <div class=\"column is-half\">\n          <cytomine-multiselect v-model=\"selectedProject\" :options=\"projects\" label=\"name\" track-by=\"id\" />\n        </div>\n      </div>\n\n      <div class=\"columns\">\n        <div class=\"column is-one-quarter has-text-right\">\n          <strong>{{$t('files')}}</strong>\n        </div>\n        <div class=\"column is-half\">\n          <table v-if=\"dropFiles.length > 0\" class=\"table is-fullwidth upload-table\">\n            <tbody>\n              <tr v-for=\"(wrapper, idx) in dropFiles\" :key=\"idx\">\n                <td>{{wrapper.file.name}}</td>\n                <td>{{filesize(wrapper.file.size)}}</td>\n                <template v-if=\"wrapper.uploadedFile === null\">\n                  <td>\n                    <progress class=\"progress is-info\" :value=\"wrapper.progress\" max=\"100\">\n                      {{wrapper.progress}}%\n                    </progress>\n                  </td>\n                  <td>\n                    <div class=\"field is-grouped\">\n                      <p class=\"control\">\n                        <button class=\"button is-link\" @click=\"startUpload(wrapper)\">\n                          {{$t('button-start')}}\n                        </button>\n                      </p>\n                      <p class=\"control\">\n                        <button class=\"button\" @click=\"cancelUpload(idx)\">\n                          {{$t('button-cancel')}}\n                        </button>\n                      </p>\n                    </div>\n                  </td>\n                </template>\n                <template v-else>\n                  <td>\n                    <uploaded-file-status v-if=\"wrapper.uploadedFile\" :file=\"wrapper.uploadedFile\" />\n                    <span v-else class=\"tag is-danger\">\n                      {{$t('upload-error')}}\n                    </span>\n                  </td>\n                  <td>\n                    <p class=\"control\">\n                      <button class=\"button\" @click=\"cancelUpload(idx)\">{{$t('button-hide')}}</button>\n                    </p>\n                  </td>\n                </template>\n              </tr>\n            </tbody>\n          </table>\n          <em v-else class=\"first-child-like has-text-grey\">{{$t('no-file')}}</em>\n        </div>\n      </div>\n\n      <div class=\"columns\">\n        <div class=\"column is-half flex-column is-offset-one-quarter\">\n          <progress v-if=\"ongoingUpload\" class=\"progress is-success\" :value=\"overallProgress\" max=\"100\">\n            {{overallProgress}}%\n          </progress>\n\n          <div class=\"buttons\">\n            <b-upload :value=\"plainFiles\" type=\"is-link\" multiple drag-drop @input=\"filesChange\">\n              <a class=\"button is-success\">{{$t('add-files')}}</a>\n            </b-upload>\n            <button class=\"button is-link\" @click=\"startAll()\" :disabled=\"!filesPendingUpload\">\n              {{$t('start-upload')}}\n            </button>\n            <button class=\"button\" @click=\"cancelAll()\" :disabled=\"!filesPendingUpload && !ongoingUpload\">\n              {{$t('cancel-upload')}}\n            </button>\n            <button class=\"button\" @click=\"hideFinished()\" v-if=\"filesFinishedUpload\">\n              {{$t('hide-successful-upload')}}\n            </button>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n  <div class=\"panel\">\n    <p class=\"panel-heading\">\n      {{ $t('storage') }}\n    </p>\n    <div class=\"panel-block storage\">\n      <b-input\n        :value=\"searchString\"\n        @input=\"debounceSearchString\"\n        class=\"search-uploaded-file\"\n        :placeholder=\"$t('search-placeholder')\"\n        icon=\"search\"\n      />\n\n      <cytomine-table\n        :collection=\"uploadedFileCollection\"\n        sort=\"created\" order=\"desc\"\n        :revision=\"revision\"\n        :openedDetailed.sync=\"openedDetails\"\n        :refreshInterval=\"tableRefreshInterval\"\n      >\n        <template #default=\"{row: uFile}\">\n          <b-table-column :label=\"$t('preview')\" width=\"80\">\n            <img v-if=\"uFile.thumbURL\" :src=\"uFile.thumbURL\" alt=\"-\" class=\"image-overview\">\n            <div v-else class=\"is-size-7 has-text-grey\">{{$t('no-preview-available')}}</div>\n          </b-table-column>\n\n          <b-table-column field=\"originalFilename\" :label=\"$t('filename')\" sortable width=\"200\">\n            {{ uFile.originalFilename }}\n          </b-table-column>\n\n          <b-table-column field=\"created\" :label=\"$t('created')\" sortable width=\"150\">\n            {{ Number(uFile.created) | moment('lll') }}\n          </b-table-column>\n\n          <b-table-column field=\"size\" :label=\"$t('size')\" sortable width=\"80\">\n            {{ filesize(uFile.size) }}\n          </b-table-column>\n\n          <b-table-column field=\"contentType\" :label=\"$t('content-type')\" sortable width=\"100\">\n            {{ uFile.contentType }}\n          </b-table-column>\n\n          <b-table-column field=\"globalSize\" :label=\"$t('global-size')\" sortable width=\"80\">\n            {{ filesize(uFile.globalSize) }}\n          </b-table-column>\n\n          <b-table-column field=\"status\" :label=\"$t('status')\" sortable width=\"80\">\n            <uploaded-file-status :file=\"uFile\" />\n          </b-table-column>\n\n          <b-table-column field=\"parentFilename\" :label=\"$t('from')\" sortable width=\"150\">\n            {{ uFile.parentFilename ? uFile.parentFilename : \"-\" }}\n          </b-table-column>\n        </template>\n\n        <template #detail=\"{row: uFile}\">\n          <uploaded-file-details :file=\"uFile\" :key=\"uFile.id\" @update=\"updatedTree()\" />\n        </template>\n\n        <template #empty>\n          <p>{{$t('no-uploaded-file')}}</p>\n        </template>\n      </cytomine-table>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport {Cytomine, StorageCollection, ProjectCollection, UploadedFileCollection, UploadedFile, UploadedFileStatus} from 'cytomine-client';\nimport axios from 'axios';\nimport filesize from 'filesize';\nimport _ from 'lodash';\nimport constants from '@/utils/constants.js';\n\nimport UploadedFileStatusComponent from './UploadedFileStatus';\nimport UploadedFileDetails from './UploadedFileDetails';\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\nimport CytomineTable from '@/components/utils/CytomineTable';\n\nexport default {\n  name: 'cytomine-storage',\n  components: {\n    CytomineMultiselect,\n    'uploaded-file-status': UploadedFileStatusComponent,\n    UploadedFileDetails,\n    CytomineTable\n  },\n  data() {\n    return {\n      loading: true,\n      newUploadError: false,\n      timeoutRefreshSessionUploads: null,\n      tableRefreshInterval: constants.STORAGE_REFRESH_INTERVAL,\n\n      storages: [],\n      selectedStorage: null,\n      projects: [],\n      selectedProject: null,\n\n      searchString: '',\n\n      dropFiles: [],\n\n      signature: '',\n      signatureDate: '',\n\n      openedDetails: [],\n      revision: 0\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    finishedStatus() {\n      return [\n        UploadedFileStatus.CONVERTED,\n        UploadedFileStatus.DEPLOYED\n      ];\n    },\n    ongoingUpload() {\n      return this.dropFiles.some(wrapper => wrapper.uploading);\n    },\n    filesPendingUpload() {\n      return this.dropFiles.some(wrapper => !wrapper.uploading && wrapper.uploadedFile === null);\n    },\n    filesFinishedUpload() {\n      return this.dropFiles.some(wrapper => !wrapper.uploading && wrapper.uploadedFile !== null\n        && this.finishedStatus.includes(wrapper.uploadedFile.status));\n    },\n    overallProgress() {\n      let nbUploads = 0;\n      let totalProgress = 0;\n      this.dropFiles.forEach(wrapper => {\n        if(wrapper.uploading) {\n          nbUploads++;\n          totalProgress += wrapper.progress;\n        }\n      });\n      return Math.floor(totalProgress / nbUploads);\n    },\n    uri() {\n      return '/upload';\n    },\n    queryString() {\n      let str = `cytomine=${constants.CYTOMINE_CORE_HOST}`;\n      if(this.selectedStorage) {\n        str += `&idStorage=${this.selectedStorage.id}`;\n      }\n      if(this.selectedProject) {\n        str += `&idProject=${this.selectedProject.id}`;\n      }\n      return str;\n    },\n    plainFiles() {\n      return this.dropFiles.map(wrapper => wrapper.file);\n    },\n    uploadedFileCollection() {\n      return new UploadedFileCollection({\n        detailed: true,\n        originalFilename: {ilike: encodeURIComponent(this.searchString)}\n      });\n    }\n  },\n  watch: {\n    async queryString() {\n      this.signatureDate = new Date().toISOString();\n      try {\n        this.signature = await Cytomine.instance.fetchSignature({\n          uri: this.uri,\n          queryString: this.queryString,\n          method: 'POST',\n          date: this.signatureDate\n        });\n      }\n      catch(error) {\n        this.newUploadError = true;\n      }\n    }\n  },\n  methods: {\n    async fetchStorages() {\n      try {\n        this.storages = (await StorageCollection.fetchAll()).array;\n        this.selectedStorage = this.storages.find(storage => storage.user === this.currentUser.id);\n      }\n      catch(error) {\n        console.log(error);\n        this.newUploadError = true;\n      }\n    },\n    async fetchProjects() {\n      try {\n        this.projects = (await ProjectCollection.fetchAll()).array;\n      }\n      catch(error) {\n        console.log(error); // not mandatory for upload => only log error, no other action\n      }\n    },\n\n    async refreshStatusSessionUploads() {\n      let pendingStatus = [\n        UploadedFileStatus.UPLOADED,\n        UploadedFileStatus.TO_DEPLOY,\n        UploadedFileStatus.UNCOMPRESSED,\n        UploadedFileStatus.TO_CONVERT\n      ];\n\n      let unfinishedConversions = false;\n      let statusChange = false;\n\n      try {\n        await Promise.all(this.dropFiles.map(async wrapper => {\n          if(wrapper.uploadedFile) {\n            let oldStatus = wrapper.uploadedFile.status;\n            if(!pendingStatus.includes(oldStatus)) {\n              return;\n            }\n\n            await wrapper.uploadedFile.fetch();\n            let status = wrapper.uploadedFile.status;\n            if(status !== oldStatus) {\n              statusChange = true;\n            }\n            if(pendingStatus.includes(status)) {\n              unfinishedConversions = true;\n            }\n          }\n        }));\n      }\n      catch(error) {\n        console.log(error);\n        return;\n      }\n\n      if(statusChange) {\n        this.revision++;\n      }\n\n      if(unfinishedConversions) {\n        clearTimeout(this.timeoutRefreshSessionUploads);\n        this.timeoutRefreshSessionUploads = setTimeout(this.refreshStatusSessionUploads, constants.ONGOING_UPLOAD_REFRESH_INTERVAL);\n      }\n    },\n\n    filesChange(files) {\n      files.forEach(file => {\n        if(!file.processed) {\n          file.processed = true;\n          this.dropFiles.push({\n            file,\n            uploading: false,\n            progress: 0,\n            uploadedFile: null, // null if upload not finished, false if upload failed, UploadedFile instance if upload successful\n            cancelToken: null\n          });\n        }\n      });\n    },\n    filesize(size) {\n      return filesize(size, {base: 10});\n    },\n\n    startUpload(fileWrapper) {\n      if(fileWrapper.uploading || fileWrapper.uploadedFile !== null) {\n        return;\n      }\n\n      let formData = new FormData();\n      formData.append('files[]', fileWrapper.file);\n      fileWrapper.cancelToken = axios.CancelToken.source();\n      fileWrapper.uploading = true;\n      axios.post(\n        constants.CYTOMINE_UPLOAD_HOST + this.uri + '?' + this.queryString,\n        formData,\n        {\n          headers: {\n            'authorization': `CYTOMINE ${this.currentUser.publicKey}:${this.signature}`,\n            'dateFull': this.signatureDate, // will replace actual date value, so that signature is valid\n            'content-type-full': 'null' // will erase actual content-type value, so that signature is valid\n          },\n          onUploadProgress: progress => {\n            fileWrapper.progress = Math.floor((progress.loaded * 100) / progress.total);\n          },\n          cancelToken: fileWrapper.cancelToken.token\n        }\n      ).then(response => {\n        fileWrapper.uploadedFile = new UploadedFile(response.data[0].uploadFile.attr);\n        this.refreshStatusSessionUploads();\n        this.revision++;\n      }).catch(error => {\n        if(!axios.isCancel(error)) {\n          console.log(error);\n          fileWrapper.uploadedFile = false;\n        }\n      }).finally(() => fileWrapper.uploading = false);\n    },\n    startAll() {\n      this.dropFiles.forEach(wrapper => this.startUpload(wrapper));\n    },\n\n    cancelUpload(index) {\n      let fileWrapper = this.dropFiles[index];\n      if(fileWrapper.cancelToken) {\n        fileWrapper.cancelToken.cancel();\n      }\n      this.dropFiles.splice(index, 1);\n    },\n    cancelAll() {\n      let nbFiles = this.dropFiles.length;\n      let idx = 0;\n      for(let i = 0; i < nbFiles; i++) {\n        if(this.dropFiles[idx].uploadedFile !== null) {\n          idx++;\n        }\n        else {\n          this.cancelUpload(idx);\n        }\n      }\n    },\n    updatedTree() {\n      this.revision++; // updating the table will result in new files objects => the uf details will also be updated\n    },\n    debounceSearchString: _.debounce(async function(value) {\n      this.searchString = value;\n    }, 500),\n    hideFinished() {\n      let nbFiles = this.dropFiles.length;\n      let idx = 0;\n      for(let i = 0; i < nbFiles; i++) {\n        let uploadedFile = this.dropFiles[idx].uploadedFile;\n        if (uploadedFile !== null && this.finishedStatus.includes(uploadedFile.status)) {\n          this.cancelUpload(idx);\n        }\n        else {\n          idx++;\n        }\n      }\n    }\n  },\n  activated() {\n    this.fetchStorages();\n    this.fetchProjects();\n    this.refreshStatusSessionUploads();\n    this.tableRefreshInterval = constants.STORAGE_REFRESH_INTERVAL;\n  },\n  deactivated() {\n    clearTimeout(this.timeoutRefreshSessionUploads);\n    this.tableRefreshInterval = 0;\n  }\n};\n</script>\n\n<style scoped>\n.small-text {\n  font-size: 0.9em;\n}\n\n.upload-table  {\n  position: relative;\n  bottom: 0.4em;\n}\n\n.upload-table td {\n  vertical-align: middle !important;\n}\n\n.upload-table td:first-child {\n  width: 20vw;\n}\n\n.upload-table td:nth-child(2) {\n  width: 10em;\n}\n\n.upload-table td:nth-child(3) {\n  width: 15vw;\n}\n\n.upload-table td:last-child .field {\n  justify-content: flex-end;\n}\n\n.upload-table td:last-child .control {\n  text-align: right;\n}\n\n.column.flex-column {\n  flex-direction: column;\n}\n\n.progress:not(:last-child) {\n  margin-bottom: 0.75em;\n}\n\n.column:first-child {\n  padding-top: 1.25em;\n}\n\n.first-child-like {\n  display: block;\n  padding-top: 0.5em;\n}\n\n.image-overview {\n  max-height: 4em;\n  max-width: 6em;\n}\n\n.panel-block.storage {\n  min-height: 20vh;\n  position: relative;\n}\n</style>\n\n<style>\n.storage-wrapper .upload-draggable .button {\n  margin-bottom: 0;\n}\n\n.storage-wrapper .upload-draggable {\n  margin-right: 0.75em;\n  position: relative;\n  bottom: 4px;\n}\n\n.search-uploaded-file {\n  max-width: 25em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineStorage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineStorage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineStorage.vue?vue&type=template&id=38c64711&scoped=true&\"\nimport script from \"./CytomineStorage.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineStorage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineStorage.vue?vue&type=style&index=0&id=38c64711&scoped=true&lang=css&\"\nimport style1 from \"./CytomineStorage.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38c64711\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[(!_vm.ontologies)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('unexpected-error-info-message')))])]):(_vm.ontologies.length > 0)?_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('ontologies'))+\" \"),(!_vm.currentUser.guestByNow)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){_vm.creationModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('new-ontology'))+\" \")]):_vm._e()]),_c('div',{staticClass:\"panel-block\"},[_c('b-input',{attrs:{\"size\":\"is-small\",\"type\":\"search\",\"icon\":\"search\",\"placeholder\":_vm.$t('search-placeholder')},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('div',{staticClass:\"panel-main-content\"},_vm._l((_vm.filteredOntologies),function(ontology){return _c('a',{key:ontology.id,staticClass:\"panel-block\",class:{'is-active': _vm.isSelected(ontology)},on:{\"click\":function($event){return _vm.selectOntology(ontology)}}},[_c('span',{staticClass:\"panel-icon\"},[(_vm.isSelected(ontology))?_c('i',{staticClass:\"fas fa-caret-right\",attrs:{\"aria-hidden\":\"true\"}}):_vm._e()]),_vm._v(\" \"+_vm._s(ontology.name)+\" \")])}),0)])]),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.selectedOntology ? _vm.selectedOntology.name : _vm.$t('not-found'))+\" \")]),_c('div',{staticClass:\"panel-block panel-main-content\"},[(_vm.selectedOntology)?_c('ontology-details',{attrs:{\"ontology\":_vm.selectedOntology},on:{\"delete\":function($event){return _vm.deleteOntology()},\"rename\":_vm.renameOntology}}):_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('not-found-error'))+\" \")])],1)])])]):_c('div',{staticClass:\"box error\"},[_c('div',{staticClass:\"columns\"},[_c('p',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t('dont-have-access-to-any-ontology')))]),_c('p',{staticClass:\"column has-text-right\"},[(!_vm.currentUser.guestByNow)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){_vm.creationModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('new-ontology'))+\" \")]):_vm._e()])])])]:_vm._e(),_c('add-ontology-modal',{attrs:{\"active\":_vm.creationModal},on:{\"update:active\":function($event){_vm.creationModal=$event},\"newOntology\":_vm.addOntology}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")]):(!_vm.loading)?_c('div',{staticClass:\"ontology-details-wrapper\"},[_c('table',{staticClass:\"table is-fullwidth\"},[_c('tbody',[_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('strong',[_vm._v(_vm._s(_vm.$t('terms')))]),_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('hierarchical-drag-drop-term'))+\" \")]),_c('ontology-tree',{attrs:{\"ontology\":_vm.fullOntology,\"allowSelection\":false,\"allowDrag\":_vm.canEdit,\"allowEdition\":_vm.canEdit},scopedSlots:_vm._u([{key:\"no-result\",fn:function(){return [_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-term')))])]},proxy:true}])})],1)]),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('projects')))])]),_c('td',[(_vm.projects.length)?_vm._l((_vm.projects),function(project,index){return _c('span',{key:project.id},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (project.id))}},[_vm._v(_vm._s(project.name))]),(index < _vm.projects.length - 1)?_c('span',[_vm._v(\", \")]):_vm._e()],1)}):(_vm.nbProjects > 0)?_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('used-in-project-no-access'))+\" \")]):_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('not-used-in-any-project'))+\" \")])],2)]),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('creator')))])]),_c('td',[_vm._v(\" \"+_vm._s(_vm.creatorFullname || _vm.$t('unknown'))+\" \")])]),(_vm.canEdit)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('actions')))])]),_c('td',[_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.isRenameModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-rename'))+\" \")]),_c('button',{staticClass:\"button is-danger\",attrs:{\"disabled\":_vm.nbProjects > 0,\"title\":_vm.nbProjects ? _vm.$t('cannot-delete-ontology-with-projects') : ''},on:{\"click\":function($event){return _vm.confirmDeletion()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")])])])]):_vm._e()])]),_c('rename-modal',{attrs:{\"title\":_vm.$t('rename-ontology'),\"currentName\":_vm.ontology.name,\"active\":_vm.isRenameModalActive},on:{\"update:active\":function($event){_vm.isRenameModalActive=$event},\"rename\":_vm.rename}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ontology-tree\",class:{selector: _vm.allowSelection, draggable: _vm.allowDrag, editable: _vm.allowEdition}},[_c('sl-vue-tree',{ref:\"tree\",attrs:{\"allowMultiselect\":false},on:{\"select\":_vm.select,\"drop\":_vm.drop},scopedSlots:_vm._u([{key:\"toggle\",fn:function(ref){\nvar node = ref.node;\nreturn [(!node.data.hidden && !node.isLeaf && node.children.length > 0)?[_c('i',{class:['tree-toggle', 'fas', node.isExpanded ? 'fa-angle-down' : 'fa-angle-right']})]:_vm._e(),_c('div',{staticClass:\"sl-vue-tree-gap\"})]}},{key:\"title\",fn:function(ref){\nvar node = ref.node;\nreturn [(!node.data.hidden)?_c('div',{staticClass:\"tree-selector\"},[(_vm.allowSelection)?_c('i',{staticClass:\"tree-checkbox\",class:_vm.classNames(node)}):_vm._e(),_c('cytomine-term',{attrs:{\"term\":node.data}})],1):_c('div')]}},{key:\"sidebar\",fn:function(ref){\nvar node = ref.node;\nreturn [(!node.data.hidden)?_vm._t(\"custom-sidebar\",[(_vm.allowEdition)?_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.startTermUpdate(node)}}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-edit\"})])]),_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.confirmTermDeletion(node)}}},[_c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"far fa-trash-alt\"})])])]):_vm._e()],{\"term\":node.data}):_vm._e()]}}],null,true),model:{value:(_vm.treeNodes),callback:function ($$v) {_vm.treeNodes=$$v},expression:\"treeNodes\"}}),(_vm.noResult)?_vm._t(\"no-result\",[_c('em',{staticClass:\"has-text-grey no-result\"},[_vm._v(_vm._s(_vm.$t('no-result')))])]):_vm._e(),(_vm.allowEdition || _vm.allowNew)?_c('div',{staticClass:\"add-term-container\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.startTermCreation()}}},[_vm._v(_vm._s(_vm.$t('add-term')))])]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.term)?_c('span',[(_vm.term.color)?_c('div',{staticClass:\"color-preview\",style:({background: _vm.term.color})}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.term.name)+\" \")]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<span v-if=\"term\">\n  <div class=\"color-preview\" v-if=\"term.color\" :style=\"{background: term.color}\"></div>\n  {{term.name}}\n</span>\n</template>\n\n<script>\nexport default {\n  name: 'cytomine-term',\n  props: {\n    term: Object\n  }\n};\n</script>\n\n<style scoped>\n.color-preview {\n  width: 1em;\n  height: 1em;\n  display: inline-block;\n  margin-right: 0.25em;\n  border-radius: 0.25em;\n  box-shadow: 0 0 1px #777;\n  position: relative;\n  top: 0.2em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTerm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTerm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineTerm.vue?vue&type=template&id=16981688&scoped=true&\"\nimport script from \"./CytomineTerm.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineTerm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineTerm.vue?vue&type=style&index=0&id=16981688&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16981688\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save()}}},[_c('cytomine-modal-card',{staticClass:\"term-modal\",attrs:{\"title\":_vm.$t(_vm.term ? 'update-term' : 'create-term')},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$parent.close()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-field',{attrs:{\"label\":_vm.$t('name'),\"type\":{'is-danger': _vm.errors.has('name')},\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('sketch-picker',{attrs:{\"presetColors\":_vm.presetColors},model:{value:(_vm.color),callback:function ($$v) {_vm.color=$$v},expression:\"color\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<form @submit.prevent=\"save()\">\n  <cytomine-modal-card :title=\"$t(term ? 'update-term' : 'create-term')\" class=\"term-modal\">\n    <b-field :label=\"$t('name')\" :type=\"{'is-danger': errors.has('name')}\" :message=\"errors.first('name')\">\n      <b-input v-model=\"name\" name=\"name\" v-validate=\"'required'\" />\n    </b-field>\n\n    <sketch-picker v-model=\"color\" :presetColors=\"presetColors\" />\n\n    <template #footer>\n      <button class=\"button\" type=\"button\" @click=\"$parent.close()\">\n        {{$t('button-cancel')}}\n      </button>\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\n        {{$t('button-save')}}\n      </button>\n    </template>\n  </cytomine-modal-card>\n</form>\n</template>\n\n<script>\nimport {Term} from 'cytomine-client';\nimport {Sketch} from 'vue-color';\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\n\nexport default {\n  name: 'term-modal',\n  props: {\n    term: Object,\n    ontology: Object\n  },\n  components: {\n    'sketch-picker': Sketch,\n    CytomineModalCard\n  },\n  $_veeValidate: {validator: 'new'},\n  data() {\n    return {\n      name: '',\n      color: null\n    };\n  },\n  computed: {\n    presetColors() {\n      return [\n        '#F44E3B',\n        '#FB9E00',\n        '#FCDC00',\n        '#68BC00',\n        '#16A5A5',\n        '#009CE0',\n        '#7B10D8',\n        '#F06292',\n        '#000',\n        '#777',\n        '#FFF'\n      ];\n    }\n  },\n  methods: {\n    randomColor() {\n      return '#' + (Math.random().toString(16) + '0000000').slice(2, 8);\n    },\n    async save() {\n      let result = await this.$validator.validateAll();\n      if(!result) {\n        return;\n      }\n\n      if(this.term) {\n        this.update();\n      }\n      else {\n        this.create();\n      }\n    },\n    async create() {\n      try {\n        let term = await new Term({name: this.name, color: this.color.hex, ontology: this.ontology.id}).save();\n        this.$notify({type: 'success', text: this.$t('notif-success-term-creation')});\n        this.$emit('newTerm', term);\n        this.$parent.close();\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-term-creation')});\n      }\n    },\n    async update() {\n      let term = new Term(this.term);\n      term.color = this.color.hex;\n      term.name = this.name;\n      try {\n        await term.save();\n        this.$notify({type: 'success', text: this.$t('notif-success-term-update')});\n        this.$emit('updateTerm', term);\n        this.$parent.close();\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-term-update')});\n      }\n    }\n  },\n  created() {\n    this.name = this.term ? this.term.name : '';\n    this.color = {hex: this.term ? this.term.color : this.randomColor()};\n  }\n};\n</script>\n\n<style>\n.term-modal .vc-sketch {\n  width: auto;\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\n}\n\n.term-modal .vc-sketch-active-color {\n  box-shadow: inset 0 0 0 1px rgba(10, 10, 10, 0.1);\n}\n\n.term-modal .vc-sketch-saturation-wrap {\n  padding-bottom: 15vh;\n}\n\n/* hide alpha channel */\n.term-modal .vc-sketch-field--single:last-child {\n  display: none;\n}\n/* --- */\n\n.term-modal .vc-sketch-sliders {\n  display: flex;\n  align-items: center;\n}\n\n.term-modal .vc-sketch-hue-wrap {\n  flex-grow: 1;\n}\n\n.term-modal .vc-sketch-alpha-wrap {\n  display: none;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TermModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TermModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TermModal.vue?vue&type=template&id=8a1376d6&\"\nimport script from \"./TermModal.vue?vue&type=script&lang=js&\"\nexport * from \"./TermModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TermModal.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"ontology-tree\" :class=\"{selector: allowSelection, draggable: allowDrag, editable: allowEdition}\">\n  <sl-vue-tree v-model=\"treeNodes\" :allowMultiselect=\"false\" @select=\"select\" @drop=\"drop\" ref=\"tree\">\n    <template #toggle=\"{node}\">\n      <template v-if=\"!node.data.hidden && !node.isLeaf && node.children.length > 0\">\n        <i :class=\"['tree-toggle', 'fas', node.isExpanded ? 'fa-angle-down' : 'fa-angle-right']\"></i>\n      </template>\n      <div class=\"sl-vue-tree-gap\"></div>\n    </template>\n\n    <template #title=\"{node}\">\n      <div v-if=\"!node.data.hidden\" class=\"tree-selector\">\n        <i class=\"tree-checkbox\"\n          v-if=\"allowSelection\"\n          :class=\"classNames(node)\">\n        </i>\n        <cytomine-term :term=\"node.data\" />\n      </div>\n      <div v-else></div>\n    </template>\n\n    <template #sidebar=\"{node}\">\n      <slot v-if=\"!node.data.hidden\" name=\"custom-sidebar\" :term=\"node.data\">\n        <div v-if=\"allowEdition\" class=\"buttons\">\n          <button class=\"button is-small\" @click=\"startTermUpdate(node)\">\n            <span class=\"icon is-small\">\n              <i class=\"fas fa-edit\"></i>\n            </span>\n          </button>\n          <button class=\"button is-small\" @click=\"confirmTermDeletion(node)\">\n            <span class=\"icon is-small\">\n              <i class=\"far fa-trash-alt\"></i>\n            </span>\n          </button>\n        </div>\n      </slot>\n    </template>\n  </sl-vue-tree>\n\n  <slot v-if=\"noResult\" name=\"no-result\">\n    <em class=\"has-text-grey no-result\">{{$t('no-result')}}</em>\n  </slot>\n\n  <div v-if=\"allowEdition || allowNew\" class=\"add-term-container\">\n    <button class=\"button is-small\" @click=\"startTermCreation()\">{{$t('add-term')}}</button>\n  </div>\n\n</div>\n</template>\n\n<script>\nimport SlVueTree from 'sl-vue-tree';\nimport CytomineTerm from './CytomineTerm';\nimport TermModal from './TermModal';\nimport {Term} from 'cytomine-client';\nimport {getWildcardRegexp} from '@/utils/string-utils';\n\nexport default {\n  name: 'ontology-tree',\n  model: {\n    prop: 'selectedNodes',\n    event: 'setSelectedNodes'\n  },\n  props: {\n    ontology: {type: Object},\n    additionalNodes: {type: Array, default: () => []},\n    startWithAdditionalNodes: {type: Boolean, default: false},\n    searchString: {type: String, default: ''},\n    selectedNodes: {type: Array, default: () => []},\n    allowSelection: {type: Boolean, default: true},\n    multipleSelection: {type: Boolean, default: true},\n    allowDrag: {type: Boolean, default: false},\n    allowEdition: {type: Boolean, default: false},\n    allowNew: {type: Boolean, default: false}\n  },\n  components: {\n    SlVueTree,\n    CytomineTerm\n  },\n  data() {\n    return {\n      treeNodes: [],\n      internalSelectedNodes: [],\n      editedNode: null\n    };\n  },\n  computed: {\n    regexp() {\n      return getWildcardRegexp(this.searchString);\n    },\n    noResult() {\n      return this.treeNodes.every(node => node.data.hidden);\n    }\n  },\n  watch: {\n    ontology() {\n      this.makeTree();\n    },\n    additionalNodes() {\n      this.makeTree();\n    },\n    selectedNodes() {\n      this.internalSelectedNodes = this.selectedNodes.slice();\n      this.refreshNodeSelection();\n    },\n    regexp() {\n      this.filter();\n    }\n  },\n  methods: {\n    makeTree() {\n      if(!this.ontology) {\n        this.treeNodes = [];\n        return;\n      }\n\n      let nodes = this.createSubTree(this.ontology.children.array.slice());\n      let additionalNodes = this.createSubTree(this.additionalNodes.slice());\n      this.treeNodes = this.startWithAdditionalNodes ? additionalNodes.concat(nodes) : nodes.concat(additionalNodes);\n\n      this.filter();\n    },\n\n    createSubTree(terms) {\n      return terms.map(term => this.createNode(term));\n    },\n\n    createNode(term) {\n      return {\n        title: term.name,\n        isLeaf: false, // all terms can be used as parent for drag and drop\n        isDraggable: this.allowDrag,\n        isExpanded: true,\n        isSelected: this.internalSelectedNodes.includes(term.id),\n        data: {\n          id: term.id,\n          name: term.name,\n          color: term.color,\n          parent: term.parent,\n          ontology: this.ontology.id,\n          hidden: false\n        },\n        children: term.children && term.children.length > 0 ? this.createSubTree(term.children) : []\n      };\n    },\n\n    filter() {\n      this.applyToAllNodes(node => {\n        let match = this.regexp.test(node.title);\n        if(node.children) {\n          let matchInChildren = node.children.some(child => !child.data.hidden); // OK because applyToAllNodes performs bottom-up operations\n          node.isExpanded = matchInChildren;\n          match = match || matchInChildren;\n        }\n        node.data.hidden = !match;\n      });\n    },\n\n    classNames(node) {\n      if(this.multipleSelection) {\n        return node.isSelected ? ['fas', 'fa-check-square'] : ['far', 'fa-square'];\n      }\n      else {\n        return node.isSelected ? ['fas', 'fa-dot-circle'] : ['far', 'fa-circle'];\n      }\n    },\n\n    select(nodes, event) {\n      if(!this.allowSelection) {\n        return;\n      }\n\n      if(this.clickOnTreeSelector(event.target)) {\n        nodes.forEach(node => {\n          if(this.multipleSelection) {\n            let indexSelected = this.internalSelectedNodes.indexOf(node.data.id);\n            if(indexSelected >= 0) {\n              this.internalSelectedNodes.splice(indexSelected, 1);\n              this.$emit('unselect', node.data.id);\n            }\n            else {\n              this.internalSelectedNodes.push(node.data.id);\n              this.$emit('select', node.data.id);\n            }\n          }\n          else {\n            if(this.internalSelectedNodes.includes(node.data.id)) this.internalSelectedNodes = [];\n            else this.internalSelectedNodes = [node.data.id];\n\n            this.$emit('select', node.data.id);\n          }\n        });\n        this.$emit('setSelectedNodes', this.internalSelectedNodes);\n      }\n\n      this.refreshNodeSelection();\n    },\n    refreshNodeSelection() {\n      if(!this.allowSelection) {\n        return;\n      }\n\n      this.applyToAllNodes(node => {\n        node.isSelected = this.internalSelectedNodes.some(id => id === node.data.id);\n      });\n    },\n    clickOnTreeSelector(elem) {\n      if(elem.classList.contains('tree-selector')) {\n        return true;\n      }\n      return elem.parentElement ? this.clickOnTreeSelector(elem.parentElement) : false;\n    },\n    applyToAllNodes(fct, nodes=this.treeNodes) {\n      nodes.forEach(node => {\n        if(node.children) {\n          this.applyToAllNodes(fct, node.children);\n        }\n        fct(node);\n      });\n    },\n\n    startTermCreation() {\n      this.editedNode = null;\n      this.openModal();\n    },\n    createTerm(term) {\n      this.treeNodes.push(this.createNode(term));\n      this.$emit('newTerm', term);\n    },\n\n    startTermUpdate(node) {\n      this.editedNode = node;\n      this.openModal();\n    },\n    updateTerm(term) {\n      this.$refs.tree.updateNode(this.editedNode.path, {data: {...term}});\n    },\n\n    openModal() {\n      this.$buefy.modal.open({\n        parent: this,\n        component: TermModal,\n        props: {\n          term: this.editedNode ? this.editedNode.data : null,\n          ontology: this.ontology\n        },\n        events: {\n          newTerm: this.createTerm,\n          updateTerm: this.updateTerm\n        },\n        hasModalCard: true\n      });\n    },\n\n    drop(nodes, position) {\n      nodes.forEach(async node => {\n        let idParent = (position.placement === 'inside') ? position.node.data.id : position.node.data.parent;\n        if(node.data.parent !== idParent) {\n          try {\n            await new Term(node.data).changeParent(idParent);\n            this.applyToAllNodes(tmp => {\n              if(tmp.data.id === node.data.id) {\n                tmp.data.parent = idParent;\n              }\n            });\n          }\n          catch(error) {\n            console.log(error);\n            this.$notify({type: 'error', text: this.$t('notif-error-ontology-tree-update')});\n          }\n        }\n        else {\n          this.$notify({type: 'warn', text: this.$t('notif-warn-ontology-tree-order-not-persisted')});\n        }\n      });\n    },\n\n    confirmTermDeletion(node) {\n      this.$buefy.dialog.confirm({\n        title: this.$t('confirm-deletion'),\n        message: this.$t('confirm-deletion-term', {name: node.data.name}),\n        type: 'is-danger',\n        confirmText: this.$t('button-confirm'),\n        cancelText: this.$t('button-cancel'),\n        onConfirm: () => this.deleteTerm(node)\n      });\n    },\n    async deleteTerm(node) {\n      try {\n        await Term.delete(node.data.id);\n        this.$refs.tree.remove([node.path]);\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-term-deletion')});\n      }\n    }\n  },\n  created() {\n    this.internalSelectedNodes = this.selectedNodes.slice();\n    this.makeTree();\n  }\n};\n</script>\n\n<style scoped>\n.add-term-container {\n  text-align: center;\n  margin-top: 0.5em;\n  margin-bottom: 0.5em;\n}\n</style>\n\n\n<style>\n.ontology-tree {\n  padding: 0 0 2px 0;\n}\n\n.ontology-tree .tree-checkbox {\n  margin-right: 10px;\n  color: rgba(0, 0, 0, 0.2);\n  font-size: 1rem;\n}\n\n.ontology-tree.selector .sl-vue-tree-node-item:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n\n.ontology-tree.selector .sl-vue-tree-selected > .sl-vue-tree-node-item {\n  background: rgba(0, 0, 0, 0.05);\n  font-weight: 600;\n}\n\n.ontology-tree .sl-vue-tree-selected > .sl-vue-tree-node-item .tree-checkbox {\n  color: #61b2e8;\n}\n\n.ontology-tree.selector .sl-vue-tree-gap {\n  width: 24px;\n}\n\n.ontology-tree.selector .tree-selector {\n  cursor: pointer;\n  flex-grow: 1;\n}\n\n.ontology-tree .tree-selector {\n  min-width: 0; /* to allow correct handling of overflow-wrap */\n}\n\n.ontology-tree .tree-selector:hover .tree-checkbox {\n  color: #61b2e8;\n}\n\n.ontology-tree .no-result {\n  margin-left: 20px;\n  line-height: 1.5;\n  font-size: 0.9rem;\n}\n\n.ontology-tree .buttons, .ontology-tree .button {\n  margin-bottom: 0 !important;\n}\n\n.ontology-tree.editable .sl-vue-tree-sidebar {\n  width: 100px;\n  padding-left: 20px;\n  flex-shrink: 0;\n}\n\n.ontology-tree.editable .sl-vue-tree-sidebar {\n  display: flex;\n  align-items: top;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OntologyTree.vue?vue&type=template&id=74b04996&scoped=true&\"\nimport script from \"./OntologyTree.vue?vue&type=script&lang=js&\"\nexport * from \"./OntologyTree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OntologyTree.vue?vue&type=style&index=0&id=74b04996&scoped=true&lang=css&\"\nimport style1 from \"./OntologyTree.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74b04996\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n  <div>\n    <b-loading :is-full-page=\"false\" :active=\"loading\" />\n    <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n      {{$t('unexpected-error-info-message')}}\n    </b-message>\n    <div v-else-if=\"!loading\" class=\"ontology-details-wrapper\">\n      <table class=\"table is-fullwidth\">\n        <tbody>\n        <tr>\n          <td colspan=\"2\">\n            <strong>{{$t('terms')}}</strong>\n            <b-message type=\"is-info\" has-icon icon-size=\"is-small\">\n              {{$t('hierarchical-drag-drop-term')}}\n            </b-message>\n            <ontology-tree :ontology=\"fullOntology\" :allowSelection=\"false\" :allowDrag=\"canEdit\" :allowEdition=\"canEdit\">\n              <template #no-result>\n                <em class=\"has-text-grey\">{{$t('no-term')}}</em>\n              </template>\n            </ontology-tree>\n          </td>\n        </tr>\n        <tr>\n          <td><strong>{{$t('projects')}}</strong></td>\n          <td>\n            <template v-if=\"projects.length\">\n            <span v-for=\"(project, index) in projects\" :key=\"project.id\">\n              <router-link :to=\"`/project/${project.id}`\">{{project.name}}</router-link>\n              <span v-if=\"index < projects.length - 1\">, </span>\n            </span>\n            </template>\n            <em class=\"has-text-grey\" v-else-if=\"nbProjects > 0\">\n              {{$t('used-in-project-no-access')}}\n            </em>\n            <em class=\"has-text-grey\" v-else>\n              {{$t('not-used-in-any-project')}}\n            </em>\n          </td>\n        </tr>\n        <tr>\n          <td><strong>{{$t('creator')}}</strong></td>\n          <td>\n            {{creatorFullname || $t('unknown')}}\n          </td>\n        </tr>\n        <tr v-if=\"canEdit\">\n          <td><strong>{{$t('actions')}}</strong></td>\n          <td>\n            <div class=\"buttons\">\n              <button class=\"button\" @click=\"isRenameModalActive = true\">\n                {{$t('button-rename')}}\n              </button>\n              <button\n                  class=\"button is-danger\"\n                  @click=\"confirmDeletion()\"\n                  :disabled=\"nbProjects > 0\"\n                  :title=\"nbProjects ? $t('cannot-delete-ontology-with-projects') : ''\"\n              >\n                {{$t('button-delete')}}\n              </button>\n            </div>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n\n      <rename-modal\n          :title=\"$t('rename-ontology')\"\n          :currentName=\"ontology.name\"\n          :active.sync=\"isRenameModalActive\"\n          @rename=\"rename\"\n      />\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\nimport {Ontology, User, ProjectCollection} from 'cytomine-client';\nimport OntologyTree from './OntologyTree';\nimport RenameModal from '@/components/utils/RenameModal';\nimport {fullName} from '@/utils/user-utils.js';\n\nexport default {\n  name: 'ontology-details',\n  props: {\n    ontology: Object\n  },\n  components: {\n    OntologyTree,\n    RenameModal\n  },\n  data() {\n    return {\n      loading: true,\n      error: false,\n\n      fullOntology: {},\n      projects: [],\n      managedProjects: [],\n      creatorFullname: null,\n\n      isRenameModalActive: false\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    canEdit() {\n      return !this.currentUser.guestByNow && (this.currentUser.adminByNow || this.currentUser.id === this.fullOntology.user ||\n        (this.hasAccessToAllProjects && (this.allProjectsAreCollaborative || this.manageAllProjects)));\n    },\n    nbProjects() {\n      return this.fullOntology.projects.length;\n    },\n    hasAccessToAllProjects() {\n      return this.nbProjects === this.projects.length;\n    },\n    allProjectsAreCollaborative() {\n      return !this.projects.some(p => p.isRestricted || p.isReadOnly);\n    },\n    manageAllProjects() {\n      return !this.projects.some(p => !this.managedProjects.find(mp => mp.id === p.id));\n    }\n  },\n  watch: {\n    ontology() {\n      this.fetchOntology();\n    },\n  },\n  methods: {\n    async fetchOntology() {\n      this.loading = true;\n      this.error = false;\n\n      try {\n        this.fullOntology = await Ontology.fetch(this.ontology.id);\n\n        // projects prop of ontology contains all projects, including those that the current user cannot see => need to refetch the collection\n        this.projects = (await ProjectCollection.fetchAll({filterKey: 'ontology', filterValue: this.ontology.id})).array;\n        // ---\n      }\n      catch(error) {\n        console.log(error);\n        this.error = true;\n      }\n\n      this.fetchManagedProjects();\n\n      try {\n        let creator = await User.fetch(this.fullOntology.user);\n        this.creatorFullname = fullName(creator);\n      }\n      catch(error) {\n        console.log(error);\n      }\n\n      this.loading = false;\n    },\n    async fetchManagedProjects() {\n      this.managedProjects = (await ProjectCollection.fetchAll({\n        filterKey: 'user',\n        filterValue: this.currentUser.id,\n        light: true,\n        admin: true\n      })).array;\n    },\n\n    async rename(newName) {\n      let oldName = this.ontology.name;\n      try {\n        this.fullOntology.name = newName;\n        await this.fullOntology.save();\n        this.$notify({\n          type: 'success',\n          text: this.$t('notif-success-ontology-rename', {name: this.fullOntology.name})\n        });\n        this.$emit('rename', newName);\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-ontology-rename', {name: oldName})\n        });\n      }\n      this.isRenameModalActive = false;\n    },\n\n    confirmDeletion() {\n      this.$buefy.dialog.confirm({\n        title: this.$t('confirm-deletion'),\n        message: this.$t('confirm-deletion-ontology', {name: this.ontology.name}),\n        type: 'is-danger',\n        confirmText: this.$t('button-confirm'),\n        cancelText: this.$t('button-cancel'),\n        onConfirm: () => this.$emit('delete')\n      });\n    }\n  },\n  created() {\n    this.fetchOntology();\n  }\n};\n</script>\n\n<style>\n.ontology-details-wrapper .ontology-tree {\n  max-width: 40em;\n}\n\n.ontology-details-wrapper td:first-child {\n  width: 8em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OntologyDetails.vue?vue&type=template&id=f291cfae&\"\nimport script from \"./OntologyDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./OntologyDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OntologyDetails.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createOntology()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('create-ontology')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-field',{attrs:{\"label\":_vm.$t('name'),\"type\":{'is-danger': _vm.errors.has('name')},\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<form @submit.prevent=\"createOntology()\">\n  <cytomine-modal :active=\"active\" :title=\"$t('create-ontology')\" @close=\"$emit('update:active', false)\">\n    <b-field :label=\"$t('name')\" :type=\"{'is-danger': errors.has('name')}\" :message=\"errors.first('name')\">\n      <b-input v-model=\"name\" name=\"name\" v-validate=\"'required'\" />\n    </b-field>\n\n    <template #footer>\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\n        {{$t('button-cancel')}}\n      </button>\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\n        {{$t('button-save')}}\n      </button>\n    </template>\n  </cytomine-modal>\n</form>\n</template>\n\n<script>\nimport {Ontology} from 'cytomine-client';\nimport CytomineModal from '@/components/utils/CytomineModal';\n\nexport default {\n  name: 'add-ontology-modal',\n  props: {\n    active: Boolean\n  },\n  components: {CytomineModal},\n  $_veeValidate: {validator: 'new'},\n  data() {\n    return {\n      name: ''\n    };\n  },\n  watch: {\n    active(val) {\n      if(val) {\n        this.name = '';\n      }\n    }\n  },\n  methods: {\n    async createOntology() {\n      let result = await this.$validator.validateAll();\n      if(!result) {\n        return;\n      }\n\n      try {\n        let ontology = await new Ontology({name: this.name}).save();\n        this.$notify({type: 'success', text: this.$t('notif-success-ontology-creation')});\n        this.$emit('newOntology', ontology);\n        this.$emit('update:active', false);\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-ontology-creation')});\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddOntologyModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddOntologyModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddOntologyModal.vue?vue&type=template&id=11aec944&\"\nimport script from \"./AddOntologyModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddOntologyModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"content-wrapper\">\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\n\n  <template v-if=\"!loading\">\n    <div class=\"box error\" v-if=\"!ontologies\">\n      <h2> {{ $t('error') }} </h2>\n      <p>{{ $t('unexpected-error-info-message') }}</p>\n    </div>\n\n    <div v-else-if=\"ontologies.length > 0\" class=\"columns\">\n      <div class=\"column is-one-quarter\">\n        <div class=\"panel\">\n            <p class=\"panel-heading\">\n              {{$t('ontologies')}}\n              <button class=\"button is-link\" @click=\"creationModal = true\" v-if=\"!currentUser.guestByNow\">\n                {{$t('new-ontology')}}\n              </button>\n            </p>\n            <div class=\"panel-block\">\n              <b-input\n                size=\"is-small\"\n                v-model=\"searchString\"\n                type=\"search\"\n                icon=\"search\"\n                :placeholder=\"$t('search-placeholder')\"\n              />\n            </div>\n            <div class=\"panel-main-content\">\n              <a\n                v-for=\"ontology in filteredOntologies\"\n                :key=\"ontology.id\"\n                @click=\"selectOntology(ontology)\"\n                class=\"panel-block\"\n                :class=\"{'is-active': isSelected(ontology)}\"\n              >\n                <span class=\"panel-icon\">\n                  <i v-if=\"isSelected(ontology)\" class=\"fas fa-caret-right\" aria-hidden=\"true\"></i>\n                </span>\n                {{ontology.name}}\n              </a>\n            </div>\n        </div>\n      </div>\n\n      <div class=\"column\">\n        <div class=\"panel\">\n          <p class=\"panel-heading\">\n            {{selectedOntology ? selectedOntology.name : $t('not-found')}}\n          </p>\n          <div class=\"panel-block panel-main-content\">\n            <ontology-details\n              v-if=\"selectedOntology\"\n              :ontology=\"selectedOntology\"\n              @delete=\"deleteOntology()\"\n              @rename=\"renameOntology\"\n            />\n            <b-message type=\"is-danger\" has-icon icon-size=\"is-small\" v-else>\n              {{ $t('not-found-error') }}\n            </b-message>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"box error\" v-else>\n      <div class=\"columns\">\n        <p class=\"column\">{{$t('dont-have-access-to-any-ontology')}}</p>\n        <p class=\"column has-text-right\">\n          <button class=\"button is-link\" @click=\"creationModal = true\" v-if=\"!currentUser.guestByNow\">\n            {{$t('new-ontology')}}\n          </button>\n        </p>\n      </div>\n    </div>\n  </template>\n\n  <add-ontology-modal :active.sync=\"creationModal\" @newOntology=\"addOntology\" />\n</div>\n</template>\n\n<script>\nimport {get, sync} from '@/utils/store-helpers';\nimport {getWildcardRegexp} from '@/utils/string-utils';\n\nimport {OntologyCollection} from 'cytomine-client';\nimport OntologyDetails from './OntologyDetails';\nimport AddOntologyModal from './AddOntologyModal';\n\nexport default {\n  name: 'list-ontologies',\n  components: {\n    OntologyDetails,\n    AddOntologyModal\n  },\n  data() {\n    return {\n      loading: true,\n      ontologies: null,\n      selectedOntology: null,\n      creationModal: false\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    idTargetOntology() {\n      return Number(this.$route.params.idOntology) || this.$store.state.ontologies.selectedOntology;\n    },\n    filteredOntologies() {\n      if(this.searchString.length > 0) {\n        let regexp = getWildcardRegexp(this.searchString);\n        return this.ontologies.filter(ontology => regexp.test(ontology.name));\n      }\n      return this.ontologies;\n    },\n    searchString: sync('ontologies/searchString')\n  },\n  watch: {\n    idTargetOntology() {\n      if(!this.idTargetOntology) {\n        this.selectedOntology = this.ontologies[0];\n        return;\n      }\n      if(this.selectedOntology && this.selectedOntology.id === this.idTargetOntology) {\n        return;\n      }\n      this.selectTargetOntology();\n    },\n    selectedOntology(ontology) {\n      this.$store.commit('ontologies/setSelectedOntology', ontology.id);\n    }\n  },\n  methods: {\n    selectOntology(ontology) {\n      this.selectedOntology = ontology;\n      this.$router.push(`/ontology/${this.selectedOntology.id}`);\n    },\n    selectTargetOntology() {\n      this.selectedOntology = this.ontologies.find(ontology => ontology.id === this.idTargetOntology);\n    },\n    isSelected(ontology) {\n      return this.selectedOntology && this.selectedOntology.id === ontology.id;\n    },\n    sortOntologies() {\n      this.ontologies.sort((a, b) => a.name.localeCompare(b.name));\n    },\n    addOntology(ontology) {\n      this.ontologies.push(ontology);\n      this.sortOntologies();\n      this.selectedOntology = ontology;\n    },\n    renameOntology(newName) {\n      this.selectedOntology.name = newName;\n      this.sortOntologies();\n    },\n    async deleteOntology() {\n      let index = this.ontologies.findIndex(ontology => ontology.id === this.selectedOntology.id);\n      try {\n        await this.selectedOntology.delete();\n        this.ontologies.splice(index, 1);\n        this.$notify({\n          type: 'success',\n          text: this.$t('notif-success-ontology-deletion', {name: this.selectedOntology.name})\n        });\n        this.selectedOntology = this.ontologies[0];\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-ontology-deletion')});\n      }\n    }\n  },\n  async created() {\n    try {\n      this.ontologies = (await OntologyCollection.fetchAll({light: true})).array;\n    }\n    catch(error) {\n      console.log(error);\n      this.loading = false;\n      return;\n    }\n    this.sortOntologies();\n\n    if(this.idTargetOntology) {\n      this.selectTargetOntology();\n    }\n    else {\n      this.selectedOntology = this.ontologies[0];\n    }\n\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\n.content-wrapper {\n  height: 100%;\n}\n\n.columns {\n  height: 100%;\n}\n\n.panel {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.panel-heading {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.panel-icon {\n  font-size: 1.2em;\n}\n\n.panel-main-content {\n  overflow: auto;\n  flex-grow: 1;\n}\n\n.box.error .columns {\n  align-items: center;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListOntologies.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListOntologies.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListOntologies.vue?vue&type=template&id=10d1f166&scoped=true&\"\nimport script from \"./ListOntologies.vue?vue&type=script&lang=js&\"\nexport * from \"./ListOntologies.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListOntologies.vue?vue&type=style&index=0&id=10d1f166&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10d1f166\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list-software-wrapper content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('unexpected-error-info-message')))])]):(!_vm.loading)?_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('algorithms'))+\" \")]),_c('div',{staticClass:\"panel-block\"},[_c('div',{staticClass:\"search-block\"},[_c('b-input',{staticClass:\"search-softwares\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.toggleFilterDisplay()}}},[_vm._m(0),_c('span',[_vm._v(\" \"+_vm._s(_vm.filtersOpened ? _vm.$t('button-hide-filters') : _vm.$t('button-show-filters'))+\" \")]),(_vm.nbActiveFilters)?_c('span',{staticClass:\"nb-active-filters\"},[_vm._v(\" \"+_vm._s(_vm.nbActiveFilters)+\" \")]):_vm._e()])],1),_c('b-collapse',{attrs:{\"open\":_vm.filtersOpened}},[_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('nb-jobs'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbJobs},model:{value:(_vm.boundsJobs),callback:function ($$v) {_vm.boundsJobs=$$v},expression:\"boundsJobs\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('nb-success-jobs'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbSuccessJobs},model:{value:(_vm.boundsSuccessJobs),callback:function ($$v) {_vm.boundsSuccessJobs=$$v},expression:\"boundsSuccessJobs\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('only-last-release'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('b-switch',{staticClass:\"switch\",model:{value:(_vm.onlyLastReleases),callback:function ($$v) {_vm.onlyLastReleases=$$v},expression:\"onlyLastReleases\"}},[(_vm.onlyLastReleases)?[_vm._v(_vm._s(_vm.$t('yes')))]:[_vm._v(_vm._s(_vm.$t('no')))]],2)],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('only-UI-runnable'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('b-switch',{staticClass:\"switch\",model:{value:(_vm.onlyExecutables),callback:function ($$v) {_vm.onlyExecutables=$$v},expression:\"onlyExecutables\"}},[(_vm.onlyExecutables)?[_vm._v(_vm._s(_vm.$t('yes')))]:[_vm._v(_vm._s(_vm.$t('no')))]],2)],1)])])])]),_c('b-table',{staticClass:\"table-softwares\",attrs:{\"data\":_vm.filteredSoftwares,\"paginated\":true,\"current-page\":_vm.currentPage,\"per-page\":_vm.perPage,\"pagination-size\":\"is-small\",\"detailed\":\"\",\"detail-key\":\"id\",\"opened-detailed\":_vm.openedDetails,\"default-sort\":_vm.sort.field,\"default-sort-direction\":_vm.sort.order},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event},\"sort\":_vm.updateSort},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar software = ref.row;\nreturn [_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"250\"}},[_c('router-link',{attrs:{\"to\":(\"/software/\" + (software.id))}},[_vm._v(\" \"+_vm._s(software.fullName)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"softwareStatus\",\"label\":_vm.$t('version'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\",\"custom-sort\":_vm.sortBySoftwareStatus}},[_c('software-status',{attrs:{\"software\":software}})],1),_c('b-table-column',{attrs:{\"field\":\"executable\",\"label\":_vm.$t('ui-runnable'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('boolean-item',{attrs:{\"value\":software.executable}})],1),_c('b-table-column',{attrs:{\"field\":\"numberOfJob\",\"label\":_vm.$t('number-jobs'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(software.numberOfJob)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"numberOfSuccess\",\"label\":_vm.$t('number-success'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(software.numberOfSuccess)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"created\",\"label\":_vm.$t('creation-date'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"180\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(software.created),'ll'))+\" \")]),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\",\"width\":\"150\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":(\"/software/\" + (software.id))}},[_vm._v(\" \"+_vm._s(_vm.$t('button-open'))+\" \")])],1)]}},{key:\"detail\",fn:function(ref){\nvar software = ref.row;\nreturn [_c('software-details',{attrs:{\"software\":software,\"excluded-properties\":_vm.excludedProperties},on:{\"update\":_vm.updateSoftware,\"delete\":function($event){return _vm.deleteSoftware(software)}}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-software')))])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}])})],1)]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-filter\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"tag\",class:_vm.tagClass},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.label))+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<span class=\"tag\" :class=\"tagClass\">\n  {{$t(label)}}\n</span>\n</template>\n\n<script>\nexport default {\n  name: 'software-status',\n  props: {\n    software: Object\n  },\n  computed: {\n    tagClass() {\n      if(!this.software.softwareVersion) {\n        return 'is-white';\n      }\n      if(this.software.deprecated) {\n        return 'is-dark';\n      }\n      return 'is-info';\n    },\n    label() {\n      if(!this.software.softwareVersion) {\n        return 'no-info';\n      }\n      if(this.software.deprecated) {\n        return 'deprecated';\n      }\n      return 'last-release';\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareStatus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareStatus.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SoftwareStatus.vue?vue&type=template&id=4f232346&scoped=true&\"\nimport script from \"./SoftwareStatus.vue?vue&type=script&lang=js&\"\nexport * from \"./SoftwareStatus.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f232346\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.value)?_c('span',{staticClass:\"tag is-success\"},[_c('i',{staticClass:\"fas fa-check\"}),_vm._v(\" \"+_vm._s(_vm.$t('yes'))+\" \")]):_c('span',{staticClass:\"tag is-danger\"},[_c('i',{staticClass:\"fas fa-times\"}),_vm._v(\" \"+_vm._s(_vm.$t('no'))+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span v-if=\"value\" class=\"tag is-success\">\n    <i class=\"fas fa-check\"></i>&nbsp;{{$t('yes')}}\n  </span>\n  <span v-else class=\"tag is-danger\">\n    <i class=\"fas fa-times\"></i>&nbsp;{{$t('no')}}\n  </span>\n</template>\n\n<script>\nexport default {\n  name: 'boolean-item',\n  props: {\n    value: Boolean\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BooleanItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BooleanItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BooleanItem.vue?vue&type=template&id=00684474&scoped=true&\"\nimport script from \"./BooleanItem.vue?vue&type=script&lang=js&\"\nexport * from \"./BooleanItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00684474\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\",\"size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):_c('table',{staticClass:\"table\"},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('tbody',[(_vm.isPropDisplayed('name'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('name')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(\" \"+_vm._s(_vm.software.fullName)+\" \")])]):_vm._e(),(_vm.isPropDisplayed('projects'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('projects')))]),_c('td',{staticClass:\"prop-content\"},[(_vm.projects.length)?_vm._l((_vm.projects),function(project,index){return _c('span',{key:project.id},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (project.id))}},[_vm._v(_vm._s(project.name))]),(index < _vm.projects.length - 1)?_c('span',[_vm._v(\", \")]):_vm._e()],1)}):(_vm.nbProjects > 0)?_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('used-in-project-no-access'))+\" \")]):_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('not-used-in-any-project'))+\" \")])],2)]):_vm._e(),(_vm.isPropDisplayed('trustedSource'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('trusted-source')))]),_c('td',{staticClass:\"prop-content\"},[_c('software-source',{attrs:{\"source\":_vm.source}})],1)]):_vm._e(),(_vm.isPropDisplayed('description'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('description')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-description',{attrs:{\"object\":_vm.software,\"canEdit\":_vm.canManageSoftware}})],1)]):_vm._e(),(_vm.isPropDisplayed('properties'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('properties')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-properties',{attrs:{\"object\":_vm.software,\"canEdit\":_vm.canManageSoftware}})],1)]):_vm._e(),(_vm.isPropDisplayed('attachedFiles'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('attached-files')))]),_c('td',{staticClass:\"prop-content\"},[_c('attached-files',{attrs:{\"object\":_vm.software,\"canEdit\":_vm.canManageSoftware}})],1)]):_vm._e(),(_vm.isPropDisplayed('status'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('status')))]),_c('td',{staticClass:\"prop-content\"},[_c('software-status',{attrs:{\"software\":_vm.software}})],1)]):_vm._e(),(_vm.isPropDisplayed('executable'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('ui-runnable')))]),_c('td',{staticClass:\"prop-content\"},[_c('boolean-item',{attrs:{\"value\":_vm.software.executable}})],1)]):_vm._e(),(_vm.isPropDisplayed('created'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('created-on')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.software.created),'ll'))+\" \")])]):_vm._e(),(_vm.isPropDisplayed('executeCommand'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('execute-command')))]),_c('td',{staticClass:\"prop-content\"},[_c('code',[_vm._v(_vm._s(_vm.software.executeCommand))])])]):_vm._e(),(_vm.isPropDisplayed('pullingCommand'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('pulling-command')))]),_c('td',{staticClass:\"prop-content\"},[_c('code',[_vm._v(_vm._s(_vm.software.pullingCommand))])])]):_vm._e(),(_vm.source)?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('actions')))]),_c('td',{staticClass:\"prop-content\"},[_c('software-source-buttons',{attrs:{\"source\":_vm.source,\"software\":_vm.software}})],1)]):_vm._e()]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[(!this.source)?[_c('em',[_vm._v(_vm._s(_vm.$t('no-trusted-source')))])]:[(_vm.sourceCodeProviderIcon)?_c('i',{class:_vm.sourceCodeProviderIcon}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"is-capitalized\"},[_vm._v(\" \"+_vm._s(_vm.sourceCodeProvider))]),_vm._v(\" [\"+_vm._s(_vm.source.username)+\"] \"),(_vm.source.prefix)?[_vm._v(\" (with prefix \\\"\"+_vm._s(_vm.source.prefix)+\"\\\") \")]:_vm._e(),_c('br'),(_vm.environmentProviderIcon)?_c('i',{class:_vm.environmentProviderIcon}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"is-capitalized\"},[_vm._v(\" \"+_vm._s(_vm.environmentProvider))]),_vm._v(\" [\"+_vm._s(_vm.source.dockerUsername)+\"] \")]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span>\n    <template v-if=\"!this.source\">\n      <em>{{$t('no-trusted-source')}}</em>\n    </template>\n    <template v-else>\n      <i v-if=\"sourceCodeProviderIcon\" :class=\"sourceCodeProviderIcon\"></i> <span class=\"is-capitalized\"> {{sourceCodeProvider}}</span> [{{source.username}}]\n      <template v-if=\"source.prefix\"> (with prefix \"{{source.prefix}}\") </template>\n      <br><i v-if=\"environmentProviderIcon\" :class=\"environmentProviderIcon\"></i> <span class=\"is-capitalized\"> {{environmentProvider}}</span> [{{source.dockerUsername}}]\n    </template>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: 'software-source',\n  props: {\n    source: {type: Object, default: null},\n  },\n  data() {\n    return {\n      supportedProviders: ['github', 'bitbucket', 'gitlab', 'docker']\n    };\n  },\n  computed: {\n    sourceCodeProvider() {\n      let provider = (this.source) ? this.formatProvider(this.source.provider) : null;\n      return provider ? provider : this.$t('unknown');\n    },\n    sourceCodeProviderIcon() {\n      let provider = (this.source) ? this.formatProvider(this.source.provider) : null;\n      return provider ? `fab fa-${provider} fa-fw` : null;\n    },\n    environmentProvider() {\n      let provider = (this.source) ? this.formatProvider(this.source.environmentProvider || 'docker') : null;\n      return provider ? provider : this.$t('unknown');\n    },\n    environmentProviderIcon() {\n      let provider = (this.source) ? this.formatProvider(this.source.environmentProvider || 'docker') : null;\n      return provider ? `fab fa-${provider} fa-fw` : null;\n    }\n  },\n  methods: {\n    formatProvider(provider) {\n      provider = provider.toLowerCase();\n      return this.supportedProviders.includes(provider) ? provider : null;\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareSource.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareSource.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SoftwareSource.vue?vue&type=template&id=45d53d76&scoped=true&\"\nimport script from \"./SoftwareSource.vue?vue&type=script&lang=js&\"\nexport * from \"./SoftwareSource.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45d53d76\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"buttons are-small\"},[_c('a',{staticClass:\"button\",attrs:{\"href\":_vm.sourceCodeProviderLink,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-external-link-alt fa-fw\"}),_vm._v(\" \"+_vm._s(_vm.$t('see-source-code-on'))+\" \"),_c('span',{staticClass:\"is-capitalized\"},[_vm._v(\" \"+_vm._s(_vm.sourceCodeProvider))])]),_c('a',{staticClass:\"button\",attrs:{\"href\":_vm.environmentProviderLink,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-external-link-alt fa-fw\"}),_vm._v(\" \"+_vm._s(_vm.$t('see-environment-on'))+\" \"),_c('span',{staticClass:\"is-capitalized\"},[_vm._v(\" \"+_vm._s(_vm.environmentProvider))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"buttons are-small\">\n    <a :href=\"sourceCodeProviderLink\" class=\"button\" target=\"_blank\">\n      <i class=\"fas fa-external-link-alt fa-fw\"></i> {{$t('see-source-code-on')}}\n      <span class=\"is-capitalized\">&nbsp;{{sourceCodeProvider}}</span>\n    </a>\n    <a :href=\"environmentProviderLink\" class=\"button\" target=\"_blank\">\n      <i class=\"fas fa-external-link-alt fa-fw\"></i> {{$t('see-environment-on')}}\n      <span class=\"is-capitalized\">&nbsp;{{environmentProvider}}</span>\n    </a>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'software-source-buttons',\n  props: {\n    source: Object,\n    software: Object\n  },\n  data() {\n    return {\n      supportedProviders: ['github', 'bitbucket', 'gitlab', 'docker']\n    };\n  },\n  computed: {\n    sourceCodeProvider() {\n      let provider = this.formatProvider(this.source.provider);\n      return provider ? provider : this.$t('unknown');\n    },\n    sourceCodeProviderIcon() {\n      let provider = this.formatProvider(this.source.provider);\n      return provider ? `fab fa-${provider} fa-fw` : null;\n    },\n    sourceCodeProviderLink() {\n      let provider = this.formatProvider(this.source.provider);\n      return `https://${provider}.com/${this.source.username}/${this.source.prefix}${this.software.name}/tree/${this.software.softwareVersion}`;\n    },\n    environmentProvider() {\n      let provider = this.formatProvider(this.source.environmentProvider || 'docker');\n      return provider ? provider : this.$t('unknown');\n    },\n    environmentProviderIcon() {\n      let provider = this.formatProvider(this.source.environmentProvider || 'docker');\n      return provider ? `fab fa-${provider} fa-fw` : null;\n    },\n    environmentProviderLink() {\n      let provider = this.formatProvider(this.source.environmentProvider || 'docker');\n      if (provider === 'docker') {\n        return `https://hub.docker.com/r/${this.source.dockerUsername}/${this.source.prefix.toLowerCase()}${this.software.name.toLowerCase()}`;\n      }\n\n      return '';\n    }\n  },\n  methods: {\n    formatProvider(provider) {\n      provider = provider.toLowerCase();\n      return this.supportedProviders.includes(provider) ? provider : null;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.fa-fw {\n  margin-right: 5px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareSourceButtons.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareSourceButtons.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SoftwareSourceButtons.vue?vue&type=template&id=426f24c6&scoped=true&\"\nimport script from \"./SoftwareSourceButtons.vue?vue&type=script&lang=js&\"\nexport * from \"./SoftwareSourceButtons.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SoftwareSourceButtons.vue?vue&type=style&index=0&id=426f24c6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"426f24c6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\" size=\"is-small\">\n  <h2> {{ $t('error') }} </h2>\n  <p> {{ $t('unexpected-error-info-message') }} </p>\n</b-message>\n<table v-else class=\"table\">\n  <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\n  <tbody v-if=\"!loading\">\n  <tr v-if=\"isPropDisplayed('name')\">\n    <td class=\"prop-label\">{{$t('name')}}</td>\n    <td class=\"prop-content\">\n      {{software.fullName}}\n    </td>\n  </tr>\n  <tr v-if=\"isPropDisplayed('projects')\">\n    <td class=\"prop-label\">{{$t('projects')}}</td>\n    <td class=\"prop-content\">\n      <template v-if=\"projects.length\">\n            <span v-for=\"(project, index) in projects\" :key=\"project.id\">\n              <router-link :to=\"`/project/${project.id}`\">{{project.name}}</router-link>\n              <span v-if=\"index < projects.length - 1\">, </span>\n            </span>\n      </template>\n      <em class=\"has-text-grey\" v-else-if=\"nbProjects > 0\">\n        {{$t('used-in-project-no-access')}}\n      </em>\n      <em class=\"has-text-grey\" v-else>\n        {{$t('not-used-in-any-project')}}\n      </em>\n    </td>\n  </tr>\n  <tr v-if=\"isPropDisplayed('trustedSource')\">\n    <td class=\"prop-label\">{{$t('trusted-source')}}</td>\n    <td class=\"prop-content\">\n      <software-source :source=\"source\" />\n    </td>\n  </tr>\n  <tr v-if=\"isPropDisplayed('description')\">\n    <td class=\"prop-label\">{{$t('description')}}</td>\n    <td class=\"prop-content\">\n      <cytomine-description :object=\"software\" :canEdit=\"canManageSoftware\" />\n    </td>\n  </tr>\n  <tr v-if=\"isPropDisplayed('properties')\">\n    <td class=\"prop-label\">{{$t('properties')}}</td>\n    <td class=\"prop-content\">\n      <cytomine-properties :object=\"software\" :canEdit=\"canManageSoftware\" />\n    </td>\n  </tr>\n  <tr v-if=\"isPropDisplayed('attachedFiles')\">\n    <td class=\"prop-label\">{{$t('attached-files')}}</td>\n    <td class=\"prop-content\">\n      <attached-files :object=\"software\" :canEdit=\"canManageSoftware\" />\n    </td>\n  </tr>\n  <tr v-if=\"isPropDisplayed('status')\">\n    <td class=\"prop-label\">{{$t('status')}}</td>\n    <td class=\"prop-content\">\n      <software-status :software=\"software\" />\n    </td>\n  </tr>\n  <tr v-if=\"isPropDisplayed('executable')\">\n    <td class=\"prop-label\">{{$t('ui-runnable')}}</td>\n    <td class=\"prop-content\">\n      <boolean-item :value=\"software.executable\" />\n    </td>\n  </tr>\n  <tr v-if=\"isPropDisplayed('created')\">\n    <td class=\"prop-label\">{{$t('created-on')}}</td>\n    <td class=\"prop-content\">\n      {{ Number(software.created) | moment('ll') }}\n    </td>\n  </tr>\n  <tr v-if=\"isPropDisplayed('executeCommand')\">\n    <td class=\"prop-label\">{{$t('execute-command')}}</td>\n    <td class=\"prop-content\">\n      <code>{{software.executeCommand}}</code>\n    </td>\n  </tr>\n  <tr v-if=\"isPropDisplayed('pullingCommand')\">\n    <td class=\"prop-label\">{{$t('pulling-command')}}</td>\n    <td class=\"prop-content\">\n      <code>{{software.pullingCommand}}</code>\n    </td>\n  </tr>\n  <tr v-if=\"source\">\n    <td class=\"prop-label\">{{$t('actions')}}</td>\n    <td class=\"prop-content\">\n      <software-source-buttons :source=\"source\" :software=\"software\" />\n    </td>\n  </tr>\n  </tbody>\n</table>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\nimport {ProjectCollection, TrustedSource} from 'cytomine-client';\n\nimport RenameModal from '@/components/utils/RenameModal';\nimport CytomineDescription from '@/components/description/CytomineDescription';\nimport CytomineProperties from '@/components/property/CytomineProperties';\nimport AttachedFiles from '@/components/attached-file/AttachedFiles';\nimport SoftwareStatus from '@/components/software/SoftwareStatus';\nimport BooleanItem from '@/components/utils/BooleanItem';\nimport SoftwareSource from '@/components/software/SoftwareSource';\nimport SoftwareSourceButtons from '@/components/software/SoftwareSourceButtons';\n\nexport default {\n  name: 'software-details',\n  props: {\n    software: Object,\n    excludedProperties: {type: Array, default: () => []}\n  },\n  components: {\n    SoftwareSourceButtons,\n    SoftwareSource,\n    BooleanItem,\n    SoftwareStatus,\n    CytomineDescription,\n    CytomineProperties,\n    AttachedFiles,\n    RenameModal\n  },\n  data() {\n    return {\n      loading: true,\n      error: false,\n\n      projects: [],\n      source: null\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    canManageSoftware() {\n      return this.currentUser.adminByNow;\n    },\n    nbProjects() {\n      return this.projects.length;\n    }\n  },\n  watch: {\n    async excludedProperties() {\n      await this.fetchData();\n    }\n  },\n  methods: {\n    isPropDisplayed(prop) {\n      return !this.excludedProperties.includes(prop);\n    },\n    async fetchData() {\n      let promises = [];\n      if (this.isPropDisplayed('projects')) {\n        promises.push(this.fetchProjects());\n      }\n\n      if (this.isPropDisplayed('trustedSource')) {\n        promises.push(this.fetchSource());\n      }\n\n      this.loading = true;\n      this.error = false;\n\n      try {\n        await Promise.all(promises);\n      }\n      catch(error) {\n        console.log(error);\n        this.error = true;\n      }\n\n      this.loading = false;\n    },\n    async fetchProjects() {\n      this.projects = (await ProjectCollection.fetchAll({filterKey: 'software', filterValue: this.software.id})).array;\n    },\n    async fetchSource() {\n      this.source = (this.software.softwareUserRepository) ? await TrustedSource.fetch(this.software.softwareUserRepository) : null;\n    }\n  },\n  created() {\n    this.fetchData();\n  }\n};\n</script>\n\n<style scoped>\n  .table {\n    background: none;\n    position: relative;\n    height: 3em;\n  }\n\n  td.prop-label {\n    white-space: nowrap;\n    font-weight: 600;\n  }\n\n  td.prop-content {\n    width: 100%;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SoftwareDetails.vue?vue&type=template&id=98ad7208&scoped=true&\"\nimport script from \"./SoftwareDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./SoftwareDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SoftwareDetails.vue?vue&type=style&index=0&id=98ad7208&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"98ad7208\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div class=\"list-software-wrapper content-wrapper\">\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\n\n  <div class=\"box error\" v-if=\"error\">\n    <h2> {{ $t('error') }} </h2>\n    <p>{{ $t('unexpected-error-info-message') }}</p>\n  </div>\n  <div v-else-if=\"!loading\" class=\"panel\">\n    <p class=\"panel-heading\">\n      {{$t('algorithms')}}\n<!--      <button v-if=\"!currentUser.guestByNow\" class=\"button is-link\" @click=\"creationModal = true\">-->\n<!--        {{$t('new-algorithm')}}-->\n<!--      </button>-->\n    </p>\n    <div class=\"panel-block\">\n      <div class=\"search-block\">\n        <b-input\n          class=\"search-softwares\"\n          v-model=\"searchString\"\n          :placeholder=\"$t('search-placeholder')\"\n          type=\"search\" icon=\"search\"\n        />\n        <button class=\"button\" @click=\"toggleFilterDisplay()\">\n          <span class=\"icon\">\n            <i class=\"fas fa-filter\"></i>\n          </span>\n          <span>\n            {{filtersOpened ? $t('button-hide-filters') : $t('button-show-filters')}}\n          </span>\n          <span v-if=\"nbActiveFilters\" class=\"nb-active-filters\">\n            {{nbActiveFilters}}\n          </span>\n        </button>\n      </div>\n\n      <b-collapse :open=\"filtersOpened\">\n        <div class=\"filters\">\n          <div class=\"columns\">\n            <div class=\"column filter\">\n              <div class=\"filter-label\">\n                {{$t('nb-jobs')}}\n              </div>\n              <div class=\"filter-body\">\n                <cytomine-slider v-model=\"boundsJobs\" :max=\"maxNbJobs\" />\n              </div>\n            </div>\n\n            <div class=\"column filter\">\n              <div class=\"filter-label\">\n                {{$t('nb-success-jobs')}}\n              </div>\n              <div class=\"filter-body\">\n                <cytomine-slider v-model=\"boundsSuccessJobs\" :max=\"maxNbSuccessJobs\" />\n              </div>\n            </div>\n\n            <div class=\"column filter\">\n              <div class=\"filter-label\">\n                {{$t('only-last-release')}}\n              </div>\n              <div class=\"filter-body\">\n                <b-switch v-model=\"onlyLastReleases\" class=\"switch\">\n                  <template v-if=\"onlyLastReleases\">{{$t('yes')}}</template>\n                  <template v-else>{{$t('no')}}</template>\n                </b-switch>\n              </div>\n            </div>\n\n            <div class=\"column filter\">\n              <div class=\"filter-label\">\n                {{$t('only-UI-runnable')}}\n              </div>\n              <div class=\"filter-body\">\n                <b-switch v-model=\"onlyExecutables\" class=\"switch\">\n                  <template v-if=\"onlyExecutables\">{{$t('yes')}}</template>\n                  <template v-else>{{$t('no')}}</template>\n                </b-switch>\n              </div>\n            </div>\n          </div>\n        </div>\n      </b-collapse>\n\n\n      <b-table\n        :data=\"filteredSoftwares\"\n        class=\"table-softwares\"\n        :paginated=\"true\"\n        :current-page.sync=\"currentPage\"\n        :per-page=\"perPage\"\n        pagination-size=\"is-small\"\n        detailed\n        detail-key=\"id\"\n        :opened-detailed.sync=\"openedDetails\"\n        :default-sort=\"sort.field\"\n        :default-sort-direction=\"sort.order\"\n        @sort=\"updateSort\"\n      >\n        <template #default=\"{row: software}\">\n          <b-table-column field=\"name\" :label=\"$t('name')\" sortable width=\"250\">\n            <router-link :to=\"`/software/${software.id}`\">\n              {{ software.fullName }}\n            </router-link>\n          </b-table-column>\n\n          <b-table-column field=\"softwareStatus\" :label=\"$t('version')\" centered sortable width=\"150\" :custom-sort=\"sortBySoftwareStatus\">\n            <software-status :software=\"software\" />\n          </b-table-column>\n\n          <b-table-column field=\"executable\" :label=\"$t('ui-runnable')\" centered sortable width=\"150\">\n            <boolean-item :value=\"software.executable\" />\n          </b-table-column>\n\n          <b-table-column field=\"numberOfJob\" :label=\"$t('number-jobs')\" centered sortable width=\"150\">\n            {{ software.numberOfJob }}\n          </b-table-column>\n\n          <b-table-column field=\"numberOfSuccess\" :label=\"$t('number-success')\" centered sortable width=\"150\">\n            {{ software.numberOfSuccess }}\n          </b-table-column>\n\n          <b-table-column field=\"created\" :label=\"$t('creation-date')\" centered sortable width=\"180\">\n            {{ Number(software.created) | moment('ll') }}\n          </b-table-column>\n\n          <b-table-column label=\" \" centered width=\"150\">\n            <router-link :to=\"`/software/${software.id}`\" class=\"button is-small is-link\">\n              {{$t('button-open')}}\n            </router-link>\n          </b-table-column>\n        </template>\n\n        <template #detail=\"{row: software}\">\n          <software-details\n            :software=\"software\"\n            :excluded-properties=\"excludedProperties\"\n            @update=\"updateSoftware\"\n            @delete=\"deleteSoftware(software)\"\n          />\n        </template>\n\n        <template #empty>\n          <div class=\"content has-text-grey has-text-centered\">\n            <p>{{$t('no-software')}}</p>\n          </div>\n        </template>\n\n        <template #bottom-left>\n          <b-select v-model=\"perPage\" size=\"is-small\">\n            <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\n            <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\n            <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\n            <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\n          </b-select>\n        </template>\n      </b-table>\n    </div>\n  </div>\n\n<!--  <add-software-modal :active.sync=\"creationModal\" />-->\n</div>\n</template>\n\n<script>\nimport CytomineSlider from '@/components/form/CytomineSlider';\nimport SoftwareStatus from '@/components/software/SoftwareStatus';\nimport BooleanItem from '@/components/utils/BooleanItem';\nimport SoftwareDetails from '@/components/software/SoftwareDetails';\n\nimport {get, sync, syncFilter, syncBoundsFilter} from '@/utils/store-helpers';\nimport {getWildcardRegexp} from '@/utils/string-utils';\n\nimport {SoftwareCollection} from 'cytomine-client';\n\n\nexport default {\n  name: 'list-software',\n  components: {\n    BooleanItem,\n    SoftwareStatus,\n    CytomineSlider,\n    SoftwareDetails\n  },\n  data() {\n    return {\n      loading: true,\n      error: false,\n      creationModal: false,\n\n      softwares: [],\n\n      excludedProperties: [\n        'name',\n        'created',\n        'executable',\n        'status',\n        'pullingCommand',\n        'executeCommand'\n      ]\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n\n    searchString: sync('listSoftware/searchString'),\n    filtersOpened: sync('listSoftware/filtersOpened'),\n\n    maxNbJobs() {\n      return Math.max(10, ...this.softwares.map(software => software.numberOfJob));\n    },\n\n    maxNbSuccessJobs() {\n      return Math.max(10, ...this.softwares.map(software => software.numberOfSuccess));\n    },\n\n    boundsJobs: syncBoundsFilter('listSoftware', 'boundsJobs', 'maxNbJobs'),\n    boundsSuccessJobs: syncBoundsFilter('listSoftware', 'boundsSuccessJobs', 'maxNbSuccessJobs'),\n    onlyLastReleases: syncFilter('listSoftware', 'onlyLastReleases'),\n    onlyExecutables: syncFilter('listSoftware', 'onlyExecutables'),\n\n    nbActiveFilters() {\n      return this.$store.getters['listSoftware/nbActiveFilters'];\n    },\n\n    regexp() {\n      return getWildcardRegexp(this.searchString);\n    },\n    filteredSoftwares() {\n      let filtered = this.softwares;\n\n      if(this.searchString) {\n        filtered = filtered.filter(software => this.regexp.test(software.name));\n      }\n\n      filtered = filtered.filter(software => {\n        return (software.numberOfJob >= this.boundsJobs[0] && software.numberOfJob <= this.boundsJobs[1]) &&\n          (software.numberOfSuccess >= this.boundsSuccessJobs[0] && software.numberOfSuccess <= this.boundsSuccessJobs[1]) &&\n          ((this.onlyLastReleases && software.softwareVersion && !software.deprecated) || !this.onlyLastReleases) &&\n          ((this.onlyExecutables && software.executable) || !this.onlyExecutables);\n      });\n\n      return filtered;\n    },\n\n    currentPage: sync('listSoftware/currentPage'),\n    perPage: sync('listSoftware/perPage'),\n    sort: sync('listSoftware/sort'),\n    openedDetails: { // HACK cannot use sync because buefy modifies the property => vuex warning because modif outside store\n      get() {\n        return this.$store.state.listSoftware.openedDetails.slice();\n      },\n      set(value) {\n        this.$store.commit('listSoftware/setOpenedDetails', value);\n      }\n    }\n  },\n  methods: {\n    toggleFilterDisplay() {\n      this.filtersOpened = !this.filtersOpened;\n    },\n    updateSort(field, order) {\n      this.sort = {field, order};\n    },\n    sortBySoftwareStatus(a, b, asc) {\n      return ((asc) ? 1 : -1) * (this.getSoftwareStatusValue(a) - this.getSoftwareStatusValue(b));\n    },\n    getSoftwareStatusValue(software) {\n      if (!software.softwareVersion) return 0;\n      if (software.deprecated) return 1;\n      return 2;\n    },\n    updateSoftware(updatedSoftware) {\n      let software = this.softwares.find(software => software.id === updatedSoftware.id);\n      if(software) {\n        software.populate({...updatedSoftware});\n      }\n    },\n    async deleteSoftware(softwareToDelete) {\n      try {\n        await softwareToDelete.delete();\n        this.softwares = this.softwares.filter(software => software.id !== softwareToDelete.id);\n        this.$notify({\n          type: 'success',\n          text: this.$t('notif-success-algorithm-deletion', {softwareName: softwareToDelete.name})\n        });\n      }\n      catch(error) {\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-algorithm-deletion', {softwareName: softwareToDelete.name})\n        });\n      }\n    }\n  },\n  async created() {\n    try {\n      let softwares = await SoftwareCollection.fetchAll();\n\n      this.softwares = softwares.array;\n\n      // if a software was deleted, the currentPage value might not be valid => reinitialize it\n      if((this.currentPage - 1)*this.perPage >= this.filteredSoftwares.length) {\n        this.currentPage = 1;\n      }\n    }\n    catch(error) {\n      console.log(error);\n      this.error = true;\n    }\n\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\n.panel-block {\n  padding-top: 0.8em;\n}\n\n.panel-heading {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.search-block {\n  display: flex;\n}\n\n.switch {\n  margin-left: 1em;\n}\n</style>\n\n<style>\n.search-softwares {\n  max-width: 25em;\n  margin-right: 1em;\n}\n\n.table-softwares {\n  margin-top: 1rem;\n}\n\n.list-software-wrapper td, .list-software-wrapper th {\n  vertical-align: middle !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListSoftware.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListSoftware.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListSoftware.vue?vue&type=template&id=fcddc1be&scoped=true&\"\nimport script from \"./ListSoftware.vue?vue&type=script&lang=js&\"\nexport * from \"./ListSoftware.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListSoftware.vue?vue&type=style&index=0&id=fcddc1be&scoped=true&lang=css&\"\nimport style1 from \"./ListSoftware.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fcddc1be\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.configUI['project-images-tab'])?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):(_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('unexpected-error-info-message')))])]):_c('div',{staticClass:\"content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('images'))+\" \"),(_vm.canAddImage)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){_vm.addImageModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add-image'))+\" \")]):_vm._e()]),_c('div',{staticClass:\"panel-block\"},[_c('div',{staticClass:\"search-block\"},[_c('b-input',{staticClass:\"search-images\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.toggleFilterDisplay()}}},[_vm._m(0),_c('span',[_vm._v(\" \"+_vm._s(_vm.filtersOpened ? _vm.$t('button-hide-filters') : _vm.$t('button-show-filters'))+\" \")]),(_vm.nbActiveFilters)?_c('span',{staticClass:\"nb-active-filters\"},[_vm._v(\" \"+_vm._s(_vm.nbActiveFilters)+\" \")]):_vm._e()])],1),_c('b-collapse',{attrs:{\"open\":_vm.filtersOpened}},[_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter is-one-quarter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('format'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableFormats,\"multiple\":\"\"},model:{value:(_vm.selectedFormats),callback:function ($$v) {_vm.selectedFormats=$$v},expression:\"selectedFormats\"}})],1)]),_c('div',{staticClass:\"column filter is-one-quarter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('vendor'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableVendors,\"multiple\":true,\"label\":\"label\",\"track-by\":\"value\"},model:{value:(_vm.selectedVendors),callback:function ($$v) {_vm.selectedVendors=$$v},expression:\"selectedVendors\"}})],1)]),_c('div',{staticClass:\"column filter is-one-quarter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('tags'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableTags,\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"allPlaceholder\":_vm.$t('all')},model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})],1)])]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('magnification'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableMagnifications,\"multiple\":true,\"searchable\":false,\"label\":\"label\",\"track-by\":\"value\"},model:{value:(_vm.selectedMagnifications),callback:function ($$v) {_vm.selectedMagnifications=$$v},expression:\"selectedMagnifications\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('resolution'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableResolutions,\"multiple\":true,\"searchable\":false,\"label\":\"label\",\"track-by\":\"value\"},model:{value:(_vm.selectedResolutions),callback:function ($$v) {_vm.selectedResolutions=$$v},expression:\"selectedResolutions\"}})],1)]),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('width'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxWidth},model:{value:(_vm.boundsWidth),callback:function ($$v) {_vm.boundsWidth=$$v},expression:\"boundsWidth\"}})],1)]),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('height'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxHeight},model:{value:(_vm.boundsHeight),callback:function ($$v) {_vm.boundsHeight=$$v},expression:\"boundsHeight\"}})],1)])]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('user-annotations'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbUserAnnotations},model:{value:(_vm.boundsUserAnnotations),callback:function ($$v) {_vm.boundsUserAnnotations=$$v},expression:\"boundsUserAnnotations\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('analysis-annotations'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbJobAnnotations},model:{value:(_vm.boundsJobAnnotations),callback:function ($$v) {_vm.boundsJobAnnotations=$$v},expression:\"boundsJobAnnotations\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('reviewed-annotations'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-slider',{attrs:{\"max\":_vm.maxNbReviewedAnnotations},model:{value:(_vm.boundsReviewedAnnotations),callback:function ($$v) {_vm.boundsReviewedAnnotations=$$v},expression:\"boundsReviewedAnnotations\"}})],1)]),_c('div',{staticClass:\"column filter\"})])])]),_c('cytomine-table',{attrs:{\"collection\":_vm.imageCollection,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"openedDetailed\":_vm.openedDetails,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar image = ref.row;\nreturn [_c('b-table-column',{attrs:{\"label\":_vm.$t('overview'),\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (image.project) + \"/image/\" + (image.id))}},[_c('img',{staticClass:\"image-overview\",attrs:{\"src\":image.thumbURL(256)}})])],1),_c('b-table-column',{attrs:{\"field\":_vm.blindMode ? 'blindedName' : 'instanceFilename',\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"400\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (image.project) + \"/image/\" + (image.id))}},[_c('image-name',{attrs:{\"image\":image,\"showBothNames\":\"\"}})],1)],1),_c('b-table-column',{attrs:{\"field\":\"magnification\",\"label\":_vm.$t('magnification'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_vm._v(\" \"+_vm._s(image.magnification || _vm.$t('unknown'))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"numberOfAnnotations\",\"label\":_vm.$t('user-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (image.project) + \"/annotations?image=\" + (image.id) + \"&type=user\")}},[_vm._v(\" \"+_vm._s(image.numberOfAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"numberOfJobAnnotations\",\"label\":_vm.$t('analysis-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (image.project) + \"/annotations?image=\" + (image.id) + \"&type=algo\")}},[_vm._v(\" \"+_vm._s(image.numberOfJobAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"numberOfReviewedAnnotations\",\"label\":_vm.$t('reviewed-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (image.project) + \"/annotations?image=\" + (image.id) + \"&type=reviewed\")}},[_vm._v(\" \"+_vm._s(image.numberOfReviewedAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\",\"width\":\"150\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":(\"/project/\" + (image.project) + \"/image/\" + (image.id))}},[_vm._v(\" \"+_vm._s(_vm.$t('button-open'))+\" \")])],1)]}},{key:\"detail\",fn:function(ref){\nvar image = ref.row;\nreturn [_c('image-details',{attrs:{\"image\":image,\"excludedProperties\":_vm.excludedProperties,\"editable\":\"\"},on:{\"delete\":_vm.refreshData,\"setResolution\":_vm.refreshData,\"setMagnification\":_vm.refreshData}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-image')))])])]},proxy:true}],null,false,740728299)})],1),_c('add-image-modal',{attrs:{\"active\":_vm.addImageModal},on:{\"update:active\":function($event){_vm.addImageModal=$event},\"addImage\":_vm.refreshData}})],1):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-filter\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.image)?_c('span',[(_vm.image.blindedName)?[_c('span',{staticClass:\"blind-indication\"},[_vm._v(\"[\"+_vm._s(this.$t('blinded-name-indication'))+\"]\")]),_vm._v(\" \"+_vm._s(_vm.image.blindedName)+\" \"),(_vm.image.instanceFilename && _vm.showBothNames)?[_c('br'),_c('span',{staticClass:\"true-name\"},[_vm._v(\" \"+_vm._s(_vm.image.instanceFilename)+\" \")])]:_vm._e()]:[_vm._v(_vm._s(_vm.image.instanceFilename))]],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<span v-if=\"image\">\n  <template v-if=\"image.blindedName\">\n    <span class=\"blind-indication\">[{{this.$t('blinded-name-indication')}}]</span>\n    {{image.blindedName}}\n    <template v-if=\"image.instanceFilename && showBothNames\">\n      <br>\n      <span class=\"true-name\">\n        {{image.instanceFilename}} <!-- backend will return this prop iff user is allowed to view it (admin or project manager) -->\n      </span>\n    </template>\n  </template>\n  <template v-else>{{image.instanceFilename}}</template>\n</span>\n</template>\n\n<script>\nexport default {\n  name: 'image-name',\n  props: {\n    image: Object,\n    showBothNames: {type: Boolean, default: false}\n  }\n};\n</script>\n\n<style scoped>\n.blind-indication {\n  font-size: 0.9em;\n  text-transform: uppercase;\n}\n\n.true-name {\n  margin-top: 0.2em;\n  font-size: 0.9em;\n  color: #888;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageName.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageName.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageName.vue?vue&type=template&id=2a983bb4&scoped=true&\"\nimport script from \"./ImageName.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageName.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageName.vue?vue&type=style&index=0&id=2a983bb4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a983bb4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"image-details-wrapper\"},[_c('table',{staticClass:\"table\"},[_c('tbody',[(_vm.isPropDisplayed('overview'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('overview')))]),_c('td',{staticClass:\"prop-content\"},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (_vm.image.project) + \"/image/\" + (_vm.image.id))}},[_c('img',{staticClass:\"image-overview\",attrs:{\"src\":_vm.image.thumb}})])],1)]):_vm._e(),(_vm.isPropDisplayed('status'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('status')))]),_c('td',{staticClass:\"prop-content\"},[_c('image-status',{attrs:{\"image\":_vm.image}})],1)]):_vm._e(),(_vm.isPropDisplayed('numberOfAnnotations'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('user-annotations')))]),_c('td',{staticClass:\"prop-content\"},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (_vm.image.project) + \"/annotations?image=\" + (_vm.image.id) + \"&type=user\")}},[_vm._v(\" \"+_vm._s(_vm.image.numberOfAnnotations)+\" \")])],1)]):_vm._e(),(_vm.isPropDisplayed('numberOfJobAnnotations'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('analysis-annotations')))]),_c('td',{staticClass:\"prop-content\"},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (_vm.image.project) + \"/annotations?image=\" + (_vm.image.id) + \"&type=algo\")}},[_vm._v(\" \"+_vm._s(_vm.image.numberOfJobAnnotations)+\" \")])],1)]):_vm._e(),(_vm.isPropDisplayed('numberOfReviewedAnnotations'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('reviewed-annotations')))]),_c('td',{staticClass:\"prop-content\"},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (_vm.image.project) + \"/annotations?image=\" + (_vm.image.id) + \"&type=reviewed\")}},[_vm._v(\" \"+_vm._s(_vm.image.numberOfReviewedAnnotations)+\" \")])],1)]):_vm._e(),(_vm.isPropDisplayed('description'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('description')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-description',{attrs:{\"object\":_vm.image,\"canEdit\":_vm.canEdit}})],1)]):_vm._e(),(_vm.isPropDisplayed('tags'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('tags')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-tags',{attrs:{\"object\":_vm.image,\"canEdit\":_vm.canEdit}})],1)]):_vm._e(),(_vm.isPropDisplayed('properties'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('properties')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-properties',{attrs:{\"object\":_vm.image,\"canEdit\":_vm.canEdit}})],1)]):_vm._e(),(_vm.isPropDisplayed('attached-files'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('attached-files')))]),_c('td',{staticClass:\"prop-content\"},[_c('attached-files',{attrs:{\"object\":_vm.image,\"canEdit\":_vm.canEdit}})],1)]):_vm._e(),(_vm.isPropDisplayed('slide-preview'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('slide-preview')))]),_c('td',{staticClass:\"prop-content\"},[(_vm.image.macroURL)?_c('a',{on:{\"click\":function($event){_vm.isMetadataModalActive = true}}},[_c('img',{staticClass:\"image-overview\",attrs:{\"src\":_vm.image.macroURL}})]):_c('em',[_vm._v(\" \"+_vm._s(_vm.$t('slide-preview-not-available'))+\" \")])])]):_vm._e(),(_vm.isPropDisplayed('original-filename') && (!_vm.blindMode || _vm.canManageProject))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('originalFilename')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(\" \"+_vm._s(_vm.image.originalFilename)+\" \")])]):_vm._e(),(_vm.isPropDisplayed('format'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('format')))]),_c('td',{staticClass:\"prop-content format\"},[_vm._v(\" \"+_vm._s(_vm.image.extension)+\" \")])]):_vm._e(),(_vm.isPropDisplayed('vendor'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('vendor')))]),_c('td',{staticClass:\"prop-content\"},[(_vm.vendor)?_c('img',{staticClass:\"vendor-img\",attrs:{\"src\":_vm.vendor.imgPath,\"alt\":_vm.vendor.name,\"title\":_vm.vendor.name}}):[_vm._v(_vm._s(_vm.$t('unknown')))]],2)]):_vm._e(),(_vm.isPropDisplayed('size'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('image-size')))]),_c('td',{staticClass:\"prop-content\"},[_vm._v(\" \"+_vm._s(((_vm.image.width) + \" x \" + (_vm.image.height) + \" \" + (_vm.$t('pixels'))))+\" \")])]):_vm._e(),(_vm.isPropDisplayed('resolution'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('resolution')))]),_c('td',{staticClass:\"prop-content\"},[(_vm.image.resolution)?[_vm._v(_vm._s(_vm.image.resolution.toFixed(3))+\" \"+_vm._s(_vm.$t('um-per-pixel')))]:[_vm._v(_vm._s(_vm.$t('unknown')))]],2)]):_vm._e(),(_vm.isPropDisplayed('magnification'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('magnification')))]),_c('td',{staticClass:\"prop-content\"},[(_vm.image.magnification)?[_vm._v(_vm._s(_vm.image.magnification))]:[_vm._v(_vm._s(_vm.$t('unknown')))]],2)]):_vm._e(),_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('actions')))]),_c('td',{staticClass:\"prop-content\"},[_c('div',{staticClass:\"buttons are-small\"},[(_vm.isPropDisplayed('metadata'))?_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.isMetadataModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-metadata'))+\" \")]):_vm._e(),(_vm.canEdit)?[(!_vm.image.reviewed && !_vm.image.inReview)?_c('router-link',{staticClass:\"button\",attrs:{\"to\":(\"/project/\" + (_vm.image.project) + \"/image/\" + (_vm.image.id) + \"?action=review\")}},[_vm._v(\" \"+_vm._s(_vm.$t('button-start-review'))+\" \")]):(_vm.image.reviewUser === _vm.currentUser.id)?[(_vm.image.reviewed)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.cancelReview()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-unvalidate-review'))+\" \")]):[_c('router-link',{staticClass:\"button\",attrs:{\"to\":(\"/project/\" + (_vm.image.project) + \"/image/\" + (_vm.image.id) + \"?action=review\")}},[_vm._v(\" \"+_vm._s(_vm.$t('button-continue-review'))+\" \")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.cancelReview()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel-review'))+\" \")])]]:_vm._e(),(!_vm.blindMode || _vm.canManageProject)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.isRenameModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-rename'))+\" \")]):_vm._e(),_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.isCalibrationModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-set-calibration'))+\" \")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.isMagnificationModalActive = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-set-magnification'))+\" \")])]:_vm._e(),(_vm.canDownloadImages || _vm.canManageProject)?_c('a',{staticClass:\"button\",attrs:{\"href\":_vm.image.downloadURL}},[_vm._v(\" \"+_vm._s(_vm.$t('button-download'))+\" \")]):_vm._e(),(_vm.canEdit)?[_c('button',{staticClass:\"button is-danger\",on:{\"click\":function($event){return _vm.confirmDeletion()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")])]:_vm._e()],2)])])])]),_c('rename-modal',{attrs:{\"title\":_vm.$t('rename-image'),\"currentName\":_vm.image.instanceFilename,\"active\":_vm.isRenameModalActive},on:{\"update:active\":function($event){_vm.isRenameModalActive=$event},\"rename\":_vm.rename}}),_c('magnification-modal',{attrs:{\"image\":_vm.image,\"active\":_vm.isMagnificationModalActive},on:{\"update:active\":function($event){_vm.isMagnificationModalActive=$event},\"setMagnification\":function (event) { return _vm.$emit('setMagnification', event); }}}),_c('calibration-modal',{attrs:{\"image\":_vm.image,\"active\":_vm.isCalibrationModalActive},on:{\"update:active\":function($event){_vm.isCalibrationModalActive=$event},\"setResolution\":function (event) { return _vm.$emit('setResolution', event); }}}),_c('image-metadata-modal',{attrs:{\"active\":_vm.isMetadataModalActive,\"image\":_vm.image},on:{\"update:active\":function($event){_vm.isMetadataModalActive=$event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.setMagnification()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('set-magnification')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-message',{attrs:{\"type\":\"is-warning\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('warning-change-applies-in-project-only'))+\" \")]),_c('b-field',{attrs:{\"label\":_vm.$t('magnification'),\"type\":_vm.fieldType,\"message\":_vm.errors.first('magnification')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|decimal|positive'),expression:\"'required|decimal|positive'\"}],attrs:{\"name\":\"magnification\"},model:{value:(_vm.newMagnification),callback:function ($$v) {_vm.newMagnification=$$v},expression:\"newMagnification\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<form @submit.prevent=\"setMagnification()\">\n  <cytomine-modal :active=\"active\" :title=\"$t('set-magnification')\" @close=\"$emit('update:active', false)\">\n    <b-message type=\"is-warning\" has-icon icon-size=\"is-small\">\n      {{ $t('warning-change-applies-in-project-only') }}\n    </b-message>\n\n    <b-field :label=\"$t('magnification')\" :type=\"fieldType\" :message=\"errors.first('magnification')\">\n      <b-input v-model=\"newMagnification\" name=\"magnification\" v-validate=\"'required|decimal|positive'\" />\n    </b-field>\n\n    <template #footer>\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\n        {{$t('button-cancel')}}\n      </button>\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\n        {{$t('button-save')}}\n      </button>\n    </template>\n  </cytomine-modal>\n</form>\n</template>\n\n<script>\nimport CytomineModal from '@/components/utils/CytomineModal';\n\nexport default {\n  name: 'magnification-modal',\n  props: {\n    active: {type: Boolean},\n    image: {type: Object}\n  },\n  components: {CytomineModal},\n  $_veeValidate: {validator: 'new'},\n  data() {\n    return {\n      newMagnification: ''\n    };\n  },\n  computed: {\n    blindMode() {\n      return this.$store.state.currentProject.project.blindMode;\n    },\n    fieldType() {\n      return {'is-danger': this.errors.has('magnification')};\n    }\n  },\n  watch: {\n    active(val) {\n      if(val) {\n        this.newMagnification = this.image.magnification;\n      }\n    }\n  },\n  methods: {\n    async setMagnification() {\n      let result = await this.$validator.validateAll();\n      if(!result) {\n        return;\n      }\n\n      let imageName = this.blindMode ? this.image.blindedName : this.image.instanceFilename;\n      try {\n        let updateImage = this.image.clone();\n        updateImage.magnification = this.newMagnification;\n        await updateImage.save();\n\n        this.$emit('setMagnification', updateImage.magnification);\n\n        this.$notify({\n          type: 'success',\n          text: this.$t('notif-success-magnification-update', {imageName})\n        });\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-magnification-update', {imageName})\n        });\n      }\n      this.$emit('update:active', false);\n    },\n  }\n};\n</script>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MagnificationModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MagnificationModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MagnificationModal.vue?vue&type=template&id=7d2cb3e3&\"\nimport script from \"./MagnificationModal.vue?vue&type=script&lang=js&\"\nexport * from \"./MagnificationModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.setResolution()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('calibrate-image')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-message',{attrs:{\"type\":\"is-warning\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('warning-change-applies-in-project-only'))+\" \")]),_c('b-field',{attrs:{\"label\":_vm.$t('resolution'),\"type\":_vm.fieldType,\"message\":_vm.errors.first('resolution')}},[_c('b-field',{attrs:{\"type\":_vm.fieldType}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|decimal|positive'),expression:\"'required|decimal|positive'\"}],attrs:{\"name\":\"resolution\",\"expanded\":\"\"},model:{value:(_vm.calibrationField),callback:function ($$v) {_vm.calibrationField=$$v},expression:\"calibrationField\"}}),_c('b-select',{model:{value:(_vm.calibrationFactor),callback:function ($$v) {_vm.calibrationFactor=$$v},expression:\"calibrationFactor\"}},[_c('option',{domProps:{\"value\":0.001}},[_vm._v(\" \"+_vm._s(_vm.$t('nm-per-pixel')))]),_c('option',{domProps:{\"value\":1}},[_vm._v(_vm._s(_vm.$t('um-per-pixel')))]),_c('option',{domProps:{\"value\":1000}},[_vm._v(_vm._s(_vm.$t('mm-per-pixel')))])])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<form @submit.prevent=\"setResolution()\">\n  <cytomine-modal :active=\"active\" :title=\"$t('calibrate-image')\" @close=\"$emit('update:active', false)\">\n    <b-message type=\"is-warning\" has-icon icon-size=\"is-small\">\n      {{ $t('warning-change-applies-in-project-only') }}\n    </b-message>\n\n    <b-field :label=\"$t('resolution')\" :type=\"fieldType\" :message=\"errors.first('resolution')\">\n      <b-field :type=\"fieldType\">\n        <b-input v-model=\"calibrationField\" name=\"resolution\" v-validate=\"'required|decimal|positive'\" expanded />\n        <b-select v-model=\"calibrationFactor\">\n          <option :value=\"0.001\"> {{ $t('nm-per-pixel') }}</option>\n          <option :value=\"1\">{{ $t('um-per-pixel') }}</option>\n          <option :value=\"1000\">{{ $t('mm-per-pixel') }}</option>\n        </b-select>\n      </b-field>\n    </b-field>\n\n    <template #footer>\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\n        {{$t('button-cancel')}}\n      </button>\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\n        {{$t('button-save')}}\n      </button>\n    </template>\n  </cytomine-modal>\n</form>\n</template>\n\n<script>\nimport CytomineModal from '@/components/utils/CytomineModal';\n\nexport default {\n  name: 'calibration-modal',\n  props: {\n    active: {type: Boolean},\n    image: {type: Object}\n  },\n  components: {CytomineModal},\n  $_veeValidate: {validator: 'new'},\n  data() {\n    return {\n      calibrationField: '',\n      calibrationFactor: 1\n    };\n  },\n  computed: {\n    blindMode() {\n      return this.$store.state.currentProject.project.blindMode;\n    },\n    fieldType() {\n      return {'is-danger': this.errors.has('resolution')};\n    }\n  },\n  watch: {\n    active(val) {\n      if(val) {\n        this.calibrationField = this.image.resolution;\n      }\n    }\n  },\n  methods: {\n    async setResolution() {\n      let result = await this.$validator.validateAll();\n      if(!result) {\n        return;\n      }\n\n      let imageName = this.blindMode ? this.image.blindedName : this.image.instanceFilename;\n      try {\n        let updateImage = this.image.clone();\n        updateImage.resolution = Number(this.calibrationField)*this.calibrationFactor;\n        await updateImage.save();\n\n        this.$emit('setResolution', updateImage.resolution);\n\n        this.$notify({\n          type: 'success',\n          text: this.$t('notif-success-image-calibration', {imageName})\n        });\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-image-calibration', {imageName})\n        });\n      }\n      this.$emit('update:active', false);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalibrationModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalibrationModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CalibrationModal.vue?vue&type=template&id=565c65a0&\"\nimport script from \"./CalibrationModal.vue?vue&type=script&lang=js&\"\nexport * from \"./CalibrationModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('image-metadata')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-close'))+\" \")])]},proxy:true}])},[(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[(_vm.image && _vm.image.macroURL)?[_c('p',{staticClass:\"image-preview\",style:(_vm.styleImagePreview)},[_c('img',{ref:\"image\",class:'rotate-' + _vm.rotationAngle,attrs:{\"src\":_vm.image.macroURL}})]),_c('div',{staticClass:\"buttons is-centered are-small\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.rotate(-90)}}},[_c('i',{staticClass:\"fas fa-undo\"})]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.rotate(90)}}},[_c('i',{staticClass:\"fas fa-undo mirror\"})])])]:_vm._e(),_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\",\"size\":\"is-small\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('ul',_vm._l((_vm.filteredProps),function(prop){return _c('li',{key:prop.id},[_c('strong',[_vm._v(_vm._s(prop.key))]),_vm._v(\": \"+_vm._s(prop.value)+\" \")])}),0)]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<cytomine-modal :active=\"active\" :title=\"$t('image-metadata')\" @close=\"$emit('update:active', false)\">\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n    <h2> {{ $t('error') }} </h2>\n    <p> {{ $t('unexpected-error-info-message') }} </p>\n  </b-message>\n  <template v-else>\n    <template v-if=\"image && image.macroURL\">\n      <p :style=\"styleImagePreview\" class=\"image-preview\">\n        <img :class=\"'rotate-' + rotationAngle\" :src=\"image.macroURL\" ref=\"image\">\n      </p>\n      <div class=\"buttons is-centered are-small\">\n        <button class=\"button\" @click=\"rotate(-90)\"><i class=\"fas fa-undo\"></i></button>\n        <button class=\"button\" @click=\"rotate(90)\"><i class=\"fas fa-undo mirror\"></i></button>\n      </div>\n    </template>\n\n    <b-input\n      v-model=\"searchString\"\n      :placeholder=\"$t('search-placeholder')\"\n      type=\"search\"\n      icon=\"search\"\n      size=\"is-small\"\n    />\n    <ul>\n      <li v-for=\"prop in filteredProps\" :key=\"prop.id\">\n        <strong>{{prop.key}}</strong>: {{prop.value}}\n      </li>\n    </ul>\n  </template>\n\n  <template #footer>\n    <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\n      {{$t('button-close')}}\n    </button>\n  </template>\n</cytomine-modal>\n</template>\n\n<script>\nimport {AbstractImage, PropertyCollection} from 'cytomine-client';\nimport CytomineModal from '@/components/utils/CytomineModal';\nimport {getWildcardRegexp} from '@/utils/string-utils';\n\nexport default {\n  name: 'image-metadata-modal',\n  props: {\n    active: Boolean,\n    image: Object\n  },\n  components: {CytomineModal},\n  data() {\n    return {\n      error: false,\n      properties: [],\n      searchString: '',\n      rotationAngle: 0\n    };\n  },\n  computed: {\n    filteredProps() {\n      if(!this.searchString) {\n        return this.properties;\n      }\n      let regexp = getWildcardRegexp(this.searchString);\n      return this.properties.filter(prop => regexp.test(prop.key) || regexp.test(prop.value));\n    },\n    styleImagePreview() {\n      this.rotationAngle; // to force re-evaluation each time rotationAngle changes\n      if(!this.$refs.image) {\n        return;\n      }\n\n      let reverse = (this.rotationAngle === 90 || this.rotationAngle === 270);\n      let width = this.$refs.image.clientWidth + 'px';\n      let height = this.$refs.image.clientHeight + 'px';\n      return {\n        width: reverse ? height : width,\n        height: reverse ? width : height\n      };\n    }\n  },\n  methods: {\n    async rotate(val) {\n      this.rotationAngle = (this.rotationAngle + val + 360) % 360;\n    }\n  },\n  async created() {\n    try {\n      let abstractImage = new AbstractImage({id: this.image.baseImage, class: 'be.cytomine.image.AbstractImage'});\n      this.properties = (await PropertyCollection.fetchAll({object: abstractImage})).array;\n      this.properties.sort((a, b) => a.key.localeCompare(b.key));\n    }\n    catch(error) {\n      console.log(error);\n      this.error = true;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n/deep/ .modal-card, /deep/ .modal-card-body {\n  width: 800px;\n  max-width: 100%;\n}\n\n.image-preview {\n  margin: auto;\n  overflow: hidden;\n  margin-bottom: 0.5em;\n  text-align: center;\n}\n\nimg {\n  transform-origin: top left;\n  max-width: initial;\n\n  &.rotate-90 {\n    transform: rotate(90deg) translateY(-100%);\n  }\n\n  &.rotate-180 {\n    transform: rotate(180deg) translate(-100%,-100%);\n  }\n\n  &.rotate-270 {\n    transform: rotate(270deg) translateX(-100%);\n  }\n}\n\n.mirror {\n  transform: scale(-1, 1);\n}\n\ninput {\n  max-width: 30em;\n  margin-bottom: 1em;\n}\n\nli {\n  overflow-wrap: break-word;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageMetadataModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageMetadataModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageMetadataModal.vue?vue&type=template&id=c1c4df70&scoped=true&\"\nimport script from \"./ImageMetadataModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageMetadataModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageMetadataModal.vue?vue&type=style&index=0&id=c1c4df70&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c1c4df70\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"tag\",class:_vm.tagClass},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.label))+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<span class=\"tag\" :class=\"tagClass\">\n  {{$t(label)}}\n</span>\n</template>\n\n<script>\nexport default {\n  props: {\n    image: Object\n  },\n  computed: {\n    tagClass() {\n      if(this.image.reviewed) {\n        return 'is-success';\n      }\n      if(this.image.inReview) {\n        return 'is-info';\n      }\n      return 'is-light';\n    },\n    label() {\n      if(this.image.reviewed) {\n        return 'reviewed';\n      }\n      if(this.image.inReview) {\n        return 'in-review';\n      }\n      return 'none';\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageStatus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageStatus.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageStatus.vue?vue&type=template&id=8c9417e4&\"\nimport script from \"./ImageStatus.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageStatus.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nlet vendors = {\n  hamamatsu: {\n    imgPath: require('@/assets/brands/hamamatsu.jpg'),\n    name: 'Hamamatsu Photonics'\n  },\n  '3dh': {\n    imgPath: require('@/assets/brands/3dh.png'),\n    name: '3DHISTECH Ltd.'\n  },\n  aperio: {\n    imgPath: require('@/assets/brands/aperio.jpg'),\n    name: 'Aperio'\n  },\n  leica: {\n    imgPath: require('@/assets/brands/leica.png'),\n    name: 'Leica Biosystems'\n  },\n  roche: {\n    imgPath: require('@/assets/brands/roche.gif'),\n    name: 'La Roche Ltd.'\n  },\n  philips: {\n    imgPath: require('@/assets/brands/philips.svg'),\n    name: 'Philips'\n  }\n};\n\nexport default function vendorFromMime(mime) {\n  switch(mime) {\n    case 'openslide/ndpi':\n    case 'openslide/vms':\n      return vendors['hamamatsu'];\n    case 'openslide/mrxs':\n      return vendors['3dh'];\n    case 'openslide/svs':\n      return vendors['aperio'];\n    case 'openslide/scn':\n      return vendors['leica'];\n    case 'ventana/tif':\n    case 'ventana/bif':\n      return vendors['roche'];\n    case 'philips/tif':\n      return vendors['philips'];\n    default:\n      return null;\n  }\n}\n","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"image-details-wrapper\">\n  <table class=\"table\">\n    <tbody>\n      <tr v-if=\"isPropDisplayed('overview')\">\n        <td class=\"prop-label\">{{$t('overview')}}</td>\n        <td class=\"prop-content\">\n          <router-link :to=\"`/project/${image.project}/image/${image.id}`\">\n            <img :src=\"image.thumb\" class=\"image-overview\">\n          </router-link>\n        </td>\n      </tr>\n      <tr v-if=\"isPropDisplayed('status')\">\n        <td class=\"prop-label\">{{$t('status')}}</td>\n        <td class=\"prop-content\">\n          <image-status :image=\"image\" />\n        </td>\n      </tr>\n      <tr v-if=\"isPropDisplayed('numberOfAnnotations')\">\n        <td class=\"prop-label\">{{$t('user-annotations')}}</td>\n        <td class=\"prop-content\">\n          <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=user`\">\n            {{ image.numberOfAnnotations }}\n          </router-link>\n        </td>\n      </tr>\n      <tr v-if=\"isPropDisplayed('numberOfJobAnnotations')\">\n        <td class=\"prop-label\">{{$t('analysis-annotations')}}</td>\n        <td class=\"prop-content\">\n          <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=algo`\">\n            {{ image.numberOfJobAnnotations }}\n          </router-link>\n        </td>\n      </tr>\n      <tr v-if=\"isPropDisplayed('numberOfReviewedAnnotations')\">\n        <td class=\"prop-label\">{{$t('reviewed-annotations')}}</td>\n        <td class=\"prop-content\">\n          <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=reviewed`\">\n            {{ image.numberOfReviewedAnnotations }}\n          </router-link>\n        </td>\n      </tr>\n      <tr v-if=\"isPropDisplayed('description')\">\n        <td class=\"prop-label\">{{$t('description')}}</td>\n        <td class=\"prop-content\">\n          <cytomine-description :object=\"image\" :canEdit=\"canEdit\" />\n        </td>\n      </tr>\n      <tr v-if=\"isPropDisplayed('tags')\">\n        <td class=\"prop-label\">{{$t('tags')}}</td>\n        <td class=\"prop-content\">\n          <cytomine-tags :object=\"image\" :canEdit=\"canEdit\" />\n        </td>\n      </tr>\n      <tr v-if=\"isPropDisplayed('properties')\">\n        <td class=\"prop-label\">{{$t('properties')}}</td>\n        <td class=\"prop-content\">\n          <cytomine-properties :object=\"image\" :canEdit=\"canEdit\" />\n        </td>\n      </tr>\n      <tr v-if=\"isPropDisplayed('attached-files')\">\n        <td class=\"prop-label\">{{$t('attached-files')}}</td>\n        <td class=\"prop-content\">\n          <attached-files :object=\"image\" :canEdit=\"canEdit\" />\n        </td>\n      </tr>\n      <tr v-if=\"isPropDisplayed('slide-preview')\">\n        <td class=\"prop-label\">{{$t('slide-preview')}}</td>\n        <td class=\"prop-content\">\n          <a v-if=\"image.macroURL\" @click=\"isMetadataModalActive = true\">\n            <img :src=\"image.macroURL\" class=\"image-overview\">\n          </a>\n          <em v-else>\n            {{$t('slide-preview-not-available')}}\n          </em>\n        </td>\n      </tr>\n      <tr v-if=\"isPropDisplayed('original-filename') && (!blindMode || canManageProject)\">\n        <td class=\"prop-label\">{{$t('originalFilename')}}</td>\n        <td class=\"prop-content\">\n          {{image.originalFilename}}\n        </td>\n      </tr>\n      <tr v-if=\"isPropDisplayed('format')\">\n        <td class=\"prop-label\">{{$t('format')}}</td>\n        <td class=\"prop-content format\">\n          {{image.extension}}\n        </td>\n      </tr>\n      <tr v-if=\"isPropDisplayed('vendor')\">\n        <td class=\"prop-label\">{{$t('vendor')}}</td>\n        <td class=\"prop-content\">\n          <img v-if=\"vendor\" :src=\"vendor.imgPath\" :alt=\"vendor.name\" :title=\"vendor.name\" class=\"vendor-img\">\n          <template v-else>{{$t('unknown')}}</template>\n        </td>\n      </tr>\n      <tr v-if=\"isPropDisplayed('size')\">\n        <td class=\"prop-label\">{{$t('image-size')}}</td>\n        <td class=\"prop-content\">\n          {{`${image.width} x ${image.height} ${$t('pixels')}`}}\n        </td>\n      </tr>\n      <tr v-if=\"isPropDisplayed('resolution')\">\n        <td class=\"prop-label\">{{$t('resolution')}}</td>\n        <td class=\"prop-content\">\n          <template v-if=\"image.resolution\">{{image.resolution.toFixed(3)}} {{$t('um-per-pixel')}}</template>\n          <template v-else>{{$t('unknown')}}</template>\n        </td>\n      </tr>\n      <tr v-if=\"isPropDisplayed('magnification')\">\n        <td class=\"prop-label\">{{$t('magnification')}}</td>\n        <td class=\"prop-content\">\n          <template v-if=\"image.magnification\">{{image.magnification}}</template>\n          <template v-else>{{$t('unknown')}}</template>\n        </td>\n      </tr>\n      <tr>\n        <td class=\"prop-label\">{{$t('actions')}}</td>\n        <td class=\"prop-content\">\n          <div class=\"buttons are-small\">\n            <button v-if=\"isPropDisplayed('metadata')\" class=\"button\" @click=\"isMetadataModalActive = true\">\n              {{$t('button-metadata')}}\n            </button>\n            <template v-if=\"canEdit\">\n\n              <router-link\n                v-if=\"!image.reviewed && !image.inReview\"\n                :to=\"`/project/${image.project}/image/${image.id}?action=review`\"\n                class=\"button\"\n              >\n                {{$t('button-start-review')}}\n              </router-link>\n\n              <template v-else-if=\"image.reviewUser === currentUser.id\">\n                <button v-if=\"image.reviewed\" class=\"button\" @click=\"cancelReview()\">\n                  {{$t('button-unvalidate-review')}}\n                </button>\n                <template v-else>\n                  <router-link :to=\"`/project/${image.project}/image/${image.id}?action=review`\" class=\"button\">\n                    {{$t('button-continue-review')}}\n                  </router-link>\n                  <button class=\"button\" @click=\"cancelReview()\">\n                    {{$t('button-cancel-review')}}\n                  </button>\n                </template>\n              </template>\n\n              <button v-if=\"!blindMode || canManageProject\" class=\"button\" @click=\"isRenameModalActive = true\">\n                {{$t('button-rename')}}\n              </button>\n              <button class=\"button\" @click=\"isCalibrationModalActive = true\">\n                {{$t('button-set-calibration')}}\n              </button>\n              <button class=\"button\" @click=\"isMagnificationModalActive = true\">\n                {{$t('button-set-magnification')}}\n              </button>\n            </template>\n            <a class=\"button\" v-if=\"canDownloadImages || canManageProject\" :href=\"image.downloadURL\">\n              {{$t('button-download')}}\n            </a>\n            <template v-if=\"canEdit\">\n              <button class=\"button is-danger\" @click=\"confirmDeletion()\">\n                {{$t('button-delete')}}\n              </button>\n            </template>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <rename-modal\n    :title=\"$t('rename-image')\"\n    :currentName=\"image.instanceFilename\"\n    :active.sync=\"isRenameModalActive\"\n    @rename=\"rename\"\n  />\n\n  <magnification-modal\n    :image=\"image\"\n    :active.sync=\"isMagnificationModalActive\"\n    @setMagnification=\"(event) => $emit('setMagnification', event)\"\n  />\n\n  <calibration-modal\n    :image=\"image\"\n    :active.sync=\"isCalibrationModalActive\"\n    @setResolution=\"(event) => $emit('setResolution', event)\"\n  />\n\n  <image-metadata-modal\n    :active.sync=\"isMetadataModalActive\"\n    :image=\"image\"\n  />\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport CytomineDescription from '@/components/description/CytomineDescription';\nimport CytomineProperties from '@/components/property/CytomineProperties';\nimport CytomineTags from '@/components/tag/CytomineTags';\nimport AttachedFiles from '@/components/attached-file/AttachedFiles';\nimport MagnificationModal from './MagnificationModal';\nimport CalibrationModal from './CalibrationModal';\nimport ImageMetadataModal from './ImageMetadataModal';\nimport ImageStatus from './ImageStatus';\nimport RenameModal from '@/components/utils/RenameModal';\nimport {ImageInstance} from 'cytomine-client';\n\nimport vendorFromMime from '@/utils/vendor';\n\nexport default {\n  name: 'image-details',\n  components: {\n    CytomineDescription,\n    CytomineTags,\n    CytomineProperties,\n    AttachedFiles,\n    MagnificationModal,\n    CalibrationModal,\n    ImageMetadataModal,\n    ImageStatus,\n    RenameModal\n  },\n  props: {\n    image: {type: Object},\n    excludedProperties: {type: Array, default: () => []},\n    editable: {type: Boolean, default: false}\n  },\n  data() {\n    return {\n      isRenameModalActive: false,\n      isCalibrationModalActive: false,\n      isMagnificationModalActive: false,\n      isMetadataModalActive: false,\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    configUI: get('currentProject/configUI'),\n    blindMode() {\n      return ((this.$store.state.currentProject.project || {}).blindMode) || false;\n    },\n    canDownloadImages() {\n      return ((this.$store.state.currentProject.project || {}).areImagesDownloadable) || false;\n    },\n    canManageProject() {\n      return this.$store.getters['currentProject/canManageProject'];\n    },\n    canEdit() {\n      return this.editable && this.$store.getters['currentProject/canEditImage'](this.image);\n    },\n    imageNameNotif() {\n      return this.blindMode ? this.image.blindedName : this.image.instanceFilename;\n    },\n    vendor() {\n      return vendorFromMime(this.image.mime);\n    }\n  },\n  methods: {\n    isPropDisplayed(prop) {\n      return !this.excludedProperties.includes(prop) && this.configUI[`project-explore-image-${prop}`];\n    },\n\n    async cancelReview() {\n      let errorLabel = this.image.reviewed ? 'notif-error-unvalidate-review' : 'notif-error-cancel-review';\n      try {\n        await this.image.stopReview(true);\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t(errorLabel)});\n      }\n    },\n\n    async rename(newName) {\n      let oldName = this.image.instanceFilename;\n      try {\n        this.image.instanceFilename = newName;\n        await this.image.save();\n        this.$notify({\n          type: 'success',\n          text: this.$t('notif-success-image-rename', {imageName: this.image.instanceFilename})\n        });\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-image-rename', {imageName: oldName})\n        });\n      }\n      this.isRenameModalActive = false;\n    },\n\n    confirmDeletion() {\n      this.$buefy.dialog.confirm({\n        title: this.$t('delete-image'),\n        message: this.$t('delete-image-confirmation-message', {imageName: this.imageNameNotif}),\n        type: 'is-danger',\n        confirmText: this.$t('button-confirm'),\n        cancelText: this.$t('button-cancel'),\n        onConfirm: this.deleteImage\n      });\n    },\n    async deleteImage() {\n      try {\n        await ImageInstance.delete(this.image.id);\n        this.$notify({\n          type: 'success',\n          text: this.$t('notif-success-image-deletion', {imageName: this.imageNameNotif})\n        });\n        this.$emit('delete');\n\n        let updatedProject = this.$store.state.currentProject.project.clone();\n        updatedProject.numberOfImages--;\n        this.$store.dispatch('currentProject/updateProject', updatedProject);\n      }\n      catch(err) {\n        console.log(err);\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-image-deletion', {imageName: this.imageNameNotif})\n        });\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.table {\n  background: none;\n  position: relative;\n  margin-bottom: 0 !important;\n}\n\ntd.prop-label {\n  white-space: nowrap;\n  font-weight: 600;\n}\n\ntd.prop-content {\n  width: 100%;\n}\n\n.format {\n  text-transform: uppercase;\n}\n\n.vendor-img {\n  max-height: 4rem;\n  max-width: 12rem;\n}\n\n.image-overview {\n  max-height: 18rem;\n  max-width: 50vw;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageDetails.vue?vue&type=template&id=1ffffabd&scoped=true&\"\nimport script from \"./ImageDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageDetails.vue?vue&type=style&index=0&id=1ffffabd&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ffffabd\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('add-images')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}}},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[[_c('b-input',{staticClass:\"search-images\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('cytomine-table',{attrs:{\"collection\":_vm.imageCollection,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"detailed\":false},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar image = ref.row;\nreturn [_c('b-table-column',{attrs:{\"label\":_vm.$t('overview')}},[_c('img',{staticClass:\"image-overview\",attrs:{\"src\":image.previewURL(256)}})]),_c('b-table-column',{attrs:{\"field\":\"originalFilename\",\"label\":_vm.$t('name'),\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(image.originalFilename)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"created\",\"label\":_vm.$t('created-on'),\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(image.created),'ll LT'))+\" \")]),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\"}},[(_vm.wasAdded(image))?_c('button',{staticClass:\"button is-small is-link\",attrs:{\"disabled\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('button-added'))+\" \")]):(_vm.isInProject(image))?_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('already-in-project'))+\" \")]):_c('button',{staticClass:\"button is-small is-link\",on:{\"click\":function($event){return _vm.addImage(image)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")])])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-image')))])])]},proxy:true}],null,false,3702608298)})]]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<cytomine-modal :active=\"active\" :title=\"$t('add-images')\" @close=\"$emit('update:active', false)\">\n  <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\n  <template v-if=\"!loading\">\n    <template>\n      <b-input class=\"search-images\" v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\"\n      type=\"search\" icon=\"search\" />\n\n      <cytomine-table\n        :collection=\"imageCollection\"\n        :currentPage.sync=\"currentPage\"\n        :perPage.sync=\"perPage\"\n        :sort.sync=\"sortField\"\n        :order.sync=\"sortOrder\"\n        :detailed=\"false\"\n      >\n        <template #default=\"{row: image}\">\n          <b-table-column :label=\"$t('overview')\">\n            <img :src=\"image.previewURL(256)\" class=\"image-overview\">\n          </b-table-column>\n\n          <b-table-column field=\"originalFilename\" :label=\"$t('name')\" sortable>\n            {{ image.originalFilename }}\n          </b-table-column>\n\n          <b-table-column field=\"created\" :label=\"$t('created-on')\" sortable>\n            {{ Number(image.created) | moment('ll LT') }}\n          </b-table-column>\n\n          <b-table-column label=\" \" centered>\n            <button v-if=\"wasAdded(image)\" class=\"button is-small is-link\" disabled>\n              {{$t('button-added')}}\n            </button>\n            <span v-else-if=\"isInProject(image)\">\n              {{$t('already-in-project')}}\n            </span>\n            <button v-else class=\"button is-small is-link\" @click=\"addImage(image)\">\n              {{$t('button-add')}}\n            </button>\n          </b-table-column>\n        </template>\n\n        <template #empty>\n          <div class=\"content has-text-grey has-text-centered\">\n            <p>{{$t('no-image')}}</p>\n          </div>\n        </template>\n      </cytomine-table>\n    </template>\n  </template>\n</cytomine-modal>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\nimport {AbstractImageCollection, ImageInstance} from 'cytomine-client';\nimport CytomineModal from '@/components/utils/CytomineModal';\nimport CytomineTable from '@/components/utils/CytomineTable';\n\nexport default {\n  name: 'add-image-modal',\n  props: {\n    active: Boolean,\n  },\n  components: {\n    CytomineTable,\n    CytomineModal\n  },\n  data() {\n    return {\n      loading: true,\n      perPage: 10,\n      searchString: '',\n      idsAddedImages: [],\n      currentPage: 1,\n      sortField: 'created',\n      sortOrder: 'desc',\n    };\n  },\n  computed: {\n    project: get('currentProject/project'),\n    imageCollection() {\n      let collection = new AbstractImageCollection({\n        project: this.project.id,\n      });\n      if(this.searchString) {\n        collection['originalFilename'] = {\n          ilike: encodeURIComponent(this.searchString)\n        };\n      }\n\n      return collection;\n    },\n  },\n  watch: {\n    active(val) {\n      if(val) {\n        this.idsAddedImages = [];\n      }\n    }\n  },\n  methods: {\n    async addImage(abstractImage) {\n      let propsTranslation = {imageName: abstractImage.originalFilename, projectName: this.project.name};\n      try {\n        let image = await new ImageInstance({baseImage: abstractImage.id, project: this.project.id}).save();\n        this.idsAddedImages.push(abstractImage.id);\n        this.$emit('addImage', image);\n        this.$notify({\n          type: 'success',\n          text: this.$t('notif-success-add-image', propsTranslation)\n        });\n\n        let updatedProject = this.project.clone();\n        updatedProject.numberOfImages++;\n        this.$store.dispatch('currentProject/updateProject', updatedProject);\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-add-image', propsTranslation)\n        });\n      }\n    },\n    isInProject(image) {\n      return image.inProject;\n    },\n    wasAdded(image) {\n      return this.idsAddedImages.includes(image.id);\n    }\n  },\n  async created() {\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\n>>> .animation-content {\n  max-width: 60% !important;\n  width: 60%;\n}\n\n>>> .modal-card {\n  width: 100%;\n  height: 80vh;\n}\n\n.image-overview {\n  max-height: 4rem;\n  max-width: 10rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddImageModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddImageModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddImageModal.vue?vue&type=template&id=4bf4c07a&scoped=true&\"\nimport script from \"./AddImageModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddImageModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddImageModal.vue?vue&type=style&index=0&id=4bf4c07a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4bf4c07a\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"box error\" v-if=\"!configUI['project-images-tab']\">\n  <h2> {{ $t('access-denied') }} </h2>\n  <p>{{ $t('insufficient-permission') }}</p>\n</div>\n<div class=\"box error\" v-else-if=\"error\">\n  <h2> {{ $t('error') }} </h2>\n  <p>{{ $t('unexpected-error-info-message') }}</p>\n</div>\n<div v-else class=\"content-wrapper\">\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\n  <div v-if=\"!loading\" class=\"panel\">\n    <p class=\"panel-heading\">\n      {{$t('images')}}\n      <button v-if=\"canAddImage\" class=\"button is-link\" @click=\"addImageModal = true\">\n        {{$t('button-add-image')}}\n      </button>\n    </p>\n    <div class=\"panel-block\">\n      <div class=\"search-block\">\n        <b-input\n          class=\"search-images\"\n          v-model=\"searchString\"\n          :placeholder=\"$t('search-placeholder')\"\n          type=\"search\" icon=\"search\"\n        />\n        <button class=\"button\" @click=\"toggleFilterDisplay()\">\n          <span class=\"icon\">\n            <i class=\"fas fa-filter\"></i>\n          </span>\n          <span>\n            {{filtersOpened ? $t('button-hide-filters') : $t('button-show-filters')}}\n          </span>\n          <span v-if=\"nbActiveFilters\" class=\"nb-active-filters\">\n            {{nbActiveFilters}}\n          </span>\n        </button>\n      </div>\n\n      <b-collapse :open=\"filtersOpened\">\n        <div class=\"filters\">\n          <div class=\"columns\">\n            <div class=\"column filter is-one-quarter\">\n              <div class=\"filter-label\">\n                {{$t('format')}}\n              </div>\n              <div class=\"filter-body\">\n                <cytomine-multiselect v-model=\"selectedFormats\" :options=\"availableFormats\" multiple />\n              </div>\n            </div>\n\n            <div class=\"column filter is-one-quarter\">\n              <div class=\"filter-label\">\n                {{$t('vendor')}}\n              </div>\n              <div class=\"filter-body\">\n                <cytomine-multiselect v-model=\"selectedVendors\" :options=\"availableVendors\"\n                    :multiple=\"true\" label=\"label\" track-by=\"value\"/>\n              </div>\n            </div>\n\n            <div class=\"column filter is-one-quarter\">\n              <div class=\"filter-label\">\n                {{$t('tags')}}\n              </div>\n              <div class=\"filter-body\">\n                <cytomine-multiselect v-model=\"selectedTags\" :options=\"availableTags\"\n                  label=\"name\" track-by=\"id\" :multiple=\"true\" :allPlaceholder=\"$t('all')\" />\n              </div>\n            </div>\n\n          </div>\n\n          <div class=\"columns\">\n            <div class=\"column filter\">\n              <div class=\"filter-label\">\n                {{$t('magnification')}}\n              </div>\n              <div class=\"filter-body\">\n                <cytomine-multiselect v-model=\"selectedMagnifications\" :options=\"availableMagnifications\"\n                    :multiple=\"true\" :searchable=\"false\" label=\"label\" track-by=\"value\"/>\n              </div>\n            </div>\n\n            <div class=\"column filter\">\n              <div class=\"filter-label\">\n                {{$t('resolution')}}\n              </div>\n              <div class=\"filter-body\">\n                <cytomine-multiselect v-model=\"selectedResolutions\" :options=\"availableResolutions\"\n                    :multiple=\"true\" :searchable=\"false\" label=\"label\" track-by=\"value\" />\n              </div>\n            </div>\n\n            <div class=\"column\">\n              <div class=\"filter-label\">\n                {{$t('width')}}\n              </div>\n              <div class=\"filter-body\">\n                <cytomine-slider v-model=\"boundsWidth\" :max=\"maxWidth\" />\n              </div>\n            </div>\n\n            <div class=\"column\">\n              <div class=\"filter-label\">\n                {{$t('height')}}\n              </div>\n              <div class=\"filter-body\">\n                <cytomine-slider v-model=\"boundsHeight\" :max=\"maxHeight\" />\n              </div>\n            </div>\n          </div>\n\n          <div class=\"columns\">\n            <div class=\"column filter\">\n              <div class=\"filter-label\">\n                {{$t('user-annotations')}}\n              </div>\n              <div class=\"filter-body\">\n                <cytomine-slider v-model=\"boundsUserAnnotations\" :max=\"maxNbUserAnnotations\" />\n              </div>\n            </div>\n\n            <div class=\"column filter\">\n              <div class=\"filter-label\">\n                {{$t('analysis-annotations')}}\n              </div>\n              <div class=\"filter-body\">\n                <cytomine-slider v-model=\"boundsJobAnnotations\" :max=\"maxNbJobAnnotations\" />\n              </div>\n            </div>\n\n            <div class=\"column filter\">\n              <div class=\"filter-label\">\n                {{$t('reviewed-annotations')}}\n              </div>\n              <div class=\"filter-body\">\n                <cytomine-slider v-model=\"boundsReviewedAnnotations\" :max=\"maxNbReviewedAnnotations\" />\n              </div>\n            </div>\n\n            <div class=\"column filter\"></div>\n          </div>\n        </div>\n      </b-collapse>\n\n      <cytomine-table\n        :collection=\"imageCollection\"\n        :currentPage.sync=\"currentPage\"\n        :perPage.sync=\"perPage\"\n        :openedDetailed.sync=\"openedDetails\"\n        :sort.sync=\"sortField\"\n        :order.sync=\"sortOrder\"\n        :revision=\"revision\"\n      >\n        <template #default=\"{row: image}\">\n          <b-table-column :label=\"$t('overview')\" width=\"100\">\n            <router-link :to=\"`/project/${image.project}/image/${image.id}`\">\n              <img :src=\"image.thumbURL(256)\" class=\"image-overview\">\n            </router-link>\n          </b-table-column>\n\n          <b-table-column\n            :field=\"blindMode ? 'blindedName' : 'instanceFilename'\"\n            :label=\"$t('name')\"\n            sortable\n            width=\"400\"\n          >\n            <router-link :to=\"`/project/${image.project}/image/${image.id}`\">\n              <image-name :image=\"image\" showBothNames />\n            </router-link>\n          </b-table-column>\n\n          <b-table-column field=\"magnification\" :label=\"$t('magnification')\" centered sortable width=\"100\">\n            {{ image.magnification || $t('unknown') }}\n          </b-table-column>\n\n          <b-table-column field=\"numberOfAnnotations\" :label=\"$t('user-annotations')\" centered sortable width=\"100\">\n            <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=user`\">\n              {{ image.numberOfAnnotations }}\n            </router-link>\n          </b-table-column>\n\n          <b-table-column field=\"numberOfJobAnnotations\" :label=\"$t('analysis-annotations')\" centered sortable width=\"100\">\n            <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=algo`\">\n              {{ image.numberOfJobAnnotations }}\n            </router-link>\n          </b-table-column>\n\n          <b-table-column field=\"numberOfReviewedAnnotations\" :label=\"$t('reviewed-annotations')\" centered sortable width=\"100\">\n            <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=reviewed`\">\n              {{ image.numberOfReviewedAnnotations }}\n            </router-link>\n          </b-table-column>\n\n          <b-table-column label=\" \" centered width=\"150\">\n            <router-link :to=\"`/project/${image.project}/image/${image.id}`\" class=\"button is-small is-link\">\n              {{$t('button-open')}}\n            </router-link>\n          </b-table-column>\n        </template>\n\n        <template #detail=\"{row: image}\">\n          <image-details\n            :image=\"image\"\n            :excludedProperties=\"excludedProperties\"\n            editable\n            @delete=\"refreshData\"\n            @setResolution=\"refreshData\"\n            @setMagnification=\"refreshData\"\n          />\n        </template>\n\n        <template #empty>\n          <div class=\"content has-text-grey has-text-centered\">\n            <p>{{$t('no-image')}}</p>\n          </div>\n        </template>\n      </cytomine-table>\n    </div>\n\n    <add-image-modal :active.sync=\"addImageModal\" @addImage=\"refreshData\" />\n  </div>\n</div>\n</template>\n\n<script>\nimport {get, sync, syncMultiselectFilter, syncBoundsFilter} from '@/utils/store-helpers';\n\nimport CytomineTable from '@/components/utils/CytomineTable';\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\nimport CytomineSlider from '@/components/form/CytomineSlider';\nimport ImageName from './ImageName';\nimport ImageDetails from './ImageDetails';\nimport AddImageModal from './AddImageModal';\nimport vendorFromMime from '@/utils/vendor';\n\nimport {ImageInstanceCollection, TagCollection} from 'cytomine-client';\n\n// store options to use with store helpers to target projects/currentProject/listImages module\nconst storeOptions = {rootModuleProp: 'storeModule'};\n// redefine helpers to use storeOptions and correct module path\nconst localSyncMultiselectFilter = (filterName, options) => syncMultiselectFilter(null, filterName, options, storeOptions);\nconst localSyncBoundsFilter = (filterName, maxProp) => syncBoundsFilter(null, filterName, maxProp, storeOptions);\n\nexport default {\n  name: 'list-images',\n  components: {\n    ImageName,\n    ImageDetails,\n    CytomineTable,\n    CytomineMultiselect,\n    CytomineSlider,\n    AddImageModal\n  },\n  data() {\n    return {\n      loading: true,\n      error: false,\n      images: [],\n      addImageModal: false,\n      excludedProperties: [\n        'overview',\n        'instanceFilename',\n        'magnification',\n        'numberOfAnnotations',\n        'numberOfJobAnnotations',\n        'numberOfReviewedAnnotations'\n      ],\n      availableFormats: [],\n      availableVendors: [],\n      availableMagnifications: [],\n      availableResolutions: [],\n      availableTags:[],\n      maxWidth: 100,\n      maxHeight: 100,\n      maxNbUserAnnotations: 100,\n      maxNbJobAnnotations: 100,\n      maxNbReviewedAnnotations: 100,\n      revision: 0\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    configUI: get('currentProject/configUI'),\n    project: get('currentProject/project'),\n    blindMode() {\n      return this.project.blindMode;\n    },\n    canManageProject() {\n      return this.$store.getters['currentProject/canManageProject'];\n    },\n    canAddImage() {\n      return !this.currentUser.guestByNow && (this.canManageProject || !this.project.isReadOnly);\n    },\n\n    storeModule() { // path to the vuex module in which state of this component is stored (projects/currentProject/listImages)\n      return this.$store.getters['currentProject/currentProjectModule'] + 'listImages';\n    },\n\n    searchString: sync('searchString', {...storeOptions, debounce: 500}),\n    filtersOpened: sync('filtersOpened', storeOptions),\n\n    querySearchTags() {\n      return this.$route.query.tags;\n    },\n    selectedFormats: localSyncMultiselectFilter('formats', 'availableFormats'),\n    selectedVendors: localSyncMultiselectFilter('vendors', 'availableVendors'),\n    selectedTags: localSyncMultiselectFilter('selectedTags', 'availableTags'),\n    selectedMagnifications: localSyncMultiselectFilter('magnifications', 'availableMagnifications'),\n    selectedResolutions: localSyncMultiselectFilter('resolutions', 'availableResolutions'),\n    boundsWidth: localSyncBoundsFilter('boundsWidth', 'maxWidth'),\n    boundsHeight: localSyncBoundsFilter('boundsHeight', 'maxHeight'),\n    boundsUserAnnotations: localSyncBoundsFilter('boundsUserAnnotations', 'maxNbUserAnnotations'),\n    boundsJobAnnotations: localSyncBoundsFilter('boundsJobAnnotations', 'maxNbJobAnnotations'),\n    boundsReviewedAnnotations: localSyncBoundsFilter('boundsReviewedAnnotations', 'maxNbReviewedAnnotations'),\n\n    multiSelectFilters() {\n      return [\n        {prop: 'extension', selected: this.selectedFormats, total: this.availableFormats.length},\n        {prop: 'vendor', selected: this.selectedVendors.map(option => option.value), total: this.availableVendors.length},\n        {prop: 'magnification', selected: this.selectedMagnifications.map(option => option.value), total: this.availableMagnifications.length},\n        {prop: 'resolution', selected: this.selectedResolutions.map(option => option.value), total: this.availableResolutions.length},\n        {prop: 'tag', selected: this.selectedTags.map(option => option.id), total: this.availableTags.length}\n      ];\n    },\n\n    boundsFilters() {\n      return [\n        {prop: 'width', bounds: this.boundsWidth},\n        {prop: 'height', bounds: this.boundsHeight},\n        {prop: 'numberOfAnnotations', bounds: this.boundsUserAnnotations},\n        {prop: 'numberOfJobAnnotations', bounds: this.boundsJobAnnotations},\n        {prop: 'numberOfReviewedAnnotations', bounds: this.boundsReviewedAnnotations},\n      ];\n    },\n\n    imageCollection() {\n      let collection = new ImageInstanceCollection({\n        filterKey: 'project',\n        filterValue: this.project.id,\n      });\n      if(this.searchString) {\n        collection['name'] = {\n          ilike: encodeURIComponent(this.searchString)\n        };\n      }\n      for(let {prop, bounds} of this.boundsFilters) {\n        collection[prop] = {\n          lte: bounds[1]\n        };\n        if(bounds[0] > 0) collection[prop]['gte'] = bounds[0];\n      }\n      for(let {prop, selected, total} of this.multiSelectFilters) {\n        if(prop == 'vendor') prop = 'mimeType';\n        if(selected.length > 0 && selected.length < total) {\n          collection[prop] = {\n            in: selected.join()\n          };\n        }\n      }\n      return collection;\n    },\n\n    nbActiveFilters() {\n      return this.$store.getters[this.storeModule + '/nbActiveFilters'];\n    },\n\n    currentPage: sync('currentPage', storeOptions),\n    perPage: sync('perPage', storeOptions),\n    sortField: sync('sortField', storeOptions),\n    sortOrder: sync('sortOrder', storeOptions),\n    openedDetails: sync('openedDetails', storeOptions)\n  },\n  methods: {\n    async fetchFilters() {\n      let stats = await new ImageInstanceCollection.fetchBounds({project: this.project.id});\n      this.maxWidth = Math.max(100, stats.width.max);\n      this.maxHeight = Math.max(100, stats.height.max);\n      this.maxNbUserAnnotations = Math.max(100, stats.countImageAnnotations.max);\n      this.maxNbJobAnnotations = Math.max(100, stats.countImageJobAnnotations.max);\n      this.maxNbReviewedAnnotations = Math.max(100, stats.countImageReviewedAnnotations.max);\n\n\n      this.availableFormats = stats.format.list;\n      this.availableVendors = stats.mimeType.list.map(mime => {\n        let vendor = vendorFromMime(mime);\n        return {\n          value: mime || 'null',\n          label: vendor ? vendor.name : this.$t('unknown')\n        };\n      });\n      this.availableMagnifications = stats.magnification.list.map(m => {\n        return {\n          value: m || 'null',\n          label: m || this.$t('unknown')\n        };\n      });\n      this.availableResolutions = stats.resolution.list.map(resolution => {\n        return {\n          value: resolution || 'null',\n          label: resolution ? `${resolution.toFixed(3)} ${this.$t('um-per-pixel')}` : this.$t('unknown')\n        };\n      });\n    },\n    async fetchTags() {\n      this.availableTags = [{id: 'null', name: this.$t('no-tag')}, ...(await TagCollection.fetchAll()).array];\n    },\n\n    async refreshData() {\n      try {\n        await Promise.all([\n          this.fetchFilters(),\n        ]);\n        this.revision++;\n      }\n      catch(error) {\n        console.log(error);\n        this.error = true;\n      }\n    },\n\n    toggleFilterDisplay() {\n      this.filtersOpened = !this.filtersOpened;\n    }\n  },\n  watch: {\n    querySearchTags(values) {\n      if(values) {\n        this.selectedTags = [];\n        let queriedTags = this.availableTags.filter(tag => values.split(',').includes(tag.name));\n        if(queriedTags) {\n          this.selectedTags = queriedTags;\n        }\n      }\n    }\n  },\n  async created() {\n    try {\n      await Promise.all([\n        this.fetchFilters(),\n        this.fetchTags()\n      ]);\n      this.loading = false;\n    }\n    catch(error) {\n      console.log(error);\n      this.error = true;\n    }\n    if(this.$route.query.tags) {\n      let queriedTags = this.availableTags.filter(tag => this.$route.query.tags.split(',').includes(tag.name));\n      if(queriedTags) {\n        this.selectedTags = queriedTags;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.panel-heading {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.image-overview {\n  max-height: 4rem;\n  max-width: 10rem;\n}\n\n.search-block {\n  display: flex;\n}\n\n>>> .search-images {\n  max-width: 30rem;\n  margin-right: 1rem;\n}\n\n>>> td, >>> th {\n  vertical-align: middle !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListImages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListImages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListImages.vue?vue&type=template&id=5096ea02&scoped=true&\"\nimport script from \"./ListImages.vue?vue&type=script&lang=js&\"\nexport * from \"./ListImages.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListImages.vue?vue&type=style&index=0&id=5096ea02&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5096ea02\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permissionError || _vm.notFoundError)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t(_vm.permissionError ? 'access-denied' : 'not-found'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t(_vm.permissionError ? 'insufficient-permission' : 'not-found-error'))+\" \")])]):_c('div',{staticClass:\"content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading},on:{\"update:active\":function($event){_vm.loading=$event}}}),(!_vm.loading)?_c('div',{staticClass:\"box\"},[_c('i18n',{attrs:{\"path\":\"detailed-image-information\",\"tag\":\"h1\"}},[_c('router-link',{attrs:{\"place\":\"imageName\",\"to\":(\"/project/\" + (_vm.image.project) + \"/image/\" + (_vm.image.id))}},[_c('image-name',{attrs:{\"image\":_vm.image}})],1)],1),(_vm.image)?_c('image-details',{attrs:{\"image\":_vm.image,\"editable\":\"\"},on:{\"setResolution\":function (resolution) { return _vm.image.resolution = resolution; },\"setMagnification\":function (magnification) { return _vm.image.magnification = magnification; },\"delete\":function($event){return _vm.deleteImage()}}}):_vm._e()],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"box error\" v-if=\"permissionError || notFoundError\">\n  <h2> {{ $t(permissionError ? 'access-denied' : 'not-found') }} </h2>\n  <p> {{ $t(permissionError ? 'insufficient-permission' : 'not-found-error') }} </p>\n</div>\n<div class=\"content-wrapper\" v-else>\n  <b-loading :is-full-page=\"false\" :active.sync=\"loading\" />\n  <div class=\"box\" v-if=\"!loading\">\n    <i18n path=\"detailed-image-information\" tag=\"h1\">\n      <router-link place=\"imageName\" :to=\"`/project/${image.project}/image/${image.id}`\">\n        <image-name :image=\"image\" />\n      </router-link>\n    </i18n>\n\n    <image-details\n      v-if=\"image\"\n      :image=\"image\"\n      editable\n      @setResolution=\"resolution => image.resolution = resolution\"\n      @setMagnification=\"magnification => image.magnification = magnification\"\n      @delete=\"deleteImage()\"\n    />\n  </div>\n</div>\n</template>\n\n<script>\nimport ImageName from './ImageName';\nimport ImageDetails from './ImageDetails';\n\nimport {ImageInstance} from 'cytomine-client';\n\nexport default {\n  name: 'image-information',\n  components: {\n    ImageName,\n    ImageDetails\n  },\n  data() {\n    return {\n      loading: true,\n      image: null,\n      permissionError: false,\n      notFoundError: false\n    };\n  },\n  computed: {\n    idImage() {\n      return this.$route.params.idImage;\n    }\n  },\n  watch: {\n    idImage() {\n      this.loadImage();\n    }\n  },\n  methods: {\n    async loadImage() {\n      this.loading = true;\n      this.permissionError = false;\n      this.notFoundError = false;\n      try {\n        this.image = await ImageInstance.fetch(this.idImage);\n      }\n      catch(error) {\n        console.log(error);\n        if(error.response.status === 403) {\n          this.permissionError = true;\n        }\n        else {\n          this.notFoundError = true;\n        }\n      }\n      this.loading = false;\n    },\n    deleteImage() {\n      this.$router.push(`/project/${this.image.project}`);\n    },\n  },\n  created() {\n    this.loadImage();\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageInformation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageInformation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageInformation.vue?vue&type=template&id=a245277c&\"\nimport script from \"./ImageInformation.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageInformation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.configUI['project-annotations-tab'])?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):(_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('error-load-annotations-filters')))])]):_c('div',{staticClass:\"content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('div',[_c('div',{staticClass:\"box\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('display'))+\" \")]),_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('preview-size'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.allowedSizes,\"label\":\"label\",\"track-by\":\"size\",\"allow-empty\":false,\"searchable\":false},model:{value:(_vm.selectedSize),callback:function ($$v) {_vm.selectedSize=$$v},expression:\"selectedSize\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('number-per-page'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":[10, 25, 50, 100],\"allow-empty\":false,\"searchable\":false},model:{value:(_vm.nbPerPage),callback:function ($$v) {_vm.nbPerPage=$$v},expression:\"nbPerPage\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('outline-color'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.colors,\"label\":\"label\",\"track-by\":\"name\",\"allow-empty\":false,\"searchable\":false},model:{value:(_vm.selectedColor),callback:function ($$v) {_vm.selectedColor=$$v},expression:\"selectedColor\"}})],1)])])]),_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('filters'))+\" \")]),_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter is-one-quarter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('annotation-type'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.annotationTypes,\"allow-empty\":false,\"searchable\":false},model:{value:(_vm.selectedAnnotationType),callback:function ($$v) {_vm.selectedAnnotationType=$$v},expression:\"selectedAnnotationType\"}})],1)]),_c('div',{staticClass:\"column filter is-one-quarter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('images'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.images,\"label\":_vm.blindMode ? 'blindedName' : 'instanceFilename',\"track-by\":\"id\",\"multiple\":\"\",\"allPlaceholder\":_vm.$t('all-images')},model:{value:(_vm.selectedImages),callback:function ($$v) {_vm.selectedImages=$$v},expression:\"selectedImages\"}})],1)]),(_vm.ontology)?_c('div',{staticClass:\"column filter is-one-quarter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('terms'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('ontology-tree-multiselect',{attrs:{\"ontology\":_vm.ontology,\"additionalNodes\":_vm.additionalNodes},model:{value:(_vm.selectedTermsIds),callback:function ($$v) {_vm.selectedTermsIds=$$v},expression:\"selectedTermsIds\"}})],1)]):_vm._e(),(_vm.selectedAnnotationType === _vm.jobAnnotationOption)?_c('div',{staticClass:\"column filter is-one-quarter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('analyses'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.userJobs,\"label\":\"fullName\",\"track-by\":\"id\",\"multiple\":\"\",\"allPlaceholder\":_vm.$t('all-analyses')},model:{value:(_vm.selectedUserJobs),callback:function ($$v) {_vm.selectedUserJobs=$$v},expression:\"selectedUserJobs\"}})],1)]):(_vm.selectedAnnotationType === _vm.userAnnotationOption)?_c('div',{staticClass:\"column filter is-one-quarter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('members'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.filteredMembers,\"label\":\"fullName\",\"track-by\":\"id\",\"multiple\":\"\"},model:{value:(_vm.selectedMembers),callback:function ($$v) {_vm.selectedMembers=$$v},expression:\"selectedMembers\"}})],1)]):_c('div',{staticClass:\"column filter is-one-quarter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('reviewers'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.members,\"label\":\"fullName\",\"track-by\":\"id\",\"multiple\":\"\"},model:{value:(_vm.selectedReviewers),callback:function ($$v) {_vm.selectedReviewers=$$v},expression:\"selectedReviewers\"}})],1)])]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter is-one-quarter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('tags'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableTags,\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"allPlaceholder\":_vm.$t('all')},model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})],1)]),_c('div',{staticClass:\"column filter is-one-quarter\"}),_c('div',{staticClass:\"column filter is-one-quarter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('from'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-datepicker',{attrs:{\"styles\":['multiselect'],\"maxDate\":_vm.toDate || new Date()},model:{value:(_vm.fromDate),callback:function ($$v) {_vm.fromDate=$$v},expression:\"fromDate\"}})],1)]),_c('div',{staticClass:\"column filter is-one-quarter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('to'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-datepicker',{attrs:{\"styles\":['multiselect'],\"minDate\":_vm.fromDate},model:{value:(_vm.toDate),callback:function ($$v) {_vm.toDate=$$v},expression:\"toDate\"}})],1)])])])]),_vm._l((_vm.termsOptions),function(term){return _c('list-annotations-by-term',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedTermsIds.includes(term.id)),expression:\"selectedTermsIds.includes(term.id)\"}],key:term.id,attrs:{\"size\":_vm.selectedSize.size,\"color\":_vm.selectedColor.hexaCode,\"nbPerPage\":_vm.nbPerPage,\"allTerms\":_vm.terms,\"allUsers\":_vm.allUsers,\"allImages\":_vm.images,\"term\":term,\"multipleTerms\":term.id === _vm.multipleTermsOption.id,\"noTerm\":term.id === _vm.noTermOption.id,\"imagesIds\":_vm.selectedImagesIds,\"usersIds\":_vm.selectedUsersIds,\"tagsIds\":_vm.tagsIdsNotNull,\"noTag\":_vm.noTag,\"reviewed\":_vm.reviewed,\"reviewUsersIds\":_vm.reviewUsersIds,\"afterThan\":_vm.afterThan,\"beforeThan\":_vm.beforeThan,\"revision\":_vm.revision},on:{\"addTerm\":_vm.addTerm,\"update\":function($event){_vm.revision++}}})}),_c('div',{staticClass:\"box\"},[_c('h2',{staticClass:\"has-text-centered\"},[_vm._v(\" \"+_vm._s(_vm.$t('download-results'))+\" \")]),_c('div',{staticClass:\"buttons is-centered\"},[_c('a',{staticClass:\"button is-link\",attrs:{\"href\":_vm.downloadURL('pdf')}},[_vm._v(_vm._s(_vm.$t('download-PDF')))]),_c('a',{staticClass:\"button is-link\",attrs:{\"href\":_vm.downloadURL('csv')}},[_vm._v(_vm._s(_vm.$t('download-CSV')))]),_c('a',{staticClass:\"button is-link\",attrs:{\"href\":_vm.downloadURL('xls')}},[_vm._v(_vm._s(_vm.$t('download-excel')))])])])],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-datepicker',{class:_vm.styles,attrs:{\"value\":_vm.value,\"placeholder\":_vm.placeholder || this.$t('select-date'),\"min-date\":_vm.minDate,\"max-date\":_vm.maxDate,\"month-names\":_vm.moment.months(),\"day-names\":_vm.moment.weekdaysMin(),\"date-formatter\":function (date) { return _vm.moment(date).format('ll'); },\"size\":\"is-small\"},on:{\"input\":function($event){return _vm.$emit('input', $event)}}},[(_vm.resetButton)?_c('div',{staticClass:\"has-text-centered\"},[_c('button',{staticClass:\"button is-small is-link\",attrs:{\"disabled\":!_vm.value},on:{\"click\":function($event){return _vm.$emit('input', null)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-reset'))+\" \")])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<b-datepicker\n  :class=\"styles\"\n  :value=\"value\"\n  @input=\"$emit('input', $event)\"\n  :placeholder=\"placeholder || this.$t('select-date')\"\n  :min-date=\"minDate\" :max-date=\"maxDate\"\n  :month-names=\"moment.months()\" :day-names=\"moment.weekdaysMin()\"\n  :date-formatter=\"date => moment(date).format('ll')\" size=\"is-small\"\n>\n  <div v-if=\"resetButton\" class=\"has-text-centered\">\n    <button class=\"button is-small is-link\" :disabled=\"!value\" @click=\"$emit('input', null)\">\n      {{$t('button-reset')}}\n    </button>\n  </div>\n</b-datepicker>\n</template>\n\n<script>\nimport moment from 'moment';\n\nexport default {\n  name: 'cytomine-date-picker',\n  props: {\n    value: Date,\n    resetButton: {type: Boolean, default: true},\n    maxDate: Date,\n    minDate: Date,\n    placeholder: String,\n    styles: {type: Array, default: () => []} // accept \"multiselect\", \"bold-placeholder\"\n  },\n  computed: {\n    moment() {\n      return moment;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.datepicker.multiselect .input {\n  min-height: 40px;\n  background-color: rgba(255, 255, 255, 0.75);\n  border-radius: 5px;\n  border: 1px solid #e8e8e8;\n  font-size: 1rem;\n  font-family: inherit;\n\n  &::placeholder {\n    color: #adadad;\n    opacity: 1;\n  }\n}\n\n.datepicker.bold-placeholder .input::placeholder {\n  font-weight: 600;\n  color: black !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDatepicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDatepicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineDatepicker.vue?vue&type=template&id=4e7f8306&\"\nimport script from \"./CytomineDatepicker.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineDatepicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineDatepicker.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(function () { return _vm.activeSelector = false; }),expression:\"() => activeSelector = false\"}],staticClass:\"multiselect\",class:{'multiselect--active': _vm.activeSelector}},[_c('div',{staticClass:\"multiselect__select\",on:{\"click\":function($event){_vm.activeSelector = !_vm.activeSelector}}}),_c('div',{staticClass:\"multiselect__tags\",on:{\"click\":function($event){_vm.activeSelector=true}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.activeSelector),expression:\"!activeSelector\"}],staticClass:\"multiselect__tags-wrap\"},[(_vm.allSelected)?_c('strong',[_vm._v(\" \"+_vm._s(_vm.$t('all'))+\" \")]):[_vm._l((_vm.displayedSelectedTerms),function(term,index){return _c('span',{key:term.id},[_c('cytomine-term',{attrs:{\"term\":term}}),(index < _vm.displayedSelectedTerms.length - 1)?_c('span',{staticClass:\"comma\"},[_vm._v(\",\")]):_vm._e()],1)}),(_vm.countNotDisplayed > 0)?_c('strong',[_vm._v(\" \"+_vm._s(_vm.$tc(\"and-count-others\", _vm.countNotDisplayed, {count: _vm.countNotDisplayed}))+\" \")]):_vm._e()]],2),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeSelector),expression:\"activeSelector\"},{name:\"model\",rawName:\"v-model\",value:(_vm.searchString),expression:\"searchString\"}],ref:\"input\",staticClass:\"multiselect__input\",attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('select-options')},domProps:{\"value\":(_vm.searchString)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.searchString=$event.target.value}}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeSelector),expression:\"activeSelector\"}],staticClass:\"multiselect__content-wrapper\"},[(_vm.multiple)?_c('ul',[_c('li',{staticClass:\"multiselect__element multiselect__select-all\",on:{\"click\":function($event){return _vm.selectAll()}}},[_c('span',{class:['multiselect__option', _vm.allSelected ? 'multiselect__option--selected' : '']},[_vm._v(\" \"+_vm._s(_vm.$t('select-all'))+\" \")])])]):_vm._e(),_c('ontology-tree',{attrs:{\"ontology\":_vm.ontology,\"additionalNodes\":_vm.additionalNodes,\"startWithAdditionalNodes\":_vm.startWithAdditionalNodes,\"selectedNodes\":_vm.selectedNodes,\"searchString\":_vm.searchString,\"multipleSelection\":_vm.multiple},on:{\"select\":function($event){return _vm.handleSelection()},\"setSelectedNodes\":function (nodes) { return _vm.$emit('setSelectedNodes', nodes); }},scopedSlots:_vm._u([{key:\"no-result\",fn:function(){return [_c('ul',{staticClass:\"multiselect__content\"},[_c('li',{on:{\"click\":function($event){return _vm.selectAll()}}},[_c('span',{staticClass:\"multiselect__option\"},[_vm._v(\" \"+_vm._s(_vm.$t('no-result'))+\" \")])])])]},proxy:true}])})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n// return all terms from an ontology object\nexport function getAllTerms(ontology) {\n  return processNodes(ontology.children.array);\n}\n\nfunction processNodes(nodes) {\n  let result = [];\n  nodes.forEach(node => {\n    result.push(node);\n    if(node.children) {\n      result.push(...processNodes(node.children));\n    }\n  });\n  return result;\n}\n","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"multiselect\"\n  :class=\"{'multiselect--active': activeSelector}\"\n  v-click-outside=\"() => activeSelector = false\"\n>\n\n  <div class=\"multiselect__select\" @click=\"activeSelector = !activeSelector\"></div>\n\n  <div class=\"multiselect__tags\" @click=\"activeSelector=true\">\n    <div v-show=\"!activeSelector\" class=\"multiselect__tags-wrap\">\n      <strong v-if=\"allSelected\"> {{$t('all')}} </strong>\n      <template v-else>\n        <span v-for=\"(term, index) in displayedSelectedTerms\" :key=\"term.id\">\n          <cytomine-term :term=\"term\" />\n          <span class=\"comma\" v-if=\"index < displayedSelectedTerms.length - 1\">,</span>\n        </span>\n        <strong v-if=\"countNotDisplayed > 0\">\n          {{ $tc(\"and-count-others\", countNotDisplayed, {count: countNotDisplayed}) }}\n        </strong>\n      </template>\n    </div>\n    <input\n      v-show=\"activeSelector\"\n      type=\"text\"\n      class=\"multiselect__input\"\n      :placeholder=\"$t('select-options')\"\n      ref=\"input\"\n      v-model=\"searchString\"\n    >\n  </div>\n\n  <div class=\"multiselect__content-wrapper\" v-show=\"activeSelector\">\n    <ul v-if=\"multiple\">\n      <li class=\"multiselect__element multiselect__select-all\" @click=\"selectAll()\">\n        <span :class=\"['multiselect__option', allSelected ? 'multiselect__option--selected' : '']\">\n          {{$t('select-all')}}\n        </span>\n      </li>\n    </ul>\n    <ontology-tree\n      :ontology=\"ontology\"\n      :additionalNodes=\"additionalNodes\"\n      :startWithAdditionalNodes=\"startWithAdditionalNodes\"\n      :selectedNodes=\"selectedNodes\"\n      :searchString=\"searchString\"\n      :multipleSelection=\"multiple\"\n      @select=\"handleSelection()\"\n      @setSelectedNodes=\"nodes => $emit('setSelectedNodes', nodes)\"\n    >\n      <template #no-result>\n        <ul class=\"multiselect__content\">\n          <li @click=\"selectAll()\">\n            <span class=\"multiselect__option\">\n              {{$t('no-result')}}\n            </span>\n          </li>\n        </ul>\n      </template>\n    </ontology-tree>\n  </div>\n</div>\n</template>\n\n<script>\nimport OntologyTree from './OntologyTree';\nimport CytomineTerm from './CytomineTerm';\nimport {getAllTerms} from '@/utils/ontology-utils';\n\nexport default {\n  name: 'ontology-tree-multiselect',\n  components: {\n    OntologyTree,\n    CytomineTerm\n  },\n  model: {\n    prop: 'selectedNodes',\n    event: 'setSelectedNodes'\n  },\n  props: {\n    ontology: {type: Object},\n    additionalNodes: {type: Array, default: () => []},\n    startWithAdditionalNodes: {type: Boolean, default: false},\n    selectedNodes: {type: Array, default: () => []},\n    multiple: {type: Boolean, default: true}\n  },\n  data() {\n    return {\n      activeSelector: false,\n      searchString: '',\n      maxNbDisplayed: 3\n    };\n  },\n  computed: {\n    allTerms() {\n      if(!this.ontology) {\n        return [];\n      }\n      let terms = this.additionalNodes.map(node => node);\n      terms.push(...getAllTerms(this.ontology));\n      return terms;\n    },\n    allSelected() {\n      return this.allTerms.length === this.selectedNodes.length;\n    },\n    displayedSelectedTerms() {\n      let ids = this.selectedNodes.slice(0, this.maxNbDisplayed);\n      return ids.map(id => this.allTerms.find(term => term.id === id));\n    },\n    countNotDisplayed() {\n      return this.selectedNodes.length - this.maxNbDisplayed;\n    }\n  },\n  watch: {\n    async activeSelector(val) {\n      if(val) {\n        await this.$nextTick();\n        this.$refs.input.focus();\n      }\n    }\n  },\n  methods: {\n    selectAll() {\n      this.$emit('setSelectedNodes', this.allSelected ? [] : this.allTerms.map(term => term.id));\n    },\n\n    handleSelection() {\n      if(!this.multiple) {\n        this.activeSelector = false;\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyTreeMultiselect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyTreeMultiselect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OntologyTreeMultiselect.vue?vue&type=template&id=3fed38fa&\"\nimport script from \"./OntologyTreeMultiselect.vue?vue&type=script&lang=js&\"\nexport * from \"./OntologyTreeMultiselect.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),_c('h2',[_vm._v(\" \"+_vm._s(_vm.title)+\" (\"+_vm._s(_vm.nbAnnotations)+\") \")]),(_vm.error)?[_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('failed-fetch-annots'))+\" \")])]:(!_vm.annotations.length)?[_c('em',{staticClass:\"no-result\"},[_vm._v(_vm._s(_vm.$t('no-annotation')))])]:[_vm._l((_vm.annotations),function(annot){return _c('annotation-preview',{key:_vm.title + annot.id,attrs:{\"annot\":annot,\"size\":_vm.size,\"color\":_vm.color,\"terms\":_vm.allTerms,\"users\":_vm.allUsers,\"images\":_vm.allImages},on:{\"addTerm\":function($event){return _vm.$emit('addTerm', $event)},\"update\":function($event){return _vm.$emit('update', annot.id)}}})}),_c('b-pagination',{attrs:{\"total\":_vm.nbAnnotations,\"current\":_vm.currentPage,\"size\":\"is-small\",\"per-page\":_vm.nbPerPage},on:{\"update:current\":function($event){_vm.currentPage=$event}}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-popover',{attrs:{\"placement\":\"right\",\"trigger\":\"manual\",\"open\":_vm.opened,\"auto-hide\":false},scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [(_vm.opened)?_c('annotation-details',{directives:[{name:\"click-outside\",rawName:\"v-click-outside.capture\",value:(function (event) { return _vm.close(event); }),expression:\"(event) => close(event)\",modifiers:{\"capture\":true}}],attrs:{\"annotation\":_vm.annot,\"terms\":_vm.terms,\"users\":_vm.users,\"images\":_vm.images},on:{\"addTerm\":function($event){return _vm.$emit('addTerm', $event)},\"updateTerms\":function($event){return _vm.$emit('update')},\"deletion\":_vm.handleDeletion}}):_vm._e()]},proxy:true}])},[_c('div',{staticClass:\"annot-preview\",style:(_vm.styleAnnotDetails),on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.viewAnnot()}}},[_c('button',{ref:\"previewButton\",staticClass:\"button is-small\",on:{\"click\":function($event){_vm.opened = !_vm.opened}}},[_c('i',{class:['fas', _vm.opened ? 'fa-minus' : 'fa-plus']})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"annotation-details\"},[_c('table',{staticClass:\"table\"},[_c('tbody',[(_vm.showImageInfo)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('image')))])]),_c('td',[_c('router-link',{attrs:{\"to\":(\"/project/\" + (_vm.annotation.project) + \"/image/\" + (_vm.annotation.image))}},[_c('image-name',{attrs:{\"image\":_vm.image}})],1)],1)]):_vm._e(),(_vm.isPropDisplayed('geometry-info'))?[(_vm.annotation.area > 0)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('area')))])]),_c('td',[_vm._v(_vm._s(((_vm.annotation.area.toFixed(3)) + \" \" + (_vm.annotation.areaUnit))))])]):_vm._e(),(_vm.annotation.perimeter > 0)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t(_vm.annotation.area > 0 ? 'perimeter' : 'length')))])]),_c('td',[_vm._v(_vm._s(((_vm.annotation.perimeter.toFixed(3)) + \" \" + (_vm.annotation.perimeterUnit))))])]):_vm._e()]:_vm._e(),(_vm.isPropDisplayed('description'))?_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('h5',[_vm._v(_vm._s(_vm.$t('description')))]),_c('cytomine-description',{attrs:{\"object\":_vm.annotation,\"canEdit\":_vm.canEdit,\"maxPreviewLength\":300}})],1)]):_vm._e(),(_vm.isPropDisplayed('terms') && _vm.ontology)?_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('h5',[_vm._v(_vm._s(_vm.$t('terms')))]),_vm._l((_vm.associatedTerms),function(ref){\nvar term = ref.term;\nvar user = ref.user;\nreturn _c('b-tag',{key:term.id,attrs:{\"title\":_vm.$t('associated-by', {username: user.fullName})}},[_c('cytomine-term',{attrs:{\"term\":term}}),(_vm.canEditTerms)?_c('button',{staticClass:\"delete is-small\",attrs:{\"title\":_vm.$t('button-delete')},on:{\"click\":function($event){return _vm.removeTerm(term.id, user.id)}}}):_vm._e()],1)}),(_vm.canEditTerms)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(function () { return _vm.showTermSelector = false; }),expression:\"() => showTermSelector = false\"}],staticClass:\"add-term-wrapper\"},[_c('b-field',[_c('b-input',{attrs:{\"size\":\"is-small\",\"expanded\":\"\",\"placeholder\":_vm.$t('add-term')},on:{\"focus\":function($event){_vm.showTermSelector = true}},model:{value:(_vm.addTermString),callback:function ($$v) {_vm.addTermString=$$v},expression:\"addTermString\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTermSelector),expression:\"showTermSelector\"}],staticClass:\"ontology-tree-container\"},[_c('ontology-tree',{staticClass:\"ontology-tree\",attrs:{\"ontology\":_vm.ontology,\"searchString\":_vm.addTermString,\"selectedNodes\":_vm.associatedTermsIds,\"allowNew\":true},on:{\"newTerm\":_vm.newTerm,\"select\":_vm.addTerm,\"unselect\":_vm.removeTerm}})],1)],1):(!_vm.associatedTerms.length)?_c('em',[_vm._v(_vm._s(_vm.$t('no-term')))]):_vm._e()],2)]):_vm._e(),(_vm.isPropDisplayed('tags'))?_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('h5',[_vm._v(_vm._s(_vm.$t('tags')))]),_c('cytomine-tags',{attrs:{\"object\":_vm.annotation,\"canEdit\":_vm.canEdit}})],1)]):_vm._e(),(_vm.isPropDisplayed('properties'))?_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('h5',[_vm._v(_vm._s(_vm.$t('properties')))]),_c('cytomine-properties',{attrs:{\"object\":_vm.annotation,\"canEdit\":_vm.canEdit},on:{\"update\":function($event){return _vm.$emit('updateProperties')}}})],1)]):_vm._e(),(_vm.isPropDisplayed('attached-files'))?_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('h5',[_vm._v(_vm._s(_vm.$t('attached-files')))]),_c('attached-files',{attrs:{\"object\":_vm.annotation,\"canEdit\":_vm.canEdit}})],1)]):_vm._e(),(_vm.isPropDisplayed('creation-info'))?[_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('created-by')))])]),_c('td',[_vm._v(\" \"+_vm._s(_vm.creator.fullName)+\" \")])]),(!_vm.isReview)?_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('created-on')))])]),_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.annotation.created),'ll'))+\" \")])]):[_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('reviewed-by')))])]),_c('td',[_vm._v(\" \"+_vm._s(_vm.reviewer.fullName)+\" \")])]),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('reviewed-on')))])]),_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.annotation.created),'ll'))+\" \")])])]]:_vm._e()],2)]),_c('div',{staticClass:\"actions\"},[(_vm.showImageInfo)?_c('router-link',{staticClass:\"button is-link is-small is-fullwidth\",attrs:{\"to\":_vm.annotationURL}},[_vm._v(\" \"+_vm._s(_vm.$t('button-view-in-image'))+\" \")]):_c('a',{staticClass:\"button is-link is-small is-fullwidth\",on:{\"click\":function($event){return _vm.$emit('centerView')}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-center-view-on-annot'))+\" \")]),_c('div',{staticClass:\"level\"},[_c('a',{staticClass:\"level-item button is-small\",attrs:{\"href\":_vm.annotation.url + '?draw=true&complete=true&increaseArea=1.25',\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.$t('button-view-crop'))+\" \")]),_c('button',{staticClass:\"level-item button is-small\",on:{\"click\":function($event){return _vm.copyURL()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-copy-url'))+\" \")]),(_vm.isPropDisplayed('comments') && _vm.comments)?_c('button',{staticClass:\"level-item button is-small\",on:{\"click\":function($event){return _vm.openCommentsModal()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-comments'))+\" (\"+_vm._s(_vm.comments.length)+\") \")]):_vm._e(),(_vm.canEdit)?_c('button',{staticClass:\"level-item button is-small is-danger\",on:{\"click\":function($event){return _vm.confirmDeletion()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")]):_vm._e()])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('cytomine-modal-card',{attrs:{\"title\":_vm.$t('annotation-comments')},on:{\"close\":function($event){return _vm.$parent.close()}}},[(!_vm.comments || !_vm.comments.length)?_c('div',[_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('no-annotation-comments'))+\" \")]),_c('hr')]):[_c('div',{staticClass:\"comments-wrapper\"},_vm._l((_vm.comments),function(comment){return _c('div',{key:comment.id},[_c('p',{staticClass:\"comment-sender is-size-7\"},[_c('strong',[_vm._v(_vm._s(comment.senderName))]),_c('span',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm._f(\"moment\")(Number(comment.created),'ll LT')))])]),_c('p',{staticClass:\"comment-content\"},[_vm._v(_vm._s(comment.comment))]),_c('hr')])}),0)],_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.addingComment),expression:\"!addingComment\"}],staticClass:\"has-text-centered\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){_vm.addingComment = true}}},[_vm._v(_vm._s(_vm.$t('button-add-comment')))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.addingComment),expression:\"addingComment\"}]},[_c('h2',[_vm._v(_vm._s(_vm.$t('add-new-comment')))]),_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('comment-will-be-sent-by-email'))+\" \")]),_c('b-field',[_c('b-radio',{attrs:{\"native-value\":true,\"disabled\":_vm.members.length == 0},model:{value:(_vm.sendToAllMembers),callback:function ($$v) {_vm.sendToAllMembers=$$v},expression:\"sendToAllMembers\"}},[_vm._v(\" \"+_vm._s(_vm.$t('send-to-all-project-members'))+\" \")])],1),_c('b-field',[_c('b-radio',{attrs:{\"native-value\":false},model:{value:(_vm.sendToAllMembers),callback:function ($$v) {_vm.sendToAllMembers=$$v},expression:\"sendToAllMembers\"}},[_vm._v(\" \"+_vm._s(_vm.$t('send-to-some-members'))+\" \")])],1),(!_vm.sendToAllMembers)?_c('b-field',{attrs:{\"type\":{'is-danger': _vm.errors.has('members')},\"message\":_vm.errors.first('members')}},[_c('domain-tag-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"domains\":_vm.members,\"placeholder\":\"search-user\",\"name\":\"members\",\"searchedProperty\":\"fullName\",\"displayedProperty\":\"fullName\"},model:{value:(_vm.selectedMembers),callback:function ($$v) {_vm.selectedMembers=$$v},expression:\"selectedMembers\"}})],1):_vm._e(),_c('b-field',{attrs:{\"type\":{'is-danger': _vm.errors.has('comment')},\"message\":_vm.errors.first('comment')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"type\":\"textarea\",\"placeholder\":_vm.$t('enter-comment'),\"rows\":\"2\",\"name\":\"comment\"},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1),_c('p',{staticClass:\"buttons is-right are-small\"},[_c('button',{staticClass:\"button\",attrs:{\"disabled\":_vm.loading},on:{\"click\":function($event){_vm.addingComment = false}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",class:{'is-loading': _vm.loading},attrs:{\"disabled\":_vm.loading || _vm.members.length == 0 || _vm.errors.any()},on:{\"click\":function($event){return _vm.share()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-share'))+\" \")])])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<cytomine-modal-card :title=\"$t('annotation-comments')\" @close=\"$parent.close()\">\n  <div v-if=\"!comments || !comments.length\">\n    <em class=\"has-text-grey\">\n      {{$t('no-annotation-comments')}}\n    </em>\n    <hr>\n  </div>\n  <template v-else>\n    <div class=\"comments-wrapper\">\n      <div v-for=\"comment in comments\" :key=\"comment.id\">\n        <p class=\"comment-sender is-size-7\">\n          <strong>{{ comment.senderName }}</strong>\n          <span class=\"has-text-grey\">{{Number(comment.created) | moment('ll LT')}}</span>\n        </p>\n        <p class=\"comment-content\">{{comment.comment}}</p>\n        <hr>\n      </div>\n    </div>\n  </template>\n\n  <div v-show=\"!addingComment\" class=\"has-text-centered\">\n    <button class=\"button is-link\" @click=\"addingComment = true\">{{$t('button-add-comment')}}</button>\n  </div>\n\n  <div v-show=\"addingComment\">\n    <h2>{{$t('add-new-comment')}}</h2>\n    <b-message type=\"is-info\" has-icon size=\"is-small\">\n      {{$t('comment-will-be-sent-by-email')}}\n    </b-message>\n    <b-field>\n      <b-radio v-model=\"sendToAllMembers\" :native-value=\"true\" :disabled=\"members.length == 0\">\n        {{$t('send-to-all-project-members')}}\n      </b-radio>\n    </b-field>\n    <b-field>\n      <b-radio v-model=\"sendToAllMembers\" :native-value=\"false\">\n        {{$t('send-to-some-members')}}\n      </b-radio>\n    </b-field>\n    <b-field v-if=\"!sendToAllMembers\" :type=\"{'is-danger': errors.has('members')}\" :message=\"errors.first('members')\">\n      <domain-tag-input v-model=\"selectedMembers\" :domains=\"members\" placeholder=\"search-user\" name=\"members\" v-validate=\"'required'\" searchedProperty=\"fullName\" displayedProperty=\"fullName\" />\n    </b-field>\n    <b-field :type=\"{'is-danger': errors.has('comment')}\" :message=\"errors.first('comment')\">\n      <b-input v-model=\"text\" type=\"textarea\" :placeholder=\"$t('enter-comment')\" rows=\"2\" name=\"comment\" v-validate=\"'required'\" />\n    </b-field>\n    <p class=\"buttons is-right are-small\">\n      <button class=\"button\" @click=\"addingComment = false\" :disabled=\"loading\">\n        {{$t('button-cancel')}}\n      </button>\n      <button class=\"button is-link\" :class=\"{'is-loading': loading}\"\n        :disabled=\"loading || members.length == 0 || errors.any()\" @click=\"share()\">\n        {{$t('button-share')}}\n      </button>\n    </p>\n  </div>\n</cytomine-modal-card>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport {AnnotationComment} from 'cytomine-client';\nimport DomainTagInput from '@/components/utils/DomainTagInput';\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\nimport {fullName} from '@/utils/user-utils.js';\n\nexport default {\n  name: 'annotation-comments-modal',\n  components: {\n    DomainTagInput,\n    CytomineModalCard\n  },\n  $_veeValidate: {validator: 'new'},\n  props: {\n    annotation: Object,\n    comments: Array\n  },\n  data() {\n    return {\n      addingComment: false,\n      sendToAllMembers: true,\n      selectedMembers: [],\n      text: '',\n      loading: false\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    allMembers: get('currentProject/members'),\n    members() { // all project members except current user\n      return this.allMembers.filter(member => member.id !== this.currentUser.id);\n    },\n    annotationURL() {\n      let uri = `project/${this.annotation.project}/image/${this.annotation.image}/annotation/${this.annotation.id}`;\n      return `${window.location.origin}/#/${uri}`;\n    }\n  },\n  watch: {\n    addingComment() {\n      this.text = '';\n      this.selectedMembers = [];\n      this.$nextTick(() => {\n        this.sendToAllMembers = true;\n        this.$validator.reset();\n      });\n    }\n  },\n  methods: {\n    async share() {\n      let result = await this.$validator.validateAll();\n      if(!result) {\n        return;\n      }\n\n      this.loading = true;\n      try {\n        let sender = fullName(this.currentUser);\n        let newComment = await new AnnotationComment({\n          annotation: this.annotation,\n          subject: `Cytomine: ${sender} commented an annotation`, // not translated because the content of the mail will be in english\n          from: sender,\n          receivers: (this.sendToAllMembers ? this.members : this.selectedMembers).map(m => m.id),\n          comment: this.text,\n          annotationURL: this.annotationURL,\n          shareAnnotationURL: this.annotationURL + '?action=comments'\n        }).save();\n        this.$emit('addComment', newComment);\n        this.$notify({type: 'success', text: this.$t('notif-success-new-comment')});\n        this.addingComment = false;\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-new-comment')});\n      }\n      this.loading = false;\n    },\n  }\n};\n</script>\n\n<style scoped>\n>>> .modal-card {\n  max-height: 80vh;\n}\n\n>>> .modal-card-body {\n  display: flex;\n  flex-direction: column;\n}\n\n.comments-wrapper {\n  overflow: auto;\n  margin-bottom: 1em;\n  min-height: 5em;\n}\n\n.comment-sender strong {\n  margin-right: 0.5em;\n}\n\n.comment-content {\n  margin-top: 0.25em;\n  margin-bottom: 0.5em;\n}\n\n>>> textarea {\n  margin: 0.75em 0 0;\n}\n\nhr {\n  margin: 0.75em 0 !important;\n}\n\n>>> .dropdown-content {\n  max-height: 7em !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCommentsModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCommentsModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationCommentsModal.vue?vue&type=template&id=00a946fa&scoped=true&\"\nimport script from \"./AnnotationCommentsModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationCommentsModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnnotationCommentsModal.vue?vue&type=style&index=0&id=00a946fa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00a946fa\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"annotation-details\">\n  <table class=\"table\">\n    <tbody>\n      <tr v-if=\"showImageInfo\">\n        <td><strong>{{$t('image')}}</strong></td>\n        <td>\n          <router-link :to=\"`/project/${annotation.project}/image/${annotation.image}`\">\n            <image-name :image=\"image\" />\n          </router-link>\n        </td>\n      </tr>\n\n      <template v-if=\"isPropDisplayed('geometry-info')\">\n        <tr v-if=\"annotation.area > 0\">\n          <td><strong>{{$t('area')}}</strong></td>\n          <td>{{ `${annotation.area.toFixed(3)} ${annotation.areaUnit}` }}</td>\n        </tr>\n\n        <tr v-if=\"annotation.perimeter > 0\">\n          <td><strong>{{$t(annotation.area > 0 ? 'perimeter' : 'length')}}</strong></td>\n          <td>{{ `${annotation.perimeter.toFixed(3)} ${annotation.perimeterUnit}` }}</td>\n        </tr>\n      </template>\n\n      <tr v-if=\"isPropDisplayed('description')\">\n        <td colspan=\"2\">\n          <h5>{{$t('description')}}</h5>\n          <cytomine-description :object=\"annotation\" :canEdit=\"canEdit\" :maxPreviewLength=\"300\" />\n        </td>\n      </tr>\n\n      <!-- TERMS -->\n      <tr v-if=\"isPropDisplayed('terms') && ontology\">\n        <td colspan=\"2\">\n          <h5>{{$t('terms')}}</h5>\n          <b-tag v-for=\"{term, user} in associatedTerms\" :key=\"term.id\"\n          :title=\"$t('associated-by', {username: user.fullName})\">\n            <cytomine-term :term=\"term\" />\n            <button v-if=\"canEditTerms\" class=\"delete is-small\" :title=\"$t('button-delete')\"\n              @click=\"removeTerm(term.id, user.id)\">\n            </button>\n          </b-tag>\n          <div class=\"add-term-wrapper\" v-if=\"canEditTerms\" v-click-outside=\"() => showTermSelector = false\">\n            <b-field>\n              <b-input\n                size=\"is-small\"\n                expanded\n                :placeholder=\"$t('add-term')\"\n                v-model=\"addTermString\"\n                @focus=\"showTermSelector = true\"\n              />\n            </b-field>\n\n            <div class=\"ontology-tree-container\" v-show=\"showTermSelector\">\n              <ontology-tree\n                class=\"ontology-tree\"\n                :ontology=\"ontology\"\n                :searchString=\"addTermString\"\n                :selectedNodes=\"associatedTermsIds\"\n                :allowNew=\"true\"\n                @newTerm=\"newTerm\"\n                @select=\"addTerm\"\n                @unselect=\"removeTerm\"\n              />\n            </div>\n          </div>\n          <em v-else-if=\"!associatedTerms.length\">{{$t('no-term')}}</em>\n        </td>\n      </tr>\n\n      <tr v-if=\"isPropDisplayed('tags')\">\n        <td colspan=\"2\">\n          <h5>{{$t('tags')}}</h5>\n          <cytomine-tags :object=\"annotation\" :canEdit=\"canEdit\" />\n        </td>\n      </tr>\n\n      <!-- PROPERTIES -->\n      <tr v-if=\"isPropDisplayed('properties')\">\n        <td colspan=\"2\">\n          <h5>{{$t('properties')}}</h5>\n          <cytomine-properties :object=\"annotation\" :canEdit=\"canEdit\" @update=\"$emit('updateProperties')\" />\n        </td>\n      </tr>\n\n      <tr v-if=\"isPropDisplayed('attached-files')\">\n        <td colspan=\"2\">\n          <h5>{{$t('attached-files')}}</h5>\n          <attached-files :object=\"annotation\" :canEdit=\"canEdit\" />\n        </td>\n      </tr>\n\n      <template v-if=\"isPropDisplayed('creation-info')\">\n        <tr>\n          <td><strong>{{$t('created-by')}}</strong></td>\n          <td>\n            {{ creator.fullName }}\n          </td>\n        </tr>\n        <tr v-if=\"!isReview\">\n          <td><strong>{{$t('created-on')}}</strong></td>\n          <td> {{ Number(annotation.created) | moment('ll') }} </td>\n        </tr>\n        <template v-else>\n          <tr>\n            <td><strong>{{$t('reviewed-by')}}</strong></td>\n            <td>\n              {{ reviewer.fullName }}\n            </td>\n          </tr>\n          <tr>\n            <td><strong>{{$t('reviewed-on')}}</strong></td>\n            <td> {{ Number(annotation.created) | moment('ll') }} </td>\n          </tr>\n        </template>\n      </template>\n    </tbody>\n  </table>\n\n  <div class=\"actions\">\n    <router-link\n      v-if=\"showImageInfo\"\n      :to=\"annotationURL\"\n      class=\"button is-link is-small is-fullwidth\"\n    >\n      {{ $t('button-view-in-image') }}\n    </router-link>\n\n    <a v-else class=\"button is-link is-small is-fullwidth\" @click=\"$emit('centerView')\">\n      {{ $t('button-center-view-on-annot') }}\n    </a>\n\n    <div class=\"level\">\n      <a :href=\"annotation.url + '?draw=true&complete=true&increaseArea=1.25'\" target=\"_blank\" class=\"level-item button is-small\">\n        {{ $t('button-view-crop') }}\n      </a>\n\n      <button class=\"level-item button is-small\" @click=\"copyURL()\">\n        {{ $t('button-copy-url') }}\n      </button>\n\n      <button v-if=\"isPropDisplayed('comments') && comments\" class=\"level-item button is-small\"\n        @click=\"openCommentsModal()\"\n      >\n        {{ $t('button-comments') }} ({{comments.length}})\n      </button>\n\n      <button v-if=\"canEdit\" class=\"level-item button is-small is-danger\" @click=\"confirmDeletion()\">\n        {{ $t('button-delete') }}\n      </button>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport {AnnotationTerm, AnnotationType, AnnotationCommentCollection} from 'cytomine-client';\nimport copyToClipboard from 'copy-to-clipboard';\nimport ImageName from '@/components/image/ImageName';\nimport CytomineDescription from '@/components/description/CytomineDescription';\nimport CytomineProperties from '@/components/property/CytomineProperties';\nimport CytomineTags from '@/components/tag/CytomineTags';\nimport CytomineTerm from '@/components/ontology/CytomineTerm';\nimport AttachedFiles from '@/components/attached-file/AttachedFiles';\nimport OntologyTree from '@/components/ontology/OntologyTree';\nimport AnnotationCommentsModal from './AnnotationCommentsModal';\n\nexport default {\n  name: 'annotations-details',\n  components: {\n    ImageName,\n    CytomineDescription,\n    CytomineTerm,\n    OntologyTree,\n    CytomineTags,\n    CytomineProperties,\n    AttachedFiles,\n    AnnotationCommentsModal\n  },\n  props: {\n    annotation: {type: Object},\n    terms: {type: Array},\n    users: {type: Array},\n    images: {type: Array},\n    showImageInfo: {type: Boolean, default: true},\n    showComments: {type: Boolean, default: false}\n  },\n  data() {\n    return {\n      addTermString: '',\n      showTermSelector: false,\n      comments: null,\n      revTerms: 0\n    };\n  },\n  computed: {\n    configUI: get('currentProject/configUI'),\n    ontology: get('currentProject/ontology'),\n    creator() {\n      return this.users.find(user => user.id === this.annotation.user) || {};\n    },\n    isReview() {\n      return this.annotation.type === AnnotationType.REVIEWED;\n    },\n    reviewer() {\n      if(this.isReview) {\n        return this.users.find(user => user.id === this.annotation.reviewUser) || {};\n      }\n    },\n    canEdit() {\n      return this.$store.getters['currentProject/canEditAnnot'](this.annotation);\n    },\n    canEditTerms() {\n      // HACK: because core prevents from modifying term of algo annot (https://github.com/cytomine/Cytomine-core/issues/1138 & 1139)\n      // + term modification forbidden for reviewed annotation\n      return this.canEdit && this.annotation.type === AnnotationType.USER;\n    },\n    image() {\n      return this.images.find(image => image.id === this.annotation.image) || {};\n    },\n    annotationURL() {\n      return `/project/${this.annotation.project}/image/${this.annotation.image}/annotation/${this.annotation.id}`;\n    },\n    associatedTerms() {\n      if(this.annotation.userByTerm) {\n        return this.annotation.userByTerm.map(ubt => {\n          let term = this.terms.find(term => ubt.term === term.id);\n          let user = this.users.find(user => user.id === ubt.user[0]) || {}; // QUESTION: can we have several users?\n          return {term, user};\n        });\n      }\n      else {\n        return [];\n      }\n    },\n    associatedTermsIds() {\n      this.revTerms;\n      return this.associatedTerms.map(({term}) => term.id);\n    }\n  },\n  methods: {\n    isPropDisplayed(prop) {\n      return this.configUI[`project-explore-annotation-${prop}`];\n    },\n\n    copyURL() {\n      copyToClipboard(window.location.origin + '/#' + this.annotationURL);\n      this.$notify({type: 'success', text: this.$t('notif-success-annot-URL-copied')});\n    },\n\n    async newTerm(term) { // a new term was added to the ontology\n      this.$emit('addTerm', term);\n      this.$store.dispatch('currentProject/fetchOntology');\n      this.addTerm(term.id);\n    },\n\n    async addTerm(idTerm) {\n      if(idTerm) {\n        try {\n          // TODO: fix issue with AlgoAnnotation https://github.com/cytomine/Cytomine-core/issues/1139\n          await new AnnotationTerm({annotation: this.annotation.id, term: idTerm}).save();\n          this.$emit('updateTerms');\n          this.showTermSelector = false;\n        }\n        catch(error) {\n          this.$notify({type: 'error', text: this.$t('notif-error-add-term')});\n          this.revTerms++;\n        }\n        finally {\n          this.addTermString = '';\n        }\n      }\n    },\n    async removeTerm(idTerm, idUser) {\n      idUser = idUser || this.findUserByTerm(idTerm); // if term removed from ontology tree, idUser not set => find it manually\n      if(!idUser) {\n        return;\n      }\n\n      try {\n        // TODO fix issue with AlgoAnnotationTerm: https://github.com/cytomine/Cytomine-core/issues/1138\n        await AnnotationTerm.delete(this.annotation.id, idTerm, Number(idUser));\n        this.$emit('updateTerms');\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-remove-term')});\n        this.revTerms++;\n      }\n    },\n    findUserByTerm(idTerm) {\n      if(this.annotation.userByTerm) {\n        let match = this.annotation.userByTerm.find(ubt => ubt.term === idTerm);\n        if(match) {\n          return match.user[0];\n        }\n      }\n    },\n\n    openCommentsModal() {\n      this.$buefy.modal.open({\n        parent: this,\n        component: AnnotationCommentsModal,\n        props: {annotation: this.annotation, comments: this.comments},\n        hasModalCard: true,\n        events: {'addComment': this.addComment}\n      });\n    },\n\n    addComment(comment) {\n      this.comments.unshift(comment);\n    },\n\n    confirmDeletion() {\n      this.$buefy.dialog.confirm({\n        title: this.$t('confirm-deletion'),\n        message: this.$t('confirm-deletion-annotation'),\n        type: 'is-danger',\n        confirmText: this.$t('button-confirm'),\n        cancelText: this.$t('button-cancel'),\n        onConfirm: () => this.deleteAnnot()\n      });\n    },\n\n    async deleteAnnot() {\n      try {\n        await this.annotation.delete();\n        this.$emit('deletion');\n      }\n      catch(err) {\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-deletion')});\n      }\n    }\n  },\n  async created() {\n    if(this.isPropDisplayed('comments') && [AnnotationType.ALGO, AnnotationType.USER].includes(this.annotation.type)) {\n      try {\n        this.comments = (await AnnotationCommentCollection.fetchAll({annotation: this.annotation})).array;\n        if(this.showComments) {\n          this.openCommentsModal();\n        }\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-fetch-annotation-comments')});\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.annotation-details {\n  position: relative;\n  font-size: 0.85rem;\n}\n\n.table {\n  width: 100%;\n  margin-bottom: 0.7em !important;\n  background: transparent;\n}\n\n.table th, .table td {\n  vertical-align: middle;\n}\n\nh5 {\n  font-weight: 600;\n  margin-bottom: 0.6em;\n}\n\n.actions {\n  margin-bottom: 0.5em;\n}\n\n.actions .button {\n  margin: 3px;\n  box-sizing: border-box;\n}\n\na.is-fullwidth {\n  width: auto;\n}\n\n.add-term-wrapper {\n  position: relative;\n}\n\n.ontology-tree-container {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  z-index: 500;\n  padding-top: 5px;\n  background: white;\n  width: 100%;\n  max-height: 30vh;\n  overflow: auto;\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\n  border-radius: 4px;\n  margin-top: 4px;\n}\n\n>>> .sl-vue-tree-node-item {\n  font-size: 0.9em;\n}\n\n>>> .tag {\n    margin-right: 5px;\n    margin-bottom: 5px !important;\n    background-color: rgba(0, 0, 0, 0.04);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationDetails.vue?vue&type=template&id=04a98d69&scoped=true&\"\nimport script from \"./AnnotationDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnnotationDetails.vue?vue&type=style&index=0&id=04a98d69&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04a98d69\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<v-popover\n  placement=\"right\"\n  trigger=\"manual\"\n  :open=\"opened\"\n  :auto-hide=\"false\"\n> <!-- autoHide leads to erratic behaviour when adding/showing DOM elements => handle display of popover manually -->\n\n  <div class=\"annot-preview\" :style=\"styleAnnotDetails\" @click.self=\"viewAnnot()\">\n    <button class=\"button is-small\" @click=\"opened = !opened\" ref=\"previewButton\">\n      <i :class=\"['fas', opened ? 'fa-minus' : 'fa-plus']\"></i>\n    </button>\n  </div>\n\n  <template #popover>\n    <annotation-details\n      v-click-outside.capture=\"(event) => close(event)\"\n      :annotation=\"annot\"\n      :terms=\"terms\"\n      :users=\"users\"\n      :images=\"images\"\n      @addTerm=\"$emit('addTerm', $event)\"\n      @updateTerms=\"$emit('update')\"\n      @deletion=\"handleDeletion\"\n      v-if=\"opened\"\n    /> <!-- Display component only if it is the currently displayed annotation\n            (prevents fetching unnecessary information) -->\n  </template>\n</v-popover>\n</template>\n\n<script>\nimport AnnotationDetails from './AnnotationDetails';\n\nexport default {\n  name: 'annotation-preview',\n  props: {\n    annot: Object,\n    size: Number,\n    color: String,\n    terms: Array,\n    users: Array,\n    images: Array\n  },\n  components: {AnnotationDetails},\n  data() {\n    return {\n      opened: false\n    };\n  },\n  computed: {\n    styleAnnotDetails() {\n      let outlineParams = this.color ? '&draw=true&color=0x' + this.color : '';\n      let url = `${this.annot.url}?maxSize=${this.size}&square=true&complete=false&thickness=2&increaseArea=1.25${outlineParams}`;\n\n      return {\n        backgroundImage: `url(${url})`,\n        backgroundRepeat: 'no-repeat',\n        width: this.size + 'px',\n        height: this.size + 'px'\n      };\n    }\n  },\n  methods: {\n    viewAnnot() {\n      this.$router.push(`/project/${this.annot.project}/image/${this.annot.image}/annotation/${this.annot.id}`);\n    },\n    close(event) {\n      if(!this.opened) {\n        return;\n      }\n\n      let el = event.target;\n      while(el) {\n        if(el.classList.contains('modal') || el.classList.contains('notifications') || el.isSameNode(this.$refs.previewButton)) {\n          // do not close the popover if click was performed in modal or in notification\n          // if click performed on previewButton, handled in @click\n          return;\n        }\n        el = el.parentElement;\n      }\n\n      this.opened = false;\n    },\n    handleDeletion() {\n      this.$eventBus.$emit('deleteAnnotation', this.annot);\n      this.$emit('update');\n    }\n  }\n};\n</script>\n\n<style scoped>\n.annot-preview {\n  display: inline-block;\n  background-position: center center;\n  background-repeat: no-repeat;\n  margin: 10px;\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\n  border: 3px solid white;\n  cursor: pointer;\n  text-align: right;\n}\n\n.annot-preview .button {\n  font-size: 10px;\n  width: 20px;\n  height: 20px;\n  box-sizing: border-box;\n  position: relative;\n  left: 3px;\n  bottom: 3px;\n  border: none;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationPreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationPreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationPreview.vue?vue&type=template&id=52f8df75&scoped=true&\"\nimport script from \"./AnnotationPreview.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationPreview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnnotationPreview.vue?vue&type=style&index=0&id=52f8df75&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52f8df75\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"box\">\n  <b-loading :is-full-page=\"false\" class=\"small\" :active=\"loading\" />\n  <h2> {{ title }} ({{nbAnnotations}}) </h2>\n  <template v-if=\"error\">\n    <b-message type=\"is-danger\" has-icon icon-size=\"is-small\">\n      {{$t('failed-fetch-annots')}}\n    </b-message>\n  </template>\n  <template v-else-if=\"!annotations.length\">\n    <em class=\"no-result\">{{ $t('no-annotation') }}</em>\n  </template>\n  <template v-else>\n    <annotation-preview\n      v-for=\"annot in annotations\" :key=\"title + annot.id\"\n      :annot=\"annot\"\n      :size=\"size\"\n      :color=\"color\"\n      :terms=\"allTerms\"\n      :users=\"allUsers\"\n      :images=\"allImages\"\n      @addTerm=\"$emit('addTerm', $event)\"\n      @update=\"$emit('update', annot.id)\"\n    />\n\n    <b-pagination\n      :total=\"nbAnnotations\"\n      :current.sync=\"currentPage\"\n      size=\"is-small\"\n      :per-page=\"nbPerPage\"\n    />\n  </template>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport AnnotationPreview from './AnnotationPreview';\n\nimport {AnnotationCollection} from 'cytomine-client';\n\nexport default {\n  name: 'list-annotations-by-term',\n  props: {\n    nbPerPage: Number,\n    size: Number,\n    color: String,\n\n    term: Object,\n    multipleTerms: Boolean,\n    noTerm: Boolean,\n    imagesIds: Array,\n    usersIds: Array,\n    tagsIds: Array,\n    noTag: Boolean,\n    reviewed: Boolean,\n    reviewUsersIds: Array,\n    afterThan: Number,\n    beforeThan: Number,\n\n    allTerms: Array,\n    allUsers: Array,\n    allImages: Array,\n\n    revision: Number\n  },\n  components: {AnnotationPreview},\n  data() {\n    return {\n      loading: false,\n      error: false,\n      annotations: [],\n      nbAnnotations: 0,\n      openedAnnot: 0\n    };\n  },\n  computed: {\n    collection() {\n      this.revision; // to ensure that collection is reloaded if revision changes\n      return new AnnotationCollection({\n        images: this.imagesIds,\n        term: this.multipleTerms || this.noTerm ? null : this.term.id,\n        noTerm: this.noTerm,\n        users: this.usersIds,\n        reviewed: this.reviewed,\n        reviewUsers: this.reviewUsersIds,\n        tags: this.tagsIds,\n        noTag: this.noTag,\n        multipleTerm: this.multipleTerms,\n        showTerm: true,\n        showGIS: true,\n        afterThan: this.afterThan,\n        beforeThan: this.beforeThan,\n        max: this.nbPerPage\n      });\n    },\n    title() {\n      if(this.multipleTerms) {\n        return this.$t('multiple-terms');\n      }\n      if(this.noTerm) {\n        return this.$t('no-term');\n      }\n      return this.term.name;\n    },\n    currentProject: get('currentProject/project'),\n    projectModule() {\n      return this.$store.getters['currentProject/currentProjectModule'];\n    },\n    currentPage: {\n      get() {\n        return this.$store.state.projects[this.currentProject.id].listAnnotations.currentPages[this.term.id] || 1;\n      },\n      set(page) {\n        this.$store.commit(this.projectModule + 'listAnnotations/setCurrentPage', {term: this.term.id, page});\n      }\n    }\n  },\n  watch: {\n    currentPage() {\n      this.fetchPage();\n    },\n    collection() {\n      this.fetchPage();\n    }\n  },\n  methods: {\n    async fetchPage() {\n      if(!this.imagesIds.length || (!this.reviewed && !this.usersIds.length)\n                    || (this.reviewed && !this.reviewUsersIds.length)) {\n        this.annotations = [];\n        this.nbAnnotations = 0;\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        let data = await this.collection.fetchPage(this.currentPage - 1);\n        this.annotations = data.array;\n        this.nbAnnotations = data.totalNbItems;\n\n        // if openedAnnot no longer in collection (can happen if term was removed from annotation),\n        // reset openedAnnot value (otherwise, if annot added again to collection, popover reopens)\n        if(!this.annotations.map(annot => annot.id).includes(this.openedAnnot)) {\n          this.openedAnnot = 0;\n        }\n      }\n      catch(error) {\n        if(this.currentPage > 1) { // error may be due to the page number (not enough annots) => retry on first page\n          this.currentPage = 1;\n          return;\n        }\n\n        console.log(error);\n        this.nbAnnotations = 0;\n        this.error = true;\n      }\n      this.loading = false;\n    },\n    viewAnnot(annot) {\n      this.$router.push(`/project/${annot.project}/image/${annot.image}/annotation/${annot.id}`);\n    },\n\n  },\n  created() {\n    this.fetchPage();\n  }\n};\n</script>\n\n<style scoped>\n.box {\n  position: relative;\n}\n\n.no-result {\n  color: grey;\n}\n\n>>> ul.pagination-list {\n  justify-content: flex-end;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAnnotationsByTerm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAnnotationsByTerm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListAnnotationsByTerm.vue?vue&type=template&id=141d7138&scoped=true&\"\nimport script from \"./ListAnnotationsByTerm.vue?vue&type=script&lang=js&\"\nexport * from \"./ListAnnotationsByTerm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListAnnotationsByTerm.vue?vue&type=style&index=0&id=141d7138&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"141d7138\",\n  null\n  \n)\n\nexport default component.exports","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport {Style, Stroke, Fill, Circle, Text} from 'ol/style';\nimport {MultiPoint} from 'ol/geom';\nimport {asArray as hexToRgb} from 'ol/color';\n\n// -----\n\nexport function isCluster(feature) {\n  let annot = feature.get('annot');\n  if(!annot) {\n    return;\n  }\n  return annot.count != null;\n}\n\n// -----\n\nfunction createStroke(opacity=0.5) {\n  return new Stroke({color: [0, 0, 0, opacity], width: 2});\n}\n\nexport function createColorStyle(color, opacity=0.5) {\n  let colorArray = hexToRgb(color);\n  let colorWithOpacity = colorArray.slice();\n  colorWithOpacity[3] = opacity;\n\n  let fill = new Fill({color: colorWithOpacity});\n\n  let circleStyle = new Circle({\n    radius: 5,\n    fill: new Fill({color: colorArray}),\n    stroke: createStroke(1),\n  });\n  circleStyle.setOpacity(opacity);\n\n  return new Style({\n    fill,\n    stroke: createStroke(opacity),\n    image: circleStyle\n  });\n}\n\n// -----\n\nexport function createLineStyle(color, opacity=0.5) {\n  let colorArray = hexToRgb(color);\n  let colorWithOpacity = colorArray.slice();\n  colorWithOpacity[3] = opacity;\n\n  return new Style({ stroke: new Stroke({color: colorWithOpacity, width: 3}) });\n}\n\n// -----\n\nlet textFill = new Fill({color: '#fff'});\nlet textStroke = new Stroke({color: '#000', width: 3});\n\nexport function createTextStyle(text, fontSize='22px', fill=textFill, stroke=textStroke) {\n  return new Style({\n    text: new Text({\n      text,\n      font: `${fontSize} Arial, sans-serif`,\n      overflow: true,\n      fill,\n      stroke\n    })\n  });\n}\n\n// -----\n\nlet width = 2;\n\nlet blue = [0, 153, 255, 1];\nlet green = [51, 160, 79, 1];\nlet lightGreen = [17, 214, 76, 1];\nlet red = [200, 40, 40, 1];\nlet lightRed = [255, 56, 56, 1];\nlet white = [255, 255, 255, 1];\n\nlet blueStroke = new Stroke({color: blue, width: width});\nlet greenStroke = new Stroke({color: green, width: width + 1});\nlet lightGreenStroke = new Stroke({color: lightGreen, width: width});\nlet redStroke = new Stroke({color: red, width: width + 1});\nlet lightRedStroke = new Stroke({color: lightRed, width: width});\nlet whiteStroke = new Stroke({color: white, width: width + 2});\n\nexport let selectStyles = [\n  new Style({ stroke: whiteStroke }),\n  new Style({ stroke: blueStroke }),\n  new Style({ image: new Circle({radius: 6, stroke: blueStroke}) })\n];\n\nexport let verticesStyle = new Style({\n  image: new Circle({radius: width + 1, fill: new Fill({color: blue})}),\n  geometry: function(feature) {\n    // return the coordinates of the first ring of the polygon\n    var coordinates = feature.getGeometry().getCoordinates()[0];\n    return new MultiPoint(coordinates);\n  }\n});\n\nexport let reviewedStyles = [\n  new Style({ stroke: greenStroke }),\n  new Style({ image: new Circle({radius: 6, stroke: greenStroke}) })\n];\n\nexport let reviewedSelectStyles = [\n  new Style({ stroke: whiteStroke }),\n  new Style({ stroke: lightGreenStroke }),\n  new Style({ image: new Circle({radius: 6, stroke: lightGreenStroke}) })\n];\n\nexport let rejectedStyles = [\n  new Style({ stroke: redStroke }),\n  new Style({ image: new Circle({radius: 6, stroke: redStroke}) })\n];\n\nexport let rejectedSelectStyles = [\n  new Style({ stroke: whiteStroke }),\n  new Style({ stroke: lightRedStroke }),\n  new Style({ image: new Circle({radius: 6, stroke: lightRedStroke}) })\n];\n\n// -----\n\nexport function changeOpacity(style, opacity) {\n  let stroke = style.getStroke();\n  if(stroke) {\n    stroke.getColor()[3] = opacity;\n  }\n  let fill = style.getFill();\n  if(fill) {\n    fill.getColor()[3] = opacity;\n  }\n  let image = style.getImage();\n  if(image) {\n    image.setOpacity(opacity);\n  }\n}\n\n// -----\n\nfunction createDefaultColor(name, hexaCode) {\n  return {\n    name,\n    fill: new Fill({color: '#' + hexaCode}),\n    hexaCode\n  };\n}\n\nexport const defaultColors = Object.freeze([\n  createDefaultColor('black', '000000'),\n  createDefaultColor('white', 'ffffff'),\n  createDefaultColor('red', 'ff0000'),\n  createDefaultColor('orange', 'ff6600'),\n  createDefaultColor('yellow', 'ffff00'),\n  createDefaultColor('green', '008000'),\n  createDefaultColor('blue', '0000ff'),\n  createDefaultColor('purple', '800080')\n]);\n","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"box error\" v-if=\"!configUI['project-annotations-tab']\">\n  <h2> {{ $t('access-denied') }} </h2>\n  <p>{{ $t('insufficient-permission') }}</p>\n</div>\n<div class=\"box error\" v-else-if=\"error\">\n  <h2> {{ $t('error') }} </h2>\n  <p>{{ $t('error-load-annotations-filters') }}</p>\n</div>\n<div v-else class=\"content-wrapper\">\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\n  <div v-if=\"!loading\">\n    <div class=\"box\">\n      <h2> {{ $t('display') }} </h2>\n      <div class=\"filters\">\n        <div class=\"columns\">\n          <div class=\"column filter\">\n            <div class=\"filter-label\">\n              {{$t('preview-size')}}\n            </div>\n            <div class=\"filter-body\">\n              <cytomine-multiselect\n                v-model=\"selectedSize\"\n                :options=\"allowedSizes\"\n                label=\"label\"\n                track-by=\"size\"\n                :allow-empty=\"false\"\n                :searchable=\"false\"\n              />\n            </div>\n          </div>\n          <div class=\"column filter\">\n            <div class=\"filter-label\">\n              {{$t('number-per-page')}}\n            </div>\n            <div class=\"filter-body\">\n              <cytomine-multiselect\n                v-model=\"nbPerPage\"\n                :options=\"[10, 25, 50, 100]\"\n                :allow-empty=\"false\"\n                :searchable=\"false\"\n              />\n            </div>\n          </div>\n          <div class=\"column filter\">\n            <div class=\"filter-label\">\n              {{$t('outline-color')}}\n            </div>\n            <div class=\"filter-body\">\n              <cytomine-multiselect\n                v-model=\"selectedColor\"\n                :options=\"colors\"\n                label=\"label\"\n                track-by=\"name\"\n                :allow-empty=\"false\"\n                :searchable=\"false\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <h2> {{ $t('filters') }} </h2>\n      <div class=\"filters\">\n        <div class=\"columns\">\n          <div class=\"column filter is-one-quarter\">\n            <div class=\"filter-label\">\n              {{$t('annotation-type')}}\n            </div>\n            <div class=\"filter-body\">\n              <cytomine-multiselect\n                v-model=\"selectedAnnotationType\"\n                :options=\"annotationTypes\"\n                :allow-empty=\"false\"\n                :searchable=\"false\"\n              />\n            </div>\n          </div>\n\n          <div class=\"column filter is-one-quarter\">\n            <div class=\"filter-label\">\n              {{$t('images')}}\n            </div>\n            <div class=\"filter-body\">\n              <cytomine-multiselect\n                v-model=\"selectedImages\"\n                :options=\"images\"\n                :label=\"blindMode ? 'blindedName' : 'instanceFilename'\"\n                track-by=\"id\"\n                multiple\n                :allPlaceholder=\"$t('all-images')\"\n              />\n            </div>\n          </div>\n\n          <div v-if=\"ontology\" class=\"column filter is-one-quarter\">\n              <div class=\"filter-label\">\n                {{$t('terms')}}\n              </div>\n              <div class=\"filter-body\">\n                <ontology-tree-multiselect\n                  :ontology=\"ontology\"\n                  :additionalNodes=\"additionalNodes\"\n                  v-model=\"selectedTermsIds\"\n                />\n              </div>\n          </div>\n\n          <div v-if=\"selectedAnnotationType === jobAnnotationOption\" class=\"column filter is-one-quarter\">\n           <div class=\"filter-label\">\n             {{$t('analyses')}}\n           </div>\n           <div class=\"filter-body\">\n             <cytomine-multiselect\n               v-model=\"selectedUserJobs\"\n               :options=\"userJobs\"\n               label=\"fullName\"\n               track-by=\"id\"\n               multiple\n               :allPlaceholder=\"$t('all-analyses')\"\n             />\n           </div>\n          </div>\n\n          <div v-else-if=\"selectedAnnotationType === userAnnotationOption\" class=\"column filter is-one-quarter\">\n           <div class=\"filter-label\">\n             {{$t('members')}}\n           </div>\n           <div class=\"filter-body\">\n             <cytomine-multiselect\n               v-model=\"selectedMembers\"\n               :options=\"filteredMembers\"\n               label=\"fullName\"\n               track-by=\"id\"\n               multiple\n             />\n           </div>\n          </div>\n\n          <div v-else class=\"column filter is-one-quarter\">\n           <div class=\"filter-label\">\n             {{$t('reviewers')}}\n           </div>\n           <div class=\"filter-body\">\n             <cytomine-multiselect\n               v-model=\"selectedReviewers\"\n               :options=\"members\"\n               label=\"fullName\"\n               track-by=\"id\"\n               multiple\n             />\n           </div>\n          </div>\n        </div>\n\n        <div class=\"columns\">\n          <div class=\"column filter is-one-quarter\">\n            <div class=\"filter-label\">\n              {{$t('tags')}}\n            </div>\n            <div class=\"filter-body\">\n              <cytomine-multiselect v-model=\"selectedTags\" :options=\"availableTags\"\n                label=\"name\" track-by=\"id\" :multiple=\"true\" :allPlaceholder=\"$t('all')\" />\n            </div>\n          </div>\n          <div class=\"column filter is-one-quarter\"></div>\n\n          <div class=\"column filter is-one-quarter\">\n            <div class=\"filter-label\">\n              {{$t('from')}}\n            </div>\n            <div class=\"filter-body\">\n              <cytomine-datepicker v-model=\"fromDate\" :styles=\"['multiselect']\" :maxDate=\"toDate || new Date()\" />\n            </div>\n          </div>\n\n          <div class=\"column filter is-one-quarter\">\n            <div class=\"filter-label\">\n              {{$t('to')}}\n            </div>\n            <div class=\"filter-body\">\n              <cytomine-datepicker v-model=\"toDate\" :styles=\"['multiselect']\" :minDate=\"fromDate\" />\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n\n    <list-annotations-by-term v-for=\"term in termsOptions\" :key=\"term.id\"\n      :size=\"selectedSize.size\"\n      :color=\"selectedColor.hexaCode\"\n      :nbPerPage=\"nbPerPage\"\n\n      :allTerms=\"terms\"\n      :allUsers=\"allUsers\"\n      :allImages=\"images\"\n\n      :term=\"term\"\n      :multipleTerms=\"term.id === multipleTermsOption.id\"\n      :noTerm=\"term.id === noTermOption.id\"\n      :imagesIds=\"selectedImagesIds\"\n      :usersIds=\"selectedUsersIds\"\n      :tagsIds=\"tagsIdsNotNull\"\n      :noTag=\"noTag\"\n      :reviewed=\"reviewed\"\n      :reviewUsersIds=\"reviewUsersIds\"\n      :afterThan=\"afterThan\"\n      :beforeThan=\"beforeThan\"\n\n      :revision=\"revision\"\n\n      v-show=\"selectedTermsIds.includes(term.id)\"\n\n      @addTerm=\"addTerm\"\n      @update=\"revision++\"\n    />\n\n    <div class=\"box\">\n      <h2 class=\"has-text-centered\"> {{ $t('download-results') }} </h2>\n      <div class=\"buttons is-centered\">\n        <a class=\"button is-link\" :href=\"downloadURL('pdf')\">{{$t('download-PDF')}}</a>\n        <a class=\"button is-link\" :href=\"downloadURL('csv')\">{{$t('download-CSV')}}</a>\n        <a class=\"button is-link\" :href=\"downloadURL('xls')\">{{$t('download-excel')}}</a>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport {get, sync, syncMultiselectFilter} from '@/utils/store-helpers';\n\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\nimport CytomineDatepicker from '@/components/form/CytomineDatepicker';\nimport OntologyTreeMultiselect from '@/components/ontology/OntologyTreeMultiselect';\n\nimport ListAnnotationsByTerm from './ListAnnotationsByTerm';\n\nimport {ImageInstanceCollection, UserCollection, UserJobCollection, AnnotationCollection, TagCollection} from 'cytomine-client';\n\nimport {fullName} from '@/utils/user-utils.js';\nimport {defaultColors} from '@/utils/style-utils.js';\n\n// store options to use with store helpers to target projects/currentProject/listImages module\nconst storeOptions = {rootModuleProp: 'storeModule'};\n// redefine helpers to use storeOptions and correct module path\nconst localSyncMultiselectFilter = (filterName, options) => syncMultiselectFilter(null, filterName, options, storeOptions);\n\nexport default {\n  name: 'list-annotations',\n  components: {\n    CytomineMultiselect,\n    CytomineDatepicker,\n    OntologyTreeMultiselect,\n    ListAnnotationsByTerm\n  },\n  data() {\n    return {\n      loading: true,\n      error: false,\n      revision: 0,\n\n      projectUsers: [],\n      userJobs: [],\n\n      allowedSizes: [\n        {label: this.$t('small'), size: 85},\n        {label: this.$t('medium'), size: 125},\n        {label: this.$t('large'), size: 200},\n        {label: this.$t('huge'), size: 400},\n      ],\n\n      userAnnotationOption: this.$t('user-annotations'),\n      jobAnnotationOption: this.$t('analysis-annotations'),\n      reviewedAnnotationOption: this.$t('reviewed-annotations'),\n      annotationTypes: [],\n\n      images: [],\n      availableTags:[],\n\n      noTermOption: {id: 0, name: this.$t('no-term')},\n      multipleTermsOption: {id: -1, name: this.$t('multiple-terms')}\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    project: get('currentProject/project'),\n    blindMode() {\n      return this.project.blindMode;\n    },\n    canManageProject() {\n      return this.$store.getters['currentProject/canManageProject'];\n    },\n    ontology: get('currentProject/ontology'),\n    configUI: get('currentProject/configUI'),\n\n    storeModule() { // path to the vuex module in which state of this component is stored (projects/currentProject/listAnnotations)\n      return this.$store.getters['currentProject/currentProjectModule'] + 'listAnnotations';\n    },\n\n    colors() {\n      let colors = defaultColors.map(color => ({label: this.$t(color.name), ...color}));\n      colors.push({label: this.$t('no-outline')});\n      return colors;\n    },\n\n    selectedSize: sync('previewSize', storeOptions),\n    nbPerPage: sync('perPage', storeOptions),\n    selectedColor: sync('outlineColor', storeOptions),\n\n    targetAnnotationType() {\n      switch(this.$route.query.type) {\n        case 'user':\n          return this.userAnnotationOption;\n        case 'algo':\n          return this.jobAnnotationOption;\n        case 'reviewed':\n          return this.reviewedAnnotationOption;\n      }\n    },\n\n    allUsers() {\n      return this.projectUsers.concat(this.userJobs);\n    },\n    members: get('currentProject/members'),\n    managers: get('currentProject/managers'),\n    filteredMembers() { // filter the members so as to return only those whose annotations can be seen by current user\n      if(this.canManageProject || (!this.project.hideUsersLayers && !this.project.hideAdminsLayers)) {\n        return this.members;\n      }\n\n      let idManagers = this.managers.map(m => m.id);\n      return this.members.filter(member => {\n        if(this.currentUser.id === member.id) {\n          return true;\n        }\n        let isManager = idManagers.includes(member.id);\n        return isManager ? !this.project.hideAdminsLayers : !this.project.hideUsersLayers;\n      });\n    },\n\n    terms() {\n      return this.$store.getters['currentProject/terms'] || [];\n    },\n    additionalNodes() {\n      let additionalNodes = [this.noTermOption];\n      if(this.terms.length > 1) {\n        additionalNodes.push(this.multipleTermsOption);\n      }\n      return additionalNodes;\n    },\n    termsOptions() {\n      return this.terms.concat(this.additionalNodes);\n    },\n    termOptionsIds() {\n      return this.termsOptions.map(option => option.id);\n    },\n\n    selectedAnnotationType: sync('annotationType', storeOptions),\n    selectedMembers: localSyncMultiselectFilter('members', 'filteredMembers'),\n    selectedReviewers: localSyncMultiselectFilter('reviewers', 'members'),\n    selectedUserJobs: localSyncMultiselectFilter('userJobs', 'userJobs'),\n    selectedImages: localSyncMultiselectFilter('images', 'images'),\n    selectedTags: localSyncMultiselectFilter('tags', 'availableTags'),\n    selectedTermsIds: localSyncMultiselectFilter('termsIds', 'termOptionsIds'),\n    fromDate: sync('fromDate', storeOptions),\n    toDate: sync('toDate', storeOptions),\n\n    afterThan() {\n      return this.fromDate ? this.fromDate.getTime() : null;\n    },\n    beforeThan() {\n      return this.toDate ? this.toDate.setHours(23, 59, 59, 999) : null;\n    },\n\n    reviewed() {\n      return this.selectedAnnotationType === this.reviewedAnnotationOption;\n    },\n    selectedUsersIds() {\n      if(this.reviewed) {\n        return null;\n      }\n      let users = (this.selectedAnnotationType === this.jobAnnotationOption) ? this.selectedUserJobs : this.selectedMembers;\n      return users.map(user => user.id);\n    },\n    reviewUsersIds() {\n      return this.reviewed ? this.selectedReviewers.map(u => u.id) : null;\n    },\n\n    querySearchImage() {\n      return this.$route.query.image;\n    },\n    querySearchTags() {\n      return this.$route.query.tags;\n    },\n    selectedImagesIds() {\n      return this.selectedImages.map(img => img.id);\n    },\n    selectedTagsIds() {\n      return this.selectedTags.map(t => t.id);\n    },\n    tagsIdsNotNull() {\n      if(this.selectedTagsIds.indexOf('null') >= 0) {\n        let x = this.selectedTagsIds.slice();\n        x.splice(x.indexOf('null'), 1);\n        return x;\n      }\n      return this.selectedTagsIds;\n    },\n    noTag() {\n      return this.selectedTagsIds.indexOf('null') >= 0;\n    },\n    collection() {\n      let collection = new AnnotationCollection({\n        project: this.project.id,\n        terms: this.selectedTermsIds,\n        images: this.selectedImagesIds,\n        users: this.selectedUsersIds,\n        reviewed: this.reviewed,\n        reviewUsers: this.reviewUsersIds,\n        noTerm: this.selectedTermsIds.includes(this.noTermOption.id),\n        multipleTerms: this.selectedTermsIds.includes(this.multipleTermsOption.id),\n        afterThan: this.afterThan,\n        beforeThan: this.beforeThan\n      });\n\n      if(this.selectedTagsIds.length > 0 && this.selectedTagsIds.length < this.availableTags.length) {\n        collection['tags'] = this.selectedTagsIds;\n        collection['noTag'] = this.noTag;\n      }\n\n      return collection;\n    },\n  },\n  methods: {\n    async fetchImages() {\n      this.images = (await ImageInstanceCollection.fetchAll({\n        filterKey: 'project',\n        filterValue: this.project.id,\n        light: true\n      })).array;\n    },\n    async fetchUsers() {\n\n      let collection = new UserCollection({\n        filterKey: 'project',\n        filterValue: this.project.id,\n      });\n\n      this.projectUsers = (await collection.fetchAll()).array;\n      this.projectUsers.forEach(user => {\n        user.fullName = fullName(user);\n      });\n    },\n    async fetchUserJobs() {\n      this.userJobs = (await UserJobCollection.fetchAll({filterKey: 'project', filterValue: this.project.id})).array;\n      this.userJobs.forEach(userJob => {\n        userJob.fullName = fullName(userJob);\n      });\n    },\n    async fetchTags() {\n      this.availableTags = [{id: 'null', name: this.$t('no-tag')}, ...(await TagCollection.fetchAll()).array];\n    },\n    downloadURL(format) {\n      return this.collection.getDownloadURL(format);\n    },\n    addTerm(term) {\n      this.terms.push(term);\n      this.selectedTermsIds.push(term.id);\n    },\n    resetPagesAndFilters() {\n      this.$store.commit(this.storeModule + '/resetPagesAndFilters');\n    }\n  },\n  watch: {\n    querySearchTags(values) {\n      if(values) {\n        this.selectedTags = [];\n        let queriedTags = this.availableTags.filter(tag => values.split(',').includes(tag.name));\n        if(queriedTags) {\n          this.resetPagesAndFilters(); // we want all annotations of the job => reset state\n          this.selectedTags = queriedTags;\n        }\n      }\n    },\n    querySearchImage(val) {\n      if(val) {\n        this.selectedImages = [];\n        let queriedImage = this.images.find(image => image.id === Number(val));\n        if(queriedImage) {\n          this.resetPagesAndFilters(); // we want all annotations of the image => reset state\n          this.selectedImages = [queriedImage];\n        }\n      }\n    }\n  },\n  async created() {\n    this.annotationTypes = [this.userAnnotationOption, this.jobAnnotationOption, this.reviewedAnnotationOption];\n\n    // if store was not yet initialized, set default values\n    if(!this.selectedSize) {\n      this.selectedSize = this.allowedSizes[0];\n    }\n    if(!this.selectedColor) {\n      this.selectedColor = this.colors[0];\n    }\n    if(!this.selectedAnnotationType) {\n      this.selectedAnnotationType = this.userAnnotationOption;\n    }\n    // ---\n\n    try {\n      await Promise.all([\n        this.fetchImages(),\n        this.fetchUsers(),\n        this.fetchUserJobs(),\n        this.fetchTags()\n      ]);\n    }\n    catch(error) {\n      console.log(error);\n      this.error = true;\n      return;\n    }\n\n    if(this.targetAnnotationType) {\n      this.resetPagesAndFilters(); // we want all annotations of this type => reset state\n      this.selectedAnnotationType = this.targetAnnotationType;\n    }\n\n    if(this.$route.query.image) {\n      let queriedImage = this.images.find(image => image.id === Number(this.$route.query.image));\n      if(queriedImage) {\n        this.resetPagesAndFilters(); // we want all annotations of the image => reset state\n        this.selectedImages = [queriedImage];\n      }\n    }\n\n    if(this.$route.query.userJob) {\n      let queriedUserJob = this.userJobs.find(uj => uj.id === Number(this.$route.query.userJob));\n      if(queriedUserJob) {\n        this.resetPagesAndFilters(); // we want all annotations of the job => reset state\n        this.selectedAnnotationType = this.jobAnnotationOption;\n        this.selectedUserJobs = [queriedUserJob];\n      }\n    }\n    if(this.$route.query.tags) {\n      let queriedTags = this.availableTags.filter(tag => this.$route.query.tags.split(',').includes(tag.name));\n      if(queriedTags) {\n        this.resetPagesAndFilters(); // we want all annotations of the tags => reset state\n        this.selectedTags = queriedTags;\n      }\n    }\n\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\n.filters:not(:last-child) {\n  margin-bottom: 1.25rem;\n}\n\n.filter.column {\n  padding: 0.4em 0.75em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAnnotations.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAnnotations.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListAnnotations.vue?vue&type=template&id=0eff98a6&scoped=true&\"\nimport script from \"./ListAnnotations.vue?vue&type=script&lang=js&\"\nexport * from \"./ListAnnotations.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListAnnotations.vue?vue&type=style&index=0&id=0eff98a6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0eff98a6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.configUI['project-activities-tab'])?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):_c('div',{staticClass:\"project-activity-wrapper content-wrapper\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[(_vm.canManageProject)?_c('b-field',{staticClass:\"radio-buttons-fullwidth is-hovered\"},[_c('b-radio-button',{attrs:{\"native-value\":\"charts\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('activity-charts'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"members\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('members-activity'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"logs\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('activity-logs'))+\" \")])],1):_vm._e()],1),_c('div',{staticClass:\"column is-narrow\"},[_c('b-dropdown',{staticClass:\"date-picker-dropdown\",attrs:{\"position\":\"is-bottom-left\",\"disabled\":_vm.activeTab === 'members'},scopedSlots:_vm._u([{key:\"trigger\",fn:function(){return [_c('button',{staticClass:\"button is-hovered\"},[_c('i',{staticClass:\"far fa-calendar\"})])]},proxy:true}])},[_c('b-dropdown-item',{attrs:{\"custom\":\"\"}},[_c('b-field',{attrs:{\"label\":_vm.$t('from'),\"horizontal\":\"\"}},[_c('cytomine-datepicker',{attrs:{\"maxDate\":_vm.endDate || new Date()},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('to'),\"horizontal\":\"\"}},[_c('cytomine-datepicker',{attrs:{\"minDate\":_vm.startDate,\"maxDate\":new Date()},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1)],1)],1)],1)]),_c('div',{staticClass:\"component-wrapper\"},[_c('keep-alive',[_c(_vm.activeComponent,{tag:\"component\",attrs:{\"startDate\":_vm.startDate ? _vm.startDate.getTime() : null,\"endDate\":_vm.endDate ? _vm.endDate.setHours(23, 59, 59, 999) : null}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tile is-ancestor is-vertical project-activity-charts-wrapper\"},[_c('div',{staticClass:\"tile\"},[_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box chart-box\"},[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t(\"activity\")))]),_c('div',{staticClass:\"column is-narrow is-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"activity-chart-info-message\")))]),_c('p',[_vm._v(_vm._s(_vm.$t(\"barchart-hover-mouse-for-details\")))]),_c('p',[_vm._v(_vm._s(_vm.$t(\"barchart-click-label-to-toggle-visibility\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('div',{staticClass:\"chart-container big\"},[_c('activity-overview-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate,\"daysRange\":_vm.daysRange}})],1)])]),_c('div',{staticClass:\"tile is-vertical single-metrics\"},[_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box single-metric\"},[_c('div',{staticClass:\"absolute-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"project-connections-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1),_c('strong',{staticClass:\"metric\"},[_vm._v(_vm._s(_vm.nbProjectVisits != null ? _vm.nbProjectVisits : \"?\"))]),_c('strong',[_vm._v(_vm._s(_vm.$t(\"project-connections\")))])])]),_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box single-metric\"},[_c('div',{staticClass:\"absolute-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"image-consultations-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1),_c('strong',{staticClass:\"metric\"},[_vm._v(_vm._s(_vm.nbImageConsultations != null ? _vm.nbImageConsultations : \"?\"))]),_c('strong',[_vm._v(_vm._s(_vm.$t(\"image-consultations\")))])])]),_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box single-metric\"},[_c('div',{staticClass:\"absolute-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"annotation-selections-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1),_c('strong',{staticClass:\"metric\"},[_vm._v(_vm._s(_vm.nbAnnotationSelections != null ? _vm.nbAnnotationSelections : \"?\"))]),_c('strong',[_vm._v(_vm._s(_vm.$t(\"annotation-selections\")))])])])])]),_c('div',{staticClass:\"tile\"},[_c('div',{staticClass:\"tile is-vertical single-metrics\"},[_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box single-metric\"},[_c('div',{staticClass:\"absolute-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"manual-annotations-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1),_c('strong',{staticClass:\"metric\"},[_vm._v(\" \"+_vm._s(_vm.nbAnnotations[_vm.annotationTypes.USER] != null ? _vm.nbAnnotations[_vm.annotationTypes.USER] : \"?\")+\" \")]),_c('strong',[_vm._v(_vm._s(_vm.$t(\"user-annotations\")))])])]),_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box single-metric\"},[_c('div',{staticClass:\"absolute-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"analysis-annotations-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1),_c('strong',{staticClass:\"metric\"},[_vm._v(\" \"+_vm._s(_vm.nbAnnotations[_vm.annotationTypes.ALGO] != null ? _vm.nbAnnotations[_vm.annotationTypes.ALGO] : \"?\")+\" \")]),_c('strong',[_vm._v(_vm._s(_vm.$t(\"analysis-annotations\")))])])]),_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box single-metric\"},[_c('div',{staticClass:\"absolute-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"reviewed-annotations-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1),_c('strong',{staticClass:\"metric\"},[_vm._v(\" \"+_vm._s(_vm.nbAnnotations[_vm.annotationTypes.REVIEWED] != null ? _vm.nbAnnotations[_vm.annotationTypes.REVIEWED] : \"?\")+\" \")]),_c('strong',[_vm._v(_vm._s(_vm.$t(\"reviewed-annotations\")))])])])]),_c('div',{staticClass:\"tile is-parent\"},[_c('div',{staticClass:\"tile is-child box chart-box\"},[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t(\"number-annotations\")))]),(_vm.ontology)?[_c('div',{staticClass:\"column is-narrow has-text-right\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(_vm._s(_vm.$t(\"term\")))])]),_c('div',{staticClass:\"column is-one-third\"},[_c('ontology-tree-multiselect',{attrs:{\"ontology\":_vm.ontology,\"additionalNodes\":[{id: 0, name: this.$t('all')}],\"startWithAdditionalNodes\":true,\"multiple\":false},model:{value:(_vm.selectedTerms),callback:function ($$v) {_vm.selectedTerms=$$v},expression:\"selectedTerms\"}})],1)]:_vm._e(),_c('div',{staticClass:\"column is-narrow is-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"number-annotations-chart-info-message\")))]),_c('p',[_vm._v(_vm._s(_vm.$t(\"barchart-hover-mouse-for-details\")))]),_c('p',[_vm._v(_vm._s(_vm.$t(\"barchart-click-label-to-toggle-visibility\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)],2),_c('div',{staticClass:\"chart-container big\"},[_c('number-annotations-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate,\"daysRange\":_vm.daysRange,\"term\":_vm.selectedTerms[0] || null}})],1)])])]),(_vm.ontology)?_c('div',{staticClass:\"tile\"},[_c('div',{staticClass:\"tile is-6 is-parent is-vertical\"},[_c('div',{staticClass:\"tile is-child box chart-box no-grow\"},[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t(\"manual-annotations-vs-term\")))]),_c('div',{staticClass:\"column is-narrow is-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"annotations-vs-terms-chart-info-message\")))])]},proxy:true}],null,false,1450839247)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('div',{staticClass:\"chart-container\",style:(_vm.styleAnnotationTermChart)},[_c('annotation-term-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate},on:{\"nbElems\":function (val) { return _vm.nbElemsAnnotationTermChart = val; }}})],1)])]),_c('div',{staticClass:\"tile is-6 is-parent is-vertical\"},[_c('div',{staticClass:\"tile is-child box chart-box no-grow\"},[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t(\"annotated-images-vs-term\")))]),_c('div',{staticClass:\"column is-narrow is-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"annotated-images-vs-terms-chart-info-message\")))])]},proxy:true}],null,false,1273985580)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('div',{staticClass:\"chart-container\",style:(_vm.styleAnnotationTermChart)},[_c('annotated-images-by-term-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate}})],1)])])]):_vm._e(),_c('div',{staticClass:\"tile\"},[_c('div',{staticClass:\"tile is-6 is-parent is-vertical\"},[_c('div',{staticClass:\"tile is-child box chart-box no-grow\"},[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t(\"manual-annotations-vs-contributor\")))]),_c('div',{staticClass:\"column is-narrow is-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"annotations-vs-contributors-chart-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('div',{staticClass:\"chart-container\",style:(_vm.styleAnnotationContributorChart)},[_c('annotation-contributor-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate},on:{\"nbElems\":function (val) { return _vm.nbElemsAnnotationContributorChart = val; }}})],1)])]),_c('div',{staticClass:\"tile is-6 is-parent is-vertical\"},[_c('div',{staticClass:\"tile is-child box chart-box no-grow\"},[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.$t(\"annotated-images-vs-contributor\")))]),_c('div',{staticClass:\"column is-narrow is-info-circle\"},[_c('v-popover',{scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',[_vm._v(_vm._s(_vm.$t(\"annotated-images-vs-contributors-chart-info-message\")))])]},proxy:true}])},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1)]),_c('div',{staticClass:\"chart-container\",style:(_vm.styleAnnotationContributorChart)},[_c('annotated-images-by-contributor-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate}})],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport {Bar} from 'vue-chartjs';\n\nimport {AnnotationType} from 'cytomine-client';\n\nexport default {\n  name: 'number-annotations-chart',\n  extends: Bar,\n  props: {\n    project: Object,\n    term: Number,\n    startDate: Number,\n    endDate: Number,\n    daysRange: Number\n  },\n  data() {\n    return {\n      annotationsEvolution: {\n        [AnnotationType.USER]: [],\n        [AnnotationType.ALGO]: [],\n        [AnnotationType.REVIEWED]: []\n      },\n      chartData: null\n    };\n  },\n  computed: {\n    locale() {\n      return this.$i18n.locale;\n    },\n    queryParams() {\n      return {\n        daysRange: this.daysRange,\n        startDate: this.startDate,\n        endDate: this.endDate,\n        accumulate: false,\n        reverseOrder: false,\n        term: this.term\n      };\n    }\n  },\n  watch: {\n    async queryParams() {\n      await this.fetchData();\n      this.updateChart();\n    },\n    locale() {\n      this.updateLabels();\n      this.updateChart();\n    }\n  },\n  methods: {\n    async fetchAnnotationsEvolution(type) {\n      this.annotationsEvolution[type] = await this.project.fetchAnnotationsEvolution({annotationType: type, ...this.queryParams});\n    },\n    async fetchData() {\n      await Promise.all([\n        this.fetchAnnotationsEvolution(AnnotationType.USER),\n        this.fetchAnnotationsEvolution(AnnotationType.ALGO),\n        this.fetchAnnotationsEvolution(AnnotationType.REVIEWED)\n      ]);\n\n      this.chartData.datasets[0].data = this.annotationsEvolution[AnnotationType.USER].map(item => item.size);\n      this.chartData.datasets[1].data = this.annotationsEvolution[AnnotationType.ALGO].map(item => item.size);\n      this.chartData.datasets[2].data = this.annotationsEvolution[AnnotationType.REVIEWED].map(item => item.size);\n      this.updateLabels();\n    },\n    updateLabels() {\n      this.chartData.labels = this.annotationsEvolution[AnnotationType.USER].map(item => {\n        let moment = this.$options.filters.moment;\n        return this.daysRange === 1 ? moment(Number(item.date), 'll')\n          : [moment(Number(item.date), 'll') + ' - ',  moment(Number(item.endDate), 'll')];\n      });\n    },\n    updateChart() {\n      this.$data._chart.update();\n    }\n  },\n  async mounted () {\n    this.chartData = {\n      labels: [],\n      datasets: [\n        {\n          label: this.$t('user-annotations'),\n          data: [],\n          backgroundColor: '#4480c4',\n          borderWidth: 0\n        },\n        {\n          label: this.$t('analysis-annotations'),\n          data: [],\n          backgroundColor: '#aaa',\n          borderWidth: 0\n        },\n        {\n          label: this.$t('reviewed-annotations'),\n          data: [],\n          backgroundColor: '#42ce77',\n          borderWidth: 0\n        }\n      ]\n    };\n\n    await this.fetchData();\n\n    this.renderChart(this.chartData, {\n      maintainAspectRatio: false,\n      scales: {\n        yAxes: [{\n          ticks: {\n            min: 0\n          }\n        }],\n        xAxes: [{\n          categoryPercentage: 0.6,\n          gridLines: {\n            display: false\n          }\n        }]\n      }\n    });\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport {HorizontalBar} from 'vue-chartjs';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\n\nimport {asArray as hexToRgb} from 'ol/color';\n\nconst defaultColor = '#eee';\n\nexport default {\n  name: 'annotation-term-chart',\n  extends: HorizontalBar,\n  props: {\n    project: Object,\n    startDate: Number,\n    endDate: Number\n  },\n  data() {\n    return {\n      chartData: null\n    };\n  },\n  computed: {\n    queryParams() {\n      return {\n        startDate: this.startDate,\n        endDate: this.endDate,\n        leafsOnly: false\n      };\n    }\n  },\n  watch: {\n    async queryParams() {\n      this.doRenderChart();\n    }\n  },\n  methods: {\n    async doRenderChart() {\n      let terms = await this.project.fetchStatsTerms(this.queryParams);\n      let data = terms.map(term => term.value);\n      let borderColors = terms.map(term => {\n        let [r, g, b] = hexToRgb(term.color || defaultColor);\n        const factor = 0.8;\n        return `rgba(${r*factor}, ${g*factor}, ${b*factor}, 1)`;\n      });\n\n      this.$emit('nbElems', data.length);\n\n      this.renderChart({\n        labels: terms.map(term => term.key || this.$t('no-term')),\n        datasets: [\n          {\n            data,\n            backgroundColor: terms.map(term => term.color || defaultColor),\n            borderColor: borderColors,\n            borderWidth: 1,\n            hoverBorderColor: borderColors,\n          }\n        ]\n      }, { \n        maintainAspectRatio: false,\n        legend: {display: false},\n        scales: {\n          xAxes: [{\n            ticks: {\n              min: 0,\n              suggestedMax: Math.round(Math.max(...data)*1.2)+1\n            }\n          }],\n          yAxes: [{\n            gridLines: {\n              display: false\n            },\n            categoryPercentage: 0.6\n          }]\n        }\n      });\n    }\n  },\n  async mounted () {\n    this.addPlugin(ChartDataLabels);\n    this.doRenderChart();\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport {HorizontalBar} from 'vue-chartjs';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\n\nimport {asArray as hexToRgb} from 'ol/color';\n\nconst defaultColor = '#eee';\n\nexport default {\n  name: 'annotated-images-by-term-chart',\n  extends: HorizontalBar,\n  props: {\n    project: Object,\n    startDate: Number,\n    endDate: Number\n  },\n  data() {\n    return {\n      chartData: null\n    };\n  },\n  computed: {\n    queryParams() {\n      return {\n        startDate: this.startDate,\n        endDate: this.endDate\n      };\n    }\n  },\n  watch: {\n    async queryParams() {\n      this.doRenderChart();\n    }\n  },\n  methods: {\n    async doRenderChart() {\n      let terms = await this.project.fetchStatsAnnotatedImagesByTerm(this.queryParams);\n      let data = terms.map(term => term.value);\n      let borderColors = terms.map(term => {\n        let [r, g, b] = hexToRgb(term.color || defaultColor);\n        const factor = 0.8;\n        return `rgba(${r*factor}, ${g*factor}, ${b*factor}, 1)`;\n      });\n\n      this.$emit('nbElems', data.length);\n\n      this.renderChart({\n        labels: terms.map(term => term.key || this.$t('no-term')),\n        datasets: [\n          {\n            data,\n            backgroundColor: terms.map(term => term.color || defaultColor),\n            borderColor: borderColors,\n            borderWidth: 1,\n            hoverBorderColor: borderColors,\n          }\n        ]\n      }, {\n        maintainAspectRatio: false,\n        legend: {display: false},\n        scales: {\n          xAxes: [{\n            ticks: {\n              min: 0,\n              suggestedMax: Math.round(Math.max(...data)*1.2)+1\n            }\n          }],\n          yAxes: [{\n            gridLines: {\n              display: false\n            },\n            categoryPercentage: 0.6\n          }]\n        }\n      });\n    }\n  },\n  async mounted () {\n    this.addPlugin(ChartDataLabels);\n    this.doRenderChart();\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport {HorizontalBar} from 'vue-chartjs';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\n\nexport default {\n  name: 'annotation-contributor-chart',\n  extends: HorizontalBar,\n  props: {\n    project: Object,\n    startDate: Number,\n    endDate: Number\n  },\n  data() {\n    return {\n      chartData: null\n    };\n  },\n  computed: {\n    queryParams() {\n      return {\n        startDate: this.startDate,\n        endDate: this.endDate\n      };\n    }\n  },\n  watch: {\n    queryParams() {\n      this.doRenderChart();\n    }\n  },\n  methods: {\n    async doRenderChart() {\n      let contribs = await this.project.fetchStatsAnnotationCreators(this.queryParams);\n      let data = contribs.map(c => c.value);\n      this.$emit('nbElems', data.length);\n\n      this.renderChart({\n        labels: contribs.map(c => c.key),\n        datasets: [\n          {\n            data,\n            backgroundColor: '#4480c4',\n            borderWidth: 0\n          }\n        ]\n      }, {\n        maintainAspectRatio: false,\n        legend: {display: false},\n        scales: {\n          xAxes: [{\n            ticks: {\n              min: 0,\n              suggestedMax: Math.round(Math.max(...data)*1.2)+1\n            }\n          }],\n          yAxes: [{\n            gridLines: {\n              display: false\n            },\n            categoryPercentage: 0.6\n          }]\n        }\n      });\n    }\n  },\n  async mounted () {\n    this.addPlugin(ChartDataLabels);\n    this.doRenderChart();\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport {HorizontalBar} from 'vue-chartjs';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\n\nexport default {\n  name: 'annotated-images-by-contributor-chart',\n  extends: HorizontalBar,\n  props: {\n    project: Object,\n    startDate: Number,\n    endDate: Number\n  },\n  data() {\n    return {\n      chartData: null\n    };\n  },\n  computed: {\n    queryParams() {\n      return {\n        startDate: this.startDate,\n        endDate: this.endDate\n      };\n    }\n  },\n  watch: {\n    queryParams() {\n      this.doRenderChart();\n    }\n  },\n  methods: {\n    async doRenderChart() {\n      let contribs = await this.project.fetchStatsAnnotatedImagesByCreator(this.queryParams);\n      let data = contribs.map(c => c.value);\n      this.$emit('nbElems', data.length);\n\n      this.renderChart({\n        labels: contribs.map(c => c.key),\n        datasets: [\n          {\n            data,\n            backgroundColor: '#4480c4',\n            borderWidth: 0\n          }\n        ]\n      }, {\n        maintainAspectRatio: false,\n        legend: {display: false},\n        scales: {\n          xAxes: [{\n            ticks: {\n              min: 0,\n              suggestedMax: Math.round(Math.max(...data)*1.2)+1\n            }\n          }],\n          yAxes: [{\n            gridLines: {\n              display: false\n            },\n            categoryPercentage: 0.6\n          }]\n        }\n      });\n    }\n  },\n  async mounted () {\n    this.addPlugin(ChartDataLabels);\n    this.doRenderChart();\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport {Bar} from 'vue-chartjs';\n\nexport default {\n  name: 'activity-overview-chart',\n  extends: Bar,\n  props: {\n    project: Object,\n    startDate: Number,\n    endDate: Number,\n    daysRange: Number\n  },\n  data() {\n    return {\n      projectConnections: [],\n      imageConsultations: [],\n      annotationSelections: [],\n      chartData: null\n    };\n  },\n  computed: {\n    locale() {\n      return this.$i18n.locale;\n    },\n    queryParams() {\n      return {\n        daysRange: this.daysRange,\n        startDate: this.startDate,\n        endDate: this.endDate,\n        accumulate: false\n      };\n    }\n  },\n  watch: {\n    async queryParams() {\n      await this.fetchData();\n      this.updateChart();\n    },\n    locale() {\n      this.updateLabels();\n      this.updateChart();\n    }\n  },\n  methods: {\n    async fetchProjectConnections() {\n      this.projectConnections = await this.project.fetchConnectionsEvolution(this.queryParams);\n    },\n    async fetchImageConsultations() {\n      this.imageConsultations = await this.project.fetchImageConsultationsEvolution(this.queryParams);\n    },\n    async fetchAnnotationSelections() {\n      this.annotationSelections = await this.project.fetchAnnotationActionsEvolution({action: 'select', ...this.queryParams});\n    },\n    async fetchData() {\n      await Promise.all([\n        this.fetchProjectConnections(),\n        this.fetchImageConsultations(),\n        this.fetchAnnotationSelections()\n      ]);\n\n      this.chartData.datasets[0].data = this.projectConnections.map(item => item.size);\n      this.chartData.datasets[1].data = this.imageConsultations.map(item => item.size);\n      this.chartData.datasets[2].data = this.annotationSelections.map(item => item.size);\n      this.updateLabels();\n    },\n    updateLabels() {\n      this.chartData.labels = this.projectConnections.map(item => {\n        let moment = this.$options.filters.moment;\n        return this.daysRange === 1 ? moment(Number(item.date), 'll')\n          : [moment(Number(item.date), 'll') + ' - ',  moment(Number(item.endDate), 'll')];\n      });\n    },\n    async updateChart() {\n      this.$data._chart.update();\n    }\n  },\n  async mounted () {\n    this.chartData = {\n      labels: [],\n      datasets: [\n        {\n          label: this.$t('project-connections'),\n          data: [],\n          backgroundColor: '#4480c4',\n          borderWidth: 0\n        },\n        {\n          label: this.$t('image-consultations'),\n          data: [],\n          backgroundColor: '#f2418e',\n          borderWidth: 0\n        },\n        {\n          label: this.$t('annotation-selections'),\n          data: [],\n          backgroundColor: '#ffa500',\n          borderWidth: 0\n        }\n      ]\n    };\n\n    await this.fetchData();\n\n    this.renderChart(this.chartData, {\n      maintainAspectRatio: false,\n      scales: {\n        yAxes: [{\n          ticks: {\n            min: 0,\n          }\n        }],\n        xAxes: [{\n          categoryPercentage: 0.6,\n          gridLines: {\n            display: false // TODO when possible in chart.js: display all grid lines, even when ticks hidden (see https://stackoverflow.com/questions/44361991/show-only-nth-tick-line-on-x-axis-for-chart-js-diagram and https://stackoverflow.com/questions/43604396/how-do-i-persist-the-gridlines-for-ticks-that-are-not-displayed-chart-js and )\n          }\n        }]\n      }\n    });\n  }\n};","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"tile is-ancestor is-vertical project-activity-charts-wrapper\">\n  <div class=\"tile\">\n    <div class=\"tile is-parent\">\n      <div class=\"tile is-child box chart-box\">\n        <div class=\"columns\">\n          <h2 class=\"column\">{{$t(\"activity\")}}</h2>\n          <div class=\"column is-narrow is-info-circle\">\n            <v-popover>\n              <i class=\"fas fa-info-circle\"></i>\n              <template #popover>\n                <p>{{$t(\"activity-chart-info-message\")}}</p>\n                <p>{{$t(\"barchart-hover-mouse-for-details\")}}</p>\n                <p>{{$t(\"barchart-click-label-to-toggle-visibility\")}}</p>\n              </template>\n            </v-popover>\n          </div>\n        </div>\n        <div class=\"chart-container big\">\n          <activity-overview-chart css-classes=\"chart\"\n            :project=\"project\"\n            :startDate=\"startDate\"\n            :endDate=\"endDate\"\n            :daysRange=\"daysRange\"\n          />\n        </div>\n      </div>\n    </div>\n\n    <div class=\"tile is-vertical single-metrics\">\n      <div class=\"tile is-parent\">\n        <div class=\"tile is-child box single-metric\">\n          <div class=\"absolute-info-circle\">\n            <v-popover>\n              <i class=\"fas fa-info-circle\"></i>\n              <template #popover>\n                <p>{{$t(\"project-connections-info-message\")}}</p>\n              </template>\n            </v-popover>\n          </div>\n          <strong class=\"metric\">{{nbProjectVisits != null ? nbProjectVisits : \"?\"}}</strong>\n          <strong>{{$t(\"project-connections\")}}</strong>\n        </div>\n      </div>\n      <div class=\"tile is-parent\">\n        <div class=\"tile is-child box single-metric\">\n          <div class=\"absolute-info-circle\">\n            <v-popover>\n              <i class=\"fas fa-info-circle\"></i>\n              <template #popover>\n                <p>{{$t(\"image-consultations-info-message\")}}</p>\n              </template>\n            </v-popover>\n          </div>\n          <strong class=\"metric\">{{nbImageConsultations != null ? nbImageConsultations : \"?\"}}</strong>\n          <strong>{{$t(\"image-consultations\")}}</strong>\n        </div>\n      </div>\n      <div class=\"tile is-parent\">\n        <div class=\"tile is-child box single-metric\">\n          <div class=\"absolute-info-circle\">\n            <v-popover>\n              <i class=\"fas fa-info-circle\"></i>\n              <template #popover>\n                <p>{{$t(\"annotation-selections-info-message\")}}</p>\n              </template>\n            </v-popover>\n          </div>\n          <strong class=\"metric\">{{nbAnnotationSelections != null ? nbAnnotationSelections : \"?\"}}</strong>\n          <strong>{{$t(\"annotation-selections\")}}</strong>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"tile\">\n    <div class=\"tile is-vertical single-metrics\">\n      <div class=\"tile is-parent\">\n        <div class=\"tile is-child box single-metric\">\n          <div class=\"absolute-info-circle\">\n            <v-popover>\n              <i class=\"fas fa-info-circle\"></i>\n              <template #popover>\n                <p>{{$t(\"manual-annotations-info-message\")}}</p>\n              </template>\n            </v-popover>\n          </div>\n          <strong class=\"metric\">\n            {{ nbAnnotations[annotationTypes.USER] != null ? nbAnnotations[annotationTypes.USER] : \"?\" }}\n          </strong>\n          <strong>{{$t(\"user-annotations\")}}</strong>\n        </div>\n      </div>\n      <div class=\"tile is-parent\">\n        <div class=\"tile is-child box single-metric\">\n          <div class=\"absolute-info-circle\">\n            <v-popover>\n              <i class=\"fas fa-info-circle\"></i>\n              <template #popover>\n                <p>{{$t(\"analysis-annotations-info-message\")}}</p>\n              </template>\n            </v-popover>\n          </div>\n          <strong class=\"metric\">\n            {{ nbAnnotations[annotationTypes.ALGO] != null ? nbAnnotations[annotationTypes.ALGO] : \"?\" }}\n          </strong>\n          <strong>{{$t(\"analysis-annotations\")}}</strong>\n        </div>\n      </div>\n      <div class=\"tile is-parent\">\n        <div class=\"tile is-child box single-metric\">\n          <div class=\"absolute-info-circle\">\n            <v-popover>\n              <i class=\"fas fa-info-circle\"></i>\n              <template #popover>\n                <p>{{$t(\"reviewed-annotations-info-message\")}}</p>\n              </template>\n            </v-popover>\n          </div>\n          <strong class=\"metric\">\n            {{ nbAnnotations[annotationTypes.REVIEWED] != null ? nbAnnotations[annotationTypes.REVIEWED] : \"?\" }}\n          </strong>\n          <strong>{{$t(\"reviewed-annotations\")}}</strong>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"tile is-parent\">\n      <div class=\"tile is-child box chart-box\">\n        <div class=\"columns\">\n          <h2 class=\"column\">{{$t(\"number-annotations\")}}</h2>\n          <template v-if=\"ontology\">\n            <div class=\"column is-narrow has-text-right\">\n              <div class=\"filter-label\">{{$t(\"term\")}}</div>\n            </div>\n            <div class=\"column is-one-third\">\n              <ontology-tree-multiselect\n                :ontology=\"ontology\"\n                :additionalNodes=\"[{id: 0, name: this.$t('all')}]\"\n                :startWithAdditionalNodes=\"true\"\n                :multiple=\"false\"\n                v-model=\"selectedTerms\"\n              />\n            </div>\n          </template>\n          <div class=\"column is-narrow is-info-circle\">\n            <v-popover>\n              <i class=\"fas fa-info-circle\"></i>\n              <template #popover>\n                <p>{{$t(\"number-annotations-chart-info-message\")}}</p>\n                <p>{{$t(\"barchart-hover-mouse-for-details\")}}</p>\n                <p>{{$t(\"barchart-click-label-to-toggle-visibility\")}}</p>\n              </template>\n            </v-popover>\n          </div>\n        </div>\n        <div class=\"chart-container big\">\n          <number-annotations-chart css-classes=\"chart\"\n            :project=\"project\"\n            :startDate=\"startDate\"\n            :endDate=\"endDate\"\n            :daysRange=\"daysRange\"\n            :term=\"selectedTerms[0] || null\"\n          /> <!-- If option \"all term\" (id 0) was selected, return null instead -->\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"tile\" v-if=\"ontology\">\n    <div class=\"tile is-6 is-parent is-vertical\">\n      <div class=\"tile is-child box chart-box no-grow\">\n        <div class=\"columns\">\n          <h2 class=\"column\">{{$t(\"manual-annotations-vs-term\")}}</h2>\n          <div class=\"column is-narrow is-info-circle\">\n            <v-popover>\n              <i class=\"fas fa-info-circle\"></i>\n              <template #popover>\n                <p>{{$t(\"annotations-vs-terms-chart-info-message\")}}</p>\n              </template>\n            </v-popover>\n          </div>\n        </div>\n        <div class=\"chart-container\" :style=\"styleAnnotationTermChart\">\n          <annotation-term-chart\n            css-classes=\"chart\"\n            :project=\"project\"\n            :startDate=\"startDate\"\n            :endDate=\"endDate\"\n            @nbElems=\"val => nbElemsAnnotationTermChart = val\"\n          />\n        </div>\n      </div>\n    </div>\n    <div class=\"tile is-6 is-parent is-vertical\">\n      <div class=\"tile is-child box chart-box no-grow\">\n        <div class=\"columns\">\n          <h2 class=\"column\">{{$t(\"annotated-images-vs-term\")}}</h2>\n          <div class=\"column is-narrow is-info-circle\">\n            <v-popover>\n              <i class=\"fas fa-info-circle\"></i>\n              <template #popover>\n                <p>{{$t(\"annotated-images-vs-terms-chart-info-message\")}}</p>\n              </template>\n            </v-popover>\n          </div>\n        </div>\n        <div class=\"chart-container\" :style=\"styleAnnotationTermChart\">\n          <annotated-images-by-term-chart\n            css-classes=\"chart\"\n            :project=\"project\"\n            :startDate=\"startDate\"\n            :endDate=\"endDate\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"tile\">\n    <div class=\"tile is-6 is-parent is-vertical\">\n      <div class=\"tile is-child box chart-box no-grow\">\n        <div class=\"columns\">\n          <h2 class=\"column\">{{$t(\"manual-annotations-vs-contributor\")}}</h2>\n          <div class=\"column is-narrow is-info-circle\">\n            <v-popover>\n              <i class=\"fas fa-info-circle\"></i>\n              <template #popover>\n                <p>{{$t(\"annotations-vs-contributors-chart-info-message\")}}</p>\n              </template>\n            </v-popover>\n          </div>\n        </div>\n        <div class=\"chart-container\" :style=\"styleAnnotationContributorChart\">\n          <annotation-contributor-chart\n            css-classes=\"chart\"\n            :project=\"project\"\n            :startDate=\"startDate\"\n            :endDate=\"endDate\"\n            @nbElems=\"val => nbElemsAnnotationContributorChart = val\"\n          />\n        </div>\n      </div>\n    </div>\n    <div class=\"tile is-6 is-parent is-vertical\">\n      <div class=\"tile is-child box chart-box no-grow\">\n        <div class=\"columns\">\n          <h2 class=\"column\">{{$t(\"annotated-images-vs-contributor\")}}</h2>\n          <div class=\"column is-narrow is-info-circle\">\n            <v-popover>\n              <i class=\"fas fa-info-circle\"></i>\n              <template #popover>\n                <p>{{$t(\"annotated-images-vs-contributors-chart-info-message\")}}</p>\n              </template>\n            </v-popover>\n          </div>\n        </div>\n        <div class=\"chart-container\" :style=\"styleAnnotationContributorChart\">\n          <annotated-images-by-contributor-chart\n            css-classes=\"chart\"\n            :project=\"project\"\n            :startDate=\"startDate\"\n            :endDate=\"endDate\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport NumberAnnotationsChart from '@/components/charts/NumberAnnotationsChart.js';\nimport AnnotationTermChart from '@/components/charts/AnnotationTermChart.js';\nimport AnnotatedImagesByTermChart from '@/components/charts/AnnotatedImagesByTermChart.js';\nimport AnnotationContributorChart from '@/components/charts/AnnotationContributorChart.js';\nimport AnnotatedImagesByContributorChart from '@/components/charts/AnnotatedImagesByContributorChart.js';\nimport ActivityOverviewChart from '@/components/charts/ActivityOverviewChart.js';\nimport OntologyTreeMultiselect from '@/components/ontology/OntologyTreeMultiselect';\n\nimport {AnnotationType} from 'cytomine-client';\n\nexport default {\n  name: 'project-activity-charts',\n  props: {\n    startDate: Number,\n    endDate: Number\n  },\n  components: {\n    NumberAnnotationsChart,\n    AnnotationTermChart,\n    AnnotatedImagesByTermChart,\n    AnnotationContributorChart,\n    AnnotatedImagesByContributorChart,\n    ActivityOverviewChart,\n    OntologyTreeMultiselect\n  },\n  data() {\n    return {\n      loading: true,\n      nbProjectVisits: null,\n      nbImageConsultations: null,\n      nbAnnotationSelections: null,\n      nbAnnotations: {\n        [AnnotationType.USER]: null,\n        [AnnotationType.ALGO]: null,\n        [AnnotationType.REVIEWED]: null\n      },\n      selectedTerms: [0],\n      nbElemsAnnotationTermChart: 0,\n      nbElemsAnnotationContributorChart: 0\n    };\n  },\n  computed: {\n    project: get('currentProject/project'),\n    ontology: get('currentProject/ontology'),\n    queryParams() {\n      return {\n        startDate: this.startDate,\n        endDate: this.endDate\n      };\n    },\n    annotationTypes() {\n      return AnnotationType;\n    },\n    daysRange() { // duration of the intervals in evolution plots (depends on the length of the considered period)\n      let dayDuration = 24*60*60*1000;\n      let intervalDuration = (this.endDate || new Date().getTime()) - (this.startDate || this.project.created);\n\n      if(intervalDuration > 365*2*dayDuration) {\n        // large period => find a daysRange resulting in around 30 points\n        return Math.round(intervalDuration / dayDuration / 30);\n      }\n      else if(intervalDuration > 365*dayDuration) {\n        return 28;\n      }\n      else if(intervalDuration > 6*31*dayDuration) {\n        return 14;\n      }\n      else if(intervalDuration > 31*dayDuration) {\n        return 7;\n      }\n      else {\n        return 1;\n      }\n    },\n    styleAnnotationTermChart() {\n      return {\n        height: (30+this.nbElemsAnnotationTermChart*25) + 'px'\n      };\n    },\n    styleAnnotationContributorChart() {\n      return {\n        height: (30+this.nbElemsAnnotationContributorChart*25) + 'px'\n      };\n    }\n  },\n  watch: {\n    startDate() {\n      this.loadData();\n    },\n    endDate() {\n      this.loadData();\n    }\n  },\n  methods: {\n    async fetchNbConnections() {\n      this.nbProjectVisits = null;\n      this.nbProjectVisits = await this.project.fetchNbConnections(this.queryParams);\n    },\n    async fetchNbImageConsultations() {\n      this.nbImageConsultations = null;\n      this.nbImageConsultations = await this.project.fetchNbImageConsultations(this.queryParams);\n    },\n    async fetchNbAnnotationSelections() {\n      this.nbAnnotationSelections = null;\n      this.nbAnnotationSelections = await this.project.fetchNbAnnotationActions({type: 'select', ...this.queryParams});\n    },\n    async fetchNbAnnotations(type) {\n      this.nbAnnotations[type] = null;\n      this.nbAnnotations[type] = await this.project.fetchNbAnnotations({annotationType: type, ...this.queryParams});\n    },\n    async loadData() {\n      await Promise.all([\n        this.fetchNbConnections(),\n        this.fetchNbImageConsultations(),\n        this.fetchNbAnnotationSelections(),\n        this.fetchNbAnnotations(AnnotationType.USER),\n        this.fetchNbAnnotations(AnnotationType.ALGO),\n        this.fetchNbAnnotations(AnnotationType.REVIEWED)\n      ].map(p => p.catch(e => console.log(e)))); // ignore errors (handled in template) and ensure all promises finish, even if some errors occur in the process);\n    }\n  },\n  async created() {\n    await this.loadData();\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\nh2 {\n  font-size: 1.2rem;\n  margin-bottom: 0.5em;\n}\n\n.single-metrics {\n  flex-grow: 0;\n  min-width: 20em;\n}\n\n.single-metric strong {\n  display: block;\n  text-align: center;\n}\n\n.single-metric .metric {\n  font-size: 1.5em;\n}\n\n.chart-box {\n  display: flex;\n  flex-direction: column;\n}\n\n.chart-container {\n  position: relative;\n}\n\n.no-grow {\n  flex-grow: 0 !important;\n}\n\n.chart-container.big {\n  min-height: 20em;\n}\n\n.columns {\n  align-items: center;\n}\n\n.filter-label {\n  margin-bottom: 0 !important;\n}\n\n.column.is-info-circle {\n  padding-top: 0;\n  margin-top: -1em;\n  margin-left: 1em;\n}\n\n.fas.fa-info-circle {\n  font-size: 1.25em;\n  cursor: pointer;\n}\n\n.tile {\n  position: relative;\n}\n\n.tile > .columns {\n  margin-bottom: -0.5rem !important;\n}\n\n.absolute-info-circle {\n  position: absolute;\n  top: 0.75em;\n  right: 1em;\n}\n</style>\n\n<style>\n.project-activity-charts-wrapper .chart {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityCharts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityCharts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectActivityCharts.vue?vue&type=template&id=3e3ea781&scoped=true&\"\nimport script from \"./ProjectActivityCharts.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectActivityCharts.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectActivityCharts.vue?vue&type=style&index=0&id=3e3ea781&scoped=true&lang=css&\"\nimport style1 from \"./ProjectActivityCharts.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e3ea781\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.loading)?_c('div',{staticClass:\"box\"},[(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('div',{staticClass:\"columns\"},[_c('h2',{staticClass:\"column is-marginless\"},[_vm._v(_vm._s(_vm.$t('members-activity')))]),_c('p',{staticClass:\"column has-text-right is-size-7 has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('data-last-updated-on', {time: _vm.$options.filters.moment(_vm.lastUpdate, 'LTS')}))+\" \")])]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('div',{staticClass:\"column\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.filtersOpened = !_vm.filtersOpened}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-filter\"})]),_c('span',[_vm._v(_vm._s(_vm.filtersOpened ? _vm.$t('button-hide-filters') : _vm.$t('button-show-filters')))])])])]),_c('b-collapse',{attrs:{\"open\":_vm.filtersOpened}},[_c('div',{staticClass:\"filters columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('status'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableStatus,\"multiple\":\"\",\"searchable\":false},model:{value:(_vm.selectedStatus),callback:function ($$v) {_vm.selectedStatus=$$v},expression:\"selectedStatus\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('role'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableRoles,\"multiple\":\"\",\"searchable\":false},model:{value:(_vm.selectedRoles),callback:function ($$v) {_vm.selectedRoles=$$v},expression:\"selectedRoles\"}})],1)])])]),_c('b-table',{attrs:{\"data\":_vm.filteredMembers,\"default-sort\":\"username\",\"paginated\":true,\"per-page\":_vm.perPage,\"pagination-size\":\"is-small\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar member = ref.row;\nreturn [_c('b-table-column',{attrs:{\"field\":\"username\",\"label\":_vm.$t('username'),\"sortable\":\"\",\"width\":\"100\"}},[_c('username',{attrs:{\"user\":member,\"online\":_vm.onlineIds ? _vm.onlineIds.includes(member.id) : null,\"displayFullName\":false}})],1),_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(member.name)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"role\",\"label\":_vm.$t('role'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"20\"}},[_c('icon-project-member-role',{attrs:{\"is-manager\":member.role === _vm.managerRole}})],1),_c('b-table-column',{attrs:{\"field\":\"lastImageName\",\"label\":_vm.$t('last-image'),\"sortable\":\"\",\"width\":\"100\"}},[(member.lastImageId)?[_c('router-link',{attrs:{\"to\":(\"/project/\" + (_vm.project.id) + \"/image/\" + (member.lastImageId))}},[_vm._v(\" \"+_vm._s(member.lastImageName)+\" \")])]:_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-record')))])],2),_c('b-table-column',{attrs:{\"field\":\"lastConnection\",\"label\":_vm.$t('last-connection'),\"sortable\":\"\",\"width\":\"100\"}},[(member.lastConnection)?[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(member.lastConnection),'ll LT'))+\" \")]:_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-record')))])],2),_c('b-table-column',{attrs:{\"field\":\"frequency\",\"label\":_vm.$t('number-connections'),\"sortable\":\"\",\"width\":\"100\"}},[_vm._v(\" \"+_vm._s(member.frequency)+\" \")]),_c('b-table-column',{attrs:{\"label\":\"\",\"centered\":\"\",\"width\":\"50\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":(\"/project/\" + (_vm.project.id) + \"/activity/user/\" + (member.id))}},[_vm._v(\" \"+_vm._s(_vm.$t('button-details'))+\" \")])],1)]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-member-fitting-criteria')))])])]},proxy:true},(_vm.isManager)?{key:\"footer\",fn:function(){return [_c('p',{staticClass:\"has-text-centered\"},[_c('router-link',{staticClass:\"button is-link add-member\",attrs:{\"to\":(\"/project/\" + (_vm.project.id) + \"/configuration?tab=members\")}},[_vm._v(\" \"+_vm._s(_vm.$t('button-manage-members'))+\" \")])],1)]},proxy:true}:null,{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}],null,true)}),_c('div',{staticClass:\"legend\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('legend')))]),_c('p',[_c('icon-project-member-role'),_vm._v(\" : \"+_vm._s(_vm.$t('project-contributor')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('project-manager')))],1)])]],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n  <div class=\"box\" v-if=\"!loading\">\n    <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n      <h2> {{ $t('error') }} </h2>\n      <p> {{ $t('unexpected-error-info-message') }} </p>\n    </b-message>\n    <template v-else>\n      <div class=\"columns\">\n        <h2 class=\"column is-marginless\">{{$t('members-activity')}}</h2>\n        <p class=\"column has-text-right is-size-7 has-text-grey\">\n          {{$t('data-last-updated-on', {time: $options.filters.moment(lastUpdate, 'LTS')})}}\n        </p>\n      </div>\n\n      <div class=\"columns\">\n        <div class=\"column is-one-quarter\">\n          <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\n        </div>\n\n        <div class=\"column\">\n          <button class=\"button\" @click=\"filtersOpened = !filtersOpened\">\n            <span class=\"icon\">\n              <i class=\"fas fa-filter\"></i>\n            </span>\n            <span>{{filtersOpened ? $t('button-hide-filters') : $t('button-show-filters')}}</span>\n          </button>\n        </div>\n      </div>\n\n      <b-collapse :open=\"filtersOpened\">\n        <div class=\"filters columns\">\n          <div class=\"column filter\">\n            <div class=\"filter-label\">\n              {{$t('status')}}\n            </div>\n            <div class=\"filter-body\">\n              <cytomine-multiselect v-model=\"selectedStatus\" :options=\"availableStatus\" multiple\n                :searchable=\"false\" />\n            </div>\n          </div>\n\n          <div class=\"column filter\">\n            <div class=\"filter-label\">\n              {{$t('role')}}\n            </div>\n            <div class=\"filter-body\">\n              <cytomine-multiselect v-model=\"selectedRoles\" :options=\"availableRoles\" multiple\n                :searchable=\"false\" />\n            </div>\n          </div>\n        </div>\n      </b-collapse>\n\n      <b-table\n        :data=\"filteredMembers\"\n        default-sort=\"username\"\n        :paginated=\"true\"\n        :per-page=\"perPage\"\n        pagination-size=\"is-small\"\n      >\n        <template #default=\"{row: member}\">\n          <b-table-column field=\"username\" :label=\"$t('username')\" sortable width=\"100\">\n            <username :user=\"member\" :online=\"onlineIds ? onlineIds.includes(member.id) : null\" :displayFullName=\"false\" />\n          </b-table-column>\n\n          <b-table-column field=\"name\" :label=\"$t('name')\" sortable width=\"150\">\n            {{ member.name }}\n          </b-table-column>\n\n          <b-table-column field=\"role\" :label=\"$t('role')\" centered sortable width=\"20\">\n            <icon-project-member-role :is-manager=\"member.role === managerRole\" />\n          </b-table-column>\n\n          <b-table-column field=\"lastImageName\" :label=\"$t('last-image')\" sortable width=\"100\">\n            <template v-if=\"member.lastImageId\">\n              <router-link :to=\"`/project/${project.id}/image/${member.lastImageId}`\">\n                {{member.lastImageName}}\n              </router-link>\n            </template>\n            <em v-else class=\"has-text-grey\">{{$t('no-record')}}</em>\n          </b-table-column>\n\n          <b-table-column field=\"lastConnection\" :label=\"$t('last-connection')\" sortable width=\"100\">\n            <template v-if=\"member.lastConnection\">\n              {{Number(member.lastConnection) | moment('ll LT')}}\n            </template>\n            <em v-else class=\"has-text-grey\">{{$t('no-record')}}</em>\n          </b-table-column>\n\n          <b-table-column field=\"frequency\" :label=\"$t('number-connections')\" sortable width=\"100\">\n            {{member.frequency}}\n          </b-table-column>\n\n          <b-table-column label=\"\" centered width=\"50\">\n            <router-link :to=\"`/project/${project.id}/activity/user/${member.id}`\" class=\"button is-small is-link\">\n              {{$t('button-details')}}\n            </router-link>\n          </b-table-column>\n        </template>\n\n        <template #empty>\n          <div class=\"content has-text-grey has-text-centered\">\n            <p>{{$t('no-member-fitting-criteria')}}</p>\n          </div>\n        </template>\n\n        <template #footer v-if=\"isManager\">\n          <p class=\"has-text-centered\">\n            <router-link class=\"button is-link add-member\" :to=\"`/project/${project.id}/configuration?tab=members`\">\n              {{$t('button-manage-members')}}\n            </router-link>\n          </p>\n        </template>\n\n        <template #bottom-left>\n          <b-select v-model=\"perPage\" size=\"is-small\">\n            <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\n            <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\n            <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\n            <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\n          </b-select>\n        </template>\n      </b-table>\n\n      <div class=\"legend\">\n        <h2>{{$t('legend')}}</h2>\n        <p><icon-project-member-role /> : {{$t('project-contributor')}}</p>\n        <p><icon-project-member-role :is-manager=\"true\" /> : {{$t('project-manager')}}</p>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\nimport Username from '@/components/user/Username';\n\nimport constants from '@/utils/constants.js';\nimport {getWildcardRegexp} from '@/utils/string-utils';\nimport IconProjectMemberRole from '@/components/icons/IconProjectMemberRole';\n\nexport default {\n  name: 'members-activity',\n  components: {\n    IconProjectMemberRole,\n    CytomineMultiselect,\n    Username\n  },\n  data() {\n    return {\n      loading: true,\n      error: false,\n\n      searchString: '',\n      filtersOpened: false,\n      perPage: 25,\n      members: [],\n      onlineIds: null,\n\n      contributorRole: this.$t('contributor'),\n      managerRole: this.$t('manager'),\n      availableRoles: [],\n      selectedRoles: [],\n\n      onlineStatus: this.$t('online'),\n      offlineStatus: this.$t('offline'),\n      availableStatus: [],\n      selectedStatus: [],\n\n      lastUpdate: null,\n      timeout: null\n    };\n  },\n  computed: {\n    project: get('currentProject/project'),\n    isManager() {\n      return this.$store.getters['currentProject/canManageProject'];\n    },\n    idManagers() {\n      return this.$store.state.currentProject.managers.map(manager => manager.id);\n    },\n    regexp() {\n      return getWildcardRegexp(this.searchString);\n    },\n    filteredMembers() {\n      let statusKnown = Boolean(this.onlineIds); // whether or not the info regarding online users could be fetched\n      let includeOnline = this.selectedStatus.includes(this.onlineStatus);\n      let includeOffline = this.selectedStatus.includes(this.offlineStatus);\n      return this.members.filter(member => {\n        let online = statusKnown ? this.onlineIds.includes(member.id) : null;\n        return (this.regexp.test(member.name) || this.regexp.test(member.username))\n                    && (!statusKnown || (includeOnline && online) || (includeOffline && !online))\n                    && this.selectedRoles.includes(member.role);\n      });\n    }\n  },\n  methods: {\n    async fetchData() {\n      try {\n        await Promise.all([\n          this.fetchMembers(),\n          this.fetchOnlines()\n        ]);\n      }\n      catch(error) {\n        console.log(error);\n        this.error = true;\n        return;\n      }\n\n      this.lastUpdate = new Date();\n      clearTimeout(this.timeout);\n      this.timeout = setTimeout(this.fetchData, constants.MEMBERS_ACTIVITY_REFRESH_INTERVAL);\n    },\n    async fetchMembers() {\n      let members = (await this.project.fetchUsersActivity()).array;\n      members.forEach(member => {\n        member.name = `${member.firstname} ${member.lastname}`;\n        member.role = this.idManagers.includes(member.id) ? this.managerRole : this.contributorRole;\n      });\n      this.members = members;\n    },\n    async fetchOnlines() {\n      try {\n        let onlines = await this.project.fetchConnectedUsers();\n        this.onlineIds = onlines.map(o => o.id);\n      }\n      catch(error) {\n        console.log(error);\n        this.onlineIds = null;\n      }\n    }\n  },\n  async created() {\n    this.availableRoles = [this.contributorRole, this.managerRole];\n    this.selectedRoles = this.availableRoles;\n\n    this.availableStatus = [this.onlineStatus, this.offlineStatus];\n    this.selectedStatus = this.availableStatus;\n  },\n  async activated() {\n    await this.fetchData();\n    this.loading = false;\n  },\n  deactivated() {\n    clearTimeout(this.timeout);\n  }\n};\n</script>\n\n<style scoped>\n.legend {\n  margin-top: 0.8rem;\n  margin-bottom: 1rem;\n  border-radius: 10px;\n  padding: 1.4em;\n  background: #f8f8f8;\n}\n\n.fas.fa-user-cog {\n  width: 20px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MembersActivity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MembersActivity.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MembersActivity.vue?vue&type=template&id=819454d2&scoped=true&\"\nimport script from \"./MembersActivity.vue?vue&type=script&lang=js&\"\nexport * from \"./MembersActivity.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MembersActivity.vue?vue&type=style&index=0&id=819454d2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"819454d2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tile is-child box last-actions\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('activity-logs')))]),_c('b-select',{model:{value:(_vm.selectedUser),callback:function ($$v) {_vm.selectedUser=$$v},expression:\"selectedUser\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.$t('all-users-analyses')))]),_c('optgroup',{attrs:{\"label\":_vm.$t('members')}},_vm._l((_vm.members),function(member){return _c('option',{key:member.id,domProps:{\"value\":member.id}},[_vm._v(_vm._s(member.fullName))])}),0),_c('optgroup',{attrs:{\"label\":_vm.$t('analyses')}},_vm._l((_vm.userJobs),function(uJob){return _c('option',{key:uJob.id,domProps:{\"value\":uJob.id}},[_vm._v(_vm._s(uJob.fullName))])}),0)]),_c('activity-logs',{attrs:{\"idUser\":_vm.selectedUser,\"startDate\":_vm.startDate,\"endDate\":_vm.endDate,\"project\":_vm.project}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):(_vm.actions.length > 0)?_c('div',{ref:\"listActions\",staticClass:\"list-actions\",on:{\"scroll\":_vm.scrollHandler}},[_vm._l((_vm.formattedActions),function(month,idx){return _c('div',{key:idx},[_c('h3',[_vm._v(_vm._s(_vm._f(\"moment\")(month.refDate,'MMMM YYYY')))]),_vm._l((month.days),function(day,idx){return _c('div',{key:idx},[_c('h4',[_vm._v(_vm._s(_vm._f(\"moment\")(day.refDate,'ll')))]),_c('ul',_vm._l((day.actions),function(action){return _c('activity-logs-item',{key:action.id,attrs:{\"action\":action}})}),1)])})],2)}),(!_vm.loadedAllActions)?_c('button',{staticClass:\"button\",class:{'is-loading': _vm.loading},on:{\"click\":function($event){return _vm.loadActions()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-load-more'))+\" \")]):_vm._e()],2):_c('div',{staticClass:\"no-result\"},[_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-log-to-display')))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{key:_vm.action.id},[_c('strong',[_vm._v(_vm._s(_vm._f(\"moment\")(Number(_vm.action.created),'l LTS'))+\":\")]),_c('span',{staticClass:\"content\",on:{\"mouseenter\":_vm.enter,\"mouseleave\":_vm.leave}},[(_vm.route)?_c('router-link',{attrs:{\"to\":_vm.route}},[_vm._v(\" \"+_vm._s(_vm.action.message)+\" \")]):[_vm._v(_vm._s(_vm.action.message))]],2),(_vm.previewUrl)?_c('div',{staticClass:\"preview\",class:{visible: _vm.showPreview}},[_c('div',{staticClass:\"box\"},[_c('img',{attrs:{\"src\":_vm.previewUrl}})])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<li :key=\"action.id\">\n  <strong>{{Number(action.created) | moment('l LTS')}}:</strong>\n  <span class=\"content\" @mouseenter=\"enter\" @mouseleave=\"leave\">\n    <router-link v-if=\"route\" :to=\"route\">\n      {{action.message}}\n    </router-link>\n    <template v-else>{{action.message}}</template>\n  </span>\n  <div v-if=\"previewUrl\" class=\"preview\" :class=\"{visible: showPreview}\">\n    <div class=\"box\">\n      <img :src=\"previewUrl\" />\n    </div>\n  </div>\n</li>\n</template>\n\n<script>\nconst ANNOT = 1;\nconst IMAGE = 2;\nconst PROJECT = 3;\n\nexport default {\n  name: 'activity-logs-item',\n  props: {\n    action: Object\n  },\n  data() {\n    return {\n      showPreview: false,\n      previewUrl: null,\n      route: null\n    };\n  },\n  computed: {\n    actionData() {\n      return JSON.parse(this.action.data);\n    },\n    type() {\n      switch(this.action.serviceName) {\n        case 'userAnnotationService':\n        case 'reviewedAnnotationService':\n        case 'algoAnnotationService':\n          return ANNOT;\n        case 'imageInstanceService':\n          return IMAGE;\n        case 'projectService':\n          return PROJECT;\n      }\n    }\n  },\n  methods: {\n    enter() {\n      this.showPreview = true;\n    },\n    leave() {\n      this.showPreview = false;\n    },\n    annotationHandler(annot) {\n      this.previewUrl = `${annot.url}?maxSize=125&complete=true&thickness=2&increaseArea=1.25&draw=true`;\n      this.route = `/project/${annot.project}/image/${annot.image}/annotation/${annot.id}`;\n    },\n    imageHandler(img) {\n      if(img.deleted) {\n        return;\n      }\n      this.previewUrl = img.thumb;\n      this.route = `/project/${img.project}/image/${img.id}`;\n    },\n    projectHandler(project) {\n      this.route = `/project/${project.id}`;\n    },\n    addCommandHandler() {\n      switch(this.type) {\n        case ANNOT:\n          this.annotationHandler(this.actionData);\n          break;\n        case IMAGE:\n          this.imageHandler(this.actionData);\n          break;\n        case PROJECT:\n          this.projectHandler(this.actionData);\n          break;\n      }\n    },\n    editCommandHandler() {\n      switch(this.type) {\n        case ANNOT:\n          // erratic core behaviour -> need to keep the defined new?Annotation property\n          this.annotationHandler(\n            this.actionData.newUserAnnotation ||\n            this.actionData.newReviewedAnnotation ||\n            this.actionData.newAlgoAnnotation ||\n            this.actionData.newAnnotation\n          );\n          break;\n        case IMAGE:\n          this.imageHandler(this.actionData.newImageInstance);\n          break;\n      }\n    }\n  },\n  created() {\n    switch(this.action.className) {\n      case 'be.cytomine.command.AddCommand':\n        this.addCommandHandler();\n        break;\n      case 'be.cytomine.command.EditCommand':\n        this.editCommandHandler();\n        break;\n      case 'be.cytomine.command.DeleteCommand':\n        // object no longer available => cannot display preview or provide link\n        break;\n      default:\n        console.log('Unknown command type ' + this.action.className);\n    }\n  }\n};\n</script>\n\n<style scoped>\nli {\n  padding: 0.25em 2em;\n  position: relative;\n}\n\nli:hover {\n  background: rgba(0, 0, 0, 0.025);\n}\n\n.content {\n  margin-left: 0.35em;\n}\n\n.preview {\n  display: none;\n  position: absolute;\n  top: 1.75em;\n  left: 15em;\n  z-index: 100;\n}\n\n.preview.visible {\n  display: block;\n}\n\n.preview img {\n  max-height: 300px;\n  max-width: 300px;\n}\n\n.box {\n  padding: 0.7em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityLogsItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityLogsItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ActivityLogsItem.vue?vue&type=template&id=905a3ede&scoped=true&\"\nimport script from \"./ActivityLogsItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ActivityLogsItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ActivityLogsItem.vue?vue&type=style&index=0&id=905a3ede&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"905a3ede\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n  <h2> {{ $t('error') }} </h2>\n  <p> {{ $t('unexpected-error-info-message') }} </p>\n</b-message>\n<div class=\"list-actions\" @scroll=\"scrollHandler\" ref=\"listActions\" v-else-if=\"actions.length > 0\">\n  <div v-for=\"(month, idx) in formattedActions\" :key=\"idx\">\n    <h3>{{month.refDate | moment('MMMM YYYY')}}</h3>\n    <div v-for=\"(day, idx) in month.days\" :key=\"idx\">\n      <h4>{{day.refDate | moment('ll')}}</h4>\n      <ul>\n        <activity-logs-item v-for=\"action in day.actions\" :action=\"action\" :key=\"action.id\" />\n      </ul>\n    </div>\n  </div>\n\n  <button class=\"button\" :class=\"{'is-loading': loading}\" v-if=\"!loadedAllActions\" @click=\"loadActions()\">\n    {{$t('button-load-more')}}\n  </button>\n</div>\n<div class=\"no-result\" v-else>\n  <em class=\"has-text-grey\">{{$t('no-log-to-display')}}</em>\n</div>\n</template>\n\n<script>\nimport {Project} from 'cytomine-client';\nimport moment from 'moment';\nimport _ from 'lodash';\n\nimport ActivityLogsItem from './ActivityLogsItem';\n\nexport default {\n  name: 'activity-logs',\n  props: {\n    startDate: Number,\n    endDate: Number,\n    idUser: Number,\n    project: Object\n  },\n  components: {ActivityLogsItem},\n  data() {\n    return {\n      loading: true,\n      error: false,\n\n      offset: 0,\n      nbActionsPerPage: 50,\n      loadedAllActions: false,\n\n      actions: []\n    };\n  },\n  computed: {\n    params() {\n      return {\n        user: this.idUser,\n        startDate: this.startDate,\n        endDate: this.endDate,\n        project: this.project ? this.project.id : null,\n        fullData: true\n      };\n    },\n    formattedActions() {\n      let results = [];\n      let lastDate = null;\n      let idxMonths = -1;\n      let idxDays = -1;\n      for(let i = 0; i < this.actions.length; i++) {\n        let action = this.actions[i];\n        let date = moment(Number(action.created));\n        if(!lastDate || !date.isSame(lastDate, 'day')) {\n          if(!lastDate || !date.isSame(lastDate, 'month')) {\n            results.push({\n              refDate: Number(action.created),\n              days: []\n            });\n            idxMonths++;\n            idxDays = -1;\n          }\n\n          results[idxMonths].days.push({refDate: Number(action.created), actions: [action]});\n          idxDays++;\n        }\n        else {\n          results[idxMonths].days[idxDays].actions.push(action);\n        }\n        lastDate = date;\n      }\n\n      return results;\n    }\n  },\n  watch: {\n    params() {\n      this.loadActions(false);\n    }\n  },\n  methods: {\n    scrollHandler: _.debounce(function() {\n      let scrollBlock = this.$refs.listActions;\n      let bottom = (scrollBlock.scrollTop + scrollBlock.clientHeight === scrollBlock.scrollHeight);\n\n      if (bottom && !this.loadedAllActions) {\n        this.loadActions();\n      }\n    }, 100),\n\n    async loadActions(append=true) {\n      this.loading = true;\n      if(!append) {\n        this.actions = [];\n        this.offset = 0;\n        this.loadedAllActions = false;\n      }\n\n      try {\n        let data = await Project.fetchCommandHistory({\n          max: this.nbActionsPerPage,\n          offset: this.offset,\n          ...this.params\n        });\n\n        this.actions.push(...data);\n        this.offset += this.nbActionsPerPage;\n\n        if(data.length < this.nbActionsPerPage) {\n          this.loadedAllActions = true;\n        }\n      }\n      catch(error) {\n        console.log(error);\n        this.error = true;\n      }\n\n      this.loading = false;\n    }\n  },\n  async created() {\n    try {\n      await this.loadActions();\n    }\n    catch(error) {\n      console.log(error);\n      this.error = true;\n    }\n\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\n.message {\n  margin-top: 1em;\n}\n\n.list-actions {\n  overflow: auto;\n  margin-top: 1em;\n}\n\n.no-result {\n  margin-top: 1em;\n}\n\nh3 {\n  font-weight: bold;\n  color: #555;\n}\n\n.list-actions div:not(:first-child) h3 {\n  padding: 0.5em 0;\n  margin-top: 1em;\n  border-top: rgba(0, 0, 0, 0.1) 2px solid;\n}\n\nh4 {\n  padding: 0.9em 1.2em 0.9em;\n  color: #aaa;\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: 0.9rem;\n}\n\n.button {\n  display: block;\n  margin: auto;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityLogs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityLogs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ActivityLogs.vue?vue&type=template&id=03cb74c6&scoped=true&\"\nimport script from \"./ActivityLogs.vue?vue&type=script&lang=js&\"\nexport * from \"./ActivityLogs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ActivityLogs.vue?vue&type=style&index=0&id=03cb74c6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03cb74c6\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"tile is-child box last-actions\">\n  <h2>{{$t('activity-logs')}}</h2>\n\n  <b-select v-model=\"selectedUser\">\n    <option :value=\"null\">{{$t('all-users-analyses')}}</option>\n    <optgroup :label=\"$t('members')\">\n      <option v-for=\"member in members\" :value=\"member.id\" :key=\"member.id\">{{member.fullName}}</option>\n    </optgroup>\n    <optgroup :label=\"$t('analyses')\">\n      <option v-for=\"uJob in userJobs\" :value=\"uJob.id\" :key=\"uJob.id\">{{uJob.fullName}}</option>\n    </optgroup>\n  </b-select>\n\n  <activity-logs :idUser=\"selectedUser\" :startDate=\"startDate\" :endDate=\"endDate\" :project=\"project\" />\n</div>\n</template>\n\n<script>\nimport {UserJobCollection} from 'cytomine-client';\n\nimport {get} from '@/utils/store-helpers';\nimport {fullName} from '@/utils/user-utils.js';\n\nimport ActivityLogs from '@/components/utils/ActivityLogs';\n\nexport default {\n  name: 'project-activity-logs',\n  props: {\n    startDate: Number,\n    endDate: Number\n  },\n  components: {ActivityLogs},\n  data() {\n    return {\n      userJobs: [],\n      selectedUser: null,\n    };\n  },\n  computed: {\n    project: get('currentProject/project'),\n    members: get('currentProject/members'),\n  },\n  async created() {\n    try {\n      let userJobs = (await UserJobCollection.fetchAll({filterKey: 'project', filterValue: this.project.id})).array;\n      userJobs.forEach(uJob => uJob.fullName = fullName(uJob));\n      this.userJobs = userJobs;\n    }\n    catch(error) {\n      console.log(error);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.last-actions {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  word-wrap: break-word;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityLogs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityLogs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectActivityLogs.vue?vue&type=template&id=3dd3d26a&scoped=true&\"\nimport script from \"./ProjectActivityLogs.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectActivityLogs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectActivityLogs.vue?vue&type=style&index=0&id=3dd3d26a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3dd3d26a\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"box error\" v-if=\"!configUI['project-activities-tab']\">\n  <h2> {{ $t('access-denied') }} </h2>\n  <p>{{ $t('insufficient-permission') }}</p>\n</div>\n<div v-else class=\"project-activity-wrapper content-wrapper\">\n  <div class=\"columns\">\n    <div class=\"column\">\n      <b-field v-if=\"canManageProject\" class=\"radio-buttons-fullwidth is-hovered\">\n        <b-radio-button v-model=\"activeTab\" native-value=\"charts\" type=\"is-link\">\n          {{$t('activity-charts')}}\n        </b-radio-button>\n\n        <b-radio-button v-model=\"activeTab\" native-value=\"members\" type=\"is-link\">\n          {{$t('members-activity')}}\n        </b-radio-button>\n\n        <b-radio-button v-model=\"activeTab\" native-value=\"logs\" type=\"is-link\">\n          {{$t('activity-logs')}}\n        </b-radio-button>\n      </b-field>\n    </div>\n    <div class=\"column is-narrow\">\n      <b-dropdown position=\"is-bottom-left\" class=\"date-picker-dropdown\" :disabled=\"activeTab === 'members'\">\n        <template #trigger>\n          <button class=\"button is-hovered\"><i class=\"far fa-calendar\"></i></button>\n        </template>\n\n        <b-dropdown-item custom>\n          <b-field :label=\"$t('from')\" horizontal>\n            <cytomine-datepicker v-model=\"startDate\" :maxDate=\"endDate || new Date()\" />\n          </b-field>\n          <b-field :label=\"$t('to')\" horizontal>\n            <cytomine-datepicker v-model=\"endDate\" :minDate=\"startDate\" :maxDate=\"new Date()\" />\n          </b-field>\n        </b-dropdown-item>\n      </b-dropdown>\n    </div>\n  </div>\n\n  <div class=\"component-wrapper\">\n    <keep-alive>\n      <component\n        :is=\"activeComponent\"\n        :startDate=\"startDate ? startDate.getTime() : null\"\n        :endDate=\"endDate ? endDate.setHours(23, 59, 59, 999) : null\"\n      />\n    </keep-alive>\n  </div>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\nimport moment from 'moment';\n\nimport ProjectActivityCharts from './activity/ProjectActivityCharts';\nimport MembersActivity from './activity/MembersActivity';\nimport ProjectActivityLogs from './activity/ProjectActivityLogs';\n\nimport CytomineDatepicker from '@/components/form/CytomineDatepicker';\n\nconst defaultTab = 'charts';\n\nexport default {\n  name: 'project-activity',\n  components: {CytomineDatepicker},\n  data() {\n    return {\n      activeTab: defaultTab,\n      startDate: null,\n      endDate: null\n    };\n  },\n  computed: {\n    configUI: get('currentProject/configUI'),\n    canManageProject() {\n      return this.$store.getters['currentProject/canManageProject'];\n    },\n    moment() {\n      return moment;\n    },\n    queriedTab() {\n      return this.$route.query.tab;\n    },\n    activeComponent() {\n      if(!this.canManageProject) { // contributor can only view charts tab\n        return ProjectActivityCharts;\n      }\n\n      switch(this.activeTab) {\n        case 'charts':\n          return ProjectActivityCharts;\n        case 'members':\n          return MembersActivity;\n        case 'logs':\n          return ProjectActivityLogs;\n      }\n    }\n  },\n  watch: {\n    queriedTab() {\n      this.changeTab();\n    },\n    activeTab() {\n      if(this.activeTab !== defaultTab || this.queriedTab) {\n        this.$router.push(`?tab=${this.activeTab}`);\n      }\n    }\n  },\n  methods: {\n    changeTab() {\n      this.activeTab = this.queriedTab || defaultTab;\n      if(!this.activeComponent) {\n        this.activeTab = defaultTab;\n      }\n    }\n  },\n  created() {\n    this.changeTab();\n  }\n};\n</script>\n\n<style scoped>\n.project-activity-wrapper {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.component-wrapper {\n  flex: 1;\n  min-height: 20em;\n}\n</style>\n\n<style>\n.project-activity-wrapper .date-picker-dropdown.dropdown > .dropdown-menu {\n  min-width: 20em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivity.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectActivity.vue?vue&type=template&id=89d613ec&scoped=true&\"\nimport script from \"./ProjectActivity.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectActivity.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectActivity.vue?vue&type=style&index=0&id=89d613ec&scoped=true&lang=css&\"\nimport style1 from \"./ProjectActivity.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"89d613ec\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.configUI['project-jobs-tab'])?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):(_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('unexpected-error-info-message')))])]):_c('div',{staticClass:\"list-jobs-wrapper content-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('analysis'))+\" \"),(_vm.canAddJob)?_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){_vm.launchModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-launch-new-analysis'))+\" \")]):_vm._e()]),_c('div',{staticClass:\"panel-block\"},[_c('div',{staticClass:\"filters\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('filters')))]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('algorithm'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableSoftwares,\"multiple\":\"\",\"track-by\":\"id\",\"label\":\"fullName\"},model:{value:(_vm.selectedSoftwares),callback:function ($$v) {_vm.selectedSoftwares=$$v},expression:\"selectedSoftwares\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('launcher'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableLaunchers,\"multiple\":\"\"},model:{value:(_vm.selectedLaunchers),callback:function ($$v) {_vm.selectedLaunchers=$$v},expression:\"selectedLaunchers\"}})],1)]),_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('execution-date'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-datepicker',{attrs:{\"styles\":['multiselect', 'bold-placeholder'],\"placeholder\":_vm.$t('all-dates'),\"maxDate\":new Date()},model:{value:(_vm.selectedDate),callback:function ($$v) {_vm.selectedDate=$$v},expression:\"selectedDate\"}})],1)]),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('status'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableStatus,\"label\":\"label\",\"track-by\":\"status\",\"multiple\":\"\"},model:{value:(_vm.selectedStatus),callback:function ($$v) {_vm.selectedStatus=$$v},expression:\"selectedStatus\"}})],1)])])]),_c('cytomine-table',{attrs:{\"collection\":_vm.jobCollection,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"openedDetailed\":_vm.openedDetails,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar job = ref.row;\nreturn [_c('b-table-column',{attrs:{\"field\":\"softwareName\",\"label\":_vm.$t('algorithm'),\"sortable\":\"\",\"width\":\"1000\"}},[_vm._v(\" \"+_vm._s(job.softwareName)+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('run-number'),\"width\":\"500\",\"centered\":\"\"}},[_vm._v(\" \"+_vm._s(job.number)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"username\",\"label\":_vm.$t('launched-by'),\"sortable\":\"\",\"width\":\"1000\"}},[_vm._v(\" \"+_vm._s(job.username)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"created\",\"label\":_vm.$t('execution-date'),\"sortable\":\"\",\"width\":\"1000\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(job.created),'ll LT'))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"status\",\"label\":_vm.$t('status'),\"sortable\":\"\",\"centered\":\"\",\"width\":\"1000\"}},[_c('job-status',{attrs:{\"status\":job.status}})],1)]}},{key:\"detail\",fn:function(ref){\nvar job = ref.row;\nreturn [_c('job-details',{key:job.id,attrs:{\"job\":job},on:{\"update\":function($event){_vm.revision++},\"delete\":function($event){return _vm.deleteJob(job)},\"relaunch\":_vm.addJob}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-analysis-run')))])])]},proxy:true}],null,false,1758097932)})],1)]):_vm._e(),_c('add-job-modal',{attrs:{\"active\":_vm.launchModal},on:{\"update:active\":function($event){_vm.launchModal=$event},\"add\":_vm.addJob}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"tag\",class:_vm.tagClass},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.labels[_vm.status].label))+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport {JobStatus} from 'cytomine-client';\n\nconst jobStatusMapping = Object.freeze({\n  [JobStatus.RUNNING]: {\n    label: 'running',\n    statLabel: 'numberOfRunning',\n    color: '#209CEE'\n  },\n  [JobStatus.SUCCESS]: {\n    label: 'success',\n    statLabel: 'numberOfSuccess',\n    color: '#23D160'\n  },\n  [JobStatus.FAILED]: {\n    label: 'failed',\n    statLabel: 'numberOfFailed',\n    color: '#FF3860'\n  },\n  [JobStatus.NOTLAUNCH]: {\n    label: 'not-launch',\n    statLabel: 'numberOfNotLaunch',\n    color: '#F5F5F5'\n  },\n  [JobStatus.WAIT]: {\n    label: 'wait',\n    statLabel: 'numberOfWait',\n    color: '#F5F5F5'\n  },\n  [JobStatus.INQUEUE]: {\n    label: 'in-queue',\n    statLabel: 'numberOfInQueue',\n    color: '#F5F5F5'\n  },\n  [JobStatus.INDETERMINATE]: {\n    label: 'indeterminate',\n    statLabel: 'numberOfIndeterminate',\n    color: '#F5F5F5'\n  },\n  [JobStatus.KILLED]: {\n    label: 'killed',\n    statLabel: 'numberOfKilled',\n    color: '#363636'\n  }\n});\n\nexport default jobStatusMapping;\n","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<span class=\"tag\" :class=\"tagClass\">\n  {{$t(labels[status].label)}}\n</span>\n</template>\n\n<script>\nimport {JobStatus} from 'cytomine-client';\nimport jobStatusMapping from '@/utils/job-utils';\n\nexport default {\n  name: 'job-status',\n  props: {\n    status: Number\n  },\n  computed: {\n    labels() {\n      return jobStatusMapping;\n    },\n    result() {\n      switch(this.status) {\n        case JobStatus.KILLED:\n          return 'dark';\n        case JobStatus.NOTLAUNCH:\n        case JobStatus.INQUEUE:\n        case JobStatus.WAIT:\n        case JobStatus.INDETERMINATE:\n        case JobStatus.PREVIEWED:\n          return 'light';\n        case JobStatus.RUNNING:\n          return 'info';\n        case JobStatus.SUCCESS:\n          return 'success';\n        case JobStatus.FAILED:\n          return 'danger';\n      }\n    },\n    tagClass() {\n      return 'is-' + this.result;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobStatus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobStatus.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./JobStatus.vue?vue&type=template&id=3a55048b&\"\nimport script from \"./JobStatus.vue?vue&type=script&lang=js&\"\nexport * from \"./JobStatus.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"job-details-wrapper\"},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading},on:{\"update:active\":function($event){_vm.loading=$event}}}),(!_vm.loading)?[_c('table',{staticClass:\"table\"},[_c('tbody',[(_vm.isRunning)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('progress')))]),_c('td',[_c('progress',{staticClass:\"progress is-info\",attrs:{\"max\":\"100\"},domProps:{\"value\":_vm.job.progress}},[_vm._v(\" \"+_vm._s(_vm.job.progress)+\"% \")])])]):_vm._e(),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('status-comment')))]),_c('td',[_vm._v(_vm._s(_vm.job.statusComment || \"-\"))])]),(_vm.isSuccessful)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('execution-duration')))]),_c('td',[_vm._v(_vm._s(_vm._f(\"duration\")(Number(_vm.job.updated) - Number(_vm.job.created),'humanize')))])]):_vm._e(),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('parameters')))]),_c('td',[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.showParameters = !_vm.showParameters}}},[_c('span',[_vm._v(_vm._s(_vm.showParameters ? _vm.$t('button-hide') : _vm.$t('button-show')))])]),_c('b-collapse',{attrs:{\"open\":_vm.showParameters}},[_c('table',{staticClass:\"table is-narrow inline-table is-fullwidth\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t('name')))]),_c('th',[_vm._v(_vm._s(_vm.$t('value')))]),_c('th',[_vm._v(_vm._s(_vm.$t('type')))])])]),_c('tbody',_vm._l((_vm.job.jobParameters.array),function(param){return _c('tr',{key:param.id},[_c('td',[_vm._v(_vm._s(param.humanName))]),_c('td',[_vm._v(_vm._s(param.value))]),_c('td',[_vm._v(_vm._s(_vm.$t(param.type.toLowerCase())))])])}),0)])])],1)]),(_vm.isFinished)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('execution-log')))]),(_vm.isJustFinished && !_vm.log)?_c('td',[_c('div',{staticClass:\"loading\"},[_c('i',{staticClass:\"fas fa-spinner fa-spin fa-fw\"}),_vm._v(\" \"),_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('log-being-collected')))])])]):(_vm.log)?_c('td',[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.showLog = !_vm.showLog}}},[_c('span',[_vm._v(_vm._s(_vm.showLog ? _vm.$t('button-hide') : _vm.$t('button-show')))])]),_c('b-collapse',{attrs:{\"open\":_vm.showLog}},[_c('pre',[_vm._v(_vm._s(_vm.log.data))])])],1):_c('td',[_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('not-found')))])])]):_vm._e(),_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('tags')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-tags',{attrs:{\"object\":_vm.job,\"canEdit\":_vm.canManageJob}})],1)]),(_vm.hasAnnotationResult)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('data')))]),(_vm.hasAnnotationResult)?_c('td',[_c('router-link',{attrs:{\"to\":(\"/project/\" + (_vm.project.id) + \"/annotations?userJob=\" + (_vm.job.userJob))}},[_vm._v(\" \"+_vm._s(_vm.$tc(\"count-annotations\", _vm.allData.annotations, {count: _vm.allData.annotations}))+\" \")])],1):_vm._e()]):_vm._e(),(_vm.hasFileResult)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('files')))]),_c('td',[(_vm.jobData.length > 0)?_c('table',{staticClass:\"table inline-table is-fullwidth is-narrow\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t('filename')))]),_c('th',[_vm._v(_vm._s(_vm.$t('comment')))]),_c('th',[_vm._v(_vm._s(_vm.$t('size')))]),_c('th')])]),_c('tbody',_vm._l((_vm.jobData),function(data){return _c('tr',{key:data.id},[_c('td',[_vm._v(_vm._s(data.filename))]),_c('td',[_vm._v(_vm._s(data.key))]),_c('td',[_vm._v(_vm._s(_vm.filesize(data.size)))]),_c('td',[_c('div',{staticClass:\"buttons\"},[_c('a',{staticClass:\"button is-small\",attrs:{\"href\":data.viewURL,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.$t('button-view')))]),_c('a',{staticClass:\"button is-small\",attrs:{\"href\":data.downloadURL}},[_vm._v(_vm._s(_vm.$t('button-download')))])])])])}),0)]):_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-result-file')))])])]):_vm._e(),(_vm.job.dataDeleted)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('data')))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.$t('deleted-analysis-data'))+\" \")])]):_vm._e(),(_vm.canManageJob)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('actions')))]),_c('td',[_c('div',{staticClass:\"buttons are-small\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.relaunchJob()}}},[_vm._v(\" \"+_vm._s(_vm.$t('relaunch'))+\" \")]),(!_vm.job.dataDeleted && _vm.isFinished)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.deletionModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('delete-data'))+\" \")]):_vm._e(),(_vm.isFinished)?_c('button',{staticClass:\"button is-danger\",on:{\"click\":function($event){return _vm.confirmJobDeletion()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")]):_c('button',{staticClass:\"button is-danger\",on:{\"click\":function($event){return _vm.confirmJobKilling()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-kill'))+\" \")])])])]):_vm._e()])]),_c('cytomine-modal',{attrs:{\"active\":_vm.deletionModal,\"title\":_vm.$t('delete-analysis-data')},on:{\"close\":function($event){_vm.deletionModal = false}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.deletionModal = false}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-danger\",on:{\"click\":function($event){return _vm.deleteData()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-confirm'))+\" \")])]},proxy:true}],null,false,617667549)},[_c('p',[_vm._v(_vm._s(_vm.$t('confirm-deletion-analysis-data')))]),_c('ul',[_c('li',[_vm._v(_vm._s(_vm.$tc(\"count-annotations\", _vm.allData.annotations, {count: _vm.allData.annotations})))]),_c('li',[_vm._v(_vm._s(_vm.$tc(\"count-reviewed-annotations\", _vm.allData.reviewed, {count: _vm.allData.reviewed})))]),_c('li',[_vm._v(_vm._s(_vm.$tc(\"count-annotation-terms\", _vm.allData.annotationsTerm, {count: _vm.allData.annotationsTerm})))]),_c('li',[_vm._v(_vm._s(_vm.$tc(\"count-files\", _vm.allData.jobDatas, {count: _vm.allData.jobDatas})))])]),_c('p',{staticClass:\"has-margin-top\"},[_vm._v(_vm._s(_vm.$t('remark-long-operation')))]),(_vm.deletionTask)?[_c('hr'),_c('cytomine-task',{attrs:{\"task\":_vm.deletionTask},on:{\"update:task\":function($event){_vm.deletionTask=$event}}})]:_vm._e()],2)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.task)?_c('div',[_c('progress',{staticClass:\"progress is-info\",attrs:{\"max\":\"100\"},domProps:{\"value\":_vm.task.progress}},[_vm._v(\" \"+_vm._s(_vm.task.progress)+\"% \")]),(_vm.lastComment)?_c('p',[_vm._v(_vm._s(_vm.lastComment))]):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div v-if=\"task\">\n  <progress class=\"progress is-info\" :value=\"task.progress\" max=\"100\">\n    {{task.progress}}%\n  </progress>\n  <p v-if=\"lastComment\">{{lastComment}}</p> <!-- WARNING: not translated -->\n</div>\n</template>\n\n<script>\nimport constants from '@/utils/constants.js';\nimport {Task} from 'cytomine-client';\n\nexport default {\n  name: 'cytomine-task',\n  props: {\n    task: Object,\n    refreshInterval: {\n      type: Number,\n      default: constants.TASK_REFRESH_INTERVAL\n    }\n  },\n  data() {\n    return {\n      timeout: null\n    };\n  },\n  computed: {\n    lastComment() {\n      if(this.task && this.task.comments && this.task.comments.length > 0) {\n        return this.task.comments[0];\n      }\n    }\n  },\n  watch: {\n    task() {\n      this.refresh();\n    }\n  },\n  methods: {\n    async refresh() {\n      if(this.task) {\n        let updatedTask = await Task.fetch(this.task.id);\n        this.$emit('update:task', updatedTask);\n        clearTimeout(this.timeout);\n        if(updatedTask.progress < 100) {\n          this.timeout = setTimeout(this.refresh, this.refreshInterval);\n        }\n      }\n    }\n  },\n  created() {\n    this.refresh();\n  }\n};\n</script>\n\n<style scoped>\n.progress {\n  margin: 0.5em 0 !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTask.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineTask.vue?vue&type=template&id=2300da1e&scoped=true&\"\nimport script from \"./CytomineTask.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineTask.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineTask.vue?vue&type=style&index=0&id=2300da1e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2300da1e\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"job-details-wrapper\">\n  <b-loading :is-full-page=\"false\" :active.sync=\"loading\" class=\"small\" />\n\n  <template v-if=\"!loading\">\n    <table class=\"table\">\n      <tbody>\n          <tr v-if=\"isRunning\">\n            <td>{{$t('progress')}}</td>\n            <td>\n              <progress class=\"progress is-info\" :value=\"job.progress\" max=\"100\">\n                {{job.progress}}%\n              </progress>\n            </td>\n          </tr>\n          <tr>\n            <td>{{$t('status-comment')}}</td>\n            <td>{{job.statusComment || \"-\"}}</td>\n          </tr>\n          <tr v-if=\"isSuccessful\">\n            <td>{{$t('execution-duration')}}</td>\n            <td>{{Number(job.updated) - Number(job.created) | duration('humanize')}}</td>\n          </tr>\n          <tr>\n            <td>{{$t('parameters')}}</td>\n            <td>\n              <button class=\"button is-small\" @click=\"showParameters = !showParameters\">\n                <span>{{showParameters ? $t('button-hide') : $t('button-show')}}</span>\n              </button>\n              <b-collapse :open=\"showParameters\">\n                <table class=\"table is-narrow inline-table is-fullwidth\">\n                  <thead>\n                    <tr>\n                      <th>{{$t('name')}}</th>\n                      <th>{{$t('value')}}</th>\n                      <th>{{$t('type')}}</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-for=\"param in job.jobParameters.array\" :key=\"param.id\">\n                      <td>{{param.humanName}}</td>\n                      <td>{{param.value}}</td>\n                      <td>{{$t(param.type.toLowerCase())}}</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </b-collapse>\n            </td>\n          </tr>\n          <tr v-if=\"isFinished\">\n            <td>{{$t('execution-log')}}</td>\n            <td v-if=\"isJustFinished && !log\">\n              <div class=\"loading\">\n                <i class=\"fas fa-spinner fa-spin fa-fw\"></i>&nbsp;\n                <em class=\"has-text-grey\">{{$t('log-being-collected')}}</em>\n              </div>\n            </td>\n            <td v-else-if=\"log\">\n              <button class=\"button is-small\" @click=\"showLog = !showLog\">\n                <span>{{showLog ? $t('button-hide') : $t('button-show')}}</span>\n              </button>\n              <b-collapse :open=\"showLog\">\n                <pre>{{log.data}}</pre>\n              </b-collapse>\n            </td>\n            <td v-else>\n              <em class=\"has-text-grey\">{{$t('not-found')}}</em>\n            </td>\n          </tr>\n          <tr>\n            <td class=\"prop-label\">{{$t('tags')}}</td>\n            <td class=\"prop-content\">\n              <cytomine-tags :object=\"job\" :canEdit=\"canManageJob\" />\n            </td>\n          </tr>\n          <tr v-if=\"hasAnnotationResult\">\n            <td>{{$t('data')}}</td>\n            <td v-if=\"hasAnnotationResult\">\n              <router-link :to=\"`/project/${project.id}/annotations?userJob=${job.userJob}`\">\n                {{$tc(\"count-annotations\", allData.annotations, {count: allData.annotations})}}\n              </router-link>\n            </td>\n          </tr>\n          <tr v-if=\"hasFileResult\">\n            <td>{{$t('files')}}</td>\n            <td>\n              <table v-if=\"jobData.length > 0\" class=\"table inline-table is-fullwidth is-narrow\">\n                <thead>\n                  <tr>\n                    <th>{{$t('filename')}}</th>\n                    <th>{{$t('comment')}}</th>\n                    <th>{{$t('size')}}</th>\n                    <th></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr v-for=\"data in jobData\" :key=\"data.id\">\n                    <td>{{data.filename}}</td>\n                    <td>{{data.key}}</td>\n                    <td>{{filesize(data.size)}}</td>\n                    <td>\n                      <div class=\"buttons\">\n                        <a class=\"button is-small\" :href=\"data.viewURL\" target='_blank'>{{$t('button-view')}}</a>\n                        <a class=\"button is-small\" :href=\"data.downloadURL\">{{$t('button-download')}}</a>\n                      </div>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <em v-else class=\"has-text-grey\">{{$t('no-result-file')}}</em>\n            </td>\n          </tr>\n          <tr v-if=\"job.dataDeleted\">\n            <td>{{$t('data')}}</td>\n            <td>\n              {{$t('deleted-analysis-data')}}\n            </td>\n          </tr>\n          <tr v-if=\"canManageJob\">\n            <td>{{$t('actions')}}</td>\n            <td>\n              <div class=\"buttons are-small\">\n                <button class=\"button\" @click=\"relaunchJob()\">\n                  {{$t('relaunch')}}\n                </button>\n                <button v-if=\"!job.dataDeleted && isFinished\" class=\"button\" @click=\"deletionModal = true\">\n                  {{$t('delete-data')}}\n                </button>\n                <button v-if=\"isFinished\" class=\"button is-danger\" @click=\"confirmJobDeletion()\">\n                  {{$t('button-delete')}}\n                </button>\n                <button v-else class=\"button is-danger\" @click=\"confirmJobKilling()\">\n                  {{$t('button-kill')}}\n                </button>\n              </div>\n            </td>\n          </tr>\n      </tbody>\n    </table>\n\n    <cytomine-modal :active=\"deletionModal\" :title=\"$t('delete-analysis-data')\" @close=\"deletionModal = false\">\n      <p>{{$t('confirm-deletion-analysis-data')}}</p>\n      <ul>\n        <li>{{$tc(\"count-annotations\", allData.annotations, {count: allData.annotations})}}</li>\n        <li>{{$tc(\"count-reviewed-annotations\", allData.reviewed, {count: allData.reviewed})}}</li>\n        <li>{{$tc(\"count-annotation-terms\", allData.annotationsTerm, {count: allData.annotationsTerm})}}</li>\n        <li>{{$tc(\"count-files\", allData.jobDatas, {count: allData.jobDatas})}}</li>\n      </ul>\n\n      <p class=\"has-margin-top\">{{$t('remark-long-operation')}}</p>\n\n      <template v-if=\"deletionTask\">\n        <hr>\n        <cytomine-task :task.sync=\"deletionTask\" />\n      </template>\n\n      <template #footer>\n        <button class=\"button\" type=\"button\" @click=\"deletionModal = false\">\n          {{$t('button-cancel')}}\n        </button>\n        <button class=\"button is-danger\" @click=\"deleteData()\">\n          {{$t('button-confirm')}}\n        </button>\n      </template>\n    </cytomine-modal>\n  </template>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport {Job, JobStatus, JobDataCollection, Task} from 'cytomine-client';\nimport filesize from 'filesize';\nimport CytomineModal from '@/components/utils/CytomineModal';\nimport CytomineTask from '@/components/utils/CytomineTask';\nimport CytomineTags from '@/components/tag/CytomineTags';\n\nimport constants from '@/utils/constants.js';\nconst REFRESH_INTERVAL = constants.JOB_DETAILS_REFRESH_INTERVAL;\nconst REFRESH_LOG_INTERVAL = constants.JOB_LOGS_REFRESH_INTERVAL;\n\nexport default {\n  name: 'job-details',\n  props: {\n    job: Object\n  },\n  components: {\n    CytomineModal,\n    CytomineTask,\n    CytomineTags\n  },\n  data() {\n    return {\n      loading: true,\n      justFinishedInterval: 60000, // in milliseconds\n\n      showParameters: false,\n      showLog: false,\n\n      allData: null,\n      jobData: [],\n      log: null,\n      timeoutRefresh: null,\n\n      deletionModal: false,\n      deletionTask: null\n    };\n  },\n  computed: {\n    project: get('currentProject/project'),\n    canManageJob() {\n      return this.$store.getters['currentProject/canManageJob'](this.job);\n    },\n    isRunning() {\n      return this.job.status === JobStatus.RUNNING;\n    },\n    isSuccessful() {\n      return this.job.status === JobStatus.SUCCESS;\n    },\n    isFinished() {\n      return this.isSuccessful || this.job.status === JobStatus.FAILED || this.job.status === JobStatus.KILLED;\n    },\n    isJustFinished() {\n      return this.isFinished && (Date.now() - Number(this.job.created) < this.justFinishedInterval);\n    },\n    hasAnnotationResult() {\n      return this.allData.annotations > 0;\n    },\n    hasFileResult() {\n      return this.allData.jobDatas > 0;\n    }\n  },\n  methods: {\n    async refresh(force=false) {\n      if(this.isFinished && !force) {\n        return;\n      }\n\n      let job = await Job.fetch(this.job.id);\n      this.$emit('update', job);\n      await this.fetchData();\n      this.job.status = job.status;\n      this.fetchLog();\n\n      clearTimeout(this.timeoutRefresh);\n      this.timeoutRefresh = setTimeout(this.refresh, REFRESH_INTERVAL);\n    },\n    filesize(size) {\n      return filesize(size, {base: 10});\n    },\n    async fetchLog() {\n      if (this.isFinished) {\n        let maxRetries = (this.isJustFinished) ? Math.round(this.justFinishedInterval / REFRESH_LOG_INTERVAL) : 1;\n        while (!this.log && maxRetries > 0) {\n          try {\n            this.log = await this.job.fetchLog();\n          }\n          catch (e) {\n            // Do nothing as a 404 error has meaning: no log found\n            await new Promise(resolve => setTimeout(resolve, REFRESH_LOG_INTERVAL));\n            maxRetries--;\n          }\n        }\n\n      }\n    },\n    async fetchData() {\n      this.allData = await this.job.fetchAllData();\n      if(this.hasFileResult) {\n        this.jobData = (await JobDataCollection.fetchAll({filterKey: 'job', filterValue: this.job.id})).array;\n      }\n    },\n    async deleteData() {\n      let job = this.job.clone(); // create new job to avoid mutating the prop\n      try {\n        this.deletionTask = await new Task({project: this.project.id}).save();\n        await job.deleteAllData(this.deletionTask.id);\n        this.refresh(true);\n        this.deletionTask = null;\n        this.deletionModal = false;\n        this.$notify({type: 'success', text: this.$t('notif-success-analysis-data-deletion')});\n      }\n      catch(error) {\n        console.log(error);\n        this.deletionTask = null;\n        this.$notify({type: 'error', text: this.$t('notif-error-analysis-data-deletion')});\n      }\n    },\n    async killJob() {\n      let job = this.job.clone();\n      try {\n        await job.kill();\n        this.$emit('update', job);\n        this.$notify({type: 'success', text: this.$t('notif-success-analysis-kill')});\n      }\n      catch (error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-analysis-data-kill')});\n      }\n    },\n    confirmJobDeletion() {\n      this.$buefy.dialog.confirm({\n        title: this.$t('delete-analysis'),\n        message: this.$t('delete-analysis-confirmation-message'),\n        type: 'is-danger',\n        confirmText: this.$t('button-confirm'),\n        cancelText: this.$t('button-cancel'),\n        onConfirm: () => this.$emit('delete')\n      });\n    },\n    confirmJobKilling() {\n      this.$buefy.dialog.confirm({\n        title: this.$t('kill-analysis'),\n        message: this.$t('kill-analysis-confirmation-message'),\n        type: 'is-danger',\n        confirmText: this.$t('button-confirm'),\n        cancelText: this.$t('button-cancel'),\n        onConfirm: () => this.killJob()\n      });\n    },\n    async relaunchJob() {\n      try {\n        let newJob = await this.job.copy();\n        this.$emit('relaunch', newJob);\n        await newJob.execute();\n        this.$notify({type: 'success', text: this.$t('notif-success-analysis-launch')});\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-analysis-launch')});\n      }\n    },\n  },\n  async created() {\n    await this.fetchData();\n    this.fetchLog();\n    this.loading = false;\n    this.timeoutRefresh = setTimeout(this.refresh, REFRESH_INTERVAL);\n  },\n  beforeDestroy() {\n    clearTimeout(this.timeoutRefresh);\n  }\n};\n</script>\n\n<style scoped>\n.job-details-wrapper {\n  position: relative;\n  min-height: 50px;\n}\n\n.table {\n  background: none;\n  position: relative;\n  margin-bottom: 0 !important;\n}\n\ntd:first-child {\n  white-space: nowrap;\n  font-weight: 600;\n}\n\ntd:not(:first-child) {\n  width: 100%;\n}\n\n.inline-table td:first-child {\n  font-weight: normal;\n}\n\n.inline-table td:not(:first-child) {\n  width: auto;\n}\n\nul {\n  margin-left: 2em;\n  list-style-type: disc;\n}\n\n.has-margin-top {\n  margin-top: 1.5em;\n}\n\n.loading {\n  display: block;\n}\n</style>\n\n<style scoped lang=\"scss\">\npre {\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./JobDetails.vue?vue&type=template&id=d31f0db6&scoped=true&\"\nimport script from \"./JobDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./JobDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./JobDetails.vue?vue&type=style&index=0&id=d31f0db6&scoped=true&lang=css&\"\nimport style1 from \"./JobDetails.vue?vue&type=style&index=1&id=d31f0db6&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d31f0db6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createJob()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('launch-new-analysis')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-launch-new-analysis'))+\" \")])]},proxy:true}])},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-narrow\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('algorithm')))])]),_c('div',{staticClass:\"column\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.executableSoftwares,\"track-by\":\"id\",\"label\":\"fullName\"},model:{value:(_vm.selectedSoftware),callback:function ($$v) {_vm.selectedSoftware=$$v},expression:\"selectedSoftware\"}})],1)]),(_vm.selectedSoftware)?[(_vm.selectedSoftware.deprecated)?_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('notif-deprecated-software'))+\" \")]):_vm._e(),_c('table',{staticClass:\"table is-fullwidth\"},[_c('thead',[_c('tr',[_c('th'),_c('th',[_vm._v(_vm._s(_vm.$t('name')))]),_c('th',[_vm._v(_vm._s(_vm.$t('value')))])])]),_c('tbody',[_vm._l((_vm.paramsMandatoryNoDefault),function(param){return _c('job-parameter-row',{key:param.id,attrs:{\"param\":param},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", $$v)},expression:\"param.value\"}})}),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.optionalParams.length > 0),expression:\"optionalParams.length > 0\"}],staticClass:\"row-separator\"},[_c('td',{attrs:{\"colspan\":\"3\"}},[_vm._v(\" \"+_vm._s(_vm.$t('optional-parameters'))+\" \"),_c('button',{staticClass:\"button is-small\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showOptional = !_vm.showOptional}}},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.showOptional ? 'button-hide' : 'button-show'))+\" \")])])]),(_vm.showOptional)?_vm._l((_vm.optionalParams),function(param){return _c('job-parameter-row',{key:param.id,attrs:{\"param\":param},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", $$v)},expression:\"param.value\"}})}):_vm._e(),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.prefilledParams.length > 0),expression:\"prefilledParams.length > 0\"}],staticClass:\"row-separator\"},[_c('td',{attrs:{\"colspan\":\"3\"}},[_vm._v(\" \"+_vm._s(_vm.$t('prefilled-parameters'))+\" \"),_c('button',{staticClass:\"button is-small\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showPrefilled = !_vm.showPrefilled}}},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.showPrefilled ? 'button-hide' : 'button-show'))+\" \")])])]),(_vm.showPrefilled)?_vm._l((_vm.prefilledParams),function(param){return _c('job-parameter-row',{key:param.id,attrs:{\"param\":param},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", $$v)},expression:\"param.value\"}})}):_vm._e()],2)])]:_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',{staticClass:\"job-param-row-wrapper\"},[_c('td',[(_vm.description)?_c('div',[_c('v-popover',{attrs:{\"popover-base-class\":'tooltip popover job-description-popover'},scopedSlots:_vm._u([{key:\"popover\",fn:function(){return [_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.description.data)}})]},proxy:true}],null,false,5788555)},[_c('i',{staticClass:\"fas fa-info-circle\"})])],1):_vm._e()]),_c('td',[_vm._v(_vm._s(_vm.param.humanName))]),_c('td',[_c('b-field',{attrs:{\"type\":{'is-danger': _vm.errors.has(_vm.validationName)},\"message\":_vm.errors.first(_vm.validationName)}},[(_vm.loading)?_c('b-input',{attrs:{\"loading\":\"\",\"disabled\":\"\"}}):(_vm.options)?_c('cytomine-multiselect',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(_vm.validationRules),expression:\"validationRules\"}],class:{'is-danger': _vm.errors.has(_vm.validationName)},attrs:{\"options\":_vm.options,\"track-by\":\"id\",\"label\":_vm.param.uriPrintAttribut,\"multiple\":_vm.param.type === 'ListDomain',\"name\":_vm.validationName},scopedSlots:_vm._u([{key:\"option\",fn:function(ref){\nvar option = ref.option;\nreturn [(_vm.areAnnotationObjects)?_c('div',{staticClass:\"is-flex\"},[_c('div',{staticClass:\"thumb-wrapper\"},[_c('img',{staticClass:\"thumb\",attrs:{\"src\":option.smallCropURL + '&draw=true&complete=true&increaseArea=1.25'}})]),_c('span',{staticClass:\"option__title\"},[_vm._v(\" \"+_vm._s(option[_vm.param.uriPrintAttribut])+\" \")])]):(option.thumb)?_c('div',{staticClass:\"is-flex\"},[_c('div',{staticClass:\"thumb-wrapper\"},[_c('img',{staticClass:\"thumb\",attrs:{\"src\":option.thumb}})]),_c('span',{staticClass:\"option__title\"},[_vm._v(\" \"+_vm._s(option[_vm.param.uriPrintAttribut])+\" \")])]):(_vm.areTermObjects)?_c('div',{staticClass:\"is-flex\"},[_c('cytomine-term',{attrs:{\"term\":option}})],1):(_vm.areJobObjects)?_c('div',{staticClass:\"is-flex\"},[_c('span',{staticClass:\"option__title\"},[_vm._v(\" \"+_vm._s(_vm.formatJob(option, _vm.param.uriPrintAttribut))+\" \")])]):_vm._e()]}}]),model:{value:(_vm.internalValue),callback:function ($$v) {_vm.internalValue=$$v},expression:\"internalValue\"}}):(_vm.param.type === 'Boolean')?_c('b-checkbox',{model:{value:(_vm.internalValue),callback:function ($$v) {_vm.internalValue=$$v},expression:\"internalValue\"}}):_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(_vm.validationRules),expression:\"validationRules\"}],attrs:{\"name\":_vm.validationName},model:{value:(_vm.internalValue),callback:function ($$v) {_vm.internalValue=$$v},expression:\"internalValue\"}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<tr class=\"job-param-row-wrapper\">\n  <td>\n    <div v-if=\"description\">\n      <v-popover :popover-base-class=\"'tooltip popover job-description-popover'\">\n        <i class=\"fas fa-info-circle\"></i>\n        <template #popover>\n          <p v-html=\"description.data\"></p>\n        </template>\n      </v-popover>\n    </div>\n  </td>\n  <td>{{param.humanName}}</td>\n  <td>\n    <b-field :type=\"{'is-danger': errors.has(validationName)}\" :message=\"errors.first(validationName)\">\n      <b-input v-if=\"loading\" loading disabled />\n\n      <cytomine-multiselect\n        v-else-if=\"options\"\n        v-model=\"internalValue\"\n        :options=\"options\"\n        track-by=\"id\"\n        :label=\"param.uriPrintAttribut\"\n        :class=\"{'is-danger': errors.has(validationName)}\"\n        :multiple=\"param.type === 'ListDomain'\"\n        :name=\"validationName\"\n        v-validate=\"validationRules\"\n      >\n        <template #option=\"{option}\">\n          <div class=\"is-flex\" v-if=\"areAnnotationObjects\">\n            <div class=\"thumb-wrapper\">\n              <img class=\"thumb\" :src=\"option.smallCropURL + '&draw=true&complete=true&increaseArea=1.25'\">\n            </div>\n            <span class=\"option__title\">\n              {{ option[param.uriPrintAttribut] }}\n            </span>\n          </div>\n          <div class=\"is-flex\" v-else-if=\"option.thumb\">\n            <div class=\"thumb-wrapper\">\n              <img class=\"thumb\" :src=\"option.thumb\">\n            </div>\n            <span class=\"option__title\">\n              {{ option[param.uriPrintAttribut] }}\n            </span>\n          </div>\n          <div class=\"is-flex\" v-else-if=\"areTermObjects\">\n            <cytomine-term :term=\"option\" />\n          </div>\n          <div class=\"is-flex\" v-else-if=\"areJobObjects\">\n            <span class=\"option__title\">\n              {{ formatJob(option, param.uriPrintAttribut) }}\n            </span>\n          </div>\n        </template>\n      </cytomine-multiselect>\n\n      <b-checkbox v-model=\"internalValue\" v-else-if=\"param.type === 'Boolean'\" />\n\n      <b-input v-else v-model=\"internalValue\" :name=\"validationName\" v-validate=\"validationRules\" />\n    </b-field>\n  </td>\n</tr>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\nimport moment from 'moment';\n\nimport {Cytomine, Description} from 'cytomine-client';\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\nimport CytomineTerm from '@/components/ontology/CytomineTerm';\n\nexport default {\n  name: 'job-parameter-row',\n  inject: ['$validator'],\n  components: {CytomineTerm, CytomineMultiselect},\n  props: {\n    param: Object,\n    value: null\n  },\n  data() {\n    return {\n      internalValue: null,\n      options: null,\n      description: null,\n      loading: true\n    };\n  },\n  computed: {\n    project: get('currentProject/project'),\n    ontology: get('currentProject/ontology'),\n    processedUri() {\n      if(this.param.uri_) {\n        let result = this.param.uri_.replace(new RegExp('^' + Cytomine.instance.basePath), '');\n        result = result.replace('$currentProjectCreationDate$', this.project.created);\n        result = result.replace('$currentProject$', this.project.id);\n        result = result.replace('$cytomineHost$', Cytomine.instance.host);\n        result = result.replace('$currentDate$', new Date().getTime());\n        result = result.replace('$currentOntology$', this.ontology ? this.ontology.id : null);\n        return result;\n      }\n    },\n    validationName() {\n      return String(this.param.id);\n    },\n    validationRules() {\n      return {\n        required: this.param.required,\n        decimal: this.param.type === 'Number'\n      };\n    },\n    objectsClass() {\n      if (this.options && this.options.length > 0) {\n        return this.options[0].class;\n      }\n    },\n    areAnnotationObjects() {\n      if(this.objectsClass) {\n        return [\n          'be.cytomine.ontology.AlgoAnnotation',\n          'be.cytomine.ontology.UserAnnotation',\n          'be.cytomine.ontology.ReviewedAnnotation'\n        ].includes(this.objectsClass);\n      }\n    },\n    areTermObjects() {\n      return this.objectsClass === 'be.cytomine.ontology.Term';\n    },\n    areJobObjects() {\n      return this.objectsClass === 'be.cytomine.processing.Job';\n    }\n  },\n  watch: {\n    internalValue(value) {\n      if(value !== this.value) {\n        this.$emit('input', value);\n      }\n    },\n    'param.value': function() {\n      this.internalValue = this.param.value;\n    }\n  },\n  methods: {\n    getInitialValue() {\n      if(this.param.defaultParamValue) {\n        if(this.param.type === 'Boolean') {\n          return this.param.defaultParamValue.toLowerCase() === 'true';\n        }\n        return this.param.defaultParamValue;\n      }\n\n      switch(this.param.type) {\n        case 'ListDomain':\n          return [];\n        case 'Domain':\n          return null;\n        case 'Boolean':\n          return false;\n        default:\n          return '';\n      }\n    },\n    formatJob(job, attribute) {\n      if (['softwareName', 'created', 'fullName', 'number'].includes(attribute)) {\n        let date = moment(Number(job.created)).format('L LTS');\n        return `${job['softwareName']} - ${date} (#${job['number']})`;\n      }\n\n      return job[attribute];\n    }\n  },\n  async created() {\n    this.internalValue = this.getInitialValue();\n\n    try {\n      this.description = await Description.fetch(this.param);\n    }\n    catch(error) {\n      // Do nothing as a 404 error means no description\n    }\n\n    if(this.processedUri) {\n      try {\n        let {data} = await Cytomine.instance.api.get(this.processedUri);\n        let options = data.collection;\n        if(this.param.uriSortAttribut) {\n          options.sort((a, b) => a[this.param.uriSortAttribut] < b[this.param.uriSortAttribut] ? -1 : 1);\n        }\n        this.options = options;\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-analysis-parameters-options', {paramName: this.param.name})});\n      }\n    }\n    this.loading = false;\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.job-param-row-wrapper {\n  .thumb-wrapper {\n    width: 4em;\n  }\n\n  .thumb  {\n    max-height: 5em;\n    max-width: 3em;\n    background: white;\n  }\n}\n\n.job-description-popover {\n  z-index: 5000 !important;\n}\n\n.fas.fa-info-circle {\n  cursor: pointer;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobParameterRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobParameterRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./JobParameterRow.vue?vue&type=template&id=6055accf&\"\nimport script from \"./JobParameterRow.vue?vue&type=script&lang=js&\"\nexport * from \"./JobParameterRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./JobParameterRow.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<form @submit.prevent=\"createJob()\">\n  <cytomine-modal :active=\"active\" :title=\"$t('launch-new-analysis')\" @close=\"$emit('update:active', false)\">\n    <div class=\"columns\">\n      <div class=\"column is-narrow\">\n        <strong>{{$t('algorithm')}}</strong>\n      </div>\n      <div class=\"column\">\n        <cytomine-multiselect v-model=\"selectedSoftware\" :options=\"executableSoftwares\" track-by=\"id\" label=\"fullName\" />\n      </div>\n    </div>\n    <template v-if=\"selectedSoftware\">\n      <b-message v-if=\"selectedSoftware.deprecated\" type=\"is-info\" has-icon icon-size=\"is-small\">\n        {{$t('notif-deprecated-software')}}\n      </b-message>\n      <table class=\"table is-fullwidth\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>{{$t('name')}}</th>\n            <th>{{$t('value')}}</th>\n          </tr>\n        </thead>\n        <tbody>\n          <job-parameter-row\n            v-for=\"param in paramsMandatoryNoDefault\"\n            :param=\"param\"\n            :key=\"param.id\"\n            v-model=\"param.value\"\n          />\n\n          <tr class=\"row-separator\" v-show=\"optionalParams.length > 0\">\n            <td colspan=\"3\">\n              {{$t('optional-parameters')}}\n              <button class=\"button is-small\" type=\"button\" @click=\"showOptional = !showOptional\">\n                {{$t(showOptional ? 'button-hide' : 'button-show')}}\n              </button>\n            </td>\n          </tr>\n          <template v-if=\"showOptional\">\n            <job-parameter-row\n              v-for=\"param in optionalParams\"\n              :param=\"param\"\n              :key=\"param.id\"\n              v-model=\"param.value\"\n            />\n          </template>\n\n          <tr class=\"row-separator\" v-show=\"prefilledParams.length > 0\">\n            <td colspan=\"3\">\n              {{$t('prefilled-parameters')}}\n              <button class=\"button is-small\" type=\"button\" @click=\"showPrefilled = !showPrefilled\">\n                {{$t(showPrefilled ? 'button-hide' : 'button-show')}}\n              </button>\n            </td>\n          </tr>\n          <template v-if=\"showPrefilled\">\n            <job-parameter-row\n              v-for=\"param in prefilledParams\"\n              :param=\"param\"\n              :key=\"param.id\"\n              v-model=\"param.value\"\n            />\n          </template>\n        </tbody>\n      </table>\n    </template>\n\n    <template #footer>\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\n        {{$t('button-cancel')}}\n      </button>\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\n        {{$t('button-launch-new-analysis')}}\n      </button>\n    </template>\n  </cytomine-modal>\n</form>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport {SoftwareCollection, Job, JobParameter} from 'cytomine-client';\nimport CytomineModal from '@/components/utils/CytomineModal';\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\nimport JobParameterRow from './JobParameterRow';\n\nexport default {\n  name: 'add-job-modal',\n  props: {\n    active: Boolean\n  },\n  components: {\n    CytomineModal,\n    CytomineMultiselect,\n    JobParameterRow\n  },\n  $_veeValidate: {validator: 'new'},\n  data() {\n    return {\n      softwares: [],\n      selectedSoftware: null,\n      showPrefilled: false,\n      showOptional: false\n    };\n  },\n  computed: {\n    project: get('currentProject/project'),\n    params() {\n      return this.selectedSoftware ? this.selectedSoftware.parameters.array : [];\n    },\n    optionalParams() {\n      return this.params.filter(param => !param.required && !param.defaultParamValue);\n    },\n    prefilledParams() {\n      return this.params.filter(param => param.defaultParamValue);\n    },\n    paramsMandatoryNoDefault() {\n      return this.params.filter(param => param.required && !param.defaultParamValue);\n    },\n    jobParameters() {\n      return this.params\n        .filter(param => {\n          return param.value || param.value === 0;\n        })\n        .map(param => {\n          let value = param.value;\n          if(value.id) {\n            value = value.id;\n          }\n          if(Array.isArray(value)) {\n            if(value.length) {\n              if(value[0].id) {\n                value = value.map(model => model.id).join();\n              }\n            }\n            else {\n              value = null;\n            }\n          }\n          return new JobParameter({softwareParameter: param.id, value});\n        });\n    },\n    executableSoftwares() {\n      return this.softwares.filter(s => s.executable);\n    }\n  },\n  watch: {\n    active(val) {\n      if(val) {\n        this.selectedSoftware = null;\n        this.showOptional = false;\n        this.showPrefilled = false;\n      }\n    },\n    async selectedSoftware() {\n      if(!this.selectedSoftware) {\n        return;\n      }\n      for(let param of this.selectedSoftware.parameters) {\n        this.$set(param, 'value', param.defaultParamValue);\n      }\n    }\n  },\n  methods: {\n    async createJob() {\n      let result = await this.$validator.validateAll();\n      if(!result) {\n        return;\n      }\n\n      try {\n        let job = new Job({\n          software: this.selectedSoftware.id,\n          project: this.project.id,\n          jobParameters: this.jobParameters\n        });\n        await job.save();\n        this.$emit('add', job);\n        this.$emit('update:active', false);\n        await job.execute();\n        this.$notify({type: 'success', text: this.$t('notif-success-analysis-launch')});\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-analysis-launch')});\n      }\n    }\n  },\n  async created() {\n    this.softwares = (await SoftwareCollection.fetchAll({filterKey: 'project', filterValue: this.project.id})).array;\n  }\n};\n</script>\n\n<style scoped>\n>>> .modal-card {\n  width: 100%;\n  min-height: 70vh;\n}\n\n>>> .animation-content {\n  min-width: 70vw;\n  min-height: 70vh;\n}\n\n.columns {\n  align-items: center;\n}\n\n.table {\n  margin-bottom: 1em;\n}\n\nth:first-child {\n  width: 5%;\n}\n\nth:nth-child(2) {\n  width: 30%;\n}\n\ntd, >>> td {\n  vertical-align: middle !important;\n}\n\n.row-separator td {\n  border-top-width: 2px !important;\n  border-bottom-width: 1px !important;\n  font-weight: 600;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddJobModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddJobModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddJobModal.vue?vue&type=template&id=cd7246ac&scoped=true&\"\nimport script from \"./AddJobModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddJobModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddJobModal.vue?vue&type=style&index=0&id=cd7246ac&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cd7246ac\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"box error\" v-if=\"!configUI['project-jobs-tab']\">\n  <h2> {{ $t('access-denied') }} </h2>\n  <p>{{ $t('insufficient-permission') }}</p>\n</div>\n<div class=\"box error\" v-else-if=\"error\">\n  <h2> {{ $t('error') }} </h2>\n  <p>{{ $t('unexpected-error-info-message') }}</p>\n</div>\n<div v-else class=\"list-jobs-wrapper content-wrapper\">\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\n  <div v-if=\"!loading\" class=\"panel\">\n    <p class=\"panel-heading\">\n      {{$t('analysis')}}\n      <button v-if=\"canAddJob\" class=\"button is-link\" @click=\"launchModal = true\">\n        {{$t('button-launch-new-analysis')}}\n      </button>\n    </p>\n    <div class=\"panel-block\">\n      <div class=\"filters\">\n        <h2>{{$t('filters')}}</h2>\n        <div class=\"columns\">\n          <div class=\"column filter\">\n            <div class=\"filter-label\">\n              {{$t('algorithm')}}\n            </div>\n            <div class=\"filter-body\">\n              <cytomine-multiselect v-model=\"selectedSoftwares\" :options=\"availableSoftwares\" multiple track-by=\"id\" label=\"fullName\"/>\n            </div>\n          </div>\n\n          <div class=\"column filter\">\n            <div class=\"filter-label\">\n              {{$t('launcher')}}\n            </div>\n            <div class=\"filter-body\">\n              <cytomine-multiselect v-model=\"selectedLaunchers\" :options=\"availableLaunchers\" multiple />\n            </div>\n          </div>\n\n          <div class=\"column filter\">\n            <div class=\"filter-label\">\n              {{$t('execution-date')}}\n            </div>\n            <div class=\"filter-body\">\n              <cytomine-datepicker\n                v-model=\"selectedDate\"\n                :styles=\"['multiselect', 'bold-placeholder']\"\n                :placeholder=\"$t('all-dates')\"\n                :maxDate=\"new Date()\"\n              />\n            </div>\n          </div>\n\n          <div class=\"column\">\n            <div class=\"filter-label\">\n              {{$t('status')}}\n            </div>\n            <div class=\"filter-body\">\n              <cytomine-multiselect v-model=\"selectedStatus\" :options=\"availableStatus\"\n                label=\"label\" track-by=\"status\" multiple />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <cytomine-table\n        :collection=\"jobCollection\"\n        :currentPage.sync=\"currentPage\"\n        :perPage.sync=\"perPage\"\n        :openedDetailed.sync=\"openedDetails\"\n        :sort.sync=\"sortField\"\n        :order.sync=\"sortOrder\"\n        :revision=\"revision\"\n      >\n        <template #default=\"{row: job}\">\n          <b-table-column field=\"softwareName\" :label=\"$t('algorithm')\" sortable width=\"1000\">\n            {{job.softwareName}}\n          </b-table-column>\n\n          <b-table-column :label=\"$t('run-number')\" width=\"500\" centered>\n            {{job.number}}\n          </b-table-column>\n\n          <b-table-column field=\"username\" :label=\"$t('launched-by')\" sortable width=\"1000\">\n            {{ job.username }}\n          </b-table-column>\n\n          <b-table-column field=\"created\" :label=\"$t('execution-date')\" sortable width=\"1000\">\n            {{ Number(job.created) | moment('ll LT') }}\n          </b-table-column>\n\n          <b-table-column field=\"status\" :label=\"$t('status')\" sortable centered width=\"1000\">\n            <job-status :status=\"job.status\" />\n          </b-table-column>\n        </template>\n\n        <template #detail=\"{row: job}\">\n          <job-details\n            :key=\"job.id\"\n            :job=\"job\"\n            @update=\"revision++\"\n            @delete=\"deleteJob(job)\"\n            @relaunch=\"addJob\"\n          />\n        </template>\n\n        <template #empty>\n          <div class=\"content has-text-grey has-text-centered\">\n            <p>{{$t('no-analysis-run')}}</p>\n          </div>\n        </template>\n      </cytomine-table>\n    </div>\n  </div>\n\n  <add-job-modal :active.sync=\"launchModal\" @add=\"addJob\" />\n</div>\n</template>\n\n<script>\nimport {get, sync, syncMultiselectFilter} from '@/utils/store-helpers';\n\nimport {JobCollection} from 'cytomine-client';\nimport JobStatus from './JobStatus';\nimport JobDetails from './JobDetails';\nimport AddJobModal from './AddJobModal';\nimport CytomineTable from '@/components/utils/CytomineTable';\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\nimport CytomineDatepicker from '@/components/form/CytomineDatepicker';\nimport jobStatusMapping from '@/utils/job-utils';\n\n// store options to use with store helpers to target projects/currentProject/listJobs module\nconst storeOptions = {rootModuleProp: 'storeModule'};\n// redefine helpers to use storeOptions and correct module path\nconst localSyncMultiselectFilter = (filterName, options) => syncMultiselectFilter(null, filterName, options, storeOptions);\n\nexport default {\n  name: 'list-jobs',\n  components: {\n    JobStatus,\n    JobDetails,\n    AddJobModal,\n    CytomineTable,\n    CytomineMultiselect,\n    CytomineDatepicker\n  },\n  data() {\n    return {\n      loading: true,\n      error: false,\n      launchModal: false,\n      availableSoftwares: [],\n      availableLaunchers: [],\n      revision: 0\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    project: get('currentProject/project'),\n    configUI: get('currentProject/configUI'),\n    canManageProject() {\n      return this.$store.getters['currentProject/canManageProject'];\n    },\n    canAddJob() {\n      return !this.currentUser.guestByNow && (this.canManageProject || !this.project.isReadOnly);\n    },\n\n    availableStatus() {\n      return Object.keys(jobStatusMapping).map(key => {\n        return {label: this.$t(jobStatusMapping[key].label), status: key};\n      });\n    },\n\n    storeModule() { // path to the vuex module in which state of this component is stored (projects/currentProject/listJobs)\n      return this.$store.getters['currentProject/currentProjectModule'] + 'listJobs';\n    },\n\n    selectedSoftwares: localSyncMultiselectFilter('softwares', 'availableSoftwares'),\n    selectedLaunchers: localSyncMultiselectFilter('launchers', 'availableLaunchers'),\n    selectedDate: sync('executionDate', storeOptions),\n    selectedStatus: localSyncMultiselectFilter('statuses', 'availableStatus'),\n\n    jobCollection() {\n      let collection = new JobCollection({\n        project: this.project.id,\n        software: (this.selectedSoftwares.length > 0 && this.selectedSoftwares.length < this.availableSoftwares.length) ?\n          this.selectedSoftwares.map(option => option.id).join(',') : null\n      });\n\n      if(this.selectedLaunchers.length > 0){\n        collection['username'] = {\n          in: this.selectedLaunchers.join()\n        };\n      }\n      if(this.selectedStatus.length > 0){\n        collection['status'] = {\n          in: this.selectedStatus.map(option => option.status).join()\n        };\n      }\n      if(this.selectedDate) {\n        collection.created = {\n          gte: this.selectedDate.getTime(),\n          lte: new Date(this.selectedDate).setHours(15, 15, 59, 999)\n        };\n      }\n      return collection;\n    },\n\n    currentPage: sync('currentPage', storeOptions),\n    perPage: sync('perPage', storeOptions),\n    sortField: sync('sortField', storeOptions),\n    sortOrder: sync('sortOrder', storeOptions),\n    openedDetails: sync('openedDetails', storeOptions)\n  },\n  methods: {\n    async fetchMultiselectOptions() {\n      let stats = await JobCollection.fetchBounds({project: this.project.id});\n      this.availableSoftwares = stats.software.list;\n      this.availableLaunchers = stats.username.list;\n    },\n\n    async addJob(job) {\n      this.openedDetails = [job.id, ...this.openedDetails];\n      await this.fetchMultiselectOptions();\n      this.revision++;\n    },\n\n    async deleteJob(jobToDelete) {\n      try {\n        await jobToDelete.delete();\n        this.$notify({\n          type: 'success',\n          text: this.$t('notif-success-analysis-deletion')\n        });\n        this.fetchMultiselectOptions();\n        this.revision++;\n      }\n      catch(error) {\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-analysis-deletion')\n        });\n      }\n    }\n  },\n  async created() {\n    try {\n      await this.fetchMultiselectOptions();\n      this.loading = false;\n    }\n    catch(error) {\n      console.log(error);\n      this.error = true;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.panel-heading {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.filters {\n  margin-bottom: 1.5em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListJobs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListJobs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListJobs.vue?vue&type=template&id=9d96b340&scoped=true&\"\nimport script from \"./ListJobs.vue?vue&type=script&lang=js&\"\nexport * from \"./ListJobs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListJobs.vue?vue&type=style&index=0&id=9d96b340&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9d96b340\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.configUI['project-information-tab'])?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):_c('div',{staticClass:\"content-wrapper\"},[_c('div',{staticClass:\"box\"},[_c('project-details',{attrs:{\"project\":_vm.project,\"excluded-properties\":['imagesPreview'],\"editable\":\"\"},on:{\"update\":_vm.updateProject,\"delete\":function($event){return _vm.deleteProject()}}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"box error\" v-if=\"!configUI['project-information-tab']\">\n  <h2> {{ $t('access-denied') }} </h2>\n  <p>{{ $t('insufficient-permission') }}</p>\n</div>\n<div v-else class=\"content-wrapper\">\n  <div class=\"box\">\n    <project-details\n      :project=\"project\"\n      :excluded-properties=\"['imagesPreview']\"\n      editable\n      @update=\"updateProject\"\n      @delete=\"deleteProject()\"\n    />\n  </div>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport ProjectDetails from './ProjectDetails';\nimport {Project} from 'cytomine-client';\n\nexport default {\n  name: 'project-information',\n  components: {ProjectDetails},\n  computed: {\n    project: get('currentProject/project'),\n    configUI: get('currentProject/configUI')\n  },\n  methods: {\n    updateProject(updatedProject) {\n      this.$store.dispatch('currentProject/updateProject', updatedProject);\n    },\n    async deleteProject() {\n      try {\n        await Project.delete(this.project.id);\n        this.$notify({\n          type: 'success',\n          text: this.$t('notif-success-project-deletion', {projectName: this.project.name})\n        });\n        this.$router.push('/projects');\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-project-deletion', {projectName: this.project.name})\n        });\n      }\n    }\n  },\n  created() {\n    this.$store.dispatch('currentProject/reloadProject');\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectInformation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectInformation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectInformation.vue?vue&type=template&id=595994a0&\"\nimport script from \"./ProjectInformation.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectInformation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.configUI['project-configuration-tab'])?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):_c('div',{staticClass:\"content-wrapper\"},[_c('b-field',{staticClass:\"radio-buttons-fullwidth\"},[_c('b-radio-button',{attrs:{\"native-value\":\"general\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('general'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"members\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('members'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"customUI\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('custom-ui'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"algorithms\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('algorithms'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"imageFilters\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('image-filters'))+\" \")])],1),_c('div',{staticClass:\"box tab-content\"},[_c('keep-alive',[_c(_vm.activeComponent,{tag:\"component\"})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('editing-mode')))]),_c('p',{staticClass:\"explanation\"},[_vm._v(_vm._s(_vm.$t('editing-mode-explanation')))]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-radio',{attrs:{\"native-value\":\"CLASSIC\"},model:{value:(_vm.editingMode),callback:function ($$v) {_vm.editingMode=$$v},expression:\"editingMode\"}},[_vm._v(\" \"+_vm._s(_vm.$t('classic'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('classic-mode-explanation'))+\" \")])],1)]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-radio',{attrs:{\"native-value\":\"RESTRICTED\"},model:{value:(_vm.editingMode),callback:function ($$v) {_vm.editingMode=$$v},expression:\"editingMode\"}},[_vm._v(\" \"+_vm._s(_vm.$t('restricted'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('restricted-mode-explanation'))+\" \")])],1)]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-radio',{attrs:{\"native-value\":\"READ-ONLY\"},model:{value:(_vm.editingMode),callback:function ($$v) {_vm.editingMode=$$v},expression:\"editingMode\"}},[_vm._v(\" \"+_vm._s(_vm.$t('read-only'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('read-only-mode-explanation'))+\" \")])],1)]),_c('h2',[_vm._v(_vm._s(_vm.$t('blind-mode')))]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-checkbox',{model:{value:(_vm.blindMode),callback:function ($$v) {_vm.blindMode=$$v},expression:\"blindMode\"}},[_vm._v(\" \"+_vm._s(_vm.$t('blind-mode'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('blind-mode-explanation'))+\" \")])],1)]),_c('h2',[_vm._v(_vm._s(_vm.$t('annotation-layers')))]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-checkbox',{model:{value:(_vm.hideManagersLayers),callback:function ($$v) {_vm.hideManagersLayers=$$v},expression:\"hideManagersLayers\"}},[_vm._v(\" \"+_vm._s(_vm.$t('hide-managers-layers'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('hide-managers-layers-explanation'))+\" \")])],1)]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-checkbox',{model:{value:(_vm.hideContributorsLayers),callback:function ($$v) {_vm.hideContributorsLayers=$$v},expression:\"hideContributorsLayers\"}},[_vm._v(\" \"+_vm._s(_vm.$t('hide-contributors-layers'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('hide-contributors-layers-explanation'))+\" \")])],1)]),_c('h2',[_vm._v(_vm._s(_vm.$t('default-annotation-layers')))]),_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-select',{attrs:{\"size\":\"is-small\",\"placeholder\":_vm.$t('select-layer-placeholder')},model:{value:(_vm.layerToAdd),callback:function ($$v) {_vm.layerToAdd=$$v},expression:\"layerToAdd\"}},_vm._l((_vm.unselectedLayers),function(layer){return _c('option',{key:layer.id,domProps:{\"value\":layer}},[_vm._v(\" \"+_vm._s(_vm.fullName(layer))+\" \")])}),0),_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":!_vm.layerToAdd},on:{\"click\":function($event){return _vm.addDefaultLayer()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")])],1),(_vm.selectedLayers.length > 0)?_c('table',{staticClass:\"table\"},[_c('tbody',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t('layer')))]),_c('th',[_vm._v(_vm._s(_vm.$t('hide-by-default')))]),_c('th')]),_vm._l((_vm.selectedLayers),function(layer,idx){return _c('tr',{key:layer.id},[_c('td',[_vm._v(_vm._s(_vm.fullName(layer)))]),_c('td',{staticClass:\"is-centered\"},[_c('b-checkbox',{attrs:{\"size\":\"is-small\"},on:{\"input\":function($event){return _vm.saveDefaultLayer(idx)}},model:{value:(_vm.defaultLayers[idx].hideByDefault),callback:function ($$v) {_vm.$set(_vm.defaultLayers[idx], \"hideByDefault\", $$v)},expression:\"defaultLayers[idx].hideByDefault\"}})],1),_c('td',[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.deleteDefaultLayer(idx)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-remove')))])])])})],2)]):_vm._e(),_c('h2',[_vm._v(_vm._s(_vm.$t('default-property')))]),_c('default-property'),_c('h2',[_vm._v(_vm._s(_vm.$t('download-permission')))]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-checkbox',{model:{value:(_vm.imagesDownloadable),callback:function ($$v) {_vm.imagesDownloadable=$$v},expression:\"imagesDownloadable\"}},[_vm._v(\" \"+_vm._s(_vm.$t('images_downloadable_by_contributor'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('b-message',{attrs:{\"type\":\"is-info\",\"has-icon\":\"\",\"size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('images_downloadable_by_contributor-explanation'))+\" \")])],1)]),_c('h2',[_vm._v(\"Actions\")]),_c('project-actions',{attrs:{\"project\":_vm.project,\"size\":\"is-normal\"},on:{\"update\":_vm.externalProjectUpdate,\"delete\":function($event){return _vm.deleteProject()}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-autocomplete',{attrs:{\"data\":_vm.filteredKeys,\"placeholder\":_vm.$t('no-default-property'),\"loading\":_vm.loading,\"disabled\":_vm.loading,\"size\":\"is-small\"},scopedSlots:_vm._u([{key:\"empty\",fn:function(){return [_vm._v(_vm._s(_vm.$t('no-property-matching-search-string', {searchString: _vm.searchString})))]},proxy:true}]),model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":_vm.defaultPropertyProp && _vm.searchString === _vm.defaultPropertyProp.value},on:{\"click\":function($event){return _vm.confirm()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n  <h2> {{ $t('error') }} </h2>\n  <p> {{ $t('unexpected-error-info-message') }} </p>\n</b-message>\n<b-field grouped v-else>\n  <b-autocomplete\n    v-model=\"searchString\"\n    :data=\"filteredKeys\"\n    :placeholder=\"$t('no-default-property')\"\n    :loading=\"loading\"\n    :disabled=\"loading\"\n    size=\"is-small\"\n  >\n    <template #empty>{{$t('no-property-matching-search-string', {searchString})}}</template>\n  </b-autocomplete>\n\n  <button\n    class=\"button is-small\"\n    @click=\"confirm()\"\n    :disabled=\"defaultPropertyProp && searchString === defaultPropertyProp.value\"\n  >\n    {{$t('button-save')}}\n  </button>\n</b-field>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport {Property, PropertyCollection} from 'cytomine-client';\nimport constants from '@/utils/constants.js';\nimport {getWildcardRegexp} from '@/utils/string-utils';\n\nexport default {\n  data() {\n    return {\n      loading: true,\n      error: false,\n\n      searchString: '',\n\n      defaultPropertyProp: null, // project property storing the property to display by default when opening an image\n      keysAnnotationProps: []\n    };\n  },\n  computed: {\n    project: get('currentProject/project'),\n    filteredKeys() {\n      if(!this.searchString.length) {\n        return this.keysAnnotationProps;\n      }\n\n      let regexp = getWildcardRegexp(this.searchString);\n      return this.keysAnnotationProps.filter(key => regexp.test(key));\n    }\n  },\n  methods: {\n    async fetchKeysAnnotationProperties() {\n      this.keysAnnotationProps = await PropertyCollection.fetchKeysAnnotationProperties(this.project.id);\n    },\n\n    async fetchDefaultPropertyProp() {\n      try {\n        let projectProps = (await PropertyCollection.fetchAll({object: this.project})).array;\n        this.defaultPropertyProp = projectProps.find(prop => prop.key === constants.DEFAULT_PROPERTY_KEY);\n      }\n      catch(error) {\n        console.log(error);\n      }\n\n      if(!this.defaultPropertyProp) {\n        this.defaultPropertyProp = new Property({key: constants.DEFAULT_PROPERTY_KEY, value: ''}, this.project);\n      }\n\n      this.searchString = this.defaultPropertyProp.value;\n    },\n\n    confirm() {\n      if(this.keysAnnotationProps.includes(this.searchString) || !this.searchString.length) {\n        this.save();\n        return;\n      }\n\n      // if user entered value that is not yet used as key for an annotation property, ask confirmation\n      this.$buefy.dialog.confirm({\n        title: this.$t('confirm-default-property'),\n        message: this.$t('confirm-default-property-not-used-in-project', {key: this.searchString}),\n        type: 'is-info',\n        confirmText: this.$t('button-confirm'),\n        cancelText: this.$t('button-cancel'),\n        onConfirm: () => this.save(),\n        onCancel: () => this.searchString = this.defaultPropertyProp.value\n      });\n    },\n\n    async save() {\n      this.defaultPropertyProp.value = this.searchString;\n      try {\n        if(!this.defaultPropertyProp.value.length) { // empty property\n          if(!this.defaultPropertyProp.isNew()) { // property exists\n            await this.defaultPropertyProp.delete();\n            this.defaultPropertyProp = new Property({key: constants.DEFAULT_PROPERTY_KEY, value: ''}, this.project);\n          }\n        }\n        else {\n          await this.defaultPropertyProp.save();\n        }\n        this.$notify({type: 'success', text: this.$t('notif-success-default-property-update')});\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-default-property-update')});\n      }\n    }\n  },\n  async created() {\n    try {\n      await Promise.all([\n        this.fetchKeysAnnotationProperties(),\n        this.fetchDefaultPropertyProp()\n      ]);\n    }\n    catch(error) {\n      console.log(error);\n      this.error = true;\n    }\n\n    this.loading = false;\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DefaultProperty.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DefaultProperty.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DefaultProperty.vue?vue&type=template&id=2846db24&\"\nimport script from \"./DefaultProperty.vue?vue&type=script&lang=js&\"\nexport * from \"./DefaultProperty.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div>\n  <h2>{{$t('editing-mode')}}</h2>\n  <p class=\"explanation\">{{$t('editing-mode-explanation')}}</p>\n\n  <div class=\"columns\">\n    <div class=\"column is-one-quarter\">\n      <b-radio v-model=\"editingMode\" native-value=\"CLASSIC\">\n        {{$t('classic')}}\n      </b-radio>\n    </div>\n    <div class=\"column\">\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\n        {{$t('classic-mode-explanation')}}\n      </b-message>\n    </div>\n  </div>\n\n  <div class=\"columns\">\n    <div class=\"column is-one-quarter\">\n      <b-radio v-model=\"editingMode\" native-value=\"RESTRICTED\">\n        {{$t('restricted')}}\n      </b-radio>\n    </div>\n    <div class=\"column\">\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\n        {{$t('restricted-mode-explanation')}}\n      </b-message>\n    </div>\n  </div>\n\n  <div class=\"columns\">\n    <div class=\"column is-one-quarter\">\n      <b-radio v-model=\"editingMode\" native-value=\"READ-ONLY\">\n        {{$t('read-only')}}\n      </b-radio>\n    </div>\n    <div class=\"column\">\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\n        {{$t('read-only-mode-explanation')}}\n      </b-message>\n    </div>\n  </div>\n\n  <h2>{{$t('blind-mode')}}</h2>\n\n  <div class=\"columns\">\n    <div class=\"column is-one-quarter\">\n      <b-checkbox v-model=\"blindMode\">\n        {{$t('blind-mode')}}\n      </b-checkbox>\n    </div>\n    <div class=\"column\">\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\n        {{$t('blind-mode-explanation')}}\n      </b-message>\n    </div>\n  </div>\n\n  <h2>{{$t('annotation-layers')}}</h2>\n\n  <div class=\"columns\">\n    <div class=\"column is-one-quarter\">\n      <b-checkbox v-model=\"hideManagersLayers\">\n        {{$t('hide-managers-layers')}}\n      </b-checkbox>\n    </div>\n    <div class=\"column\">\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\n        {{$t('hide-managers-layers-explanation')}}\n      </b-message>\n    </div>\n  </div>\n\n  <div class=\"columns\">\n    <div class=\"column is-one-quarter\">\n      <b-checkbox v-model=\"hideContributorsLayers\">\n        {{$t('hide-contributors-layers')}}\n      </b-checkbox>\n    </div>\n    <div class=\"column\">\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\n        {{$t('hide-contributors-layers-explanation')}}\n      </b-message>\n    </div>\n  </div>\n\n  <h2>{{$t('default-annotation-layers')}}</h2>\n\n  <b-field grouped>\n    <b-select size=\"is-small\" :placeholder=\"$t('select-layer-placeholder')\" v-model=\"layerToAdd\">\n      <option v-for=\"layer in unselectedLayers\" :key=\"layer.id\" :value=\"layer\">\n        {{fullName(layer)}}\n      </option>\n    </b-select>\n\n    <button class=\"button is-small\" :disabled=\"!layerToAdd\" @click=\"addDefaultLayer()\">\n      {{$t('button-add')}}\n    </button>\n  </b-field>\n\n  <table v-if=\"selectedLayers.length > 0\" class=\"table\">\n    <tbody>\n      <tr>\n        <th>{{$t('layer')}}</th>\n        <th>{{$t('hide-by-default')}}</th>\n        <th></th>\n      </tr>\n      <tr v-for=\"(layer, idx) in selectedLayers\" :key=\"layer.id\">\n        <td>{{fullName(layer)}}</td>\n        <td class=\"is-centered\">\n          <b-checkbox v-model=\"defaultLayers[idx].hideByDefault\" size=\"is-small\" @input=\"saveDefaultLayer(idx)\" />\n        </td>\n        <td>\n          <button class=\"button is-small\" @click=\"deleteDefaultLayer(idx)\"> {{$t('button-remove')}}</button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <h2>{{$t('default-property')}}</h2>\n  <default-property />\n\n  <h2>{{$t('download-permission')}}</h2>\n\n  <div class=\"columns\">\n    <div class=\"column is-one-quarter\">\n      <b-checkbox v-model=\"imagesDownloadable\">\n        {{$t('images_downloadable_by_contributor')}}\n      </b-checkbox>\n    </div>\n    <div class=\"column\">\n      <b-message type=\"is-info\" has-icon size=\"is-small\">\n        {{$t('images_downloadable_by_contributor-explanation')}}\n      </b-message>\n    </div>\n  </div>\n\n\n  <h2>Actions</h2>\n  <project-actions :project=\"project\" size=\"is-normal\" @update=\"externalProjectUpdate\" @delete=\"deleteProject()\" />\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport ProjectActions from '../ProjectActions';\nimport DefaultProperty from './DefaultProperty';\nimport {Project, ProjectDefaultLayer, ProjectDefaultLayerCollection} from 'cytomine-client';\nimport {fullName} from '@/utils/user-utils.js';\n\nexport default {\n  name: 'general-configuration',\n  components: {\n    ProjectActions,\n    DefaultProperty\n  },\n  data() {\n    return {\n      editingMode: '',\n      blindMode: null,\n      hideManagersLayers: null,\n      hideContributorsLayers: null,\n      imagesDownloadable: null,\n\n      layerToAdd: null,\n      defaultLayers: []\n    };\n  },\n  computed: {\n    project: get('currentProject/project'),\n    layers: get('currentProject/members'),\n\n    currentEditingMode() {\n      return this.project.isReadOnly ? 'READ-ONLY' : this.project.isRestricted ? 'RESTRICTED' : 'CLASSIC';\n    },\n\n    selectedLayers() {\n      return this.defaultLayers.map(defaultLayer => {\n        let layer = this.layers.find(layer => layer.id === defaultLayer.user);\n        return {...defaultLayer, ...layer};\n      });\n    },\n    unselectedLayers() {\n      let selectedLayersIds = this.defaultLayers.map(layer => layer.user);\n      return this.layers.filter(layer => !selectedLayersIds.includes(layer.id));\n    }\n  },\n  watch: {\n    editingMode(mode) {\n      if(mode === this.currentEditingMode) {\n        return;\n      }\n      this.updateProject({isReadOnly: mode === 'READ-ONLY', isRestricted: mode === 'RESTRICTED'});\n    },\n\n    blindMode() {\n      if(this.blindMode === this.project.blindMode) {\n        return;\n      }\n      this.updateProject({blindMode: this.blindMode});\n    },\n\n    hideManagersLayers() {\n      if(this.hideManagersLayers === this.project.hideAdminsLayers) {\n        return;\n      }\n      this.updateProject({hideAdminsLayers: this.hideManagersLayers});\n    },\n\n    hideContributorsLayers() {\n      if(this.hideContributorsLayers === this.project.hideUsersLayers) {\n        return;\n      }\n      this.updateProject({hideUsersLayers: this.hideContributorsLayers});\n    },\n\n    imagesDownloadable(){\n      if(this.imagesDownloadable === this.project.areImagesDownloadable){\n        return;\n      }\n      this.updateProject({areImagesDownloadable: this.imagesDownloadable});\n    }\n  },\n  methods: {\n    fullName(layer) {\n      return fullName(layer);\n    },\n\n    initData() {\n      this.editingMode = this.currentEditingMode;\n      this.blindMode = this.project.blindMode;\n      this.hideManagersLayers = this.project.hideAdminsLayers;\n      this.hideContributorsLayers = this.project.hideUsersLayers;\n      this.imagesDownloadable = this.project.areImagesDownloadable;\n    },\n\n    async fetchDefaultLayers() {\n      this.defaultLayers = (await ProjectDefaultLayerCollection.fetchAll({\n        filterKey: 'project',\n        filterValue: this.project.id\n      })).array;\n    },\n\n    async updateProject(newProps) {\n      let updatedProject = this.project.clone();\n      updatedProject.populate(newProps);\n      try {\n        await updatedProject.save();\n        this.$store.commit('currentProject/setProject', updatedProject);\n      }\n      catch(error) {\n        console.log(error);\n        this.initData(); // reset data\n        this.$notify({type: 'error', text: this.$t('notif-error-general-config-update')});\n      }\n    },\n\n    async addDefaultLayer() {\n      if(!this.layerToAdd) {\n        return;\n      }\n\n      try {\n        let defaultLayer = new ProjectDefaultLayer({\n          project: this.project.id,\n          user: this.layerToAdd.id\n        });\n        await defaultLayer.save();\n        this.defaultLayers.push(defaultLayer);\n        this.layerToAdd = null;\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-default-layer-add')});\n      }\n    },\n\n    async saveDefaultLayer(idx) {\n      try {\n        await this.defaultLayers[idx].save();\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-default-layer-update')});\n      }\n    },\n\n    async deleteDefaultLayer(idx) {\n      try {\n        await this.defaultLayers[idx].delete();\n        this.defaultLayers.splice(idx, 1);\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-default-layer-delete')});\n      }\n    },\n\n    externalProjectUpdate(updatedProject) {\n      this.$store.dispatch('currentProject/updateProject', updatedProject);\n    },\n\n    async deleteProject() {\n      try {\n        await Project.delete(this.project.id);\n        this.$notify({\n          type: 'success',\n          text: this.$t('notif-success-project-deletion', {projectName: this.project.name})\n        });\n        this.$router.push('/projects');\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-project-deletion', {projectName: this.project.name})\n        });\n      }\n    }\n  },\n  async created() {\n    this.initData();\n    this.fetchDefaultLayers();\n  }\n};\n</script>\n\n<style scoped>\nh2 {\n  color: #444;\n  border-bottom: 1px solid #ddd;\n  margin-top: 1.5em;\n}\n\nh2:first-child {\n  margin-top: 0;\n}\n\n.columns {\n  align-items: center;\n}\n\n.column {\n  padding: 0.8em;\n}\n\n.column:first-child {\n  padding-left: 3.5em;\n}\n\n.explanation {\n  margin-bottom: 1.4em;\n}\n\n.is-centered {\n  text-align: center;\n}\n\nth, td {\n  padding: 0.5em 2em !important;\n}\n\n>>> .message-body {\n  padding: 1em !important;\n}\n\n>>> select, >>> input[type=text] {\n  width: 26em;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralConfiguration.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralConfiguration.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GeneralConfiguration.vue?vue&type=template&id=7819b418&scoped=true&\"\nimport script from \"./GeneralConfiguration.vue?vue&type=script&lang=js&\"\nexport * from \"./GeneralConfiguration.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GeneralConfiguration.vue?vue&type=style&index=0&id=7819b418&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7819b418\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list-members-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):(!_vm.loading)?[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('div',{staticClass:\"column filter is-one-quarter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('role'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableRoles,\"multiple\":true,\"searchable\":false,\"label\":\"label\",\"track-by\":\"value\"},model:{value:(_vm.selectedRoles),callback:function ($$v) {_vm.selectedRoles=$$v},expression:\"selectedRoles\"}})],1)]),_c('div',{staticClass:\"column is-one-half has-text-right-desktop buttons\"},[_c('button',{staticClass:\"button is-link add-member\",on:{\"click\":function($event){_vm.addMemberModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add-members'))+\" \")]),_c('button',{staticClass:\"button is-danger\",attrs:{\"disabled\":_vm.selectedMembers.length === 0},on:{\"click\":function($event){return _vm.confirmMembersRemoval()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-remove-selected-members'))+\" \")])])]),_c('cytomine-table',{attrs:{\"collection\":_vm.MemberCollection,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"detailed\":false,\"checkable\":true,\"isRowCheckable\":function (row) { return row.id !== _vm.currentUser.id; },\"checkedRows\":_vm.selectedMembers,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event},\"update:checkedRows\":function($event){_vm.selectedMembers=$event},\"update:checked-rows\":function($event){_vm.selectedMembers=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar member = ref.row;\nreturn [_c('b-table-column',{attrs:{\"field\":\"username\",\"label\":_vm.$t('username'),\"sortable\":\"\",\"width\":\"100\"}},[_vm._v(\" \"+_vm._s(member.username)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"fullName\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(member.firstname)+\" \"+_vm._s(member.lastname)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"projectRole\",\"label\":_vm.$t('role'),\"sortable\":\"\",\"width\":\"50\"}},[_c('icon-project-member-role',{attrs:{\"is-manager\":member.role !== _vm.contributorRole.value,\"is-representative\":member.role === _vm.representativeRole.value,\"editable\":\"\"},on:{\"toggleManager\":function($event){return _vm.confirmToggleManager(member)},\"toggleRepresentative\":function($event){return _vm.toggleRepresentative(member)}}})],1),_c('b-table-column',{attrs:{\"field\":\"origin\",\"label\":_vm.$t('source'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"50\"}},[_c('span',{staticClass:\"tag ldap is-rounded is-info\",class:{ldap: member.LDAP}},[_vm._v(\" \"+_vm._s(_vm.displayMemberOrigin(member))+\" \")])]),_c('b-table-column',{attrs:{\"label\":\"\",\"centered\":\"\",\"width\":\"50\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":(\"/project/\" + (_vm.project.id) + \"/activity/user/\" + (member.id))}},[_vm._v(\" \"+_vm._s(_vm.$t('button-view-activity'))+\" \")])],1)]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-member-fitting-criteria')))])])]},proxy:true},{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"has-text-centered\"},[_c('a',{staticClass:\"button is-link\",attrs:{\"href\":_vm.exportURL,\"target\":\"_self\"}},[_vm._v(_vm._s(_vm.$t('button-export-as-csv')))])])]},proxy:true}])}),_c('div',{staticClass:\"legend\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('legend')))]),_c('p',[_c('icon-project-member-role'),_vm._v(\" : \"+_vm._s(_vm.$t('project-contributor')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('project-manager')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true,\"is-representative\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('project-representative')))],1)]),_c('add-member-modal',{attrs:{\"active\":_vm.addMemberModal},on:{\"update:active\":function($event){_vm.addMemberModal=$event},\"addMembers\":function($event){return _vm.refreshMembers()}}})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.$t('add-members-to-project')},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",on:{\"click\":_vm.addMembers}},[_vm._v(\" \"+_vm._s(_vm.$t('button-add'))+\" \")])]},proxy:true}])},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[_c('b-field',[_c('domain-tag-input',{attrs:{\"domains\":_vm.notMemberUsers,\"placeholder\":\"search-user\",\"displayedProperty\":\"fullName\",\"searchedProperty\":\"fullName\"},model:{value:(_vm.selectedMembers),callback:function ($$v) {_vm.selectedMembers=$$v},expression:\"selectedMembers\"}})],1)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<cytomine-modal :active=\"active\" :title=\"$t('add-members-to-project')\" @close=\"$emit('update:active', false)\">\n    <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\n    <template v-if=\"!loading\">\n      <b-field>\n        <domain-tag-input v-model=\"selectedMembers\" :domains=\"notMemberUsers\" placeholder=\"search-user\" displayedProperty=\"fullName\" searchedProperty=\"fullName\"/>\n      </b-field>\n    </template>\n\n    <template #footer>\n      <button class=\"button\" @click=\"$emit('update:active', false)\">\n        {{$t('button-cancel')}}\n      </button>\n      <button class=\"button is-link\" @click=\"addMembers\">\n        {{$t('button-add')}}\n      </button>\n    </template>\n</cytomine-modal>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport {UserCollection} from 'cytomine-client';\nimport DomainTagInput from '@/components/utils/DomainTagInput';\nimport CytomineModal from '@/components/utils/CytomineModal';\nimport {fullName} from '@/utils/user-utils.js';\n\nexport default {\n  name: 'add-member-modal',\n  props: {\n    active: Boolean\n  },\n  components: {\n    CytomineModal,\n    DomainTagInput,\n  },\n  data() {\n    return {\n      loading: true,\n      users: [],\n      selectedMembers: []\n    };\n  },\n  computed: {\n    project: get('currentProject/project'),\n    projectMembersIds() {\n      let projectMembers = this.$store.state.currentProject.members;\n      let newProjectMembers = projectMembers.concat(this.selectedMembers);\n      return newProjectMembers.map(u => u.id);\n    },\n    notMemberUsers() {\n      return this.users.filter(user => !this.projectMembersIds.includes(user.id));\n    }\n  },\n  watch: {\n    active() {\n      this.selectedMembers = [];\n    }\n  },\n  methods: {\n    async addMembers() {\n      try {\n        await this.project.addUsers(this.selectedMembers.map(member => member.id));\n        this.$emit('addMembers');\n        this.$notify({type: 'success', text: this.$t('notif-success-add-project-members')});\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-add-project-members')});\n      }\n\n      this.$emit('update:active', false);\n    }\n  },\n  async created() {\n    let users = (await UserCollection.fetchAll()).array;\n    users.forEach(u => u.fullName = fullName(u));\n    this.users = users;\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\n>>> .modal-card, >>> .modal-card-body {\n  overflow: visible !important;\n  width: 60vw !important;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddMemberModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddMemberModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddMemberModal.vue?vue&type=template&id=8b4d078a&scoped=true&\"\nimport script from \"./AddMemberModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddMemberModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddMemberModal.vue?vue&type=style&index=0&id=8b4d078a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8b4d078a\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n\n<template>\n<div class=\"list-members-wrapper\">\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n    <h2> {{ $t('error') }} </h2>\n    <p> {{ $t('unexpected-error-info-message') }} </p>\n  </b-message>\n  <template v-else-if=\"!loading\">\n    <div class=\"columns\">\n      <div class=\"column is-one-quarter\">\n        <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\n      </div>\n\n      <div class=\"column filter is-one-quarter\">\n        <div class=\"filter-label\">\n          {{$t('role')}}\n        </div>\n        <div class=\"filter-body\">\n          <cytomine-multiselect v-model=\"selectedRoles\" :options=\"availableRoles\" :multiple=\"true\"\n            :searchable=\"false\" label=\"label\" track-by=\"value\"/>\n        </div>\n      </div>\n      <div class=\"column is-one-half has-text-right-desktop buttons\">\n        <button class=\"button is-link add-member\" @click=\"addMemberModal = true\">\n          {{$t('button-add-members')}}\n        </button>\n\n        <button class=\"button is-danger\" @click=\"confirmMembersRemoval()\" :disabled=\"selectedMembers.length === 0\">\n          {{$t('button-remove-selected-members')}}\n        </button>\n      </div>\n    </div>\n\n    <cytomine-table\n      :collection=\"MemberCollection\"\n      :currentPage.sync=\"currentPage\"\n      :perPage.sync=\"perPage\"\n      :sort.sync=\"sortField\"\n      :order.sync=\"sortOrder\"\n      :detailed=false\n      :checkable=true\n      :isRowCheckable=\"(row) => row.id !== currentUser.id\"\n      :checkedRows.sync=\"selectedMembers\"\n      :revision=\"revision\"\n    >\n\n      <template #default=\"{row: member}\">\n        <b-table-column field=\"username\" :label=\"$t('username')\" sortable width=\"100\">\n          {{member.username}}\n        </b-table-column>\n\n        <b-table-column field=\"fullName\" :label=\"$t('name')\" sortable width=\"150\">\n          {{member.firstname}} {{member.lastname}}\n        </b-table-column>\n\n        <b-table-column field=\"projectRole\" :label=\"$t('role')\" sortable width=\"50\">\n          <icon-project-member-role\n            :is-manager=\"member.role !== contributorRole.value\"\n            :is-representative=\"member.role === representativeRole.value\"\n            editable\n            @toggleManager=\"confirmToggleManager(member)\"\n            @toggleRepresentative=\"toggleRepresentative(member)\"\n          />\n        </b-table-column>\n\n        <b-table-column field=\"origin\" :label=\"$t('source')\" centered sortable width=\"50\">\n          <span class=\"tag ldap is-rounded is-info\" :class=\"{ldap: member.LDAP}\">\n            {{displayMemberOrigin(member)}}\n          </span>\n        </b-table-column>\n\n        <b-table-column label=\"\" centered width=\"50\">\n          <router-link :to=\"`/project/${project.id}/activity/user/${member.id}`\" class=\"button is-small is-link\">\n            {{$t('button-view-activity')}}\n          </router-link>\n        </b-table-column>\n      </template>\n\n      <template #empty>\n        <div class=\"content has-text-grey has-text-centered\">\n          <p>{{$t('no-member-fitting-criteria')}}</p>\n        </div>\n      </template>\n\n      <template #footer>\n        <div class=\"has-text-centered\">\n          <a :href=\"exportURL\" target=\"_self\" class=\"button is-link\">{{$t('button-export-as-csv')}}</a>\n        </div>\n      </template>\n    </cytomine-table>\n\n    <div class=\"legend\">\n      <h2>{{$t('legend')}}</h2>\n      <p><icon-project-member-role /> : {{$t('project-contributor')}}</p>\n      <p><icon-project-member-role :is-manager=\"true\" /> : {{$t('project-manager')}}</p>\n      <p><icon-project-member-role :is-manager=\"true\" :is-representative=\"true\" /> : {{$t('project-representative')}}</p>\n    </div>\n\n    <add-member-modal :active.sync=\"addMemberModal\" @addMembers=\"refreshMembers()\" />\n  </template>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport CytomineTable from '@/components/utils/CytomineTable';\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\nimport AddMemberModal from './AddMemberModal';\nimport {fullName} from '@/utils/user-utils.js';\nimport {Cytomine, UserCollection, ProjectRepresentative} from 'cytomine-client';\nimport IconProjectMemberRole from '@/components/icons/IconProjectMemberRole';\n\nexport default {\n  name: 'projet-members',\n  components: {\n    IconProjectMemberRole,\n    CytomineTable,\n    CytomineMultiselect,\n    AddMemberModal\n  },\n  data() {\n    return {\n      loading: true,\n      error: false,\n\n      addMemberModal: false,\n\n      currentPage: 1,\n      perPage: 25,\n      sortField: '',\n      sortOrder: '',\n\n      searchString: '',\n\n      contributorRole: {label:this.$t('contributor'), value : 'contributor'},\n      managerRole: {label:this.$t('manager'), value: 'manager'},\n      representativeRole: {label:this.$t('representative'), value: 'representative'},\n      availableRoles: [],\n      selectedRoles: [],\n      selectedMembers: [],\n\n\n      revision: 0\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    project: get('currentProject/project'),\n    MemberCollection() {\n      let collection = new UserCollection({\n        filterKey: 'project',\n        filterValue: this.project.id,\n      });\n      if(this.selectedRoles.length > 0){\n        collection['projectRole'] = {\n          in: this.selectedRoles.map(option => option.value).join()\n        };\n      }\n      if(this.searchString) {\n        collection['fullName'] = {\n          ilike: encodeURIComponent(this.searchString)\n        };\n      }\n\n      return collection;\n    },\n\n\n    exportURL() {\n      // TODO in core: should export only the filtered users\n      return Cytomine.instance.host + Cytomine.instance.basePath + `project/${this.project.id}/user/download?format=csv`;\n    },\n  },\n\n  methods: {\n    displayMemberOrigin(member){\n      let key;\n      if(member.origin === 'LDAP') key = 'LDAP';\n      if(member.origin === 'BOOTSTRAP') key = 'system';\n      else key = 'manual';\n\n      return this.$t(key);\n    },\n    async refreshMembers() {\n      try {\n        this.revision++;\n        await this.$store.dispatch('currentProject/fetchProjectMembers');\n      }\n      catch(error) {\n        console.log(error);\n        this.error = true;\n      }\n    },\n\n    confirmMembersRemoval() {\n      this.$buefy.dialog.confirm({\n        title: this.$t('remove-members'),\n        message: this.$tc('remove-members-confirmation-message', this.selectedMembers.length, {\n          count: this.selectedMembers.length,\n          username: fullName(this.selectedMembers[0])\n        }),\n        type: 'is-danger',\n        confirmText: this.$t('button-confirm'),\n        cancelText: this.$t('button-cancel'),\n        onConfirm: () => this.removeSelectedMembers()\n      });\n    },\n\n    async removeSelectedMembers() {\n      try {\n        await this.project.deleteUsers(this.selectedMembers.map(member => member.id));\n        await this.refreshMembers();\n        this.$notify({type: 'success', text: this.$t('notif-success-remove-project-members')});\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-remove-project-members')});\n      }\n    },\n\n    confirmToggleManager(member) {\n      if(member.id === this.currentUser.id && member.role !== this.contributorRole.value) {\n        this.$buefy.dialog.confirm({\n          title: this.$t('remove-yourself-from-manager'),\n          message: this.$tc('remove-yourself-from-manager-confirmation-message'),\n          type: 'is-danger',\n          confirmText: this.$t('button-confirm'),\n          cancelText: this.$t('button-cancel'),\n          onConfirm: () => this.toggleManager(member)\n        });\n      }\n      else {\n        this.toggleManager(member);\n      }\n    },\n    async toggleManager(member) {\n      try {\n        if(member.role !== this.contributorRole.value) {\n          if(member.role == this.representativeRole.value) {\n            await ProjectRepresentative.delete(0, this.project.id, member.id);\n          }\n          await this.project.deleteAdmin(member.id);\n        }\n        else {\n          await this.project.addAdmin(member.id);\n        }\n        this.revision++;\n\n        if(member.id === this.currentUser.id) {\n          await this.$store.dispatch('currentProject/fetchUIConfig');\n          if(!this.$store.state.currentProject.configUI['project-configuration-tab']) {\n            this.$router.push(`/project/${this.project.id}`);\n          }\n        }\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-change-role', {username: fullName(member)})});\n      }\n    },\n    async toggleRepresentative(member) {\n      try {\n        if(member.role === this.representativeRole.value) {\n          await ProjectRepresentative.delete(0, this.project.id, member.id);\n        }\n        else {\n          await new ProjectRepresentative({user: member.id, project: this.project.id}).save();\n        }\n        this.revision++;\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-change-role', {username: fullName(member)})});\n      }\n    },\n  },\n  async created() {\n    this.availableRoles = [this.contributorRole, this.managerRole, this.representativeRole];\n    this.selectedRoles = this.availableRoles;\n    this.revision++;\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\n.filter {\n  display: flex;\n  align-items: center;\n}\n\n.filter-label {\n  margin-right: 1em;\n  margin-bottom: 0 !important;\n}\n\n.filter-body {\n  flex-grow: 1;\n}\n\n.list-members-wrapper {\n  min-height: 40vh;\n}\n\n.tag {\n  font-size: 0.75em !important;\n  font-weight: 600;\n}\n\n.tag.ldap {\n  background-color: #A0C0E6;\n}\n\n.legend {\n  margin-top: 0.8rem;\n  margin-bottom: 1rem;\n  border-radius: 10px;\n  padding: 1rem 1.5em;\n  background: #f8f8f8;\n}\n\n.legend p {\n  padding-bottom: 0.4em;\n}\n\n.legend .icons {\n  display: inline-block;\n  width: 40px;\n  margin-right: 0.7em;\n}\n\na:hover .fas {\n  color: rgb(35, 102, 216);\n}\n\na:hover .fas.disabled, a:hover .disabled .fas {\n  color: rgba(35, 102, 216, 0.5);\n}\n\n.fas {\n  color: black;\n  width: 20px;\n  position: relative;\n}\n\n.fas.fa-flag {\n  font-size: 0.8em;\n  bottom: 0.5em;\n}\n\n.fas.disabled, .disabled .fas {\n  color: rgba(0, 0, 0, 0.1);\n}\n</style>\n\n<style>\n.table-members {\n  margin-top: 1.2em;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectMembers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectMembers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectMembers.vue?vue&type=template&id=725f628c&scoped=true&\"\nimport script from \"./ProjectMembers.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectMembers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectMembers.vue?vue&type=style&index=0&id=725f628c&scoped=true&lang=css&\"\nimport style1 from \"./ProjectMembers.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"725f628c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):(!_vm.loading)?_c('table',{staticClass:\"table custom-ui\"},_vm._l((_vm.customUITree),function(category){return _c('tbody',{key:category.label},[_c('tr',[_c('th',{attrs:{\"colspan\":\"3\"}},[_vm._v(_vm._s(_vm.$t(category.label)))])]),_vm._l((category.props),function(prop){return _c('tr',{key:prop.key},[_c('td',[(prop.superscript)?_c('i',{staticClass:\"superscript\",class:prop.superscript}):_vm._e(),(prop.icon || prop.iconComponent)?_c('span',{staticClass:\"icon\"},[(prop.icon)?_c('i',{class:prop.icon}):_c(prop.iconComponent,{tag:\"component\"})],1):_vm._e(),_vm._v(\" \"+_vm._s(_vm.$t(prop.label))+\" \")]),_c('td',[_c('button',{class:['button', _vm.customUI[prop.key] && _vm.customUI[prop.key].ADMIN_PROJECT && !_vm.isParentDisabled(prop, 'ADMIN_PROJECT') ? 'is-success' : 'is-danger'],attrs:{\"disabled\":_vm.isParentDisabled(prop, 'ADMIN_PROJECT') || prop.key === 'project-configuration-tab'},on:{\"click\":function($event){return _vm.toggleProp(prop.key, 'ADMIN_PROJECT')}}},[_vm._v(\" \"+_vm._s(_vm.$t('manager'))+\" \")])]),_c('td',[_c('button',{class:['button', _vm.customUI[prop.key] && _vm.customUI[prop.key].CONTRIBUTOR_PROJECT && !_vm.isParentDisabled(prop, 'CONTRIBUTOR_PROJECT') ? 'is-success' : 'is-danger'],attrs:{\"disabled\":_vm.isParentDisabled(prop, 'CONTRIBUTOR_PROJECT') || prop.key === 'project-configuration-tab'},on:{\"click\":function($event){return _vm.toggleProp(prop.key, 'CONTRIBUTOR_PROJECT')}}},[_vm._v(\" \"+_vm._s(_vm.$t('contributor'))+\" \")])])])})],2)}),0):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"xmlns:dc\":\"http://purl.org/dc/elements/1.1/\",\"xmlns:cc\":\"http://creativecommons.org/ns#\",\"xmlns:rdf\":\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\"xmlns:svg\":\"http://www.w3.org/2000/svg\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:sodipodi\":\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\",\"xmlns:inkscape\":\"http://www.inkscape.org/namespaces/inkscape\",\"width\":\"4mm\",\"height\":\"4mm\",\"viewBox\":\"0 0 14.173228 14.173229\",\"id\":\"svg2\",\"version\":\"1.1\",\"inkscape:version\":\"0.91 r13725\",\"sodipodi:docname\":\"free-polygon.svg\"}},[_c('defs',{attrs:{\"id\":\"defs4\"}}),_c('sodipodi:namedview',{attrs:{\"id\":\"base\",\"pagecolor\":\"#ffffff\",\"bordercolor\":\"#666666\",\"borderopacity\":\"1.0\",\"inkscape:pageopacity\":\"0.0\",\"inkscape:pageshadow\":\"2\",\"inkscape:zoom\":\"52.572505\",\"inkscape:cx\":\"9.7957273\",\"inkscape:cy\":\"6.9348154\",\"inkscape:document-units\":\"px\",\"inkscape:current-layer\":\"layer1\",\"showgrid\":\"false\",\"inkscape:window-width\":\"1855\",\"inkscape:window-height\":\"1056\",\"inkscape:window-x\":\"65\",\"inkscape:window-y\":\"24\",\"inkscape:window-maximized\":\"1\",\"fit-margin-top\":\"0\",\"fit-margin-left\":\"0\",\"fit-margin-right\":\"0\",\"fit-margin-bottom\":\"0\"}}),_c('metadata',{attrs:{\"id\":\"metadata7\"}},[_c('rdf:RDF',[_c('cc:Work',{attrs:{\"rdf:about\":\"\"}},[_c('dc:format',[_vm._v(\"image/svg+xml\")]),_c('dc:type',{attrs:{\"rdf:resource\":\"http://purl.org/dc/dcmitype/StillImage\"}}),_c('dc:title')],1)],1)],1),_c('g',{attrs:{\"inkscape:label\":\"Layer 1\",\"inkscape:groupmode\":\"layer\",\"id\":\"layer1\",\"transform\":\"translate(-27.016003,-31.914518)\"}},[_c('path',{staticStyle:{\"fill\":\"none\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.30416775\",\"stroke-linecap\":\"butt\",\"stroke-linejoin\":\"miter\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"},attrs:{\"stroke\":\"#000000\",\"d\":\"m 38.949622,43.986228 c 1.403938,-1.500316 -3.266544,-2.492688 0.146877,-5.771595 2.156977,-2.071976 -2.231271,-4.068703 -4.032879,-3.734999 -1.435084,0.265814 0.161219,2.123932 -1.933719,3.928337 -2.094933,1.804405 -4.714354,-0.508566 -4.747541,2.161303 -0.03833,3.084086 9.163323,4.917269 10.567262,3.416954 z\",\"id\":\"path4186\",\"inkscape:connector-curvature\":\"0\",\"sodipodi:nodetypes\":\"zsazsz\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<svg\n  xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\n  xmlns:cc=\"http://creativecommons.org/ns#\"\n  xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\n  xmlns:svg=\"http://www.w3.org/2000/svg\"\n  xmlns=\"http://www.w3.org/2000/svg\"\n  xmlns:sodipodi=\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\"\n  xmlns:inkscape=\"http://www.inkscape.org/namespaces/inkscape\"\n  width=\"4mm\"\n  height=\"4mm\"\n  viewBox=\"0 0 14.173228 14.173229\"\n  id=\"svg2\"\n  version=\"1.1\"\n  inkscape:version=\"0.91 r13725\"\n  sodipodi:docname=\"free-polygon.svg\"\n>\n  <defs id=\"defs4\" />\n  <sodipodi:namedview\n    id=\"base\"\n    pagecolor=\"#ffffff\"\n    bordercolor=\"#666666\"\n    borderopacity=\"1.0\"\n    inkscape:pageopacity=\"0.0\"\n    inkscape:pageshadow=\"2\"\n    inkscape:zoom=\"52.572505\"\n    inkscape:cx=\"9.7957273\"\n    inkscape:cy=\"6.9348154\"\n    inkscape:document-units=\"px\"\n    inkscape:current-layer=\"layer1\"\n    showgrid=\"false\"\n    inkscape:window-width=\"1855\"\n    inkscape:window-height=\"1056\"\n    inkscape:window-x=\"65\"\n    inkscape:window-y=\"24\"\n    inkscape:window-maximized=\"1\"\n    fit-margin-top=\"0\"\n    fit-margin-left=\"0\"\n    fit-margin-right=\"0\"\n    fit-margin-bottom=\"0\"\n  />\n  <metadata id=\"metadata7\">\n    <rdf:RDF>\n      <cc:Work rdf:about=\"\">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" />\n        <dc:title />\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <g\n    inkscape:label=\"Layer 1\"\n    inkscape:groupmode=\"layer\"\n    id=\"layer1\"\n    transform=\"translate(-27.016003,-31.914518)\"\n  >\n    <path\n      style=\"fill:none;fill-rule:evenodd;stroke-width:1.30416775;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1\"\n      stroke=\"#000000\"\n      d=\"m 38.949622,43.986228 c 1.403938,-1.500316 -3.266544,-2.492688 0.146877,-5.771595 2.156977,-2.071976 -2.231271,-4.068703 -4.032879,-3.734999 -1.435084,0.265814 0.161219,2.123932 -1.933719,3.928337 -2.094933,1.804405 -4.714354,-0.508566 -4.747541,2.161303 -0.03833,3.084086 9.163323,4.917269 10.567262,3.416954 z\"\n      id=\"path4186\"\n      inkscape:connector-curvature=\"0\"\n      sodipodi:nodetypes=\"zsazsz\"\n    />\n  </g>\n</svg>\n</template>\n\n<script>\nexport default {\n  name: 'icon-polygon-free-hand'\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconPolygonFreeHand.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconPolygonFreeHand.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconPolygonFreeHand.vue?vue&type=template&id=068d5ce7&\"\nimport script from \"./IconPolygonFreeHand.vue?vue&type=script&lang=js&\"\nexport * from \"./IconPolygonFreeHand.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"xmlns:dc\":\"http://purl.org/dc/elements/1.1/\",\"xmlns:cc\":\"http://creativecommons.org/ns#\",\"xmlns:rdf\":\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\"xmlns:svg\":\"http://www.w3.org/2000/svg\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:sodipodi\":\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\",\"xmlns:inkscape\":\"http://www.inkscape.org/namespaces/inkscape\",\"width\":\"4mm\",\"height\":\"4mm\",\"viewBox\":\"0 0 14.173228 14.173229\",\"id\":\"svg2\",\"version\":\"1.1\",\"inkscape:version\":\"0.91 r13725\",\"sodipodi:docname\":\"free-line.svg\"}},[_c('defs',{attrs:{\"id\":\"defs4\"}}),_c('sodipodi:namedview',{attrs:{\"id\":\"base\",\"pagecolor\":\"#ffffff\",\"bordercolor\":\"#666666\",\"borderopacity\":\"1.0\",\"inkscape:pageopacity\":\"0.0\",\"inkscape:pageshadow\":\"2\",\"inkscape:zoom\":\"52.572505\",\"inkscape:cx\":\"1.7591916\",\"inkscape:cy\":\"6.9664237\",\"inkscape:document-units\":\"px\",\"inkscape:current-layer\":\"layer1\",\"showgrid\":\"false\",\"inkscape:window-width\":\"1855\",\"inkscape:window-height\":\"1056\",\"inkscape:window-x\":\"65\",\"inkscape:window-y\":\"24\",\"inkscape:window-maximized\":\"1\",\"fit-margin-top\":\"0\",\"fit-margin-left\":\"0\",\"fit-margin-right\":\"0\",\"fit-margin-bottom\":\"0\"}}),_c('metadata',{attrs:{\"id\":\"metadata7\"}},[_c('rdf:RDF',[_c('cc:Work',{attrs:{\"rdf:about\":\"\"}},[_c('dc:format',[_vm._v(\"image/svg+xml\")]),_c('dc:type',{attrs:{\"rdf:resource\":\"http://purl.org/dc/dcmitype/StillImage\"}}),_c('dc:title')],1)],1)],1),_c('g',{attrs:{\"inkscape:label\":\"Layer 1\",\"inkscape:groupmode\":\"layer\",\"id\":\"layer1\",\"transform\":\"translate(-27.016003,-31.914518)\"}},[_c('path',{staticStyle:{\"fill\":\"none\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.36583543\",\"stroke-linecap\":\"butt\",\"stroke-linejoin\":\"miter\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"},attrs:{\"stroke\":\"#000000\",\"d\":\"m 28.507424,40.008532 c 0,0 2.07514,5.220154 3.70608,4.821065 2.487226,-0.608621 1.213333,-9.083876 3.706081,-9.642132 1.676478,-0.375451 3.706081,5.096557 3.706081,5.096557\",\"id\":\"path4148\",\"inkscape:connector-curvature\":\"0\",\"sodipodi:nodetypes\":\"cssc\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<svg\n  xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\n  xmlns:cc=\"http://creativecommons.org/ns#\"\n  xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\n  xmlns:svg=\"http://www.w3.org/2000/svg\"\n  xmlns=\"http://www.w3.org/2000/svg\"\n  xmlns:sodipodi=\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\"\n  xmlns:inkscape=\"http://www.inkscape.org/namespaces/inkscape\"\n  width=\"4mm\"\n  height=\"4mm\"\n  viewBox=\"0 0 14.173228 14.173229\"\n  id=\"svg2\"\n  version=\"1.1\"\n  inkscape:version=\"0.91 r13725\"\n  sodipodi:docname=\"free-line.svg\"\n>\n  <defs\n    id=\"defs4\"\n  />\n  <sodipodi:namedview\n    id=\"base\"\n    pagecolor=\"#ffffff\"\n    bordercolor=\"#666666\"\n    borderopacity=\"1.0\"\n    inkscape:pageopacity=\"0.0\"\n    inkscape:pageshadow=\"2\"\n    inkscape:zoom=\"52.572505\"\n    inkscape:cx=\"1.7591916\"\n    inkscape:cy=\"6.9664237\"\n    inkscape:document-units=\"px\"\n    inkscape:current-layer=\"layer1\"\n    showgrid=\"false\"\n    inkscape:window-width=\"1855\"\n    inkscape:window-height=\"1056\"\n    inkscape:window-x=\"65\"\n    inkscape:window-y=\"24\"\n    inkscape:window-maximized=\"1\"\n    fit-margin-top=\"0\"\n    fit-margin-left=\"0\"\n    fit-margin-right=\"0\"\n    fit-margin-bottom=\"0\"\n  />\n  <metadata id=\"metadata7\">\n    <rdf:RDF>\n      <cc:Work rdf:about=\"\">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" />\n        <dc:title />\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <g\n    inkscape:label=\"Layer 1\"\n    inkscape:groupmode=\"layer\"\n    id=\"layer1\"\n    transform=\"translate(-27.016003,-31.914518)\"\n  >\n    <path\n      style=\"fill:none;fill-rule:evenodd;stroke-width:1.36583543;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1\"\n      stroke=\"#000000\"\n      d=\"m 28.507424,40.008532 c 0,0 2.07514,5.220154 3.70608,4.821065 2.487226,-0.608621 1.213333,-9.083876 3.706081,-9.642132 1.676478,-0.375451 3.706081,5.096557 3.706081,5.096557\"\n      id=\"path4148\"\n      inkscape:connector-curvature=\"0\"\n      sodipodi:nodetypes=\"cssc\"\n    />\n  </g>\n</svg>\n</template>\n\n<script>\nexport default {\n  name: 'icon-line-free-hand'\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconLineFreeHand.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconLineFreeHand.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconLineFreeHand.vue?vue&type=template&id=0b99062f&\"\nimport script from \"./IconLineFreeHand.vue?vue&type=script&lang=js&\"\nexport * from \"./IconLineFreeHand.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n  <h2> {{ $t('error') }} </h2>\n  <p> {{ $t('unexpected-error-info-message') }} </p>\n</b-message>\n<table class=\"table custom-ui\" v-else-if=\"!loading\">\n  <tbody v-for=\"category in customUITree\" :key=\"category.label\">\n    <tr>\n      <th colspan=\"3\">{{$t(category.label)}}</th>\n    </tr>\n    <tr v-for=\"prop in category.props\" :key=\"prop.key\">\n      <td>\n        <i v-if=\"prop.superscript\" class=\"superscript\" :class=\"prop.superscript\"></i>\n        <span class=\"icon\" v-if=\"prop.icon || prop.iconComponent\">\n          <i v-if=\"prop.icon\" :class=\"prop.icon\"></i>\n          <component v-else :is=\"prop.iconComponent\" />\n        </span>\n        {{$t(prop.label)}}\n      </td>\n      <td>\n        <button\n          :class=\"['button', customUI[prop.key] && customUI[prop.key].ADMIN_PROJECT && !isParentDisabled(prop, 'ADMIN_PROJECT') ? 'is-success' : 'is-danger']\"\n          @click=\"toggleProp(prop.key, 'ADMIN_PROJECT')\"\n          :disabled=\"isParentDisabled(prop, 'ADMIN_PROJECT') || prop.key === 'project-configuration-tab'\"\n        >\n          {{$t('manager')}}\n        </button>\n      </td>\n      <td>\n        <button\n          :class=\"['button', customUI[prop.key] && customUI[prop.key].CONTRIBUTOR_PROJECT && !isParentDisabled(prop, 'CONTRIBUTOR_PROJECT') ? 'is-success' : 'is-danger']\"\n          @click=\"toggleProp(prop.key, 'CONTRIBUTOR_PROJECT')\"\n          :disabled=\"isParentDisabled(prop, 'CONTRIBUTOR_PROJECT') || prop.key === 'project-configuration-tab'\"\n        >\n            {{$t('contributor')}}\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport IconPolygonFreeHand from '@/components/icons/IconPolygonFreeHand';\nimport IconLineFreeHand from '@/components/icons/IconLineFreeHand';\n\nexport default {\n  name: 'custom-ui-project',\n  data() {\n    return {\n      loading: true,\n      error: false,\n\n      customUI: {},\n      customUITree: [\n        {\n          label: 'project-side-bar',\n          props: [\n            {key: 'project-images-tab', label: 'images', icon: 'far fa-images'},\n            {key: 'project-annotations-tab', label: 'annotations', icon: 'far fa-edit'},\n            {key: 'project-jobs-tab', label: 'analysis', icon: 'fas fa-tasks'},\n            {key: 'project-activities-tab', label: 'activity', icon: 'fas fa-tachometer-alt'},\n            {key: 'project-information-tab', label: 'information', icon: 'fas fa-info-circle'},\n            {key: 'project-configuration-tab', label: 'configuration', icon: 'fas fa-cogs'}\n          ]\n        },\n        {\n          label: 'image-details',\n          props: [\n            {key: 'project-explore-image-overview', label: 'overview', icon: 'fas fa-image'},\n            //{key: 'project-explore-image-status', label: 'status'},\n            {key: 'project-explore-image-description', label: 'description', icon: 'far fa-file-alt'},\n            {key: 'project-explore-image-tags', label: 'tags', icon: 'fas fa-bookmark'},\n            {key: 'project-explore-image-properties', label: 'properties', icon: 'fas fa-tag'},\n            {key: 'project-explore-image-attached-files', label: 'attached-files', icon: 'fas fa-paperclip'},\n            {key: 'project-explore-image-slide-preview', label: 'slide-preview', icon: 'fas fa-image'},\n            {key: 'project-explore-image-original-filename', label: 'originalFilename', icon: 'fas fa-info'},\n            /*{key: 'project-explore-image-format', label: 'format'},\n            {key: 'project-explore-image-vendor', label: 'vendor'},\n            {key: 'project-explore-image-size', label: 'size'},\n            {key: 'project-explore-image-resolution', label: 'resolution'},\n            {key: 'project-explore-image-magnification', label: 'magnification'},*/\n          ]\n        },\n        {\n          label: 'viewer-panels',\n          props: [\n            {key: 'project-explore-hide-tools', label: 'all-panels'}, // hide all panels\n            {key: 'project-explore-overview', label: 'overview', icon: 'fas fa-image', parentConfiguration: 'project-explore-hide-tools'},\n            {key: 'project-explore-info', label: 'information', icon: 'fas fa-info', parentConfiguration: 'project-explore-hide-tools'},\n            {key: 'project-explore-digital-zoom', label: 'digital-zoom', icon: 'fas fa-search', parentConfiguration: 'project-explore-hide-tools'},\n            {key: 'project-explore-link', label: 'link-images', icon: 'fas fa-link', parentConfiguration: 'project-explore-hide-tools'},\n            {key: 'project-explore-color-manipulation', label: 'colors', icon: 'fas fa-adjust', parentConfiguration: 'project-explore-hide-tools'},\n            {key: 'project-explore-image-layers', label: 'annotation-layers', icon: 'fas fa-copy', parentConfiguration: 'project-explore-hide-tools'},\n            {key: 'project-explore-ontology', label: 'ontology', icon: 'fas fa-hashtag', parentConfiguration: 'project-explore-hide-tools'},\n            {key: 'project-explore-property', label: 'properties', icon: 'fas fa-tag', parentConfiguration: 'project-explore-hide-tools'},\n            {key: 'project-explore-follow', label: 'broadcast', icon: 'fas fa-street-view', parentConfiguration: 'project-explore-hide-tools'},\n            {key: 'project-explore-review', label: 'review', icon: 'fas fa-check-circle', parentConfiguration: 'project-explore-hide-tools'},\n          ]\n        },\n        {\n          label: 'annotation-details',\n          props: [\n            // display annotation details in viewer\n            {key: 'project-explore-annotation-main', label: 'annotation-details-box'},\n            {key: 'project-explore-annotation-geometry-info', label: 'geometry-info',\n              icon: 'fas fa-ruler-combined', parentConfiguration: 'project-explore-annotation-main'},\n            {key: 'project-explore-annotation-description', label: 'description', icon: 'far fa-file-alt', parentConfiguration: 'project-explore-annotation-main'},\n            {key: 'project-explore-annotation-terms', label: 'terms', icon: 'fas fa-hashtag', parentConfiguration: 'project-explore-annotation-main'},\n            {key: 'project-explore-annotation-tags', label: 'tags', icon: 'fas fa-bookmark', parentConfiguration: 'project-explore-annotation-main'},\n            {key: 'project-explore-annotation-properties', label: 'properties', icon: 'fas fa-tag', parentConfiguration: 'project-explore-annotation-main'},\n            {key: 'project-explore-annotation-attached-files', label: 'attached-files', icon: 'fas fa-paperclip', parentConfiguration: 'project-explore-annotation-main'},\n            {key: 'project-explore-annotation-creation-info', label: 'creation-info', icon: 'fas fa-info', parentConfiguration: 'project-explore-annotation-main'},\n            {key: 'project-explore-annotation-comments', label: 'comments', icon: 'fas fa-comment', parentConfiguration: 'project-explore-annotation-main'}\n\n          ]\n        },\n        {\n          label: 'draw-tools',\n          props: [\n            {key: 'project-tools-main', label: 'all-draw-tools'},\n\n            {key: 'project-tools-select', label: 'select', icon: 'fas fa-mouse-pointer', parentConfiguration: 'project-tools-main'},\n\n            {key: 'project-tools-point', label: 'point', icon: 'fas fa-map-marker-alt', parentConfiguration: 'project-tools-main'},\n            {key: 'project-tools-line', label: 'line', icon: 'fas fa-minus', parentConfiguration: 'project-tools-main'},\n            {key: 'project-tools-freehand-line', label: 'freehand-line',\n              iconComponent: IconLineFreeHand, parentConfiguration: 'project-tools-main'},\n            {key: 'project-tools-rectangle', label: 'rectangle', icon: 'far fa-square', parentConfiguration: 'project-tools-main'},\n            {key: 'project-tools-circle', label: 'circle', icon: 'far fa-circle', parentConfiguration: 'project-tools-main'},\n            {key: 'project-tools-polygon', label: 'polygon', icon: 'fas fa-draw-polygon', parentConfiguration: 'project-tools-main'},\n            {key: 'project-tools-freehand-polygon', label: 'freehand-polygon',\n              iconComponent: IconPolygonFreeHand, parentConfiguration: 'project-tools-main'},\n            {key: 'project-tools-union', label: 'freehand-correct-add', icon: 'fas fa-pencil-alt',\n              superscript: 'fas fa-plus', parentConfiguration: 'project-tools-main'},\n            {key: 'project-tools-diff', label: 'freehand-correct-remove', icon: 'fas fa-pencil-alt',\n              superscript: 'fas fa-minus', parentConfiguration: 'project-tools-main'},\n\n            {key: 'project-tools-fill', label: 'fill', icon: 'fas fa-fill', parentConfiguration: 'project-tools-main'},\n            {key: 'project-tools-edit', label: 'modify', icon: 'fas fa-edit', parentConfiguration: 'project-tools-main'},\n            {key: 'project-tools-move', label: 'move', icon: 'fas fa-arrows-alt', parentConfiguration: 'project-tools-main'},\n            {key: 'project-tools-rotate', label: 'rotate', icon: 'fas fa-sync-alt', parentConfiguration: 'project-tools-main'},\n            {key: 'project-tools-delete', label: 'delete', icon: 'fas fa-trash-alt', parentConfiguration: 'project-tools-main'},\n\n            {key: 'project-tools-undo-redo', label: 'undo-redo', icon: 'fas fa-undo', parentConfiguration: 'project-tools-main'},\n          ]\n        }\n      ]\n    };\n  },\n  computed: {\n    project: get('currentProject/project')\n  },\n  methods: {\n    async toggleProp(prop, userType) {\n      try {\n        this.customUI[prop][userType] = !this.customUI[prop][userType];\n        this.customUI = await this.project.saveUIConfig(this.customUI);\n        this.$store.dispatch('currentProject/fetchUIConfig');\n      }\n      catch(error) {\n        console.log(error);\n        this.customUI[prop][userType] = !this.customUI[prop][userType]; // revert change\n        this.$notify({type: 'error', text: this.$t('notif-error-custom-ui-change')});\n      }\n    },\n    isParentDisabled(child, role) {\n      return (child.parentConfiguration && this.customUI[child.parentConfiguration][role] === false);\n    }\n  },\n  async created() {\n    try {\n      this.customUI = await this.project.fetchUIConfig();\n    }\n    catch(error) {\n      console.log(error);\n      this.error = true;\n    }\n    this.loading = false;\n  }\n};\n</script>\n\n\n<style scoped>\n.button {\n  padding: 0 3em;\n}\n\ntd, th {\n  vertical-align: middle !important;\n}\n\n.icon {\n  width: 20px;\n  text-align: center;\n  margin-right: 1em;\n}\n\n.superscript {\n  position: relative;\n  font-size: 0.7em;\n  width: 0;\n  bottom: 0.75em;\n  right: 4px;\n  margin-right: 0;\n}\n</style>\n\n<style>\n.custom-ui .icon svg {\n  height: 1.15em !important;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUIProject.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUIProject.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomUIProject.vue?vue&type=template&id=909a1542&scoped=true&\"\nimport script from \"./CustomUIProject.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomUIProject.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomUIProject.vue?vue&type=style&index=0&id=909a1542&scoped=true&lang=css&\"\nimport style1 from \"./CustomUIProject.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"909a1542\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"project-softwares-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):(!_vm.loading)?[_c('b-input',{staticClass:\"search-field\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('b-table',{attrs:{\"data\":_vm.filteredSoftwares,\"default-sort\":\"selected\",\"default-sort-direction\":\"desc\",\"paginated\":true,\"per-page\":_vm.perPage,\"pagination-size\":\"is-small\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar software = ref.row;\nreturn [_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":(\"/software/\" + (software.id))}},[_vm._v(\" \"+_vm._s(software.fullName)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"softwareStatus\",\"label\":_vm.$t('version'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\",\"custom-sort\":_vm.sortBySoftwareStatus}},[_c('software-status',{attrs:{\"software\":software}})],1),_c('b-table-column',{attrs:{\"field\":\"executable\",\"label\":_vm.$t('ui-runnable'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('boolean-item',{attrs:{\"value\":software.executable}})],1),_c('b-table-column',{attrs:{\"field\":\"selected\",\"label\":_vm.$t('status'),\"sortable\":\"\",\"width\":\"100\"}},[_c('button',{class:['button', software.selected ? 'is-success' : 'is-danger'],attrs:{\"disabled\":_vm.loadingToggleSoftware[software.id]},on:{\"click\":function($event){return _vm.toggleSoftware(software)}}},[_vm._v(\" \"+_vm._s(_vm.$t(software.selected ? 'enabled' : 'disabled'))+\" \")])])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-algorithm')))])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}])})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"project-softwares-wrapper\">\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n    <h2> {{ $t('error') }} </h2>\n    <p> {{ $t('unexpected-error-info-message') }} </p>\n  </b-message>\n  <template v-else-if=\"!loading\">\n    <b-input class=\"search-field\" v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\n\n    <b-table\n      :data=\"filteredSoftwares\"\n      default-sort=\"selected\"\n      default-sort-direction=\"desc\"\n      :paginated=\"true\"\n      :per-page=\"perPage\"\n      pagination-size=\"is-small\"\n    >\n      <template #default=\"{row: software}\">\n        <b-table-column field=\"name\" :label=\"$t('name')\" sortable width=\"100\">\n          <router-link :to=\"`/software/${software.id}`\">\n            {{ software.fullName }}\n          </router-link>\n        </b-table-column>\n\n        <b-table-column field=\"softwareStatus\" :label=\"$t('version')\" centered sortable width=\"100\" :custom-sort=\"sortBySoftwareStatus\">\n          <software-status :software=\"software\" />\n        </b-table-column>\n\n        <b-table-column field=\"executable\" :label=\"$t('ui-runnable')\" centered sortable width=\"100\">\n          <boolean-item :value=\"software.executable\" />\n        </b-table-column>\n\n        <b-table-column field=\"selected\" :label=\"$t('status')\" sortable width=\"100\">\n          <button :disabled=\"loadingToggleSoftware[software.id]\" :class=\"['button', software.selected ? 'is-success' : 'is-danger']\" @click=\"toggleSoftware(software)\">\n            {{$t(software.selected ? 'enabled' : 'disabled')}}\n          </button>\n        </b-table-column>\n      </template>\n\n      <template #empty>\n        <div class=\"content has-text-grey has-text-centered\">\n          <p>{{$t('no-algorithm')}}</p>\n        </div>\n      </template>\n\n      <template #bottom-left>\n        <b-select v-model=\"perPage\" size=\"is-small\">\n          <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\n          <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\n          <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\n          <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\n        </b-select>\n      </template>\n    </b-table>\n  </template>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\nimport {SoftwareCollection, SoftwareProject, SoftwareProjectCollection} from 'cytomine-client';\nimport {getWildcardRegexp} from '@/utils/string-utils';\nimport SoftwareStatus from '@/components/software/SoftwareStatus';\nimport BooleanItem from '@/components/utils/BooleanItem';\n\nexport default {\n  name: 'project-softwares',\n  components: {\n    BooleanItem,\n    SoftwareStatus\n  },\n  data() {\n    return {\n      loading: true,\n      error: false,\n\n      searchString: '',\n      perPage: 10,\n\n      softwares: [],\n      loadingToggleSoftware: {}\n    };\n  },\n  computed: {\n    project: get('currentProject/project'),\n\n    filteredSoftwares() {\n      let regexp = getWildcardRegexp(this.searchString);\n      return this.softwares.filter(software => regexp.test(software.name));\n    }\n  },\n  methods: {\n    async toggleSoftware(software) {\n      try {\n        this.$set(this.loadingToggleSoftware, software.id, true);\n        if(software.selected) {\n          await software.softwareProject.delete();\n          software.selected = false;\n        }\n        else {\n          let softwareProject = await new SoftwareProject({\n            software: software.id,\n            project: this.project.id\n          }).save();\n          software.softwareProject = softwareProject;\n          software.selected = true;\n        }\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-change-status-algorithm-project', {softwareName: software.name})\n        });\n      }\n      this.$set(this.loadingToggleSoftware, software.id, false);\n    },\n    sortBySoftwareStatus(a, b, asc) {\n      return ((asc) ? 1 : -1) * (this.getSoftwareStatusValue(a) - this.getSoftwareStatusValue(b));\n    },\n    getSoftwareStatusValue(software) {\n      if (!software.softwareVersion) return 0;\n      if (software.deprecated) return 1;\n      return 2;\n    }\n  },\n  async created() {\n    try {\n      let promiseSoftwares = SoftwareCollection.fetchAll();\n      let promiseSoftwareProjects = SoftwareProjectCollection.fetchAll({\n        filterKey: 'project',\n        filterValue: this.project.id\n      });\n\n      let softwares = (await promiseSoftwares).array;\n      let softwareProjects = (await promiseSoftwareProjects).array;\n\n      softwares.forEach(software => {\n        software.softwareProject = softwareProjects.find(sp => sp.software === software.id);\n        software.selected = (software.softwareProject !== undefined);\n      });\n\n      this.softwares = softwares;\n    }\n    catch(error) {\n      console.log(error);\n      this.error = true;\n    }\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\n.project-softwares-wrapper {\n  min-height: 40vh;\n}\n</style>\n\n<style>\n.project-softwares-wrapper .search-field {\n  max-width: 25em;\n}\n\n.project-softwares-wrapper .table {\n  margin-top: 1.5em;\n}\n\n.project-softwares-wrapper .table .button {\n  padding: 0 3em;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSoftwares.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSoftwares.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectSoftwares.vue?vue&type=template&id=6a89c4dc&scoped=true&\"\nimport script from \"./ProjectSoftwares.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectSoftwares.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectSoftwares.vue?vue&type=style&index=0&id=6a89c4dc&scoped=true&lang=css&\"\nimport style1 from \"./ProjectSoftwares.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a89c4dc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"project-image-filters-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):(!_vm.loading)?[_c('b-input',{staticClass:\"search-field\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('b-table',{attrs:{\"data\":_vm.filteredImageFilters,\"default-sort\":\"selected\",\"default-sort-direction\":\"desc\",\"paginated\":true,\"per-page\":_vm.perPage,\"pagination-size\":\"is-small\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar filter = ref.row;\nreturn [_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('name'),\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(filter.name)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"selected\",\"label\":_vm.$t('status'),\"sortable\":\"\"}},[_c('button',{class:['button', filter.selected ? 'is-success' : 'is-danger'],on:{\"click\":function($event){return _vm.toggleFilter(filter)}}},[_vm._v(\" \"+_vm._s(_vm.$t(filter.selected ? 'enabled' : 'disabled'))+\" \")])])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-image-filter')))])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}])})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"project-image-filters-wrapper\">\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n    <h2> {{ $t('error') }} </h2>\n    <p> {{ $t('unexpected-error-info-message') }} </p>\n  </b-message>\n  <template v-else-if=\"!loading\">\n    <b-input class=\"search-field\" v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\n\n    <b-table\n      :data=\"filteredImageFilters\"\n      default-sort=\"selected\"\n      default-sort-direction=\"desc\"\n      :paginated=\"true\"\n      :per-page=\"perPage\"\n      pagination-size=\"is-small\"\n    >\n\n      <template #default=\"{row: filter}\">\n        <b-table-column field=\"name\" :label=\"$t('name')\" sortable>\n          {{filter.name}}\n        </b-table-column>\n\n        <b-table-column field=\"selected\" :label=\"$t('status')\" sortable>\n          <button :class=\"['button', filter.selected ? 'is-success' : 'is-danger']\" @click=\"toggleFilter(filter)\">\n            {{$t(filter.selected ? 'enabled' : 'disabled')}}\n          </button>\n        </b-table-column>\n      </template>\n\n      <template #empty>\n        <div class=\"content has-text-grey has-text-centered\">\n          <p>{{$t('no-image-filter')}}</p>\n        </div>\n      </template>\n\n      <template #bottom-left>\n        <b-select v-model=\"perPage\" size=\"is-small\">\n          <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\n          <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\n          <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\n          <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\n        </b-select>\n      </template>\n    </b-table>\n  </template>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\nimport {ImageFilterCollection, ImageFilterProject, ImageFilterProjectCollection} from 'cytomine-client';\nimport {getWildcardRegexp} from '@/utils/string-utils';\n\nexport default {\n  name: 'project-image-filters',\n  data() {\n    return {\n      loading: true,\n      error: false,\n\n      searchString: '',\n      perPage: 10,\n\n      imageFilters: []\n    };\n  },\n  computed: {\n    project: get('currentProject/project'),\n\n    filteredImageFilters() {\n      let regexp = getWildcardRegexp(this.searchString);\n      return this.imageFilters.filter(imgFilter => regexp.test(imgFilter.name));\n    }\n  },\n  methods: {\n    async toggleFilter(filter) {\n      try {\n        if(filter.selected) {\n          await filter.imageFilterProject.delete();\n          filter.selected = false;\n        }\n        else {\n          let filterProject = await new ImageFilterProject({\n            imageFilter: filter.id,\n            project: this.project.id\n          }).save();\n          filter.imageFilterProject = filterProject;\n          filter.selected = true;\n        }\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-change-status-image-filter-project', {filterName: filter.name})\n        });\n      }\n    }\n  },\n  async created() {\n    try {\n      let promiseFilters = ImageFilterCollection.fetchAll();\n      let promiseFiltersProjects = ImageFilterProjectCollection.fetchAll({\n        filterKey: 'project',\n        filterValue: this.project.id\n      });\n\n      let filters = (await promiseFilters).array;\n      let filtersProject = (await promiseFiltersProjects).array;\n\n      filters.forEach(filter => {\n        filter.imageFilterProject = filtersProject.find(fp => fp.imageFilter === filter.id);\n        filter.selected = (filter.imageFilterProject !== undefined);\n      });\n\n      this.imageFilters = filters;\n    }\n    catch(error) {\n      console.log(error);\n      this.error = true;\n    }\n\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\n.project-image-filters-wrapper {\n  min-height: 40vh;\n}\n</style>\n\n<style>\n.project-image-filters-wrapper .search-field {\n  max-width: 25em;\n}\n\n.project-image-filters-wrapper .table {\n  margin-top: 1.5em;\n}\n\n.project-image-filters-wrapper .table .button {\n  padding: 0 3em;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectImageFilters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectImageFilters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectImageFilters.vue?vue&type=template&id=038381ec&scoped=true&\"\nimport script from \"./ProjectImageFilters.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectImageFilters.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectImageFilters.vue?vue&type=style&index=0&id=038381ec&scoped=true&lang=css&\"\nimport style1 from \"./ProjectImageFilters.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"038381ec\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"box error\" v-if=\"!configUI['project-configuration-tab']\">\n  <h2> {{ $t('access-denied') }} </h2>\n  <p>{{ $t('insufficient-permission') }}</p>\n</div>\n<div class=\"content-wrapper\" v-else>\n  <b-field class=\"radio-buttons-fullwidth\">\n    <b-radio-button v-model=\"activeTab\" native-value=\"general\" type=\"is-link\">\n      {{$t('general')}}\n    </b-radio-button>\n\n    <b-radio-button v-model=\"activeTab\" native-value=\"members\" type=\"is-link\">\n      {{$t('members')}}\n    </b-radio-button>\n\n    <b-radio-button v-model=\"activeTab\" native-value=\"customUI\" type=\"is-link\">\n      {{$t('custom-ui')}}\n    </b-radio-button>\n\n    <b-radio-button v-model=\"activeTab\" native-value=\"algorithms\" type=\"is-link\">\n      {{$t('algorithms')}}\n    </b-radio-button>\n\n    <b-radio-button v-model=\"activeTab\" native-value=\"imageFilters\" type=\"is-link\">\n      {{$t('image-filters')}}\n    </b-radio-button>\n  </b-field>\n\n  <div class=\"box tab-content\">\n    <keep-alive>\n      <component :is=\"activeComponent\" />\n    </keep-alive>\n  </div>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport GeneralConfiguration from './configuration-panels/GeneralConfiguration';\nimport ProjectMembers from './configuration-panels/ProjectMembers';\nimport CustomUIProject from './configuration-panels/CustomUIProject';\nimport ProjectSoftwares from './configuration-panels/ProjectSoftwares';\nimport ProjectImageFilters from './configuration-panels/ProjectImageFilters';\n\nconst defaultTab = 'general';\n\nexport default {\n  name: 'project-configuration',\n  data() {\n    return {\n      activeTab: defaultTab\n    };\n  },\n  computed: {\n    configUI: get('currentProject/configUI'),\n    queriedTab() {\n      return this.$route.query.tab;\n    },\n    activeComponent() {\n      switch(this.activeTab) {\n        case 'general':\n          return GeneralConfiguration;\n        case 'members':\n          return ProjectMembers;\n        case 'customUI':\n          return CustomUIProject;\n        case 'algorithms':\n          return ProjectSoftwares;\n        case 'imageFilters':\n          return ProjectImageFilters;\n      }\n    }\n  },\n  watch: {\n    queriedTab() {\n      this.changeTab();\n    },\n    activeTab() {\n      if(this.activeTab !== defaultTab || this.queriedTab) {\n        this.$router.push(`?tab=${this.activeTab}`);\n      }\n    }\n  },\n  methods: {\n    changeTab() {\n      this.activeTab = this.$route.query.tab || defaultTab;\n      if(!this.activeComponent) {\n        this.activeTab = defaultTab;\n      }\n    }\n  },\n  async created() {\n    this.changeTab();\n  }\n};\n</script>\n\n<style scoped>\n.tab-content {\n  position: relative;\n  min-height: 20em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectConfiguration.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectConfiguration.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectConfiguration.vue?vue&type=template&id=7bd523cb&scoped=true&\"\nimport script from \"./ProjectConfiguration.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectConfiguration.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectConfiguration.vue?vue&type=style&index=0&id=7bd523cb&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bd523cb\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-wrapper\"},[_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-user\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t('profile'))+\" \")]),_c('div',{staticClass:\"panel-block\"},[_c('form',{attrs:{\"data-vv-scope\":\"profile\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.editDetails()}}},[_c('b-field',{attrs:{\"label\":_vm.$t('username'),\"horizontal\":\"\"}},[_c('b-input',{attrs:{\"value\":_vm.currentUser.username,\"disabled\":\"\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('role'),\"horizontal\":\"\"}},[_c('span',{staticClass:\"tag\",class:_vm.role.class},[_vm._v(_vm._s(_vm.$t(_vm.role.label)))])]),_c('b-field',{attrs:{\"label\":_vm.$t('lastname'),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has('profile.lastname')},\"message\":_vm.errors.first('profile.lastname')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"lastname\"},model:{value:(_vm.updatedUser.lastname),callback:function ($$v) {_vm.$set(_vm.updatedUser, \"lastname\", $$v)},expression:\"updatedUser.lastname\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('firstname'),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has('profile.firstname')},\"message\":_vm.errors.first('profile.firstname')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"firstname\"},model:{value:(_vm.updatedUser.firstname),callback:function ($$v) {_vm.$set(_vm.updatedUser, \"firstname\", $$v)},expression:\"updatedUser.firstname\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('email'),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has('profile.email')},\"message\":_vm.errors.first('profile.email')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|email'),expression:\"'required|email'\"}],attrs:{\"name\":\"email\"},model:{value:(_vm.updatedUser.email),callback:function ($$v) {_vm.$set(_vm.updatedUser, \"email\", $$v)},expression:\"updatedUser.email\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('language'),\"horizontal\":\"\"}},[_c('b-select',{model:{value:(_vm.updatedUser.language),callback:function ($$v) {_vm.$set(_vm.updatedUser, \"language\", $$v)},expression:\"updatedUser.language\"}},_vm._l((_vm.languages),function(ref){\nvar value = ref.value;\nvar name = ref.name;\nreturn _c('option',{key:value,domProps:{\"value\":value}},[_vm._v(\" \"+_vm._s(name)+\" \")])}),0)],1),_c('b-field',{attrs:{\"grouped\":\"\",\"position\":\"is-right\"}},[_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any('profile')}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save')))])])])],1)])]),_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-briefcase\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t('password'))+\" \")]),_c('div',{staticClass:\"panel-block\"},[_c('form',{attrs:{\"data-vv-scope\":\"password\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.savePassword()}}},[_c('input',{staticClass:\"hidden\",attrs:{\"id\":\"password\",\"type\":\"password\"}}),_vm._v(\" \"),(_vm.currentUser.passwordExpired)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('password-expired-info-message'))+\" \")]):_c('b-field',{attrs:{\"label\":_vm.$t('password-current'),\"horizontal\":\"\",\"type\":_vm.typeCurrentPassword,\"message\":_vm.messageCurrentPassword}},[_c('b-input',{attrs:{\"type\":\"password\",\"loading\":_vm.isCheckingPassword},model:{value:(_vm.currentPassword),callback:function ($$v) {_vm.currentPassword=$$v},expression:\"currentPassword\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('password-new'),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has('password.newPassword')},\"message\":_vm.errors.first('password.newPassword')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|min:8'),expression:\"'required|min:8'\"}],attrs:{\"type\":\"password\",\"name\":\"newPassword\",\"disabled\":_vm.newPasswordDisabled},model:{value:(_vm.newPassword),callback:function ($$v) {_vm.newPassword=$$v},expression:\"newPassword\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('password-confirm'),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has('password.confirmPassword')},\"message\":_vm.errors.first('password.confirmPassword')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:({required: true, is: _vm.newPassword}),expression:\"{required: true, is: newPassword}\"}],attrs:{\"type\":\"password\",\"name\":\"confirmPassword\",\"disabled\":_vm.newPasswordDisabled},model:{value:(_vm.confirmPassword),callback:function ($$v) {_vm.confirmPassword=$$v},expression:\"confirmPassword\"}})],1),_c('b-field',{attrs:{\"grouped\":\"\",\"position\":\"is-right\"}},[_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any('password') || _vm.newPasswordDisabled}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])])])],1)])]),_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-exchange-alt\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t('api-keys'))+\" \")]),_c('div',{staticClass:\"panel-block\"},[_c('b-field',{attrs:{\"label\":_vm.$t('public-key'),\"horizontal\":\"\"}},[_c('b-field',[_c('b-input',{attrs:{\"value\":_vm.currentUser.publicKey,\"readonly\":\"\",\"expanded\":\"\"}}),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.copy(_vm.currentUser.publicKey)}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"far fa-clipboard\"})]),_c('span',[_vm._v(_vm._s(_vm.$t('button-copy')))])])])],1)],1),_c('b-field',{attrs:{\"label\":_vm.$t('private-key'),\"horizontal\":\"\"}},[_c('b-field',[_c('b-input',{attrs:{\"value\":_vm.currentUser.privateKey,\"readonly\":\"\",\"expanded\":\"\"}}),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.copy(_vm.currentUser.privateKey)}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"far fa-clipboard\"})]),_c('span',[_vm._v(_vm._s(_vm.$t('button-copy')))])])])],1)],1),_c('b-field',{attrs:{\"grouped\":\"\",\"position\":\"is-right\"}},[_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.regenerateKeys()}}},[_vm._v(_vm._s(_vm.$t('regenerate-api-keys')))])])])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport Vue from 'vue';\nimport VueI18n from 'vue-i18n';\n\nVue.use(VueI18n);\n\nexport default new VueI18n({\n  locale: 'en',\n  fallbackLocale: 'en',\n  messages: {\n    'en': require('./locales/json/en.i18n.json'),\n    'fr': require('./locales/json/fr.i18n.json')\n  }\n});\n\nexport const changeLanguageMixin = {\n  methods: {\n    changeLanguage(language) {\n      language = language || this.$i18n.fallbackLocale;\n      let locale = language.toLowerCase();\n      this.$i18n.locale = locale;\n      this.$moment.locale(locale);\n    }\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nexport const rolesMapping = Object.freeze({\n  'ROLE_GUEST': {label: 'guest', index: 0, class: 'is-light'},\n  'ROLE_USER': {label: 'user', index: 1, class: 'is-link'},\n  'ROLE_ADMIN': {label: 'admin', index: 2, class: 'is-success'},\n  'ROLE_SUPER_ADMIN': {label: 'super-admin', index: 3, class: 'is-success'},\n});\n","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"content-wrapper\">\n  <div class=\"panel\">\n    <p class=\"panel-heading\">\n      <i class=\"fas fa-user\" aria-hidden=\"true\"></i>\n      {{ $t('profile') }}\n    </p>\n    <div class=\"panel-block\">\n      <form @submit.prevent=\"editDetails()\" data-vv-scope=\"profile\">\n        <b-field :label=\"$t('username')\" horizontal>\n          <b-input :value=\"currentUser.username\" disabled />\n        </b-field>\n\n        <b-field :label=\"$t('role')\" horizontal>\n          <span class=\"tag\" :class=\"role.class\">{{$t(role.label)}}</span>\n        </b-field>\n\n        <b-field\n          :label=\"$t('lastname')\"\n          horizontal\n          :type=\"{'is-danger': errors.has('profile.lastname')}\"\n          :message=\"errors.first('profile.lastname')\"\n        >\n          <b-input v-model=\"updatedUser.lastname\" name=\"lastname\" v-validate=\"'required'\" />\n        </b-field>\n\n        <b-field\n          :label=\"$t('firstname')\"\n          horizontal\n          :type=\"{'is-danger': errors.has('profile.firstname')}\"\n          :message=\"errors.first('profile.firstname')\"\n        >\n          <b-input v-model=\"updatedUser.firstname\" name=\"firstname\" v-validate=\"'required'\" />\n        </b-field>\n\n        <b-field\n          :label=\"$t('email')\"\n          horizontal\n          :type=\"{'is-danger': errors.has('profile.email')}\"\n          :message=\"errors.first('profile.email')\"\n        >\n          <b-input v-model=\"updatedUser.email\" name=\"email\" v-validate=\"'required|email'\" />\n        </b-field>\n\n        <b-field :label=\"$t('language')\" horizontal>\n          <b-select v-model=\"updatedUser.language\">\n            <option v-for=\"{value, name} in languages\" :key=\"value\" :value=\"value\">\n              {{name}}\n            </option>\n          </b-select>\n        </b-field>\n\n        <b-field grouped position=\"is-right\">\n          <div class=\"control\">\n            <button class=\"button is-link\" :disabled=\"errors.any('profile')\"> {{$t('button-save')}}</button>\n          </div>\n        </b-field>\n      </form>\n    </div>\n  </div>\n\n  <div class=\"panel\">\n    <p class=\"panel-heading\">\n      <i class=\"fas fa-briefcase\" aria-hidden=\"true\"></i>\n      {{ $t('password') }}\n    </p>\n    <div class=\"panel-block\">\n      <form @submit.prevent=\"savePassword()\" data-vv-scope=\"password\">\n        <input id=\"password\" class=\"hidden\" type=\"password\"> <!-- HACK: fake field to prevent autofill -->\n\n        <b-message v-if=\"currentUser.passwordExpired\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n          {{$t('password-expired-info-message')}}\n        </b-message>\n\n        <b-field\n          v-else\n          :label=\"$t('password-current')\"\n          horizontal\n          :type=\"typeCurrentPassword\"\n          :message=\"messageCurrentPassword\"\n        >\n          <b-input type=\"password\" v-model=\"currentPassword\" :loading=\"isCheckingPassword\" />\n        </b-field>\n\n        <b-field\n          :label=\"$t('password-new')\"\n          horizontal\n          :type=\"{'is-danger': errors.has('password.newPassword')}\"\n          :message=\"errors.first('password.newPassword')\"\n        >\n          <b-input\n            type=\"password\"\n            v-model=\"newPassword\"\n            name=\"newPassword\"\n            v-validate=\"'required|min:8'\"\n            :disabled=\"newPasswordDisabled\"\n          />\n        </b-field>\n\n        <b-field\n          :label=\"$t('password-confirm')\"\n          horizontal\n          :type=\"{'is-danger': errors.has('password.confirmPassword')}\"\n          :message=\"errors.first('password.confirmPassword')\"\n        >\n          <b-input\n            type=\"password\"\n            v-model=\"confirmPassword\"\n            name=\"confirmPassword\"\n            v-validate=\"{required: true, is: newPassword}\"\n            :disabled=\"newPasswordDisabled\"\n          />\n        </b-field>\n\n        <b-field grouped position=\"is-right\">\n          <div class=\"control\">\n            <button class=\"button is-link\" :disabled=\"errors.any('password') || newPasswordDisabled\">\n              {{$t('button-save')}}\n            </button>\n          </div>\n        </b-field>\n      </form>\n    </div>\n  </div>\n\n  <div class=\"panel\"> <!-- QUESTION: remove ? or only show for technical users ? -->\n    <p class=\"panel-heading\">\n      <i class=\"fas fa-exchange-alt\" aria-hidden=\"true\"></i>\n      {{ $t('api-keys') }}\n    </p>\n    <div class=\"panel-block\">\n      <b-field :label=\"$t('public-key')\" horizontal>\n        <b-field>\n          <b-input :value=\"currentUser.publicKey\" readonly expanded />\n          <p class=\"control\">\n            <button class=\"button\" @click=\"copy(currentUser.publicKey)\">\n              <span class=\"icon\"><i class=\"far fa-clipboard\"></i></span>\n              <span>{{$t('button-copy')}}</span>\n            </button>\n          </p>\n        </b-field>\n      </b-field>\n\n      <b-field :label=\"$t('private-key')\" horizontal>\n        <b-field>\n          <b-input :value=\"currentUser.privateKey\" readonly expanded />\n          <p class=\"control\">\n            <button class=\"button\" @click=\"copy(currentUser.privateKey)\">\n              <span class=\"icon\"><i class=\"far fa-clipboard\"></i></span>\n              <span>{{$t('button-copy')}}</span>\n            </button>\n          </p>\n        </b-field>\n      </b-field>\n\n      <b-field grouped position=\"is-right\">\n        <div class=\"control\">\n          <button class=\"button is-link\" @click=\"regenerateKeys()\">{{$t('regenerate-api-keys')}}</button>\n        </div>\n      </b-field>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\nimport {changeLanguageMixin} from '@/lang.js';\nimport _ from 'lodash';\nimport {User} from 'cytomine-client';\nimport {rolesMapping} from '@/utils/role-utils';\nimport copyToClipboard from 'copy-to-clipboard';\n\nexport default {\n  name: 'Account',\n  $_veeValidate: {validator: 'new'},\n  mixins: [changeLanguageMixin],\n  data() {\n    return {\n      updatedUser: this.$store.state.currentUser.user.clone(),\n      currentPassword: '',\n      isCheckingPassword: false,\n      correctPassword: false,\n      newPassword: '',\n      confirmPassword: '',\n      languages: [\n        {value: 'EN', name:'English'},\n        {value: 'FR', name:'Franais'}\n      ],\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    role() {\n      let key = this.currentUser.guestByNow ? 'ROLE_GUEST' : this.currentUser.adminByNow ? 'ROLE_ADMIN' : 'ROLE_USER';\n      return rolesMapping[key];\n    },\n    newPasswordDisabled() {\n      return !this.correctPassword && !this.currentUser.passwordExpired;\n    },\n    messageCurrentPassword() {\n      if(!this.currentPassword || this.isCheckingPassword) {\n        return;\n      }\n      return this.correctPassword ? '' : this.$t('invalid-password');\n    },\n    typeCurrentPassword() {\n      if(!this.currentPassword || this.isCheckingPassword) {\n        return;\n      }\n      return this.correctPassword ? 'is-success' : 'is-danger';\n    }\n  },\n  watch: {\n    currentPassword() {\n      this.isCheckingPassword = true;\n      this.checkPassword();\n    }\n  },\n  methods: {\n    async editDetails() {\n      let result = await this.$validator.validateAll('profile');\n      if(!result) {\n        return;\n      }\n\n      try {\n        await this.$store.dispatch('currentUser/updateUser', this.updatedUser);\n        this.changeLanguage(this.currentUser.language);\n        this.$notify({type: 'success', text: this.$t('notif-success-user-details-saved')});\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-user-details-not-saved')});\n      }\n    },\n\n    async savePassword() {\n      let result = await this.$validator.validateAll('password');\n      if(!result || (!this.correctPassword && !this.currentUser.passwordExpired)) {\n        return;\n      }\n\n      let userNewPassword = this.currentUser.clone();\n      userNewPassword.password = this.newPassword;\n      try {\n        await this.$store.dispatch('currentUser/updateUser', userNewPassword);\n        this.$notify({type: 'success', text: this.$t('notif-success-password-saved')});\n        this.currentPassword = '';\n        this.newPassword = '';\n        this.confirmPassword = '';\n        this.$validator.reset({scope: 'password'});\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-password-not-saved')});\n      }\n    },\n\n    checkPassword: _.debounce(async function() {\n      this.correctPassword = await User.checkCurrentPassword(this.currentPassword);\n      if(!this.correctPassword) {\n        this.newPassword = '';\n        this.confirmPassword = '';\n        this.$validator.reset({scope: 'password'});\n      }\n      this.isCheckingPassword = false;\n    }, 500),\n\n    copy(value) {\n      copyToClipboard(value);\n      this.$notify({type: 'success', text: this.$t('notif-success-key-copied')});\n    },\n\n    async regenerateKeys() {\n      try {\n        await this.$store.dispatch('currentUser/regenerateKeys');\n        this.$notify({type: 'success', text: this.$t('notif-success-keys-regenerated')});\n      }\n      catch(err) {\n        this.$notify({type: 'error', text: this.$t('notif-error-keys-not-regenerated')});\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.panel {\n  max-width: 80em;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.fas {\n  margin-right: 0.3em;\n}\n\ninput.hidden {\n  display: none;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Account.vue?vue&type=template&id=9705f78a&scoped=true&\"\nimport script from \"./Account.vue?vue&type=script&lang=js&\"\nexport * from \"./Account.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Account.vue?vue&type=style&index=0&id=9705f78a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9705f78a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('unexpected-error-info-message')))])]):_c('div',{staticClass:\"content-wrapper\"},[_c('div',{staticClass:\"panel\"},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" \"+_vm._s(_vm.$t('advanced-search'))+\" \")]),_c('div',{staticClass:\"panel-block\"},[_c('div',{staticClass:\"search-block\"},[_c('b-input',{staticClass:\"search-projects\",attrs:{\"value\":_vm.searchString,\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},on:{\"input\":_vm.debounceSearchString}})],1),_c('b-collapse',{attrs:{\"open\":\"\"}},[_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column filter\"},[_c('div',{staticClass:\"filter-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('tags'))+\" \")]),_c('div',{staticClass:\"filter-body\"},[_c('cytomine-multiselect',{attrs:{\"options\":_vm.availableTags,\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"allPlaceholder\":_vm.$t('all')},model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})],1)]),_c('div',{staticClass:\"column filter\"}),_c('div',{staticClass:\"column filter\"})])])])],1),_c('p',{staticClass:\"panel-tabs\"},[_c('a',{class:{'is-active': _vm.activeTab === 'projects'},on:{\"click\":function($event){_vm.activeTab = 'projects'}}},[_vm._v(\" \"+_vm._s(_vm.$t('projects'))+\" (\"+_vm._s(this.projects.totalNbItems)+\") \")]),_c('a',{class:{'is-active': _vm.activeTab === 'images'},on:{\"click\":function($event){_vm.activeTab = 'images'}}},[_vm._v(\" \"+_vm._s(_vm.$t('images'))+\" (\"+_vm._s(this.images.totalNbItems)+\") \")])]),_c('div',{staticClass:\"panel-block\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === 'projects'),expression:\"activeTab === 'projects'\"}],key:'projects'},[_c('cytomine-table',{staticClass:\"table-projects\",attrs:{\"collection\":_vm.projectCollection,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"openedDetailed\":_vm.openedDetails,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"data\":_vm.projects,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event},\"update:data\":function($event){_vm.projects=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar project = ref.row;\nreturn [_c('b-table-column',{attrs:{\"field\":\"currentUserRole\",\"label\":\"\",\"centered\":\"\",\"width\":\"1\",\"sortable\":\"\"}},[_c('icon-project-member-role',{attrs:{\"is-manager\":project.currentUserRoles.admin,\"is-representative\":project.currentUserRoles.representative}})],1),_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"250\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (project.id))}},[_vm._v(\" \"+_vm._s(project.name)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"membersCount\",\"label\":_vm.$t('members'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(project.membersCount)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"numberOfImages\",\"label\":_vm.$t('images'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (project.id) + \"/images\")}},[_vm._v(_vm._s(project.numberOfImages))])],1),_c('b-table-column',{attrs:{\"field\":\"numberOfAnnotations\",\"label\":_vm.$t('user-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (project.id) + \"/annotations?type=user\")}},[_vm._v(\" \"+_vm._s(project.numberOfAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"numberOfJobAnnotations\",\"label\":_vm.$t('analysis-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (project.id) + \"/annotations?type=algo\")}},[_vm._v(\" \"+_vm._s(project.numberOfJobAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"numberOfReviewedAnnotations\",\"label\":_vm.$t('reviewed-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"150\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (project.id) + \"/annotations?type=reviewed\")}},[_vm._v(\" \"+_vm._s(project.numberOfReviewedAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"lastActivity\",\"label\":_vm.$t('last-activity'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"180\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(project.lastActivity),'ll'))+\" \")]),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\",\"width\":\"150\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":(\"/project/\" + (project.id))}},[_vm._v(\" \"+_vm._s(_vm.$t('button-open'))+\" \")])],1)]}},{key:\"detail\",fn:function(ref){\nvar project = ref.row;\nreturn [_c('project-details',{attrs:{\"project\":project,\"excluded-properties\":_vm.excludedProperties},on:{\"update\":function($event){return _vm.updateProject()},\"delete\":function($event){return _vm.deleteProject(project)}}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-project')))])])]},proxy:true}])}),_c('div',{staticClass:\"legend\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('legend')))]),_c('p',[_c('icon-project-member-role'),_vm._v(\" : \"+_vm._s(_vm.$t('contributor-icon-label')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('manager-icon-label')))],1),_c('p',[_c('icon-project-member-role',{attrs:{\"is-manager\":true,\"is-representative\":true}}),_vm._v(\" : \"+_vm._s(_vm.$t('representative-icon-label')))],1)])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === 'images'),expression:\"activeTab === 'images'\"}],key:'images'},[_c('cytomine-table',{attrs:{\"collection\":_vm.imageCollection,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"openedDetailed\":_vm.openedDetails,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"data\":_vm.images,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:openedDetailed\":function($event){_vm.openedDetails=$event},\"update:opened-detailed\":function($event){_vm.openedDetails=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event},\"update:data\":function($event){_vm.images=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar image = ref.row;\nreturn [_c('b-table-column',{attrs:{\"label\":_vm.$t('overview'),\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (image.project) + \"/image/\" + (image.id))}},[_c('img',{staticClass:\"image-overview\",attrs:{\"src\":image.thumb}})])],1),_c('b-table-column',{attrs:{\"field\":image.projectBlind ? 'blindedName' : 'instanceFilename',\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"400\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (image.project) + \"/image/\" + (image.id))}},[_c('image-name',{attrs:{\"image\":image,\"showBothNames\":\"\"}})],1)],1),_c('b-table-column',{attrs:{\"field\":'projectName',\"label\":_vm.$t('project'),\"width\":\"200\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (image.project))}},[_vm._v(\" \"+_vm._s(image.projectName)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"magnification\",\"label\":_vm.$t('magnification'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_vm._v(\" \"+_vm._s(image.magnification || _vm.$t('unknown'))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"numberOfAnnotations\",\"label\":_vm.$t('user-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (image.project) + \"/annotations?image=\" + (image.id) + \"&type=user\")}},[_vm._v(\" \"+_vm._s(image.numberOfAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"numberOfJobAnnotations\",\"label\":_vm.$t('analysis-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (image.project) + \"/annotations?image=\" + (image.id) + \"&type=algo\")}},[_vm._v(\" \"+_vm._s(image.numberOfJobAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"field\":\"numberOfReviewedAnnotations\",\"label\":_vm.$t('reviewed-annotations'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"100\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (image.project) + \"/annotations?image=\" + (image.id) + \"&type=reviewed\")}},[_vm._v(\" \"+_vm._s(image.numberOfReviewedAnnotations)+\" \")])],1),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\",\"width\":\"150\"}},[_c('router-link',{staticClass:\"button is-small is-link\",attrs:{\"to\":(\"/project/\" + (image.project) + \"/image/\" + (image.id))}},[_vm._v(\" \"+_vm._s(_vm.$t('button-open'))+\" \")])],1)]}},{key:\"detail\",fn:function(ref){\nvar image = ref.row;\nreturn [_c('image-details',{attrs:{\"image\":image,\"excludedProperties\":_vm.excludedProperties}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-image')))])])]},proxy:true}])})],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"box error\" v-if=\"error\">\n  <h2> {{ $t('error') }} </h2>\n  <p>{{ $t('unexpected-error-info-message') }}</p>\n</div>\n<div v-else class=\"content-wrapper\">\n  <div class=\"panel\">\n    <p class=\"panel-heading\">\n      {{$t('advanced-search')}}\n    </p>\n    <div class=\"panel-block\">\n      <div class=\"search-block\">\n        <b-input class=\"search-projects\" :value=\"searchString\" @input=\"debounceSearchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\n      </div>\n\n      <b-collapse open>\n        <div class=\"filters\">\n          <div class=\"columns\">\n            <div class=\"column filter\">\n              <div class=\"filter-label\">\n                {{$t('tags')}}\n              </div>\n              <div class=\"filter-body\">\n                <cytomine-multiselect v-model=\"selectedTags\" :options=\"availableTags\"\n                  label=\"name\" track-by=\"id\" :multiple=\"true\" :allPlaceholder=\"$t('all')\" />\n              </div>\n            </div>\n            <div class=\"column filter\">\n            </div>\n            <div class=\"column filter\">\n            </div>\n          </div>\n        </div>\n      </b-collapse>\n\n\n    </div>\n    <p class=\"panel-tabs\">\n      <a :class=\"{'is-active': activeTab === 'projects'}\" @click=\"activeTab = 'projects'\">\n        {{$t('projects')}} ({{this.projects.totalNbItems}})\n      </a>\n      <a :class=\"{'is-active': activeTab === 'images'}\" @click=\"activeTab = 'images'\">\n        {{$t('images')}} ({{this.images.totalNbItems}})\n      </a>\n    </p>\n    <div class=\"panel-block\">\n      <b-loading :is-full-page=\"false\" :active=\"loading\" />\n\n      <div\n        v-show=\"activeTab === 'projects'\"\n        :key=\"'projects'\"\n      >\n        <cytomine-table\n          :collection=\"projectCollection\"\n          class=\"table-projects\"\n          :currentPage.sync=\"currentPage\"\n          :perPage.sync=\"perPage\"\n          :openedDetailed.sync=\"openedDetails\"\n          :sort.sync=\"sortField\"\n          :order.sync=\"sortOrder\"\n          :data.sync=\"projects\"\n          :revision=\"revision\"\n        >\n          <template #default=\"{row: project}\">\n            <b-table-column field=\"currentUserRole\" label=\"\" centered width=\"1\" sortable>\n              <icon-project-member-role\n                :is-manager=\"project.currentUserRoles.admin\"\n                :is-representative=\"project.currentUserRoles.representative\"\n              />\n            </b-table-column>\n\n            <b-table-column field=\"name\" :label=\"$t('name')\" sortable width=\"250\">\n              <router-link :to=\"`/project/${project.id}`\">\n                {{ project.name }}\n              </router-link>\n            </b-table-column>\n\n            <b-table-column field=\"membersCount\" :label=\"$t('members')\" centered sortable width=\"150\">\n              {{ project.membersCount }}\n            </b-table-column>\n\n            <b-table-column field=\"numberOfImages\" :label=\"$t('images')\" centered sortable width=\"150\">\n              <router-link :to=\"`/project/${project.id}/images`\">{{ project.numberOfImages }}</router-link>\n            </b-table-column>\n\n            <b-table-column field=\"numberOfAnnotations\" :label=\"$t('user-annotations')\" centered sortable width=\"150\">\n              <router-link :to=\"`/project/${project.id}/annotations?type=user`\">\n                {{ project.numberOfAnnotations }}\n              </router-link>\n            </b-table-column>\n\n            <b-table-column field=\"numberOfJobAnnotations\" :label=\"$t('analysis-annotations')\" centered sortable width=\"150\">\n              <router-link :to=\"`/project/${project.id}/annotations?type=algo`\">\n                {{ project.numberOfJobAnnotations }}\n              </router-link>\n            </b-table-column>\n\n            <b-table-column field=\"numberOfReviewedAnnotations\" :label=\"$t('reviewed-annotations')\" centered sortable width=\"150\">\n              <router-link :to=\"`/project/${project.id}/annotations?type=reviewed`\">\n                {{ project.numberOfReviewedAnnotations }}\n              </router-link>\n            </b-table-column>\n\n            <b-table-column field=\"lastActivity\" :label=\"$t('last-activity')\" centered sortable width=\"180\">\n              {{ Number(project.lastActivity) | moment('ll') }}\n            </b-table-column>\n\n            <b-table-column label=\" \" centered width=\"150\">\n              <router-link :to=\"`/project/${project.id}`\" class=\"button is-small is-link\">\n                {{$t('button-open')}}\n              </router-link>\n            </b-table-column>\n          </template>\n\n          <template #detail=\"{row: project}\">\n            <project-details\n              :project=\"project\"\n              :excluded-properties=\"excludedProperties\"\n              @update=\"updateProject()\"\n              @delete=\"deleteProject(project)\"\n            />\n          </template>\n\n          <template #empty>\n            <div class=\"content has-text-grey has-text-centered\">\n              <p>{{$t('no-project')}}</p>\n            </div>\n          </template>\n        </cytomine-table>\n\n        <div class=\"legend\">\n            <h2>{{$t('legend')}}</h2>\n          <p><icon-project-member-role /> : {{$t('contributor-icon-label')}}</p>\n          <p><icon-project-member-role :is-manager=\"true\" /> : {{$t('manager-icon-label')}}</p>\n          <p><icon-project-member-role :is-manager=\"true\" :is-representative=\"true\" /> : {{$t('representative-icon-label')}}</p>\n        </div>\n      </div>\n\n\n      <div\n      v-show=\"activeTab === 'images'\"\n      :key=\"'images'\"\n      >\n        <cytomine-table\n          :collection=\"imageCollection\"\n          :currentPage.sync=\"currentPage\"\n          :perPage.sync=\"perPage\"\n          :openedDetailed.sync=\"openedDetails\"\n          :sort.sync=\"sortField\"\n          :order.sync=\"sortOrder\"\n          :data.sync=\"images\"\n          :revision=\"revision\"\n        >\n          <template #default=\"{row: image}\">\n            <b-table-column :label=\"$t('overview')\" width=\"100\">\n              <router-link :to=\"`/project/${image.project}/image/${image.id}`\">\n                <img :src=\"image.thumb\" class=\"image-overview\">\n              </router-link>\n            </b-table-column>\n\n            <b-table-column\n              :field=\"image.projectBlind ? 'blindedName' : 'instanceFilename'\"\n              :label=\"$t('name')\"\n              sortable\n              width=\"400\"\n            >\n              <router-link :to=\"`/project/${image.project}/image/${image.id}`\">\n                <image-name :image=\"image\" showBothNames />\n              </router-link>\n            </b-table-column>\n\n            <b-table-column\n              :field=\"'projectName'\"\n              :label=\"$t('project')\"\n              width=\"200\"\n            >\n              <router-link :to=\"`/project/${image.project}`\">\n                {{ image.projectName }}\n              </router-link>\n            </b-table-column>\n\n            <b-table-column field=\"magnification\" :label=\"$t('magnification')\" centered sortable width=\"100\">\n              {{ image.magnification || $t('unknown') }}\n            </b-table-column>\n\n            <b-table-column field=\"numberOfAnnotations\" :label=\"$t('user-annotations')\" centered sortable width=\"100\">\n              <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=user`\">\n                {{ image.numberOfAnnotations }}\n              </router-link>\n            </b-table-column>\n\n            <b-table-column field=\"numberOfJobAnnotations\" :label=\"$t('analysis-annotations')\" centered sortable width=\"100\">\n              <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=algo`\">\n                {{ image.numberOfJobAnnotations }}\n              </router-link>\n            </b-table-column>\n\n            <b-table-column field=\"numberOfReviewedAnnotations\" :label=\"$t('reviewed-annotations')\" centered sortable width=\"100\">\n              <router-link :to=\"`/project/${image.project}/annotations?image=${image.id}&type=reviewed`\">\n                {{ image.numberOfReviewedAnnotations }}\n              </router-link>\n            </b-table-column>\n\n            <b-table-column label=\" \" centered width=\"150\">\n              <router-link :to=\"`/project/${image.project}/image/${image.id}`\" class=\"button is-small is-link\">\n                {{$t('button-open')}}\n              </router-link>\n            </b-table-column>\n          </template>\n\n          <template #detail=\"{row: image}\">\n            <image-details\n              :image=\"image\"\n              :excludedProperties=\"excludedProperties\"\n            />\n          </template>\n\n          <template #empty>\n            <div class=\"content has-text-grey has-text-centered\">\n              <p>{{$t('no-image')}}</p>\n            </div>\n          </template>\n        </cytomine-table>\n      </div>\n\n\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport _ from 'lodash';\nimport {get} from '@/utils/store-helpers';\nimport ImageName from '@/components/image/ImageName';\nimport CytomineTable from '@/components/utils/CytomineTable';\nimport ProjectDetails from '@/components/project/ProjectDetails';\nimport ImageDetails from '@/components/image/ImageDetails';\nimport CytomineMultiselect from '@/components/form/CytomineMultiselect';\nimport {ImageInstanceCollection, ProjectCollection, TagCollection} from 'cytomine-client';\nimport {getWildcardRegexp} from '@/utils/string-utils';\nimport IconProjectMemberRole from '@/components/icons/IconProjectMemberRole';\n\nexport default {\n  name: 'advanced-search',\n  components: {\n    IconProjectMemberRole,\n    ImageName,\n    CytomineTable,\n    ProjectDetails,\n    ImageDetails,\n    CytomineMultiselect\n  },\n  data() {\n    return {\n      loading: true,\n      error: false,\n\n      searchString: '',\n      projects:[],\n      images: [],\n      activeTab: 'projects',\n      perPage: 10,\n\n      selectedTags: [],\n      availableTags:[],\n\n      currentPage: 1,\n      sortField: 'created',\n      sortOrder: 'desc',\n      openedDetails: [],\n      revision: 0,\n\n      excludedProperties: [\n        'name',\n        'imagesPreview',\n        'lastActivity',\n      ],\n\n\n    };\n  },\n  methods: {\n    debounceSearchString: _.debounce(async function(value) {\n      this.searchString = value;\n    }, 500)\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n\n    pathSearchString() {\n      return this.$route.params.searchString;\n    },\n    querySearchString() {\n      return this.$route.query.searchString;\n    },\n    querySearchTags() {\n      return this.$route.query.tags;\n    },\n    regexp() {\n      return getWildcardRegexp(this.searchString);\n    },\n    projectCollection() {\n      let collection = new ProjectCollection({\n        withMembersCount: true,\n        withLastActivity: true,\n        withCurrentUserRoles: true\n      });\n      if(this.searchString) {\n        collection['name'] = {\n          ilike: encodeURIComponent(this.searchString)\n        };\n      }\n\n      if(this.selectedTags.length > 0 && this.selectedTags.length < this.availableTags.length){\n        collection['tag'] = {\n          in: this.selectedTags.map(t => t.id).join()\n        };\n      }\n      return collection;\n    },\n    imageCollection() {\n      let collection = new ImageInstanceCollection({\n        filterKey: 'user',\n        filterValue: this.currentUser.id,\n      });\n\n      if(this.searchString) {\n        collection['name'] = {\n          ilike: encodeURIComponent(this.searchString)\n        };\n      }\n      if(this.selectedTags.length > 0 && this.selectedTags.length < this.availableTags.length){\n        collection['tag'] = {\n          in: this.selectedTags.map(t => t.id).join()\n        };\n      }\n      return collection;\n    },\n\n\n\n  },\n  watch: {\n    pathSearchString(val) {\n      if(val) {\n        this.searchString = val;\n      }\n    },\n    querySearchString(val) {\n      if(val && !this.pathSearchString) {\n        this.searchString = val;\n      }\n    },\n    querySearchTags(values) {\n      if(values) {\n        this.selectedTags = [];\n        let queriedTags = this.availableTags.filter(tag => values.split(',').includes(tag.name));\n        if(queriedTags) {\n          this.selectedTags = queriedTags;\n        }\n      }\n    },\n  },\n  async created() {\n    this.searchString = this.pathSearchString || this.querySearchString || '';\n    try {\n      this.availableTags = [{id: 'null', name: this.$t('no-tag')}, ...(await TagCollection.fetchAll()).array];\n    }\n    catch(error) {\n      console.log(error);\n      this.error = true;\n    }\n    if(this.$route.query.tags) {\n      let queriedTags = this.availableTags.filter(tag => this.$route.query.tags.split(',').includes(tag.name));\n      if(queriedTags) {\n        this.selectedTags = queriedTags;\n      }\n    }\n\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\n.search-block {\n  display: flex;\n  background: #fff;\n  padding: 0.5em 0.75em;\n}\n\n.legend {\n  margin-top: 0.8rem;\n  margin-bottom: 1rem;\n  border-radius: 10px;\n  padding: 1rem 1.5em;\n  background: #f8f8f8;\n}\n\n.legend p:not(:last-child) {\n  margin-bottom: 0.4em;\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdvancedSearch.vue?vue&type=template&id=f9fb57cc&scoped=true&\"\nimport script from \"./AdvancedSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./AdvancedSearch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdvancedSearch.vue?vue&type=style&index=0&id=f9fb57cc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f9fb57cc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.error)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('error-loading-image')))]),(_vm.errorBadImageProject)?_c('p',[_vm._v(_vm._s(_vm.$t('error-loading-image-bad-project')))]):_vm._e()]):_c('div',{staticClass:\"cytomine-viewer\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('div',{staticClass:\"maps-wrapper\"},[_vm._l((_vm.cells),function(cell,i){return _c('div',{key:i,staticClass:\"map-cell\",style:((\"height:\" + _vm.elementHeight + \"%; width:\" + _vm.elementWidth + \"%;\"))},[(cell && cell.image)?_c('cytomine-image',{key:((cell.index) + \"-\" + (cell.image.id)),attrs:{\"index\":cell.index},on:{\"close\":function($event){return _vm.closeMap(cell.index)}}}):_vm._e()],1)}),_c('image-selector'),_c('div',{directives:[{name:\"shortkey\",rawName:\"v-shortkey.once\",value:(_vm.shortkeysMapping),expression:\"shortkeysMapping\",modifiers:{\"once\":true}}],staticClass:\"hidden\",on:{\"shortkey\":_vm.shortkeyEvent}})],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\",staticClass:\"map-container\",on:{\"click\":function($event){_vm.isActiveImage = true}}},[(!_vm.loading && _vm.zoom !== null)?[_c('vl-map',{ref:\"map\",attrs:{\"data-projection\":_vm.projectionName,\"load-tiles-while-animating\":true,\"load-tiles-while-interacting\":true,\"keyboard-event-target\":_vm.document},on:{\"pointermove\":function($event){_vm.projectedMousePosition = $event.coordinate},\"mounted\":_vm.updateKeyboardInteractions}},[_c('vl-view',{ref:\"view\",attrs:{\"center\":_vm.center,\"zoom\":_vm.zoom,\"rotation\":_vm.rotation,\"max-zoom\":_vm.maxZoom,\"max-resolution\":Math.pow(2, _vm.image.depth),\"extent\":_vm.extent,\"projection\":_vm.projectionName},on:{\"update:center\":function($event){_vm.center=$event},\"update:zoom\":function($event){_vm.zoom=$event},\"update:rotation\":function($event){_vm.rotation=$event},\"mounted\":function($event){return _vm.viewMounted()}}}),_c('vl-layer-tile',{ref:\"baseLayer\",attrs:{\"extent\":_vm.extent},on:{\"mounted\":_vm.addOverviewMap}},[_c('vl-source-zoomify',{ref:\"baseSource\",attrs:{\"projection\":_vm.projectionName,\"urls\":_vm.baseLayerURLs,\"size\":_vm.imageSize,\"extent\":_vm.extent,\"crossOrigin\":\"Anonymous\"},on:{\"mounted\":function($event){return _vm.setBaseSource()}}})],1),_c('vl-layer-image',[(_vm.baseSource && _vm.colorManipulationOn)?_c('vl-source-raster',{attrs:{\"sources\":[_vm.baseSource],\"operation\":_vm.operation,\"lib\":_vm.lib}}):_vm._e()],1),_vm._l((_vm.selectedLayers),function(layer){return _c('annotation-layer',{key:'layer-'+layer.id,attrs:{\"index\":_vm.index,\"layer\":layer}})}),(_vm.activeSelectInteraction)?_c('select-interaction',{attrs:{\"index\":_vm.index}}):_vm._e(),(_vm.activeDrawInteraction)?_c('draw-interaction',{attrs:{\"index\":_vm.index}}):_vm._e(),(_vm.activeModifyInteraction)?_c('modify-interaction',{attrs:{\"index\":_vm.index}}):_vm._e()],2),(_vm.configUI['project-tools-main'])?_c('div',{staticClass:\"draw-tools\"},[_c('draw-tools',{attrs:{\"index\":_vm.index}})],1):_vm._e(),_c('div',{staticClass:\"panels\"},[_c('ul',[_c('li',[_c('a',{staticClass:\"close\",on:{\"click\":function($event){return _vm.$emit('close')}}},[_c('i',{staticClass:\"fas fa-times-circle\"})])]),(_vm.isPanelDisplayed('hide-tools'))?[(_vm.isPanelDisplayed('info'))?_c('li',[_c('a',{class:{active: _vm.activePanel === 'info'},on:{\"click\":function($event){return _vm.togglePanel('info')}}},[_c('i',{staticClass:\"fas fa-info\"})]),_c('information-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'info'),expression:\"activePanel === 'info'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index}})],1):_vm._e(),(_vm.isPanelDisplayed('digital-zoom'))?_c('li',[_c('a',{class:{active: _vm.activePanel === 'digital-zoom'},on:{\"click\":function($event){return _vm.togglePanel('digital-zoom')}}},[_c('i',{staticClass:\"fas fa-search\"})]),_c('digital-zoom',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'digital-zoom'),expression:\"activePanel === 'digital-zoom'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index}})],1):_vm._e(),(_vm.isPanelDisplayed('link') && _vm.nbImages > 1)?_c('li',[_c('a',{class:{active: _vm.activePanel === 'link'},on:{\"click\":function($event){return _vm.togglePanel('link')}}},[_c('i',{staticClass:\"fas fa-link\"})]),_c('link-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'link'),expression:\"activePanel === 'link'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index}})],1):_vm._e(),(_vm.isPanelDisplayed('color-manipulation'))?_c('li',[_c('a',{class:{active: _vm.activePanel === 'colors'},on:{\"click\":function($event){return _vm.togglePanel('colors')}}},[_c('i',{staticClass:\"fas fa-adjust\"})]),_c('color-manipulation',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'colors'),expression:\"activePanel === 'colors'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index}})],1):_vm._e(),(_vm.isPanelDisplayed('image-layers'))?_c('li',[_c('a',{class:{active: _vm.activePanel === 'layers'},on:{\"click\":function($event){return _vm.togglePanel('layers')}}},[_c('i',{staticClass:\"fas fa-copy\"})]),_c('layers-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'layers'),expression:\"activePanel === 'layers'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index,\"layers-to-preload\":_vm.layersToPreload}})],1):_vm._e(),(_vm.isPanelDisplayed('ontology') && _vm.terms && _vm.terms.length > 0)?_c('li',[_c('a',{class:{active: _vm.activePanel === 'ontology'},on:{\"click\":function($event){return _vm.togglePanel('ontology')}}},[_c('i',{staticClass:\"fas fa-hashtag\"})]),_c('ontology-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'ontology'),expression:\"activePanel === 'ontology'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index}})],1):_vm._e(),(_vm.isPanelDisplayed('property'))?_c('li',[_c('a',{class:{active: _vm.activePanel === 'properties'},on:{\"click\":function($event){return _vm.togglePanel('properties')}}},[_c('i',{staticClass:\"fas fa-tag\"})]),_c('properties-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'properties'),expression:\"activePanel === 'properties'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index}})],1):_vm._e(),(_vm.isPanelDisplayed('follow'))?_c('li',[_c('a',{class:{active: _vm.activePanel === 'follow'},on:{\"click\":function($event){return _vm.togglePanel('follow')}}},[_c('i',{staticClass:\"fas fa-street-view\"})]),_c('follow-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'follow'),expression:\"activePanel === 'follow'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index,\"view\":_vm.$refs.view}})],1):_vm._e(),(_vm.isPanelDisplayed('review') && _vm.canEdit)?_c('li',[_c('a',{class:{active: _vm.activePanel === 'review'},on:{\"click\":function($event){return _vm.togglePanel('review')}}},[_c('i',{staticClass:\"fas fa-check-circle\"})]),_c('review-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePanel === 'review'),expression:\"activePanel === 'review'\"}],staticClass:\"panel-options\",attrs:{\"index\":_vm.index}})],1):_vm._e()]:_vm._e()],2)]),(_vm.imageWrapper.tracking.broadcast)?_c('div',{staticClass:\"broadcast\"},[_c('i',{staticClass:\"fas fa-circle\"}),_vm._v(\" \"+_vm._s(_vm.$t('live'))+\" \")]):_vm._e(),_c('rotation-selector',{staticClass:\"rotation-selector-wrapper\",attrs:{\"index\":_vm.index}}),_c('scale-line',{attrs:{\"image\":_vm.image,\"zoom\":_vm.zoom,\"mousePosition\":_vm.projectedMousePosition}}),(_vm.isPanelDisplayed('annotation-main'))?_c('annotation-details-container',{attrs:{\"index\":_vm.index,\"view\":_vm.$refs.view}}):_vm._e(),_c('div',{ref:\"overview\",staticClass:\"custom-overview\"},[_c('p',{staticClass:\"image-name\",class:{hidden: _vm.overviewCollapsed}},[_c('image-name',{attrs:{\"image\":_vm.image}})],1)])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vl-layer-vector',{attrs:{\"visible\":_vm.layer.visible,\"extent\":_vm.imageExtent,\"update-while-interacting\":false}},[_c('vl-source-vector',{ref:\"olSource\",attrs:{\"loader-factory\":_vm.loaderFactory,\"strategy-factory\":_vm.strategyFactory,\"url\":\"-\"}},[_c('vl-style-func',{attrs:{\"factory\":_vm.styleFunctionFactory}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport {AnnotationTermCollection, AnnotationType} from 'cytomine-client';\n\n/** Enum providing the actions that can be performed on annotations */\nexport const Action = Object.freeze({\n  SELECT: 'select',\n  CREATE: 'create',\n  UPDATE: 'update',\n  DELETE: 'delete'\n});\n\n/**\n * Fetch the terms associated to the provided annot, and populate term and userByTerm properties accordingly\n *\n * @param {Object} annot The annotation to update\n */\nexport async function updateTermProperties(annot) {\n  let annotTerms = await AnnotationTermCollection.fetchAll({filterKey: 'annotation', filterValue: annot.id});\n  annot.term = [];\n  annot.userByTerm = [];\n  let mapping = {};\n  annotTerms.array.forEach(({term, user}) => {\n    if(!annot.term.includes(term)) {\n      mapping[term] = annot.term.length;\n      annot.term.push(term);\n      annot.userByTerm.push({term, user: [user]});\n    }\n    else { // this term was already treated => add user to existing userByTerm object related to the term\n      annot.userByTerm[mapping[term]].user.push(user);\n    }\n  });\n}\n\n/**\n * Checks whether an annotation belongs to the provided layer and image\n *\n * @param {Object} annot The annotation\n * @param {Object} layer The layer\n * @param {Object} [image] The image\n *\n * @returns {Boolean} whether or not the annotation belongs to the provided layer and image\n */\nexport function annotBelongsToLayer(annot, layer, image=null) {\n  if(image && annot.image !== image.id) {\n    return false;\n  }\n  let isReviewed = annot.type === AnnotationType.REVIEWED;\n  return layer.isReview ? isReviewed : (!isReviewed && annot.user === layer.id);\n}\n","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<vl-layer-vector\n  :visible=\"layer.visible\"\n  :extent=\"imageExtent\"\n  :update-while-interacting=\"false\"\n>\n\n  <vl-source-vector\n    ref=\"olSource\"\n    :loader-factory=\"loaderFactory\"\n    :strategy-factory=\"strategyFactory\"\n    url=\"-\"\n  > <!-- HACK because loader factory not used if URL not specified -->\n    <vl-style-func :factory=\"styleFunctionFactory\" />\n  </vl-source-vector>\n\n</vl-layer-vector>\n</template>\n\n<script>\nimport WKT from 'ol/format/WKT';\nimport {AnnotationCollection} from 'cytomine-client';\nimport {annotBelongsToLayer} from '@/utils/annotation-utils';\n\nexport default {\n  name: 'annotation-layer',\n  props: {\n    index: String,\n    layer: Object\n  },\n  data() {\n    return {\n      format: new WKT(),\n\n      resolution: null,\n      lastExtent: null,\n      clustered: null,\n      maxResolutionNoClusters: null\n    };\n  },\n  computed: {\n    imageModule() {\n      return this.$store.getters['currentProject/imageModule'](this.index);\n    },\n    imageWrapper() {\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\n    },\n    image() {\n      return this.imageWrapper.imageInstance;\n    },\n    annotsIdsToSelect() {\n      return this.imageWrapper.selectedFeatures.annotsToSelect.map(annot => annot.id);\n    },\n    imageExtent() {\n      return [0, 0, this.image.width, this.image.height];\n    },\n    selectedFeatures() {\n      return this.imageWrapper.selectedFeatures.selectedFeatures;\n    },\n    ongoingEdit() {\n      return this.imageWrapper.draw.ongoingEdit;\n    },\n    terms() {\n      return this.imageWrapper.style.terms || [];\n    },\n    styleFunctionFactory() {\n      // Force computed property update when one of those properties change (leading to new style function =>\n      // rerendering - see https://github.com/ghettovoice/vuelayers/issues/68#issuecomment-404223423)\n      this.imageWrapper.selectedFeatures.selectedFeatures;\n      this.imageWrapper.style.layersOpacity;\n      this.terms.forEach(term => {\n        term.visible;\n        term.opacity;\n      });\n      this.imageWrapper.style.displayNoTerm;\n      this.imageWrapper.style.noTermOpacity;\n      this.imageWrapper.properties.selectedPropertyKey;\n      this.imageWrapper.properties.selectedPropertyColor;\n      this.imageWrapper.review.reviewMode;\n\n      return () => {\n        return this.$store.getters[this.imageModule + 'genStyleFunction'];\n      };\n    },\n    reviewMode() {\n      return this.imageWrapper.review.reviewMode;\n    }\n  },\n  watch: {\n    reviewMode() { // in review mode, reviewed annotation no longer displayed => need to force reload\n      this.clearFeatures();\n    }\n  },\n  methods: {\n    clearFeatures() {\n      if(this.$refs.olSource) {\n        this.$store.commit(this.imageModule + 'removeLayerFromSelectedFeatures', {layer: this.layer, cache: true});\n        this.$refs.olSource.clearFeatures();\n      }\n    },\n\n    annotBelongsToLayer(annot) {\n      return annotBelongsToLayer(annot, this.layer, this.image);\n    },\n\n    addAnnotationHandler(annot) {\n      if(this.annotBelongsToLayer(annot) && this.$refs.olSource) {\n        this.$refs.olSource.addFeature(this.createFeature(annot));\n      }\n    },\n    selectAnnotationHandler({annot, index}) {\n      if(index === this.index && this.annotBelongsToLayer(annot) && this.$refs.olSource) {\n        let olFeature = this.$refs.olSource.getFeatureById(annot.id);\n        if(!olFeature) {\n          this.$store.commit(this.imageModule + 'setAnnotToSelect', annot);\n        }\n        else {\n          this.$store.dispatch(this.imageModule + 'selectFeature', olFeature);\n        }\n      }\n    },\n    reloadAnnotationsHandler({idImage, clear=false}={}) {\n      if(!idImage || idImage === this.image.id) {\n        if(clear) {\n          this.clearFeatures();\n        }\n        else {\n          this.loader();\n        }\n      }\n    },\n    reviewAnnotationHandler(annot) {\n      if(this.reviewMode) { // if the image is in review mode, reviewed annotation should no longer be displayed on user layer => call delete handler\n        this.deleteAnnotationHandler(annot);\n      }\n    },\n    editAnnotationHandler(annot) {\n      if(this.annotBelongsToLayer(annot) && this.$refs.olSource) {\n        let olFeature = this.$refs.olSource.getFeatureById(annot.id);\n        if(!olFeature) {\n          return;\n        }\n        olFeature.setGeometry(this.format.readGeometry(annot.location));\n        olFeature.set('annot', annot);\n\n        let indexSelectedFeature = this.selectedFeatures.findIndex(ftr => ftr.id === annot.id);\n        if(indexSelectedFeature >= 0) {\n          this.$store.commit(this.imageModule + 'changeAnnotSelectedFeature', {\n            indexFeature: indexSelectedFeature,\n            annot\n          });\n        }\n      }\n    },\n    deleteAnnotationHandler(annot) {\n      if(this.annotBelongsToLayer(annot) && this.$refs.olSource) {\n        let olFeature = this.$refs.olSource.getFeatureById(annot.id);\n        if(!olFeature) {\n          return;\n        }\n        this.$refs.olSource.removeFeature(olFeature);\n\n        if(this.selectedFeatures.some(ftr => ftr.id === annot.id)) {\n          this.$store.commit(this.imageModule + 'clearSelectedFeatures');\n        }\n      }\n    },\n\n    strategyFactory() {\n      return (extent, resolution) => {\n        this.lastExtent = extent;\n\n        if(this.$refs.olSource && this.resolution && this.clustered != null && ( // some features have already been loaded\n          !this.clustered && resolution > this.maxResolutionNoClusters // recluster\n                    || resolution !== this.resolution && this.clustered)) { // change of resolution while clustering\n\n          // clear loaded extents to force reloading features\n          this.$refs.olSource.$source.loadedExtentsRtree_.clear();\n        }\n\n        return [extent];\n      };\n    },\n\n    async fetchAnnots(extent) {\n      [0, 1].forEach(index => {\n        if(extent[index] < 0) {\n          extent[index] = 0;\n        }\n      });\n      [2, 3].forEach(index => {\n        if(this.imageExtent[index] < extent[index]) {\n          extent[index] = this.imageExtent[index];\n        }\n      });\n\n      let annots = await new AnnotationCollection({\n        user: !this.layer.isReview ? this.layer.id : null,\n        image: this.image.id,\n        reviewed: this.layer.isReview,\n        notReviewedOnly: !this.layer.isReview && this.reviewMode,\n        bbox: extent.join(),\n        showWKT: true,\n        showTerm: true,\n        showGIS: true,\n        kmeans: true\n      }).fetchAll();\n\n      return annots.array;\n    },\n\n    updateFeature(feature, annot) {\n      let indexSelectedFeature = this.selectedFeatures.findIndex(ftr => ftr.id === feature.getId());\n      let isFeatureSelected = indexSelectedFeature !== -1;\n\n      if(!annot) {\n        console.log(`Removing annot ${feature.getId()} in layer ${this.layer.id} (external action)`);\n        this.$refs.olSource.removeFeature(feature);\n        if(isFeatureSelected) {\n          this.$store.commit(this.imageModule + 'clearSelectedFeatures');\n        }\n        return;\n      }\n\n      let storedAnnot = feature.get('annot');\n      if(!this.clustered && annot.updated === storedAnnot.updated && this.sameTerms(annot.term, storedAnnot.term)) {\n        // no modification performed since feature was loaded\n        return;\n      }\n\n      if(isFeatureSelected) {\n        if(this.ongoingEdit) {\n          // if feature is selected and under modification, updating it may lead to conflict\n          console.log(`Skipping update of selected annot ${annot.id} in layer ${this.layer.id} (ongoing edit)`);\n          return;\n        }\n        console.log(`Updating selected annot ${annot.id} in layer ${this.layer.id} (external action)`);\n        this.$store.commit(this.imageModule + 'changeAnnotSelectedFeature', {\n          indexFeature: indexSelectedFeature,\n          annot\n        });\n      }\n\n      console.log(`Updating annot ${annot.id} in layer ${this.layer.id} (external action)`);\n      feature.set('annot', annot);\n      feature.setGeometry(this.format.readGeometry(annot.location));\n    },\n\n    async loader(extent=this.lastExtent, resolution=this.resolution) {\n      this.resolution = resolution;\n\n      if(!this.layer.visible || !extent) {\n        return;\n      }\n\n      let arrayAnnots;\n      try {\n        arrayAnnots = await this.fetchAnnots(extent);\n        // Order by size, so bigger ones are always sent to back\n        arrayAnnots.sort(\n          function( a, b ) {\n            if( a.area < b.area ) return 1;\n            else return -1;\n          }\n        );\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-fetch-annotations-viewer')});\n        return;\n      }\n\n      if(!this.$refs.olSource) {\n        return;\n      }\n\n      let wasClustered = this.clustered;\n      if(arrayAnnots.length) {\n        this.clustered = (arrayAnnots[0].count != null);\n        if(!this.clustered && resolution > this.maxResolutionNoClusters) {\n          this.maxResolutionNoClusters = resolution;\n        }\n      }\n\n      let annots = arrayAnnots.reduce((obj, annot) => {\n        obj[annot.id] = annot;\n        return obj;\n      }, {});\n      let seenAnnots = [];\n\n      if(wasClustered !== null && wasClustered !== this.clustered) {\n        this.clearFeatures(); // clearing features will retrigger the loader\n      }\n      else {\n        let features = this.clustered ? this.$refs.olSource.$source.getFeatures()\n          : this.$refs.olSource.$source.getFeaturesInExtent(extent);\n\n        features.forEach(feature => {\n          this.updateFeature(feature, annots[feature.getId()]);\n          seenAnnots.push(feature.getId());\n        });\n      }\n\n      arrayAnnots.forEach(annot => {\n        if(!seenAnnots.includes(annot.id)) {\n          this.$refs.olSource.addFeature(this.createFeature(annot));\n        }\n      });\n    },\n\n    loaderFactory() {\n      return (extent, resolution) => this.loader(extent, resolution);\n    },\n\n    createFeature(annot) {\n      let feature = this.format.readFeature(annot.location);\n      feature.setId(annot.id);\n      feature.set('annot', annot);\n\n      if(this.annotsIdsToSelect.includes(annot.id)) {\n        this.$store.dispatch(this.imageModule + 'selectFeature', feature);\n      }\n\n      return feature;\n    },\n\n    sameTerms(terms1, terms2) {\n      if(terms1.length !== terms2.length) {\n        return false;\n      }\n      return terms1.every(term => terms2.includes(term));\n    }\n  },\n  mounted() {\n    this.$eventBus.$on('addAnnotation', this.addAnnotationHandler);\n    this.$eventBus.$on('selectAnnotation', this.selectAnnotationHandler);\n    this.$eventBus.$on('reloadAnnotations', this.reloadAnnotationsHandler);\n    this.$eventBus.$on('reviewAnnotation', this.reviewAnnotationHandler);\n    this.$eventBus.$on('editAnnotation', this.editAnnotationHandler);\n    this.$eventBus.$on('deleteAnnotation', this.deleteAnnotationHandler);\n  },\n  beforeDestroy() {\n    // unsubscribe from all events\n    this.$eventBus.$off('addAnnotation', this.addAnnotationHandler);\n    this.$eventBus.$off('selectAnnotation', this.selectAnnotationHandler);\n    this.$eventBus.$off('reloadAnnotations', this.reloadAnnotationsHandler);\n    this.$eventBus.$off('reviewAnnotation', this.reviewAnnotationHandler);\n    this.$eventBus.$off('editAnnotation', this.editAnnotationHandler);\n    this.$eventBus.$off('deleteAnnotation', this.deleteAnnotationHandler);\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationLayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationLayer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationLayer.vue?vue&type=template&id=7ac4426a&\"\nimport script from \"./AnnotationLayer.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationLayer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rotation-selector-wrapper\",class:{expanded: _vm.expanded}},[_c('div',{staticClass:\"ol-rotate ol-unselectable ol-control custom\"},[_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.expanded = true}}},[_c('span',{staticClass:\"ol-compass\",style:({transform: (\"rotate(\" + _vm.rotation + \"rad)\")})},[_vm._v(\"\")])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}]},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"rotation-controls\"},[_c('b-field',[_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.degreesRotation = 0}}},[_vm._v(_vm._s(_vm.$t('button-reset')))])]),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.increment(90)}}},[_vm._v(\"+90\")])]),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.increment(-90)}}},[_vm._v(\"-90\")])])])],1),_c('button',{staticClass:\"delete is-small\",on:{\"click\":function($event){_vm.expanded=false}}})]),_c('cytomine-slider',{attrs:{\"max\":360,\"integerOnly\":false},model:{value:(_vm.degreesRotation),callback:function ($$v) {_vm.degreesRotation=$$v},expression:\"degreesRotation\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"rotation-selector-wrapper\" :class=\"{expanded}\">\n  <div class=\"ol-rotate ol-unselectable ol-control custom\">\n    <button type=\"button\" @click=\"expanded = true\">\n      <span class=\"ol-compass\" :style=\"{transform: `rotate(${rotation}rad)`}\"></span>\n    </button>\n  </div>\n  <div v-show=\"expanded\">\n    <div class=\"top\">\n      <div class=\"rotation-controls\">\n        <b-field>\n          <p class=\"control\">\n            <button class=\"button is-small\" @click=\"degreesRotation = 0\">{{$t('button-reset')}}</button>\n          </p>\n          <p class=\"control\">\n            <button class=\"button is-small\" @click=\"increment(90)\">+90</button>\n          </p>\n          <p class=\"control\">\n            <button class=\"button is-small\" @click=\"increment(-90)\">-90</button>\n          </p>\n        </b-field>\n      </div>\n      <button class=\"delete is-small\" @click=\"expanded=false\"></button>\n    </div>\n    <cytomine-slider v-model=\"degreesRotation\" :max=\"360\" :integerOnly=\"false\" />\n  </div>\n</div>\n</template>\n\n<script>\nimport CytomineSlider from '@/components/form/CytomineSlider';\n\nexport default {\n  name: 'rotation-selector',\n  components: {CytomineSlider},\n  props: {\n    index: String\n  },\n  data() {\n    return {\n      expanded: false\n    };\n  },\n  computed: {\n    viewerModule() {\n      return this.$store.getters['currentProject/currentViewerModule'];\n    },\n    imageWrapper() {\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\n    },\n    rotation() {\n      return this.imageWrapper.view.rotation;\n    },\n    degreesRotation: {\n      get() {\n        return Math.round(this.rotation * 180 / Math.PI * 1000) / 1000;\n      },\n      set(value) {\n        this.$store.dispatch(this.viewerModule + 'setRotation', {\n          index: this.index,\n          rotation: Number(value) / 180 * Math.PI\n        });\n      }\n    }\n  },\n  methods: {\n    increment(inc) {\n      this.degreesRotation = (this.degreesRotation + inc + 360) % 360;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.rotation-selector-wrapper {\n  border-radius: 2px;\n  box-shadow: 0 0 1px #777;\n  background: white;\n  margin-left: 2px;\n}\n\n.rotation-selector-wrapper.expanded {\n  min-width: 16.5em;\n  padding-top: 0.4em;\n  min-height: 6em;\n}\n\n.rotation-selector-wrapper.expanded .ol-control button {\n  cursor: initial;\n}\n\n.rotation-selector-wrapper .ol-control {\n  padding: 0;\n}\n\n.rotation-selector-wrapper.expanded .ol-control button {\n  box-shadow: none;\n}\n\n.ol-rotate.ol-control {\n  left: 0 !important;\n  top: 0 !important;\n}\n\n.top {\n  margin: 0em 0.4em 0.75em 1.8em;\n  display: flex;\n}\n\n.top .rotation-controls {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  margin-left: 1em;\n  margin-right: 1em;\n  margin-top: 0.5em;\n}\n</style>\n\n<style>\n.rotation-selector-wrapper .vue-slider {\n  margin-left: 1em;\n  margin-right: 4em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotationSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotationSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RotationSelector.vue?vue&type=template&id=f8b04e22&scoped=true&\"\nimport script from \"./RotationSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./RotationSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RotationSelector.vue?vue&type=style&index=0&id=f8b04e22&scoped=true&lang=css&\"\nimport style1 from \"./RotationSelector.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f8b04e22\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"scale-line\",class:{'interpolation': _vm.interpolation}},[_c('div',{staticClass:\"scale-line-top\",style:({width: _vm.scaleLineLength + 'px'})},[_vm._v(\" \"+_vm._s(_vm.scaleLength)+\" \")]),_c('div',{staticClass:\"scale-line-bottom\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.magnification),expression:\"magnification\"}]},[_vm._v(\" \"+_vm._s(_vm.$t('magnification'))+\": \"+_vm._s(_vm.magnification)+\"X \")])]),(_vm.mousePosition)?_c('div',{staticClass:\"scale-line-position\"},[_c('div',{staticStyle:{\"float\":\"left\"}},[_vm._v(\"x: \"+_vm._s(Math.round(_vm.mousePosition[0])))]),_c('div',{staticStyle:{\"float\":\"right\"}},[_vm._v(\"y: \"+_vm._s(Math.round(_vm.mousePosition[1])))])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"scale-line\" :class=\"{'interpolation': interpolation}\">\n  <div class=\"scale-line-top\" :style=\"{width: scaleLineLength + 'px'}\">\n    {{scaleLength}}\n  </div>\n  <div class=\"scale-line-bottom\">\n    <span v-show=\"magnification\">\n      {{$t('magnification')}}: {{magnification}}X\n    </span>\n  </div>\n\n  <div class=\"scale-line-position\" v-if=\"mousePosition\">\n    <div style=\"float: left;\">x: {{Math.round(mousePosition[0])}}</div>\n    <div style=\"float: right;\">y: {{Math.round(mousePosition[1])}}</div>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  name: 'scale-line',\n  props: {\n    image: Object,\n    zoom: Number,\n    mousePosition: Array\n  },\n  data() {\n    return {\n      scaleLineLength: 100\n    };\n  },\n  computed: {\n    magnification() {\n      let magnification = Math.pow(2, this.zoom - this.image.depth) * this.image.magnification;\n      return Math.round(magnification * 100) / 100;\n    },\n    resolution() {\n      let resolution = this.image.resolution ? this.image.resolution : 1;\n      return Math.pow(2, this.image.depth - this.zoom) * resolution;\n    },\n    scaleLength() {\n      let length = this.scaleLineLength * this.resolution;\n      if(this.image.resolution) {\n        let unit = this.$t('um');\n        if (length > 1000) {\n          length /= 1000;\n          unit = this.$t('mm');\n        }\n        return `${length.toPrecision(3)} ${unit}`;\n      }\n      else {\n        return `${Math.round(length*1000) / 1000} ${this.$t('pixels')}`;\n      }\n    },\n    interpolation() {\n      return this.zoom > this.image.depth;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.scale-line {\n  background: white;\n  position: absolute;\n  padding: 0.4em 0.8em;\n  display: block;\n  right: 4rem;\n  bottom: 1rem;\n  font-size: 9px;\n  font-family: Helvetica;\n  min-width: 100px;\n}\n\n.scale-line-top {\n  margin-top: 0.5em;\n  box-sizing: content-box;\n  border: 2px solid black;\n  border-top: none;\n  text-align: center;\n  padding-bottom: 0.2em;\n}\n\n.scale-line-bottom {\n  box-sizing: content-box;\n  border: 2px solid black;\n  border-top: none;\n  border-bottom: none;\n  text-align: center;\n  padding-top: 0.2em;\n  margin-bottom: 1em;\n  min-height: 1em;\n}\n\n.interpolation {\n  color: red;\n}\n\n.interpolation .scale-line-top, .interpolation .scale-line-bottom {\n  border-color: red;\n}\n\n.scale-line-position {\n  text-align: center;\n  padding: 0 0.5em;\n  color: black !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaleLine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaleLine.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ScaleLine.vue?vue&type=template&id=66fc9522&scoped=true&\"\nimport script from \"./ScaleLine.vue?vue&type=script&lang=js&\"\nexport * from \"./ScaleLine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ScaleLine.vue?vue&type=style&index=0&id=66fc9522&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66fc9522\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"draw-tools-wrapper\"},[(_vm.isToolDisplayed('select'))?_c('div',{staticClass:\"buttons has-addons are-small\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('select')),expression:\"$t('select')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'select'},on:{\"click\":function($event){return _vm.activateTool('select')}}},[_vm._m(0)])]):_vm._e(),(!_vm.reviewMode)?[(_vm.terms && _vm.terms.length > 0)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(function () { return _vm.showTermSelector = false; }),expression:\"() => showTermSelector = false\"}],staticClass:\"buttons has-addons are-small term-selection\",class:{'has-preview': _vm.termsToAssociate.length > 0}},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('terms-new-annotation')),expression:\"$t('terms-new-annotation')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.disabledDraw},on:{\"click\":function($event){_vm.showTermSelector = !_vm.showTermSelector}}},[_vm._m(1)]),_c('div',{staticClass:\"color-preview\",style:({background: _vm.backgroundTermsNewAnnot})},[(_vm.termsToAssociate.length > 1)?_c('span',[_vm._v(_vm._s(_vm.termsToAssociate.length))]):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTermSelector),expression:\"showTermSelector\"}],staticClass:\"ontology-tree-container\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"size\":\"is-small\"},model:{value:(_vm.searchStringTerm),callback:function ($$v) {_vm.searchStringTerm=$$v},expression:\"searchStringTerm\"}}),_c('ontology-tree',{staticClass:\"ontology-tree\",attrs:{\"ontology\":_vm.ontology,\"searchString\":_vm.searchStringTerm},model:{value:(_vm.termsToAssociate),callback:function ($$v) {_vm.termsToAssociate=$$v},expression:\"termsToAssociate\"}})],1)]):_vm._e(),_c('div',{staticClass:\"buttons has-addons are-small\"},[(_vm.isToolDisplayed('point'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('point')),expression:\"$t('point')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'point'},attrs:{\"disabled\":_vm.disabledDraw},on:{\"click\":function($event){return _vm.activateTool('point')}}},[_vm._m(2)]):_vm._e(),(_vm.isToolDisplayed('line'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('line')),expression:\"$t('line')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'line'},attrs:{\"disabled\":_vm.disabledDraw},on:{\"click\":function($event){return _vm.activateTool('line')}}},[_vm._m(3)]):_vm._e(),(_vm.isToolDisplayed('freehand-line'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('freehand-line')),expression:\"$t('freehand-line')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'freehand-line'},attrs:{\"disabled\":_vm.disabledDraw},on:{\"click\":function($event){return _vm.activateTool('freehand-line')}}},[_c('span',{staticClass:\"icon is-small\"},[_c('icon-line-free-hand')],1)]):_vm._e(),(_vm.isToolDisplayed('rectangle'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('rectangle')),expression:\"$t('rectangle')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'rectangle'},attrs:{\"disabled\":_vm.disabledDraw},on:{\"click\":function($event){return _vm.activateTool('rectangle')}}},[_vm._m(4)]):_vm._e(),(_vm.isToolDisplayed('circle'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('circle')),expression:\"$t('circle')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'circle'},attrs:{\"disabled\":_vm.disabledDraw},on:{\"click\":function($event){return _vm.activateTool('circle')}}},[_vm._m(5)]):_vm._e(),(_vm.isToolDisplayed('polygon'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('polygon')),expression:\"$t('polygon')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'polygon'},attrs:{\"disabled\":_vm.disabledDraw},on:{\"click\":function($event){return _vm.activateTool('polygon')}}},[_vm._m(6)]):_vm._e(),(_vm.isToolDisplayed('freehand-polygon'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('freehand-polygon')),expression:\"$t('freehand-polygon')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeTool === 'freehand-polygon'},attrs:{\"disabled\":_vm.disabledDraw},on:{\"click\":function($event){return _vm.activateTool('freehand-polygon')}}},[_c('span',{staticClass:\"icon is-small\"},[_c('icon-polygon-free-hand')],1)]):_vm._e()])]:[_c('div',{staticClass:\"buttons has-addons are-small\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('validate-annotation')),expression:\"$t('validate-annotation')\"}],staticClass:\"button\",class:{'is-success': !_vm.isToolDisabled('accept')},attrs:{\"disabled\":_vm.isToolDisabled('accept')},on:{\"click\":function($event){return _vm.accept()}}},[_vm._m(7)]),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('reject-annotation')),expression:\"$t('reject-annotation')\"}],staticClass:\"button\",class:{'is-danger': !_vm.isToolDisabled('reject')},attrs:{\"disabled\":_vm.isToolDisabled('reject')},on:{\"click\":function($event){return _vm.reject()}}},[_vm._m(8)])])],(_vm.configUI['project-explore-annotation-main'])?_c('div',{staticClass:\"buttons has-addons are-small\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('display-annot-details')),expression:\"$t('display-annot-details')\"}],staticClass:\"button\",class:{'is-selected': _vm.displayAnnotDetails && _vm.selectedFeature},attrs:{\"disabled\":!_vm.selectedFeature},on:{\"click\":function($event){_vm.displayAnnotDetails = !_vm.displayAnnotDetails}}},[_vm._m(9)])]):_vm._e(),_c('div',{staticClass:\"buttons has-addons are-small\"},[(_vm.isToolDisplayed('fill'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('fill')),expression:\"$t('fill')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.isToolDisabled('fill')},on:{\"click\":function($event){return _vm.fill()}}},[_vm._m(10)]):_vm._e(),(_vm.isToolDisplayed('edit'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('modify')),expression:\"$t('modify')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeEditTool === 'modify'},attrs:{\"disabled\":_vm.isToolDisabled('edit')},on:{\"click\":function($event){return _vm.activateEditTool('modify')}}},[_vm._m(11)]):_vm._e(),(_vm.isToolDisplayed('union'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('freehand-correct-add')),expression:\"$t('freehand-correct-add')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeEditTool === 'correct-add'},attrs:{\"disabled\":_vm.isToolDisabled('correct-add')},on:{\"click\":function($event){return _vm.activateEditTool('correct-add')}}},[_vm._m(12)]):_vm._e(),(_vm.isToolDisplayed('diff'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('freehand-correct-remove')),expression:\"$t('freehand-correct-remove')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeEditTool === 'correct-remove'},attrs:{\"disabled\":_vm.isToolDisabled('correct-remove')},on:{\"click\":function($event){return _vm.activateEditTool('correct-remove')}}},[_vm._m(13)]):_vm._e(),(_vm.isToolDisplayed('move'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('move')),expression:\"$t('move')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeEditTool === 'translate'},attrs:{\"disabled\":_vm.isToolDisabled('move')},on:{\"click\":function($event){return _vm.activateEditTool('translate')}}},[_vm._m(14)]):_vm._e(),(_vm.isToolDisplayed('rotate'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('rotate')),expression:\"$t('rotate')\"}],staticClass:\"button\",class:{'is-selected': _vm.activeEditTool === 'rotate'},attrs:{\"disabled\":_vm.isToolDisabled('rotate')},on:{\"click\":function($event){return _vm.activateEditTool('rotate')}}},[_vm._m(15)]):_vm._e(),(_vm.isToolDisplayed('delete'))?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('delete')),expression:\"$t('delete')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.isToolDisabled('delete')},on:{\"click\":function($event){return _vm.confirmDeletion()}}},[_vm._m(16)]):_vm._e()]),(_vm.isToolDisplayed('undo-redo'))?_c('div',{staticClass:\"buttons has-addons are-small\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('undo')),expression:\"$t('undo')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.actions.length === 0},on:{\"click\":function($event){return _vm.undo()}}},[_vm._m(17)]),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('redo')),expression:\"$t('redo')\"}],staticClass:\"button\",attrs:{\"disabled\":_vm.undoneActions.length === 0},on:{\"click\":function($event){return _vm.redo()}}},[_vm._m(18)])]):_vm._e()],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-mouse-pointer\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-hashtag\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-map-marker-alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-minus\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"far fa-square\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"far fa-circle\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-draw-polygon\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-check\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-minus\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-info\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-fill\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-edit\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"superscript fas fa-plus\"}),_c('i',{staticClass:\"fas fa-pencil-alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"superscript fas fa-minus\"}),_c('i',{staticClass:\"fas fa-pencil-alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-arrows-alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-sync-alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"far fa-trash-alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-undo\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-redo\"})])}]\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"draw-tools-wrapper\">\n  <div class=\"buttons has-addons are-small\" v-if=\"isToolDisplayed('select')\">\n    <button\n      v-tooltip=\"$t('select')\"\n      class=\"button\"\n      :class=\"{'is-selected': activeTool === 'select'}\"\n      @click=\"activateTool('select')\"\n    >\n      <span class=\"icon is-small\"><i class=\"fas fa-mouse-pointer\"></i></span>\n    </button>\n  </div>\n\n  <template v-if=\"!reviewMode\"> <!-- drawing new annotations forbidden while reviewing -->\n    <div\n      v-if=\"terms && terms.length > 0\"\n      class=\"buttons has-addons are-small term-selection\"\n      :class=\"{'has-preview': termsToAssociate.length > 0}\"\n      v-click-outside=\"() => showTermSelector = false\"\n    >\n      <button\n        v-tooltip=\"$t('terms-new-annotation')\"\n        class=\"button\"\n        :disabled=\"disabledDraw\"\n        @click=\"showTermSelector = !showTermSelector\"\n      >\n        <span class=\"icon is-small\"><i class=\"fas fa-hashtag\"></i></span>\n      </button>\n\n      <div class=\"color-preview\" :style=\"{background: backgroundTermsNewAnnot}\">\n        <span v-if=\"termsToAssociate.length > 1\">{{termsToAssociate.length}}</span>\n      </div>\n\n      <div class=\"ontology-tree-container\" v-show=\"showTermSelector\">\n        <b-input v-model=\"searchStringTerm\" :placeholder=\"$t('search-placeholder')\" size=\"is-small\" />\n        <ontology-tree\n          class=\"ontology-tree\"\n          v-model=\"termsToAssociate\"\n          :ontology=\"ontology\"\n          :searchString=\"searchStringTerm\"\n        />\n      </div>\n    </div>\n\n    <div class=\"buttons has-addons are-small\">\n      <button\n        v-if=\"isToolDisplayed('point')\"\n        :disabled=\"disabledDraw\"\n        v-tooltip=\"$t('point')\"\n        class=\"button\"\n        :class=\"{'is-selected': activeTool === 'point'}\"\n        @click=\"activateTool('point')\"\n      >\n        <span class=\"icon is-small\"><i class=\"fas fa-map-marker-alt\"></i></span>\n      </button>\n\n      <button\n        v-if=\"isToolDisplayed('line')\"\n        :disabled=\"disabledDraw\"\n        v-tooltip=\"$t('line')\"\n        class=\"button\"\n        :class=\"{'is-selected': activeTool === 'line'}\"\n        @click=\"activateTool('line')\"\n      >\n        <span class=\"icon is-small\"><i class=\"fas fa-minus\"></i></span>\n      </button>\n\n      <button\n        v-if=\"isToolDisplayed('freehand-line')\"\n        :disabled=\"disabledDraw\"\n        v-tooltip=\"$t('freehand-line')\"\n        class=\"button\"\n        :class=\"{'is-selected': activeTool === 'freehand-line'}\"\n        @click=\"activateTool('freehand-line')\"\n      >\n        <span class=\"icon is-small\">\n          <icon-line-free-hand />\n        </span>\n      </button>\n\n      <!-- QUESTION: redefine expected behaviour\n      <button class=\"button\" :disabled=\"disabledDraw\" title=\"Arrow\"\n              @click=\"activateTool('arrow')\" :class=\"{'is-selected': activeTool === 'arrow'}\">\n          <span class=\"icon is-small\"><i class=\"fas fa-long-arrow-right\"></i></span>\n      </button> -->\n\n      <button\n        v-if=\"isToolDisplayed('rectangle')\"\n        :disabled=\"disabledDraw\"\n        v-tooltip=\"$t('rectangle')\"\n        class=\"button\"\n        :class=\"{'is-selected': activeTool === 'rectangle'}\"\n        @click=\"activateTool('rectangle')\"\n      >\n        <span class=\"icon is-small\"><i class=\"far fa-square\"></i></span>\n      </button>\n\n      <button\n        v-if=\"isToolDisplayed('circle')\"\n        :disabled=\"disabledDraw\"\n        v-tooltip=\"$t('circle')\"\n        class=\"button\"\n        :class=\"{'is-selected': activeTool === 'circle'}\"\n        @click=\"activateTool('circle')\"\n      >\n        <span class=\"icon is-small\"><i class=\"far fa-circle\"></i></span>\n      </button>\n\n      <button\n        v-if=\"isToolDisplayed('polygon')\"\n        :disabled=\"disabledDraw\"\n        v-tooltip=\"$t('polygon')\"\n        class=\"button\"\n        :class=\"{'is-selected': activeTool === 'polygon'}\"\n        @click=\"activateTool('polygon')\"\n      >\n        <span class=\"icon is-small\"><i class=\"fas fa-draw-polygon\"></i></span>\n      </button>\n\n      <button\n        v-if=\"isToolDisplayed('freehand-polygon')\"\n        :disabled=\"disabledDraw\"\n        v-tooltip=\"$t('freehand-polygon')\"\n        class=\"button\"\n        :class=\"{'is-selected': activeTool === 'freehand-polygon'}\"\n        @click=\"activateTool('freehand-polygon')\"\n      >\n        <span class=\"icon is-small\">\n          <icon-polygon-free-hand />\n        </span>\n      </button>\n    </div>\n  </template>\n\n  <template v-else>\n    <div class=\"buttons has-addons are-small\">\n      <button\n        :disabled=\"isToolDisabled('accept')\"\n        v-tooltip=\"$t('validate-annotation')\"\n        class=\"button\"\n        :class=\"{'is-success': !isToolDisabled('accept')}\"\n        @click=\"accept()\"\n      >\n      <span class=\"icon is-small\"><i class=\"fas fa-check\"></i></span>\n    </button>\n    <button\n        :disabled=\"isToolDisabled('reject')\"\n        v-tooltip=\"$t('reject-annotation')\"\n        class=\"button\"\n        :class=\"{'is-danger': !isToolDisabled('reject')}\"\n        @click=\"reject()\"\n      >\n      <span class=\"icon is-small\"><i class=\"fas fa-minus\"></i></span>\n    </button>\n    </div>\n  </template>\n\n  <div v-if=\"configUI['project-explore-annotation-main']\" class=\"buttons has-addons are-small\">\n    <button\n      :disabled=\"!selectedFeature\"\n      v-tooltip=\"$t('display-annot-details')\"\n      class=\"button\" :class=\"{'is-selected': displayAnnotDetails && selectedFeature}\"\n      @click=\"displayAnnotDetails = !displayAnnotDetails\"\n    >\n      <span class=\"icon is-small\"><i class=\"fas fa-info\"></i></span>\n    </button>\n  </div>\n\n  <div class=\"buttons has-addons are-small\">\n    <button\n      v-if=\"isToolDisplayed('fill')\"\n      :disabled=\"isToolDisabled('fill')\"\n      v-tooltip=\"$t('fill')\"\n      class=\"button\"\n      @click=\"fill()\"\n    >\n      <span class=\"icon is-small\"><i class=\"fas fa-fill\"></i></span>\n    </button>\n\n    <button\n      v-if=\"isToolDisplayed('edit')\"\n      :disabled=\"isToolDisabled('edit')\"\n      v-tooltip=\"$t('modify')\"\n      class=\"button\"\n      :class=\"{'is-selected': activeEditTool === 'modify'}\"\n      @click=\"activateEditTool('modify')\"\n    >\n      <span class=\"icon is-small\"><i class=\"fas fa-edit\"></i></span>\n    </button>\n\n    <button\n      v-if=\"isToolDisplayed('union')\"\n      :disabled=\"isToolDisabled('correct-add')\"\n      v-tooltip=\"$t('freehand-correct-add')\"\n      class=\"button\"\n      :class=\"{'is-selected': activeEditTool === 'correct-add'}\"\n      @click=\"activateEditTool('correct-add')\"\n    >\n      <span class=\"icon is-small\"><i class=\"superscript fas fa-plus\"></i><i class=\"fas fa-pencil-alt\"></i></span>\n    </button>\n\n    <button\n      v-if=\"isToolDisplayed('diff')\"\n      :disabled=\"isToolDisabled('correct-remove')\"\n      v-tooltip=\"$t('freehand-correct-remove')\"\n      class=\"button\"\n      :class=\"{'is-selected': activeEditTool === 'correct-remove'}\"\n      @click=\"activateEditTool('correct-remove')\"\n    >\n      <span class=\"icon is-small\"><i class=\"superscript fas fa-minus\"></i><i class=\"fas fa-pencil-alt\"></i></span>\n    </button>\n\n    <button\n      v-if=\"isToolDisplayed('move')\"\n      :disabled=\"isToolDisabled('move')\"\n      v-tooltip=\"$t('move')\"\n      class=\"button\"\n      :class=\"{'is-selected': activeEditTool === 'translate'}\"\n      @click=\"activateEditTool('translate')\"\n    >\n      <span class=\"icon is-small\"><i class=\"fas fa-arrows-alt\"></i></span>\n    </button>\n\n    <button\n      v-if=\"isToolDisplayed('rotate')\"\n      :disabled=\"isToolDisabled('rotate')\"\n      v-tooltip=\"$t('rotate')\"\n      class=\"button\"\n      :class=\"{'is-selected': activeEditTool === 'rotate'}\"\n      @click=\"activateEditTool('rotate')\"\n    >\n      <span class=\"icon is-small\"><i class=\"fas fa-sync-alt\"></i></span>\n    </button>\n\n    <button\n      v-if=\"isToolDisplayed('delete')\"\n      :disabled=\"isToolDisabled('delete')\"\n      v-tooltip=\"$t('delete')\"\n      class=\"button\"\n      @click=\"confirmDeletion()\"\n    >\n      <span class=\"icon is-small\"><i class=\"far fa-trash-alt\"></i></span>\n    </button>\n  </div>\n\n  <div v-if=\"isToolDisplayed('undo-redo')\" class=\"buttons has-addons are-small\">\n    <button\n      :disabled=\"actions.length === 0\"\n      v-tooltip=\"$t('undo')\"\n      class=\"button\"\n      @click=\"undo()\"\n    >\n      <span class=\"icon is-small\"><i class=\"fas fa-undo\"></i></span>\n    </button>\n\n    <button\n      :disabled=\"undoneActions.length === 0\"\n      v-tooltip=\"$t('redo')\"\n      class=\"button\"\n      @click=\"redo()\"\n    >\n      <span class=\"icon is-small\"><i class=\"fas fa-redo\"></i></span>\n    </button>\n  </div>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport OntologyTree from '@/components/ontology/OntologyTree';\nimport IconPolygonFreeHand from '@/components/icons/IconPolygonFreeHand';\nimport IconLineFreeHand from '@/components/icons/IconLineFreeHand';\n\nimport WKT from 'ol/format/WKT';\n\nimport {Cytomine, Annotation, AnnotationType} from 'cytomine-client';\nimport {Action, updateTermProperties} from '@/utils/annotation-utils.js';\n\nexport default {\n  name: 'draw-tools',\n  components: {\n    OntologyTree,\n    IconPolygonFreeHand,\n    IconLineFreeHand\n  },\n  props: {\n    index: String\n  },\n  data() {\n    return {\n      showTermSelector: false,\n      format: new WKT(),\n      searchStringTerm: ''\n    };\n  },\n  computed: {\n    configUI: get('currentProject/configUI'),\n    ontology: get('currentProject/ontology'),\n\n    imageModule() {\n      return this.$store.getters['currentProject/imageModule'](this.index);\n    },\n    viewerWrapper() {\n      return this.$store.getters['currentProject/currentViewer'];\n    },\n    imageWrapper() {\n      return this.viewerWrapper.images[this.index];\n    },\n    image() {\n      return this.imageWrapper.imageInstance;\n    },\n    terms() {\n      return this.$store.getters['currentProject/terms'];\n    },\n    termsToAssociate: {\n      get() {\n        return this.imageWrapper.draw.termsNewAnnots;\n      },\n      set(terms) {\n        this.$store.commit(this.imageModule + 'setTermsNewAnnots', terms);\n      }\n    },\n    backgroundTermsNewAnnot() {\n      if(this.termsToAssociate.length === 1) {\n        return this.terms.find(term => this.termsToAssociate[0] === term.id).color;\n      }\n      else {\n        return '#e2e2e2';\n      }\n    },\n    activeTool: {\n      get() {\n        return this.imageWrapper.draw.activeTool;\n      },\n      set(tool) {\n        this.$store.dispatch(this.imageModule + 'activateTool', tool);\n      }\n    },\n    displayAnnotDetails: {\n      get() {\n        return this.imageWrapper.selectedFeatures.displayAnnotDetails;\n      },\n      set(value) {\n        this.$store.commit(this.imageModule + 'setDisplayAnnotDetails', value);\n      }\n    },\n    activeEditTool: {\n      get() {\n        return this.imageWrapper.draw.activeEditTool;\n      },\n      set(tool) {\n        this.$store.commit(this.imageModule + 'activateEditTool', tool);\n      }\n    },\n    selectedFeature() {\n      return this.$store.getters[this.imageModule + 'selectedFeature'];\n    },\n    layers() {\n      return this.imageWrapper.layers.selectedLayers || [];\n    },\n    noActiveLayer() {\n      return !this.layers.find(layer => layer.drawOn);\n    },\n    disabledDraw() {\n      return this.noActiveLayer;\n    },\n    actions() {\n      return this.imageWrapper.undoRedo.actions;\n    },\n    undoneActions() {\n      return this.imageWrapper.undoRedo.undoneActions;\n    },\n    isActiveImage() {\n      return this.viewerWrapper.activeImage === this.index;\n    },\n    reviewMode() {\n      return this.imageWrapper.review.reviewMode;\n    }\n  },\n  watch: {\n    noActiveLayer(value) {\n      if(value) {\n        this.activeTool = 'select';\n      }\n    },\n    selectedFeature(feature) {\n      // disable correct tools if no feature is selected\n      if(!feature && ['correct-add', 'correct-remove'].includes(this.activeEditTool)) {\n        this.activeEditTool = null;\n      }\n    },\n    reviewMode(value) {\n      if(value) {\n        this.activeTool = 'select';\n      }\n    }\n  },\n  methods: {\n    isToolDisplayed(tool) {\n      return this.configUI[`project-tools-${tool}`];\n    },\n\n    isToolDisabled(tool) {\n      if(!this.selectedFeature) {\n        return true; // no feature selected -> all edit tools disabled\n      }\n\n      let ftr = this.selectedFeature;\n      let annot = ftr.properties.annot;\n      if(tool === 'accept') {\n        return annot.type === AnnotationType.REVIEWED;\n      }\n      if(tool === 'reject') {\n        return annot.type !== AnnotationType.REVIEWED;\n      }\n\n      if(!this.$store.getters['currentProject/canEditAnnot'](annot)) {\n        return true;\n      }\n\n      let geomType = ftr.geometry.type;\n      if(geomType === 'Point') {\n        return (tool !== 'move' && tool !== 'delete'); // disable all tools except move and delete for points\n      }\n      else if(geomType === 'LineString') {\n        return ['fill', 'correct-add', 'correct-remove'].includes(tool); // disable fill and correct tools for lines\n      }\n      else {\n        return false;\n      }\n    },\n\n    activateTool(tool) {\n      this.activeTool = tool;\n    },\n\n    activateEditTool(tool) {\n      this.activeTool = 'select';\n      this.activeEditTool = (this.activeEditTool === tool) ? null : tool; // toggle behaviour\n    },\n\n    async fill() {\n      let feature = this.selectedFeature;\n      if(!feature) {\n        return;\n      }\n\n      this.activateEditTool(null);\n      let annot = feature.properties.annot.clone();\n\n      try {\n        await annot.fill();\n        this.$eventBus.$emit('editAnnotation', annot);\n        this.$store.commit(this.imageModule + 'addAction', {annot, type: Action.UPDATE});\n      }\n      catch(err) {\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-fill')});\n      }\n    },\n\n    async deleteAnnot() {\n      let feature = this.selectedFeature;\n      if(!feature) {\n        return;\n      }\n\n      this.activateEditTool(null);\n\n      try {\n        let annot = feature.properties.annot;\n        await Annotation.delete(annot.id);\n        this.$eventBus.$emit('deleteAnnotation', annot);\n        this.$store.commit(this.imageModule + 'addAction', {annot: annot, type: Action.DELETE});\n      }\n      catch(err) {\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-deletion')});\n      }\n    },\n    confirmDeletion() {\n      if(!this.selectedFeature) {\n        return;\n      }\n\n      this.$buefy.dialog.confirm({\n        title: this.$t('confirm-deletion'),\n        message: this.$t('confirm-deletion-annotation'),\n        type: 'is-danger',\n        confirmText: this.$t('button-confirm'),\n        cancelText: this.$t('button-cancel'),\n        onConfirm: () => this.deleteAnnot()\n      });\n    },\n\n\n    async undo() {\n      if(this.actions.length === 0) {\n        return;\n      }\n\n      let action = this.actions[this.actions.length - 1];\n      try {\n        let opposedAction = await this.reverseAction(action, true);\n        this.$store.commit(this.imageModule + 'undoAction', opposedAction);\n      }\n      catch(err) {\n        console.log(err);\n        this.$notify({type: 'error', text: this.$t('notif-error-undo')});\n      }\n    },\n    async redo() {\n      if(this.undoneActions.length === 0) {\n        return;\n      }\n\n      let action = this.undoneActions[this.undoneActions.length - 1];\n      try {\n        let opposedAction = await this.reverseAction(action, false);\n        this.$store.commit(this.imageModule + 'redoAction', opposedAction);\n      }\n      catch(err) {\n        console.log(err);\n        this.$notify({type: 'error', text: this.$t('notif-error-redo')});\n      }\n    },\n    async reverseAction({annot, type, command}, undo) {\n      let newType = type;\n\n      if(type === Action.CREATE) {\n        await Annotation.delete(annot.id);\n        this.$eventBus.$emit('deleteAnnotation', annot);\n        newType = Action.DELETE;\n        command = Cytomine.instance.lastCommand;\n      }\n      else if(type === Action.DELETE) {\n        let collection = await Cytomine.instance.undo(command); // always undo if annotation was deleted\n        let newAnnot = await this.getUpdatedAnnotation(collection);\n        this.$eventBus.$emit('addAnnotation', newAnnot);\n        newType = Action.CREATE;\n      }\n      else { // annotation was updated\n        let collection;\n        if(undo) {\n          collection = await Cytomine.instance.undo(command);\n        }\n        else {\n          collection = await Cytomine.instance.redo(command);\n        }\n        let newAnnot = await this.getUpdatedAnnotation(collection);\n        this.$eventBus.$emit('editAnnotation', newAnnot);\n      }\n\n      return {annot, command, type: newType};\n    },\n    async getUpdatedAnnotation(collection) {\n      for(let model of collection) {\n        let jsonAnnot = model.annotation || model.reviewedannotation;\n        if(jsonAnnot) {\n          let annot = new Annotation(jsonAnnot);\n          await updateTermProperties(annot);\n          return annot;\n        }\n      }\n    },\n\n    async accept() {\n      let feature = this.selectedFeature;\n      if(!feature) {\n        return;\n      }\n\n      this.activateEditTool(null);\n      let annot = feature.properties.annot;\n      if(annot.type === AnnotationType.REVIEWED) {\n        return;\n      }\n\n      try {\n        let reviewedAnnot = await annot.review();\n        reviewedAnnot.userByTerm = annot.userByTerm; // copy terms from initial annot\n        this.$eventBus.$emit('reviewAnnotation', annot);\n        this.$eventBus.$emit('addAnnotation', reviewedAnnot);\n        this.$eventBus.$emit('selectAnnotation', {index: this.index, annot: reviewedAnnot});\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-validation')});\n      }\n    },\n    async reject() {\n      let feature = this.selectedFeature;\n      if(!feature) {\n        return;\n      }\n\n      this.activateEditTool(null);\n      let reviewedAnnot = feature.properties.annot;\n      if(reviewedAnnot.type !== AnnotationType.REVIEWED) {\n        return;\n      }\n\n      try {\n        let annot = await Annotation.fetch(reviewedAnnot.parentIdent);\n        annot.userByTerm = reviewedAnnot.userByTerm; // copy terms from reviewed annot\n        await annot.cancelReview();\n        this.$eventBus.$emit('deleteAnnotation', reviewedAnnot);\n        this.$eventBus.$emit('addAnnotation', annot, false);\n        this.$eventBus.$emit('selectAnnotation', {index: this.index, annot});\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-rejection')});\n      }\n    },\n\n    shortkeyHandler(key) {\n      if(!this.isActiveImage) { // shortkey should only be applied to active map\n        return;\n      }\n\n      switch(key) {\n        case 'tool-select':\n          if (this.isToolDisplayed('select')){\n            this.activateTool('select');\n          }\n          return;\n        case 'tool-point':\n          if (this.isToolDisplayed('point') && !this.disabledDraw) {\n            this.activateTool('point');\n          }\n          return;\n        case 'tool-line':\n          if (this.isToolDisplayed('line') && !this.disabledDraw) {\n            this.activateTool('line');\n          }\n          return;\n        case 'tool-freehand-line':\n          if (this.isToolDisplayed('freehand-line') && !this.disabledDraw) {\n            this.activateTool('freehand-line');\n          }\n          return;\n        case 'tool-rectangle':\n          if (this.isToolDisplayed('rectangle') && !this.disabledDraw) {\n            this.activateTool('rectangle');\n          }\n          return;\n        case 'tool-circle':\n          if (this.isToolDisplayed('circle') && !this.disabledDraw) {\n            this.activateTool('circle');\n          }\n          return;\n        case 'tool-polygon':\n          if (this.isToolDisplayed('polygon') && !this.disabledDraw) {\n            this.activateTool('polygon');\n          }\n          return;\n        case 'tool-freehand-polygon':\n          if (this.isToolDisplayed('polygon') && !this.disabledDraw) {\n            this.activateTool('freehand-polygon');\n          }\n          return;\n        case 'tool-delete':\n          if (this.isToolDisplayed('delete') && !this.isToolDisplayed('delete')) {\n            this.confirmDeletion();\n          }\n          return;\n        case 'tool-undo':\n          if (this.isToolDisplayed('undo')) {\n            this.undo();\n          }\n          return;\n        case 'tool-redo':\n          if (this.isToolDisplayed('redo')) {\n            this.redo();\n          }\n          return;\n        case 'tool-review-accept':\n          if (this.reviewMode && this.isToolDisplayed('accept')) {\n            this.accept();\n          }\n          return;\n        case 'tool-review-reject':\n          if (this.reviewMode && this.isToolDisplayed('reject')) {\n            this.reject();\n          }\n          return;\n        case 'tool-fill':\n          if (this.isToolDisplayed('fill') && !this.isToolDisabled('fill')) {\n            this.fill();\n          }\n          return;\n        case 'tool-correct-add':\n          if (this.isToolDisplayed('union') && !this.isToolDisabled('correct-add')) {\n            this.activateEditTool('correct-add');\n          }\n          return;\n        case 'tool-correct-remove':\n          if (this.isToolDisplayed('diff') && !this.isToolDisabled('correct-remove')) {\n            this.activateEditTool('correct-remove');\n          }\n          return;\n        case 'tool-modify':\n          if (this.isToolDisplayed('edit') && !this.isToolDisabled('edit')) {\n            this.activateEditTool('modify');\n          }\n          return;\n        case 'tool-move':\n          if (this.isToolDisplayed('move') && !this.isToolDisabled('move')) {\n            this.activateEditTool('translate');\n          }\n          return;\n        case 'tool-rotate':\n          if (this.isToolDisplayed('rotate') && !this.isToolDisabled('rotate')) {\n            this.activateEditTool('rotate');\n          }\n          return;\n        case 'toggle-current':\n          if (this.configUI['project-explore-annotation-main'] && this.selectedFeature) {\n            this.displayAnnotDetails = !this.displayAnnotDetails;\n          }\n          return;\n      }\n    }\n  },\n  mounted() {\n    this.$eventBus.$on('shortkeyEvent', this.shortkeyHandler);\n  },\n  beforeDestroy() {\n    this.$eventBus.$off('shortkeyEvent', this.shortkeyHandler);\n  }\n};\n</script>\n\n<style scoped>\n.buttons {\n  float:left;\n  margin-left: 1px;\n  margin-right: 1px;\n  margin-bottom: 0 !important;\n}\n\n.button {\n  margin-bottom:0px !important;\n}\n\n.superscript {\n  position: relative;\n  bottom: 0.65em;\n  left: 1px;\n  font-size: 0.7em;\n}\n\n:focus {outline:none;}\n::-moz-focus-inner {border:0;}\n\n.term-selection {\n  position: relative;\n}\n\n.term-selection.has-preview i.fas {\n  position: relative;\n  right: 0.25em;\n  top: 0.2em;\n  font-size: 0.9em;\n}\n\n.term-selection .ontology-tree-container {\n  position: absolute;\n  top: 100%;\n  left: -1.5em;\n  margin-top: 5px;\n  background: white;\n  min-width: 18em;\n  max-width: 20vw;\n  max-height: 40vh;\n  overflow: auto;\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\n  border-radius: 4px;\n}\n\n.term-selection:not(.has-preview) .color-preview {\n  display:none;\n}\n\n.color-preview {\n  width: 1em;\n  height: 1em;\n  display: inline-block;\n  border-radius: 0.45em;\n  position: absolute;\n  top: 0.25em;\n  right: 0.25em;\n  z-index: 1000;\n  pointer-events: none;\n  font-size: 0.7em;\n  font-weight: 600;\n  text-align:center;\n  line-height: 0.9em;\n  font-family: Arial;\n}\n</style>\n\n<style lang=\"scss\">\n$colorActiveIcon: #fff;\n\n.draw-tools-wrapper {\n\n  .term-selection .ontology-tree-container {\n\n    .control {\n      margin: 0.75em;\n      margin-bottom: 0;\n    }\n\n    .ontology-tree {\n      padding: 0.75em 0;\n    }\n  }\n\n  .button.is-selected {\n    background-color: #6899d0;\n    color: $colorActiveIcon;\n\n    path {\n      stroke: $colorActiveIcon;\n    }\n  }\n\n  .icon svg {\n    height: 1.15em !important;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawTools.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawTools.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DrawTools.vue?vue&type=template&id=02cc6faa&scoped=true&\"\nimport script from \"./DrawTools.vue?vue&type=script&lang=js&\"\nexport * from \"./DrawTools.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DrawTools.vue?vue&type=style&index=0&id=02cc6faa&scoped=true&lang=css&\"\nimport style1 from \"./DrawTools.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02cc6faa\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\" \"+_vm._s(_vm.$t('information'))+\" \")]),_c('table',{staticClass:\"table\"},[_c('tbody',[_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('name')))])]),_c('td',[_c('image-name',{attrs:{\"image\":_vm.image,\"showBothNames\":\"\"}})],1)]),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('width')))])]),_c('td',[_vm._v(_vm._s(_vm.image.width))])]),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('height')))])]),_c('td',[_vm._v(_vm._s(_vm.image.height))])]),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('resolution')))])]),_c('td',[_vm._v(_vm._s(_vm.resolution))])]),_c('tr',[_c('td',[_c('strong',[_vm._v(_vm._s(_vm.$t('magnification')))])]),_c('td',[_vm._v(_vm._s(_vm.magnification))])]),_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('div',{staticClass:\"buttons\"},[(_vm.canEdit)?_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){_vm.calibrationModal = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-set-calibration'))+\" \")]):_vm._e(),_c('router-link',{staticClass:\"button is-small\",attrs:{\"to\":(\"/project/\" + (_vm.image.project) + \"/image/\" + (_vm.image.id) + \"/information\")}},[_vm._v(\" \"+_vm._s(_vm.$t('button-more-info'))+\" \")])],1)])]),_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('div',{staticClass:\"buttons navigation has-addons\"},[_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":_vm.isFirstImage},on:{\"click\":function($event){return _vm.previousImage()}}},[_c('i',{staticClass:\"fas fa-angle-left fa-lg\"}),_vm._v(\" \"+_vm._s(_vm.$t('button-previous-image'))+\" \")]),_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":_vm.isLastImage},on:{\"click\":function($event){return _vm.nextImage()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-next-image'))+\" \"),_c('i',{staticClass:\"fas fa-angle-right fa-lg\"})])])])])])]),_c('calibration-modal',{attrs:{\"image\":_vm.image,\"active\":_vm.calibrationModal},on:{\"update:active\":function($event){_vm.calibrationModal=$event},\"setResolution\":_vm.setResolution}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div>\n  <h1>\n    {{$t('information')}}\n  </h1>\n  <table class=\"table\">\n    <tbody>\n      <tr>\n        <td><strong>{{$t('name')}}</strong></td>\n        <td><image-name :image=\"image\" showBothNames /></td>\n      </tr>\n      <tr>\n        <td><strong>{{$t('width')}}</strong></td>\n        <td>{{image.width}}</td>\n      </tr>\n      <tr>\n        <td><strong>{{$t('height')}}</strong></td>\n        <td>{{image.height}}</td>\n      </tr>\n      <tr>\n        <td><strong>{{$t('resolution')}}</strong></td>\n        <td>{{resolution}}</td>\n      </tr>\n      <tr>\n        <td><strong>{{$t('magnification')}}</strong></td>\n        <td>{{magnification}}</td>\n      </tr>\n      <tr>\n        <td colspan=\"2\">\n          <div class=\"buttons\">\n            <button v-if=\"canEdit\" class=\"button is-small\" @click=\"calibrationModal = true\">\n              {{$t('button-set-calibration')}}\n            </button>\n            <router-link :to=\"`/project/${image.project}/image/${image.id}/information`\" class=\"button is-small\">\n              {{$t('button-more-info')}}\n            </router-link>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <td colspan=\"2\">\n          <div class=\"buttons navigation has-addons\">\n            <button class=\"button is-small\" @click=\"previousImage()\" :disabled=\"isFirstImage\">\n              <i class=\"fas fa-angle-left fa-lg\"></i> {{$t('button-previous-image')}}\n            </button>\n            <button class=\"button is-small\" @click=\"nextImage()\" :disabled=\"isLastImage\">\n              {{$t('button-next-image')}} <i class=\"fas fa-angle-right fa-lg\"></i>\n            </button>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <calibration-modal\n    :image=\"image\"\n    :active.sync=\"calibrationModal\"\n    @setResolution=\"setResolution\"\n  />\n</div>\n</template>\n\n<script>\nimport ImageName from '@/components/image/ImageName';\nimport CalibrationModal from '@/components/image/CalibrationModal';\n\nexport default {\n  name: 'information-panel',\n  components: {\n    ImageName,\n    CalibrationModal\n  },\n  props: {\n    index: String\n  },\n  data() {\n    return {\n      calibrationModal: false,\n      isFirstImage: false,\n      isLastImage: false\n    };\n  },\n  computed: {\n    viewerModule() {\n      return this.$store.getters['currentProject/currentViewerModule'];\n    },\n    imageModule() {\n      return this.$store.getters['currentProject/imageModule'](this.index);\n    },\n    viewerWrapper() {\n      return this.$store.getters['currentProject/currentViewer'];\n    },\n    image() {\n      return this.viewerWrapper.images[this.index].imageInstance;\n    },\n    resolution() {\n      if(this.image.resolution) {\n        return this.image.resolution.toFixed(3);\n      }\n      else {\n        return this.$t('unknown');\n      }\n    },\n    magnification() {\n      return this.image.magnification || this.$t('unknown');\n    },\n    canEdit() {\n      return this.$store.getters['currentProject/canEditImage'](this.image);\n    },\n    isActiveImage() {\n      return this.viewerWrapper.activeImage === this.index;\n    }\n  },\n  methods: {\n    setResolution(resolution) {\n      this.$store.dispatch(this.viewerModule + 'setImageResolution', {idImage: this.image.id, resolution});\n      this.$eventBus.$emit('reloadAnnotations', {idImage: this.image.id}); // refresh the sources to update perimeter/area\n    },\n    async previousImage() {\n      try {\n        let prev = await this.image.fetchPrevious();\n        if(!prev.id) {\n          this.$notify({type: 'error', text: this.$t('notif-error-first-image')});\n          this.isFirstImage = true;\n        }\n        else {\n          await this.$store.dispatch(this.imageModule + 'setImageInstance', prev);\n        }\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-fetch-previous-image')});\n      }\n    },\n    async nextImage() {\n      try {\n        let next = await this.image.fetchNext();\n        if(!next.id) {\n          this.$notify({type: 'error', text: this.$t('notif-error-last-image')});\n          this.isLastImage = true;\n        }\n        else {\n          await this.$store.dispatch(this.imageModule + 'setImageInstance', next);\n        }\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-fetch-next-image')});\n      }\n    },\n\n    shortkeyHandler(key) {\n      if(!this.isActiveImage) { // shortkey should only be applied to active map\n        return;\n      }\n\n      if(key === 'nav-next-image') {\n        this.nextImage();\n      }\n      else if(key === 'nav-previous-image') {\n        this.previousImage();\n      }\n    }\n  },\n  mounted() {\n    this.$eventBus.$on('shortkeyEvent', this.shortkeyHandler);\n  },\n  beforeDestroy() {\n    this.$eventBus.$off('shortkeyEvent', this.shortkeyHandler);\n  }\n};\n</script>\n\n<style scoped>\n.table {\n  margin-bottom: 0 !important;\n  width: 100%;\n  table-layout: fixed;\n}\n\ntd {\n  word-wrap: break-word;\n}\n\ntd:first-child {\n  width: 10em;\n}\n\n.buttons {\n  justify-content: center;\n}\n\n.buttons.navigation {\n  margin-top: 0.7em;\n  margin-bottom: 0;\n  border-width: 0;\n}\n\n.fa-angle-left {\n  margin-right: 0.4em;\n}\n\n.fa-angle-right {\n  margin-left: 0.4em;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InformationPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InformationPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InformationPanel.vue?vue&type=template&id=2f169f10&scoped=true&\"\nimport script from \"./InformationPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./InformationPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InformationPanel.vue?vue&type=style&index=0&id=2f169f10&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f169f10\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$t('digital-zoom')))]),_c('b-checkbox',{model:{value:(_vm.digitalZoom),callback:function ($$v) {_vm.digitalZoom=$$v},expression:\"digitalZoom\"}},[_vm._v(\" \"+_vm._s(_vm.$t('digital-zoom-checkbox-label'))+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div>\n  <h1>{{$t('digital-zoom')}}</h1>\n  <b-checkbox v-model=\"digitalZoom\">\n    {{$t('digital-zoom-checkbox-label')}}\n  </b-checkbox>\n</div>\n</template>\n\n<script>\nexport default {\n  name: 'digital-zoom',\n  props: {\n    index: String\n  },\n  computed: {\n    imageModule() {\n      return this.$store.getters['currentProject/imageModule'](this.index);\n    },\n    imageWrapper() {\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\n    },\n    digitalZoom: {\n      get() {\n        return this.imageWrapper.view.digitalZoom;\n      },\n      set(value) {\n        this.$store.commit(this.imageModule + 'setDigitalZoom', Boolean(value));\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DigitalZoom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DigitalZoom.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DigitalZoom.vue?vue&type=template&id=00dfa6f8&\"\nimport script from \"./DigitalZoom.vue?vue&type=script&lang=js&\"\nexport * from \"./DigitalZoom.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"color-manipulation\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('colors')))]),_c('table',[(_vm.filters && _vm.filters.length > 0)?_c('tr',{staticClass:\"has-border-bottom\"},[_c('td',[_vm._v(_vm._s(_vm.$t('filter')))]),_c('td',[_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.selectedFilter),callback:function ($$v) {_vm.selectedFilter=$$v},expression:\"selectedFilter\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.$t('original-no-filter')))]),_vm._l((_vm.filters),function(filter){return _c('option',{key:filter.id,domProps:{\"value\":filter.prefix}},[_vm._v(\" \"+_vm._s(filter.name)+\" \")])})],2)],1)]):_vm._e(),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('brightness')))]),_c('td',[_c('cytomine-slider',{attrs:{\"min\":-255,\"max\":255},model:{value:(_vm.brightness),callback:function ($$v) {_vm.brightness=$$v},expression:\"brightness\"}})],1)]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('contrast')))]),_c('td',[_c('cytomine-slider',{attrs:{\"min\":-255,\"max\":255},model:{value:(_vm.contrast),callback:function ($$v) {_vm.contrast=$$v},expression:\"contrast\"}})],1)]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('saturation')))]),_c('td',[_c('cytomine-slider',{attrs:{\"min\":-100,\"max\":100},model:{value:(_vm.saturation),callback:function ($$v) {_vm.saturation=$$v},expression:\"saturation\"}})],1)]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('hue')))]),_c('td',[_c('cytomine-slider',{attrs:{\"min\":-180,\"max\":180},model:{value:(_vm.hue),callback:function ($$v) {_vm.hue=$$v},expression:\"hue\"}})],1)])]),_c('div',{staticClass:\"actions\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.reset()}}},[_vm._v(_vm._s(_vm.$t('button-reset')))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n\n<template>\n<div class=\"color-manipulation\">\n  <h1>{{$t('colors')}}</h1>\n  <table>\n    <tr v-if=\"filters && filters.length > 0\" class=\"has-border-bottom\">\n      <td>{{ $t('filter') }}</td>\n      <td>\n        <b-select v-model=\"selectedFilter\" size=\"is-small\">\n          <option :value=\"null\">{{$t('original-no-filter')}}</option>\n          <option v-for=\"filter in filters\" :key=\"filter.id\" :value=\"filter.prefix\">\n            {{filter.name}}\n          </option>\n        </b-select>\n      </td>\n    </tr>\n    <tr>\n      <td>{{ $t('brightness') }}</td>\n      <td>\n        <cytomine-slider v-model=\"brightness\" :min=\"-255\" :max=\"255\" />\n      </td>\n    </tr>\n    <tr>\n      <td>{{ $t('contrast') }}</td>\n      <td>\n        <cytomine-slider v-model=\"contrast\" :min=\"-255\" :max=\"255\" />\n      </td>\n    </tr>\n    <tr>\n      <td>{{ $t('saturation') }}</td>\n      <td>\n        <cytomine-slider v-model=\"saturation\" :min=\"-100\" :max=\"100\" />\n      </td>\n    </tr>\n    <tr>\n      <td>{{ $t('hue') }}</td>\n      <td>\n        <cytomine-slider v-model=\"hue\" :min=\"-180\" :max=\"180\" />\n      </td>\n    </tr>\n  </table>\n  <div class=\"actions\">\n    <button class=\"button is-small\" @click=\"reset()\">{{$t('button-reset')}}</button>\n  </div>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\nimport CytomineSlider from '@/components/form/CytomineSlider';\nimport {ImageFilterProjectCollection} from 'cytomine-client';\n\nexport default {\n  name: 'color-manipulation',\n  components: {CytomineSlider},\n  props: {\n    index: String\n  },\n  data() {\n    return {\n      filters: null\n    };\n  },\n  computed: {\n    project: get('currentProject/project'),\n    imageModule() {\n      return this.$store.getters['currentProject/imageModule'](this.index);\n    },\n    imageWrapper() {\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\n    },\n\n    selectedFilter: {\n      get() {\n        return this.imageWrapper.colors.filter;\n      },\n      set(value) {\n        this.$store.commit(this.imageModule + 'setFilter', value);\n      }\n    },\n\n    brightness: {\n      get() {\n        return this.imageWrapper.colors.brightness;\n      },\n      set(value) {\n        this.$store.commit(this.imageModule + 'setBrightness', value);\n      }\n    },\n    contrast: {\n      get() {\n        return this.imageWrapper.colors.contrast;\n      },\n      set(value) {\n        this.$store.commit(this.imageModule + 'setContrast', value);\n      }\n    },\n    hue: {\n      get() {\n        return this.imageWrapper.colors.hue;\n      },\n      set(value) {\n        this.$store.commit(this.imageModule + 'setHue', value);\n      }\n    },\n    saturation: {\n      get() {\n        return this.imageWrapper.colors.saturation;\n      },\n      set(value) {\n        this.$store.commit(this.imageModule + 'setSaturation', value);\n      }\n    }\n  },\n  methods: {\n    reset() {\n      this.$store.commit(this.imageModule + 'resetColorManipulation');\n    }\n  },\n  async created() {\n    try {\n      let filters = (await ImageFilterProjectCollection.fetchAll({filterKey: 'project', filterValue: this.project.id})).array;\n      filters.forEach(filter => filter.prefix = filter.processingServer + filter.baseUrl);\n      let prefixes = filters.map(filter => filter.prefix);\n      if(this.selectedFilter && !prefixes.includes(this.selectedFilter)) {\n        this.selectedFilter = null; // if selected filter no longer present in collection, unselect it\n      }\n      this.filters = filters;\n    }\n    catch(error) {\n      console.log(error);\n    }\n  }\n};\n</script>\n\n<style scoped>\ntd, tr {\n  vertical-align: middle !important;\n}\n\ntd:first-child {\n  font-weight: 600;\n  text-align: right;\n  padding: 0.35em 0.5em;\n}\n\ntd:last-child {\n  width: 100%;\n}\n\n.actions {\n  margin-top: 1em;\n  text-align: right;\n}\n\n>>> .vue-slider {\n  margin-left: 0.4em;\n  margin-right: 4em;\n}\n\n.has-border-bottom td {\n  padding-bottom: 1em;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n}\n\n.has-border-bottom + tr td {\n  padding-top: 1em;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorManipulation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorManipulation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ColorManipulation.vue?vue&type=template&id=b95ca178&scoped=true&\"\nimport script from \"./ColorManipulation.vue?vue&type=script&lang=js&\"\nexport * from \"./ColorManipulation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ColorManipulation.vue?vue&type=style&index=0&id=b95ca178&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b95ca178\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$t('link-images')))]),(_vm.linkedIndexes)?_c('div',{staticClass:\"current-group\"},[_c('p',[_vm._v(_vm._s(_vm.$t('view-linked-with')))]),_c('ul',_vm._l((_vm.linkedIndexes),function(index){return _c('li',{key:index},[_c('i',{staticClass:\"fas fa-caret-right\"}),_vm._v(\" \"+_vm._s(_vm.$t('viewer-view', {number: _vm.imagesWithNum[index].number}))+\" (\"),_c('image-name',{attrs:{\"image\":_vm.imagesWithNum[index].image}}),_vm._v(\") \"),_c('br')],1)}),0),_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.unlink()}}},[_vm._v(_vm._s(_vm.$t('button-unlink')))])]):_vm._e(),(_vm.otherGroups.length || _vm.otherSoloImages.length)?[(_vm.linkedIndexes)?_c('p',[_vm._v(_vm._s(_vm.$t('link-other-images-to-this-group')))]):_c('p',[_vm._v(_vm._s(_vm.$t('link-view-with')))]),_vm._l((_vm.otherGroups),function(ref){\nvar images = ref.images;\nvar index = ref.index;\nvar number = ref.number;\nreturn _c('p',{key:(\"group\" + number)},[_c('b-checkbox',{attrs:{\"value\":false},nativeOn:{\"change\":function($event){return (function (event) { return _vm.handleCheckboxChange(event, index); })($event)}}},[_vm._v(\" \"+_vm._s(_vm.$t('link-group', {number: number}))+\" \"),_c('ul',{staticClass:\"group\"},_vm._l((images),function(indexImage){return _c('li',{key:indexImage},[_c('i',{staticClass:\"fas fa-caret-right\"}),_vm._v(\" \"+_vm._s(_vm.$t('viewer-view', {number: _vm.imagesWithNum[indexImage].number}))+\" (\"),_c('image-name',{attrs:{\"image\":_vm.imagesWithNum[indexImage].image}}),_vm._v(\") \"),_c('br')],1)}),0)])],1)}),_vm._l((_vm.otherSoloImages),function(ref){\nvar image = ref.image;\nvar index = ref.index;\nvar number = ref.number;\nreturn _c('p',{key:index},[_c('b-checkbox',{attrs:{\"value\":false},nativeOn:{\"change\":function($event){return (function (event) { return _vm.handleCheckboxChange(event, null, index); })($event)}}},[_vm._v(\" \"+_vm._s(_vm.$t('viewer-view', {number: number}))+\" (\"),_c('image-name',{attrs:{\"image\":image}}),_vm._v(\") \")],1)],1)})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div>\n  <h1>{{$t('link-images')}}</h1>\n\n  <div class=\"current-group\" v-if=\"linkedIndexes\">\n    <p>{{$t('view-linked-with')}}</p>\n    <ul>\n      <li v-for=\"index in linkedIndexes\" :key=\"index\">\n        <i class=\"fas fa-caret-right\"></i>\n          {{$t('viewer-view', {number: imagesWithNum[index].number})}}\n          (<image-name :image=\"imagesWithNum[index].image\" />) <br/>\n      </li>\n    </ul>\n    <button class=\"button is-small\" @click=\"unlink()\">{{$t('button-unlink')}}</button>\n  </div>\n\n  <template v-if=\"otherGroups.length || otherSoloImages.length\">\n    <p v-if=\"linkedIndexes\">{{$t('link-other-images-to-this-group')}}</p>\n    <p v-else>{{$t('link-view-with')}}</p>\n    <p v-for=\"{images, index, number} in otherGroups\" :key=\"`group${number}`\">\n      <b-checkbox :value=\"false\" @change.native=\"event => handleCheckboxChange(event, index)\">\n        {{$t('link-group', {number})}}\n        <ul class=\"group\">\n          <li v-for=\"indexImage in images\" :key=\"indexImage\">\n            <i class=\"fas fa-caret-right\"></i>\n            {{$t('viewer-view', {number: imagesWithNum[indexImage].number})}}\n            (<image-name :image=\"imagesWithNum[indexImage].image\" />) <br/>\n          </li>\n        </ul>\n      </b-checkbox>\n    </p>\n    <p v-for=\"{image, index, number} in otherSoloImages\" :key=\"index\">\n      <b-checkbox :value=\"false\" @change.native=\"event => handleCheckboxChange(event, null, index)\">\n        {{$t('viewer-view', {number})}} (<image-name :image=\"image\" />)\n      </b-checkbox>\n    </p>\n  </template>\n</div>\n</template>\n\n<script>\nimport ImageName from '@/components/image/ImageName';\n\nexport default {\n  name: 'link-panel',\n  props: {\n    index: String\n  },\n  components: {ImageName},\n  data() {\n    return {\n      revisionNumber: 0\n    };\n  },\n  computed: {\n    viewerModule() {\n      return this.$store.getters['currentProject/currentViewerModule'];\n    },\n    imageModule() {\n      return this.$store.getters['currentProject/imageModule'](this.index);\n    },\n    viewerWrapper() {\n      return this.$store.getters['currentProject/currentViewer'];\n    },\n    images() {\n      return this.viewerWrapper.images;\n    },\n    imagesWithNum() {\n      let number = 1;\n      return Object.keys(this.images).reduce((obj, index) => {\n        obj[index] = {\n          number,\n          index,\n          image: this.images[index].imageInstance\n        };\n        number++;\n        return obj;\n      }, []);\n    },\n    linkGroups() {\n      return this.viewerWrapper.links;\n    },\n    linkGroupsWithNum() {\n      let number = 1;\n      return this.linkGroups.reduce((obj, images, index) => {\n        obj[index] = {\n          number,\n          index,\n          images\n        };\n        number++;\n        return obj;\n      }, []);\n    },\n    indexCurrentGroup() {\n      return this.linkGroups.findIndex(group => group.includes(this.index));\n    },\n    linkedIndexes() {\n      if(this.indexCurrentGroup === -1) {\n        return null;\n      }\n      return this.linkGroups[this.indexCurrentGroup].filter(index => index !== this.index);\n    },\n    otherGroups() {\n      return Object.values(this.linkGroupsWithNum).filter(group => group.index !== this.indexCurrentGroup);\n    },\n    inGroupsIndexes() { // list of images belonging to a link group\n      let idxs = [];\n      this.linkGroups.forEach(group => idxs.push(...group));\n      return idxs;\n    },\n    otherSoloImages() {\n      return Object.values(this.imagesWithNum).filter(img => {\n        return img.index !== this.index && !this.inGroupsIndexes.includes(img.index);\n      });\n    },\n    trackedUser() {\n      return this.viewerWrapper.images[this.index].tracking.trackedUser;\n    },\n  },\n  methods: {\n    handleCheckboxChange(event, indexGroup, indexImage) {\n      if(this.trackedUser) {\n        this.$buefy.dialog.confirm({\n          title: this.$t('possible-conflict'),\n          message: this.$t('confirm-untrack-to-link-view'),\n          confirmText: this.$t('button-confirm'),\n          cancelText: this.$t('button-cancel'),\n          onConfirm: () => {\n            event.target.checked = false; // reset state of checkbox\n            this.$store.commit(this.imageModule + 'setTrackedUser', null);\n            this.link(indexGroup, indexImage);\n          },\n          onCancel: () => event.target.checked = false // reset state of checkbox\n        });\n      }\n      else {\n        event.target.checked = false; // reset state of checkbox\n        this.link(indexGroup, indexImage);\n      }\n    },\n\n    link(indexGroup, indexImage) {\n      if(this.linkedIndexes) {\n        if(indexGroup != null) {\n          this.$store.commit(this.viewerModule + 'mergeLinkGroups', [this.indexCurrentGroup, indexGroup]);\n        }\n        else {\n          this.$store.commit(this.viewerModule + 'linkImageToGroup', {indexGroup: this.indexCurrentGroup, indexImage});\n        }\n      }\n      else {\n        if(indexGroup != null) {\n          this.$store.commit(this.viewerModule + 'linkImageToGroup', {indexGroup, indexImage: this.index});\n        }\n        else {\n          this.$store.commit(this.viewerModule + 'createLinkGroup', [this.index, indexImage]);\n        }\n      }\n    },\n\n    unlink() {\n      this.$store.commit(this.viewerModule + 'unlinkImage', {indexGroup: this.indexCurrentGroup, indexImage: this.index});\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.current-group:not(:last-child) {\n  margin-bottom: 1em;\n}\n\nul {\n  color: rgba(0, 0, 0, 0.75);\n  margin-left: 0.5em;\n}\n\nul.group {\n  font-size: 0.9em;\n}\n\n.fas {\n  margin-right: 0.5em;\n}\n\n/deep/ .b-checkbox {\n  align-items: flex-start !important;\n  margin-top: 0.25em;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LinkPanel.vue?vue&type=template&id=249a8913&scoped=true&\"\nimport script from \"./LinkPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./LinkPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LinkPanel.vue?vue&type=style&index=0&id=249a8913&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"249a8913\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layers\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('annotation-layers')))]),(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\",\"size\":\"is-small\"}},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('b-field',[_c('b-select',{attrs:{\"placeholder\":_vm.$t('select-layer'),\"size\":\"is-small\"},model:{value:(_vm.selectedLayer),callback:function ($$v) {_vm.selectedLayer=$$v},expression:\"selectedLayer\"}},_vm._l((_vm.unselectedLayers),function(layer){return _c('option',{key:layer.id,domProps:{\"value\":layer}},[_vm._v(\" \"+_vm._s(_vm.layerName(layer))+\" \")])}),0),_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":!_vm.selectedLayer},on:{\"click\":function($event){return _vm.addLayer()}}},[_vm._v(_vm._s(_vm.$t('button-add')))])],1),_c('table',{staticClass:\"table\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"checkbox-column\"},[_c('span',{staticClass:\"far fa-eye\"})]),(!_vm.reviewMode)?_c('th',{staticClass:\"checkbox-column\"},[_c('span',{staticClass:\"fas fa-pencil-alt\"})]):_vm._e(),_c('th',{staticClass:\"name-column\"}),_c('th',{staticClass:\"checkbox-column\"})])]),_c('tbody',[_vm._l((_vm.selectedLayers),function(layer,idx){return _c('tr',{key:layer.id},[_c('td',{staticClass:\"checkbox-column\"},[_c('b-checkbox',{attrs:{\"size\":\"is-small\",\"value\":layer.visible},on:{\"input\":function($event){return _vm.toggleLayerVisibility(idx)}}})],1),(!_vm.reviewMode)?_c('td',{staticClass:\"checkbox-column\"},[_c('b-checkbox',{attrs:{\"size\":\"is-small\",\"value\":layer.drawOn,\"disabled\":!_vm.canDraw(layer)},on:{\"input\":function($event){return _vm.toggleLayerDrawOn(idx)}}})],1):_vm._e(),_c('td',{staticClass:\"name-column\"},[_vm._v(\" \"+_vm._s(_vm.layerName(layer))+\" \")]),_c('td',{staticClass:\"checkbox-column\"},[(!_vm.reviewMode || !layer.isReview)?_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.removeLayer(idx)}}},[_c('span',{staticClass:\"fas fa-times\"})]):_vm._e()])])}),(_vm.selectedLayers.length === 0)?_c('tr',[_c('td',{staticClass:\"has-text-grey is-italic\",attrs:{\"colspan\":\"4\"}},[_vm._v(_vm._s(_vm.$t('no-selected-layers')))])]):_vm._e()],2)]),_c('div',{staticClass:\"opacity\"},[_c('label',[_vm._v(_vm._s(_vm.$t('layers-opacity')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.layersOpacity),expression:\"layersOpacity\"}],staticClass:\"slider is-fullwidth is-small\",attrs:{\"step\":\"0.05\",\"min\":\"0\",\"max\":\"1\",\"type\":\"range\"},domProps:{\"value\":(_vm.layersOpacity)},on:{\"__r\":function($event){_vm.layersOpacity=$event.target.value}}})])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"layers\">\n  <h1>{{ $t('annotation-layers') }}</h1>\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\" size=\"is-small\">\n    <p> {{ $t('unexpected-error-info-message') }} </p>\n  </b-message>\n  <template v-else>\n    <b-field>\n      <b-select :placeholder=\"$t('select-layer')\" size=\"is-small\" v-model=\"selectedLayer\">\n        <option v-for=\"layer in unselectedLayers\" :value=\"layer\" :key=\"layer.id\">\n          {{ layerName(layer) }}\n        </option>\n      </b-select>\n      <button class=\"button is-small\" @click=\"addLayer()\" :disabled=\"!selectedLayer\">{{ $t('button-add') }}</button>\n    </b-field>\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th class=\"checkbox-column\"><span class=\"far fa-eye\"></span></th>\n          <th v-if=\"!reviewMode\" class=\"checkbox-column\"><span class=\"fas fa-pencil-alt\"></span></th>\n          <th class=\"name-column\"></th>\n          <th class=\"checkbox-column\"></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"(layer, idx) in selectedLayers\" :key=\"layer.id\">\n          <td class=\"checkbox-column\">\n            <b-checkbox size=\"is-small\" :value=\"layer.visible\" @input=\"toggleLayerVisibility(idx)\" />\n          </td>\n          <td v-if=\"!reviewMode\" class=\"checkbox-column\">\n            <b-checkbox size=\"is-small\" :value=\"layer.drawOn\" :disabled=\"!canDraw(layer)\" @input=\"toggleLayerDrawOn(idx)\" />\n          </td>\n\n          <td class=\"name-column\">\n            {{ layerName(layer) }}\n          </td>\n          <td class=\"checkbox-column\">\n            <button v-if=\"!reviewMode || !layer.isReview\" class=\"button is-small\" @click=\"removeLayer(idx)\">\n              <span class=\"fas fa-times\"></span>\n            </button>\n          </td>\n        </tr>\n        <tr v-if=\"selectedLayers.length === 0\">\n          <td colspan=\"4\" class=\"has-text-grey is-italic\">{{$t('no-selected-layers')}}</td>\n        </tr>\n      </tbody>\n    </table>\n\n    <div class=\"opacity\">\n      <label>{{ $t('layers-opacity') }}</label>\n      <input class=\"slider is-fullwidth is-small\" v-model=\"layersOpacity\" step=\"0.05\" min=\"0\" max=\"1\" type=\"range\">\n    </div>\n  </template>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport {fullName} from '@/utils/user-utils.js';\nimport {ProjectDefaultLayerCollection} from 'cytomine-client';\n\nexport default {\n  name: 'layers-panel',\n  props: {\n    index: String,\n    layersToPreload: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      error: false,\n\n      layers: [], // Array<User> (representing user layers)\n      indexLayers: [],\n      selectedLayer: null\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    project: get('currentProject/project'),\n    imageModule() {\n      return this.$store.getters['currentProject/imageModule'](this.index);\n    },\n    viewerWrapper() {\n      return this.$store.getters['currentProject/currentViewer'];\n    },\n    imageWrapper() {\n      return this.viewerWrapper.images[this.index];\n    },\n    image() {\n      return this.imageWrapper.imageInstance;\n    },\n    activePanel() {\n      return this.imageWrapper.activePanel;\n    },\n    layersOpacity: {\n      get() {\n        return this.imageWrapper.style.layersOpacity;\n      },\n      set(value) {\n        this.$store.commit(this.imageModule + 'setLayersOpacity', Number(value));\n      }\n    },\n    layersIds() {\n      return this.layers.map(layer => layer.id);\n    },\n    selectedLayers() { // Array<User> (representing user layers)\n      return this.imageWrapper.layers.selectedLayers || [];\n    },\n    selectedLayersIds() {\n      return this.selectedLayers.map(layer => layer.id);\n    },\n    unselectedLayers() {\n      return this.layers.filter(layer => !this.selectedLayersIds.includes(layer.id)).sort((a, b) => (a.lastname < b.lastname) ? -1 : 1 );\n    },\n    nbReviewedAnnotations() {\n      return this.indexLayers.reduce((cnt, layer) => cnt + layer.countReviewedAnnotation, 0);\n    },\n    hasReviewLayer() {\n      return this.image.inReview || this.image.reviewed;\n    },\n    reviewLayer() {\n      return {id: -1, isReview: true};\n    },\n    reviewMode() {\n      return this.imageWrapper.review.reviewMode;\n    },\n    isActiveImage() {\n      return this.viewerWrapper.activeImage === this.index;\n    }\n  },\n  watch: {\n    activePanel() {\n      this.fetchIndexLayers();\n    },\n    reviewMode() {\n      if(this.reviewMode) {\n        if(!this.layers.includes(this.reviewLayer)) {\n          this.layers.push(this.reviewLayer);\n        }\n        this.addLayer(this.reviewLayer);\n      }\n      else {\n        if(!this.hasReviewLayer) {\n          let index = this.selectedLayersIds.findIndex(id => id === this.reviewLayer.id);\n          if(index !== -1) {\n            this.removeLayer(index);\n          }\n\n          this.layers = this.layers.filter(layer => !layer.isReview);\n        }\n      }\n    }\n  },\n  methods: {\n    addAnnotationEventHandler(annot, saved = true) {\n      this.annotationEventHandler(annot);\n      let updatedProject = this.$store.state.currentProject.project.clone();\n\n      if(annot.type === 'UserAnnotation') {\n        if(saved) updatedProject.numberOfAnnotations++;\n      }\n      else {\n        updatedProject.numberOfReviewedAnnotations++;\n      }\n\n      this.$store.dispatch('currentProject/updateProject', updatedProject);\n    },\n    deleteAnnotationEventHandler(annot) {\n      this.annotationEventHandler(annot);\n    },\n    annotationEventHandler(annot) {\n      if(annot.image === this.image.id) {\n        this.fetchIndexLayers();\n      }\n    },\n    reloadAnnotationsHandler({idImage}={}) {\n      if(!idImage || idImage === this.image.id) {\n        this.fetchIndexLayers();\n      }\n    },\n\n    layerName(layer) {\n      if(layer.isReview) {\n        return `${this.$t('review-layer')} (${this.nbReviewedAnnotations})`;\n      }\n\n      let name = fullName(layer);\n\n      let indexLayer = this.indexLayers.find(index => index.user === layer.id) || {};\n      return `${name} (${indexLayer.countAnnotation || 0})`;\n    },\n\n    canDraw(layer) {\n      return !layer.isReview && this.$store.getters['currentProject/canEditLayer'](layer.id);\n    },\n\n    addLayerById(id, visible) {\n      let layer = this.layers.find(layer => layer.id === id);\n      if(layer) {\n        this.addLayer(layer, visible);\n      }\n    },\n\n    addLayer(layer = this.selectedLayer, visible = true) {\n      if(this.selectedLayersIds.includes(layer.id)) {\n        return;\n      }\n\n      layer.visible = visible;\n      layer.drawOn = (layer.id === this.currentUser.id && this.canDraw(layer));\n      this.$store.dispatch(this.imageModule + 'addLayer', layer);\n\n      this.selectedLayer = null;\n    },\n\n    removeLayer(index) {\n      this.$store.dispatch(this.imageModule + 'removeLayer', index);\n    },\n\n    toggleLayerVisibility(index) {\n      this.$store.dispatch(this.imageModule + 'toggleLayerVisibility', index);\n    },\n\n    toggleLayerDrawOn(index) {\n      this.$store.commit(this.imageModule + 'toggleLayerDrawOn', index);\n    },\n\n    async fetchLayers() {\n      this.layers = (await this.project.fetchUserLayers(this.image.id)).array;\n      if(this.hasReviewLayer) {\n        this.layers.push(this.reviewLayer);\n      }\n\n      // if image instance was changed (e.g. with previous/next image navigation), some of the selected layers\n      // may not be relevant for the current image => filter them\n      let idLayers = this.layers.map(layer => layer.id);\n      this.$store.commit(this.imageModule + 'filterSelectedLayers', idLayers);\n    },\n\n    async fetchIndexLayers(force=false) {\n      if(!force && this.activePanel !== 'layers') {\n        return;\n      }\n      this.indexLayers = await this.image.fetchAnnotationsIndex();\n    },\n\n    shortkeyHandler(key) {\n      if(!this.isActiveImage) { // shortkey should only be applied to active map\n        return;\n      }\n\n      if(key === 'tool-review-toggle') { // toggle review layer\n        let index = this.selectedLayersIds.findIndex(id => id === this.reviewLayer.id);\n        if(index !== -1) {\n          this.toggleLayerVisibility(index);\n          return;\n        }\n\n        if(this.layers.includes(this.reviewLayer)) {\n          this.addLayer(this.reviewLayer);\n        }\n      }\n    }\n  },\n  async created() {\n    try {\n      await Promise.all([this.fetchLayers(), this.fetchIndexLayers(true)]);\n    }\n    catch(error) {\n      console.log(error);\n      this.error = true;\n      this.$notify({type: 'error', text: this.$t('notif-error-loading-annotation-layers')});\n      return;\n    }\n\n    let layersToAdd = this.layersToPreload.map(id => ({id, visible: true}));\n\n    if(!this.imageWrapper.layers.selectedLayers) { // we do not use computed property selectedLayers because we don't want the replacement by [] if the store array is null\n      if(!this.layersToPreload.includes(this.currentUser.id)) {\n        layersToAdd.push({id: this.currentUser.id, visible: true});\n      }\n\n      try {\n        let defaultLayers = await ProjectDefaultLayerCollection.fetchAll({\n          filterKey: 'project',\n          filterValue: this.project.id\n        });\n\n        let addedIds = layersToAdd.map(layer => layer.id);\n\n        defaultLayers.array.forEach(({user, hideByDefault}) => {\n          if(!addedIds.includes(user)) {\n            layersToAdd.push({id: user, visible: !hideByDefault});\n          }\n        });\n      }\n      catch(error) {\n        console.log(error);\n      }\n    }\n    layersToAdd.map(layer => this.addLayerById(layer.id, layer.visible));\n  },\n  mounted() {\n    this.$eventBus.$on('addAnnotation', this.addAnnotationEventHandler);\n    this.$eventBus.$on('deleteAnnotation', this.deleteAnnotationEventHandler);\n    this.$eventBus.$on('reloadAnnotations', this.reloadAnnotationsHandler);\n    this.$eventBus.$on('shortkeyEvent', this.shortkeyHandler);\n  },\n  beforeDestroy() {\n    this.$eventBus.$off('addAnnotation', this.addAnnotationEventHandler);\n    this.$eventBus.$off('deleteAnnotation', this.deleteAnnotationEventHandler);\n    this.$eventBus.$off('reloadAnnotations', this.reloadAnnotationsHandler);\n    this.$eventBus.$off('shortkeyEvent', this.shortkeyHandler);\n  }\n};\n</script>\n\n<style scoped>\n>>> select {\n  width: 21em;\n}\n\n.table {\n  margin-bottom: 1em !important;\n  font-size: 0.9em;\n}\n\n.table tbody {\n  display: block;\n  overflow: auto;\n  max-height: 10em;\n}\n\n.table thead tr {\n  display: block;\n}\n\ntd, th {\n  padding: 0.25em !important;\n  vertical-align: middle !important;\n}\n\ntd .button {\n  width: 1.5em;\n  height: 1.5em;\n  font-size: 0.9em;\n  padding: 0;\n}\n\n.checkbox-column {\n  min-width: 2.2em;\n  text-align: center !important;\n}\n\n.name-column {\n  width: 100%;\n}\n\n>>> .checkbox .control-label {\n  padding: 0 !important;\n}\n\n>>> input[type=\"range\"].slider {\n  margin: 0;\n  padding: 0;\n}\n\n.opacity {\n  display: flex;\n  align-items: center;\n}\n\n.opacity label {\n  text-transform: uppercase;\n  font-size: 0.8em;\n  width: 15em;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayersPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayersPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LayersPanel.vue?vue&type=template&id=7e41f174&scoped=true&\"\nimport script from \"./LayersPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./LayersPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LayersPanel.vue?vue&type=style&index=0&id=7e41f174&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e41f174\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$t('terms')))]),_c('div',{staticClass:\"ontology-tree-wrapper\"},[_c('div',{staticClass:\"header-tree\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"size\":\"is-small\",\"expanded\":\"\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('div',{staticClass:\"sidebar-tree\"},[_vm._m(0),_c('div',{staticClass:\"opacity\"},[_vm._v(_vm._s(_vm.$t('opacity')))])])],1),_c('ontology-tree',{attrs:{\"ontology\":_vm.ontology,\"allowSelection\":false,\"searchString\":_vm.searchString,\"additionalNodes\":_vm.additionalNodes},scopedSlots:_vm._u([{key:\"custom-sidebar\",fn:function(ref){\nvar term = ref.term;\nreturn [_c('div',{staticClass:\"sidebar-tree\"},[_c('div',{staticClass:\"visibility\"},[(term.id)?_c('b-checkbox',{attrs:{\"size\":\"is-small\",\"value\":_vm.terms[_vm.termsMapping[term.id]].visible},on:{\"input\":function($event){return _vm.toggleTermVisibility(_vm.termsMapping[term.id])}}}):_c('b-checkbox',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.displayNoTerm),callback:function ($$v) {_vm.displayNoTerm=$$v},expression:\"displayNoTerm\"}})],1),_c('div',{staticClass:\"opacity\"},[(term.id)?_c('input',{staticClass:\"slider is-fullwidth is-small\",attrs:{\"step\":\"0.05\",\"min\":\"0\",\"max\":\"1\",\"type\":\"range\",\"disabled\":!_vm.terms[_vm.termsMapping[term.id]].visible},domProps:{\"value\":_vm.terms[_vm.termsMapping[term.id]].opacity},on:{\"change\":function (event) { return _vm.changeOpacity(_vm.termsMapping[term.id], event); },\"input\":function (event) { return _vm.changeOpacity(_vm.termsMapping[term.id], event); }}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.noTermOpacity),expression:\"noTermOpacity\"}],staticClass:\"slider is-fullwidth is-small\",attrs:{\"step\":\"0.05\",\"min\":\"0\",\"max\":\"1\",\"type\":\"range\"},domProps:{\"value\":(_vm.noTermOpacity)},on:{\"__r\":function($event){_vm.noTermOpacity=$event.target.value}}})])])]}}])})],1),_c('div',{staticClass:\"has-text-right\"},[_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.resetOpacities()}}},[_vm._v(_vm._s(_vm.$t('button-reset-opacities')))])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"visibility\"},[_c('i',{staticClass:\"far fa-eye\"})])}]\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div>\n  <h1>{{ $t('terms') }}</h1>\n  <div class=\"ontology-tree-wrapper\">\n    <div class=\"header-tree\">\n      <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" size=\"is-small\" expanded />\n\n      <div class=\"sidebar-tree\">\n        <div class=\"visibility\">\n          <i class=\"far fa-eye\"></i>\n        </div>\n        <div class=\"opacity\">{{$t('opacity')}}</div>\n      </div>\n    </div>\n    <ontology-tree\n      :ontology=\"ontology\"\n      :allowSelection=\"false\"\n      :searchString=\"searchString\"\n      :additionalNodes=\"additionalNodes\"\n    >\n      <template #custom-sidebar=\"{term}\">\n        <div class=\"sidebar-tree\">\n          <div class=\"visibility\">\n            <b-checkbox\n              v-if=\"term.id\"\n              size=\"is-small\"\n              :value=\"terms[termsMapping[term.id]].visible\"\n              @input=\"toggleTermVisibility(termsMapping[term.id])\"\n            />\n\n            <b-checkbox v-else size=\"is-small\" v-model=\"displayNoTerm\" />\n          </div>\n\n          <div class=\"opacity\">\n            <input\n              v-if=\"term.id\"\n              class=\"slider is-fullwidth is-small\" step=\"0.05\" min=\"0\" max=\"1\" type=\"range\"\n              :disabled=\"!terms[termsMapping[term.id]].visible\"\n              :value=\"terms[termsMapping[term.id]].opacity\"\n              @change=\"event => changeOpacity(termsMapping[term.id], event)\"\n              @input=\"event => changeOpacity(termsMapping[term.id], event)\"\n            >\n\n            <input\n              v-else\n              class=\"slider is-fullwidth is-small\" step=\"0.05\" min=\"0\" max=\"1\" type=\"range\"\n              v-model=\"noTermOpacity\"\n            >\n          </div>\n        </div>\n      </template>\n    </ontology-tree>\n  </div>\n  <div class=\"has-text-right\">\n    <button class=\"button is-small\" @click=\"resetOpacities()\">{{$t('button-reset-opacities')}}</button>\n  </div>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\nimport OntologyTree from '@/components/ontology/OntologyTree';\n\nexport default {\n  name: 'ontology-panel',\n  components: {OntologyTree},\n  props: {\n    index: String\n  },\n  data() {\n    return {\n      searchString: ''\n    };\n  },\n  computed: {\n    ontology: get('currentProject/ontology'),\n    imageModule() {\n      return this.$store.getters['currentProject/imageModule'](this.index);\n    },\n    imageWrapper() {\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\n    },\n    terms() {\n      return this.imageWrapper.style.terms;\n    },\n    termsMapping() {\n      let mapping = {};\n      this.terms.forEach((term, idx) => mapping[term.id] = idx);\n      return mapping;\n    },\n    additionalNodes() {\n      return [{id: 0, name: this.$t('no-term')}];\n    },\n    displayNoTerm: {\n      get() {\n        return this.imageWrapper.style.displayNoTerm;\n      },\n      set(value) {\n        this.$store.dispatch(this.imageModule + 'setDisplayNoTerm', value);\n      }\n    },\n    noTermOpacity: {\n      get() {\n        return this.imageWrapper.style.noTermOpacity;\n      },\n      set(value) {\n        this.$store.commit(this.imageModule + 'setNoTermOpacity', Number(value));\n      }\n    },\n  },\n  methods: {\n    toggleTermVisibility(index) {\n      this.$store.dispatch(this.imageModule + 'toggleTermVisibility', index);\n    },\n    changeOpacity(index, event) {\n      let opacity = Number(event.target.value);\n      this.$store.commit(this.imageModule + 'setTermOpacity', {indexTerm: index, opacity});\n    },\n    resetOpacities() {\n      this.$store.commit(this.imageModule + 'resetTermOpacities');\n    }\n  }\n};\n</script>\n\n<style scoped>\n.ontology-tree-wrapper {\n  max-height: 17em;\n  overflow: auto;\n  margin-bottom: 0.4em !important;\n}\n\n\ninput[type=\"range\"].slider {\n  margin: 0;\n  padding: 0;\n}\n\n.header-tree {\n  display: flex;\n  justify-content: right;\n  position: sticky;\n  top: 0;\n  z-index: 5;\n  padding-bottom: 0.3em;\n  background: #f2f2f2;\n  border: 2px solid #DBDBDB;\n  border-width: 0 0 2px !important;\n}\n\n.header-tree .opacity {\n  text-align: center;\n  text-transform: uppercase;\n  font-size: 0.8em;\n}\n\n.sidebar-tree {\n  padding-right: 0.4em;\n  display: flex;\n  align-items: center;\n}\n\n.visibility {\n  width: 2.8em;\n  height: 2.1em;\n  display: flex;\n  justify-content: center;\n}\n\n.header-tree .visibility {\n  height: auto;\n}\n\n.opacity {\n  width: 6em;\n  display: block;\n}\n\n>>> .checkbox .control-label {\n  padding: 0 !important;\n}\n\n>>> .ontology-tree .sl-vue-tree-node-item, >>> .ontology-tree .no-result {\n  line-height: 2;\n  font-size: 0.9em;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OntologyPanel.vue?vue&type=template&id=97acfbd8&scoped=true&\"\nimport script from \"./OntologyPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./OntologyPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OntologyPanel.vue?vue&type=style&index=0&id=97acfbd8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"97acfbd8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"properties-panel\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('properties')))]),_c('b-field',{attrs:{\"horizontal\":\"\",\"label\":_vm.$t('key')}},[_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.selectedPropertyKey),callback:function ($$v) {_vm.selectedPropertyKey=$$v},expression:\"selectedPropertyKey\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\" \"+_vm._s(_vm.$t('no-key-selected'))+\" \")]),_vm._l((_vm.propertiesKeys),function(key){return _c('option',{key:key,domProps:{\"value\":key}},[_vm._v(\" \"+_vm._s(key)+\" \")])})],2)],1),_c('b-field',{attrs:{\"horizontal\":\"\",\"label\":_vm.$t('color')}},[_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.selectedPropertyColor),callback:function ($$v) {_vm.selectedPropertyColor=$$v},expression:\"selectedPropertyColor\"}},_vm._l((_vm.colors),function(color){return _c('option',{key:color.name,domProps:{\"value\":color}},[_vm._v(\" \"+_vm._s(_vm.$t(color.name))+\" \")])}),0)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"properties-panel\">\n  <h1>{{$t('properties')}}</h1>\n  <b-field horizontal :label=\"$t('key')\">\n    <b-select size=\"is-small\" v-model=\"selectedPropertyKey\">\n      <option :value=\"null\">\n        {{$t('no-key-selected')}}\n      </option>\n      <option v-for=\"key in propertiesKeys\" :value=\"key\" :key=\"key\">\n        {{ key }}\n      </option>\n    </b-select>\n  </b-field>\n\n  <b-field horizontal :label=\"$t('color')\">\n    <b-select size=\"is-small\" v-model=\"selectedPropertyColor\">\n      <option v-for=\"color in colors\" :value=\"color\" :key=\"color.name\">\n        {{ $t(color.name) }}\n      </option>\n    </b-select>\n  </b-field>\n</div>\n</template>\n\n<script>\nimport {defaultColors} from '@/utils/style-utils.js';\n\nexport default {\n  name: 'properties-panel',\n  props: {\n    index: String\n  },\n  computed: {\n    colors() {\n      return defaultColors;\n    },\n    imageModule() {\n      return this.$store.getters['currentProject/imageModule'](this.index);\n    },\n    imageWrapper() {\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\n    },\n    selectedPropertyKey: {\n      get() {\n        return this.imageWrapper.properties.selectedPropertyKey;\n      },\n      set(value) {\n        this.$store.dispatch(this.imageModule + 'setSelectedPropertyKey', value);\n      }\n    },\n    selectedPropertyColor: {\n      get() {\n        return this.imageWrapper.properties.selectedPropertyColor;\n      },\n      set(value) {\n        this.$store.commit(this.imageModule + 'setSelectedPropertyColor', value);\n      }\n    },\n    propertiesKeys() {\n      return this.imageWrapper.properties.propertiesKeys;\n    }\n  }\n};\n</script>\n\n<style>\n.properties-panel select {\n  width: 15em;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PropertiesPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PropertiesPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PropertiesPanel.vue?vue&type=template&id=05d88d18&\"\nimport script from \"./PropertiesPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./PropertiesPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PropertiesPanel.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"follow-panel\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('broadcast')))]),_c('div',[_c('b-checkbox',{attrs:{\"type\":\"is-info\",\"disabled\":_vm.disabledBroadcast},model:{value:(_vm.broadcastModel),callback:function ($$v) {_vm.broadcastModel=$$v},expression:\"broadcastModel\"}},[_vm._v(\" \"+_vm._s(_vm.$t('broadcast-my-position'))+\" \")])],1),_c('h2',{class:{disabled: _vm.broadcast}},[_vm._v(_vm._s(_vm.$t('follow-user')))]),_c('div',{staticClass:\"follow-panel-content\",class:{disabled: _vm.broadcast}},[_c('div',{staticClass:\"field\"},[_c('b-radio',{attrs:{\"native-value\":null,\"type\":\"is-info\",\"disabled\":_vm.broadcast},model:{value:(_vm.trackedUserModel),callback:function ($$v) {_vm.trackedUserModel=$$v},expression:\"trackedUserModel\"}},[_vm._v(\" \"+_vm._s(_vm.$t('no-tracking'))+\" \")])],1),(_vm.onlineManagers.length > 0)?[_c('h3',[_vm._v(_vm._s(_vm.$t('online-managers')))]),_vm._l((_vm.onlineManagers),function(user){return _c('div',{key:user.id,staticClass:\"field\"},[_c('b-radio',{attrs:{\"native-value\":user.id,\"type\":\"is-info\",\"disabled\":_vm.broadcast},model:{value:(_vm.trackedUserModel),callback:function ($$v) {_vm.trackedUserModel=$$v},expression:\"trackedUserModel\"}},[_c('username',{attrs:{\"user\":user}})],1)],1)})]:_vm._e(),(_vm.onlineContributors.length > 0)?[_c('h3',[_vm._v(_vm._s(_vm.$t('online-contributors')))]),_vm._l((_vm.onlineContributors),function(user){return _c('div',{key:user.id,staticClass:\"field\"},[_c('b-radio',{attrs:{\"native-value\":user.id,\"type\":\"is-info\",\"disabled\":_vm.broadcast},model:{value:(_vm.trackedUserModel),callback:function ($$v) {_vm.trackedUserModel=$$v},expression:\"trackedUserModel\"}},[_c('username',{attrs:{\"user\":user}})],1)],1)})]:_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"follow-panel\">\n  <h1>{{$t('broadcast')}}</h1>\n\n  <div>\n    <b-checkbox v-model=\"broadcastModel\" type=\"is-info\" :disabled=\"disabledBroadcast\">\n      {{$t('broadcast-my-position')}}\n    </b-checkbox>\n  </div>\n\n  <h2 :class=\"{disabled: broadcast}\">{{$t('follow-user')}}</h2>\n\n  <div class=\"follow-panel-content\" :class=\"{disabled: broadcast}\">\n    <div class=\"field\">\n      <b-radio v-model=\"trackedUserModel\" :native-value=\"null\" type=\"is-info\" :disabled=\"broadcast\">\n        {{$t('no-tracking')}}\n      </b-radio>\n    </div>\n\n    <template v-if=\"onlineManagers.length > 0\">\n      <h3>{{$t('online-managers')}}</h3>\n      <div class=\"field\" v-for=\"user in onlineManagers\" :key=\"user.id\">\n        <b-radio v-model=\"trackedUserModel\" :native-value=\"user.id\" type=\"is-info\" :disabled=\"broadcast\">\n          <username :user=\"user\" />\n        </b-radio>\n      </div>\n    </template>\n\n    <template v-if=\"onlineContributors.length > 0\">\n      <h3>{{$t('online-contributors')}}</h3>\n      <div class=\"field\" v-for=\"user in onlineContributors\" :key=\"user.id\">\n        <b-radio v-model=\"trackedUserModel\" :native-value=\"user.id\" type=\"is-info\" :disabled=\"broadcast\">\n          <username :user=\"user\" />\n        </b-radio>\n      </div>\n    </template>\n  </div>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport Username from '@/components/user/Username';\n\nimport {UserPosition} from 'cytomine-client';\n\nimport constants from '@/utils/constants.js';\n\nexport default {\n  name: 'follow-panel',\n  components: {Username},\n  props: {\n    index: String,\n    view: Object\n  },\n  data() {\n    return {\n      onlineUsers: [],\n\n      broadcastModel: false,\n      trackedUserModel: null,\n\n      timeoutOnlineUsers: null,\n      timeoutTracking: null,\n\n      disabledBroadcast: false\n    };\n  },\n  computed: {\n    projectMembers: get('currentProject/members'),\n    projectManagers: get('currentProject/managers'),\n    projectContributors() {\n      return this.$store.getters['currentProject/contributors'];\n    },\n    currentUser: get('currentUser/user'),\n    project: get('currentProject/project'),\n    blindMode() {\n      return this.project.blindMode;\n    },\n    viewerModule() {\n      return this.$store.getters['currentProject/currentViewerModule'];\n    },\n    imageModule() {\n      return this.$store.getters['currentProject/imageModule'](this.index);\n    },\n    viewerWrapper() {\n      return this.$store.getters['currentProject/currentViewer'];\n    },\n    images() {\n      return this.viewerWrapper.images;\n    },\n    linkedIndexes() {\n      return this.viewerWrapper.links.find(group => group.includes(this.index)) || [];\n    },\n    linkedIndexTracking() { // true if current view is linked with another view with tracking enabled\n      return this.linkedIndexes.some(idx => idx !== this.index && this.images[idx].tracking.trackedUser);\n    },\n    imageWrapper() {\n      return this.viewerWrapper.images[this.index];\n    },\n    image() {\n      return this.imageWrapper.imageInstance;\n    },\n    activePanel() {\n      return this.imageWrapper.activePanel;\n    },\n    broadcast: {\n      get() {\n        return this.imageWrapper.tracking.broadcast;\n      },\n      set(value) {\n        this.$store.commit(this.imageModule + 'setBroadcast', value);\n      }\n    },\n    alreadyBroadcastingImage() {\n      return Object.keys(this.images).some(index => {\n        let image = this.images[index];\n        return index !== this.index && image.imageInstance\n          && image.imageInstance.id === this.image.id && image.tracking.broadcast;\n      });\n    },\n    trackedUser: {\n      get() {\n        return this.imageWrapper.tracking.trackedUser;\n      },\n      set(value) {\n        this.$store.commit(this.imageModule + 'setTrackedUser', value);\n      }\n    },\n    onlineManagers() {\n      return this.projectManagers.filter(({id}) => this.onlineUsers.includes(id));\n    },\n    onlineContributors() {\n      return this.projectContributors.filter(({id}) => this.onlineUsers.includes(id));\n    },\n    trackedUserFullName() {\n      let trackedUser = this.projectMembers.find(user => user.id === this.trackedUser);\n      if(trackedUser) {\n        return trackedUser.fullName;\n      }\n    }\n  },\n  watch: {\n    activePanel(panel) {\n      if(panel === 'follow') {\n        this.fetchOnline();\n      }\n    },\n\n    broadcast() {\n      if(this.broadcast) {\n        this.trackedUser = null;\n      }\n    },\n\n    alreadyBroadcastingImage(value) {\n      if(!value) {\n        this.disabledBroadcast = false;\n      }\n    },\n\n    broadcastModel(value) {\n      if(value && this.alreadyBroadcastingImage) {\n        this.$notify({type: 'error', text: this.$t('notif-error-already-broadcasting-this-image')});\n        this.disabledBroadcast = true;\n        this.$nextTick(() => this.broadcastModel = false);\n        return;\n      }\n\n      this.broadcast = value;\n    },\n\n    trackedUserModel(value) {\n      // if map is linked to another map on which tracking is already enabled, possible conflict\n      if(value && this.linkedIndexTracking) {\n        this.$buefy.dialog.confirm({\n          title: this.$t('possible-conflict'),\n          message: this.$t('confirm-unlink-view-to-track'),\n          confirmText: this.$t('button-confirm'),\n          cancelText: this.$t('button-cancel'),\n          onConfirm: () => {\n            this.$store.commit(this.viewerModule + 'unlinkImage', {indexImage: this.index});\n            this.trackedUser = value;\n          },\n          onCancel: () => this.trackedUserModel = null\n        });\n      }\n      else {\n        this.trackedUser = value;\n      }\n    },\n\n    trackedUser(id) {\n      this.trackedUserModel = id;\n\n      if(id) {\n        this.track();\n        this.fetchOnline();\n      }\n    },\n\n    onlineUsers(onlines) {\n      if(this.trackedUser && !onlines.includes(this.trackedUser)) {\n        this.$notify({\n          type: 'info',\n          text: this.$t('end-tracking-user-no-longer-broadcasting', {\n            username: this.trackedUserFullName,\n            imageName: this.blindMode ? this.image.blindedName : this.image.instanceFilename\n          })\n        });\n        this.trackedUser = null;\n      }\n    }\n\n  },\n  methods: {\n    async track() {\n      if(!this.trackedUser) {\n        return;\n      }\n\n      try {\n        let pos = await UserPosition.fetchLastPosition(this.image.id, this.trackedUser);\n        if(!pos.id || !pos.broadcast) {\n          return;\n        }\n\n        this.view.animate({\n          center: [pos.x, pos.y],\n          zoom: pos.zoom,\n          rotation: pos.rotation,\n          duration: 500\n        });\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-tracked-user-position')});\n      }\n\n      clearTimeout(this.timeoutTracking);\n      this.timeoutTracking = setTimeout(this.track, constants.TRACKING_REFRESH_INTERVAL);\n    },\n\n    async fetchOnline() {\n      if(!this.trackedUser && this.activePanel !== 'follow') { // if panel not opened and no tracking ongoing, no need to refresh the data\n        return;\n      }\n\n      let onlines = await this.image.fetchConnectedUsers(true); // retrieve broadcasting users\n      this.onlineUsers = onlines.filter(id => id !== this.currentUser.id);\n\n      clearTimeout(this.timeoutOnlineUsers);\n      this.timeoutOnlineUsers = setTimeout(this.fetchOnline, constants.BROADCASTING_USERS_REFRESH_INTERVAL);\n    },\n  },\n  created() {\n    this.trackedUserModel = this.trackedUser;\n    this.broadcastModel = this.broadcast;\n\n    this.fetchOnline();\n    this.track();\n  },\n  beforeDestroy() {\n    clearTimeout(this.timeoutTracking);\n    clearTimeout(this.timeoutOnlineUsers);\n  }\n};\n</script>\n\n<style scoped>\nh2 {\n  margin-top: 0.8em;\n  margin-bottom: 0.4em;\n  font-size: 1em;\n}\n\nh3 {\n  margin-top: 0.8em;\n  margin-bottom: 0.4em;\n  font-weight: 600;\n}\n\n.disabled {\n  color: #7a7a7a;\n}\n\n.follow-panel-content {\n  max-height: 14em;\n  overflow: auto;\n}\n</style>\n\n<style>\n.follow-panel .b-checkbox {\n  align-items: flex-start !important;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FollowPanel.vue?vue&type=template&id=594260b2&scoped=true&\"\nimport script from \"./FollowPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./FollowPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FollowPanel.vue?vue&type=style&index=0&id=594260b2&scoped=true&lang=css&\"\nimport style1 from \"./FollowPanel.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"594260b2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$t('review')))]),(_vm.image.reviewed)?[_c('b-message',{attrs:{\"type\":\"is-success\",\"size\":\"is-small\",\"has-icon\":\"\"}},[_c('i18n',{attrs:{\"path\":_vm.isReviewer ? 'you-have-validated-image-on' : 'image-validated-by-on'}},[(!_vm.isReviewer)?_c('username',{attrs:{\"place\":\"user\",\"user\":_vm.reviewer}}):_vm._e(),_c('span',{attrs:{\"place\":\"date\"}},[_vm._v(_vm._s(_vm._f(\"moment\")(Number(_vm.image.reviewStop),'ll LT')))])],1)],1),(_vm.isReviewer)?_c('button',{staticClass:\"button is-small is-fullwidth\",on:{\"click\":function($event){return _vm.unvalidate()}}},[_vm._m(0),_c('span',[_vm._v(_vm._s(_vm.$t('button-unvalidate-and-continue-review')))])]):_vm._e()]:(_vm.image.inReview)?[(_vm.isReviewer)?[(!_vm.reviewMode)?_c('div',[_c('b-message',{attrs:{\"type\":\"is-info\",\"size\":\"is-small\",\"has-icon\":\"\"}},[_c('i18n',{attrs:{\"path\":\"you-are-reviewing-image-since\"}},[_c('span',{attrs:{\"place\":\"date\"}},[_vm._v(_vm._s(_vm._f(\"moment\")(Number(_vm.image.reviewStart),'ll LT')))])])],1),_c('button',{staticClass:\"button is-small is-fullwidth\",on:{\"click\":function($event){_vm.reviewMode = true}}},[_vm._m(1),_c('span',[_vm._v(_vm._s(_vm.$t('button-continue-review')))])])],1):_c('div',[_c('div',{staticClass:\"small\"},[_c('i18n',{attrs:{\"path\":\"review-list-visible-layers\"}},[_c('list-usernames',{attrs:{\"place\":\"visibleLayers\",\"users\":_vm.visibleUserLayers}})],1),(!_vm.taskReviewAll || _vm.taskReviewAll.progress === 100)?_c('div',[_vm._v(\" \"+_vm._s(this.$t('review-explanation'))+\" \"),_c('div',{staticClass:\"buttons is-centered are-small has-addons is-fullwidth\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.reviewAll(true)}}},[_vm._m(2),_c('span',[_vm._v(_vm._s(_vm.$t('button-accept-all')))])]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.reviewAll(false)}}},[_vm._m(3),_c('span',[_vm._v(_vm._s(_vm.$t('button-reject-all')))])])])]):_c('cytomine-task',{attrs:{\"task\":_vm.taskReviewAll},on:{\"update:task\":function($event){_vm.taskReviewAll=$event}}})],1),_c('div',{staticClass:\"buttons are-small\"},[_c('button',{staticClass:\"button is-fullwidth\",on:{\"click\":function($event){_vm.reviewMode = false}}},[_vm._m(4),_c('span',[_vm._v(_vm._s(_vm.$t('button-continue-review-later')))])]),_c('button',{staticClass:\"button is-danger is-fullwidth\",on:{\"click\":function($event){return _vm.cancelReview()}}},[_vm._m(5),_c('span',[_vm._v(_vm._s(_vm.$t('button-cancel-review')))])]),_c('button',{staticClass:\"button is-success is-fullwidth\",on:{\"click\":function($event){return _vm.validate()}}},[_vm._m(6),_c('span',[_vm._v(_vm._s(_vm.$t('button-validate-review')))])])])])]:_c('b-message',{attrs:{\"type\":\"is-info\",\"size\":\"is-small\",\"has-icon\":\"\"}},[_c('i18n',{attrs:{\"path\":\"image-in-review-by-since\"}},[_c('username',{attrs:{\"place\":\"user\",\"user\":_vm.reviewer}}),_c('span',{attrs:{\"place\":\"date\"}},[_vm._v(_vm._s(_vm._f(\"moment\")(Number(_vm.image.reviewStart),'ll LT')))])],1)],1)]:[_vm._v(\" \"+_vm._s(_vm.$t('image-not-reviewed'))+\" \"),_c('button',{staticClass:\"button is-small is-fullwidth has-margin-top\",on:{\"click\":function($event){return _vm.startReview()}}},[_vm._m(7),_c('span',[_vm._v(_vm._s(_vm.$t('button-start-review')))])])]],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-thumbs-down\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-play-circle\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-check\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-minus\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-pause-circle\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-times\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-thumbs-up\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-play-circle\"})])}]\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div>\n  <h1>{{$t('review')}}</h1>\n  <template v-if=\"image.reviewed\">\n    <b-message type=\"is-success\" size=\"is-small\" has-icon>\n      <i18n :path=\"isReviewer ? 'you-have-validated-image-on' : 'image-validated-by-on'\">\n        <username v-if=\"!isReviewer\" place=\"user\" :user=\"reviewer\" />\n        <span place=\"date\">{{ Number(image.reviewStop) | moment('ll LT') }}</span>\n      </i18n>\n    </b-message>\n\n    <button v-if=\"isReviewer\" class=\"button is-small is-fullwidth\" @click=\"unvalidate()\">\n      <span class=\"icon\"><i class=\"fas fa-thumbs-down\"></i></span>\n      <span>{{$t('button-unvalidate-and-continue-review')}}</span>\n    </button>\n  </template>\n\n  <template v-else-if=\"image.inReview\">\n    <template v-if=\"isReviewer\">\n      <div v-if=\"!reviewMode\">\n        <b-message type=\"is-info\" size=\"is-small\" has-icon>\n          <i18n path=\"you-are-reviewing-image-since\">\n            <span place=\"date\">{{ Number(image.reviewStart) | moment('ll LT') }}</span>\n          </i18n>\n        </b-message>\n        <button class=\"button is-small is-fullwidth\" @click=\"reviewMode = true\">\n          <span class=\"icon\"><i class=\"fas fa-play-circle\"></i></span>\n          <span>{{$t('button-continue-review')}}</span>\n        </button>\n      </div>\n\n      <div v-else>\n          <div class=\"small\">\n            <i18n path=\"review-list-visible-layers\">\n              <list-usernames place=\"visibleLayers\" :users=\"visibleUserLayers\" />\n            </i18n>\n            <div v-if=\"!taskReviewAll || taskReviewAll.progress === 100\">\n              {{this.$t('review-explanation')}}\n              <div class=\"buttons is-centered are-small has-addons is-fullwidth\">\n                <button class=\"button\" @click=\"reviewAll(true)\">\n                  <span class=\"icon\"><i class=\"fas fa-check\"></i></span>\n                  <span>{{$t('button-accept-all')}}</span>\n                </button>\n                <button class=\"button\" @click=\"reviewAll(false)\">\n                  <span class=\"icon\"><i class=\"fas fa-minus\"></i></span>\n                  <span>{{$t('button-reject-all')}}</span>\n                </button>\n              </div>\n            </div>\n\n            <cytomine-task v-else :task.sync=\"taskReviewAll\" />\n          </div>\n\n          <div class=\"buttons are-small\">\n            <button class=\"button is-fullwidth\" @click=\"reviewMode = false\">\n              <span class=\"icon\"><i class=\"fas fa-pause-circle\"></i></span>\n              <span>{{$t('button-continue-review-later')}}</span>\n            </button>\n            <button class=\"button is-danger is-fullwidth\" @click=\"cancelReview()\">\n                <span class=\"icon\"><i class=\"fas fa-times\"></i></span>\n                <span>{{$t('button-cancel-review')}}</span>\n            </button>\n            <button class=\"button is-success is-fullwidth\" @click=\"validate()\">\n                <span class=\"icon\"><i class=\"fas fa-thumbs-up\"></i></span>\n                <span>{{$t('button-validate-review')}}</span>\n            </button>\n          </div>\n      </div>\n    </template>\n\n    <b-message v-else type=\"is-info\" size=\"is-small\" has-icon>\n      <i18n path=\"image-in-review-by-since\">\n        <username place=\"user\" :user=\"reviewer\" />\n        <span place=\"date\">{{ Number(image.reviewStart) | moment('ll LT') }}</span>\n      </i18n>\n    </b-message>\n  </template>\n\n  <template v-else>\n    {{$t('image-not-reviewed')}}\n    <button class=\"button is-small is-fullwidth has-margin-top\" @click=\"startReview()\">\n      <span class=\"icon\"><i class=\"fas fa-play-circle\"></i></span>\n      <span>{{$t('button-start-review')}}</span>\n    </button>\n  </template>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\nimport Username from '@/components/user/Username';\nimport ListUsernames from '@/components/user/ListUsernames';\nimport CytomineTask from '@/components/utils/CytomineTask';\nimport {User, Task, AnnotationCollection} from 'cytomine-client';\n\nexport default {\n  name: 'review-panel',\n  props: {\n    index: String\n  },\n  components: {\n    Username,\n    ListUsernames,\n    CytomineTask\n  },\n  data() {\n    return {\n      taskReviewAll: null,\n      reviewer: null\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    project: get('currentProject/project'),\n    imageModule() {\n      return this.$store.getters['currentProject/imageModule'](this.index);\n    },\n    imageWrapper() {\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\n    },\n    image() {\n      return this.imageWrapper.imageInstance.clone(); // returns a clone of the image so that it can be modified in this component without mutating state outside vuex\n    },\n    reviewMode: {\n      get() {\n        return this.imageWrapper.review.reviewMode;\n      },\n      set(value) {\n        this.$store.commit(this.imageModule + 'setReviewMode', value);\n      }\n    },\n    isReviewer() { // true iff the current user is the reviewer\n      return this.image.reviewUser === this.currentUser.id;\n    },\n    selectedLayers() {\n      return this.imageWrapper.layers.selectedLayers || [];\n    },\n    visibleUserLayers() {\n      return this.selectedLayers.filter(layer => layer.visible && !layer.isReview);\n    },\n    visibleUserLayerIds() {\n      return this.visibleUserLayers.map(layer => layer.id);\n    },\n    reviewLayer() {\n      return this.selectedLayers.find(layer => layer.isReview) || {};\n    }\n  },\n  methods: {\n    commitImage() {\n      this.$store.commit(this.imageModule + 'setImageInstance', this.image);\n    },\n    async startReview() {\n      try {\n        await this.image.review();\n        this.commitImage();\n        this.reviewMode = true;\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-start-review')});\n      }\n    },\n    async cancelReview() {\n      try {\n        await this.image.stopReview(true);\n        this.commitImage();\n        this.reviewMode = false;\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-cancel-review')});\n      }\n    },\n    async validate() {\n      try {\n        await this.image.stopReview();\n        this.commitImage();\n        this.reviewMode = false;\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-validate-review')});\n      }\n    },\n    async unvalidate() {\n      try {\n        await this.image.stopReview(true);\n        this.commitImage();\n        this.reviewMode = false;\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-unvalidate-review')});\n      }\n    },\n    async reviewAll(accept) {\n      try {\n        this.taskReviewAll = await new Task({project: this.project.id}).save();\n        await AnnotationCollection.reviewAll({\n          accept,\n          image: this.image.id,\n          users: this.visibleUserLayerIds,\n          task: this.taskReviewAll.id\n        });\n        this.$eventBus.$emit('reloadAnnotations', {idImage: this.image.id, clear: true});\n      }\n      catch(error) {\n        console.log(error);\n        this.taskReviewAll = null;\n        this.$notify({type: 'error', text: this.$t('notif-error-review-' + (accept ? 'accept' : 'reject') + '-all')});\n      }\n    },\n  },\n  async created() {\n    if(this.image.reviewUser && !this.isReviewer) {\n      this.reviewer = await User.fetch(this.image.reviewUser);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.buttons, .has-margin-top {\n  margin-top: 0.5em;\n}\n\n.buttons.is-fullwidth .button {\n  flex: 1;\n}\n\n.small {\n  font-size: 0.9em;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReviewPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReviewPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReviewPanel.vue?vue&type=template&id=f97fe7e4&scoped=true&\"\nimport script from \"./ReviewPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ReviewPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReviewPanel.vue?vue&type=style&index=0&id=f97fe7e4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f97fe7e4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"playground\",staticClass:\"annotation-details-playground\"},[(_vm.selectedFeature && _vm.selectedFeature.properties && _vm.reload)?_c('vue-draggable-resizable',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayAnnotDetails),expression:\"displayAnnotDetails\"}],ref:\"detailsPanel\",staticClass:\"draggable\",attrs:{\"parent\":true,\"resizable\":false,\"drag-handle\":\".drag\",\"w\":_vm.width,\"h\":\"auto\",\"x\":_vm.positionAnnotDetails.x,\"y\":_vm.positionAnnotDetails.y},on:{\"dragstop\":_vm.dragStop}},[_c('div',{staticClass:\"actions\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('current-selection')))]),_c('button',{staticClass:\"drag button is-small close\"},[_c('i',{staticClass:\"fas fa-arrows-alt\"})]),_c('button',{staticClass:\"button is-small close\",on:{\"click\":function($event){_vm.displayAnnotDetails = false}}},[_c('i',{staticClass:\"fas fa-times\"})])]),_c('div',{staticClass:\"annotation-details-container\"},[_c('annotation-details',{key:_vm.selectedFeature.id,attrs:{\"annotation\":_vm.selectedFeature.properties.annot,\"terms\":_vm.terms,\"users\":_vm.allUsers,\"showImageInfo\":false,\"showComments\":_vm.showComments},on:{\"addTerm\":_vm.addTerm,\"updateTerms\":function($event){return _vm.updateTerms()},\"updateProperties\":function($event){return _vm.updateProperties()},\"centerView\":function($event){return _vm.centerViewOnAnnot()},\"deletion\":function($event){return _vm.handleDeletion()}}})],1)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"annotation-details-playground\" ref=\"playground\">\n  <vue-draggable-resizable\n    v-if=\"selectedFeature && selectedFeature.properties && reload\"\n    v-show=\"displayAnnotDetails\"\n    class=\"draggable\"\n    :parent=\"true\"\n    :resizable=\"false\"\n    drag-handle=\".drag\"\n    @dragstop=\"dragStop\"\n    :w=\"width\" h='auto' :x=\"positionAnnotDetails.x\" :y=\"positionAnnotDetails.y\"\n    ref=\"detailsPanel\"\n  >\n    <div class=\"actions\">\n      <h1>{{$t('current-selection')}}</h1>\n      <button class=\"drag button is-small close\">\n        <i class=\"fas fa-arrows-alt\"></i>\n      </button>\n      <button class=\"button is-small close\" @click=\"displayAnnotDetails = false\">\n        <i class=\"fas fa-times\"></i>\n      </button>\n    </div>\n\n    <div class=\"annotation-details-container\">\n      <annotation-details\n        :annotation=\"selectedFeature.properties.annot\"\n        :terms=\"terms\"\n        :users=\"allUsers\"\n        :showImageInfo=\"false\"\n        :key=\"selectedFeature.id\"\n        :showComments=\"showComments\"\n        @addTerm=\"addTerm\"\n        @updateTerms=\"updateTerms()\"\n        @updateProperties=\"updateProperties()\"\n        @centerView=\"centerViewOnAnnot()\"\n        @deletion=\"handleDeletion()\"\n      />\n    </div>\n  </vue-draggable-resizable>\n</div>\n</template>\n\n<script>\nimport VueDraggableResizable from 'vue-draggable-resizable';\n\nimport AnnotationDetails from '@/components/annotations/AnnotationDetails';\nimport {UserCollection, UserJobCollection} from 'cytomine-client';\nimport {fullName} from '@/utils/user-utils.js';\nimport {Action, updateTermProperties} from '@/utils/annotation-utils.js';\n\nimport WKT from 'ol/format/WKT';\n\nexport default {\n  name: 'annotations-details-container',\n  components: {VueDraggableResizable, AnnotationDetails},\n  props: {\n    index: String,\n    view: Object\n  },\n  data() {\n    return {\n      width: 320,\n      projectUsers: [],\n      userJobs: [],\n      reload: true,\n      format: new WKT(),\n      showComments: false\n    };\n  },\n  computed: {\n    viewerModule() {\n      return this.$store.getters['currentProject/currentViewerModule'];\n    },\n    imageModule() {\n      return this.$store.getters['currentProject/imageModule'](this.index);\n    },\n    imageWrapper() {\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\n    },\n    image() {\n      return this.imageWrapper.imageInstance;\n    },\n    displayAnnotDetails: {\n      get() {\n        return this.imageWrapper.selectedFeatures.displayAnnotDetails;\n      },\n      set(value) {\n        this.$store.commit(this.imageModule + 'setDisplayAnnotDetails', value);\n      }\n    },\n    positionAnnotDetails: {\n      get() {\n        return this.imageWrapper.selectedFeatures.positionAnnotDetails;\n      },\n      set(value) {\n        this.$store.commit(this.imageModule + 'setPositionAnnotDetails', value);\n      }\n    },\n    selectedFeature() {\n      return this.$store.getters[this.imageModule + 'selectedFeature'];\n    },\n    allUsers() {\n      let allUsers = this.projectUsers.concat(this.userJobs);\n      allUsers.forEach(user => user.fullName = fullName(user));\n      return allUsers;\n    },\n    annot() {\n      return this.selectedFeature ? this.selectedFeature.properties.annot : {};\n    },\n    terms() {\n      return this.$store.getters['currentProject/terms'] || [];\n    }\n  },\n  watch: {\n    selectedFeature() {\n      if(this.selectedFeature) {\n        this.displayAnnotDetails = true;\n        let targetAnnot = this.imageWrapper.selectedFeatures.showComments;\n        this.showComments = (targetAnnot === this.annot.id);\n        if(targetAnnot !== null) {\n          this.$store.commit(this.imageModule + 'setShowComments', null);\n        }\n      }\n    }\n  },\n  methods: {\n    async fetchUsers() {\n      let collection = new UserCollection({\n        filterKey: 'project',\n        filterValue: this.image.project,\n      });\n\n      this.projectUsers = (await collection.fetchAll()).array;\n    },\n    async fetchUserJobs() {\n      this.userJobs = (await UserJobCollection.fetchAll({\n        filterKey: 'project',\n        filterValue: this.image.project\n      })).array;\n    },\n\n    centerViewOnAnnot() {\n      let geometry = this.format.readGeometry(this.annot.location);\n      this.view.fit(geometry, {duration: 500, padding: [10, 10, 10, 10], maxZoom: this.image.depth});\n    },\n\n    addTerm(term) {\n      this.$store.dispatch(this.viewerModule + 'addTerm', term);\n    },\n\n    async updateTerms() {\n      let updatedAnnot = await this.annot.clone().fetch();\n      await updateTermProperties(updatedAnnot);\n\n      this.$eventBus.$emit('editAnnotation', updatedAnnot);\n      this.$store.commit(this.imageModule + 'changeAnnotSelectedFeature', {indexFeature: 0, annot: updatedAnnot});\n    },\n\n    updateProperties() {\n      this.$store.dispatch(this.imageModule + 'refreshProperties', this.index);\n    },\n\n    handleDeletion() {\n      this.$store.commit(this.imageModule + 'addAction', {annot: this.annot, type: Action.DELETE});\n      this.$eventBus.$emit('deleteAnnotation', this.annot);\n    },\n\n    dragStop(x, y) {\n      this.positionAnnotDetails = {x, y};\n    },\n\n    async handleResize() {\n      await this.$nextTick(); // wait for update of clientWidth and clientHeight to their new values\n\n      if(this.$refs.playground) {\n        let maxX = Math.max(this.$refs.playground.clientWidth - this.width, 0);\n        let maxY = Math.max(this.$refs.playground.clientHeight - this.$refs.detailsPanel.height, 0);\n        let x = Math.min(this.positionAnnotDetails.x, maxX);\n        let y = Math.min(this.positionAnnotDetails.y, maxY);\n        this.positionAnnotDetails = {x, y};\n\n        // HACK to force the component to recreate and take into account new (x,y) ; should no longer be\n        // necessary with version 2 of vue-draggable-resizable\n        this.reload = false;\n        this.$nextTick(() => this.reload = true);\n      }\n    }\n  },\n  created() {\n    this.fetchUsers();\n    this.fetchUserJobs();\n  },\n  mounted() {\n    window.addEventListener('resize', this.handleResize);\n    this.$eventBus.$on('updateMapSize', this.handleResize);\n  },\n  destroyed() {\n    window.removeEventListener('resize', this.handleResize);\n    this.$eventBus.$off('updateMapSize', this.handleResize);\n  }\n};\n</script>\n\n<style scoped>\n.annotation-details-playground {\n  position: absolute;\n  left: 3.5rem;\n  top: 3.5rem;\n  right: 4.5rem;\n  bottom: 2em;\n  pointer-events: none; /* to allow selection of elements below it */\n  /* background: rgba(255, 255, 255, 0.2);\n  border: 2px dashed rgba(0, 0, 0, 0.5); */\n}\n\n.draggable {\n  background: #f2f2f2;\n  display: flex;\n  flex-direction: column;\n  border-radius: 5px;\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\n  pointer-events: auto;\n}\n\n.actions {\n  padding: 0.35em;\n  text-align: right;\n  background-color: #e5e5e5;\n  border-bottom: 1px solid #b5b5b5;\n  border-radius: 5px 5px 0 0;\n  display: flex;\n  align-items: center;\n}\n\nh1 {\n  font-size: 0.9rem;\n  padding: 0;\n  flex: 1;\n  text-align: left;\n  margin-left: 0.4em;\n}\n\n.actions .button {\n  margin-left: 0.25rem;\n  width: 1.75rem;\n}\n\n.annotation-details-container {\n  padding: 0.6em;\n  overflow: auto;\n  height: 100%;\n}\n</style>\n\n<style>\n.dragging .button.drag {\n  background-color: #6899d0;\n  color: #fff;\n}\n\n.annotation-details-playground .draggable {\n  z-index: 15 !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetailsContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetailsContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationDetailsContainer.vue?vue&type=template&id=6f28865f&scoped=true&\"\nimport script from \"./AnnotationDetailsContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationDetailsContainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnnotationDetailsContainer.vue?vue&type=style&index=0&id=6f28865f&scoped=true&lang=css&\"\nimport style1 from \"./AnnotationDetailsContainer.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f28865f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vl-interaction-select',{ref:\"interactionSelect\",attrs:{\"ident\":(\"select-target-\" + _vm.index),\"filter\":_vm.filterFunction,\"features\":_vm.selectedFeatures,\"toggle-condition\":_vm.never,\"remove-condition\":_vm.shiftKeyOnly,\"multi\":true},on:{\"update:features\":function($event){_vm.selectedFeatures=$event}}},[_c('vl-style-func',{attrs:{\"factory\":_vm.styleFunctionFactory}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<vl-interaction-select\n  :ident=\"`select-target-${index}`\"\n  :filter=\"filterFunction\"\n  :features.sync=\"selectedFeatures\"\n  :toggle-condition=\"never\"\n  :remove-condition=\"shiftKeyOnly\"\n  :multi=true\n  ref=\"interactionSelect\"\n>\n  <vl-style-func :factory=\"styleFunctionFactory\" />\n</vl-interaction-select>\n</template>\n\n<script>\nimport {isCluster} from '@/utils/style-utils.js';\nimport {never, shiftKeyOnly} from 'ol/events/condition';\n\nexport default {\n  name: 'select-interaction',\n  props: {\n    index: String\n  },\n  computed: {\n    imageModule() {\n      return this.$store.getters['currentProject/imageModule'](this.index);\n    },\n    imageWrapper() {\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\n    },\n    selectedFeatures: {\n      get() {\n        return this.imageWrapper.selectedFeatures.selectedFeatures;\n      },\n      set(value) {\n        //used when selecting a vertex of a feature\n        let notAnnotations = value.filter(x => !Object.keys(x).includes('id') && x.properties === null);\n        if(notAnnotations.length == 1){\n          value = notAnnotations;\n          this.$store.commit(this.imageModule + 'setSelectedFeatures', value);\n          return;\n        }\n\n        value.sort(\n          function( a, b ) {\n            if( a.properties.annot.area > b.properties.annot.area ) return 1;\n            else return -1;\n          }\n        );\n\n        let previousTarget = this.imageWrapper.selectedFeatures.selectionTargetedFeatures;\n        let previousSelectedFeature = this.imageWrapper.selectedFeatures.selectedFeatures[0];\n\n        this.$store.commit(this.imageModule + 'setSelectionTargetedFeatures', value);\n\n        //see https://github.com/cytomine/Cytomine-Web-UI/issues/13 for more details of this algorithm\n        if(this.imageWrapper.selectedFeatures.selectedFeatures.length == 0){\n          if(value.length>=1) value = [value[0]];\n        }\n        else {\n          if(value.length > 1){\n            //if previous selection is in the new target, we will take the first element not yet visited\n            if(value.map(x => x.id).includes(previousSelectedFeature.id)) {\n              var index = previousTarget.findIndex(x => x.id === previousSelectedFeature.id);\n              let visitedFeatures = previousTarget.slice(0, index + 1);\n              index = 0;\n              for(var i = 0; i < value.length; i++){\n                if(!visitedFeatures.map(x => x.id).includes(value[i].id)) {\n                  index = i;\n                  break;\n                }\n              }\n              value = [value[index]];\n            }\n            else {\n              value = [value[0]];\n            }\n          }\n        }\n\n        if(value.length>=1 && value[0].properties !== null) {\n          let annot = value[0].properties.annot;\n          annot.recordAction();\n        }\n        this.$store.commit(this.imageModule + 'setSelectedFeatures', value);\n      }\n    },\n    terms() {\n      return this.imageWrapper.style.terms || [];\n    },\n    styleFunctionFactory() {\n      this.imageWrapper.selectedFeatures.selectedFeatures;\n      this.imageWrapper.style.layersOpacity;\n      this.terms.forEach(term => {\n        term.visible;\n        term.opacity;\n      });\n      this.imageWrapper.style.displayNoTerm;\n      this.imageWrapper.style.noTermOpacity;\n      this.imageWrapper.draw.activeEditTool; // style is different in edit mode (vertices displayed)\n      this.imageWrapper.properties.selectedPropertyValues;\n      this.imageWrapper.properties.selectedPropertyColor;\n      this.imageWrapper.review.reviewMode;\n\n      return () => {\n        return this.$store.getters[this.imageModule + 'genStyleFunction'];\n      };\n    },\n    filterFunction() {\n      return feature => !isCluster(feature);\n    },\n    never() {\n      return never;\n    },\n    shiftKeyOnly() {\n      return shiftKeyOnly;\n    }\n  },\n  watch: {\n    async styleFunctionFactory() {\n      // HACK: style function is not called again when redefined => force the update of style for selected features\n      if(this.$refs.interactionSelect && this.$refs.interactionSelect.$interaction) {\n        await this.$refs.interactionSelect.$interaction.getFeatures().forEach(ft => ft.changed());\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectInteraction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectInteraction.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SelectInteraction.vue?vue&type=template&id=5a177984&\"\nimport script from \"./SelectInteraction.vue?vue&type=script&lang=js&\"\nexport * from \"./SelectInteraction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('vl-layer-vector',[_c('vl-source-vector',{ref:\"olSourceDrawTarget\",attrs:{\"ident\":_vm.drawSourceName}})],1),(_vm.nbActiveLayers > 0 || _vm.drawCorrection)?_c('vl-interaction-draw',{ref:\"olDrawInteraction\",attrs:{\"source\":_vm.drawSourceName,\"type\":_vm.drawType,\"freehand\":_vm.drawFreehand,\"freehand-condition\":undefined,\"geometry-function\":_vm.drawGeometryFunction},on:{\"drawend\":_vm.drawEndHandler}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div>\n  <vl-layer-vector>\n    <vl-source-vector :ident=\"drawSourceName\" ref=\"olSourceDrawTarget\" />\n  </vl-layer-vector>\n\n  <vl-interaction-draw\n    v-if=\"nbActiveLayers > 0 || drawCorrection\"\n    ref=\"olDrawInteraction\"\n    :source=\"drawSourceName\"\n    :type=\"drawType\"\n    :freehand=\"drawFreehand\"\n    :freehand-condition=\"undefined\"\n    :geometry-function=\"drawGeometryFunction\"\n    @drawend=\"drawEndHandler\"\n  />\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport Polygon, {fromCircle as polygonFromCircle} from 'ol/geom/Polygon';\nimport WKT from 'ol/format/WKT';\n\nimport {Annotation, AnnotationType} from 'cytomine-client';\nimport {Action} from '@/utils/annotation-utils.js';\n\nexport default {\n  name: 'draw-interaction',\n  props: {\n    index: String\n  },\n  data() {\n    return {\n      format: new WKT()\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    imageModule() {\n      return this.$store.getters['currentProject/imageModule'](this.index);\n    },\n    imageWrapper() {\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\n    },\n    rotation() {\n      return this.imageWrapper.view.rotation;\n    },\n    termsToAssociate() {\n      return this.imageWrapper.draw.termsNewAnnots;\n    },\n    image() {\n      return this.imageWrapper.imageInstance;\n    },\n    activeTool() {\n      return this.imageWrapper.draw.activeTool;\n    },\n    activeEditTool() {\n      return this.imageWrapper.draw.activeEditTool;\n    },\n    selectedFeature() {\n      return this.$store.getters[this.imageModule + 'selectedFeature'];\n    },\n    drawType() {\n      switch(this.activeTool) {\n        case 'point':\n          return 'Point';\n        case 'line':\n        case 'freehand-line':\n          return 'LineString';\n        case 'rectangle':\n        case 'circle':\n          return 'Circle';\n        case 'polygon':\n        case 'freehand-polygon':\n        case 'select': // correct mode\n          return 'Polygon';\n      }\n    },\n    drawCorrection() {\n      return this.activeTool === 'select';\n    },\n    drawFreehand() {\n      return this.activeTool === 'freehand-polygon' || this.activeTool === 'freehand-line' || this.drawCorrection;\n    },\n    drawGeometryFunction() {\n      if(this.activeTool === 'rectangle') {\n        return (coordinates, geometry) => {\n          let rotatedCoords = this.rotateCoords(coordinates, this.rotation);\n\n          let [firstCorner, thirdCorner] = rotatedCoords;\n          let secondCorner = [thirdCorner[0], firstCorner[1]];\n          let fourthCorner = [firstCorner[0], thirdCorner[1]];\n\n          let rotatedBoxCoordinates = [firstCorner, secondCorner, thirdCorner, fourthCorner, firstCorner];\n          let boxCoordinates = [this.rotateCoords(rotatedBoxCoordinates, -this.rotation)];\n\n          if(geometry) {\n            geometry.setCoordinates(boxCoordinates);\n          }\n          else {\n            geometry = new Polygon(boxCoordinates);\n          }\n          return geometry;\n        };\n      }\n      else {\n        return null;\n      }\n    },\n    layers() {\n      return this.imageWrapper.layers.selectedLayers || [];\n    },\n    activeLayers() {\n      return this.layers.filter(layer => layer.drawOn);\n    },\n    nbActiveLayers() {\n      return this.activeLayers.length;\n    },\n    drawSourceName() {\n      return `draw-target-${this.index}`;\n    }\n  },\n\n  watch: {\n    activeTool() {\n      this.$refs.olDrawInteraction.scheduleRecreate();\n    }\n  },\n\n  methods: {\n    rotateCoords(coords, theta) {\n      let cosTheta = Math.cos(theta);\n      let sinTheta = Math.sin(theta);\n      return coords.map(([x, y]) => [x*cosTheta + y*sinTheta, -x*sinTheta + y*cosTheta]);\n    },\n\n    clearDrawnFeatures() {\n      this.$refs.olSourceDrawTarget.clear(true);\n    },\n\n    async drawEndHandler({feature}) {\n      if(this.drawCorrection) {\n        await this.endCorrection(feature);\n      }\n      else if(this.nbActiveLayers > 0) {\n        await this.endDraw(feature);\n      }\n\n      this.clearDrawnFeatures();\n    },\n\n    async endDraw(drawnFeature) {\n      this.activeLayers.forEach(async (layer, idx) => {\n        let annot = new Annotation({\n          location: this.getWktLocation(drawnFeature),\n          image: this.image.id,\n          user: layer.id,\n          term: this.termsToAssociate\n        });\n\n        try {\n          await annot.save();\n          annot.userByTerm = this.termsToAssociate.map(term => ({term, user: [this.currentUser.id]}));\n          this.$eventBus.$emit('addAnnotation', annot);\n          if(idx === this.nbActiveLayers - 1) {\n            this.$eventBus.$emit('selectAnnotation', {index: this.index, annot});\n          }\n\n          this.$store.commit(this.imageModule + 'addAction', {annot, type: Action.CREATE});\n        }\n        catch(err) {\n          console.log(err);\n          this.$notify({type: 'error', text: this.$t('notif-error-annotation-creation')});\n        }\n      });\n    },\n\n    async endCorrection(feature) {\n      if(!this.selectedFeature) {\n        return;\n      }\n\n      try {\n        let annot = this.selectedFeature.properties.annot;\n        let correctedAnnot = await Annotation.correctAnnotations({\n          location: this.getWktLocation(feature),\n          review: annot.type === AnnotationType.REVIEWED,\n          remove: (this.activeEditTool === 'correct-remove'),\n          annotation: annot.id\n        });\n        if(correctedAnnot) {\n          correctedAnnot.userByTerm = annot.userByTerm; // copy terms from initial annot\n          this.$store.commit(this.imageModule + 'addAction', {annot: correctedAnnot, type: Action.UPDATE});\n          this.$eventBus.$emit('editAnnotation', correctedAnnot);\n        }\n      }\n      catch(err) {\n        console.log(err);\n        this.$notify({type: 'error', text: this.$t('notif-error-annotation-correction')});\n      }\n    },\n\n    getWktLocation(feature) {\n      // transform circle to circular polygon\n      let geometry = feature.getGeometry();\n      if (geometry.getType() === 'Circle') {\n        feature.setGeometry(polygonFromCircle(geometry));\n      }\n      return this.format.writeFeature(feature);\n    },\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawInteraction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawInteraction.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DrawInteraction.vue?vue&type=template&id=0f6dde36&\"\nimport script from \"./DrawInteraction.vue?vue&type=script&lang=js&\"\nexport * from \"./DrawInteraction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.activeEditTool === 'modify')?_c('vl-interaction-modify',{attrs:{\"source\":_vm.selectSource,\"delete-condition\":_vm.deleteCondition},on:{\"modifystart\":_vm.startEdit,\"modifyend\":_vm.endEdit}}):_vm._e(),(_vm.activeEditTool === 'translate')?_c('vl-interaction-translate',{attrs:{\"source\":_vm.selectSource},on:{\"translatestart\":_vm.startEdit,\"translateend\":_vm.endEdit}}):_vm._e(),(_vm.activeEditTool === 'rotate')?_c('vl-interaction-rotate',{attrs:{\"source\":_vm.selectSource},on:{\"rotatestart\":_vm.startEdit,\"rotateend\":_vm.endEdit}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div>\n  <vl-interaction-modify\n    v-if=\"activeEditTool === 'modify'\"\n    :source=\"selectSource\"\n    :delete-condition=\"deleteCondition\"\n    @modifystart=\"startEdit\"\n    @modifyend=\"endEdit\"\n  />\n\n  <vl-interaction-translate\n    v-if=\"activeEditTool === 'translate'\"\n    :source=\"selectSource\"\n    @translatestart=\"startEdit\"\n    @translateend=\"endEdit\"\n  />\n\n  <vl-interaction-rotate\n    v-if=\"activeEditTool === 'rotate'\"\n    :source=\"selectSource\"\n    @rotatestart=\"startEdit\"\n    @rotateend=\"endEdit\"\n  />\n</div>\n</template>\n\n<script>\nimport WKT from 'ol/format/WKT';\nimport {Action} from '@/utils/annotation-utils.js';\nimport {singleClick} from 'ol/events/condition';\n\nexport default {\n  name: 'modify-interaction',\n  props: {\n    index: String\n  },\n  data() {\n    return {\n      format: new WKT(),\n    };\n  },\n  computed: {\n    imageModule() {\n      return this.$store.getters['currentProject/imageModule'](this.index);\n    },\n    imageWrapper() {\n      return this.$store.getters['currentProject/currentViewer'].images[this.index];\n    },\n    image() {\n      return this.imageWrapper.imageInstance;\n    },\n    selectSource() {\n      return `select-target-${this.index}`;\n    },\n    activeEditTool() {\n      return this.imageWrapper.draw.activeEditTool;\n    },\n    ongoingEdit: {\n      get() {\n        return this.imageWrapper.draw.ongoingEdit;\n      },\n      set(value) {\n        this.$store.commit(this.imageModule + 'setOngoingEdit', value);\n      }\n    },\n    deleteCondition() {\n      return function(mapBrowserEvent) {\n        return mapBrowserEvent.originalEvent.ctrlKey && singleClick(mapBrowserEvent);\n      };\n    }\n  },\n  methods: {\n    startEdit() {\n      this.ongoingEdit = true;\n    },\n    async endEdit({features}) {\n      features.forEach(async feature => {\n        if(!feature.get('annot')) {\n          return;\n        }\n\n        let annot = feature.get('annot').clone();\n        let oldLocation = annot.location;\n        try {\n          annot.location = this.format.writeFeature(feature);\n          annot.terms = annot.term; // HACK for reviewed annotation (unconsistent behaviour)\n          await annot.save();\n          this.$eventBus.$emit('editAnnotation', annot);\n          this.$store.commit(this.imageModule + 'addAction', {annot, type: Action.UPDATE});\n        }\n        catch(err) {\n          console.log(err);\n          this.$notify({type: 'error', text: this.$t('notif-error-annotation-update')});\n          annot.location = oldLocation;\n          feature.setGeometry(this.format.readGeometry(annot.location));\n        }\n      });\n      this.ongoingEdit = false;\n    },\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifyInteraction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifyInteraction.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModifyInteraction.vue?vue&type=template&id=5bd2dad2&\"\nimport script from \"./ModifyInteraction.vue?vue&type=script&lang=js&\"\nexport * from \"./ModifyInteraction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n/* eslint no-undef: 0 */\n\n/* Sources:\n * https://www.dfstudios.co.uk/articles/programming/image-programming-algorithms/\n * https://stackoverflow.com/a/8510751\n * http://alienryderflex.com/saturation.html\n */\n\nfunction computeContrastFactorFunc(contrast) {\n  return 259 * (contrast + 255) / 255 / (259 - contrast);\n}\n\nfunction computeHueMatrixFunc(hue) {\n  let angle = hue*Math.PI/180;\n  let cosA = Math.cos(angle);\n  let sinA = Math.sin(angle);\n  let sqrtThird = Math.sqrt(1/3);\n  let hueMatrix = [\n    [\n      cosA + (1 - cosA) / 3,\n      1/3 * (1 - cosA) - sqrtThird * sinA,\n      1/3 * (1 - cosA) + sqrtThird * sinA\n    ],\n    [\n      1/3 * (1 - cosA) + sqrtThird * sinA,\n      cosA + 1/3*(1 - cosA),\n      1/3 * (1 - cosA) - sqrtThird * sinA\n    ],\n    [\n      1/3 * (1 - cosA) - sqrtThird * sinA,\n      1/3 * (1 - cosA) + sqrtThird * sinA,\n      cosA + 1/3 * (1 - cosA)\n    ]\n  ];\n  return hueMatrix;\n}\n\nfunction truncatePixelValueFunc(val) {\n  return val < 0 ? 0 : val > 255 ? 255 : val;\n}\n\nfunction changeBrightnessContrastFunc(pixel) {\n  for(let i = 0; i < 3; i++) {\n    let newVal = truncatePixelValue(contrastFactor*(pixel[i] - 128) + 128) + brightness;\n    pixel[i] = truncatePixelValue(newVal);\n  }\n}\n\nfunction changeSaturationFunc(pixel) {\n  let r = pixel[0];\n  let g = pixel[1];\n  let b = pixel[2];\n\n  let saturationConstant = Math.sqrt(r*r*Pr + g*g*Pg + b*b*Pb);\n\n  for(let i = 0; i < 3; i++) {\n    let newVal = saturationConstant + (pixel[i] - saturationConstant)*(1+saturation/100);\n    pixel[i] = truncatePixelValue(newVal);\n  }\n}\n\nfunction changeHueFunc(pixel) {\n  let r = pixel[0];\n  let g = pixel[1];\n  let b = pixel[2];\n\n  for(let i = 0; i < 3; i++) {\n    let newVal = hueMatrix[i][0]*r + hueMatrix[i][1]*g + hueMatrix[i][2]*b;\n    pixel[i] = truncatePixelValue(newVal);\n  }\n}\n\nexport let constLib = {\n  Pr: 0.299,\n  Pg: 0.587,\n  Pb: 0.114,\n\n  truncatePixelValue: truncatePixelValueFunc,\n  changeBrightnessContrast: changeBrightnessContrastFunc,\n  changeSaturation: changeSaturationFunc,\n  changeHue: changeHueFunc,\n\n  computeContrastFactor: computeContrastFactorFunc,\n  computeHueMatrix: computeHueMatrixFunc,\n  contrastFactor: -1,\n  hueMatrix: -1,\n};\n\nexport function operation(pixels) {\n  let pixel = pixels[0];\n\n  if(brightness !== 0 || contrast !== 0) {\n    if(contrastFactor === -1) {\n      contrastFactor = computeContrastFactor(contrast);\n    }\n    changeBrightnessContrast(pixel);\n  }\n\n  if(saturation !== 0) {\n    changeSaturation(pixel);\n  }\n\n  if(hue !== 0) {\n    if(hueMatrix === -1) {\n      hueMatrix = computeHueMatrix(hue);\n    }\n    changeHue(pixel);\n  }\n\n  return pixel;\n}\n","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"map-container\" @click=\"isActiveImage = true\" ref=\"container\">\n  <template v-if=\"!loading && zoom !== null\">\n    <vl-map\n      :data-projection=\"projectionName\"\n      :load-tiles-while-animating=\"true\"\n      :load-tiles-while-interacting=\"true\"\n      :keyboard-event-target=\"document\"\n      @pointermove=\"projectedMousePosition = $event.coordinate\"\n      @mounted=\"updateKeyboardInteractions\"\n      ref=\"map\"\n    >\n\n      <vl-view\n        :center.sync=\"center\"\n        :zoom.sync=\"zoom\"\n        :rotation.sync=\"rotation\"\n        :max-zoom=\"maxZoom\"\n        :max-resolution=\"Math.pow(2, image.depth)\"\n        :extent=\"extent\"\n        :projection=\"projectionName\"\n        @mounted=\"viewMounted()\"\n        ref=\"view\"\n      />\n\n      <vl-layer-tile :extent=\"extent\" @mounted=\"addOverviewMap\" ref=\"baseLayer\">\n        <vl-source-zoomify\n          :projection=\"projectionName\"\n          :urls=\"baseLayerURLs\"\n          :size=\"imageSize\"\n          :extent=\"extent\"\n          crossOrigin=\"Anonymous\"\n          ref=\"baseSource\"\n          @mounted=\"setBaseSource()\"\n        />\n      </vl-layer-tile>\n\n      <vl-layer-image>\n        <vl-source-raster\n          v-if=\"baseSource && colorManipulationOn\"\n          :sources=\"[baseSource]\"\n          :operation=\"operation\"\n          :lib=\"lib\"\n        />\n      </vl-layer-image>\n\n      <annotation-layer\n        v-for=\"layer in selectedLayers\"\n        :key=\"'layer-'+layer.id\"\n        :index=\"index\"\n        :layer=\"layer\"\n      />\n\n      <select-interaction v-if=\"activeSelectInteraction\" :index=\"index\" />\n      <draw-interaction v-if=\"activeDrawInteraction\" :index=\"index\" />\n      <modify-interaction v-if=\"activeModifyInteraction\" :index=\"index\" />\n\n    </vl-map>\n\n    <div v-if=\"configUI['project-tools-main']\" class=\"draw-tools\">\n      <draw-tools :index=\"index\" />\n    </div>\n\n    <div class=\"panels\">\n      <ul>\n        <li>\n          <a @click=\"$emit('close')\" class=\"close\">\n            <i class=\"fas fa-times-circle\"></i>\n          </a>\n        </li>\n\n        <template v-if=\"isPanelDisplayed('hide-tools')\">\n          <li v-if=\"isPanelDisplayed('info')\">\n            <a @click=\"togglePanel('info')\" :class=\"{active: activePanel === 'info'}\">\n              <i class=\"fas fa-info\"></i>\n            </a>\n            <information-panel class=\"panel-options\" v-show=\"activePanel === 'info'\" :index=\"index\" />\n          </li>\n\n          <li v-if=\"isPanelDisplayed('digital-zoom')\">\n            <a @click=\"togglePanel('digital-zoom')\" :class=\"{active: activePanel === 'digital-zoom'}\">\n              <i class=\"fas fa-search\"></i>\n            </a>\n            <digital-zoom class=\"panel-options\" v-show=\"activePanel === 'digital-zoom'\" :index=\"index\" />\n          </li>\n\n          <li v-if=\"isPanelDisplayed('link') && nbImages > 1\">\n            <a @click=\"togglePanel('link')\" :class=\"{active: activePanel === 'link'}\">\n              <i class=\"fas fa-link\"></i>\n            </a>\n            <link-panel class=\"panel-options\" v-show=\"activePanel === 'link'\" :index=\"index\" />\n          </li>\n\n          <li v-if=\"isPanelDisplayed('color-manipulation')\">\n            <a @click=\"togglePanel('colors')\" :class=\"{active: activePanel === 'colors'}\">\n              <i class=\"fas fa-adjust\"></i>\n            </a>\n            <color-manipulation class=\"panel-options\" v-show=\"activePanel === 'colors'\" :index=\"index\" />\n          </li>\n\n          <li v-if=\"isPanelDisplayed('image-layers')\">\n            <a @click=\"togglePanel('layers')\" :class=\"{active: activePanel === 'layers'}\">\n              <i class=\"fas fa-copy\"></i>\n            </a>\n            <layers-panel class=\"panel-options\" v-show=\"activePanel === 'layers'\"\n              :index=\"index\" :layers-to-preload=\"layersToPreload\"\n            />\n          </li>\n\n          <li v-if=\"isPanelDisplayed('ontology') && terms && terms.length > 0\">\n            <a @click=\"togglePanel('ontology')\" :class=\"{active: activePanel === 'ontology'}\">\n              <i class=\"fas fa-hashtag\"></i>\n            </a>\n            <ontology-panel class=\"panel-options\" v-show=\"activePanel === 'ontology'\" :index=\"index\" />\n          </li>\n\n          <li  v-if=\"isPanelDisplayed('property')\">\n            <a @click=\"togglePanel('properties')\" :class=\"{active: activePanel === 'properties'}\">\n              <i class=\"fas fa-tag\"></i>\n            </a>\n            <properties-panel class=\"panel-options\" v-show=\"activePanel === 'properties'\" :index=\"index\" />\n          </li>\n\n          <li v-if=\"isPanelDisplayed('follow')\">\n            <a @click=\"togglePanel('follow')\" :class=\"{active: activePanel === 'follow'}\">\n              <i class=\"fas fa-street-view\"></i>\n            </a>\n            <follow-panel class=\"panel-options\" v-show=\"activePanel === 'follow'\" :index=\"index\" :view=\"$refs.view\" />\n          </li>\n\n          <li v-if=\"isPanelDisplayed('review') && canEdit\">\n            <a @click=\"togglePanel('review')\" :class=\"{active: activePanel === 'review'}\">\n              <i class=\"fas fa-check-circle\"></i>\n            </a>\n            <review-panel class=\"panel-options\" v-show=\"activePanel === 'review'\" :index=\"index\" />\n          </li>\n        </template>\n      </ul>\n    </div>\n\n    <div class=\"broadcast\" v-if=\"imageWrapper.tracking.broadcast\">\n      <i class=\"fas fa-circle\"></i> {{$t('live')}}\n    </div>\n\n    <rotation-selector class=\"rotation-selector-wrapper\" :index=\"index\" />\n\n    <scale-line :image=\"image\" :zoom=\"zoom\" :mousePosition=\"projectedMousePosition\" />\n\n    <annotation-details-container v-if=\"isPanelDisplayed('annotation-main')\" :index=\"index\" :view=\"$refs.view\" />\n\n    <div class=\"custom-overview\" ref=\"overview\">\n      <p class=\"image-name\" :class=\"{hidden: overviewCollapsed}\">\n        <image-name :image=\"image\" />\n      </p>\n    </div>\n  </template>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\nimport _ from 'lodash';\n\nimport ImageName from '@/components/image/ImageName';\nimport AnnotationLayer from './AnnotationLayer';\nimport RotationSelector from './RotationSelector';\nimport ScaleLine from './ScaleLine';\nimport DrawTools from './DrawTools';\n\nimport InformationPanel from './panels/InformationPanel';\nimport DigitalZoom from './panels/DigitalZoom';\nimport ColorManipulation from './panels/ColorManipulation';\nimport LinkPanel from './panels/LinkPanel';\nimport LayersPanel from './panels/LayersPanel';\nimport OntologyPanel from './panels/OntologyPanel';\nimport PropertiesPanel from './panels/PropertiesPanel';\nimport FollowPanel from './panels/FollowPanel';\nimport ReviewPanel from './panels/ReviewPanel';\n\nimport AnnotationDetailsContainer from './AnnotationDetailsContainer';\n\nimport SelectInteraction from './interactions/SelectInteraction';\nimport DrawInteraction from './interactions/DrawInteraction';\nimport ModifyInteraction from './interactions/ModifyInteraction';\n\nimport {addProj, createProj, getProj} from 'vuelayers/lib/ol-ext';\n\nimport View from 'ol/View';\nimport OverviewMap from 'ol/control/OverviewMap';\nimport {KeyboardPan, KeyboardZoom} from 'ol/interaction';\nimport {noModifierKeys, targetNotEditable} from 'ol/events/condition';\nimport WKT from 'ol/format/WKT';\n\nimport {ImageConsultation, Annotation, AnnotationType, UserPosition} from 'cytomine-client';\n\nimport {constLib, operation} from '@/utils/color-manipulation.js';\n\nimport constants from '@/utils/constants.js';\n\nexport default {\n  name: 'cytomine-image',\n  props: {\n    index: String\n  },\n  components: {\n    ImageName,\n\n    AnnotationLayer,\n\n    RotationSelector,\n    ScaleLine,\n    DrawTools,\n\n    AnnotationDetailsContainer,\n\n    InformationPanel,\n    DigitalZoom,\n    ColorManipulation,\n    LinkPanel,\n    LayersPanel,\n    OntologyPanel,\n    PropertiesPanel,\n    FollowPanel,\n    ReviewPanel,\n\n    SelectInteraction,\n    DrawInteraction,\n    ModifyInteraction\n  },\n  data() {\n    return {\n      minZoom: 0,\n\n      projectedMousePosition: [0, 0],\n\n      baseSource: null,\n      routedAnnotation: null,\n\n      timeoutSavePosition: null,\n\n      loading: true,\n\n      overview: null\n    };\n  },\n  computed: {\n    document() {\n      return document;\n    },\n    routedAction() {\n      return this.$route.query.action;\n    },\n    configUI: get('currentProject/configUI'),\n    viewerModule() {\n      return this.$store.getters['currentProject/currentViewerModule'];\n    },\n    imageModule() {\n      return this.$store.getters['currentProject/imageModule'](this.index);\n    },\n    viewerWrapper() {\n      return this.$store.getters['currentProject/currentViewer'];\n    },\n    nbImages() {\n      return Object.keys(this.viewerWrapper.images).length;\n    },\n    imageWrapper() {\n      return this.viewerWrapper.images[this.index];\n    },\n    image() {\n      return this.imageWrapper.imageInstance;\n    },\n    canEdit() {\n      return this.$store.getters['currentProject/canEditImage'](this.image);\n    },\n    projectionName() {\n      return `CYTO-${this.image.id}`;\n    },\n    terms() {\n      return this.$store.getters['currentProject/terms'];\n    },\n    selectedLayers() {\n      return this.imageWrapper.layers.selectedLayers || [];\n    },\n    isActiveImage: {\n      get() {\n        return this.viewerWrapper.activeImage === this.index;\n      },\n      set(value) {\n        if(value) {\n          if(this.viewerWrapper) {\n            this.$store.commit(this.viewerModule + 'setActiveImage', this.index);\n          }\n        }\n        else {\n          throw new Error('Cannot unset active map');\n        }\n      }\n    },\n    activePanel() {\n      return this.imageWrapper.activePanel;\n    },\n    activeTool() {\n      return this.imageWrapper.draw.activeTool;\n    },\n    activeEditTool() {\n      return this.imageWrapper.draw.activeEditTool;\n    },\n    maxZoom() {\n      return this.$store.getters[this.imageModule + 'maxZoom'];\n    },\n\n    center: {\n      get() {\n        return this.imageWrapper.view.center;\n      },\n      set(value) {\n        this.$store.dispatch(this.viewerModule + 'setCenter', {index: this.index, center: value});\n      }\n    },\n    zoom: {\n      get() {\n        return this.imageWrapper.view.zoom;\n      },\n      set(value) {\n        this.$store.dispatch(this.viewerModule + 'setZoom', {index: this.index, zoom: Number(value)});\n      }\n    },\n    rotation: {\n      get() {\n        return this.imageWrapper.view.rotation;\n      },\n      set(value) {\n        this.$store.dispatch(this.viewerModule + 'setRotation', {index: this.index, rotation: Number(value)});\n      }\n    },\n\n    viewState() {\n      return {center: this.center, zoom: this.zoom, rotation: this.rotation};\n    },\n\n    extent() {\n      return [0, 0, this.image.width, this.image.height];\n    },\n    imageSize() {\n      return [this.image.width, this.image.height];\n    },\n\n    baseLayerURLs() {\n      let filterPrefix = this.imageWrapper.colors.filter || '';\n      let params = `&tileGroup={TileGroup}&x={x}&y={y}&z={z}&channels=0&layer=0&timeframe=0&mimeType=${this.image.mime}`;\n      return this.image.imageServerURLs.map(url => filterPrefix + url + params);\n    },\n\n    colorManipulationOn() {\n      return this.imageWrapper.colors.brightness !== 0 || this.imageWrapper.colors.contrast !== 0\n                || this.imageWrapper.colors.hue !== 0 || this.imageWrapper.colors.saturation !== 0;\n    },\n    operation() {\n      return operation;\n    },\n    lib() {\n      return {\n        ...constLib,\n        brightness: this.imageWrapper.colors.brightness,\n        contrast: this.imageWrapper.colors.contrast,\n        saturation: this.imageWrapper.colors.saturation,\n        hue: this.imageWrapper.colors.hue\n      };\n    },\n\n    layersToPreload() {\n      let layers = [];\n      if(this.routedAnnotation) {\n        layers.push(this.routedAnnotation.type === AnnotationType.REVIEWED ? -1 : this.routedAnnotation.user);\n      }\n      if(this.routedAction === 'review' && !layers.includes(-1)) {\n        layers.push(-1);\n      }\n      return layers;\n    },\n\n    overviewCollapsed() {\n      return this.overview ? this.overview.getCollapsed() : this.imageWrapper.view.overviewCollapsed;\n    },\n\n    correction() {\n      return ['correct-add', 'correct-remove'].includes(this.activeEditTool);\n    },\n    activeSelectInteraction() {\n      return this.activeTool === 'select';\n    },\n    activeDrawInteraction() {\n      return !this.activeSelectInteraction || this.correction;\n    },\n    activeModifyInteraction() {\n      return this.activeSelectInteraction && this.activeEditTool && !this.correction;\n    }\n  },\n  watch: {\n    viewState() {\n      this.savePosition();\n    },\n    overviewCollapsed(value) {\n      this.$store.commit(this.imageModule + 'setOverviewCollapsed', value);\n    }\n  },\n  methods: {\n    setInitialZoom() {\n      if(this.zoom !== null) {\n        return; // not the first time the viewer is opened => zoom was already initialized\n      }\n\n      let container = this.$refs.container;\n      let mapWidth = this.image.width;\n      let mapHeight = this.image.height;\n      let idealZoom = this.image.depth;\n      while(mapWidth > container.clientWidth || mapHeight > container.clientHeight) {\n        mapWidth /= 2;\n        mapHeight /= 2;\n        idealZoom --;\n      }\n      this.zoom = idealZoom;\n    },\n\n    async updateMapSize() {\n      await this.$nextTick();\n      if(this.$refs.map) {\n        this.$refs.map.updateSize();\n      }\n    },\n\n    async updateKeyboardInteractions() {\n      await this.$refs.map.$createPromise; // wait for ol.Map to be created\n\n      this.$refs.map.$map.getInteractions().forEach(interaction => {\n        if(interaction instanceof KeyboardPan || interaction instanceof KeyboardZoom) {\n          interaction.condition_ = (mapBrowserEvent) => {\n            return noModifierKeys(mapBrowserEvent)\n              && targetNotEditable(mapBrowserEvent)\n              && this.isActiveImage\n              && !mapBrowserEvent.originalEvent.target.classList.contains('ql-editor');\n          };\n        }\n      });\n    },\n\n    async viewMounted() {\n      await this.$refs.view.$createPromise; // wait for ol.View to be created\n\n      if(this.routedAnnotation) { // center view on annotation\n        let annot = this.routedAnnotation;\n        let geometry = new WKT().readGeometry(annot.location);\n        this.$refs.view.fit(geometry, {padding: [10, 10, 10, 10], maxZoom: this.image.depth});\n\n        // HACK: center set by view.fit() is incorrect => reset it manually\n        this.center = (geometry.getType() === 'Point') ? geometry.getFirstCoordinate()\n          : [annot.centroid.x, annot.centroid.y];\n        // ---\n      }\n\n      this.savePosition();\n    },\n\n    async setBaseSource() {\n      await this.$refs.baseSource.$createPromise;\n      this.baseSource = this.$refs.baseSource.$source;\n    },\n\n    async addOverviewMap() {\n      if(!this.isPanelDisplayed('overview')) {\n        return;\n      }\n\n      await this.$refs.map.$createPromise; // wait for ol.Map to be created\n      await this.$refs.baseLayer.$createPromise; // wait for ol.Layer to be created\n\n      this.overview = new OverviewMap({\n        view: new View({projection: this.projectionName}),\n        layers: [this.$refs.baseLayer.$layer],\n        tipLabel: this.$t('overview'),\n        target: this.$refs.overview,\n        collapsed: this.imageWrapper.view.overviewCollapsed\n      });\n      this.$refs.map.$map.addControl(this.overview);\n    },\n\n    toggleOverview() {\n      if (this.overview) {\n        this.overview.setCollapsed(!this.imageWrapper.view.overviewCollapsed);\n      }\n    },\n\n    togglePanel(panel) {\n      this.$store.commit(this.imageModule + 'togglePanel', panel);\n    },\n\n    savePosition: _.debounce(async function() {\n      if(this.$refs.view) {\n        let extent = this.$refs.view.$view.calculateExtent(); // [minX, minY, maxX, maxY]\n\n        try {\n          await UserPosition.create({\n            image: this.image.id,\n            zoom: this.zoom,\n            rotation: this.rotation,\n            bottomLeftX: Math.round(extent[0]),\n            bottomLeftY: Math.round(extent[1]),\n            bottomRightX: Math.round(extent[2]),\n            bottomRightY: Math.round(extent[1]),\n            topLeftX: Math.round(extent[0]),\n            topLeftY: Math.round(extent[3]),\n            topRightX: Math.round(extent[2]),\n            topRightY: Math.round(extent[3]),\n            broadcast: this.imageWrapper.tracking.broadcast\n          });\n        }\n        catch(error) {\n          console.log(error);\n          this.$notify({type: 'error', text: this.$t('notif-error-save-user-position')});\n        }\n\n        clearTimeout(this.timeoutSavePosition);\n        this.timeoutSavePosition = setTimeout(this.savePosition, constants.SAVE_POSITION_IN_IMAGE_INTERVAL);\n      }\n    }, 500),\n\n    isPanelDisplayed(panel) {\n      return this.configUI[`project-explore-${panel}`];\n    },\n    shortkeyHandler(key) {\n      if(!this.isActiveImage) { // shortkey should only be applied to active map\n        return;\n      }\n\n      switch(key) {\n        case 'toggle-information':\n          if (this.isPanelDisplayed('info')){\n            this.togglePanel('info');\n          }\n          return;\n        case 'toggle-zoom':\n          if (this.isPanelDisplayed('digital-zoom')) {\n            this.togglePanel('digital-zoom');\n          }\n          return;\n        case 'toggle-link':\n          if (this.isPanelDisplayed('link') && this.nbImages > 1) {\n            this.togglePanel('link');\n          }\n          return;\n        case 'toggle-filters':\n          if (this.isPanelDisplayed('color-manipulation')) {\n            this.togglePanel('colors');\n          }\n          return;\n        case 'toggle-layers':\n          if (this.isPanelDisplayed('image-layers')) {\n            this.togglePanel('layers');\n          }\n          return;\n        case 'toggle-ontology':\n          if (this.isPanelDisplayed('ontology') && this.terms && this.terms.length > 0) {\n            this.togglePanel('ontology');\n          }\n          return;\n        case 'toggle-properties':\n          if (this.isPanelDisplayed('property')) {\n            this.togglePanel('properties');\n          }\n          return;\n        case 'toggle-broadcast':\n          if (this.isPanelDisplayed('follow')) {\n            this.togglePanel('follow');\n          }\n          return;\n        case 'toggle-review':\n          if (this.isPanelDisplayed('review') && this.canEdit) {\n            this.togglePanel('review');\n          }\n          return;\n        case 'toggle-overview':\n          if (this.isPanelDisplayed('overview')) {\n            this.toggleOverview();\n          }\n          return;\n      }\n    }\n  },\n  async created() {\n    if(!getProj(this.projectionName)) { // if image opened for the first time\n      let projection = createProj({code: this.projectionName, units: 'pixels', extent: this.extent});\n      addProj(projection);\n    }\n\n    if(this.routedAction === 'review') {\n      this.togglePanel('review');\n      if(!this.image.inReview) {\n        try {\n          let clone = await this.image.clone().review();\n          this.$store.commit(this.imageModule + 'setImageInstance', clone);\n        }\n        catch(error) {\n          console.log(error);\n          this.$notify({type: 'error', text: this.$t('notif-error-start-review')});\n        }\n      }\n      this.$store.commit(this.imageModule + 'setReviewMode', true);\n    }\n\n    // remove all selected features in order to reselect them when they will be added to the map (otherwise,\n    // issue with the select interaction)\n    this.selectedLayers.forEach(layer => {\n      this.$store.commit(this.imageModule + 'removeLayerFromSelectedFeatures', {layer, cache: true});\n    });\n\n    let idRoutedAnnot = this.$route.params.idAnnotation;\n    if(idRoutedAnnot) {\n      try {\n        let annot = await Annotation.fetch(idRoutedAnnot);\n        if(annot.image === this.image.id) {\n          this.routedAnnotation = annot;\n          if(this.routedAction === 'comments') {\n            this.$store.commit(this.imageModule + 'setShowComments', annot);\n          }\n          this.$store.commit(this.imageModule + 'setAnnotToSelect', annot);\n        }\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-target-annotation')});\n      }\n    }\n\n    try {\n      await new ImageConsultation({image: this.image.id}).save();\n    }\n    catch(error) {\n      console.log(error);\n      this.$notify({type: 'error', text: this.$t('notif-error-save-image-consultation')});\n    }\n\n    this.loading = false;\n  },\n  mounted() {\n    this.$eventBus.$on('updateMapSize', this.updateMapSize);\n    this.$eventBus.$on('shortkeyEvent', this.shortkeyHandler);\n    this.setInitialZoom();\n  },\n  beforeDestroy() {\n    this.$eventBus.$off('updateMapSize', this.updateMapSize);\n    this.$eventBus.$off('shortkeyEvent', this.shortkeyHandler);\n    clearTimeout(this.timeoutSavePosition);\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import '~vuelayers/lib/style.css';\n\n$backgroundPanelBar: #555;\n$widthPanelBar: 2.8rem;\n$backgroundPanel: #f2f2f2;\n$colorPanelLink: #eee;\n$colorHoverPanelLink: white;\n$colorBorderPanelLink: #222;\n$colorOpenedPanelLink: #6c95c8;\n\n.map-container {\n  display:flex;\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n\n.map {\n  flex-grow: 1;\n}\n\n.draw-tools {\n  position: absolute;\n  top: 0.7em;\n  left: 3.5rem;\n  right: $widthPanelBar;\n  z-index: 10;\n}\n\n.broadcast {\n  position: absolute;\n  right: 4.5rem;\n  top: 0.7em;\n  text-transform: uppercase;\n  font-weight: 600;\n  background-color: #EE4242;\n  color: white;\n  padding: 0.25em 0.75em 0.25em 0.55em;\n  border-radius: 5px;\n  border: 2px solid white;\n\n  i.fas {\n    margin-right: 0.3em;\n  }\n}\n\n.panels {\n  background: $backgroundPanelBar;\n  display: flex;\n  font-size: 0.9em;\n\n  > ul {\n    padding: 0;\n    margin: 0;\n\n    > li {\n      position: relative;\n\n      > a {\n        position: relative;\n        display: block;\n        width: $widthPanelBar;\n        padding: 0.35rem 0.8rem;\n        font-size: 1.25rem;\n        color: $colorPanelLink;\n        border-bottom: 1px solid $colorBorderPanelLink;\n        text-decoration: none;\n        text-align:center;\n\n        &:hover {\n          color: $colorHoverPanelLink;\n        }\n\n        &.active {\n          background: $backgroundPanel;\n          color: $colorOpenedPanelLink;\n        }\n\n        &.close {\n          color: #ffc4c4;\n          :hover {\n            color: #ff7070;\n          }\n        }\n      }\n    }\n  }\n}\n\n.panel-options {\n  position: absolute;\n  bottom: -1.75em;\n  right: $widthPanelBar;\n  width: 24em;\n  min-height: 10em;\n  background: $backgroundPanel;\n  padding: 0.75em;\n  border-radius: 5px 0 0 5px;\n  z-index: 100;\n\n  h1 {\n    font-size: 1.1rem;\n    padding-top: 0.3rem !important;\n    padding-bottom: 1rem !important;\n  }\n\n  table {\n    background: none;\n    width: 100%;\n  }\n}\n\n.panels li:nth-child(-n+7) .panel-options {\n  bottom: -7.5em;\n  min-height: 13em;\n}\n\n.panels li:nth-child(-n+3) .panel-options {\n  top: -1.75em;\n  bottom: auto;\n  min-height: 7.5em;\n}\n\n.panels li:nth-child(4) .panel-options {\n  top: -5.5em;\n  bottom: auto;\n}\n\n/* ----- CUSTOM STYLE FOR OL CONTROLS ----- */\n\n.ol-zoom, .ol-rotate {\n  background: none !important;\n}\n\n.ol-rotate:not(.custom) {\n  display: none;\n}\n\n.ol-control button {\n  background: white !important;\n  color: black !important;\n  border-radius: 2px !important;\n  box-shadow: 0 0 1px #777;\n\n  &:hover {\n    box-shadow: 0 0 1px black;\n    cursor: pointer;\n  }\n}\n\n.ol-zoom-in {\n  margin-bottom: 5px !important;\n}\n\n/* ----- Rotation selector ----- */\n.rotation-selector-wrapper {\n  position: absolute;\n  left: .5em;\n  top: 5rem;\n}\n\n.custom-overview {\n  position: absolute;\n  bottom: 0.5em;\n  left: 0.5em;\n  background: rgba(255, 255, 255, 0.8);\n  display: flex;\n  flex-direction: column;\n  border-radius: 4px;\n\n  .ol-overviewmap {\n    position: static;\n    background: none;\n  }\n\n  .ol-overviewmap:not(.ol-collapsed) button {\n    bottom: 2px !important;\n  }\n\n  .image-name {\n    font-size: 0.8em;\n    padding: 2px 5px;\n    width: 158px;\n    word-wrap: break-word;\n\n    &.hidden {\n      display: none;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineImage.vue?vue&type=template&id=39cd3244&\"\nimport script from \"./CytomineImage.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineImage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineImage.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.imageSelectorEnabled),expression:\"imageSelectorEnabled\"}],staticClass:\"image-selector-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[_c('div',{staticClass:\"header\"},[_c('b-input',{staticClass:\"search-images\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('button',{staticClass:\"delete\",on:{\"click\":function($event){_vm.imageSelectorEnabled = false}}})],1),(_vm.error)?_c('div',{staticClass:\"content-wrapper\"},[_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])])],1):_c('div',{staticClass:\"image-selector\"},[_vm._l((_vm.displayedImages),function(image){return _c('div',{key:image.id,staticClass:\"card\"},[_c('a',{staticClass:\"card-image\",style:('background-image: url(' + image.preview + ')'),on:{\"click\":function($event){return _vm.addImage(image)}}}),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('a',{on:{\"click\":function($event){return _vm.addImage(image)}}},[_c('image-name',{attrs:{\"image\":image}})],1)])])])}),(_vm.nbImagesDisplayed < _vm.filteredImages.length)?_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.more()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-more'))+\" \")]):_vm._e(),_c('div',{staticClass:\"space\"})],2)]:_vm._e()],2),_c('a',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.$t('add-image'), placement: 'left'}),expression:\"{content: $t('add-image'), placement: 'left'}\"}],staticClass:\"image-selector-button\",on:{\"click\":function($event){_vm.imageSelectorEnabled = true}}},[_c('i',{staticClass:\"fas fa-plus\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div>\n  <div class=\"image-selector-wrapper\" v-show=\"imageSelectorEnabled\">\n    <b-loading :is-full-page=\"false\" :active=\"loading\" />\n    <template v-if=\"!loading\">\n      <div class=\"header\">\n        <b-input class=\"search-images\" v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\"\n          type=\"search\" icon=\"search\"\n        />\n        <button class=\"delete\" @click=\"imageSelectorEnabled = false\"></button>\n      </div>\n      <div class=\"content-wrapper\" v-if=\"error\">\n        <b-message type=\"is-danger\" has-icon icon-size=\"is-small\">\n          <h2> {{ $t('error') }} </h2>\n          <p> {{ $t('unexpected-error-info-message') }} </p>\n        </b-message>\n      </div>\n      <div v-else class=\"image-selector\">\n        <div class=\"card\" v-for=\"image in displayedImages\" :key=\"image.id\">\n          <a class=\"card-image\" @click=\"addImage(image)\" :style=\"'background-image: url(' + image.preview + ')'\"></a>\n          <div class=\"card-content\">\n            <div class=\"content\">\n              <a @click=\"addImage(image)\">\n                <image-name :image=\"image\" />\n              </a>\n            </div>\n          </div>\n        </div>\n\n        <button class=\"button\" v-if=\"nbImagesDisplayed < filteredImages.length\" @click=\"more()\">\n          {{$t('button-more')}}\n        </button>\n\n        <div class=\"space\">&nbsp;</div>\n      </div>\n    </template>\n  </div>\n\n  <a\n    class=\"image-selector-button\"\n    @click=\"imageSelectorEnabled = true\"\n    v-tooltip=\"{content: $t('add-image'), placement: 'left'}\"\n  >\n    <i class=\"fas fa-plus\"></i>\n  </a>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport ImageName from '@/components/image/ImageName';\nimport {ImageInstanceCollection} from 'cytomine-client';\nimport {getWildcardRegexp} from '@/utils/string-utils';\n\nexport default {\n  name: 'image-selector',\n  components: {ImageName},\n  data() {\n    return {\n      images: [],\n      searchString: '',\n      nbImagesDisplayed: 20,\n      loading: true,\n      error: false\n    };\n  },\n  computed: {\n    project: get('currentProject/project'),\n    viewerModule() {\n      return this.$store.getters['currentProject/currentViewerModule'];\n    },\n    imageSelectorEnabled: {\n      get() {\n        return this.$store.getters['currentProject/currentViewer'].imageSelector;\n      },\n      set(value) {\n        this.$store.commit(this.viewerModule + 'setImageSelector', value);\n      }\n    },\n    filteredImages() { // TODO: in backend\n      let filtered = this.images;\n\n      if(this.searchString) {\n        let regexp = getWildcardRegexp(this.searchString);\n        filtered =  filtered.filter(image => regexp.test(image.instanceFilename));\n      }\n\n      return filtered;\n    },\n    displayedImages() {\n      return this.filteredImages.slice(0, this.nbImagesDisplayed);\n    }\n  },\n  methods: {\n    async addImage(image) {\n      try {\n        await image.fetch(); // refetch image to ensure we have latest version\n        await this.$store.dispatch(this.viewerModule + 'addImage', image);\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-add-viewer-image')});\n      }\n    },\n\n    more() {\n      this.nbImagesDisplayed += 20;\n    },\n\n    toggle() {\n      this.imageSelectorEnabled = !this.imageSelectorEnabled;\n    },\n\n    shortkeyHandler(key) {\n      if (key === 'toggle-add-image') {\n        this.toggle();\n      }\n    }\n  },\n  async created() {\n    try {\n      this.images = (await ImageInstanceCollection.fetchAll({\n        filterKey: 'project',\n        filterValue: this.project.id\n      })).array; // TODO: should not load full array, should be done with backend\n    }\n    catch(error) {\n      console.log(error);\n      this.error = true;\n    }\n    this.loading = false;\n  },\n  mounted() {\n    this.$eventBus.$on('shortkeyEvent', this.shortkeyHandler);\n  },\n  beforeDestroy() {\n    this.$eventBus.$off('shortkeyEvent', this.shortkeyHandler);\n  }\n};\n</script>\n\n<style scoped>\n.image-selector-wrapper {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\n  display: flex;\n  flex-direction: column;\n  background: #f5f5f5;\n  width: 100%;\n  height: 20em;\n  z-index: 150;\n}\n\n.header {\n  padding: 0.75em;\n  padding-bottom: 0;\n  display: flex;\n  justify-content: space-between;\n}\n\n.image-selector {\n  width: 100%;\n  overflow: auto;\n  display: flex;\n  align-items: center;\n  flex: 1;\n}\n\n.card {\n  display: inline-block;\n  min-width: 12em;\n  flex: 0;\n  box-sizing: border-box;\n  margin: 0.75em;\n}\n\n.card-image {\n  display: inline-block;\n  width: 100%;\n  height: 9.5em;\n  background-position: center center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-color: white;\n  border-bottom: 1px solid #ddd;\n}\n\n.card-content {\n  padding: 0.75em;\n  font-size: 0.8rem;\n  overflow-wrap: break-word;\n  overflow: hidden;\n  height: 5em;\n}\n\n.space {\n  margin-left: 0.5em;\n}\n\n.image-selector-button {\n  background: #95b5db;\n  border: 0.35rem solid white;\n  position: absolute;\n  bottom: 1rem;\n  right: 1rem;\n  width: 3.5rem;\n  height: 3.5rem;\n  border-radius: 50%;\n  text-align: center;\n  line-height: 2.8rem;\n  color: white;\n  font-size: 1.8rem;\n  box-sizing: border-box;\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\n  z-index: 100;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageSelector.vue?vue&type=template&id=d428ec68&scoped=true&\"\nimport script from \"./ImageSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageSelector.vue?vue&type=style&index=0&id=d428ec68&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d428ec68\",\n  null\n  \n)\n\nexport default component.exports","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport {Cytomine, User} from 'cytomine-client';\n\nfunction getDefaultState() {\n  return {\n    user: null,\n    expandedSidebar: true\n  };\n}\n\nexport default {\n  namespaced: true,\n\n  state: getDefaultState(),\n\n  mutations: {\n    setUser(state, user) {\n      state.user = user ? user.clone() : null;\n    },\n    setAdminByNow(state, value) {\n      state.user.adminByNow = value;\n    },\n    setExpandedSidebar(state, val) {\n      state.expandedSidebar = val;\n    },\n    resetState(state) {\n      Object.assign(state, getDefaultState());\n    },\n  },\n\n  actions: {\n    async fetchUser({commit}) {\n      let user = await User.fetchCurrent();\n      if(user.id) { // fetchCurrent() redirects to home page if user not authenticated => check that id is set\n        commit('setUser', user);\n      }\n      else {\n        commit('setUser', null);\n      }\n    },\n\n    async updateUser({commit}, user) {\n      await user.update();\n      commit('setUser', user);\n    },\n\n    async regenerateKeys({state, commit}) {\n      let user = state.user.clone();\n      await user.regenerateKeys();\n      commit('setUser', user);\n    },\n\n    async openAdminSession({commit}) {\n      await Cytomine.instance.openAdminSession();\n      commit('setAdminByNow', true);\n    },\n    async closeAdminSession({commit}) {\n      await Cytomine.instance.closeAdminSession();\n      commit('setAdminByNow', false);\n    },\n\n    async login({dispatch}, payload) {\n      await Cytomine.instance.login(payload.username, payload.password, payload.rememberMe);\n      await dispatch('fetchUser');\n    }\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport {Cytomine, Project, ProjectConnection, Ontology, AnnotationType, UserCollection, ProjectMemberRole} from 'cytomine-client';\nimport {fullName} from '@/utils/user-utils.js';\nimport {getAllTerms} from '@/utils/ontology-utils';\n\nfunction getDefaultState() {\n  return {\n    project: null,\n    configUI: {},\n    ontology: null,\n    managers: [],\n    members: [],\n    currentViewer: null\n  };\n}\n\nexport default {\n  namespaced: true,\n\n  state: getDefaultState(),\n\n  mutations: {\n    resetState(state) {\n      Object.assign(state, getDefaultState());\n    },\n\n    setProject(state, project) {\n      state.project = project;\n    },\n\n    setOntology(state, ontology) {\n      state.ontology = ontology;\n    },\n\n    setConfigUI(state, config) {\n      state.configUI = config;\n    },\n\n    setManagers(state, managers) {\n      state.managers = managers;\n    },\n\n    setMembers(state, members) {\n      state.members = members;\n    },\n\n    setCurrentViewer(state, id) {\n      state.currentViewer = id;\n    }\n  },\n\n  actions: {\n    async loadProject({state, dispatch, commit}, idProject) {\n      let projectChange = !state.project || state.project.id !== idProject;\n      let project = await Project.fetch(idProject);\n      commit('setProject', project);\n      commit(`projects/${project.id}/setProject`, project, {root: true});\n\n      let promises = [\n        dispatch('fetchUIConfig'),\n        dispatch('fetchOntology'),\n        dispatch('fetchProjectMembers')\n      ];\n\n      if(projectChange) {\n        promises.push(new ProjectConnection({project: idProject}).save());\n      }\n      await Promise.all(promises);\n    },\n    async reloadProject({state, commit}) {\n      let project = await Project.fetch(state.project.id);\n      commit('setProject', project);\n    },\n\n    async updateProject({state, dispatch, commit}, updatedProject) {\n      let reloadOntology = state.project.ontology !== updatedProject.ontology;\n      commit('setProject', updatedProject);\n      commit(`projects/${updatedProject.id}/setProject`, updatedProject, {root: true});\n      if(reloadOntology) {\n        await dispatch('fetchOntology');\n      }\n    },\n\n    async fetchUIConfig({state, commit}) {\n      let config = await Cytomine.instance.fetchUIConfigCurrentUser(state.project.id);\n      commit('setConfigUI', config);\n    },\n\n    async fetchProjectMembers({state, commit}) {\n      let collection = new UserCollection({\n        filterKey: 'project',\n        filterValue: state.project.id,\n      });\n\n      let members =  (await collection.fetchAll()).array;\n      let managers = members.filter(u => u.role == ProjectMemberRole.MANAGER || u.role == ProjectMemberRole.REPRESENTATIVE );\n\n      members.forEach(member => member.fullName = fullName(member));\n\n      commit('setManagers', managers);\n      commit('setMembers', members);\n    },\n\n    async fetchOntology({state, commit}) {\n      let ontology = state.project.ontology ? await Ontology.fetch(state.project.ontology) : null;\n      commit('setOntology', ontology);\n    }\n  },\n\n  getters: {\n    canEditLayer: (state, getters, rootState) => idLayer => {\n      let currentUser = rootState.currentUser.user;\n      let project = state.project;\n      return getters.canManageProject ||\n        (!project.isReadOnly && (idLayer === currentUser.id || !project.isRestricted));\n    },\n\n    canEditAnnot: (_, getters, rootState) => annot => {\n      let currentUser = rootState.currentUser.user;\n      let idLayer = annot.user;\n      if(annot.type === AnnotationType.REVIEWED) {\n        return currentUser.adminByNow || (!currentUser.guestByNow && annot.reviewUser === currentUser.id);\n      }\n      return getters.canEditLayer(idLayer);\n    },\n\n    canEditImage: (state, getters, rootState) => image => {\n      let currentUser = rootState.currentUser.user;\n      let project = state.project;\n      return getters.canManageProject ||\n        (!currentUser.guestByNow && !project.isReadOnly && (image.user === currentUser.id || !project.isRestricted));\n    },\n\n    canManageJob: (state, getters, rootState) => job => {\n      let currentUser = rootState.currentUser.user;\n      let project = state.project;\n      return getters.canManageProject ||\n        (!currentUser.guestByNow && !project.isReadOnly && (job.username === currentUser.username || !project.isRestricted));\n    },\n\n    canManageProject: (state, _, rootState) => { // true iff current user is admin or project manager\n      let currentUser = rootState.currentUser.user || {};\n      return currentUser.adminByNow || (!currentUser.guestByNow && state.managers.some(user => user.id === currentUser.id));\n    },\n\n    contributors: (state) => {\n      let idsManagers = state.managers.map(user => user.id);\n      return state.members.filter(user => !idsManagers.includes(user.id));\n    },\n\n    terms: (state) => {\n      return state.ontology ? getAllTerms(state.ontology) : null;\n    },\n\n    currentProjectModule: (state) => {\n      if(!state.project) {\n        return null;\n      }\n      return `projects/${state.project.id}/`;\n    },\n\n    currentViewer: (state, _, rootState) => {\n      if(!state.project) {\n        return null;\n      }\n      return rootState.projects[state.project.id].viewers[state.currentViewer];\n    },\n\n    currentViewerModule: (state, getters) => {\n      return `${getters.currentProjectModule}viewers/${state.currentViewer}/`;\n    },\n\n    imageModule: (_, getters) => index => {\n      return `${getters.currentViewerModule}images/${index}/`;\n    }\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nfunction getDefaultState() {\n  return {\n    searchString: '',\n    selectedOntology: null\n  };\n}\n\nexport default {\n  namespaced: true,\n\n  state: getDefaultState(),\n\n  mutations: {\n    setSelectedOntology(state, idOntology) {\n      state.selectedOntology = idOntology;\n    },\n\n    setSearchString(state, searchString) {\n      state.searchString = searchString;\n    },\n\n    resetState(state) {\n      Object.assign(state, getDefaultState());\n    }\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nfunction getDefaultState() {\n  return {\n    searchString: '',\n\n    filtersOpened: false,\n    filters: {\n      selectedOntologies: [],\n      selectedRoles: [],\n      selectedTags: [],\n      boundsMembers: null,\n      boundsImages: null,\n      boundsUserAnnotations: null,\n      boundsJobAnnotations: null,\n      boundsReviewedAnnotations: null\n    },\n\n    currentPage: 1,\n    perPage: 10,\n    sortField: 'lastActivity',\n    sortOrder: 'desc',\n    openedDetails: []\n  };\n}\n\nexport default {\n  namespaced: true,\n\n  state: getDefaultState(),\n\n  mutations: {\n    resetState(state) {\n      Object.assign(state, getDefaultState());\n    },\n\n    setSearchString(state, searchString) {\n      state.searchString = searchString;\n    },\n\n    setFiltersOpened(state, value) {\n      state.filtersOpened = value;\n    },\n\n    setFilter(state, {filterName, propValue}) {\n      state.filters[filterName] = propValue;\n    },\n\n    setCurrentPage(state, page) {\n      state.currentPage = page;\n    },\n\n    setPerPage(state, perPage) {\n      state.perPage = perPage;\n    },\n\n    setSortField(state, field) {\n      state.sortField = field;\n    },\n\n    setSortOrder(state, order) {\n      state.sortOrder = order;\n    },\n\n    setOpenedDetails(state, value) {\n      state.openedDetails = value;\n    }\n  },\n\n  getters: {\n    nbActiveFilters: state => {\n      return Object.values(state.filters).filter(val => val && val.length > 0).length; // count the number of not null values\n    }\n  }\n};\n","function getDefaultState() {\n  return {\n    searchString: '',\n\n    filtersOpened: false,\n    filters: {\n      boundsJobs: null,\n      boundsSuccessJobs: null,\n      onlyLastReleases: true,\n      onlyExecutables: true,\n    },\n\n    currentPage: 1,\n    perPage: 10,\n    sort: {\n      field: 'name',\n      order: 'asc'\n    },\n    openedDetails: []\n  };\n}\n\nexport default {\n  namespaced: true,\n\n  state: getDefaultState(),\n\n  mutations: {\n    resetState(state) {\n      Object.assign(state, getDefaultState());\n    },\n\n    setSearchString(state, searchString) {\n      state.searchString = searchString;\n    },\n\n    setFiltersOpened(state, value) {\n      state.filtersOpened = value;\n    },\n\n    setFilter(state, {filterName, propValue}) {\n      state.filters[filterName] = propValue;\n    },\n\n    setCurrentPage(state, page) {\n      state.currentPage = page;\n    },\n\n    setPerPage(state, perPage) {\n      state.perPage = perPage;\n    },\n\n    setSort(state, sort) {\n      state.sort = sort;\n    },\n\n    setOpenedDetails(state, value) {\n      state.openedDetails = value;\n    }\n  },\n\n  getters: {\n    nbActiveFilters: state => {\n      return Object.values(state.filters).filter(val => val).length; // count the number of not null values\n    }\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport Vue from 'vue';\nimport Vuex from 'vuex';\n\nimport currentUser from './modules/current-user.js';\nimport currentProject from './modules/current-project.js';\nimport ontologies from './modules/ontologies.js';\nimport listProjects from './modules/list-projects.js';\nimport listSoftware from './modules/list-software.js';\n\nVue.use(Vuex);\nlet store = new Vuex.Store({\n  actions: {\n    logout({state, commit}) {\n      commit('currentUser/resetState');\n      commit('currentProject/resetState');\n      commit('ontologies/resetState');\n      commit('listProjects/resetState');\n      commit('listSoftware/resetState');\n      for(let key in state.projects) {\n        this.unregisterModule(['projects', key]);\n      }\n    }\n  },\n  modules: {\n    currentUser,\n    currentProject,\n    ontologies,\n    listProjects,\n    listSoftware,\n    projects: {\n      namespaced: true\n    }\n  },\n  strict: process.env.NODE_ENV !== 'production'\n});\n\nexport default store;\n\nexport function getModuleNamespace(state) { // to update if https://github.com/vuejs/vuex/issues/1244 is implemented\n  let pathes = Object.keys(store._modulesNamespaceMap);\n  let moduleNamespace = pathes.find(path => store._modulesNamespaceMap[path].context.state === state);\n  if(typeof moduleNamespace === 'string') {\n    return moduleNamespace.slice(0, -1).split('/');\n  }\n}\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nexport default {\n  state() {\n    return {\n      brightness: 0,\n      contrast: 0,\n      hue: 0,\n      saturation: 0,\n\n      filter: null\n    };\n  },\n\n  mutations: {\n    setBrightness(state, value) {\n      state.brightness = value;\n    },\n\n    setContrast(state, value) {\n      state.contrast = value;\n    },\n\n    setHue(state, value) {\n      state.hue = value;\n    },\n\n    setSaturation(state, value) {\n      state.saturation = value;\n    },\n\n    resetColorManipulation(state) {\n      state.brightness = 0;\n      state.contrast = 0;\n      state.hue = 0;\n      state.saturation = 0;\n    },\n\n    setFilter(state, filter) {\n      state.filter = filter;\n    }\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nexport default {\n  state() {\n    return {\n      activeTool: 'select',\n\n      termsNewAnnots: [],\n\n      activeEditTool: null,\n      ongoingEdit: false\n    };\n  },\n\n  mutations: {\n    activateTool(state, tool) {\n      state.activeTool = tool;\n    },\n\n    activateEditTool(state, tool) {\n      state.activeEditTool = tool;\n    },\n\n    setOngoingEdit(state, value) {\n      state.ongoingEdit = value;\n    },\n\n    setTermsNewAnnots(state, terms) {\n      state.termsNewAnnots = terms;\n    },\n\n    filterTermsNewAnnots(state, terms) { // keep only the terms that still exist\n      let idTerms = terms.map(term => term.id);\n      state.termsNewAnnots = state.termsNewAnnots.filter(id => idTerms.includes(id));\n    },\n  },\n\n  actions: {\n    activateTool({state, commit}, tool) {\n      let previousTool = state.activeTool;\n      if(previousTool === 'select' && tool !== 'select') {\n        commit('clearSelectedFeatures');\n        commit('activateEditTool', {tool: null});\n      }\n      commit('activateTool', tool);\n    },\n\n    refreshData({commit, rootGetters}) {\n      commit('filterTermsNewAnnots', rootGetters['currentProject/terms'] || []);\n    }\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nexport default {\n  state() {\n    return {\n      selectedLayers: null\n    };\n  },\n\n  mutations: {\n    addLayer(state, layer) {\n      if(!state.selectedLayers) {\n        state.selectedLayers = [];\n      }\n      state.selectedLayers.push({...layer});\n    },\n\n    removeLayer(state, indexLayer) {\n      state.selectedLayers.splice(indexLayer, 1);\n    },\n\n    toggleLayerVisibility(state, indexLayer) {\n      let layer = state.selectedLayers[indexLayer];\n      layer.visible = !layer.visible;\n    },\n\n    toggleLayerDrawOn(state, indexLayer) {\n      let layer = state.selectedLayers[indexLayer];\n      layer.drawOn = !layer.drawOn;\n    },\n\n    filterSelectedLayers(state, idLayers) {\n      if(!state.selectedLayers) {\n        return;\n      }\n      state.selectedLayers = state.selectedLayers.filter(layer => idLayers.includes(layer.id));\n    }\n  },\n\n  actions: {\n    async addLayer({commit}, layer) {\n      commit('addLayer', layer);\n    },\n\n    toggleLayerVisibility({state, commit}, indexLayer) {\n      commit('toggleLayerVisibility', indexLayer);\n      let layer = state.selectedLayers[indexLayer];\n      if(!layer.visible) {\n        commit('removeLayerFromSelectedFeatures', {layer});\n      }\n    },\n\n    removeLayer({state, commit}, indexLayer) {\n      let layer = state.selectedLayers[indexLayer];\n      commit('removeLayer', indexLayer);\n      commit('removeLayerFromSelectedFeatures', {layer});\n    }\n  },\n\n  getters: {\n    selectedLayers: state => state.selectedLayers // expose in getter function because properties module need access to this value\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport {defaultColors} from '@/utils/style-utils.js';\nimport {PropertyCollection} from 'cytomine-client';\nimport constants from '@/utils/constants';\n\nexport default {\n  state() {\n    return {\n      idImage: 0,\n      propertiesKeys: null,\n      selectedPropertyKey: null,\n      selectedPropertyColor: defaultColors[0],\n      selectedPropertyValues: {},\n    };\n  },\n\n  mutations: {\n    setIdImage(state, id) {\n      state.idImage = id;\n    },\n\n    setPropertiesKeys(state, keys) {\n      state.propertiesKeys = keys;\n    },\n\n    setSelectedPropertyKey(state, value) {\n      state.selectedPropertyKey = value;\n    },\n\n    setSelectedPropertyColor(state, value) {\n      state.selectedPropertyColor = value;\n    },\n\n    setSelectedPropertyValues(state, properties) {\n      state.selectedPropertyValues = properties;\n    },\n\n    addSelectedPropertyValues(state, newValues) {\n      state.selectedPropertyValues = {...state.selectedPropertyValues, ...newValues};\n    }\n  },\n\n  actions: {\n    async initialize({commit, rootState}, image) {\n      commit('setIdImage', image.id);\n\n      let [propertiesKeys, projectProperties] = await Promise.all([\n        fetchPropertiesKeys(image.id),\n        PropertyCollection.fetchAll({object: rootState.currentProject.project})\n      ]);\n\n      let selectedPropertyKey = null;\n      let defaultPropertyProp = projectProperties.array.find(prop => prop.key === constants.DEFAULT_PROPERTY_KEY);\n      if(defaultPropertyProp && propertiesKeys.includes(defaultPropertyProp.value)) {\n        selectedPropertyKey = defaultPropertyProp.value;\n      }\n\n      commit('setPropertiesKeys', propertiesKeys);\n      commit('setSelectedPropertyKey', selectedPropertyKey);\n    },\n\n    async setSelectedPropertyKey({state, commit, getters}, value) {\n      let selectedLayers = getters.selectedLayers;\n\n      let properties = {};\n      if(value && selectedLayers) {\n        for(let layer of selectedLayers) {\n          let layerValues = await fetchLayerPropertiesValues(layer.id, state.idImage, value);\n          properties = {...properties, ...layerValues};\n        }\n      }\n\n      commit('setSelectedPropertyValues', properties);\n      commit('setSelectedPropertyKey', value);\n    },\n\n    async addLayer({state, commit}, layer) {\n      let key = state.selectedPropertyKey;\n      let propValues = {};\n      if(key) {\n        propValues = await fetchLayerPropertiesValues(layer.id, state.idImage, key);\n      }\n      commit('addSelectedPropertyValues', propValues);\n    },\n\n    async setImageInstance({commit, dispatch}, image) {\n      commit('setIdImage', image.id);\n      await dispatch('refreshProperties');\n    },\n\n    async refreshProperties({state, commit, dispatch}) {\n      let keys = await fetchPropertiesKeys(state.idImage);\n      commit('setPropertiesKeys', keys);\n\n      let currentKey = state.selectedPropertyKey;\n      let newKey = keys.includes(currentKey) ? currentKey : null;\n      dispatch('setSelectedPropertyKey', newKey);\n    },\n\n    async refreshData({dispatch}) {\n      await dispatch('refreshProperties');\n    }\n  }\n};\n\nasync function fetchLayerPropertiesValues(idLayer, idImage, key) {\n  if(idLayer === -1) {\n    return []; // currently not possible to retrieve properties of review layer (TODO in core)\n  }\n\n  let propertiesValues = await PropertyCollection.fetchPropertiesValuesAndPositions(\n    idLayer,\n    idImage,\n    key\n  );\n\n  // if several properties with target key for an annotation, concatenate their values\n  let properties = {};\n  propertiesValues.forEach(propVal => {\n    if(!properties[propVal.idAnnotation]) {\n      properties[propVal.idAnnotation] = propVal.value;\n    }\n    else {\n      properties[propVal.idAnnotation] += '; ' + propVal.value;\n    }\n  });\n\n  return properties;\n}\n\nasync function fetchPropertiesKeys(idImage) {\n  let data = await PropertyCollection.fetchKeysAnnotationProperties(null, idImage);\n  return data;\n}\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport {createGeoJsonFmt} from 'vuelayers/lib/ol-ext/format';\nimport {annotBelongsToLayer} from '@/utils/annotation-utils';\n\nexport default {\n  state() {\n    return {\n      selectionTargetedFeatures: [], // when we select a feature by clicking on a location, we can have multiple feature at this location.\n      selectedFeatures: [],\n      annotsToSelect: [],\n      showComments: null, // set to the identifier of an annotation to automatically open comments modal if this annotation if the first to be selected\n      displayAnnotDetails: true,\n      positionAnnotDetails: {x: 0, y: 0},\n    };\n  },\n\n  mutations: {\n    setSelectionTargetedFeatures(state, targetedFeatures) {\n      state.selectionTargetedFeatures = targetedFeatures;\n    },\n\n    setSelectedFeatures(state, selectedFeatures) {\n      let newSelectedFeatures = JSON.stringify(selectedFeatures);\n      let currentSelectedFeatures = JSON.stringify(state.selectedFeatures);\n      if (newSelectedFeatures !== currentSelectedFeatures) {\n        state.selectedFeatures = selectedFeatures;\n      }\n    },\n\n    clearSelectedFeatures(state) {\n      state.selectedFeatures = [];\n      state.annotsToSelect = [];\n    },\n\n    selectFeature(state, feature) {\n      state.selectedFeatures.push(createGeoJsonFmt().writeFeatureObject(feature));\n    },\n\n    changeAnnotSelectedFeature(state, {indexFeature, annot}) {\n      state.selectedFeatures[indexFeature].properties.annot = annot;\n    },\n\n    removeLayerFromSelectedFeatures(state, {layer, cache=false}) {\n      let selectedFeatures = state.selectedFeatures;\n      for(let index = selectedFeatures.length - 1; index >= 0; index--) {\n        let feature = selectedFeatures[index];\n        let annot = feature.properties.annot;\n        if(annotBelongsToLayer(annot, layer)) {\n          selectedFeatures.splice(index, 1);\n          if(cache) {\n            state.annotsToSelect.push(annot);\n          }\n        }\n      }\n\n      if(!cache) {\n        state.annotsToSelect = state.annotsToSelect.filter(annot => !annotBelongsToLayer(annot, layer));\n      }\n    },\n\n    removeTermFromSelectedFeatures(state, {idTerm, terms}) { // idTerm: id of the term no longer displayed\n      state.selectedFeatures = state.selectedFeatures.filter(feature => {\n        let annot = feature.properties.annot;\n        if(!annot.term.includes(idTerm)) {\n          return true; // feature not affected since it does not have the hidden term\n        }\n        // if feature associated with hidden term, check if it is associated to other terms still displayed\n        return terms.some(term => term.visible && annot.term.includes(term.id));\n      });\n    },\n\n    removeNoTermFromSelectedFeatures(state) {\n      state.selectedFeatures = state.selectedFeatures.filter(feature => {\n        let annot = feature.properties.annot;\n        return annot.term.length; // keep feature only iff it is associated to at least one term\n      });\n    },\n\n    setAnnotToSelect(state, annot) {\n      state.annotsToSelect = [annot];\n    },\n\n    setShowComments(state, annot) {\n      state.showComments = annot ? annot.id : null;\n    },\n\n    setDisplayAnnotDetails(state, value) {\n      state.displayAnnotDetails = value;\n    },\n\n    setPositionAnnotDetails(state, value) {\n      state.positionAnnotDetails = value;\n    },\n  },\n\n  actions: {\n    selectFeature({commit}, feature) {\n      commit('clearSelectedFeatures');\n      commit('selectFeature', feature);\n    },\n\n    setImageInstance({commit}) {\n      commit('clearSelectedFeatures');\n    }\n  },\n\n  getters: {\n    selectedFeature: state => {\n      if(state.selectedFeatures.length === 1) {\n        return state.selectedFeatures[0];\n      }\n    }\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport {createColorStyle, createLineStyle, changeOpacity} from '@/utils/style-utils.js';\n\nlet initialTermsOpacity = 1;\nlet initialLayersOpacity = 0.5;\n\nexport default {\n  state() {\n    return {\n      terms: null,\n\n      displayNoTerm: true,\n      noTermOpacity: initialTermsOpacity,\n      noTermStyle: createColorStyle('#fff', initialLayersOpacity*initialTermsOpacity),\n\n      defaultStyle: createColorStyle('#fff', initialLayersOpacity),\n      multipleTermsStyle: createColorStyle('#fff', initialLayersOpacity),\n\n      layersOpacity: initialLayersOpacity\n    };\n  },\n\n  mutations: {\n    addTerm(state, term) {\n      state.terms.push(formatTerm(term, state.layersOpacity));\n    },\n\n    setTerms(state, terms) {\n      state.terms = terms;\n    },\n\n    toggleTermVisibility(state, indexTerm) {\n      let term = state.terms[indexTerm];\n      term.visible = !term.visible;\n    },\n\n    setDisplayNoTerm(state, value) {\n      state.displayNoTerm = value;\n    },\n\n    setTermOpacity(state, {indexTerm, opacity}) {\n      let term = state.terms[indexTerm];\n      term.opacity = opacity;\n      changeOpacity(term.olStyle, state.layersOpacity*opacity);\n      changeOpacity(term.olLineStyle, state.layersOpacity*opacity);\n    },\n\n    setNoTermOpacity(state, opacity) {\n      state.noTermOpacity = opacity;\n      changeOpacity(state.noTermStyle, state.layersOpacity*opacity);\n    },\n\n    resetTermOpacities(state) {\n      state.terms.forEach(term => {\n        term.opacity = initialTermsOpacity;\n        changeOpacity(term.olStyle, state.layersOpacity*initialTermsOpacity);\n        changeOpacity(term.olLineStyle, state.layersOpacity*initialTermsOpacity);\n      });\n      state.noTermOpacity = initialTermsOpacity;\n      changeOpacity(state.noTermStyle, state.layersOpacity*state.noTermOpacity);\n    },\n\n    setLayersOpacity(state, opacity) {\n      state.layersOpacity = opacity;\n      if(state.terms) {\n        state.terms.forEach(term => {\n          changeOpacity(term.olStyle, opacity*term.opacity);\n          changeOpacity(term.olLineStyle, opacity*term.opacity);\n        });\n      }\n      changeOpacity(state.noTermStyle, opacity*state.noTermOpacity);\n      changeOpacity(state.multipleTermsStyle, opacity);\n      changeOpacity(state.defaultStyle, opacity);\n    },\n  },\n\n  actions: {\n    initialize({commit, rootGetters}) {\n      let terms = formatTerms(rootGetters['currentProject/terms'], initialLayersOpacity);\n      commit('setTerms', terms);\n    },\n\n    toggleTermVisibility({state, commit}, indexTerm) {\n      commit('toggleTermVisibility', indexTerm);\n      let toggledTerm = state.terms[indexTerm];\n      if(!toggledTerm.visible) {\n        commit('removeTermFromSelectedFeatures', {idTerm: toggledTerm.id, terms: state.terms});\n      }\n    },\n\n    setDisplayNoTerm({commit}, value) {\n      commit('setDisplayNoTerm', value);\n      if(!value) {\n        commit('removeNoTermFromSelectedFeatures');\n      }\n    },\n\n    async refreshData({state, commit, rootGetters}) {\n      let terms = formatTerms(rootGetters['currentProject/terms'], state.layersOpacity, state.terms);\n      commit('setTerms', terms);\n    }\n  },\n\n  getters: {\n    termsMapping: state => {\n      return state.terms.reduce((mapping, term) => {\n        mapping[term.id] = term;\n        return mapping;\n      }, {});\n    }\n  }\n};\n\n\nfunction formatTerms(terms, layersOpacity, previousTerms=[]) {\n  if(!terms) {\n    return;\n  }\n\n  let result = [];\n  let nbTerms = terms.length;\n  for(let i = 0; i < nbTerms; i++) {\n    let term = terms[i];\n    let prevTerm = previousTerms.find(prevTerm => prevTerm.id === term.id);\n    result.push(prevTerm ? prevTerm : formatTerm(term, layersOpacity));\n  }\n  return result;\n}\n\nfunction formatTerm(term, layersOpacity) {\n  let result = {id: term.id};\n  result.opacity = initialTermsOpacity;\n  result.olStyle = createColorStyle(term.color, initialTermsOpacity*layersOpacity);\n  result.olLineStyle = createLineStyle(term.color, initialTermsOpacity*layersOpacity);\n  result.visible = true;\n  return result;\n}\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nexport default {\n  state() {\n    return {\n      broadcast: false,\n      trackedUser: null\n    };\n  },\n\n  mutations: {\n    setBroadcast(state, value) {\n      state.broadcast = value;\n    },\n\n    setTrackedUser(state, idUser) {\n      state.trackedUser = idUser;\n    },\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport {Cytomine} from 'cytomine-client';\n\nexport default {\n  state() {\n    return {\n      actions: [],\n      undoneActions: []\n    };\n  },\n\n  mutations: {\n    resetActions(state) {\n      state.actions = [];\n      state.undoneActions = [];\n    },\n\n    addAction(state, {annot, type}) {\n      let action = {annot, type, command: Cytomine.instance.lastCommand};\n      state.actions.push(action);\n      state.undoneActions = [];\n    },\n\n    undoAction(state, opposedAction) {\n      state.actions.pop();\n      state.undoneActions.push(opposedAction);\n    },\n\n    redoAction(state, opposedAction) {\n      state.undoneActions.pop();\n      state.actions.push(opposedAction);\n    }\n  },\n\n  actions: {\n    setImageInstance({commit}) {\n      commit('resetActions');\n    }\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nexport default {\n  state() {\n    return {\n      zoom: null, // will be initialized to appropriate value (depending on container size) in CytomineImage\n      center: [0, 0],\n      rotation: 0,\n      digitalZoom: true,\n      overviewCollapsed: false\n    };\n  },\n\n  mutations: {\n    setCenter(state, center) {\n      state.center = center;\n    },\n\n    setZoom(state, zoom) {\n      state.zoom = zoom;\n    },\n\n    setRotation(state, rotation) {\n      state.rotation = rotation;\n    },\n\n    setDigitalZoom(state, digitalZoom) {\n      state.digitalZoom = digitalZoom;\n    },\n\n    setOverviewCollapsed(state, value) {\n      state.overviewCollapsed = value;\n    }\n  },\n\n  actions: {\n    async initialize({commit}, image) {\n      commit('setCenter', [image.width/2, image.height/2]);\n    },\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nexport default {\n  state() {\n    return {\n      reviewMode: false\n    };\n  },\n\n  mutations: {\n    setReviewMode(state, value) {\n      state.reviewMode = value;\n    }\n  },\n\n  actions: {\n    setImageInstance({commit}) { // when image is changed, reset reviewMode value\n      commit('setReviewMode', false);\n    },\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport {ImageInstance, AbstractImage, AnnotationType} from 'cytomine-client';\n\nimport constants from '@/utils/constants';\n\nimport colors from './image_modules/colors';\nimport draw from './image_modules/draw';\nimport layers from './image_modules/layers';\nimport properties from './image_modules/properties';\nimport selectedFeatures from './image_modules/selected-features';\nimport style from './image_modules/style';\nimport tracking from './image_modules/tracking';\nimport undoRedo from './image_modules/undo-redo';\nimport view from './image_modules/view';\nimport review from './image_modules/review';\n\nimport {\n  isCluster,\n  createTextStyle,\n  selectStyles,\n  verticesStyle,\n  reviewedStyles,\n  reviewedSelectStyles,\n  rejectedStyles,\n  rejectedSelectStyles\n} from '@/utils/style-utils.js';\n\nexport default {\n  namespaced: true,\n\n  state() {\n    return {\n      imageInstance: null,\n      activePanel: null\n    };\n  },\n\n  mutations: {\n    setImageInstance(state, image) {\n      state.imageInstance = image;\n    },\n\n    setResolution(state, resolution) {\n      state.imageInstance.resolution = resolution;\n    },\n\n    togglePanel(state, panel) {\n      state.activePanel = state.activePanel === panel ? null : panel;\n    }\n  },\n\n  actions: {\n    async initialize({commit}, image) {\n      let clone = image.clone();\n      await fetchImageServers(clone);\n      commit('setImageInstance', clone);\n    },\n\n    async setImageInstance({dispatch, rootState}, image) {\n      await dispatch('initialize', image);\n      let idProject = rootState.currentProject.project.id;\n      let idViewer = rootState.currentProject.currentViewer;\n      dispatch(`projects/${idProject}/viewers/${idViewer}/changePath`, null, {root: true});\n    },\n\n    async refreshData({state, commit}) {\n      let image = await fetchImage(state.imageInstance.id);\n      commit('setImageInstance', image);\n    }\n  },\n\n  getters: {\n    genStyleFunction: (state, getters) => (feature) => {\n      let annot = feature.get('annot');\n      if(!annot) {\n        return;\n      }\n\n      // QUESTION: what to do with clusters (returned count does not take into account the selected terms) ?\n      // Possible solutions:\n      // 1. in backend, for clusters, send array with composition of cluster (x for term 1, y for term 2, z for term1-2)\n      // 2. force source refresh every time the list of terms to display is updated\n      // 3. add parameter allowing to provide the terms to take into account in kmeans (but only for kmeans)\n      if(isCluster(feature)) {\n        return [state.style.defaultStyle, createTextStyle(annot.count.toString())];\n      }\n\n      let styles = [];\n\n      let nbTerms = annot.term.length;\n      let terms = state.style.terms;\n\n      if(terms && nbTerms === 1) {\n        let wrappedTerm = getters.termsMapping[annot.term[0]];\n        if(wrappedTerm) {\n          if(!wrappedTerm.visible) {\n            return; // do not display annot\n          }\n          if(feature.getGeometry().getType() === 'LineString') {\n            styles.push(wrappedTerm.olLineStyle);\n          }\n          else {\n            styles.push(wrappedTerm.olStyle);\n          }\n        }\n        else {\n          styles.push(state.style.noTermStyle); // could not find term => display no term style\n        }\n      }\n      else if(terms && nbTerms > 1) {\n        let hasTermsToDisplay = terms.some(term => term.visible && annot.term.includes(term.id));\n        if(!hasTermsToDisplay) {\n          return; // do not display\n        }\n        styles.push(state.style.multipleTermsStyle);\n      }\n      else {\n        if(!state.style.displayNoTerm) {\n          return; // do not display annot\n        }\n        styles.push(state.style.noTermStyle);\n      }\n\n      let isReviewed = annot.type === AnnotationType.REVIEWED;\n      let isRejected = state.review.reviewMode && !isReviewed;\n\n      // Styles for selected elements\n      if(state.selectedFeatures.selectedFeatures.map(ftr => ftr.id).includes(feature.getId())) {\n        styles.push(...(isReviewed ? reviewedSelectStyles : isRejected ? rejectedSelectStyles : selectStyles));\n\n        // if in modify mode, display vertices\n        if(state.draw.activeEditTool === 'modify') {\n          styles.push(verticesStyle);\n        }\n      }\n      else if(isReviewed) {\n        styles.push(...reviewedStyles);\n      }\n      else if(isRejected) {\n        styles.push(...rejectedStyles);\n      }\n\n      // Properties\n      let propValue = state.properties.selectedPropertyValues[annot.id];\n      if (propValue) {\n        let color = state.properties.selectedPropertyColor;\n        let fontSize = '34px';\n        if(state.view.zoom <= 3) {\n          fontSize = '12px';\n        }\n        else if(state.view.zoom <= 6) {\n          fontSize = '19px';\n        }\n        else if(state.view.zoom <= 8) {\n          fontSize = '26px';\n        }\n        styles.push(createTextStyle(propValue, fontSize, color.fill, null));\n      }\n\n      return styles;\n    },\n\n    maxZoom: state => {\n      if(!state.imageInstance) {\n        return 0;\n      }\n      let increment = state.view.digitalZoom ? constants.DIGITAL_ZOOM_INCREMENT : 0;\n      return state.imageInstance.depth + increment;\n    }\n  },\n\n  modules: {\n    colors,\n    draw,\n    layers,\n    properties,\n    selectedFeatures,\n    style,\n    tracking,\n    undoRedo,\n    view,\n    review\n  }\n};\n\nasync function fetchImage(idImage) {\n  let image = await ImageInstance.fetch(idImage);\n  await fetchImageServers(image);\n  return image;\n}\n\nasync function fetchImageServers(image) {\n  if(!image.imageServerURLs) {\n    image.imageServerURLs = await new AbstractImage({id: image.baseImage}).fetchImageServers();\n  }\n}\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport router from '@/routes';\nimport {getModuleNamespace} from '@/store/store';\nimport imageModule from './viewer_modules/image';\n\nexport default {\n  namespaced: true,\n\n  state() {\n    return {\n      links: [],\n      imageSelector: false,\n      activeImage: 0,\n      indexNextImage: 0\n    };\n  },\n\n  mutations: {\n    setImageSelector(state, value) {\n      state.imageSelector = value;\n    },\n\n    addImage(state) {\n      state.imageSelector = false;\n      state.activeImage = state.indexNextImage;\n      state.indexNextImage++;\n    },\n\n    setActiveImage(state, index) {\n      state.activeImage = index;\n    },\n\n    // ----- View links\n\n    createLinkGroup(state, indexes) {\n      state.links.push(indexes);\n    },\n\n    linkImageToGroup(state, {indexGroup, indexImage}) {\n      state.links[indexGroup].push(indexImage);\n    },\n\n\n    mergeLinkGroups(state, indexes) {\n      state.links[indexes[0]].push(...state.links[indexes[1]]);\n      state.links.splice(indexes[1], 1);\n    },\n\n    unlinkImage(state, {indexGroup, indexImage}) {\n      let links = state.links;\n      if(!indexGroup) { // if group not specified, find the group of the provided image\n        indexGroup = links.findIndex(group => group.includes(indexImage));\n        if(indexGroup === -1) {\n          return;\n        }\n      }\n\n      let group = links[indexGroup];\n      let indexWithinGroup = group.findIndex(idx => idx === indexImage);\n      group.splice(indexWithinGroup, 1);\n      if(group.length === 1) { // if group no longer contains several images, delete it\n        links.splice(indexGroup, 1);\n      }\n    }\n  },\n\n  actions: {\n    changePath({getters}) {\n      let idAnnotation = router.currentRoute.params.idAnnotation;\n      let action = router.currentRoute.query.action;\n      router.replace(getters.pathViewer({idAnnotation, action}));\n    },\n\n    async addImage({state, commit, getters, dispatch}, image) {\n      let index = state.indexNextImage;\n      commit('addImage');\n      this.registerModule(getters.pathImageModule(index), imageModule);\n      await dispatch(`images/${index}/initialize`, image);\n      dispatch('changePath');\n    },\n\n    setImageResolution({state, commit}, {idImage, resolution}) {\n      for(let index in state.images) {\n        let image = state.images[index].imageInstance;\n        if(image && image.id === idImage) {\n          commit(`images/${index}/setResolution`, resolution);\n        }\n      }\n    },\n\n    addTerm({state, commit}, term) { // add term to all image wrappers (as all images belong to same project)\n      for(let index in state.images) {\n        commit(`images/${index}/addTerm`, term);\n      }\n    },\n\n    setCenter({state, getters, commit}, {index, center}) {\n      let refImage = state.images[index];\n      let increments = refImage.view.center.map((val, i) => center[i] - val);\n      let refZoom = refImage.imageInstance.depth - refImage.view.zoom;\n\n      let indexesToUpdate = getters.getLinkedIndexes(index);\n      indexesToUpdate.forEach(idx => {\n        let image = state.images[idx];\n        let diffZoom = image.imageInstance.depth - image.view.zoom - refZoom;\n        let zoomFactor = Math.pow(2, diffZoom);\n        commit(`images/${idx}/setCenter`, image.view.center.map((val, i) => val + increments[i]*zoomFactor));\n      });\n    },\n\n    setZoom({state, getters, commit}, {index, zoom}) {\n      let zoomIncrement = zoom - state.images[index].view.zoom;\n      let indexesToUpdate = getters.getLinkedIndexes(index);\n      indexesToUpdate.forEach(idx => {\n        commit(`images/${idx}/setZoom`, (state.images[idx].view.zoom + zoomIncrement));\n      });\n    },\n\n    setRotation({state, getters, commit}, {index, rotation}) {\n      let rotationInc = rotation - state.images[index].view.rotation + 2*Math.PI;\n      let indexesToUpdate = getters.getLinkedIndexes(index);\n      indexesToUpdate.forEach(idx => {\n        commit(`images/${idx}/setRotation`, (state.images[idx].view.rotation + rotationInc) % (2*Math.PI));\n      });\n    },\n\n    async refreshData({state, dispatch}) {\n      await Promise.all(Object.keys(state.images).map(async index => {\n        await dispatch(`images/${index}/refreshData`);\n      }));\n      dispatch('changePath');\n    },\n\n    removeImage({commit, getters, dispatch}, index) {\n      commit('unlinkImage', {indexImage: index});\n      this.unregisterModule(getters.pathImageModule(index), imageModule);\n      dispatch('changePath');\n    },\n  },\n\n  getters: {\n    pathModule: state => {\n      return getModuleNamespace(state);\n    },\n\n    pathImageModule: (_, getters) => index => {\n      return [...getters.pathModule, 'images', index];\n    },\n\n    pathViewer: (state, getters) => ({idAnnotation, action}={}) => {\n      // module path = ['projects', idProject, 'viewers', idViewer]\n      let idProject = getters.pathModule[1];\n      let idViewer = getters.pathModule[3];\n      // ---\n      let imagesIds = Object.values(state.images).map(img => img.imageInstance ? img.imageInstance.id : 0);\n      let annot = idAnnotation ? `/annotation/${idAnnotation}` : '';\n      let actionStr = action ? '&action=' + action : '';\n      return `/project/${idProject}/image/${imagesIds.join('-')}${annot}?viewer=${idViewer}${actionStr}`;\n    },\n\n    getLinkedIndexes: state => index => { // find all indexes linked to provided index (if image is not linked, return only its index)\n      return state.links.find(group => group.includes(index)) || [index];\n    }\n  },\n\n  modules: {\n    images: {\n      namespaced: true\n    }\n  }\n};\n","// Key list reference: https://github.com/iFgR/vue-shortkey#key-list\n\nlet shortkey = 'ctrl'; //should be meta on Mac OS\n\nexport default Object.freeze({\n  'general-close-modal': ['esc'], // Handled by Bulma\n  // 'navbar-dashboard': ['g', 'd'],\n  // 'navbar-projects': ['g', 'p'],\n  // 'navbar-ontologies': ['g', 'o'],\n  // 'navbar-storage': ['g', 's'],\n  // 'navbar-algorithms': ['g', 'a'],\n  // 'navbar-user': ['g', 'u'],\n  // 'navbar-help': ['g', 'h'],\n  // 'navbar-admin': ['g', 'z'],\n  // 'project-images': [],\n  // 'project-annotations': [],\n  // 'project-jobs': [],\n  // 'project-activities': [],\n  // 'project-information': [],\n  // 'project-configuration': [],\n  'viewer-nav-zoom-in': ['+'], // Handled by Openlayers KeyboardZoom\n  'viewer-nav-zoom-out': ['-'], // Handled by Openlayers KeyboardZoom\n  'viewer-nav-move-up': ['arrowup'], // Handled by Openlayers KeyboardPan\n  'viewer-nav-move-down': ['arrowdown'], // Handled by Openlayers KeyboardPan\n  'viewer-nav-move-left': ['arrowleft'], // Handled by Openlayers KeyboardPan\n  'viewer-nav-move-right': ['arrowright'], // Handled by Openlayers KeyboardPan\n  'viewer-nav-next-image': ['shift', 'arrowright'],\n  'viewer-nav-previous-image': ['shift', 'arrowleft'],\n  /*'viewer-nav-next-t': ['pageup'],\n  'viewer-nav-previous-t': ['pagedown'],\n  'viewer-nav-first-t': ['home'],\n  'viewer-nav-last-t': ['end'],\n  'viewer-nav-next-c': ['alt', 'pageup'],\n  'viewer-nav-previous-c': ['alt', 'pagedown'],\n  'viewer-nav-first-c': ['alt', 'home'],\n  'viewer-nav-last-c': ['alt', 'end'],\n  'viewer-nav-next-z': ['shift', 'pageup'],\n  'viewer-nav-previous-z': ['shift', 'pagedown'],\n  'viewer-nav-first-z': ['shift', 'home'],\n  'viewer-nav-last-z': ['shift', 'end'],\n  'viewer-nav-next-slice': ['alt', 'shift', 'pageup'],\n  'viewer-nav-previous-slice': ['alt', 'shift', 'pagedown'],\n  'viewer-nav-first-slice': ['alt', 'shift', 'home'],\n  'viewer-nav-last-slice': ['alt', 'shift', 'end'],*/\n  'viewer-nav-drag-rotate': ['alt', 'shift', 'drag'], // Handled by Openlayers\n  'viewer-nav-drag-zoom': ['shift', 'drag'], // Handled by Openlayers\n  'viewer-tool-select': ['s'],\n  'viewer-tool-point': ['o'],\n  'viewer-tool-line': ['l'],\n  'viewer-tool-freehand-line': ['shift', 'l'],\n  'viewer-tool-rectangle': ['r'],\n  'viewer-tool-circle': ['c'],\n  'viewer-tool-polygon': ['p'],\n  'viewer-tool-freehand-polygon': ['shift', 'p'],\n  'viewer-tool-fill': ['f'],\n  'viewer-tool-correct-add': ['shift', 'c'],\n  'viewer-tool-correct-remove': ['alt', 'shift', 'c'],\n  'viewer-tool-modify': ['m'],\n  'viewer-tool-modify-delete-vertex': ['ctrl', 'click'], // Handled by Openlayers\n  // 'viewer-tool-rescale': ['shift', 'm'],\n  'viewer-tool-move': ['t'],\n  'viewer-tool-rotate': ['shift', 't'],\n  'viewer-tool-delete': ['del'],\n  'viewer-tool-undo': [shortkey, 'z'],\n  'viewer-tool-redo': [shortkey, 'y'],\n  'viewer-tool-review-accept': ['j'],\n  'viewer-tool-review-reject': ['k'],\n  'viewer-tool-review-toggle': ['i'],\n  // 'viewer-tool-go-to-slice-t': ['g'],\n  // 'viewer-tool-go-to-slice-z': ['shift', 'g'],\n  // 'viewer-tool-go-to-slice-c': ['alt', 'g'],\n  'viewer-toggle-information': ['alt', 'i'],\n  'viewer-toggle-zoom': ['alt', 'z'],\n  'viewer-toggle-link': ['alt', 's'],\n  'viewer-toggle-filters': ['alt', 'f'],\n  'viewer-toggle-layers': ['alt', 'l'],\n  'viewer-toggle-ontology': ['alt', 't'],\n  'viewer-toggle-properties': ['alt', 'p'],\n  'viewer-toggle-broadcast': ['alt', 'b'],\n  'viewer-toggle-review': ['alt', 'r'],\n  'viewer-toggle-overview': ['alt', 'o'],\n  'viewer-toggle-annotations': ['alt', 'a'],\n  'viewer-toggle-current': ['alt', 'c'],\n  'viewer-toggle-add-image': ['alt', '+'],\n  'text-editor-bold': [shortkey, 'b'], // Handled by Quill editor\n  'text-editor-italic': [shortkey, 'i'], // Handled by Quill editor\n  'text-editor-underline': [shortkey, 'u'], // Handled by Quill editor\n});\n","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div v-if=\"error\" class=\"box error\">\n  <h2> {{ $t('error') }} </h2>\n  <p>{{ $t('error-loading-image') }}</p>\n  <p v-if=\"errorBadImageProject\">{{ $t('error-loading-image-bad-project') }}</p>\n</div>\n<div v-else class=\"cytomine-viewer\">\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\n  <div v-if=\"!loading\" class=\"maps-wrapper\">\n    <div class=\"map-cell\"\n      v-for=\"(cell, i) in cells\"\n      :key=\"i\"\n      :style=\"`height:${elementHeight}%; width:${elementWidth}%;`\"\n    >\n      <cytomine-image\n        v-if=\"cell && cell.image\"\n        :index=\"cell.index\"\n        :key=\"`${cell.index}-${cell.image.id}`\"\n        @close=\"closeMap(cell.index)\"\n      />\n    </div>\n\n    <image-selector />\n\n    <!-- Emit event when a hotkey is pressed (to rework once https://github.com/iFgR/vue-shortkey/issues/78 is implemented) -->\n    <div class=\"hidden\" v-shortkey.once=\"shortkeysMapping\" @shortkey=\"shortkeyEvent\"></div>\n  </div>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport CytomineImage from './CytomineImage';\nimport ImageSelector from './ImageSelector';\n\nimport viewerModuleModel from '@/store/modules/project_modules/viewer';\n\nimport constants from '@/utils/constants.js';\nimport shortcuts from '@/utils/shortcuts.js';\n\nimport {ImageInstance} from 'cytomine-client';\n\nexport default {\n  name: 'cytomine-viewer',\n  components: {\n    CytomineImage,\n    ImageSelector\n  },\n  data() {\n    return {\n      error: false,\n      errorBadImageProject: false,\n      loading: true,\n      reloadInterval: null,\n      idViewer: null\n    };\n  },\n  computed: {\n    project: get('currentProject/project'),\n    viewers() {\n      return this.$store.state.projects[this.project.id].viewers;\n    },\n    idImages() {\n      return this.$route.params.idImages.split('-');\n    },\n    paramIdViewer() {\n      return this.$route.query.viewer;\n    },\n    viewerModule() {\n      return this.$store.getters['currentProject/currentViewerModule'];\n    },\n    viewer() {\n      return this.viewers[this.idViewer];\n    },\n    indexImages() {\n      return this.viewer ? Object.keys(this.viewer.images) : [];\n    },\n    nbImages() {\n      return this.indexImages.length;\n    },\n    nbHorizontalCells() {\n      return Math.ceil(Math.sqrt(this.nbImages));\n    },\n    nbVerticalCells() {\n      return this.nbHorizontalCells ? Math.ceil(this.nbImages/this.nbHorizontalCells) : 0;\n    },\n    cells() {\n      let cells = new Array(this.nbHorizontalCells*this.nbVerticalCells);\n      for(let i = 0; i < this.nbImages; i++) {\n        let index = this.indexImages[i];\n        let image = this.viewer.images[index].imageInstance;\n        cells[i] = {index, image};\n      }\n      return cells;\n    },\n    elementHeight() {\n      return 100/this.nbVerticalCells;\n    },\n    elementWidth() {\n      return 100/this.nbHorizontalCells;\n    },\n    shortkeysMapping() {\n      let allowed = ['nav-next-image', 'nav-previous-image', 'nav-next-slice', 'nav-previous-slice', 'nav-next-t', 'nav-previous-t', 'nav-next-c',\n        'nav-previous-c', 'nav-first-slice', 'nav-last-slice', 'nav-first-t', 'nav-last-t', 'nav-first-z', 'nav-last-z', 'nav-first-c', 'nav-last-c',\n        'tool-select', 'tool-point', 'tool-line', 'tool-freehand-line', 'tool-rectangle', 'tool-circle', 'tool-polygon',\n        'tool-freehand-polygon', 'tool-fill', 'tool-correct-add', 'tool-correct-remove', 'tool-modify', 'tool-rescale',\n        'tool-move', 'tool-rotate', 'tool-delete', 'tool-undo', 'tool-redo', 'tool-review-accept', 'tool-review-reject',\n        'tool-review-toggle', 'tool-go-to-slice-t', 'tool-go-to-slice-z', 'tool-go-to-slice-c', 'toggle-information',\n        'toggle-zoom', 'toggle-filters', 'toggle-layers', 'toggle-ontology', 'toggle-properties', 'toggle-broadcast',\n        'toggle-review', 'toggle-overview', 'toggle-annotations', 'toggle-current', 'toggle-add-image', 'toggle-link',\n        'nav-next-z', 'nav-previous-z'];\n\n      return Object.keys(shortcuts).filter(key => allowed.includes(key.replace('viewer-', ''))).reduce((object, key) => {\n        object[key.replace('viewer-', '')] = shortcuts[key];\n        return object;\n      }, {});\n    }\n  },\n  watch: {\n    paramIdViewer() {\n      this.findIdViewer();\n    },\n    idViewer(_, old) {\n      if(old) {\n        this.loading = true;\n        this.loadViewer();\n      }\n    },\n    viewer() {\n      if(!this.viewer) {\n        console.log('Viewer closed from external source');\n        this.$router.push(`/project/${this.$route.params.idProject}`);\n      }\n    },\n    nbImages() {\n      this.$eventBus.$emit('updateMapSize');\n    }\n  },\n  methods: {\n    findIdViewer() {\n      if(this.paramIdViewer) {\n        this.idViewer = this.paramIdViewer;\n        return;\n      }\n\n      for(let id in this.viewers) {\n        // if viewer containing the targetted images, and only them, store its id\n        let imagesViewer = Object.values(this.viewers[id].images).map(img => img.imageInstance.id).join('-');\n        if(imagesViewer === this.$route.params.idImages) {\n          this.idViewer = id;\n          return;\n        }\n      }\n\n      this.idViewer = Math.random().toString(36).substr(2, 9);\n    },\n\n    closeMap(index) {\n      if(this.nbImages === 1) {\n        this.$store.unregisterModule(['projects', this.project.id, 'viewers', this.idViewer]);\n        this.$router.push(`/project/${this.$route.params.idProject}`);\n      }\n      else {\n        this.$store.dispatch(this.viewerModule + 'removeImage', index);\n      }\n    },\n\n    async loadViewer() {\n      try {\n        this.$store.commit('currentProject/setCurrentViewer', this.idViewer);\n        if(!this.viewer) {\n          this.$store.registerModule(['projects', this.project.id, 'viewers', this.idViewer], viewerModuleModel);\n\n          let images = {};\n          //don't fetch multiple times the same image.\n          let idImages = [...new Set(this.idImages)];\n          await Promise.all(idImages.map(async id => {\n            let image = await ImageInstance.fetch(id);\n            images[id] = image;\n          }));\n\n          console.log('images', images);\n          const imagesNotInCurrentProject = Object.values(images).filter(image => image.project != this.project.id);\n          console.log('imagesNotInCurrentProject', imagesNotInCurrentProject);\n          if (imagesNotInCurrentProject.length > 0) {\n            this.errorBadImageProject = true;\n            throw new Error('Some images are not from this project');\n          }\n\n          this.idImages.forEach(async id => {\n            await this.$store.dispatch(this.viewerModule + 'addImage', images[id]);\n          });\n        }\n        else {\n          await this.$store.dispatch(this.viewerModule + 'refreshData');\n        }\n        this.loading = false;\n      }\n      catch(err) {\n        console.log(err);\n        this.error = true;\n      }\n    },\n\n    shortkeyEvent(event) {\n      this.$eventBus.$emit('shortkeyEvent', event.srcKey);\n    }\n  },\n  async created() {\n    this.findIdViewer();\n    await this.loadViewer();\n    this.reloadInterval = setInterval(\n      () => this.$eventBus.$emit('reloadAnnotations'),\n      constants.VIEWER_ANNOTATIONS_REFRESH_INTERVAL\n    );\n  },\n  beforeDestroy() {\n    clearInterval(this.reloadInterval);\n  }\n};\n</script>\n\n<style scoped>\n.cytomine-viewer {\n  height: 100%;\n}\n\n.maps-wrapper {\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  position: relative;\n  overflow: hidden;\n}\n\n.map-cell {\n  border-top: 0.2em solid #222;\n  overflow: hidden;\n}\n\n.hidden {\n  display: none;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineViewer.vue?vue&type=template&id=44275351&scoped=true&\"\nimport script from \"./CytomineViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineViewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineViewer.vue?vue&type=style&index=0&id=44275351&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44275351\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permissionError || _vm.notFoundError)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t(_vm.permissionError ? 'access-denied' : 'not-found'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t(_vm.permissionError ? 'insufficient-permission' : 'not-found-error'))+\" \")])]):_c('div',{staticClass:\"project-container\"},[(!_vm.loading)?_c('project-sidebar',{key:_vm.idProject}):_vm._e(),_c('div',{staticClass:\"app-content\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('router-view'):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"sidebar\",staticClass:\"sidebar-wrapper\",class:{expanded: _vm.expanded}},[_c('nav',{staticClass:\"sidebar\",on:{\"click\":_vm.clickHandler}},[_c('h1',{staticClass:\"project-name\"},[_vm._v(_vm._s(((_vm.$t('project')) + \": \" + (_vm.project.name))))]),_c('ul',[(_vm.isTabDisplayed('images'))?[_c('router-link',{attrs:{\"tag\":\"li\",\"to\":(\"/project/\" + (_vm.project.id) + \"/images\")}},[_c('a',[_c('i',{staticClass:\"far fa-images\"}),_vm._v(\" \"+_vm._s(_vm.$t('images'))+\" \")])])]:_vm._e(),(_vm.isTabDisplayed('annotations'))?_c('router-link',{attrs:{\"tag\":\"li\",\"to\":(\"/project/\" + (_vm.project.id) + \"/annotations\")}},[_c('a',[_c('i',{staticClass:\"far fa-edit\"}),_vm._v(\" \"+_vm._s(_vm.$t('annotations'))+\" \")])]):_vm._e(),(_vm.isTabDisplayed('jobs'))?_c('router-link',{attrs:{\"tag\":\"li\",\"to\":(\"/project/\" + (_vm.project.id) + \"/analysis\")}},[_c('a',[_c('i',{staticClass:\"fas fa-tasks\"}),_vm._v(\" \"+_vm._s(_vm.$t('analysis'))+\" \")])]):_vm._e(),(_vm.isTabDisplayed('activities'))?_c('router-link',{attrs:{\"tag\":\"li\",\"to\":(\"/project/\" + (_vm.project.id) + \"/activity\")}},[_c('a',[_c('i',{staticClass:\"fas fa-tachometer-alt\"}),_vm._v(\" \"+_vm._s(_vm.$t('activity'))+\" \")])]):_vm._e(),(_vm.isTabDisplayed('information'))?_c('router-link',{attrs:{\"tag\":\"li\",\"to\":(\"/project/\" + (_vm.project.id) + \"/information\")}},[_c('a',[_c('i',{staticClass:\"fas fa-info-circle\"}),_vm._v(\" \"+_vm._s(_vm.$t('information'))+\" \")])]):_vm._e()],2),_c('ul',{staticClass:\"bottom-menu\"},[(_vm.isTabDisplayed('configuration'))?_c('router-link',{attrs:{\"tag\":\"li\",\"to\":(\"/project/\" + (_vm.project.id) + \"/configuration\")}},[_c('a',[_c('i',{staticClass:\"fas fa-cogs\"}),_vm._v(\" \"+_vm._s(_vm.$t('configuration'))+\" \")])]):_vm._e()],1)]),_c('div',{staticClass:\"arrow-sidebar\",on:{\"click\":function($event){_vm.expanded = false}}},[_c('i')])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"sidebar-wrapper\" :class=\"{expanded: expanded}\" ref=\"sidebar\">\n  <nav class=\"sidebar\" @click=\"clickHandler\">\n    <h1 class=\"project-name\">{{`${$t('project')}: ${project.name}`}}</h1>\n    <ul>\n      <template v-if=\"isTabDisplayed('images')\">\n        <router-link tag=\"li\" :to=\"`/project/${project.id}/images`\">\n          <a>\n            <i class=\"far fa-images\"></i>\n            {{ $t('images') }}\n          </a>\n        </router-link>\n      </template>\n      <router-link v-if=\"isTabDisplayed('annotations')\" tag=\"li\" :to=\"`/project/${project.id}/annotations`\">\n        <a>\n          <i class=\"far fa-edit\"></i>\n          {{ $t('annotations') }}\n        </a>\n      </router-link>\n      <router-link  v-if=\"isTabDisplayed('jobs')\" tag=\"li\" :to=\"`/project/${project.id}/analysis`\">\n        <a>\n          <i class=\"fas fa-tasks\"></i>\n          {{ $t('analysis') }}\n        </a>\n      </router-link>\n      <router-link v-if=\"isTabDisplayed('activities')\" tag=\"li\" :to=\"`/project/${project.id}/activity`\">\n        <a>\n          <i class=\"fas fa-tachometer-alt\"></i>\n          {{ $t('activity') }}\n        </a>\n      </router-link>\n      <router-link v-if=\"isTabDisplayed('information')\" tag=\"li\" :to=\"`/project/${project.id}/information`\">\n        <a>\n          <i class=\"fas fa-info-circle\"></i>\n          {{ $t('information') }}\n        </a>\n        </router-link>\n    </ul>\n    <ul class=\"bottom-menu\">\n      <router-link v-if=\"isTabDisplayed('configuration')\" tag=\"li\" :to=\"`/project/${project.id}/configuration`\">\n        <a>\n          <i class=\"fas fa-cogs\"></i>\n          {{ $t('configuration') }}\n        </a>\n      </router-link>\n    </ul>\n  </nav>\n\n  <div class=\"arrow-sidebar\" @click=\"expanded = false\">\n    <i></i>\n  </div>\n</div>\n</template>\n\n<script>\nimport {get, sync} from '@/utils/store-helpers';\n\nexport default {\n  name: 'project-sidebar',\n  computed: {\n    project: get('currentProject/project'),\n    configUI: get('currentProject/configUI'),\n    expanded: sync('currentUser/expandedSidebar')\n  },\n  methods: {\n    clickHandler(event) {\n      let el = event.target;\n      if(!this.expanded && el.tagName !== 'I' && el.tagName !== 'A') { // if user clicked on icon, navigation purpose => do not expand the nav bar\n        this.expanded = true;\n      }\n    },\n    isTabDisplayed(tab) {\n      return this.configUI[`project-${tab}-tab`];\n    },\n    transitionEndHandler() { // led to a change of the size of the content div => need to reload OL map\n      this.$eventBus.$emit('updateMapSize');\n    }\n  },\n  mounted() {\n    this.$refs.sidebar.addEventListener('transitionend', this.transitionEndHandler);\n  },\n  beforeDestroy() {\n    this.$refs.sidebar.removeEventListener('transitionend', this.transitionEndHandler);\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n$background: #444;\n$activeBackground: #4f4f4f;\n$hoverBackground: #82aad8;\n$color: #ccc;\n$activeColor: #eee;\n$hoverColor: white;\n$arrowBackground: #484848;\n$border: #383838;\n$arrowColor: #888;\n\n.sidebar-wrapper {\n  display: flex;\n  height: 100%;\n  background: $background;\n  overflow: hidden;\n  transition: width .2s linear;\n  width: 4rem;\n}\n\n.sidebar-wrapper.expanded {\n  width:16rem;\n}\n\n.sidebar {\n  width: 16rem;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n}\n\n.project-name {\n  padding: 0.8em 0em 0.8em;\n  width: 14.5rem !important;\n  line-height: 1.8rem;\n  text-align: center;\n  color: $background;\n  font-size: 1rem;\n  margin: 0;\n  letter-spacing: 0.05em;\n  text-transform: uppercase;\n  text-align: center;\n  font-weight: 600;\n}\n\n.sidebar-wrapper.expanded .project-name {\n  color: $activeColor !important;\n}\n\nul {\n  width: 100%;\n}\n\nli {\n  height: 3.5rem;\n}\n\n.bottom-menu {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n}\n\na {\n  position: relative;\n  display: block;\n  font-size: 0.85rem;\n  height: 100%;\n  font-weight: 600;\n  color: $color;\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n}\n\n.fas, .far {\n  font-size: 1.25rem;\n  width: 4rem;\n  text-align: center;\n  flex-shrink: 0;\n}\n\nli a:hover {\n  color: $hoverColor;\n  background: $hoverBackground!important;\n}\n\nli.is-active a {\n  box-shadow: inset 5px 0 0 $hoverBackground;\n  color: $activeColor;\n  background: $activeBackground;\n}\n\n.arrow-sidebar {\n  width: 1.5rem;\n  border-left: 1px solid $border;\n  background: $arrowBackground;\n  justify-content: center;\n  display:flex;\n  align-items: center;\n}\n\n.arrow-sidebar i {\n  border: solid $arrowColor;\n  border-width: 0 2px 2px 0;\n  display: inline-block;\n  padding: 0.25rem;\n  transform: rotate(135deg);\n  margin-left: 0.25rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectSidebar.vue?vue&type=template&id=2888de7a&scoped=true&\"\nimport script from \"./ProjectSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectSidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectSidebar.vue?vue&type=style&index=0&id=2888de7a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2888de7a\",\n  null\n  \n)\n\nexport default component.exports","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nexport default {\n  namespaced: true,\n\n  state() {\n    return {\n      searchString: '',\n\n      filtersOpened: false,\n      filters: {\n        formats: [],\n        vendors: [],\n        selectedTags: [],\n        magnifications: [],\n        resolutions: [],\n        boundsWidth: null,\n        boundsHeight: null,\n        boundsUserAnnotations: null,\n        boundsJobAnnotations: null,\n        boundsReviewedAnnotations: null\n      },\n\n      currentPage: 1,\n      perPage: 10,\n      sortField: null,\n      sortOrder: 'asc',\n      openedDetails: []\n    };\n  },\n\n  mutations: {\n    setSearchString(state, searchString) {\n      state.searchString = searchString;\n    },\n\n    setFiltersOpened(state, value) {\n      state.filtersOpened = value;\n    },\n\n    setFilter(state, {filterName, propValue}) {\n      state.filters[filterName] = propValue;\n    },\n\n    setCurrentPage(state, page) {\n      state.currentPage = page;\n    },\n\n    setPerPage(state, perPage) {\n      state.perPage = perPage;\n    },\n\n    setSortField(state, field) {\n      state.sortField = field;\n    },\n\n    setSortOrder(state, order) {\n      state.sortOrder = order;\n    },\n\n    setOpenedDetails(state, value) {\n      state.openedDetails = value;\n    }\n  },\n\n  getters: {\n    nbActiveFilters: state => {\n      return Object.values(state.filters).filter(val => val && val.length > 0).length; // count the number of not null values\n    }\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport Vue from 'vue';\n\nexport default {\n  namespaced: true,\n\n  state() {\n    return {\n      previewSize: null,\n      perPage: 25,\n      outlineColor: null,\n\n      annotationType: null,\n      filters: {\n        members: null,\n        reviewers: null,\n        userJobs: null,\n        images: null,\n        termsIds: null,\n        tags: null\n      },\n      fromDate: null,\n      toDate: null,\n\n      currentPages: {} // mapping of type {idTerm: currentPage}\n    };\n  },\n\n  mutations: {\n    setPreviewSize(state, size) {\n      state.previewSize = size;\n    },\n\n    setPerPage(state, perPage) {\n      state.perPage = perPage;\n    },\n\n    setOutlineColor(state, color) {\n      state.outlineColor = color;\n    },\n\n    setAnnotationType(state, type) {\n      state.annotationType = type;\n    },\n\n    setFilter(state, {filterName, propValue}) {\n      state.filters[filterName] = propValue;\n    },\n\n    setFromDate(state, date) {\n      state.fromDate = date;\n    },\n\n    setToDate(state, date) {\n      state.toDate = date;\n    },\n\n    resetPagesAndFilters(state) {\n      for(let key in state.filters) {\n        state.filters[key] = null;\n      }\n      state.fromDate = null;\n      state.toDate = null;\n      state.currentPages = {};\n    },\n\n    setCurrentPage(state, {term, page}) {\n      Vue.set(state.currentPages, term, page);\n    }\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nexport default {\n  namespaced: true,\n\n  state() {\n    return {\n      filters: {\n        softwares: [],\n        launchers: [],\n        statuses: []\n      },\n      executionDate: null,\n\n      currentPage: 1,\n      perPage: 10,\n      sortField: 'created',\n      sortOrder: 'desc',\n      openedDetails: []\n    };\n  },\n\n  mutations: {\n    setFilter(state, {filterName, propValue}) {\n      state.filters[filterName] = propValue;\n    },\n\n    setExecutionDate(state, date) {\n      state.executionDate = date;\n    },\n\n    setCurrentPage(state, page) {\n      state.currentPage = page;\n    },\n\n    setPerPage(state, perPage) {\n      state.perPage = perPage;\n    },\n\n    setSortField(state, field) {\n      state.sortField = field;\n    },\n\n    setSortOrder(state, order) {\n      state.sortOrder = order;\n    },\n\n    setOpenedDetails(state, value) {\n      state.openedDetails = value;\n    }\n  }\n};\n","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport listImages from './project_modules/list-images.js';\nimport listAnnotations from './project_modules/list-annotations.js';\nimport listJobs from './project_modules/list-jobs.js';\n\nexport default {\n  namespaced: true,\n\n  state() {\n    return {\n      id: null,\n      name: null\n    };\n  },\n\n  mutations: {\n    setProject(state, project) {\n      state.id = project.id;\n      state.name = project.name;\n    },\n  },\n\n  modules: {\n    viewers: {\n      namespaced: true\n    },\n    listImages,\n    listAnnotations,\n    listJobs\n  }\n};\n","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n  <div class=\"box error\" v-if=\"permissionError || notFoundError\">\n    <h2> {{ $t(permissionError ? 'access-denied' : 'not-found') }} </h2>\n    <p> {{ $t(permissionError ? 'insufficient-permission' : 'not-found-error') }} </p>\n  </div>\n  <div v-else class=\"project-container\">\n    <project-sidebar v-if=\"!loading\" :key=\"idProject\" />\n\n    <div class=\"app-content\">\n      <b-loading :is-full-page=\"false\" :active=\"loading\" />\n      <router-view v-if=\"!loading\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\nimport ProjectSidebar from './ProjectSidebar.vue';\nimport projectModuleModel from '@/store/modules/project';\n\nexport default {\n  name: 'cytomine-project',\n  components: {ProjectSidebar},\n  data() {\n    return {\n      loading: true,\n      permissionError: false,\n      notFoundError: false\n    };\n  },\n  computed: {\n    idProject() {\n      return this.$route.params.idProject;\n    },\n    project: get('currentProject/project'),\n    projectModule() {\n      return this.$store.state.projects[this.idProject];\n    }\n  },\n  watch: {\n    async idProject() {\n      this.loading = true;\n      await this.loadProject();\n    },\n    projectModule() {\n      if(!this.projectModule) {\n        console.log('Project closed from external source');\n        this.$store.commit('currentProject/resetState');\n        this.$router.push('/projects');\n      }\n    }\n  },\n  methods: {\n    async loadProject() {\n      try {\n        if(!this.$store.state.projects[this.idProject]) { // module does not exist yet\n          this.$store.registerModule(['projects', this.idProject], projectModuleModel);\n        }\n        await this.$store.dispatch('currentProject/loadProject', this.idProject);\n        this.loading = false;\n      }\n      catch(error) {\n        console.log(error);\n        if(error.response && error.response.status === 403) {\n          this.permissionError = true;\n        }\n        else {\n          this.notFoundError = true;\n        }\n      }\n    },\n    deleteAnnotationEventHandler(annot) {\n      let updatedProject = this.$store.state.currentProject.project.clone();\n      if(annot.type === 'UserAnnotation') {\n        updatedProject.numberOfAnnotations--;\n      }\n      else {\n        updatedProject.numberOfReviewedAnnotations--;\n      }\n\n      this.$store.dispatch('currentProject/updateProject', updatedProject);\n    }\n  },\n  async created() {\n    await this.loadProject();\n  },\n  mounted() {\n    this.$eventBus.$on('deleteAnnotation', this.deleteAnnotationEventHandler);\n  },\n  beforeDestroy() {\n    this.$eventBus.$off('deleteAnnotation', this.deleteAnnotationEventHandler);\n  }\n};\n</script>\n\n<style>\n.project-container {\n  display: flex;\n  height: 100%;\n  flex: 1;\n  background: #d4d4d4;\n  overflow-y: auto;\n  position: relative;\n}\n\n.app-content {\n  flex: 1;\n  position: relative;\n  overflow-y: auto;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProject.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProject.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineProject.vue?vue&type=template&id=199656f9&\"\nimport script from \"./CytomineProject.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineProject.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineProject.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div></div>\n</template>\n\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nexport default {\n  computed: {\n    project: get('currentProject/project'),\n    configUI: get('currentProject/configUI')\n  },\n  created() {\n    if(this.configUI['project-images-tab']) {\n      this.$router.replace(`/project/${this.project.id}/images`);\n    }\n    else {\n      this.$router.replace(`/project/${this.project.id}/information`);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectHome.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectHome.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectHome.vue?vue&type=template&id=63d29cff&\"\nimport script from \"./ProjectHome.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectHome.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-activity-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('div',{staticClass:\"content-wrapper\"},[_c('nav',{staticClass:\"breadcrumb\",attrs:{\"aria-label\":\"breadcrumbs\"}},[_c('ul',[_c('li',[_c('router-link',{attrs:{\"to\":(\"/project/\" + (_vm.project.id))}},[_vm._v(_vm._s(_vm.project.name))])],1),_c('li',[_c('router-link',{attrs:{\"to\":(\"/project/\" + (_vm.project.id) + \"/activity?tab=members\")}},[_vm._v(_vm._s(_vm.$t('members-activity')))])],1),_c('li',{staticClass:\"is-active\"},[_c('a',{attrs:{\"href\":\"#\",\"aria-current\":\"page\"}},[_vm._v(_vm._s(_vm.$t('activity-of-user', {username: _vm.user.fullName})))])])])]),_c('div',{staticClass:\"box\"},[(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('p',{staticClass:\"last-update is-size-7 has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('data-last-updated-on', {time: _vm.$options.filters.moment(_vm.lastUpdate, 'LTS')}))+\" \")]),_c('h1',[_vm._v(_vm._s(_vm.$t('activity-of-user', {username: _vm.user.fullName})))]),_c('ul',[(_vm.currentUser.adminByNow)?_c('li',[_c('strong',[_vm._v(_vm._s(_vm.$t('email'))+\":\")]),_vm._v(\" \"),_c('a',{attrs:{\"href\":(\"mailto:\" + (_vm.user.email))}},[_vm._v(_vm._s(_vm.user.email))])]):_vm._e(),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.$t('registration-date'))+\":\")]),_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.user.created),'ll LTS')))]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.$t('first-project-connection'))+\":\")]),_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.resumeActivity.firstConnection),'ll LTS')))]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.$t('last-project-connection'))+\":\")]),_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(_vm.resumeActivity.lastConnection),'ll LTS')))])]),_c('hr'),_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('project-connections')))]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.resumeActivity.totalConnections))])])]),_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('image-consultations')))]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.resumeActivity.totalConsultations))])])]),_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('annotation-selections')))]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.resumeActivity.totalAnnotationSelections))])])]),_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('annotation-creations')))]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.resumeActivity.totalAnnotations))])])])]),_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('detailed-project-connections')))]),_c('b-table',{attrs:{\"data\":_vm.connections.array,\"default-sort\":\"created\",\"default-sort-direction\":\"desc\",\"paginated\":true,\"per-page\":_vm.connectionsPerPage,\"pagination-size\":\"is-small\",\"detailed\":\"\",\"detail-key\":\"id\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar connection = ref.row;\nreturn [_c('b-table-column',{attrs:{\"label\":_vm.$t('date'),\"field\":\"created\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(connection.created),'ll LT'))+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('duration'),\"field\":\"time\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"duration\")(connection.time,'humanize'))+\" \"),(connection.online)?_c('span',{staticClass:\"tag is-success\"},[_vm._v(_vm._s(_vm.$t('ongoing')))]):_vm._e()]),_c('b-table-column',{attrs:{\"label\":_vm.$t('number-viewed-images'),\"field\":\"countViewedImages\",\"centered\":\"\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(connection.countViewedImages)+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('number-annotation-creations'),\"field\":\"countCreatedAnnotations\",\"centered\":\"\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(connection.countCreatedAnnotations)+\" \")])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-project-connection')))])])]},proxy:true},{key:\"detail\",fn:function(ref){\nvar connection = ref.row;\nreturn [_c('project-connection-details',{key:connection.id,attrs:{\"connection\":connection}})]}},{key:\"footer\",fn:function(){return [_c('p',{staticClass:\"has-text-centered\"},[_c('a',{staticClass:\"button is-link\",attrs:{\"href\":_vm.connections.downloadURL,\"target\":\"_self\"}},[_vm._v(\" \"+_vm._s(_vm.$t('button-export-as-csv'))+\" \")])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.connectionsPerPage),callback:function ($$v) {_vm.connectionsPerPage=$$v},expression:\"connectionsPerPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}],null,false,1089540910)}),_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('connections-chart')))]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-narrow\"},[_c('b-field',{attrs:{\"label\":_vm.$t('by'),\"horizontal\":\"\"}},[_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.period),callback:function ($$v) {_vm.period=$$v},expression:\"period\"}},[_c('option',{attrs:{\"value\":\"hour\"}},[_vm._v(_vm._s(_vm.$t('hour')))]),_c('option',{attrs:{\"value\":\"day\"}},[_vm._v(_vm._s(_vm.$t('day')))]),_c('option',{attrs:{\"value\":\"week\"}},[_vm._v(_vm._s(_vm.$t('week')))])])],1)],1),_c('div',{staticClass:\"column is-narrow\"},[_c('b-field',{attrs:{\"label\":_vm.$t('from'),\"horizontal\":\"\"}},[_c('cytomine-datepicker',{attrs:{\"resetButton\":false,\"maxDate\":_vm.endDate || new Date()},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}})],1)],1),_c('div',{staticClass:\"column is-narrow\"},[_c('b-field',{attrs:{\"label\":_vm.$t('to'),\"horizontal\":\"\"}},[_c('cytomine-datepicker',{attrs:{\"minDate\":_vm.startDate,\"maxDate\":new Date()},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1)],1)]),_c('div',{staticClass:\"chart-container\"},[_c('last-connections-chart',{attrs:{\"css-classes\":\"chart\",\"project\":_vm.project.id,\"user\":_vm.idUser,\"period\":_vm.period,\"startDate\":_vm.startDate.getTime(),\"endDate\":_vm.endDate ? _vm.endDate.setHours(23, 59, 59, 999) : null,\"showDates\":true,\"revision\":_vm.chartRevision}})],1),_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('detailed-image-consultations')))]),_c('b-table',{attrs:{\"data\":_vm.consultations.array,\"paginated\":true,\"per-page\":_vm.consultationsPerPage,\"pagination-size\":\"is-small\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar consultation = ref.row;\nreturn [_c('b-table-column',{attrs:{\"label\":_vm.$t('overview'),\"field\":\"created\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (_vm.project.id) + \"/image/\" + (consultation.image))}},[_c('img',{staticClass:\"image-overview\",attrs:{\"src\":consultation.imageThumb}})])],1),_c('b-table-column',{attrs:{\"label\":_vm.$t('image'),\"field\":\"imageName\",\"sortable\":\"\"}},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (_vm.project.id) + \"/image/\" + (consultation.image))}},[_vm._v(\" \"+_vm._s(consultation.imageName)+\" \")])],1),_c('b-table-column',{attrs:{\"label\":_vm.$t('duration'),\"field\":\"time\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"duration\")(consultation.time,'humanize'))+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('number-consultations'),\"field\":\"frequency\",\"centered\":\"\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(consultation.frequency)+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('first-consultation'),\"field\":\"first\",\"centered\":\"\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(consultation.first),'ll LT'))+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('last-consultation'),\"field\":\"last\",\"centered\":\"\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(consultation.last),'ll LT'))+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('number-annotation-creations'),\"field\":\"countCreatedAnnotations\",\"centered\":\"\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(consultation.countCreatedAnnotations)+\" \")])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-image-consultation')))])])]},proxy:true},{key:\"footer\",fn:function(){return [_c('p',{staticClass:\"has-text-centered\"},[_c('a',{staticClass:\"button is-link\",attrs:{\"href\":_vm.consultations.downloadURL,\"target\":\"_self\"}},[_vm._v(\" \"+_vm._s(_vm.$t('button-export-as-csv'))+\" \")])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.consultationsPerPage),callback:function ($$v) {_vm.consultationsPerPage=$$v},expression:\"consultationsPerPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}],null,false,3549163850)})]],2)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table',{staticClass:\"table\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading},on:{\"update:active\":function($event){_vm.loading=$event}}}),(!_vm.loading)?_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('operating-system')))]),_c('td',[_vm._v(_vm._s(_vm.connection.os))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('browser')))]),_c('td',{staticClass:\"is-capitalized\"},[_vm._v(\" \"+_vm._s(_vm.connection.browser)+\" \"),(_vm.connection.browserVersion)?_c('span',[_vm._v(_vm._s(_vm.connection.browserVersion))]):_vm._e()])]),(_vm.consultations)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('image-consultations')))]),_c('td',[(_vm.consultations.length > 0)?_c('div',{staticClass:\"columns is-multiline\"},_vm._l((_vm.consultations),function(consultation){return _c('div',{key:consultation.id,staticClass:\"column\"},[_c('image-preview',{attrs:{\"image\":consultation,\"blindMode\":_vm.blindMode}},[_c('div',{staticClass:\"details\"},[_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t('duration'))+\":\")]),_vm._v(\" \"+_vm._s(_vm._f(\"duration\")(consultation.time,'humanize'))+\" \"),_c('br'),_c('strong',[_vm._v(_vm._s(_vm.$t('annotation-creations'))+\":\")]),_vm._v(\" \"+_vm._s(consultation.countCreatedAnnotations || 0)+\" \")])])])],1)}),0):_c('em',{staticClass:\"has-text-grey\"},[_vm._v(_vm._s(_vm.$t('no-image-consultation')))])])]):_vm._e()]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<table class=\"table\">\n  <b-loading :is-full-page=\"false\" :active.sync=\"loading\" />\n  <tbody v-if=\"!loading\">\n    <tr>\n      <td>{{$t('operating-system')}}</td>\n      <td>{{connection.os}}</td>\n    </tr>\n    <tr>\n      <td>{{$t('browser')}}</td>\n      <td class=\"is-capitalized\">\n        {{connection.browser}} <span v-if=\"connection.browserVersion\">{{connection.browserVersion}}</span>\n      </td>\n    </tr>\n    <tr v-if=\"consultations\">\n      <td>{{$t('image-consultations')}}</td>\n      <td>\n        <div v-if=\"consultations.length > 0\" class=\"columns is-multiline\">\n          <div class=\"column\" v-for=\"consultation in consultations\" :key=\"consultation.id\">\n            <image-preview :image=\"consultation\" :blindMode=\"blindMode\">\n              <div class=\"details\">\n                <p>\n                  <strong>{{$t('duration')}}:</strong>\n                  {{ consultation.time | duration('humanize') }}\n                  <br>\n                  <strong>{{$t('annotation-creations')}}:</strong>\n                  {{consultation.countCreatedAnnotations || 0}}\n                </p>\n              </div>\n            </image-preview>\n          </div>\n        </div>\n        <em v-else class=\"has-text-grey\">{{$t('no-image-consultation')}}</em>\n      </td>\n    </tr>\n  </tbody>\n</table>\n</template>\n\n<script>\nimport {ImageConsultationCollection} from 'cytomine-client';\nimport ImagePreview from '@/components/image/ImagePreview';\n\nexport default {\n  name: 'project-connection-details',\n  components: {ImagePreview},\n  props: {\n    connection: Object\n  },\n  data() {\n    return {\n      loading: true,\n      consultations: null\n    };\n  },\n  computed: {\n    blindMode() {\n      return this.$store.state.currentProject.project.blindMode;\n    }\n  },\n  async created() {\n    try {\n      this.consultations = (await ImageConsultationCollection.fetchAll({projectConnection: this.connection.id})).array;\n    }\n    catch(error) {\n      console.log(error);\n      this.$notify({type: 'error', text: this.$t('error-failed-to-fetch-image-consultations')});\n    }\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\n.table {\n  background: none;\n  position: relative;\n}\n\ntd:first-child {\n  white-space: nowrap;\n  font-weight: 600;\n}\n\ntd:last-child {\n  width: 100%;\n}\n\n.column {\n  min-width: 18em;\n  max-width: 18em;\n}\n\n.details {\n  font-size: 0.85em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectConnectionDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectConnectionDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectConnectionDetails.vue?vue&type=template&id=d6c43a1e&scoped=true&\"\nimport script from \"./ProjectConnectionDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectConnectionDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectConnectionDetails.vue?vue&type=style&index=0&id=d6c43a1e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d6c43a1e\",\n  null\n  \n)\n\nexport default component.exports","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport {Bar} from 'vue-chartjs';\nimport {ProjectConnectionCollection} from 'cytomine-client';\nimport moment from 'moment';\n\nexport default {\n  name: 'last-connections-chart',\n  extends: Bar,\n  props: {\n    startDate: Number,\n    endDate: Number,\n    period: String,\n    project: Number,\n    user: Number,\n    showDates: {type: Boolean, default: false},\n    revision: Number\n  },\n  data() {\n    return {\n      chartData: null,\n      projectConnections: null\n    };\n  },\n  computed: {\n    locale() {\n      return this.$i18n.locale;\n    },\n    queryParams() {\n      this.revision; // update of revision value will trigger re-evaluation of queryParams => new object => fetch data\n      return {\n        afterThan: this.startDate,\n        beforeThan: this.endDate,\n        period: this.period,\n        user: this.user,\n        project: this.project\n      };\n    },\n    momentPeriod() {\n      return this.period + 's';\n    }\n  },\n  watch: {\n    async queryParams() {\n      await this.fetchData();\n      this.updateChart();\n    },\n    locale() {\n      this.updateLabels();\n      this.updateChart();\n    }\n  },\n  methods: {\n    async fetchData() {\n      let connections = (await ProjectConnectionCollection.fetchConnectionsFrequency(this.queryParams)).sort();\n      connections.sort((a, b) => Number(a.time) < Number(b.time) ? -1 : 1);\n\n      let allConnections = [];\n      let iterMoment = moment(this.startDate);\n      let lastMoment = this.endDate ? moment(this.endDate) : moment();\n      let indexConnection = 0;\n      while(iterMoment.isBefore(lastMoment)) {\n        if(connections[indexConnection] && iterMoment.isSame(Number(connections[indexConnection].time), this.period)) {\n          allConnections.push(connections[indexConnection]);\n          indexConnection++;\n        }\n        else {\n          allConnections.push({time: iterMoment.valueOf(), frequency: 0});\n        }\n        iterMoment.add(1, this.momentPeriod);\n      }\n      this.projectConnections = allConnections;\n      this.chartData.datasets[0].data = this.projectConnections.map(item => item.frequency);\n      this.updateLabels();\n    },\n    updateLabels() {\n      this.chartData.labels = this.projectConnections.map(item => {\n        let time = Number(item.time);\n        switch(this.period) {\n          case 'hour':\n            return moment(time).format(this.showDates ? 'll LT' : 'LT') + ' - ' + moment(time).add(1, 'hours').format('LT');\n          case 'day':\n            return moment(time).format(this.showDates ? 'll' : 'dddd');\n          case 'week':\n            return moment(time).format('ll') + ' - ' + moment.min(moment(), moment(time).endOf('week')).format('ll');\n        }\n      });\n    },\n    async updateChart() {\n      this.$data._chart.update();\n    }\n  },\n  async mounted () {\n    this.chartData = {\n      labels: [],\n      datasets: [\n        {\n          label: this.$t('project-connections'),\n          data: [],\n          backgroundColor: '#4480c4',\n          borderWidth: 0\n        }\n      ]\n    };\n\n    await this.fetchData();\n\n    this.renderChart(this.chartData, {\n      maintainAspectRatio: false,\n      legend: {display: false},\n      scales: {\n        yAxes: [{\n          ticks: {\n            min: 0,\n          }\n        }],\n        xAxes: [{\n          categoryPercentage: 0.6,\n          gridLines: {\n            display: false\n          }\n        }]\n      }\n    });\n  }\n};\n","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"user-activity-wrapper\">\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\n  <div class=\"content-wrapper\" v-if=\"!loading\">\n    <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n      <ul>\n        <li><router-link :to=\"`/project/${project.id}`\">{{project.name}}</router-link></li>\n        <li><router-link :to=\"`/project/${project.id}/activity?tab=members`\">{{$t('members-activity')}}</router-link></li>\n        <li class=\"is-active\"><a href=\"#\" aria-current=\"page\">{{$t('activity-of-user', {username: user.fullName})}}</a></li>\n      </ul>\n    </nav>\n\n    <div class=\"box\">\n      <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n        <h2> {{ $t('error') }} </h2>\n        <p> {{ $t('unexpected-error-info-message') }} </p>\n      </b-message>\n\n      <template v-else>\n        <p class=\"last-update is-size-7 has-text-grey\">\n          {{$t('data-last-updated-on', {time: $options.filters.moment(lastUpdate, 'LTS')})}}\n        </p>\n\n        <h1>{{$t('activity-of-user', {username: user.fullName})}}</h1>\n\n        <ul>\n          <li v-if=\"currentUser.adminByNow\">\n            <strong>{{$t('email')}}:</strong>&nbsp;<a :href=\"`mailto:${user.email}`\">{{user.email}}</a>\n          </li>\n          <li><strong>{{$t('registration-date')}}:</strong> {{Number(user.created) | moment('ll LTS')}}</li>\n          <li><strong>{{$t('first-project-connection')}}:</strong> {{Number(resumeActivity.firstConnection) | moment('ll LTS')}}</li>\n          <li><strong>{{$t('last-project-connection')}}:</strong> {{Number(resumeActivity.lastConnection) | moment('ll LTS')}}</li>\n        </ul>\n\n        <hr>\n\n        <div class=\"level\">\n          <div class=\"level-item has-text-centered\">\n            <div>\n              <p class=\"heading\">{{$t('project-connections')}}</p>\n              <p class=\"title\">{{resumeActivity.totalConnections}}</p>\n            </div>\n          </div>\n          <div class=\"level-item has-text-centered\">\n            <div>\n              <p class=\"heading\">{{$t('image-consultations')}}</p>\n              <p class=\"title\">{{resumeActivity.totalConsultations}}</p>\n            </div>\n          </div>\n          <div class=\"level-item has-text-centered\">\n            <div>\n              <p class=\"heading\">{{$t('annotation-selections')}}</p>\n              <p class=\"title\">{{resumeActivity.totalAnnotationSelections}}</p>\n            </div>\n          </div>\n          <div class=\"level-item has-text-centered\">\n            <div>\n              <p class=\"heading\">{{$t('annotation-creations')}}</p>\n              <p class=\"title\">{{resumeActivity.totalAnnotations}}</p>\n            </div>\n          </div>\n        </div>\n\n        <hr>\n\n        <h2>{{$t('detailed-project-connections')}}</h2>\n\n        <b-table\n          :data=\"connections.array\"\n          default-sort=\"created\"\n          default-sort-direction=\"desc\"\n          :paginated=\"true\"\n          :per-page=\"connectionsPerPage\"\n          pagination-size=\"is-small\"\n          detailed detail-key=\"id\"\n        >\n          <template #default=\"{row: connection}\">\n            <b-table-column :label=\"$t('date')\" field=\"created\" sortable>\n              {{ Number(connection.created) | moment('ll LT') }}\n            </b-table-column>\n\n            <b-table-column :label=\"$t('duration')\" field=\"time\" sortable>\n              {{ connection.time | duration('humanize') }}\n              <span class=\"tag is-success\" v-if=\"connection.online\">{{$t('ongoing')}}</span>\n            </b-table-column>\n\n            <b-table-column :label=\"$t('number-viewed-images')\" field=\"countViewedImages\" centered sortable>\n              {{ connection.countViewedImages }}\n            </b-table-column>\n\n            <b-table-column :label=\"$t('number-annotation-creations')\" field=\"countCreatedAnnotations\" centered sortable>\n              {{ connection.countCreatedAnnotations }}\n            </b-table-column>\n          </template>\n\n          <template #empty>\n            <div class=\"content has-text-grey has-text-centered\">\n              <p>{{$t('no-project-connection')}}</p>\n            </div>\n          </template>\n\n          <template #detail=\"{row: connection}\">\n            <project-connection-details :connection=\"connection\" :key=\"connection.id\" />\n          </template>\n\n          <template #footer>\n            <p class=\"has-text-centered\">\n              <a class=\"button is-link\" :href=\"connections.downloadURL\" target=\"_self\">\n                {{$t('button-export-as-csv')}}\n              </a>\n            </p>\n          </template>\n\n          <template #bottom-left>\n            <b-select v-model=\"connectionsPerPage\" size=\"is-small\">\n              <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\n              <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\n              <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\n              <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\n            </b-select>\n          </template>\n        </b-table>\n\n        <hr>\n\n        <h2>{{$t('connections-chart')}}</h2>\n\n        <div class=\"columns\">\n          <div class=\"column is-narrow\">\n            <b-field :label=\"$t('by')\" horizontal>\n              <b-select size=\"is-small\" v-model=\"period\">\n                <option value=\"hour\">{{$t('hour')}}</option>\n                <option value=\"day\">{{$t('day')}}</option>\n                <option value=\"week\">{{$t('week')}}</option>\n              </b-select>\n            </b-field>\n          </div>\n          <div class=\"column is-narrow\">\n            <b-field :label=\"$t('from')\" horizontal>\n              <cytomine-datepicker v-model=\"startDate\" :resetButton=\"false\" :maxDate=\"endDate || new Date()\" />\n            </b-field>\n          </div>\n          <div class=\"column is-narrow\">\n            <b-field :label=\"$t('to')\" horizontal>\n              <cytomine-datepicker v-model=\"endDate\" :minDate=\"startDate\" :maxDate=\"new Date()\" />\n            </b-field>\n          </div>\n        </div>\n\n        <div class=\"chart-container\">\n          <last-connections-chart\n            css-classes=\"chart\"\n            :project=\"project.id\"\n            :user=\"idUser\"\n            :period=\"period\"\n            :startDate=\"startDate.getTime()\"\n            :endDate=\"endDate ? endDate.setHours(23, 59, 59, 999) : null\"\n            :showDates=\"true\"\n            :revision=\"chartRevision\"\n          />\n        </div>\n\n        <hr>\n\n        <h2>{{$t('detailed-image-consultations')}}</h2>\n\n        <b-table :data=\"consultations.array\" :paginated=\"true\" :per-page=\"consultationsPerPage\" pagination-size=\"is-small\">\n          <template #default=\"{row: consultation}\">\n            <b-table-column :label=\"$t('overview')\" field=\"created\">\n              <router-link :to=\"`/project/${project.id}/image/${consultation.image}`\">\n                <img :src=\"consultation.imageThumb\" class=\"image-overview\">\n              </router-link>\n            </b-table-column>\n\n            <b-table-column :label=\"$t('image')\" field=\"imageName\" sortable>\n              <router-link :to=\"`/project/${project.id}/image/${consultation.image}`\">\n                {{ consultation.imageName }}\n              </router-link>\n            </b-table-column>\n\n            <b-table-column :label=\"$t('duration')\" field=\"time\" sortable>\n              {{ consultation.time | duration('humanize') }}\n            </b-table-column>\n\n            <b-table-column :label=\"$t('number-consultations')\" field=\"frequency\" centered sortable>\n              {{ consultation.frequency }}\n            </b-table-column>\n\n            <b-table-column :label=\"$t('first-consultation')\" field=\"first\" centered sortable>\n              {{ Number(consultation.first) | moment('ll LT')}}\n            </b-table-column>\n\n            <b-table-column :label=\"$t('last-consultation')\" field=\"last\" centered sortable>\n              {{ Number(consultation.last) | moment('ll LT')}}\n            </b-table-column>\n\n            <b-table-column :label=\"$t('number-annotation-creations')\" field=\"countCreatedAnnotations\" centered sortable>\n              {{ consultation.countCreatedAnnotations }}\n            </b-table-column>\n          </template>\n\n          <template #empty>\n            <div class=\"content has-text-grey has-text-centered\">\n              <p>{{$t('no-image-consultation')}}</p>\n            </div>\n          </template>\n\n          <template #footer>\n            <p class=\"has-text-centered\">\n              <a class=\"button is-link\" :href=\"consultations.downloadURL\" target=\"_self\">\n                {{$t('button-export-as-csv')}}\n              </a>\n            </p>\n          </template>\n\n          <template #bottom-left>\n            <b-select v-model=\"consultationsPerPage\" size=\"is-small\">\n              <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\n              <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\n              <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\n              <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\n            </b-select>\n          </template>\n        </b-table>\n      </template>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport {fullName} from '@/utils/user-utils.js';\nimport {User, ProjectConnectionCollection, ImageConsultationCollection} from 'cytomine-client';\n\nimport CytomineDatepicker from '@/components/form/CytomineDatepicker';\nimport ProjectConnectionDetails from '@/components/project/ProjectConnectionDetails';\nimport LastConnectionsChart from '@/components/charts/LastConnectionsChart.js';\n\nimport constants from '@/utils/constants.js';\n\nimport moment from 'moment';\n\nexport default {\n  name: 'member-activity-details',\n  components: {\n    CytomineDatepicker,\n    ProjectConnectionDetails,\n    LastConnectionsChart\n  },\n  data() {\n    return {\n      loading: true,\n      error: false,\n      user: null,\n      resumeActivity: null,\n\n      connections: null,\n      connectionsPerPage: 10,\n\n      consultations: null,\n      consultationsPerPage: 10,\n\n      lastUpdate: null,\n      timeout: null,\n\n      chartRevision: 0,\n      period: 'day',\n      startDate: moment().subtract(1, 'month').toDate(),\n      endDate: null\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    idUser() {\n      return Number(this.$route.params.idUser);\n    },\n    project: get('currentProject/project')\n  },\n  methods: {\n    async fetchData() {\n      try {\n        await Promise.all([\n          this.fetchUser(),\n          this.fetchResumeActivity(),\n          this.fetchConnections(),\n          this.fetchConsultations()\n        ]);\n      }\n      catch(error) {\n        console.log(error);\n        this.error = true;\n        return;\n      }\n\n      this.chartRevision++;\n      this.lastUpdate = new Date();\n      clearTimeout(this.timeout);\n      this.timeout = setTimeout(this.fetchData, constants.MEMBERS_ACTIVITY_REFRESH_INTERVAL);\n    },\n    async fetchUser() {\n      await this.user.fetch();\n      this.user.fullName = fullName(this.user);\n    },\n    async fetchResumeActivity() {\n      this.resumeActivity = await this.user.fetchResumeActivity(this.project.id);\n    },\n    async fetchConnections() {\n      this.connections = await ProjectConnectionCollection.fetchAll({project: this.project.id, user: this.idUser});\n    },\n    async fetchConsultations() {\n      this.consultations = await ImageConsultationCollection.fetchAll({project: this.project.id, user: this.idUser, resume: true});\n    }\n  },\n  async created() {\n    this.user = new User({id: this.idUser});\n    await this.fetchData();\n    this.loading = false;\n  },\n  destroyed() {\n    clearTimeout(this.timeout);\n  }\n};\n</script>\n\n<style scoped>\nh1 {\n  text-transform: initial;\n  letter-spacing: initial;\n  font-weight: 400;\n  font-size: 1.8rem;\n  margin-bottom: 0.7rem;\n}\n\nli {\n  margin-bottom: 0.5em;\n}\n\n.image-overview {\n  max-height: 4rem;\n  max-width: 10rem;\n}\n\n.box {\n  position: relative;\n}\n\n.last-update {\n  position: absolute;\n  top: 1.5em;\n  right: 2em;\n}\n\n.tag {\n  margin-left: 0.5em;\n}\n\n.chart-container {\n  margin-top: 2em;\n  height: 18em;\n  position: relative;\n}\n</style>\n\n<style lang=\"scss\">\n.user-activity-wrapper {\n  .table-wrapper {\n    margin-bottom: 0;\n  }\n\n  .chart {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n  }\n\n  .field.is-horizontal {\n    align-items: center;\n  }\n\n  .field-label {\n    margin-right: 1em !important;\n    padding-top: 0 !important;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberActivityDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberActivityDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MemberActivityDetails.vue?vue&type=template&id=66eaa793&scoped=true&\"\nimport script from \"./MemberActivityDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./MemberActivityDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MemberActivityDetails.vue?vue&type=style&index=0&id=66eaa793&scoped=true&lang=css&\"\nimport style1 from \"./MemberActivityDetails.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66eaa793\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.currentUser.adminByNow)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('access-denied'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.$t('insufficient-permission')))])]):_c('div',{staticClass:\"content-wrapper\"},[_c('b-field',{staticClass:\"radio-buttons-fullwidth\"},[_c('b-radio-button',{attrs:{\"native-value\":\"dashboard\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('dashboard'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"users\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('users'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"trusted-sources\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('trusted-sources'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"tags\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('tags'))+\" \")]),_c('b-radio-button',{attrs:{\"native-value\":\"configuration\",\"type\":\"is-link\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_vm._v(\" \"+_vm._s(_vm.$t('configuration'))+\" \")])],1),_c('div',{staticClass:\"box\"},[_c('keep-alive',[_c(_vm.activeComponent,{tag:\"component\"})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"admin-dashboard-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[_c('h2',[_vm._v(_vm._s(_vm.$t('currently')))]),(!_vm.currentStats)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('failed-fetch-current-stats'))+\" \")]):[_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('online-users')))]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.currentStats.users))])])]),_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('active-projects')))]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.currentStats.projects))])])]),_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(_vm._s(_vm.$t('used-storage-space')))]),_c('p',{staticClass:\"title\"},[(_vm.storageStats)?[_vm._v(_vm._s(Math.round(_vm.storageStats.usedP * 100))+\"%\")]:[_vm._v(\"?\")]],2)])])]),(_vm.currentStats.mostActiveProject)?_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t('most-active-project')))]),_vm._v(\": \"),_c('router-link',{attrs:{\"to\":(\"/project/\" + (_vm.currentStats.mostActiveProject.project.id))}},[_vm._v(\" \"+_vm._s(_vm.currentStats.mostActiveProject.project.name)+\" \")]),_vm._v(\" (\"+_vm._s(_vm.$tc(\"count-active-users\", _vm.currentStats.mostActiveProject.users, {count: _vm.currentStats.mostActiveProject.users}))+\") \")],1):_vm._e()],_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('total')))]),(!_vm.totalCounts)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('failed-fetch-total-counts'))+\" \")]):_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('table',{staticClass:\"table is-fullwidth\"},[_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.users))]),_c('td',[_vm._v(_vm._s(_vm.$t('users')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.projects))]),_c('td',[_vm._v(_vm._s(_vm.$t('projects')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.images))]),_c('td',[_vm._v(_vm._s(_vm.$t('images')))])])])])]),_c('div',{staticClass:\"column\"},[_c('table',{staticClass:\"table is-fullwidth\"},[_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.ontologies))]),_c('td',[_vm._v(_vm._s(_vm.$t('ontologies')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.terms))]),_c('td',[_vm._v(_vm._s(_vm.$t('terms')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.userAnnotations))]),_c('td',[_vm._v(_vm._s(_vm.$t('user-annotations')))])])])])]),_c('div',{staticClass:\"column\"},[_c('table',{staticClass:\"table is-fullwidth\"},[_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.softwares))]),_c('td',[_vm._v(_vm._s(_vm.$t('algorithms')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.jobs))]),_c('td',[_vm._v(_vm._s(_vm.$t('analyses')))])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.totalCounts.jobAnnotations))]),_c('td',[_vm._v(_vm._s(_vm.$t('analysis-annotations')))])])])])])]),_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('last-connections')))]),_c('div',{staticClass:\"is-flex\"},[_c('strong',{staticClass:\"has-margin-right\"},[_vm._v(_vm._s(_vm.$t('period')))]),_c('b-select',{model:{value:(_vm.selectedChartOption),callback:function ($$v) {_vm.selectedChartOption=$$v},expression:\"selectedChartOption\"}},_vm._l((_vm.chartOptions),function(option){return _c('option',{key:option.label,domProps:{\"value\":option}},[_vm._v(\" \"+_vm._s(option.label)+\" \")])}),0)],1),_c('div',{staticClass:\"chart-container\"},[_c('last-connections-chart',{attrs:{\"css-classes\":\"chart\",\"startDate\":_vm.selectedChartOption.startDate,\"period\":_vm.selectedChartOption.period}})],1)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"admin-dashboard-wrapper\">\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\n  <template v-if=\"!loading\">\n    <h2>{{$t('currently')}}</h2>\n    <b-message v-if=\"!currentStats\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n      {{$t('failed-fetch-current-stats')}}\n    </b-message>\n    <template v-else>\n      <div class=\"level\">\n        <div class=\"level-item has-text-centered\">\n          <div>\n          <p class=\"heading\">{{$t('online-users')}}</p>\n          <p class=\"title\">{{currentStats.users}}</p>\n          </div>\n        </div>\n        <div class=\"level-item has-text-centered\">\n          <div>\n          <p class=\"heading\">{{$t('active-projects')}}</p>\n          <p class=\"title\">{{currentStats.projects}}</p>\n          </div>\n        </div>\n        <div class=\"level-item has-text-centered\">\n          <div>\n          <p class=\"heading\">{{$t('used-storage-space')}}</p>\n          <p class=\"title\">\n            <template v-if=\"storageStats\">{{Math.round(storageStats.usedP * 100)}}%</template>\n            <template v-else>?</template>\n          </p>\n          </div>\n        </div>\n      </div>\n\n      <p v-if=\"currentStats.mostActiveProject\">\n        <strong>{{$t('most-active-project')}}</strong>:\n        <router-link :to=\"`/project/${currentStats.mostActiveProject.project.id}`\">\n          {{currentStats.mostActiveProject.project.name}}\n        </router-link>\n        ({{$tc(\"count-active-users\", currentStats.mostActiveProject.users, {count: currentStats.mostActiveProject.users})}})\n      </p>\n    </template>\n\n    <hr>\n\n    <h2>{{$t('total')}}</h2>\n    <b-message v-if=\"!totalCounts\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n      {{$t('failed-fetch-total-counts')}}\n    </b-message>\n    <div v-else class=\"columns\">\n      <div class=\"column\">\n        <table class=\"table is-fullwidth\">\n          <tbody>\n            <tr>\n              <td>{{totalCounts.users}}</td>\n              <td>{{$t('users')}}</td>\n            </tr>\n            <tr>\n              <td>{{totalCounts.projects}}</td>\n              <td>{{$t('projects')}}</td>\n            </tr>\n            <tr>\n              <td>{{totalCounts.images}}</td>\n              <td>{{$t('images')}}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <div class=\"column\">\n        <table class=\"table is-fullwidth\">\n          <tbody>\n            <tr>\n              <td>{{totalCounts.ontologies}}</td>\n              <td>{{$t('ontologies')}}</td>\n            </tr>\n            <tr>\n              <td>{{totalCounts.terms}}</td>\n              <td>{{$t('terms')}}</td>\n            </tr>\n            <tr>\n              <td>{{totalCounts.userAnnotations}}</td>\n              <td>{{$t('user-annotations')}}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <div class=\"column\">\n        <table class=\"table is-fullwidth\">\n          <tbody>\n            <tr>\n              <td>{{totalCounts.softwares}}</td>\n              <td>{{$t('algorithms')}}</td>\n            </tr>\n            <tr>\n              <td>{{totalCounts.jobs}}</td>\n              <td>{{$t('analyses')}}</td>\n            </tr>\n            <tr>\n              <td>{{totalCounts.jobAnnotations}}</td>\n              <td>{{$t('analysis-annotations')}}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n\n    <hr>\n    <h2>{{$t('last-connections')}}</h2>\n\n    <div class=\"is-flex\">\n      <strong class=\"has-margin-right\">{{$t('period')}}</strong>\n      <b-select v-model=\"selectedChartOption\">\n        <option v-for=\"option in chartOptions\" :key=\"option.label\" :value=\"option\">\n          {{option.label}}\n        </option>\n      </b-select>\n    </div>\n\n    <div class=\"chart-container\">\n      <last-connections-chart\n        css-classes=\"chart\"\n        :startDate=\"selectedChartOption.startDate\"\n        :period=\"selectedChartOption.period\"\n      />\n    </div>\n\n  </template>\n</div>\n</template>\n\n<script>\nimport {Cytomine} from 'cytomine-client';\nimport LastConnectionsChart from '@/components/charts/LastConnectionsChart.js';\nimport moment from 'moment';\n\nexport default {\n  name: 'admin-dashboard',\n  components: {LastConnectionsChart},\n  data() {\n    return {\n      loading: true,\n      currentStats: null,\n      totalCounts: null,\n      storageStats: null,\n      chartOptions: [],\n      selectedChartOption: null\n    };\n  },\n  methods: {\n    async fetchCurrentStats() {\n      this.currentStats = null; // reset to null so that we know if an error occurred (if so, variable remains null)\n      this.currentStats = await Cytomine.instance.fetchCurrentStats();\n    },\n    async fetchTotalCounts() {\n      this.totalCounts = null;\n      this.totalCounts = await Cytomine.instance.fetchTotalCounts();\n    },\n    async fetchStorageStats() {\n      this.storageStats = null;\n      this.storageStats = await Cytomine.instance.fetchStorageStats();\n    }\n  },\n  created() {\n    let chartOptions = [\n      {interval: 'day', period: 'hour'},\n      {interval: 'week', period: 'day'},\n      {interval: 'month', period: 'week'},\n      {interval: 'year', period: 'week'}\n    ];\n    this.chartOptions = chartOptions.map(option => {\n      let startDate = moment()\n        .add(1, option.period + 's')\n        .subtract(1, option.interval + 's')\n        .startOf(option.period)\n        .valueOf();\n      return {label: this.$t(`last-${option.interval}`), period: option.period, startDate};\n    });\n    this.selectedChartOption = this.chartOptions[0];\n  },\n  async activated() {\n    this.loading = true;\n    await Promise.all([\n      this.fetchCurrentStats(),\n      this.fetchTotalCounts(),\n      this.fetchStorageStats()\n    ].map(p => p.catch(e => console.log(e)))); // ignore errors (handled in template) and ensure all promises finish, even if some errors occur in the process\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\n.admin-dashboard-wrapper {\n  position: relative;\n  min-height: 10em;\n}\n\ntd:first-child {\n  font-weight: 600;\n  text-align: right;\n  padding-right: 1em;\n}\n\n.is-flex {\n  align-items: center;\n}\n\n.has-margin-right {\n  margin-right: 1em;\n}\n\n.chart-container {\n  margin-top: 2em;\n  height: 20em;\n  position: relative;\n}\n\n>>> .chart {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminDashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminDashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminDashboard.vue?vue&type=template&id=c86b88d6&scoped=true&\"\nimport script from \"./AdminDashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminDashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminDashboard.vue?vue&type=style&index=0&id=c86b88d6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c86b88d6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('div',{staticClass:\"column is-one-half has-text-right-desktop\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.startUserCreation()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-new-user'))+\" \")])])]),_c('cytomine-table',{attrs:{\"collection\":_vm.userCollection,\"currentPage\":_vm.currentPage,\"perPage\":_vm.perPage,\"sort\":_vm.sortField,\"order\":_vm.sortOrder,\"detailed\":true,\"revision\":_vm.revision},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:perPage\":function($event){_vm.perPage=$event},\"update:per-page\":function($event){_vm.perPage=$event},\"update:sort\":function($event){_vm.sortField=$event},\"update:order\":function($event){_vm.sortOrder=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar user = ref.row;\nreturn [_c('b-table-column',{attrs:{\"field\":\"username\",\"label\":_vm.$t('username'),\"sortable\":\"\",\"width\":\"100\"}},[_vm._v(\" \"+_vm._s(user.username)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"fullName\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(user.firstname)+\" \"+_vm._s(user.lastname)+\" \")]),_c('b-table-column',{attrs:{\"field\":\"role\",\"label\":_vm.$t('role'),\"sortable\":\"\",\"width\":\"50\"}},[_c('span',{staticClass:\"tag\",class:_vm.getRoleData(user).class},[_vm._v(_vm._s(_vm.$t(_vm.getRoleData(user).label)))])]),_c('b-table-column',{attrs:{\"field\":\"email\",\"label\":_vm.$t('email'),\"sortable\":\"\",\"width\":\"150\"}},[_c('a',{attrs:{\"href\":(\"mailto:\" + (user.email))}},[_vm._v(_vm._s(user.email))])]),_c('b-table-column',{attrs:{\"field\":\"origin\",\"label\":_vm.$t('source'),\"centered\":\"\",\"sortable\":\"\",\"width\":\"50\"}},[_c('span',{class:['tag', user.LDAP ? 'is-link' : 'is-grey']},[_vm._v(\" \"+_vm._s(_vm.displayMemberOrigin(user))+\" \")])]),_c('b-table-column',{attrs:{\"field\":\"created\",\"label\":_vm.$t('created'),\"sortable\":\"\",\"width\":\"150\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(user.created),'ll LT'))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"updated\",\"label\":_vm.$t('updated'),\"sortable\":\"\",\"width\":\"150\"}},[(user.updated)?[_vm._v(_vm._s(_vm._f(\"moment\")(Number(user.updated),'ll LT')))]:[_vm._v(\"-\")]],2),_c('b-table-column',{attrs:{\"label\":\"\",\"width\":\"100\"}},[_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button is-link is-small\",on:{\"click\":function($event){return _vm.startUserEdition(user)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-edit'))+\" \")]),(user.enabled)?_c('button',{staticClass:\"button is-danger is-small\",on:{\"click\":function($event){return _vm.lock(user)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-lock'))+\" \")]):_c('button',{staticClass:\"button is-success is-small\",on:{\"click\":function($event){return _vm.unlock(user)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-unlock'))+\" \")])])])]}},{key:\"detail\",fn:function(ref){\nvar user = ref.row;\nreturn [_c('user-details',{attrs:{\"user\":user}})]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-user-fitting-criteria')))])])]},proxy:true}],null,false,1975094862)}),_c('user-modal',{attrs:{\"active\":_vm.modal,\"user\":_vm.editedUser},on:{\"update:active\":function($event){_vm.modal=$event},\"addUser\":_vm.refreshUsers,\"updateUser\":_vm.updateUser}})]]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.title},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('input',{staticClass:\"hidden\",attrs:{\"id\":\"username\",\"type\":\"text\"}}),_c('input',{staticClass:\"hidden\",attrs:{\"id\":\"password\",\"type\":\"password\"}}),_c('b-field',{key:'username',attrs:{\"label\":_vm.$t('username'),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has('username')},\"message\":_vm.errors.first('username')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":'username',\"type\":'text',\"disabled\":_vm.internalUser.id},model:{value:(_vm.internalUser['username']),callback:function ($$v) {_vm.$set(_vm.internalUser, 'username', $$v)},expression:\"internalUser['username']\"}})],1),_vm._l((_vm.editableFields),function(ref){\nvar field = ref.field;\nvar validationRules = ref.validationRules;\nreturn _c('b-field',{key:field,attrs:{\"label\":_vm.$t(field === 'password' && _vm.editionMode ? 'password-new' : field),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has(field)},\"message\":_vm.errors.first(field)}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(validationRules),expression:\"validationRules\"}],attrs:{\"name\":field,\"type\":field === 'password' ? 'password': 'text',\"password-reveal\":field === 'password'},model:{value:(_vm.internalUser[field]),callback:function ($$v) {_vm.$set(_vm.internalUser, field, $$v)},expression:\"internalUser[field]\"}})],1)}),_c('b-field',{attrs:{\"label\":_vm.$t('role'),\"horizontal\":\"\"}},[_c('b-select',{model:{value:(_vm.selectedRole),callback:function ($$v) {_vm.selectedRole=$$v},expression:\"selectedRole\"}},_vm._l((_vm.roles),function(value,key){return _c('option',{key:key,domProps:{\"value\":key}},[_vm._v(\" \"+_vm._s(_vm.$t(value.label))+\" \")])}),0)],1),_c('b-field',{attrs:{\"label\":_vm.$t('language'),\"horizontal\":\"\"}},[_c('b-select',{model:{value:(_vm.internalUser['language']),callback:function ($$v) {_vm.$set(_vm.internalUser, 'language', $$v)},expression:\"internalUser['language']\"}},_vm._l((_vm.languages),function(ref){\nvar value = ref.value;\nvar name = ref.name;\nreturn _c('option',{key:value,domProps:{\"value\":value}},[_vm._v(\" \"+_vm._s(name)+\" \")])}),0)],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<form @submit.prevent=\"save()\">\n  <cytomine-modal :active=\"active\" :title=\"title\" @close=\"$emit('update:active', false)\">\n    <!-- HACK: fake fields to prevent autofill -->\n    <input id=\"username\" class=\"hidden\" type=\"text\">\n    <input id=\"password\" class=\"hidden\" type=\"password\">\n\n    <b-field\n      :key=\"'username'\"\n      :label=\"$t('username')\"\n      horizontal\n      :type=\"{'is-danger': errors.has('username')}\"\n      :message=\"errors.first('username')\"\n    >\n      <b-input\n        v-model=\"internalUser['username']\"\n        :name=\"'username'\"\n        v-validate=\"'required'\"\n        :type=\"'text'\"\n        :disabled=\"internalUser.id\"\n      />\n    </b-field>\n\n    <b-field\n      v-for=\"{field, validationRules} in editableFields\"\n      :key=\"field\"\n      :label=\"$t(field === 'password' && editionMode ? 'password-new' : field)\"\n      horizontal\n      :type=\"{'is-danger': errors.has(field)}\"\n      :message=\"errors.first(field)\"\n    >\n      <b-input\n        v-model=\"internalUser[field]\"\n        :name=\"field\"\n        v-validate=\"validationRules\"\n        :type=\"field === 'password' ? 'password': 'text'\"\n        :password-reveal=\"field === 'password'\"\n      />\n    </b-field>\n\n    <b-field :label=\"$t('role')\" horizontal>\n      <b-select v-model=\"selectedRole\">\n        <option v-for=\"(value, key) in roles\" :value=\"key\" :key=\"key\">\n          {{$t(value.label)}}\n        </option>\n      </b-select>\n    </b-field>\n\n    <b-field :label=\"$t('language')\" horizontal>\n      <b-select v-model=\"internalUser['language']\">\n        <option v-for=\"{value, name} in languages\" :key=\"value\" :value=\"value\">\n          {{name}}\n        </option>\n      </b-select>\n    </b-field>\n\n    <template #footer>\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\n        {{$t('button-cancel')}}\n      </button>\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\n        {{$t('button-save')}}\n      </button>\n    </template>\n  </cytomine-modal>\n</form>\n</template>\n\n<script>\nimport {User, RoleCollection} from 'cytomine-client';\nimport {rolesMapping} from '@/utils/role-utils';\nconst defaultRole = 'ROLE_GUEST';\nconst defaultLanguage = {value: 'EN', name:'English'};\n\nimport CytomineModal from '@/components/utils/CytomineModal';\n\nexport default {\n  name: 'user-modal',\n  props: {\n    active: Boolean,\n    user: Object\n  },\n  components: {CytomineModal},\n  $_veeValidate: {validator: 'new'},\n  data() {\n    return {\n      internalUser: {},\n      rolesWithIds: null,\n      selectedRole: defaultRole,\n      displayErrors: false,\n      languages: [\n        {value: 'EN', name:'English'},\n        {value: 'FR', name:'Franais'}\n      ]\n    };\n  },\n  computed: {\n    roles() {\n      return rolesMapping;\n    },\n    editionMode() {\n      return Boolean(this.user);\n    },\n    title() {\n      return this.$t(this.editionMode ? 'update-user' : 'create-user');\n    },\n    editableFields() {\n      return [\n        {field: 'firstname', validationRules: 'required'},\n        {field: 'lastname', validationRules: 'required'},\n        //{field: 'username', validationRules: 'required'},\n        {field: 'email', validationRules: 'required|email'},\n        {field: 'password', validationRules: this.editionMode ? 'min:8' : 'required|min:8'}\n      ];\n    },\n    idRole() {\n      return this.rolesWithIds.find(role => role.authority === this.selectedRole).id;\n    }\n  },\n  watch: {\n    active(val) {\n      if(val) {\n        if(!this.rolesWithIds) {\n          this.$notify({type: 'error', text: this.$t('notif-unexpected-error')});\n          this.$emit('update:active', false);\n          return;\n        }\n        this.internalUser = this.user ? this.user.clone() : new User();\n        this.selectedRole = this.user ? this.user.role : defaultRole;\n        this.internalUser.language = this.user ? this.user.language : defaultLanguage.value;\n        this.displayErrors = false;\n      }\n    }\n  },\n  methods: {\n    async save() {\n      let result = await this.$validator.validateAll();\n      if(!result) {\n        return;\n      }\n\n      let labelTranslation = this.editionMode ? 'update' : 'creation';\n\n      try {\n        await this.internalUser.save();\n        if(!this.editionMode || this.selectedRole !== this.user.role) {\n          await this.internalUser.defineRole(this.idRole);\n          this.internalUser.role = this.selectedRole; // for correct rendering in list\n        }\n        if(this.editionMode && this.internalUser.password) {\n          await this.internalUser.savePassword(this.internalUser.password);\n        }\n        this.internalUser.password = ''; // reinitialize password so that if modal reopened, field empty\n        this.$notify({type: 'success', text: this.$t('notif-success-user-' + labelTranslation)});\n        this.$emit('update:active', false);\n        this.$emit(this.editionMode ? 'updateUser' : 'addUser', this.internalUser);\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-user-' + labelTranslation)});\n      }\n    },\n  },\n  async created() {\n    try {\n      this.rolesWithIds = (await RoleCollection.fetchAll()).array;\n    }\n    catch(error) {\n      console.log(error);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.hidden {\n  display: none;\n}\n\n>>> .modal-card, >>> .modal-card-body {\n  width: 100vw;\n  max-width: 800px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserModal.vue?vue&type=template&id=5270eaf7&scoped=true&\"\nimport script from \"./UserModal.vue?vue&type=script&lang=js&\"\nexport * from \"./UserModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserModal.vue?vue&type=style&index=0&id=5270eaf7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5270eaf7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"details-wrapper\"},[_c('b-loading',{staticClass:\"small\",attrs:{\"active\":_vm.loading,\"is-full-page\":false}}),(!_vm.loading)?_c('table',{staticClass:\"table\"},[_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('projects')))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.projects ? _vm.projects.length : '?')+\" \")]),_c('td',[(_vm.projects && _vm.projects.length)?_c('b-collapse',{attrs:{\"open\":false},scopedSlots:_vm._u([{key:\"trigger\",fn:function(ref){\nvar open = ref.open;\nreturn [_c('button',{staticClass:\"button is-small\"},[_vm._v(\" \"+_vm._s(_vm.$t(open ? 'button-hide' : 'button-show'))+\" \")])]}}],null,false,3507901580)},[_c('ul',_vm._l((_vm.projects),function(project){return _c('li',{key:project.id},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (project.id))}},[_vm._v(\" \"+_vm._s(project.name)+\" \")])],1)}),0)]):_vm._e()],1)]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('managed-projects')))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.managedProjects ? _vm.managedProjects.length : '?')+\" \")]),_c('td',[(_vm.managedProjects && _vm.managedProjects.length)?_c('b-collapse',{attrs:{\"open\":false},scopedSlots:_vm._u([{key:\"trigger\",fn:function(ref){\nvar open = ref.open;\nreturn [_c('button',{staticClass:\"button is-small\"},[_vm._v(\" \"+_vm._s(_vm.$t(open ? 'button-hide' : 'button-show'))+\" \")])]}}],null,false,3507901580)},[_c('ul',_vm._l((_vm.managedProjects),function(project){return _c('li',{key:project.id},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (project.id))}},[_vm._v(\" \"+_vm._s(project.name)+\" \")])],1)}),0)]):_vm._e()],1)]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('user-annotations')))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.nbAnnotations == null ? '?' : _vm.nbAnnotations)+\" \")]),_c('td')]),(_vm.currentUser.id !== _vm.user.id)?_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t('actions')))]),_c('td',{attrs:{\"colspan\":\"2\"}},[_c('button',{staticClass:\"button is-link is-small\",on:{\"click\":function($event){return _vm.switchUser()}}},[_vm._v(\" \"+_vm._s(_vm.$t('connect-as-user', {username: _vm.user.username}))+\" \")])])]):_vm._e()])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"details-wrapper\">\n  <b-loading :active=\"loading\" :is-full-page=\"false\" class=\"small\" />\n  <table v-if=\"!loading\" class=\"table\">\n    <tbody>\n      <tr>\n        <td>{{$t('projects')}}</td>\n        <td>\n          {{projects ? projects.length : '?'}}\n        </td>\n        <td>\n          <b-collapse v-if=\"projects && projects.length\" :open=\"false\">\n            <template #trigger=\"{open}\">\n              <button class=\"button is-small\">\n                {{$t(open ? 'button-hide' : 'button-show')}}\n              </button>\n            </template>\n            <ul>\n              <li v-for=\"project in projects\" :key=\"project.id\">\n                <router-link :to=\"`/project/${project.id}`\">\n                  {{ project.name }}\n                </router-link>\n              </li>\n            </ul>\n          </b-collapse>\n        </td>\n      </tr>\n      <tr>\n        <td>{{$t('managed-projects')}}</td>\n        <td>\n          {{managedProjects ? managedProjects.length : '?'}}\n        </td>\n        <td>\n          <b-collapse v-if=\"managedProjects && managedProjects.length\" :open=\"false\">\n            <template #trigger=\"{open}\">\n              <button class=\"button is-small\">\n                {{$t(open ? 'button-hide' : 'button-show')}}\n              </button>\n            </template>\n            <ul>\n              <li v-for=\"project in managedProjects\" :key=\"project.id\">\n                <router-link :to=\"`/project/${project.id}`\">\n                  {{ project.name }}\n                </router-link>\n              </li>\n            </ul>\n          </b-collapse>\n        </td>\n      </tr>\n      <tr>\n        <td>{{$t('user-annotations')}}</td>\n        <td>\n          {{nbAnnotations == null ? '?' : nbAnnotations}}\n        </td>\n        <td></td>\n      </tr>\n      <tr v-if=\"currentUser.id !== user.id\">\n        <td>{{$t('actions')}}</td>\n        <td colspan=\"2\">\n          <button class=\"button is-link is-small\" @click=\"switchUser()\">\n            {{$t('connect-as-user', {username: user.username})}}\n          </button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\nimport {Cytomine, ProjectCollection} from 'cytomine-client';\n\nexport default {\n  props: {\n    user: Object\n  },\n  data() {\n    return {\n      loading: true,\n      projects: null,\n      managedProjects: null,\n      nbAnnotations: null,\n      showProjects: false,\n      showManagedProjects: false\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user')\n  },\n  methods: {\n    async fetchProjects() {\n      this.projects = (await ProjectCollection.fetchAll({\n        filterKey: 'user',\n        filterValue: this.user.id,\n        light: true\n      })).array;\n    },\n    async fetchManagedProjects() {\n      this.managedProjects = (await ProjectCollection.fetchAll({\n        filterKey: 'user',\n        filterValue: this.user.id,\n        light: true,\n        admin: true\n      })).array;\n    },\n    async fetchNbAnnotations() {\n      this.nbAnnotations = await this.user.fetchNbAnnotations();\n    },\n    async switchUser() {\n      try {\n        await Cytomine.instance.switchUser(this.user.username);\n        await this.$store.dispatch('currentUser/fetchUser');\n        this.$router.push('/');\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-failed-to-connect-as-user')});\n      }\n    }\n  },\n  async created() {\n    await Promise.all([\n      this.fetchProjects(),\n      this.fetchManagedProjects(),\n      this.fetchNbAnnotations()\n    ].map(p => p.catch(e => console.log(e)))); // ignore errors (handled in template) and ensure all promises finish, even if some errors occur in the process\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\n.table {\n  background: none;\n}\n\n.details-wrapper {\n  min-height: 3em;\n  position: relative;\n}\n\ntd:first-child {\n  font-weight: 600;\n}\n\ntd:not(:last-child) {\n  white-space: nowrap;\n}\n\ntd:last-child {\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserDetails.vue?vue&type=template&id=9006dae0&scoped=true&\"\nimport script from \"./UserDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./UserDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserDetails.vue?vue&type=style&index=0&id=9006dae0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9006dae0\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div>\n  <b-loading :is-full-page=\"false\" :active=\"loading\" />\n  <template v-if=\"!loading\">\n    <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n      <h2> {{ $t('error') }} </h2>\n      <p> {{ $t('unexpected-error-info-message') }} </p>\n    </b-message>\n    <template v-else>\n      <div class=\"columns\">\n        <div class=\"column is-one-quarter\">\n          <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\n        </div>\n\n        <div class=\"column is-one-half has-text-right-desktop\">\n          <button class=\"button is-link\" @click=\"startUserCreation()\">\n            {{$t('button-new-user')}}\n          </button>\n        </div>\n      </div>\n\n      <cytomine-table\n        :collection=\"userCollection\"\n        :currentPage.sync=\"currentPage\"\n        :perPage.sync=\"perPage\"\n        :sort.sync=\"sortField\"\n        :order.sync=\"sortOrder\"\n        :detailed=true\n        :revision=\"revision\"\n      >\n        <template #default=\"{row: user}\">\n\n          <b-table-column field=\"username\" :label=\"$t('username')\" sortable width=\"100\">\n            {{user.username}}\n          </b-table-column>\n\n          <b-table-column field=\"fullName\" :label=\"$t('name')\" sortable width=\"150\">\n            {{user.firstname}} {{user.lastname}}\n          </b-table-column>\n\n          <b-table-column field=\"role\" :label=\"$t('role')\" sortable width=\"50\">\n            <span class=\"tag\" :class=\"getRoleData(user).class\">{{$t(getRoleData(user).label)}}</span>\n          </b-table-column>\n\n          <b-table-column field=\"email\" :label=\"$t('email')\" sortable width=\"150\">\n            <a :href=\"`mailto:${user.email}`\">{{ user.email }}</a>\n          </b-table-column>\n\n          <b-table-column field=\"origin\" :label=\"$t('source')\" centered sortable width=\"50\">\n            <span :class=\"['tag', user.LDAP ? 'is-link' : 'is-grey']\">\n              {{displayMemberOrigin(user)}}\n            </span>\n          </b-table-column>\n\n          <b-table-column field=\"created\" :label=\"$t('created')\" sortable width=\"150\">\n            {{Number(user.created) | moment('ll LT')}}\n          </b-table-column>\n\n          <b-table-column field=\"updated\" :label=\"$t('updated')\" sortable width=\"150\">\n            <template v-if=\"user.updated\">{{Number(user.updated) | moment('ll LT')}}</template>\n            <template v-else>-</template>\n          </b-table-column>\n\n          <b-table-column label=\"\" width=\"100\">\n            <div class=\"buttons\">\n              <button class=\"button is-link is-small\" @click=\"startUserEdition(user)\">\n                {{$t('button-edit')}}\n              </button>\n              <button v-if=\"user.enabled\" class=\"button is-danger is-small\" @click=\"lock(user)\">\n                {{$t('button-lock')}}\n              </button>\n              <button v-else class=\"button is-success is-small\" @click=\"unlock(user)\">\n                {{$t('button-unlock')}}\n              </button>\n            </div>\n          </b-table-column>\n        </template>\n\n        <template #detail=\"{row: user}\">\n          <user-details :user=\"user\" />\n        </template>\n\n        <template #empty>\n          <div class=\"content has-text-grey has-text-centered\">\n            <p>{{$t('no-user-fitting-criteria')}}</p>\n          </div>\n        </template>\n      </cytomine-table>\n\n      <user-modal :active.sync=\"modal\" :user=\"editedUser\" @addUser=\"refreshUsers\" @updateUser=\"updateUser\" />\n    </template>\n  </template>\n</div>\n</template>\n\n<script>\nimport CytomineTable from '@/components/utils/CytomineTable';\nimport {UserCollection} from 'cytomine-client';\nimport UserModal from './UserModal';\nimport UserDetails from './UserDetails';\nimport {rolesMapping} from '@/utils/role-utils';\n\nexport default {\n  name: 'admin-users',\n  components: {\n    CytomineTable,\n    UserModal,\n    UserDetails\n  },\n  data() {\n    return {\n      loading: true,\n      error: false,\n      addUserModal: false,\n      searchString: '',\n      currentPage: 1,\n      perPage: 25,\n      sortField: 'username',\n      sortOrder: '',\n      revision: 0,\n      modal: false,\n      editedUser: null\n    };\n  },\n  computed: {\n    roles() {\n      return rolesMapping;\n    },\n    userCollection() {\n      let collection = new UserCollection({\n        withRoles: true\n      });\n      if(this.searchString) {\n        collection['fullName'] = {\n          ilike: encodeURIComponent(this.searchString)\n        };\n      }\n\n      return collection;\n    }\n  },\n  methods: {\n    displayMemberOrigin(member){\n      let key;\n      if(member.origin === 'LDAP') key = 'LDAP';\n      if(member.origin === 'BOOTSTRAP') key = 'system';\n      else key = 'manual';\n\n      return this.$t(key);\n    },\n    getRoleData(user) {\n      return this.roles[user.role];\n    },\n    async lock(user) {\n      try {\n        await user.lock();\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-user-lock')});\n      }\n    },\n    async unlock(user) {\n      try {\n        await user.unlock();\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-user-unlock')});\n      }\n    },\n    startUserCreation() {\n      this.editedUser = null;\n      this.modal = true;\n    },\n    refreshUsers() {\n      this.revision++;\n    },\n    startUserEdition(user) {\n      this.editedUser = user;\n      this.modal = true;\n    },\n    updateUser(user) {\n      this.revision++;\n      this.editedUser.populate(user);\n    }\n  },\n  async created() {\n    this.revision++;\n    this.loading = false;\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminUsers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminUsers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminUsers.vue?vue&type=template&id=98a11c94&\"\nimport script from \"./AdminUsers.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminUsers.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[(!_vm.trustedSources)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('div',{staticClass:\"column is-one-half has-text-right-desktop\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.startSourceCreation()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-new-trusted-source'))+\" \")])])]),_c('b-table',{attrs:{\"data\":_vm.filteredTrustedSources,\"paginated\":true,\"per-page\":_vm.perPage,\"pagination-size\":\"is-small\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar source = ref.row;\nreturn [_c('b-table-column',{attrs:{\"field\":\"source\",\"label\":_vm.$t('trusted-source'),\"width\":\"400\"}},[_c('software-source',{attrs:{\"source\":source}})],1),_c('b-table-column',{attrs:{\"label\":\"\",\"width\":\"50\"}},[_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button is-link is-small\",on:{\"click\":function($event){return _vm.startSourceEdition(source)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-edit'))+\" \")]),_c('button',{staticClass:\"button is-link is-small\",on:{\"click\":function($event){return _vm.refresh(source)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-refresh'))+\" \")]),_c('button',{staticClass:\"button is-danger is-small\",on:{\"click\":function($event){return _vm.deleteSourceDialog(source)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")])])])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-trusted-source-fitting-criteria')))])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}],null,false,3431149966)}),_c('trusted-source-modal',{attrs:{\"active\":_vm.modal,\"source\":_vm.editedSource},on:{\"update:active\":function($event){_vm.modal=$event},\"addSource\":_vm.addSource,\"updateSource\":_vm.updateSource}})]]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.title},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},_vm._l((_vm.editableFields),function(ref){\nvar field = ref.field;\nvar validationRules = ref.validationRules;\nvar disabled = ref.disabled;\nreturn _c('b-field',{key:field,attrs:{\"label\":_vm.$t(_vm.fieldLabels[field]),\"horizontal\":\"\",\"type\":{'is-danger': _vm.errors.has(field)},\"message\":_vm.errors.first(field)}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(validationRules),expression:\"validationRules\"}],attrs:{\"name\":field,\"placeholder\":\"\",\"disabled\":disabled},model:{value:(_vm.internalSource[field]),callback:function ($$v) {_vm.$set(_vm.internalSource, field, $$v)},expression:\"internalSource[field]\"}})],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <form @submit.prevent=\"save()\">\n    <cytomine-modal :active=\"active\" :title=\"title\" @close=\"$emit('update:active', false)\">\n      <b-field\n        v-for=\"{field, validationRules, disabled} in editableFields\"\n        :key=\"field\"\n        :label=\"$t(fieldLabels[field])\"\n        horizontal\n        :type=\"{'is-danger': errors.has(field)}\"\n        :message=\"errors.first(field)\"\n      >\n        <b-input\n          v-model=\"internalSource[field]\"\n          :name=\"field\"\n          v-validate=\"validationRules\"\n          placeholder=\"\"\n          :disabled=disabled\n        />\n      </b-field>\n\n      <template #footer>\n        <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\n          {{$t('button-cancel')}}\n        </button>\n        <button class=\"button is-link\" :disabled=\"errors.any()\">\n          {{$t('button-save')}}\n        </button>\n      </template>\n    </cytomine-modal>\n  </form>\n</template>\n\n<script>\nimport {TrustedSource} from 'cytomine-client';\n\nimport CytomineModal from '@/components/utils/CytomineModal';\n\nexport default {\n  name: 'trusted-source-modal',\n  props: {\n    active: Boolean,\n    source: Object\n  },\n  components: {CytomineModal},\n  $_veeValidate: {validator: 'new'},\n  data() {\n    return {\n      internalSource: {},\n      displayErrors: false\n    };\n  },\n  computed: {\n    editionMode() {\n      return Boolean(this.source);\n    },\n    title() {\n      return this.$t(this.editionMode ? 'update-source' : 'create-source');\n    },\n    editableFields() {\n      return [\n        {field: 'username', validationRules: 'required', disabled: false},\n        {field: 'dockerUsername', validationRules: 'required', disabled: false},\n        {field: 'prefix', validationRules: '', disabled: false},\n        {field: 'provider', validationRules: 'required', disabled: true},\n        {field: 'environmentProvider', validationRules: 'required', disabled: true},\n      ];\n    },\n    fieldLabels() {\n      return {\n        'provider': 'source-provider',\n        'username': 'source-provider-name',\n        'environmentProvider': 'environment-provider',\n        'dockerUsername': 'environment-provider-name',\n        'prefix': 'prefix'\n      };\n    }\n  },\n  watch: {\n    active(val) {\n      if(val) {\n        this.internalSource = this.formatSource(this.source ? this.source.clone() : new TrustedSource());\n        this.displayErrors = false;\n      }\n    }\n  },\n  methods: {\n    async save() {\n      let result = await this.$validator.validateAll();\n      if(!result) {\n        return;\n      }\n\n      let labelTranslation = this.editionMode ? 'update' : 'creation';\n\n      try {\n        let source = (await this.internalSource.save());\n        this.internalSource = this.formatSource(source);\n        this.$notify({type: 'success', text: this.$t('notif-success-source-' + labelTranslation)});\n        this.$emit('update:active', false);\n        this.$emit(this.editionMode ? 'updateSource' : 'addSource', this.internalSource);\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-source-' + labelTranslation)});\n      }\n    },\n    formatSource(source) {\n      source.environmentProvider = 'docker';\n      source.provider = (!source.provider) ? 'github' : source.provider;\n      return source;\n    }\n  },\n};\n</script>\n\n<style scoped>\n>>> .modal-card, >>> .modal-card-body {\n  width: 100vw;\n  max-width: 800px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSourceModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSourceModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TrustedSourceModal.vue?vue&type=template&id=0a1b2893&scoped=true&\"\nimport script from \"./TrustedSourceModal.vue?vue&type=script&lang=js&\"\nexport * from \"./TrustedSourceModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TrustedSourceModal.vue?vue&type=style&index=0&id=0a1b2893&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a1b2893\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <b-loading :is-full-page=\"false\" :active=\"loading\" />\n    <template v-if=\"!loading\">\n      <b-message v-if=\"!trustedSources\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n        <h2> {{ $t('error') }} </h2>\n        <p> {{ $t('unexpected-error-info-message') }} </p>\n      </b-message>\n      <template v-else>\n        <div class=\"columns\">\n          <div class=\"column is-one-quarter\">\n            <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\n          </div>\n\n          <div class=\"column is-one-half has-text-right-desktop\">\n            <button class=\"button is-link\" @click=\"startSourceCreation()\">\n              {{$t('button-new-trusted-source')}}\n            </button>\n          </div>\n        </div>\n\n        <b-table\n          :data=\"filteredTrustedSources\"\n          :paginated=\"true\"\n          :per-page=\"perPage\"\n          pagination-size=\"is-small\"\n        >\n\n          <template #default=\"{row: source}\">\n\n            <b-table-column field=\"source\" :label=\"$t('trusted-source')\" width=\"400\">\n              <software-source :source=\"source\" />\n            </b-table-column>\n\n            <b-table-column label=\"\" width=\"50\">\n              <div class=\"buttons\">\n                <button class=\"button is-link is-small\" @click=\"startSourceEdition(source)\">\n                  {{$t('button-edit')}}\n                </button>\n                <button class=\"button is-link is-small\" @click=\"refresh(source)\">\n                  {{$t('button-refresh')}}\n                </button>\n                <button class=\"button is-danger is-small\" @click=\"deleteSourceDialog(source)\">\n                  {{$t('button-delete')}}\n                </button>\n              </div>\n            </b-table-column>\n          </template>\n\n          <template #empty>\n            <div class=\"content has-text-grey has-text-centered\">\n              <p>{{$t('no-trusted-source-fitting-criteria')}}</p>\n            </div>\n          </template>\n\n          <template #bottom-left>\n            <b-select v-model=\"perPage\" size=\"is-small\">\n              <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\n              <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\n              <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\n              <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\n            </b-select>\n          </template>\n        </b-table>\n\n        <trusted-source-modal :active.sync=\"modal\" :source=\"editedSource\" @addSource=\"addSource\" @updateSource=\"updateSource\" />\n      </template>\n    </template>\n  </div>\n</template>\n\n<script>\nimport {TrustedSourceCollection} from 'cytomine-client';\nimport TrustedSourceModal from './TrustedSourceModal';\nimport {getWildcardRegexp} from '@/utils/string-utils';\nimport SoftwareSource from '@/components/software/SoftwareSource';\n\nexport default {\n  name: 'admin-software',\n  components: {\n    SoftwareSource,\n    TrustedSourceModal,\n  },\n  data() {\n    return {\n      loading: true,\n      trustedSources: null,\n      addSourceModal: false,\n      searchString: '',\n      perPage: 25,\n      modal: false,\n      editedSource: null\n    };\n  },\n  computed: {\n    regexp() {\n      return getWildcardRegexp(this.searchString);\n    },\n    filteredTrustedSources() {\n      if(!this.searchString) {\n        return this.trustedSources;\n      }\n\n      return this.trustedSources.filter(ts => this.regexp.test(ts.name) ||\n        this.regexp.test(ts.username) || this.regexp.test(ts.provider) ||\n        this.regexp.test(ts.dockerUsername) || this.regexp.test(ts.environmentProvider));\n    }\n  },\n  methods: {\n    formatSource(source) {\n      source.environmentProvider = 'docker';\n    },\n    async refresh(source) {\n      try {\n        await source.refresh();\n        this.$notify({type: 'success', text: this.$t('notif-success-source-refresh')});\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-source-refresh')});\n      }\n    },\n    startSourceCreation() {\n      this.editedSource = null;\n      this.modal = true;\n    },\n    addSource(source) {\n      console.log('addSource', source);\n      this.formatSource(source);\n      this.trustedSources.push(source);\n    },\n    startSourceEdition(source) {\n      this.editedSource = source;\n      this.modal = true;\n    },\n    updateSource(source) {\n      this.formatSource(source);\n      this.editedSource.populate(source);\n    },\n    deleteSourceDialog(source) {\n      this.$buefy.dialog.confirm({\n        title: this.$t('delete'),\n        message: this.$t('delete-source-confirmation-message', {username: source.username, dockerUsername: source.dockerUsername}),\n        type: 'is-danger',\n        confirmText: this.$t('button-confirm'),\n        cancelText: this.$t('button-cancel'),\n        onConfirm: () => this.deleteSource(source)\n      });\n    },\n    deleteSource(source) {\n      try {\n        console.log('source', source);\n        source.delete();\n        this.trustedSources.splice(this.trustedSources.indexOf(source), 1);\n        this.$notify({\n          type: 'success',\n          text: this.$t('notif-success-source-delete', {username: source.username, dockerUsername: source.dockerUsername})\n        });\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-source-delete', {username: source.username, dockerUsername: source.dockerUsername})\n        });\n      }\n    },\n  },\n  async created() {\n    try {\n      let sources = (await TrustedSourceCollection.fetchAll()).array;\n      sources.forEach(source => this.formatSource(source));\n      this.trustedSources = sources;\n    }\n    catch(error) {\n      console.log(error);\n    }\n    this.loading = false;\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminSoftware.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminSoftware.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminSoftware.vue?vue&type=template&id=2c71a1a4&\"\nimport script from \"./AdminSoftware.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminSoftware.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('welcome-message')))]),_c('cytomine-quill-editor',{model:{value:(_vm.welcomeConfig.value),callback:function ($$v) {_vm.$set(_vm.welcomeConfig, \"value\", $$v)},expression:\"welcomeConfig.value\"}}),_c('p',{staticClass:\"has-text-right\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":_vm.save}},[_vm._v(_vm._s(_vm.$t('button-save')))])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div>\n  <h2>{{$t('welcome-message')}}</h2>\n  <cytomine-quill-editor v-model=\"welcomeConfig.value\" />\n  <p class=\"has-text-right\">\n    <button class=\"button is-link\" @click=\"save\">{{$t('button-save')}}</button>\n  </p>\n</div>\n</template>\n\n<script>\nimport CytomineQuillEditor from '@/components/form/CytomineQuillEditor';\nimport {Configuration} from 'cytomine-client';\nimport constants from '@/utils/constants.js';\n\nexport default {\n  name: 'admin-configuration',\n  components: {CytomineQuillEditor},\n  data() {\n    return {\n      welcomeConfig: new Configuration({key: constants.CONFIG_KEY_WELCOME, value: '', readingRole: 'all'})\n    };\n  },\n  methods: {\n    async save() {\n      try {\n        if(!this.welcomeConfig.value) {\n          await this.welcomeConfig.delete();\n        }\n        else {\n          await this.welcomeConfig.save();\n        }\n        this.$notify({type: 'success', text: this.$t('notif-success-welcome-message-update')});\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-welcome-message-update')});\n      }\n    }\n\n  },\n  async created() {\n    try {\n      await this.welcomeConfig.fetch();\n    }\n    catch(error) {\n      // no welcome message currently set\n    }\n  }\n};\n</script>\n\n<style scoped>\n>>> .cytomine-quill-editor {\n  min-height: 25em !important;\n  max-height: 25em !important;\n}\n\n.button {\n  margin-top: 1em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminConfiguration.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminConfiguration.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminConfiguration.vue?vue&type=template&id=a2037cc6&scoped=true&\"\nimport script from \"./AdminConfiguration.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminConfiguration.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminConfiguration.vue?vue&type=style&index=0&id=a2037cc6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a2037cc6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?[(!_vm.tags)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-quarter\"},[_c('b-input',{attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('div',{staticClass:\"column is-one-half has-text-right-desktop\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":function($event){return _vm.startTagCreation()}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-new-tag'))+\" \")])])]),_c('b-table',{attrs:{\"data\":_vm.filteredTags,\"paginated\":true,\"per-page\":_vm.perPage,\"pagination-size\":\"is-small\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar tag = ref.row;\nreturn [_c('b-table-column',{attrs:{\"field\":'name',\"label\":_vm.$t('name'),\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(tag.name)+\" \")]),_c('b-table-column',{attrs:{\"field\":'creatorName',\"label\":_vm.$t('creator'),\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(tag.creatorName)+\" \")]),_c('b-table-column',{attrs:{\"field\":'created',\"label\":_vm.$t('created'),\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(Number(tag.created),'ll'))+\" \")]),_c('b-table-column',{attrs:{\"label\":\" \",\"centered\":\"\"}},[_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button is-small is-link\",on:{\"click\":function($event){return _vm.startTagEdition(tag)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-edit'))+\" \")]),_c('button',{staticClass:\"button is-small is-danger\",on:{\"click\":function($event){return _vm.deleteTagDialog(tag)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-delete'))+\" \")])])])]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-tag-fitting-criteria')))])])]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}],null,false,2904442176)}),_c('tag-modal',{attrs:{\"active\":_vm.modal,\"tag\":_vm.editedTag},on:{\"update:active\":function($event){_vm.modal=$event},\"addTag\":_vm.addTag,\"updateTag\":_vm.updateTag}})]]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save()}}},[_c('cytomine-modal',{attrs:{\"active\":_vm.active,\"title\":_vm.title},on:{\"close\":function($event){return _vm.$emit('update:active', false)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('update:active', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",attrs:{\"disabled\":_vm.errors.any()}},[_vm._v(\" \"+_vm._s(_vm.$t('button-save'))+\" \")])]},proxy:true}])},[_c('b-field',{attrs:{\"label\":_vm.$t('name'),\"type\":{'is-danger': _vm.errors.has('name')},\"message\":_vm.errors.first('name')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"name\"},model:{value:(_vm.internalTag['name']),callback:function ($$v) {_vm.$set(_vm.internalTag, 'name', $$v)},expression:\"internalTag['name']\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<form @submit.prevent=\"save()\">\n  <cytomine-modal :active=\"active\" :title=\"title\" @close=\"$emit('update:active', false)\">\n    <b-field :label=\"$t('name')\" :type=\"{'is-danger': errors.has('name')}\" :message=\"errors.first('name')\">\n      <b-input v-model=\"internalTag['name']\" name=\"name\" v-validate=\"'required'\" />\n    </b-field>\n\n    <template #footer>\n      <button class=\"button\" type=\"button\" @click=\"$emit('update:active', false)\">\n        {{$t('button-cancel')}}\n      </button>\n      <button class=\"button is-link\" :disabled=\"errors.any()\">\n        {{$t('button-save')}}\n      </button>\n    </template>\n  </cytomine-modal>\n</form>\n</template>\n\n<script>\nimport {Tag} from 'cytomine-client';\nimport CytomineModal from '@/components/utils/CytomineModal';\n\nexport default {\n  name: 'tag-modal',\n  props: {\n    active: Boolean,\n    tag: Object\n  },\n  components: {CytomineModal},\n  $_veeValidate: {validator: 'new'},\n  data() {\n    return {\n      internalTag: {},\n      displayErrors: false,\n    };\n  },\n  computed: {\n    editionMode() {\n      return Boolean(this.tag);\n    },\n    title() {\n      return this.$t(this.editionMode ? 'update-tag' : 'create-tag');\n    },\n  },\n  watch: {\n    active(val) {\n      if(val) {\n        this.internalTag = (this.tag) ? this.tag.clone() : new Tag();\n        this.displayErrors = false;\n      }\n    }\n  },\n  methods: {\n    async save() {\n      let result = await this.$validator.validateAll();\n      if(!result) {\n        return;\n      }\n\n      let labelTranslation = this.editionMode ? 'update' : 'creation';\n\n      try {\n        await this.internalTag.save();\n        this.$notify({type: 'success', text: this.$t('notif-success-tag-' + labelTranslation)});\n        this.$emit('update:active', false);\n        this.$emit(this.editionMode ? 'updateTag' : 'addTag', this.internalTag);\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-tag-' + labelTranslation)});\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TagModal.vue?vue&type=template&id=3fbfc362&\"\nimport script from \"./TagModal.vue?vue&type=script&lang=js&\"\nexport * from \"./TagModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <b-loading :is-full-page=\"false\" :active=\"loading\" />\n    <template v-if=\"!loading\">\n      <b-message v-if=\"!tags\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n        <h2> {{ $t('error') }} </h2>\n        <p> {{ $t('unexpected-error-info-message') }} </p>\n      </b-message>\n      <template v-else>\n        <div class=\"columns\">\n          <div class=\"column is-one-quarter\">\n            <b-input v-model=\"searchString\" :placeholder=\"$t('search-placeholder')\" type=\"search\" icon=\"search\" />\n          </div>\n\n          <div class=\"column is-one-half has-text-right-desktop\">\n            <button class=\"button is-link\" @click=\"startTagCreation()\">\n              {{$t('button-new-tag')}}\n            </button>\n          </div>\n        </div>\n\n        <b-table\n          :data=\"filteredTags\"\n          :paginated=\"true\"\n          :per-page=\"perPage\"\n          pagination-size=\"is-small\"\n        >\n\n          <template #default=\"{row: tag}\">\n            <b-table-column\n              :field=\"'name'\"\n              :label=\"$t('name')\"\n              sortable\n            >\n            {{tag.name}}\n            </b-table-column>\n\n            <b-table-column\n              :field=\"'creatorName'\"\n              :label=\"$t('creator')\"\n              sortable\n            >\n              {{tag.creatorName}}\n            </b-table-column>\n\n            <b-table-column\n              :field=\"'created'\"\n              :label=\"$t('created')\"\n              sortable\n            >\n              {{ Number(tag.created) | moment('ll') }}\n            </b-table-column>\n\n            <b-table-column label=\" \" centered>\n              <div class=\"buttons\">\n                <button class=\"button is-small is-link\" @click=\"startTagEdition(tag)\">\n                  {{$t('button-edit')}}\n                </button>\n                <button class=\"button is-small is-danger\" @click=\"deleteTagDialog(tag)\">\n                  {{$t('button-delete')}}\n                </button>\n              </div>\n            </b-table-column>\n          </template>\n\n          <template #empty>\n            <div class=\"content has-text-grey has-text-centered\">\n              <p>{{$t('no-tag-fitting-criteria')}}</p>\n            </div>\n          </template>\n\n          <template #bottom-left>\n            <b-select v-model=\"perPage\" size=\"is-small\">\n              <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\n              <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\n              <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\n              <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\n            </b-select>\n          </template>\n        </b-table>\n\n        <tag-modal :active.sync=\"modal\" :tag=\"editedTag\" @addTag=\"addTag\" @updateTag=\"updateTag\" />\n      </template>\n    </template>\n  </div>\n</template>\n\n<script>\nimport {TagCollection} from 'cytomine-client';\nimport {getWildcardRegexp} from '@/utils/string-utils';\nimport TagModal from '@/components/tag/TagModal';\n\nexport default {\n  name: 'admin-tags',\n  components: {\n    TagModal\n  },\n  data() {\n    return {\n      loading: true,\n      tags: null,\n      addTagModal: false,\n      searchString: '',\n      perPage: 25,\n      modal: false,\n      editedTag: null\n    };\n  },\n  computed: {\n    regexp() {\n      return getWildcardRegexp(this.searchString);\n    },\n    filteredTags() {\n      if(!this.searchString) {\n        return this.tags;\n      }\n\n      return this.tags.filter(ts => this.regexp.test(ts.name));\n    }\n  },\n  methods: {\n    startTagCreation() {\n      this.editedTag = null;\n      this.modal = true;\n    },\n    addTag(tag) {\n      this.tags.push(tag);\n    },\n    startTagEdition(tag) {\n      this.editedTag = tag;\n      this.modal = true;\n    },\n    updateTag(tag) {\n      this.editedTag.populate(tag);\n    },\n\n    deleteTagDialog(tag) {\n      this.$buefy.dialog.confirm({\n        title: this.$t('delete'),\n        message: this.$t('delete-tag-confirmation-message', {tagName: tag.name}),\n        type: 'is-danger',\n        confirmText: this.$t('button-confirm'),\n        cancelText: this.$t('button-cancel'),\n        onConfirm: () => this.deleteTag(tag)\n      });\n    },\n    deleteTag(tag) {\n      try {\n        tag.delete();\n        this.tags.splice(this.tags.indexOf(tag), 1);\n        this.$notify({\n          type: 'success',\n          text: this.$t('notif-success-tag-delete', {tagName: tag.name})\n        });\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-tag-delete', {tagName: this.currentTag.name})\n        });\n      }\n    },\n  },\n  async created() {\n    try {\n      this.tags = (await TagCollection.fetchAll()).array;\n    }\n    catch(error) {\n      console.log(error);\n    }\n    this.loading = false;\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTags.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTags.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminTags.vue?vue&type=template&id=47bd9de5&\"\nimport script from \"./AdminTags.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminTags.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"box error\" v-if=\"!currentUser.adminByNow\">\n  <h2> {{ $t('access-denied') }} </h2>\n  <p>{{ $t('insufficient-permission') }}</p>\n</div>\n<div class=\"content-wrapper\" v-else>\n  <b-field class=\"radio-buttons-fullwidth\">\n    <b-radio-button v-model=\"activeTab\" native-value=\"dashboard\" type=\"is-link\">\n      {{$t('dashboard')}}\n    </b-radio-button>\n\n    <b-radio-button v-model=\"activeTab\" native-value=\"users\" type=\"is-link\">\n      {{$t('users')}}\n    </b-radio-button>\n\n    <b-radio-button v-model=\"activeTab\" native-value=\"trusted-sources\" type=\"is-link\">\n      {{$t('trusted-sources')}}\n    </b-radio-button>\n\n    <b-radio-button v-model=\"activeTab\" native-value=\"tags\" type=\"is-link\">\n      {{$t('tags')}}\n    </b-radio-button>\n\n    <b-radio-button v-model=\"activeTab\" native-value=\"configuration\" type=\"is-link\">\n      {{$t('configuration')}}\n    </b-radio-button>\n  </b-field>\n\n  <div class=\"box\">\n    <keep-alive>\n      <component :is=\"activeComponent\" />\n    </keep-alive>\n  </div>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport AdminDashboard from './AdminDashboard';\nimport AdminUsers from './AdminUsers';\nimport AdminSoftware from './AdminSoftware';\nimport AdminConfiguration from './AdminConfiguration';\nimport AdminTags from './AdminTags';\n\nconst defaultTab = 'dashboard';\n\nexport default {\n  name: 'admin-panel',\n  data() {\n    return {\n      activeTab: 0,\n      tabNames: [\n        'dashboard',\n        'users',\n        'trusted-sources',\n        'tags',\n        'configuration'\n      ]\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    queriedTab() {\n      return this.$route.query.tab;\n    },\n    activeComponent() {\n      switch(this.activeTab) {\n        case 'dashboard':\n          return AdminDashboard;\n        case 'users':\n          return AdminUsers;\n        case 'configuration':\n          return AdminConfiguration;\n        case 'trusted-sources':\n          return AdminSoftware;\n        case 'tags':\n          return AdminTags;\n      }\n    }\n  },\n  watch: {\n    queriedTab() {\n      this.changeTab();\n    },\n    activeTab() {\n      if(this.activeTab !== defaultTab || this.queriedTab) {\n        this.$router.push(`?tab=${this.activeTab}`);\n      }\n    }\n  },\n  methods: {\n    changeTab() {\n      this.activeTab = this.queriedTab || defaultTab;\n      if(!this.activeComponent) {\n        this.activeTab = defaultTab;\n      }\n    }\n  },\n  created() {\n    this.changeTab();\n  }\n};\n</script>\n\n<style scoped>\n.box {\n  position: relative;\n  min-height: 20em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminPanel.vue?vue&type=template&id=e5e0acac&scoped=true&\"\nimport script from \"./AdminPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminPanel.vue?vue&type=style&index=0&id=e5e0acac&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e5e0acac\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-wrapper\"},[_c('div',{staticClass:\"box\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('activity-logs')))]),_c('activity-logs',{attrs:{\"idUser\":_vm.currentUser.id}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"content-wrapper\">\n  <div class=\"box\">\n    <h2>{{$t('activity-logs')}}</h2>\n    <activity-logs :idUser=\"currentUser.id\" />\n  </div>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\nimport ActivityLogs from '@/components/utils/ActivityLogs';\n\nexport default {\n  name: 'user-activity',\n  components: {ActivityLogs},\n  computed: {\n    currentUser: get('currentUser/user')\n  }\n};\n</script>\n\n<style scoped>\n.content-wrapper {\n  height: 100%;\n}\n\n.box {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserActivity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserActivity.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserActivity.vue?vue&type=template&id=2fc7647f&scoped=true&\"\nimport script from \"./UserActivity.vue?vue&type=script&lang=js&\"\nexport * from \"./UserActivity.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserActivity.vue?vue&type=style&index=0&id=2fc7647f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2fc7647f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',[_vm._v(\" \"+_vm._s(_vm.$t('page-not-found'))+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n  <h1>\n    {{$t('page-not-found')}}\n  </h1>\n</template>\n\n\n<script>\nexport default {\n  name: 'page-not-found'\n};\n</script>\n\n<style scoped>\nh1 {\n  padding: 2rem;\n  font-size: 1.5rem !important;\n}\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageNotFound.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageNotFound.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PageNotFound.vue?vue&type=template&id=cbba54ee&scoped=true&\"\nimport script from \"./PageNotFound.vue?vue&type=script&lang=js&\"\nexport * from \"./PageNotFound.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PageNotFound.vue?vue&type=style&index=0&id=cbba54ee&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cbba54ee\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"software-wrapper\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('div',{staticClass:\"content-wrapper\"},[_c('nav',{staticClass:\"breadcrumb\",attrs:{\"aria-label\":\"breadcrumbs\"}},[_c('ul',[_c('li',[_c('router-link',{attrs:{\"to\":\"/software\"}},[_vm._v(_vm._s(_vm.$t('algorithms')))])],1),_c('li',{staticClass:\"is-active\"},[_c('a',{attrs:{\"href\":\"#\",\"aria-current\":\"page\"}},[_vm._v(_vm._s(_vm.software.fullName))])])])]),_c('div',{staticClass:\"box\"},[(_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):[_c('h1',[_vm._v(_vm._s(_vm.software.fullName))]),_c('div',{staticClass:\"description\"},[_c('cytomine-description',{attrs:{\"object\":_vm.software,\"canEdit\":_vm.canManageSoftware}})],1),_c('hr'),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('projects')))]),(_vm.projects.length)?_vm._l((_vm.projects),function(project,index){return _c('span',{key:project.id},[_c('router-link',{attrs:{\"to\":(\"/project/\" + (project.id))}},[_vm._v(_vm._s(project.name))]),(index < _vm.projects.length - 1)?_c('span',[_vm._v(\", \")]):_vm._e()],1)}):(_vm.nbProjects > 0)?_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('used-in-project-no-access'))+\" \")]):_c('em',{staticClass:\"has-text-grey\"},[_vm._v(\" \"+_vm._s(_vm.$t('not-used-in-any-project'))+\" \")])],2),_c('div',{staticClass:\"column\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('statistics')))]),_c('div',{staticClass:\"chart-container\"},[_c('software-statistics-chart',{attrs:{\"css-classes\":\"chart\",\"software\":_vm.software}})],1)])]),_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('software-parameters')))]),_c('b-table',{attrs:{\"data\":_vm.softwareParameters,\"default-sort\":\"created\",\"default-sort-direction\":\"desc\",\"paginated\":true,\"per-page\":_vm.softwareParametersPerPage,\"pagination-size\":\"is-small\",\"detailed\":\"\",\"detail-key\":\"id\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar parameter = ref.row;\nreturn [_c('b-table-column',{attrs:{\"label\":_vm.$t('name'),\"field\":\"name\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(parameter.humanName)+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('type'),\"field\":\"type\",\"sortable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t(parameter.type.toLowerCase()))+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('default-value'),\"field\":\"defaultValue\"}},[_vm._v(\" \"+_vm._s(parameter.defaultParamValue)+\" \")]),_c('b-table-column',{attrs:{\"label\":_vm.$t('mandatory'),\"field\":\"mandatory\"}},[(parameter.required)?[_vm._v(_vm._s(_vm.$t('yes')))]:[_vm._v(_vm._s(_vm.$t('no')))]],2)]}},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.$t('no-software-parameter')))])])]},proxy:true},{key:\"detail\",fn:function(ref){\nvar parameter = ref.row;\nreturn [_c('software-parameter-details',{key:parameter.id,attrs:{\"parameter\":parameter}})]}},{key:\"bottom-left\",fn:function(){return [_c('b-select',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.softwareParametersPerPage),callback:function ($$v) {_vm.softwareParametersPerPage=$$v},expression:\"softwareParametersPerPage\"}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 10})))]),_c('option',{attrs:{\"value\":\"25\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 25})))]),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 50})))]),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(_vm._s(_vm.$t('count-per-page', {count: 100})))])])]},proxy:true}],null,false,1795709409)}),_c('hr'),_c('h2',[_vm._v(_vm._s(_vm.$t('other-information')))]),_c('software-details',{attrs:{\"software\":_vm.software,\"excluded-properties\":['projects', 'name', 'description']}})]],2)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.error)?_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-size\":\"is-small\",\"size\":\"is-small\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('error'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('unexpected-error-info-message'))+\" \")])]):_c('table',{staticClass:\"table\"},[_c('b-loading',{staticClass:\"small\",attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),(!_vm.loading)?_c('tbody',[(_vm.isPropDisplayed('description'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('description')))]),_c('td',{staticClass:\"prop-content\"},[_c('cytomine-description',{attrs:{\"object\":_vm.parameter,\"canEdit\":_vm.canManageParameter}})],1)]):_vm._e(),(_vm.isPropDisplayed('name'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('name')))]),_c('td',{staticClass:\"prop-content\"},[_c('code',[_vm._v(_vm._s(_vm.parameter.name))])])]):_vm._e(),(_vm.isPropDisplayed('valueKey'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('value-key')))]),_c('td',{staticClass:\"prop-content\"},[_c('code',[_vm._v(_vm._s(_vm.parameter.valueKey))])])]):_vm._e(),(_vm.isPropDisplayed('commandLineFlag'))?_c('tr',[_c('td',{staticClass:\"prop-label\"},[_vm._v(_vm._s(_vm.$t('command-line-flag')))]),_c('td',{staticClass:\"prop-content\"},[_c('code',[_vm._v(_vm._s(_vm.parameter.commandLineFlag))])])]):_vm._e()]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\" size=\"is-small\">\n    <h2> {{ $t('error') }} </h2>\n    <p> {{ $t('unexpected-error-info-message') }} </p>\n  </b-message>\n  <table v-else class=\"table\">\n    <b-loading :is-full-page=\"false\" :active=\"loading\" class=\"small\" />\n    <tbody v-if=\"!loading\">\n\n    <tr v-if=\"isPropDisplayed('description')\">\n      <td class=\"prop-label\">{{$t('description')}}</td>\n      <td class=\"prop-content\">\n        <cytomine-description :object=\"parameter\" :canEdit=\"canManageParameter\" />\n      </td>\n    </tr>\n    <tr v-if=\"isPropDisplayed('name')\">\n      <td class=\"prop-label\">{{$t('name')}}</td>\n      <td class=\"prop-content\">\n        <code>{{parameter.name}}</code>\n      </td>\n    </tr>\n    <tr v-if=\"isPropDisplayed('valueKey')\">\n      <td class=\"prop-label\">{{$t('value-key')}}</td>\n      <td class=\"prop-content\">\n        <code>{{parameter.valueKey}}</code>\n      </td>\n    </tr>\n    <tr v-if=\"isPropDisplayed('commandLineFlag')\">\n      <td class=\"prop-label\">{{$t('command-line-flag')}}</td>\n      <td class=\"prop-content\">\n        <code>{{parameter.commandLineFlag}}</code>\n      </td>\n    </tr>\n    <!--  <tr v-if=\"canManageParameter\">-->\n    <!--    <td class=\"prop-label\">{{$t('actions')}}</td>-->\n    <!--    <td class=\"prop-content\">-->\n    <!--      <parameter-actions :parameter=\"parameter\" @update=\"$emit('update', $event)\" @delete=\"$emit('delete')\" />-->\n    <!--    </td>-->\n    <!--  </tr>-->\n    </tbody>\n  </table>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\nimport RenameModal from '@/components/utils/RenameModal';\nimport CytomineDescription from '@/components/description/CytomineDescription';\nimport CytomineProperties from '@/components/property/CytomineProperties';\nimport AttachedFiles from '@/components/attached-file/AttachedFiles';\n\nexport default {\n  name: 'software-parameter-details',\n  props: {\n    parameter: Object,\n    excludedProperties: {type: Array, default: () => []}\n  },\n  components: {\n    CytomineDescription,\n    CytomineProperties,\n    AttachedFiles,\n    RenameModal\n  },\n  data() {\n    return {\n      loading: true,\n      error: false,\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    canManageParameter() {\n      return this.currentUser.adminByNow;\n    },\n  },\n  methods: {\n    isPropDisplayed(prop) {\n      return !this.excludedProperties.includes(prop);\n    },\n    async fetchProjects() {\n      this.loading = true;\n      this.error = false;\n\n      this.loading = false;\n    },\n  },\n  created() {\n    this.fetchProjects();\n  }\n};\n</script>\n\n<style scoped>\n.table {\n  background: none;\n  position: relative;\n  height: 3em;\n}\n\ntd.prop-label {\n  white-space: nowrap;\n  font-weight: 600;\n}\n\ntd.prop-content {\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareParameterDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareParameterDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SoftwareParameterDetails.vue?vue&type=template&id=d0dbbcc4&scoped=true&\"\nimport script from \"./SoftwareParameterDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./SoftwareParameterDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SoftwareParameterDetails.vue?vue&type=style&index=0&id=d0dbbcc4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d0dbbcc4\",\n  null\n  \n)\n\nexport default component.exports","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport {HorizontalBar} from 'vue-chartjs';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\nimport jobStatusMapping from '@/utils/job-utils';\n\nimport {asArray as hexToRgb} from 'ol/color';\n\nconst defaultColor = '#eee';\n\nexport default {\n  name: 'software-statistics-chart',\n  extends: HorizontalBar,\n  props: {\n    software: Object,\n    startDate: Number,\n    endDate: Number\n  },\n  data() {\n    return {\n      chartData: null\n    };\n  },\n  computed: {\n    queryParams() {\n      return {\n        startDate: this.startDate,\n        endDate: this.endDate\n      };\n    }\n  },\n  watch: {\n    async queryParams() {\n      this.doRenderChart();\n    }\n  },\n  methods: {\n    async doRenderChart() {\n      let status = Object.values(jobStatusMapping);\n      let data = status.map(status => this.software[status.statLabel]);\n      let borderColors = status.map(status => {\n        let [r, g, b] = hexToRgb(status.color || defaultColor);\n        const factor = 0.8;\n        return `rgba(${r*factor}, ${g*factor}, ${b*factor}, 1)`;\n      });\n\n      this.$emit('nbElems', data.length);\n\n      this.renderChart({\n        labels: status.map(status => this.$t(status.label)),\n        datasets: [\n          {\n            data,\n            backgroundColor: status.map(status => status.color || defaultColor),\n            borderColor: borderColors,\n            borderWidth: 1,\n            hoverBorderColor: borderColors,\n          }\n        ]\n      }, {\n        maintainAspectRatio: false,\n        legend: {display: false},\n        scales: {\n          xAxes: [{\n            ticks: {\n              min: 0,\n              suggestedMax: Math.round(Math.max(...data)*1.2)+1\n            }\n          }],\n          yAxes: [{\n            gridLines: {\n              display: false\n            },\n            categoryPercentage: 0.6\n          }]\n        }\n      });\n    }\n  },\n  async mounted () {\n    this.addPlugin(ChartDataLabels);\n    this.doRenderChart();\n  }\n};\n","<template>\n  <div class=\"software-wrapper\">\n    <b-loading :is-full-page=\"false\" :active=\"loading\" />\n    <div class=\"content-wrapper\" v-if=\"!loading\">\n      <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n        <ul>\n          <li><router-link :to=\"`/software`\">{{$t('algorithms')}}</router-link></li>\n          <li class=\"is-active\"><a href=\"#\" aria-current=\"page\">{{software.fullName}}</a></li>\n        </ul>\n      </nav>\n\n      <div class=\"box\">\n        <b-message v-if=\"error\" type=\"is-danger\" has-icon icon-size=\"is-small\">\n          <h2> {{ $t('error') }} </h2>\n          <p> {{ $t('unexpected-error-info-message') }} </p>\n        </b-message>\n\n        <template v-else>\n          <h1>{{software.fullName}}</h1>\n\n          <div class=\"description\">\n            <cytomine-description :object=\"software\" :canEdit=\"canManageSoftware\" />\n          </div>\n\n          <hr>\n\n          <div class=\"columns\">\n            <div class=\"column\">\n              <h2>{{$t('projects')}}</h2>\n              <template v-if=\"projects.length\">\n                <span v-for=\"(project, index) in projects\" :key=\"project.id\">\n                  <router-link :to=\"`/project/${project.id}`\">{{project.name}}</router-link>\n                  <span v-if=\"index < projects.length - 1\">, </span>\n                </span>\n              </template>\n              <em class=\"has-text-grey\" v-else-if=\"nbProjects > 0\">\n                {{$t('used-in-project-no-access')}}\n              </em>\n              <em class=\"has-text-grey\" v-else>\n                {{$t('not-used-in-any-project')}}\n              </em>\n            </div>\n            <div class=\"column\">\n              <h2>{{$t('statistics')}}</h2>\n              <div class=\"chart-container\">\n                <software-statistics-chart\n                  css-classes=\"chart\"\n                  :software=\"software\"\n                />\n              </div>\n\n            </div>\n          </div>\n\n          <hr>\n\n          <h2>{{$t('software-parameters')}}</h2>\n\n          <b-table\n            :data=\"softwareParameters\"\n            default-sort=\"created\"\n            default-sort-direction=\"desc\"\n            :paginated=\"true\"\n            :per-page=\"softwareParametersPerPage\"\n            pagination-size=\"is-small\"\n            detailed detail-key=\"id\"\n          >\n            <template #default=\"{row: parameter}\">\n              <b-table-column :label=\"$t('name')\" field=\"name\" sortable>\n                {{parameter.humanName}}\n              </b-table-column>\n\n              <b-table-column :label=\"$t('type')\" field=\"type\" sortable>\n                {{$t(parameter.type.toLowerCase())}}\n              </b-table-column>\n\n              <b-table-column :label=\"$t('default-value')\" field=\"defaultValue\">\n                {{parameter.defaultParamValue}}\n              </b-table-column>\n\n              <b-table-column :label=\"$t('mandatory')\" field=\"mandatory\">\n                <template v-if=\"parameter.required\">{{$t('yes')}}</template>\n                <template v-else>{{$t('no')}}</template>\n              </b-table-column>\n            </template>\n\n            <template #empty>\n              <div class=\"content has-text-grey has-text-centered\">\n                <p>{{$t('no-software-parameter')}}</p>\n              </div>\n            </template>\n\n            <template #detail=\"{row: parameter}\">\n              <software-parameter-details :parameter=\"parameter\" :key=\"parameter.id\" />\n            </template>\n\n            <template #bottom-left>\n              <b-select v-model=\"softwareParametersPerPage\" size=\"is-small\">\n                <option value=\"10\">{{$t('count-per-page', {count: 10})}}</option>\n                <option value=\"25\">{{$t('count-per-page', {count: 25})}}</option>\n                <option value=\"50\">{{$t('count-per-page', {count: 50})}}</option>\n                <option value=\"100\">{{$t('count-per-page', {count: 100})}}</option>\n              </b-select>\n            </template>\n          </b-table>\n\n          <hr>\n\n          <h2>{{$t('other-information')}}</h2>\n\n          <software-details :software=\"software\" :excluded-properties=\"['projects', 'name', 'description']\"/>\n\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\n\nimport {Software, SoftwareParameterCollection, ProjectCollection} from 'cytomine-client';\n\nimport CytomineDescription from '@/components/description/CytomineDescription';\nimport CytomineProperties from '@/components/property/CytomineProperties';\nimport AttachedFiles from '@/components/attached-file/AttachedFiles';\nimport SoftwareParameterDetails from '@/components/software/SoftwareParameterDetails';\nimport SoftwareStatisticsChart from '@/components/charts/SoftwareStatisticsChart';\nimport SoftwareDetails from '@/components/software/SoftwareDetails';\n\n\nexport default {\n  name: 'software-information',\n  components: {\n    SoftwareDetails,\n    SoftwareStatisticsChart,\n    SoftwareParameterDetails,\n    CytomineDescription,\n    CytomineProperties,\n    AttachedFiles\n  },\n  data() {\n    return {\n      loading: true,\n      error: false,\n\n      software: null,\n\n      softwareParameters: [],\n      softwareParametersPerPage: 10,\n\n      projects: [],\n\n      chartRevision: 0,\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    idSoftware() {\n      return Number(this.$route.params.idSoftware);\n    },\n    canManageSoftware() {\n      return this.currentUser.adminByNow;\n    },\n    nbProjects() {\n      return this.projects.length;\n    }\n  },\n  watch: {\n    async idSoftware() {\n      this.loading = true;\n      await this.loadSoftware();\n    },\n    async software() {\n      this.chartRevision++;\n    }\n  },\n  methods: {\n    async loadSoftware() {\n      try {\n        await Promise.all([\n          this.fetchSoftware(),\n          this.fetchSoftwareParameters(),\n          this.fetchProjects()\n        ]);\n      }\n      catch(error) {\n        console.log(error);\n        this.error = true;\n        return;\n      }\n\n      this.chartRevision++;\n    },\n    async fetchSoftware() {\n      this.software = await Software.fetch(this.idSoftware);\n    },\n    async fetchSoftwareParameters() {\n      this.softwareParameters = (await SoftwareParameterCollection.fetchAll({filterKey: 'software', filterValue: this.idSoftware})).array;\n    },\n    async fetchProjects() {\n      this.projects = (await ProjectCollection.fetchAll({filterKey: 'software', filterValue: this.idSoftware})).array;\n    },\n  },\n  async created() {\n    await this.loadSoftware();\n    this.loading = false;\n  },\n};\n</script>\n\n<style scoped>\nh1 {\n  text-transform: initial;\n  letter-spacing: initial;\n  font-weight: 400;\n  font-size: 1.8rem;\n  margin-bottom: 0.7rem;\n}\n\nli {\n  margin-bottom: 0.5em;\n}\n\n.box {\n  position: relative;\n}\n\n.chart-container {\n  margin-top: 2em;\n  height: 10em;\n  position: relative;\n}\n</style>\n\n<style lang=\"scss\">\n.software-wrapper {\n  .table-wrapper {\n    margin-bottom: 0;\n  }\n\n  .chart {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n  }\n\n  .field.is-horizontal {\n    align-items: center;\n  }\n\n  .field-label {\n    margin-right: 1em !important;\n    padding-top: 0 !important;\n  }\n}\n\n.table {\n  background: none;\n  position: relative;\n  height: 3em;\n}\n\ntd.prop-label {\n  white-space: nowrap;\n  font-weight: 600;\n}\n\ntd.prop-content {\n  width: 100%;\n}\n\n.description {\n  font-size: 14px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareInformation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareInformation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SoftwareInformation.vue?vue&type=template&id=7790eae4&scoped=true&\"\nimport script from \"./SoftwareInformation.vue?vue&type=script&lang=js&\"\nexport * from \"./SoftwareInformation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SoftwareInformation.vue?vue&type=style&index=0&id=7790eae4&scoped=true&lang=css&\"\nimport style1 from \"./SoftwareInformation.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7790eae4\",\n  null\n  \n)\n\nexport default component.exports","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport VueRouter from 'vue-router';\n\n// Import Components\nimport GlobalDashboard from './components/GlobalDashboard.vue';\nimport ListProjects from './components/project/ListProjects.vue';\nimport CytomineStorage from './components/storage/CytomineStorage.vue';\nimport ListOntologies from './components/ontology/ListOntologies.vue';\nimport ListSoftware from './components/software/ListSoftware.vue';\nimport ListImages from './components/image/ListImages.vue';\nimport ImageInformation from './components/image/ImageInformation.vue';\nimport ListAnnotations from './components/annotations/ListAnnotations.vue';\nimport ProjectActivity from './components/project/ProjectActivity.vue';\nimport ListJobs from './components/job/ListJobs.vue';\nimport ProjectInformation from './components/project/ProjectInformation.vue';\nimport ProjectConfiguration from './components/project/ProjectConfiguration.vue';\nimport Account from './components/user/Account.vue';\nimport AdvancedSearch from './components/search/AdvancedSearch.vue';\nimport CytomineViewer from './components/viewer/CytomineViewer.vue';\nimport CytomineProject from './components/project/CytomineProject.vue';\nimport ProjectHome from './components/project/ProjectHome.vue';\nimport MemberActivityDetails from './components/project/activity/MemberActivityDetails.vue';\nimport AdminPanel from './components/admin/AdminPanel.vue';\nimport UserActivity from './components/user/UserActivity.vue';\nimport PageNotFound from './components/PageNotFound.vue';\nimport SoftwareInformation from './components/software/SoftwareInformation.vue';\n\n// Define routes\nconst routes = [\n  {\n    path: '/',\n    component: GlobalDashboard, // Alternative: component: require(\"./components/GlobalDashboard.vue\").default\n  },\n  {\n    path: '/projects',\n    component: ListProjects,\n  },\n  {\n    path: '/storage',\n    component: CytomineStorage,\n  },\n  {\n    path: '/ontology/:idOntology?',\n    component: ListOntologies\n  },\n  {\n    path: '/software',\n    component: ListSoftware\n  },\n  {\n    path: '/software/:idSoftware',\n    component: SoftwareInformation\n  },\n  {\n    path: '/advanced-search/:searchString?',\n    component: AdvancedSearch\n  },\n  {\n    path: '/account',\n    component: Account,\n  },\n  {\n    path: '/project/:idProject',\n    component: CytomineProject,\n    children: [\n      {\n        path: '',\n        component: ProjectHome\n      },\n      {\n        path: 'images',\n        component: ListImages\n      },\n      {\n        path: 'image/:idImages',\n        component: CytomineViewer\n      },\n      {\n        path: 'image/:idImage/information',\n        component: ImageInformation\n      },\n      {\n        path: 'image/:idImages/annotation/:idAnnotation',\n        component: CytomineViewer\n      },\n      {\n        path: 'annotations',\n        component: ListAnnotations\n      },\n      {\n        path: 'analysis',\n        component: ListJobs\n      },\n      {\n        path: 'activity',\n        component: ProjectActivity\n      },\n      {\n        path: 'activity/user/:idUser',\n        component: MemberActivityDetails\n      },\n      {\n        path: 'information',\n        component: ProjectInformation\n      },\n      {\n        path: 'configuration',\n        component: ProjectConfiguration\n      },\n      {\n        path: '*',\n        component: PageNotFound\n      }\n    ]\n  },\n  {\n    path: '/activity',\n    component: UserActivity\n  },\n  {\n    path: '/admin',\n    component: AdminPanel\n  },\n\n  // redirections for old URLS\n  {path: '/userdashboard', redirect: '/'},\n  {path: '/project', redirect: '/projects'},\n  {path: '/explorer', redirect: '/'},\n  {path: '/upload', redirect: '/storage'},\n\n  {path: '/activity', redirect: '/'},\n  {path: '/activity-:idProject-', redirect: '/project/:idProject/activity'},\n  {path: '/activity-:idProject-:idUser', redirect: '/project/:idProject/activity/user/:idUser'},\n\n  {path: '/search-', redirect: '/advanced-search'},\n\n  {path: '/admin-tabs-dashboard', redirect: '/admin?tab=dashboard'},\n  {path: '/admin-tabs-users', redirect: '/admin?tab=users'},\n  {path: '/admin-tabs-groups', redirect: '/'}, // TODO\n  {path: '/admin-tabs-permissions', redirect: '/'}, // TODO\n  {path: '/admin-tabs-configuration', redirect: '/admin?tab=configuration'},\n\n  {path: '/tabs-dashboard-:idProject', redirect: '/project/:idProject/information'},\n  {path: '/tabs-images-:idProject', redirect: '/project/:idProject/images'},\n  {path: '/tabs-annotations-:idProject', redirect: '/project/:idProject/annotations'},\n  {path: '/tabs-annotationproperties-:idProject-:idAnnot', redirect: '/project/:idProject'},\n  {path: '/tabs-imageproperties-:idProject-:idImage', redirect: '/project/:idProject'},\n  {path: '/tabs-imageproperties-:idProject-:idImage', redirect: '/project/:idProject'},\n  {path: '/tabs-algos-:idProject', redirect: '/project/:idProject/analysis'},\n  {path: '/tabs-config-:idProject', redirect: '/project/:idProject/configuration'},\n  {path: '/tabs-usersconfig-:idProject', redirect: '/project/:idProject/configuration?tab=members'},\n  {path: '/tabs-#tabs-useractivity-:idProject-:idUser', redirect: '/project/:idProject/activity/user/:idUser'},\n  {path: '/tabs-image-:idProject-:idImage-0', redirect: '/project/:idProject/image/:idImage'},\n  {path: '/tabs-image-:idProject-:idImage-:idAnnotation', redirect: '/project/:idProject/image/:idImage/annotation/:idAnnotation'},\n  {path: '/tabs-image-:idProject-:idImage-', redirect: '/project/:idProject/image/:idImage'},\n  // -----\n\n  {\n    path: '*',\n    component: PageNotFound\n  }\n];\n\n// Create router instance\nconst router = new VueRouter({\n  routes: routes,\n  linkActiveClass: 'is-active'\n});\n\nexport default router;\n","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<script>\n/**\n * @module zoomify-source/source\n */\nimport ZoomifySource from 'ol/source/Zoomify';\nimport {createFromTileUrlFunctions} from 'ol/tileurlfunction';\nimport tileSource from 'vuelayers/lib/mixin/tile-source';\nimport TileGrid from 'ol/tilegrid/TileGrid';\nimport {DEFAULT_TILE_SIZE} from 'ol/tilegrid/common';\n\nconst props = {\n  tierSizeCalculation: {\n    type: String,\n  },\n  extent: {\n    type: Array,\n  },\n  size: {\n    type: Array,\n  },\n  url: {\n    type: [String, Function],\n    required: false // override property since it is not required if urls is set\n  },\n  urls: {\n    type: Array\n  },\n  tileSize: {\n    type: Number,\n    default: DEFAULT_TILE_SIZE\n  },\n};\n\nconst data = () => {\n  return {\n    tierSizeInTiles: null,\n    tileCountUpToTier: null,\n    resolutions: null\n  };\n};\n\nfunction created() { // source: https://github.com/openlayers/openlayers/blob/v5.3.0/src/ol/source/Zoomify.js#L137\n  const size = this.size;\n  const imageWidth = size[0];\n  const imageHeight = size[1];\n  const tierSizeInTiles = [];\n  let tileSizeForTierSizeCalculation = this.tileSize;\n  while (imageWidth > tileSizeForTierSizeCalculation || imageHeight > tileSizeForTierSizeCalculation) {\n    tierSizeInTiles.push([\n      Math.ceil(imageWidth / tileSizeForTierSizeCalculation),\n      Math.ceil(imageHeight / tileSizeForTierSizeCalculation),\n    ]);\n    tileSizeForTierSizeCalculation += tileSizeForTierSizeCalculation;\n  }\n  tierSizeInTiles.push([1, 1]);\n  tierSizeInTiles.reverse();\n\n  const resolutions = [1];\n  const tileCountUpToTier = [0];\n  for (let i = 1, ii = tierSizeInTiles.length; i < ii; i++) {\n    resolutions.push(1 << i);\n    tileCountUpToTier.push(\n      tierSizeInTiles[i - 1][0] * tierSizeInTiles[i - 1][1] +\n            tileCountUpToTier[i - 1]\n    );\n  }\n  resolutions.reverse();\n\n  this.tierSizeInTiles = tierSizeInTiles;\n  this.tileCountUpToTier = tileCountUpToTier;\n  this.resolutions = resolutions;\n}\n\nconst methods = {\n  createSource() {\n    if(!this.url && !this.urls) {\n      throw new Error('Either url or urls properties must be set for ZoomifySource');\n    }\n\n    let source = new ZoomifySource({\n      attributions: this.attributions,\n      cacheSize: this.cacheSize,\n      crossOrigin: this.crossOrigin,\n      projection: this.projection,\n      reprojectionErrorThreshold: this.reprojectionErrorThreshold,\n      url: this.urlTmpl,\n      tierSizeCalculation: this.tierSizeCalculation,\n      size: this.size,\n      extent: this.extent,\n      transition: this.transition,\n      tileSize: this.tileSize\n    });\n\n    if(this.urls) {\n      const tileUrlFunction = createFromTileUrlFunctions(this.urls.map(this.createFromTemplate(source)));\n      source.setTileUrlFunction(tileUrlFunction);\n    }\n\n    return source;\n  },\n  createTileGrid() {\n    const extent = this.extent || [0, -this.size[1], this.size[0], 0];\n    return new TileGrid({\n      tileSize: this.tileSize,\n      extent: extent,\n      origin: [extent[0], extent[3]],\n      resolutions: this.resolutions,\n    });\n  },\n  // source: https://github.com/openlayers/openlayers/blob/v5.3.0/src/ol/source/Zoomify.js#L202\n  // temporary hack since Zoomify does not support multiple URLs (https://github.com/openlayers/openlayers/issues/9352)\n  createFromTemplate(source) {\n    return template => {\n      return (\n        (tileCoord) => {\n          if (!tileCoord) {\n            return undefined;\n          }\n          else {\n            const tileCoordZ = tileCoord[0];\n            const tileCoordX = tileCoord[1];\n            const tileCoordY = -tileCoord[2] - 1;\n            const tileIndex = tileCoordX + tileCoordY * this.tierSizeInTiles[tileCoordZ][0];\n            const tileSize = source.tileGrid.getTileSize(tileCoordZ);\n            const tileWidth = Array.isArray(tileSize) ? tileSize[0] : tileSize;\n            const tileGroup = ((tileIndex + this.tileCountUpToTier[tileCoordZ]) / tileWidth) | 0;\n            const localContext = {\n              'z': tileCoordZ,\n              'x': tileCoordX,\n              'y': tileCoordY,\n              'tileIndex': tileIndex,\n              'TileGroup': 'TileGroup' + tileGroup\n            };\n            return template.replace(/\\{(\\w+?)\\}/g, function(m, p) {\n              return localContext[p];\n            });\n          }\n        }\n      );\n    };\n  }\n};\n\nconst watch = {\n  urls() {\n    const tileUrlFunction = createFromTileUrlFunctions(this.urls.map(this.createFromTemplate(this.$source)));\n    this.$source.setTileUrlFunction(tileUrlFunction);\n    this.$source.refresh();\n  },\n};\n\nexport default {\n  name: 'vl-source-zoomify',\n  mixins: [tileSource],\n  props,\n  data,\n  methods,\n  watch,\n  created\n};\n</script>\n","var render, staticRenderFns\nimport script from \"./source.vue?vue&type=script&lang=js&\"\nexport * from \"./source.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./source.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./source.vue?vue&type=script&lang=js&\"","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport { pick } from 'vuelayers/lib/util/minilo';\nimport Source from './source.vue';\n\n/**\n * @param {Vue} Vue\n * @param {VueLayersOptions} [options]\n */\nfunction plugin (Vue, options = {}) {\n  if (plugin.installed) {\n    return;\n  }\n  plugin.installed = true;\n\n  options = pick(options, 'dataProjection');\n  Object.assign(Source, options);\n\n  Vue.component(Source.name, Source);\n}\n\nexport default plugin;\n\nexport {\n  Source,\n  plugin as install,\n};","var render, staticRenderFns\nimport script from \"./source.vue?vue&type=script&lang=js&\"\nexport * from \"./source.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<script>\n/**\n * @module raster-source/source\n */\nimport RasterSource from 'ol/source/Raster';\nimport tileSource from 'vuelayers/lib/mixin/image-source';\n\nconst props = {\n  sources: {type: Array},\n  operation: {type: Function},\n  lib: {type: Object},\n};\n\nconst methods = {\n  createSource() {\n    return new RasterSource({\n      sources: this.sources,\n      operation: this.operation,\n      lib: this.lib,\n    });\n  }\n};\n\nconst watch = {\n  operation() {\n    this.$source.setOperation(this.operation, this.lib);\n  },\n  lib() {\n    this.$source.setOperation(this.operation, this.lib);\n  }\n};\n\nexport default {\n  name: 'vl-source-raster',\n  mixins: [tileSource],\n  props,\n  methods,\n  watch\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./source.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./source.vue?vue&type=script&lang=js&\"","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport {pick} from 'vuelayers/lib/util/minilo';\nimport Source from './source.vue';\n\n/**\n * @param {Vue} Vue\n * @param {VueLayersOptions} [options]\n */\nfunction plugin (Vue, options = {}) {\n  if (plugin.installed) {\n    return;\n  }\n  plugin.installed = true;\n\n  options = pick(options, 'dataProjection');\n  Object.assign(Source, options);\n\n  Vue.component(Source.name, Source);\n}\n\nexport default plugin;\n\nexport {\n  Source,\n  plugin as install,\n};","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<script>\n/** @module translate-interaction/interaction */\nimport TranslateInteraction from 'ol/interaction/Translate';\nimport observableFromOlEvent from 'vuelayers/lib/rx-ext/from-ol-event';\nimport interaction from 'vuelayers/lib/mixin/interaction';\nimport { isCollection } from 'vuelayers/lib/ol-ext/util';\nimport { isFunction } from 'vuelayers/lib/util/minilo';\nimport { hasInteraction } from 'vuelayers/lib/util/assert';\nimport { makeWatchers } from 'vuelayers/lib/util/vue-helpers';\n\n/**\n * @vueProps\n */\nconst props = {\n  /**\n   * Source or collection identifier from IdentityMap.\n   * @type {String}\n   */\n  source: {\n    type: String,\n    required: true,\n  },\n  /**\n   * Hit-detection tolerance. Pixels inside the radius around the given position will be checked for features.\n   * This only works for the canvas renderer and not for WebGL.\n   * @type {number}\n   */\n  hitTolerance: {\n    type: Number,\n    default: 0,\n  },\n};\n\n/**\n * @vueMethods\n */\nconst methods = {\n  /**\n   * @return {Promise<ol.interaction.Translate>}\n   * @protected\n   */\n  async createInteraction () {\n    let sourceIdent = this.makeIdent(this.source);\n    let source = await this.$identityMap.get(sourceIdent, this.$options.INSTANCE_PROMISE_POOL);\n    if (isFunction(source.getFeatures)) {\n      let features = source.getFeatures();\n      if (isCollection(features)) {\n        source = features;\n      }\n    }\n    return new TranslateInteraction({\n      // source: isVectorSource(source) ? source : undefined,\n      features: isCollection(source) ? source : undefined,\n      hitTolerance: this.hitTolerance\n    });\n  },\n  /**\n   * @return {void}\n   * @protected\n   */\n  mount () {\n    interaction.methods.mount.call(this);\n  },\n  /**\n   * @return {void}\n   * @protected\n   */\n  unmount () {\n    interaction.methods.unmount.call(this);\n  },\n  /**\n   * @return {void}\n   * @protected\n   */\n  subscribeAll () {\n    subscribeToInteractionChanges.call(this);\n  },\n};\n\nconst watch = makeWatchers(['source'], () => function () {\n  this.scheduleRecreate();\n});\n\n/**\n * @vueProto\n * @alias module:translate-interaction/interaction\n * @title vl-interaction-translate\n */\nexport default {\n  name: 'vl-interaction-translate',\n  mixins: [interaction],\n  props,\n  methods,\n  watch,\n};\n\n/**\n * @private\n */\nfunction subscribeToInteractionChanges () {\n  hasInteraction(this);\n  const translateEvents = observableFromOlEvent(this.$interaction, ['translatestart', 'translateend']);\n  this.subscribeTo(translateEvents, evt => {\n    ++this.rev;\n    this.$emit(evt.type, evt);\n  });\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js&\"","var render, staticRenderFns\nimport script from \"./interaction.vue?vue&type=script&lang=js&\"\nexport * from \"./interaction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport { pick } from 'vuelayers/lib/util/minilo';\nimport Interaction from './interaction.vue';\n\nfunction plugin (Vue, options = {}) {\n  if (plugin.installed) {\n    return;\n  }\n  plugin.installed = true;\n\n  options = pick(options, 'dataProjection');\n  Object.assign(Interaction, options);\n\n  Vue.component(Interaction.name, Interaction);\n}\n\nexport default plugin;\n\nexport {\n  Interaction,\n  plugin as install,\n};","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<script>\n/** @module rotate-interaction/interaction */\nimport RotateFeatureInteraction from 'ol-rotate-feature';\nimport observableFromOlEvent from 'vuelayers/lib/rx-ext/from-ol-event';\nimport interaction from 'vuelayers/lib/mixin/interaction';\nimport stylesContainer from 'vuelayers/lib/mixin/styles-container';\nimport { defaultEditStyle, createStyle } from 'vuelayers/lib/ol-ext/style';\nimport { isCollection, isVectorSource } from 'vuelayers/lib/ol-ext/util';\nimport { mapValues, isFunction } from 'vuelayers/lib/util/minilo';\nimport mergeDescriptors from 'vuelayers/lib/util/multi-merge-descriptors';\nimport { hasInteraction } from 'vuelayers/lib/util/assert';\nimport { makeWatchers } from 'vuelayers/lib/util/vue-helpers';\n\n/**\n * @vueProps\n */\nconst props = {\n  /**\n   * Source or collection identifier from IdentityMap.\n   * @type {String}\n   */\n  source: {\n    type: String,\n    required: true,\n  },\n  /**\n   * Initial angle in radians (positive is counter-clockwise), applied for features already added to collection.\n   * @type {number}\n   */\n  angle: {\n    type: Number,\n    default: 0,\n  },\n};\n\n/**\n * @vueMethods\n */\nconst methods = {\n  /**\n   * @return {Promise<ol.interaction.Rotate>}\n   * @protected\n   */\n  async createInteraction () {\n    let sourceIdent = this.makeIdent(this.source);\n    let source = await this.$identityMap.get(sourceIdent, this.$options.INSTANCE_PROMISE_POOL);\n    if (isFunction(source.getFeatures)) {\n      let features = source.getFeatures();\n      if (isCollection(features)) {\n        source = features;\n      }\n    }\n    return new RotateFeatureInteraction({\n      source: isVectorSource(source) ? source : undefined,\n      features: isCollection(source) ? source : undefined,\n      deleteCondition: this.deleteCondition,\n      insertVertexCondition: this.insertVertexCondition,\n      pixelTolerance: this.pixelTolerance,\n      style: this.createStyleFunc(),\n      wrapX: this.wrapX,\n    });\n  },\n  /**\n   * @return {ol.StyleFunction}\n   * @protected\n   */\n  getDefaultStyles () {\n    const defaultStyles = mapValues(defaultEditStyle(), styles => styles.map(createStyle));\n    return function __selectDefaultStyleFunc (feature) {\n      if (feature.getGeometry()) {\n        return defaultStyles[feature.getGeometry().getType()];\n      }\n    };\n  },\n  /**\n   * @returns {Object}\n   * @protected\n   */\n  getServices () {\n    return mergeDescriptors(\n      interaction.methods.getServices.call(this),\n      stylesContainer.methods.getServices.call(this),\n    );\n  },\n  /**\n   * @return {ol.interaction.Interaction|undefined}\n   * @protected\n   */\n  getStyleTarget () {\n    return this.$interaction;\n  },\n  /**\n   * @return {void}\n   * @protected\n   */\n  mount () {\n    interaction.methods.mount.call(this);\n  },\n  /**\n   * @return {void}\n   * @protected\n   */\n  unmount () {\n    interaction.methods.unmount.call(this);\n  },\n  /**\n   * @return {void}\n   * @protected\n   */\n  subscribeAll () {\n    subscribeToInteractionChanges.call(this);\n  },\n  /**\n   * @param {Array<{style: ol.style.Style, condition: (function|boolean|undefined)}>|ol.StyleFunction|Vue|undefined} styles\n   * @return {void}\n   * @protected\n   */\n  setStyle (styles) {\n    if (styles !== this._styles) {\n      this._styles = styles;\n      this.scheduleRefresh();\n    }\n  },\n};\n\nconst watch = makeWatchers(['source'], () => function () {\n  this.scheduleRecreate();\n});\n\n/**\n * @vueProto\n * @alias module:rotate-interaction/interaction\n * @title vl-interaction-rotate\n */\nexport default {\n  name: 'vl-interaction-rotate',\n  mixins: [interaction, stylesContainer],\n  props,\n  methods,\n  watch,\n};\n\n/**\n * @private\n */\nfunction subscribeToInteractionChanges () {\n  hasInteraction(this);\n  const rotateEvents = observableFromOlEvent(this.$interaction, ['rotatestart', 'rotateend']);\n  this.subscribeTo(rotateEvents, evt => {\n    ++this.rev;\n    this.$emit(evt.type, evt);\n  });\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interaction.vue?vue&type=script&lang=js&\"","var render, staticRenderFns\nimport script from \"./interaction.vue?vue&type=script&lang=js&\"\nexport * from \"./interaction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport { pick } from 'vuelayers/lib/util/minilo';\nimport Interaction from './interaction.vue';\n\nfunction plugin (Vue, options = {}) {\n  if (plugin.installed) {\n    return;\n  }\n  plugin.installed = true;\n\n  options = pick(options, 'dataProjection');\n  Object.assign(Interaction, options);\n\n  Vue.component(Interaction.name, Interaction);\n}\n\nexport default plugin;\n\nexport {\n  Interaction,\n  plugin as install,\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\",attrs:{\"id\":\"app\"}},[_c('notifications',{attrs:{\"position\":\"top center\",\"width\":\"30%\",\"max\":5},scopedSlots:_vm._u([{key:\"body\",fn:function(props){return [_c('div',{staticClass:\"notification vue-notification\",class:props.item.type},[_c('button',{staticClass:\"delete\",on:{\"click\":props.close}}),_c('strong',{staticClass:\"notification-title\"},[_vm._v(\" \"+_vm._s(props.item.title)+\" \")]),_c('div',{staticClass:\"notification-content\",domProps:{\"innerHTML\":_vm._s(props.item.text)}})])]}}])}),(!_vm.loading)?[(_vm.communicationError)?_c('div',{staticClass:\"box error\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('communication-error'))+\" \")]),_vm._v(\" \"+_vm._s(_vm.$t('core-cannot-be-reached'))+\" \")]):(!_vm.currentUser)?_c('login'):[_c('cytomine-navbar'),_c('div',{staticClass:\"bottom\"},[_c('keep-alive',{attrs:{\"include\":\"cytomine-storage\"}},[(_vm.currentUser)?_c('router-view'):_vm._e()],1)],1)]]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"navbar is-light\",attrs:{\"role\":\"navigation\"}},[_c('div',{staticClass:\"navbar-brand\"},[_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/\",\"exact\":\"\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.svg\"),\"id\":\"logo\",\"alt\":\"Cytomine\"}})]),_c('a',{staticClass:\"navbar-burger\",class:{'is-active':_vm.openedTopMenu},attrs:{\"role\":\"\"},on:{\"click\":function($event){_vm.openedTopMenu=!_vm.openedTopMenu}}},[_c('span'),_vm._v(\" \"),_c('span'),_vm._v(\" \"),_c('span')])],1),_c('div',{staticClass:\"navbar-menu\",class:{'is-active':_vm.openedTopMenu},attrs:{\"id\":\"topMenu\"}},[_c('div',{staticClass:\"navbar-start\"},[(this.nbActiveProjects > 0)?_c('navbar-dropdown',{attrs:{\"icon\":\"fa-folder-open\",\"title\":_vm.$t('workspace')}},[_c('navigation-tree')],1):_vm._e(),_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/projects\"}},[_c('i',{staticClass:\"fas fa-list-alt\"}),_vm._v(\" \"+_vm._s(_vm.$t('projects'))+\" \")]),(!_vm.currentUser.guestByNow)?_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/storage\"}},[_c('i',{staticClass:\"fas fa-download\"}),_vm._v(\" \"+_vm._s(_vm.$t('storage'))+\" \")]):_vm._e(),_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/ontology\"}},[_c('i',{staticClass:\"fas fa-hashtag\"}),_vm._v(\" \"+_vm._s(_vm.$t('ontologies'))+\" \")]),_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/software\"}},[_c('i',{staticClass:\"fas fa-code\"}),_vm._v(\" \"+_vm._s(_vm.$t('algorithms'))+\" \")]),(_vm.currentUser.adminByNow)?_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/admin\"}},[_c('i',{staticClass:\"fas fa-wrench\"}),_vm._v(\" \"+_vm._s(_vm.$t('admin-menu'))+\" \")]):_vm._e()],1),_c('div',{staticClass:\"navbar-end\"},[_c('cytomine-searcher'),_c('navbar-dropdown',{attrs:{\"icon\":_vm.currentUser.adminByNow ? 'fa-star' : _vm.currentUser.isSwitched ? 'fa-user-ninja' : 'fa-user',\"title\":_vm.currentUserFullInfo,\"linkClasses\":{'has-text-dark-primary': _vm.currentUser.isSwitched},\"tag\":_vm.currentUser.adminByNow ? {type: 'is-danger', text: _vm.$t('admin')} : null,\"listPathes\":['/account', '/activity']}},[_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/account\"}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-user fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t('account'))+\" \")]),_c('router-link',{staticClass:\"navbar-item\",attrs:{\"to\":\"/activity\"}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-history fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t('activity-history'))+\" \")]),(_vm.currentUser.admin)?[(!_vm.currentUser.adminByNow)?_c('a',{staticClass:\"navbar-item\",on:{\"click\":function($event){return _vm.openAdminSession()}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-star fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t('open-admin-session'))+\" \")]):_c('a',{staticClass:\"navbar-item\",on:{\"click\":function($event){return _vm.closeAdminSession()}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"far fa-star fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t('close-admin-session'))+\" \")])]:_vm._e(),(_vm.currentUser.isSwitched)?[_c('a',{staticClass:\"navbar-item has-text-dark-primary\",on:{\"click\":function($event){return _vm.stopSwitchUser()}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-exchange-alt fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t('switch-back-to-user', {username: _vm.currentUser.realUser}))+\" \")])]:_vm._e(),_c('a',{staticClass:\"navbar-item\",on:{\"click\":function($event){return _vm.logout()}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-power-off fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t('logout'))+\" \")])],2),_c('navbar-dropdown',{attrs:{\"icon\":\"fa-question-circle\",\"title\":_vm.$t('help'),\"classes\":['is-right']}},[_c('a',{staticClass:\"navbar-item\",on:{\"click\":function($event){return _vm.openHotkeysModal()}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"far fa-keyboard fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t('shortcuts'))+\" \")]),_c('a',{staticClass:\"navbar-item\",on:{\"click\":function($event){return _vm.openAboutModal()}}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-info-circle fa-xs\"})]),_vm._v(\" \"+_vm._s(_vm.$t('about-cytomine'))+\" \")])])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"navbar-item has-dropdown is-hoverable\"},[_c('span',{staticClass:\"navbar-link\",class:Object.assign({}, {'is-active': _vm.isActive}, _vm.linkClasses),attrs:{\"tabindex\":\"0\"}},[(_vm.icon)?_c('i',{class:[_vm.iconPack, _vm.icon]}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.title)+\" \"),(_vm.tag)?_c('b-tag',{attrs:{\"type\":_vm.tag.type}},[_vm._v(_vm._s(_vm.tag.text))]):_vm._e()],1),_c('div',{staticClass:\"navbar-dropdown\",class:_vm.classes},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"navbar-item has-dropdown is-hoverable\">\n  <span class=\"navbar-link\" :class=\"{'is-active': isActive, ...linkClasses}\" tabindex=\"0\">\n    <i v-if=\"icon\" :class=\"[iconPack, icon]\"></i>\n    {{title}}\n    <b-tag v-if=\"tag\" :type=\"tag.type\">{{tag.text}}</b-tag>\n  </span>\n  <div class=\"navbar-dropdown\" :class=\"classes\">\n    <slot></slot>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  name: 'navbar-dropdown',\n  props: {\n    icon: String,\n    iconPack: {type: String, default: 'fas'},\n    title: String,\n    tag: Object,\n    classes: Array,\n    linkClasses: Object,\n    listPathes: Array\n  },\n  data() {\n    return {\n      isActive: false\n    };\n  },\n  watch: {\n    '$route.path': {\n      handler(newPath) {\n        if (this.listPathes) {\n          this.isActive = this.listPathes.includes(newPath);\n        }\n        // required so dropdown doesn't remain open on route change.\n        document.activeElement.blur();\n      },\n      immediate: true\n    }\n  }\n};\n</script>\n\n<style>\n.navbar-item .tag {\n  margin-left: 0.5rem;\n}\n@media screen and (min-width: 1024px) {\n  .navbar-item.is-hoverable:hover .navbar-dropdown {\n    display: block;\n  }\n  .navbar-item.is-hoverable:focus-within:not(:hover) .navbar-dropdown {\n    display: none;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavbarDropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavbarDropdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavbarDropdown.vue?vue&type=template&id=4eef182f&\"\nimport script from \"./NavbarDropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./NavbarDropdown.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavbarDropdown.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"navigation-tree-wrapper\"},_vm._l((_vm.projects),function(project,_,index){return _c('div',{key:project.id},[_c('router-link',{staticClass:\"navbar-item project-item\",attrs:{\"to\":(\"/project/\" + (project.id))}},[_vm._v(\" \"+_vm._s(project.name)+\" \"),_c('a',{staticClass:\"delete is-small\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.closeProject(project)}}})]),_vm._l((project.viewers),function(viewer,idViewer){return [(_vm.nbImages(viewer))?_c('router-link',{key:idViewer,staticClass:\"navbar-item viewer-item\",attrs:{\"to\":_vm.viewerPath(project.id, idViewer),\"exact\":\"\"}},[_c('div',{staticClass:\"viewer-name\"},[_c('span',[_c('i',{staticClass:\"fas fa-caret-right\"}),(_vm.nbImages(viewer) === 1)?[_c('image-name',{attrs:{\"image\":Object.values(viewer.images)[0].imageInstance}})]:[_vm._v(\" \"+_vm._s(_vm.$t('viewer-group', {nbImages: _vm.nbImages(viewer)}))+\" \")],_vm._v(\" \"+_vm._s(viewer.name)+\" \")],2),(_vm.nbImages(viewer) > 1)?_c('ul',{staticClass:\"viewer-details\"},_vm._l((viewer.images),function(image,idx){return _c('li',{key:idx},[_c('image-name',{attrs:{\"image\":image.imageInstance}})],1)}),0):_vm._e()]),_c('a',{staticClass:\"delete is-small\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.closeViewer(project.id, idViewer)}}})]):_vm._e()]}),(index < _vm.projects.length - 1)?_c('hr',{staticClass:\"navbar-divider\"}):_vm._e()],2)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div class=\"navigation-tree-wrapper\">\n  <div v-for=\"(project, _, index) in projects\" :key=\"project.id\">\n\n    <router-link\n      class=\"navbar-item project-item\"\n      :to=\"`/project/${project.id}`\"\n    >\n      {{project.name}}\n      <a class=\"delete is-small\" @click.stop.prevent=\"closeProject(project)\"></a>\n    </router-link>\n\n    <template v-for=\"(viewer, idViewer) in project.viewers\">\n      <router-link\n        v-if=\"nbImages(viewer)\"\n        class=\"navbar-item viewer-item\"\n        :to=\"viewerPath(project.id, idViewer)\"\n        :key=\"idViewer\"\n        exact\n      >\n        <div class=\"viewer-name\">\n          <span>\n            <i class=\"fas fa-caret-right\"></i>\n            <template v-if=\"nbImages(viewer) === 1\">\n              <image-name :image=\"Object.values(viewer.images)[0].imageInstance\" />\n            </template>\n            <template v-else>\n              {{$t('viewer-group', {nbImages: nbImages(viewer)})}}\n            </template>\n            {{viewer.name}}\n          </span>\n          <ul class=\"viewer-details\" v-if=\"nbImages(viewer) > 1\">\n            <li v-for=\"(image, idx) in viewer.images\" :key=\"idx\">\n              <image-name :image=\"image.imageInstance\" />\n            </li>\n          </ul>\n        </div>\n        <a class=\"delete is-small\" @click.stop.prevent=\"closeViewer(project.id, idViewer)\"></a>\n      </router-link>\n    </template>\n    <hr v-if=\"index < projects.length - 1\" class=\"navbar-divider\">\n  </div>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\nimport ImageName from '@/components/image/ImageName';\n\nexport default {\n  name: 'navigation-tree',\n  components: {ImageName},\n  computed: {\n    projects: get('projects')\n  },\n  methods: {\n    nbImages(viewer) {\n      return Object.keys(viewer.images).length;\n    },\n    viewerPath(idProject, idViewer) {\n      return this.$store.getters[`projects/${idProject}/viewers/${idViewer}/pathViewer`]();\n    },\n    closeProject(project) {\n      let nbViewers = Object.keys(project.viewers).length;\n      if(nbViewers) {\n        this.$buefy.dialog.confirm({\n          title: this.$t('confirm-close-project'),\n          message: this.$t(\n            'confirm-close-project-message',\n            {viewers: this.$tc('count-viewers', nbViewers, {count: nbViewers})}\n          ),\n          type: 'is-danger',\n          confirmText: this.$t('button-confirm'),\n          cancelText: this.$t('button-cancel'),\n          onConfirm: () => this.doCloseProject(project)\n        });\n        return;\n      }\n      this.doCloseProject(project);\n    },\n    doCloseProject(project) {\n      this.$store.unregisterModule(['projects', project.id]);\n    },\n    closeViewer(idProject, idViewer) {\n      this.$store.unregisterModule(['projects', idProject, 'viewers', idViewer]);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~bulma/sass/utilities/mixins.sass';\n\n.project-item {\n  color: #333;\n}\n\n.viewer-item {\n  padding-left: 1.5rem !important;\n  padding-right: 1.5rem !important;\n  position: relative;\n}\n\n.viewer-item ul {\n  color: #888;\n  font-weight: normal;\n  margin-left: 1rem;\n  font-size: 0.85em;\n}\n\n.viewer-name {\n  padding-right: 2rem;\n}\n\n.delete {\n  position: absolute;\n  top: 0.5rem;\n  right: 0.5rem;\n}\n\n.navigation-tree-wrapper {\n  @include desktop {\n    max-height: 70vh;\n    overflow: auto;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavigationTree.vue?vue&type=template&id=24df7cb5&scoped=true&\"\nimport script from \"./NavigationTree.vue?vue&type=script&lang=js&\"\nexport * from \"./NavigationTree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavigationTree.vue?vue&type=style&index=0&id=24df7cb5&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24df7cb5\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('cytomine-modal-card',{attrs:{\"title\":_vm.$t('shortcuts')},on:{\"close\":function($event){return _vm.$parent.close()}}},_vm._l((_vm.categories),function(category){return _c('div',{key:category},[_c('h2',[_vm._v(_vm._s(_vm.$t((\"shortcut-\" + category))))]),_c('b-table',{staticClass:\"shortcut-list\",attrs:{\"data\":_vm.filteredShortcuts(category)},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar shortcut = ref.row;\nreturn [_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.$t('description')}},[_vm._v(\" \"+_vm._s(_vm.$t((\"shortcut-\" + (shortcut.name))))+\" \")]),_c('b-table-column',{attrs:{\"field\":\"val\",\"label\":_vm.$t('shortcut')}},_vm._l((shortcut.key),function(k,index){return _c('span',{key:(\"\" + category + (shortcut.name) + k)},[_c('span',{staticClass:\"key\"},[(k === 'click')?_c('i',{staticClass:\"fas fa-mouse-pointer\"}):(k === 'drag')?_c('i',{staticClass:\"fas fa-hand-pointer\"}):(k === '+')?_c('i',{staticClass:\"fas fa-plus\"}):(k === '-')?_c('i',{staticClass:\"fas fa-minus\"}):(k === 'arrowleft')?_c('i',{staticClass:\"fas fa-arrow-left\"}):(k === 'arrowright')?_c('i',{staticClass:\"fas fa-arrow-right\"}):(k === 'arrowup')?_c('i',{staticClass:\"fas fa-arrow-up\"}):(k === 'arrowdown')?_c('i',{staticClass:\"fas fa-arrow-down\"}):(k === 'meta')?_c('span',[_vm._v(\" Cmd\")]):(k === 'shift')?_c('span',[_vm._v(\" Shift\")]):(k === 'alt')?_c('span',[_vm._v(\" Alt\")]):(k === 'pageup')?_c('span',[_vm._v(\"Page Up\")]):(k === 'pagedown')?_c('span',[_vm._v(\"Page Down\")]):(k === 'del')?_c('span',[_vm._v(\"Delete\")]):_c('span',[_vm._v(_vm._s(k))])]),(index < shortcut.key.length - 1)?[_vm._v(\"+\")]:_vm._e()],2)}),0)]}}],null,true)})],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<cytomine-modal-card :title=\"$t('shortcuts')\" @close=\"$parent.close()\">\n  <div v-for=\"category in categories\" :key=\"category\">\n    <h2>{{$t(`shortcut-${category}`)}}</h2>\n    <b-table :data=\"filteredShortcuts(category)\" class=\"shortcut-list\">\n      <template #default=\"{row: shortcut}\">\n        <b-table-column field=\"name\" :label=\"$t('description')\">\n          {{$t(`shortcut-${shortcut.name}`)}}\n        </b-table-column>\n\n        <b-table-column field=\"val\" :label=\"$t('shortcut')\">\n          <span v-for=\"(k, index) in shortcut.key\" :key=\"`${category}${shortcut.name}${k}`\">\n            <span class=\"key\">\n              <i v-if=\"k === 'click'\" class=\"fas fa-mouse-pointer\"></i>\n              <i v-else-if=\"k === 'drag'\" class=\"fas fa-hand-pointer\"></i>\n              <i v-else-if=\"k === '+'\" class=\"fas fa-plus\"></i>\n              <i v-else-if=\"k === '-'\" class=\"fas fa-minus\"></i>\n              <i v-else-if=\"k === 'arrowleft'\" class=\"fas fa-arrow-left\"></i>\n              <i v-else-if=\"k === 'arrowright'\" class=\"fas fa-arrow-right\"></i>\n              <i v-else-if=\"k === 'arrowup'\" class=\"fas fa-arrow-up\"></i>\n              <i v-else-if=\"k === 'arrowdown'\" class=\"fas fa-arrow-down\"></i>\n              <span v-else-if=\"k === 'meta'\">&#8984; Cmd</span>\n              <span v-else-if=\"k === 'shift'\">&#8679; Shift</span>\n              <span v-else-if=\"k === 'alt'\">&#8997; Alt</span>\n              <span v-else-if=\"k === 'pageup'\">Page Up</span>\n              <span v-else-if=\"k === 'pagedown'\">Page Down</span>\n              <span v-else-if=\"k === 'del'\">Delete</span>\n              <span v-else>{{k}}</span>\n            </span>\n            <template v-if=\"index < shortcut.key.length - 1\">+</template>\n          </span>\n        </b-table-column>\n      </template>\n    </b-table>\n  </div>\n</cytomine-modal-card>\n</template>\n\n<script>\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\nimport shortcuts from '@/utils/shortcuts.js';\n\nexport default {\n  name: 'hotkeys-modal',\n  components: {CytomineModalCard},\n  data() {\n    return {\n      categories: ['general', 'viewer-nav', 'viewer-tool', 'viewer-toggle', 'text-editor']\n    };\n  },\n  computed: {\n    shortcuts() {\n      return Object.entries(shortcuts).map(([name, key]) => {\n        return {name, key};\n      });\n    }\n  },\n  methods: {\n    filteredShortcuts(category) {\n      return this.shortcuts.filter(shortcut => {\n        return shortcut.name.startsWith(`${category}-`);\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.modal-card, .modal-card-body {\n  width: 50vw;\n  min-width: 600px;\n  font-weight: normal;\n}\n\n.key {\n  min-width: 3rem;\n  height: 2.25rem;\n  border: 1px solid #ddd;\n  padding: 0.5em 1em !important;\n  margin: 0 0.3em 0 0.3em;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 3px;\n  color: #888;\n  background: #f8f8f8;\n  font-weight: 600;\n  text-transform: capitalize;\n}\n\n.shortcut-list {\n  margin-bottom: 2em;\n}\n\n>>> td, >>> th {\n  vertical-align: middle !important;\n  width: 50%;\n}\n</style>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotkeysModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotkeysModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HotkeysModal.vue?vue&type=template&id=2097f692&scoped=true&\"\nimport script from \"./HotkeysModal.vue?vue&type=script&lang=js&\"\nexport * from \"./HotkeysModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HotkeysModal.vue?vue&type=style&index=0&id=2097f692&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2097f692\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('cytomine-modal-card',{attrs:{\"title\":_vm.$t('about-cytomine')},on:{\"close\":function($event){return _vm.$parent.close()}}},[(!_vm.loading)?[_c('dl',[_c('dt',[_vm._v(_vm._s(_vm.$t('version')))]),_c('dd',[_vm._v(_vm._s(_vm.version || '?'))]),_c('dt',[_vm._v(_vm._s(_vm.$t('sponsors')))]),_c('dd',[_c('a',{attrs:{\"href\":\"https://cytomine.coop\",\"target\":\"_blank\"}},[_c('img',{staticClass:\"sponsor\",attrs:{\"src\":require(\"@/assets/sponsors/logo-cytomine-coop.png\")}})]),_c('a',{attrs:{\"href\":\"https://www.uliege.be\",\"target\":\"_blank\"}},[_c('img',{staticClass:\"sponsor\",attrs:{\"src\":require(\"@/assets/sponsors/logo-uliege.png\")}})]),_c('a',{attrs:{\"href\":\"https://www.wallonie.be/\",\"target\":\"_blank\"}},[_c('img',{staticClass:\"sponsor\",attrs:{\"src\":require(\"@/assets/sponsors/logo-wallonie.png\")}})])]),_c('dt',[_vm._v(_vm._s(_vm.$t('description')))]),_c('dd',[_c('i18n',{attrs:{\"path\":\"cytomine-sponsors-info\"}},[_c('a',{attrs:{\"place\":\"cytomineCompanyLink\",\"href\":\"https://cytomine.coop\",\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.$t('cytomine-company')))])])],1),_c('dt',[_vm._v(_vm._s(_vm.$t('website')))]),_c('dd',[_c('i18n',{attrs:{\"path\":\"cytomine-website-info\"}},[_c('a',{attrs:{\"place\":\"websiteLink\",\"href\":\"https://cytomine.coop\",\"target\":\"_blank\"}},[_vm._v(\"cytomine.org\")])])],1),_c('dt',[_vm._v(_vm._s(_vm.$t('source-code')))]),_c('dd',[_c('i18n',{attrs:{\"path\":\"source-code-info\"}},[_c('a',{attrs:{\"place\":\"githubLink\",\"href\":\"http://github.com/cytomine/\",\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.$t('github-repository')))])])],1),_c('dt',[_vm._v(_vm._s(_vm.$t('documentation')))]),_c('dd',[_c('i18n',{attrs:{\"path\":\"documentation-info\"}},[_c('a',{attrs:{\"place\":\"docLink\",\"href\":\"https://documentation.cytomine.org/\",\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.$t('here')))]),_c('a',{attrs:{\"place\":\"apiDocLink\",\"href\":_vm.apiDocLink,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.$t('here')))])])],1),_c('dt',[_vm._v(_vm._s(_vm.$t('contact')))]),_c('dd',[_c('i18n',{attrs:{\"path\":\"contact-info\"}},[_c('a',{attrs:{\"place\":\"contactMail\",\"href\":\"mailto:info@cytomine.org\"}},[_vm._v(\"info@cytomine.org\")])])],1)])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<cytomine-modal-card :title=\"$t('about-cytomine')\" @close=\"$parent.close()\">\n  <template v-if=\"!loading\">\n    <dl>\n      <dt>{{$t('version')}}</dt>\n      <dd>{{version || '?'}}</dd>\n\n      <dt>{{$t('sponsors')}}</dt>\n      <dd>\n        <a href=\"https://cytomine.coop\" target=\"_blank\">\n          <img src=\"@/assets/sponsors/logo-cytomine-coop.png\" class=\"sponsor\">\n        </a>\n        <a href=\"https://www.uliege.be\" target=\"_blank\">\n          <img src=\"@/assets/sponsors/logo-uliege.png\" class=\"sponsor\">\n        </a>\n        <a href=\"https://www.wallonie.be/\" target=\"_blank\">\n          <img src=\"@/assets/sponsors/logo-wallonie.png\" class=\"sponsor\">\n        </a>\n      </dd>\n\n      <dt>{{$t('description')}}</dt>\n      <dd>\n        <i18n path=\"cytomine-sponsors-info\">\n          <a place=\"cytomineCompanyLink\" href=\"https://cytomine.coop\" target=\"_blank\">\n            {{$t('cytomine-company')}}</a>\n        </i18n>\n      </dd>\n\n      <dt>{{$t('website')}}</dt>\n      <dd>\n        <i18n path=\"cytomine-website-info\">\n          <a place=\"websiteLink\" href=\"https://cytomine.coop\" target=\"_blank\">cytomine.org</a>\n        </i18n>\n      </dd>\n\n      <dt>{{$t('source-code')}}</dt>\n      <dd>\n        <i18n path=\"source-code-info\">\n          <a place=\"githubLink\" href=\"http://github.com/cytomine/\" target=\"_blank\">\n            {{$t('github-repository')}}</a>\n        </i18n>\n      </dd>\n\n      <dt>{{$t('documentation')}}</dt>\n      <dd>\n        <i18n path=\"documentation-info\">\n          <a place=\"docLink\" href=\"https://documentation.cytomine.org/\" target=\"_blank\">{{$t('here')}}</a>\n          <a place=\"apiDocLink\" :href=\"apiDocLink\" target=\"_blank\">{{$t('here')}}</a>\n        </i18n>\n      </dd>\n\n      <dt>{{$t('contact')}}</dt>\n      <dd>\n        <i18n path=\"contact-info\">\n          <a place=\"contactMail\" href=\"mailto:info@cytomine.org\">info@cytomine.org</a>\n        </i18n>\n      </dd>\n    </dl>\n  </template>\n</cytomine-modal-card>\n</template>\n\n<script>\nimport {Cytomine} from 'cytomine-client';\nimport constants from '@/utils/constants.js';\nimport CytomineModalCard from '@/components/utils/CytomineModalCard';\n\nexport default {\n  name: 'about-cytomine-wrapper',\n  components: {CytomineModalCard},\n  data() {\n    return {\n      version: null,\n      loading: true\n    };\n  },\n  computed: {\n    apiDocLink() {\n      let core = constants.CYTOMINE_CORE_HOST;\n      return `${core}/restApiDoc/?doc_url=${core}/restApiDoc/api`;\n    }\n  },\n  async created() {\n    try {\n      let {version} = await Cytomine.instance.ping();\n      this.version = version;\n    }\n    catch(error) {\n      console.log(error);\n    }\n    this.loading = false;\n  }\n};\n</script>\n\n<style scoped>\n.modal-card, .modal-card-body {\n  width: 50vw;\n  min-width: 700px;\n  font-weight: normal;\n}\n\ndt {\n  float: left;\n  width: 12rem;\n  text-align: right;\n  padding-right: 1rem;\n  clear: both;\n  font-weight: 600;\n}\n\ndd {\n  margin-left: 14rem;\n  background-color: #fff;\n  margin-bottom: 0.75rem;\n}\n\nimg.sponsor {\n  max-height: 7rem;\n  margin-right: 1rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutCytomineModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutCytomineModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AboutCytomineModal.vue?vue&type=template&id=7525c9fc&scoped=true&\"\nimport script from \"./AboutCytomineModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AboutCytomineModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AboutCytomineModal.vue?vue&type=style&index=0&id=7525c9fc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7525c9fc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.deactivate),expression:\"deactivate\"}],class:['navbar-item', 'search', _vm.displayResults ? 'is-active' : '']},[_c('b-field',{staticClass:\"no-margin\",attrs:{\"type\":_vm.error ? 'is-danger' : null}},[_c('b-input',{staticClass:\"global-search\",attrs:{\"placeholder\":_vm.$t('search-placeholder'),\"type\":\"search\",\"icon\":\"search\",\"loading\":_vm.loading,\"disabled\":_vm.error},nativeOn:{\"click\":function($event){return _vm.activate()}},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('p',{staticClass:\"control\"},[_c('router-link',{staticClass:\"button\",attrs:{\"to\":\"/advanced-search\",\"active-class\":\"router-link-active\"},nativeOn:{\"click\":function($event){return _vm.deactivate($event)}}},[_vm._v(\"+\")])],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(true),expression:\"true\"}],staticClass:\"navbar-dropdown search-results\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('project'))+\" (\"+_vm._s(_vm.filteredProjects.length)+\")\")]),(_vm.filteredProjects.length > 0)?_c('p',[_vm._l((_vm.subsetProjects),function(project){return _c('router-link',{key:project.id,staticClass:\"navbar-item\",attrs:{\"to\":(\"/project/\" + (project.id))},domProps:{\"innerHTML\":_vm._s(_vm.highlightedName(project.name))},nativeOn:{\"click\":function($event){return _vm.deactivate($event)}}})}),(_vm.moreProjects)?_c('a',{staticClass:\"navbar-item\"},[_vm._v(\"...\")]):_vm._e()],2):_c('span',{staticClass:\"navbar-item no-result\"},[_vm._v(_vm._s(_vm.$t('no-project')))]),_c('h2',[_vm._v(_vm._s(_vm.$t('images'))+\" (\"+_vm._s(_vm.filteredImages.length)+\")\")]),(_vm.filteredImages.length > 0)?_c('p',[_vm._l((_vm.subsetImages),function(img){return _c('router-link',{key:img.id,staticClass:\"navbar-item\",attrs:{\"to\":(\"/project/\" + (img.project) + \"/image/\" + (img.id))},domProps:{\"innerHTML\":_vm._s(_vm.htmlImageName(img))},nativeOn:{\"click\":function($event){return _vm.deactivate($event)}}})}),(_vm.moreImages)?_c('a',{staticClass:\"navbar-item\"},[_vm._v(\"...\")]):_vm._e()],2):_c('span',{staticClass:\"navbar-item no-result\"},[_vm._v(_vm._s(_vm.$t('no-image')))]),(_vm.moreImages || _vm.moreProjects)?_c('div',{staticClass:\"search-view-all\"},[_c('router-link',{staticClass:\"button is-small\",attrs:{\"to\":(\"/advanced-search/\" + _vm.searchString)},nativeOn:{\"click\":function($event){return _vm.deactivate($event)}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-view-all'))+\" (\"+_vm._s(_vm.totalNbResults)+\") \")])],1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div :class=\"['navbar-item', 'search', displayResults ? 'is-active' : '']\" v-click-outside=\"deactivate\">\n  <b-field class=\"no-margin\" :type=\"error ? 'is-danger' : null\">\n    <b-input\n      class=\"global-search\"\n      v-model=\"searchString\"\n      :placeholder=\"$t('search-placeholder')\"\n      type=\"search\"\n      icon=\"search\"\n      @click.native=\"activate()\"\n      :loading=\"loading\"\n      :disabled=\"error\"\n    />\n    <p class=\"control\">\n      <router-link class=\"button\" to=\"/advanced-search\" active-class=\"router-link-active\" @click.native=\"deactivate\">+</router-link>\n    </p>\n  </b-field>\n\n  <div class=\"navbar-dropdown search-results\" v-show=\"true\">\n    <h2>{{$t('project')}} ({{filteredProjects.length}})</h2>\n    <p v-if=\"filteredProjects.length > 0\">\n      <router-link\n        v-for=\"project in subsetProjects\"\n        :key=\"project.id\"\n        :to=\"`/project/${project.id}`\"\n        class=\"navbar-item\"\n        v-html=\"highlightedName(project.name)\"\n        @click.native=\"deactivate\"\n      />\n      <a v-if=\"moreProjects\" class=\"navbar-item\">...</a>\n    </p>\n    <span v-else class=\"navbar-item no-result\">{{$t('no-project')}}</span>\n\n    <h2>{{$t('images')}} ({{filteredImages.length}})</h2>\n    <p v-if=\"filteredImages.length > 0\">\n      <router-link\n        v-for=\"img in subsetImages\"\n        :key=\"img.id\"\n        :to=\"`/project/${img.project}/image/${img.id}`\"\n        class=\"navbar-item\"\n        @click.native=\"deactivate\"\n        v-html=\"htmlImageName(img)\"\n      />\n      <a v-if=\"moreImages\" class=\"navbar-item\">...</a>\n    </p>\n    <span v-else class=\"navbar-item no-result\">{{$t('no-image')}}</span>\n\n    <div v-if=\"moreImages || moreProjects\" class=\"search-view-all\">\n      <router-link class=\"button is-small\" :to=\"`/advanced-search/${searchString}`\" @click.native=\"deactivate\">\n        {{$t('button-view-all')}} ({{totalNbResults}})\n      </router-link>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\nimport {ImageInstanceCollection, ProjectCollection} from 'cytomine-client';\nimport {getWildcardRegexp} from '@/utils/string-utils';\n\nexport default {\n  name: 'cytomine-searcher',\n  data() {\n    return {\n      isActive: false,\n      loading: false,\n      error: false,\n      searchString: '',\n      projects: [],\n      images: [],\n      maxNbDisplayed: 5\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n\n    displayResults() {\n      return this.isActive && !this.error && this.searchString.length > 0;\n    },\n    regexp() {\n      return getWildcardRegexp(this.searchString);\n    },\n    filteredProjects() {\n      if(!this.searchString) {\n        return this.projects;\n      }\n\n      return this.projects.filter(project => {\n        return this.regexp.test(project.name);\n      });\n    },\n    subsetProjects() {\n      return this.filteredProjects.slice(0, this.maxNbDisplayed);\n    },\n    moreProjects() {\n      return this.filteredProjects > this.subsetProjects;\n    },\n    filteredImages() {\n      if(!this.searchString) {\n        return this.images;\n      }\n\n      return this.images.filter(image => {\n        return this.regexp.test(this.imageName(image));\n      });\n    },\n    subsetImages() {\n      return this.filteredImages.slice(0, this.maxNbDisplayed);\n    },\n    moreImages() {\n      return this.filteredImages > this.subsetImages;\n    },\n    totalNbResults() {\n      return this.filteredImages.length + this.filteredProjects.length;\n    }\n  },\n  methods: {\n    async fetchImages() {\n      this.images = await ImageInstanceCollection.fetchAllLight();\n    },\n    async fetchProjects() {\n      this.projects = (await new ProjectCollection({\n        light: true,\n        filterKey: 'user',\n        filterValue: this.currentUser.id\n      }).fetchAll()).array;\n    },\n    async activate() {\n      if(!this.isActive) {\n        try {\n          this.loading = true;\n          await Promise.all([\n            this.fetchImages(),\n            this.fetchProjects()\n          ]);\n        }\n        catch(error) {\n          console.log(error);\n          this.error = true;\n        }\n        this.loading = false;\n        this.isActive = true;\n      }\n    },\n    deactivate() {\n      this.isActive = false;\n    },\n    imageName(image) {\n      return String(image.blindedName || image.instanceFilename);\n    },\n    highlightedName(value) {\n      return value.replace(this.regexp, '<strong>$1</strong>');\n    },\n    htmlImageName(img) {\n      let blindIndication = img.blindedName ? `<span class=\"blind\">[${this.$t('blinded-name-indication')}] </span>` : '';\n      let inProject = `<span class=\"in-project\">(${this.$t('in-project', {projectName: img.projectName})})</span>`;\n      return `${blindIndication}${this.highlightedName(this.imageName(img))}&nbsp;${inProject}`;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.navbar-item.search {\n  height: 100%;\n}\n\n.navbar-item:not(.is-active) .navbar-dropdown { /* display dropdown if inactive even on mobile */\n  display: none;\n}\n\n.navbar-dropdown.search-results h2 {\n  background: #f1f1f1;\n  text-transform: uppercase;\n  font-size: 0.9em;\n  font-weight: 600;\n  padding: 0.2em 0 0.3em 3em;\n  border-top: 1px solid #e3e3e3;\n  margin-bottom: 0;\n}\n\n.navbar-dropdown.search-results .navbar-item {\n  font-weight: normal;\n  padding: 0.2em 1em 0.2em 1.75em;\n  white-space: pre;\n}\n\n.search-view-all {\n  border-top: 1px solid #e3e3e3;\n  padding-top: 0.5em;\n  text-align: center;\n}\n\n.no-result {\n  color: grey;\n}\n\n>>> .blind {\n  font-size: 0.9em;\n  text-transform: uppercase;\n}\n\n.global-search {\n  max-width: 15em;\n}\n\n.no-margin {\n  margin: 0 !important;\n}\n\n>>> .global-search .fas {\n  padding-right: 0px !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineSearcher.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineSearcher.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineSearcher.vue?vue&type=template&id=420dbf64&scoped=true&\"\nimport script from \"./CytomineSearcher.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineSearcher.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineSearcher.vue?vue&type=style&index=0&id=420dbf64&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"420dbf64\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<nav class=\"navbar is-light\" role=\"navigation\">\n  <div class=\"navbar-brand\">\n    <router-link to=\"/\" exact class=\"navbar-item\">\n      <img src=\"@/assets/logo.svg\" id=\"logo\" alt=\"Cytomine\">\n    </router-link>\n    <a role=\"\" class=\"navbar-burger\" :class=\"{'is-active':openedTopMenu}\" @click=\"openedTopMenu=!openedTopMenu\">\n      <span></span> <span></span> <span></span>\n    </a>\n  </div>\n  <div id=\"topMenu\" class=\"navbar-menu\" :class=\"{'is-active':openedTopMenu}\">\n    <div class=\"navbar-start\">\n      <navbar-dropdown icon=\"fa-folder-open\" v-if=\"this.nbActiveProjects > 0\" :title=\"$t('workspace')\">\n        <navigation-tree />\n      </navbar-dropdown>\n      <router-link to=\"/projects\" class=\"navbar-item\">\n        <i class=\"fas fa-list-alt\"></i>\n        {{ $t('projects') }}\n      </router-link>\n      <router-link v-if=\"!currentUser.guestByNow\" to=\"/storage\" class=\"navbar-item\">\n        <i class=\"fas fa-download\"></i>\n        {{ $t('storage') }}\n      </router-link>\n      <router-link to=\"/ontology\" class=\"navbar-item\">\n        <i class=\"fas fa-hashtag\"></i>\n        {{ $t('ontologies') }}\n      </router-link>\n      <router-link to=\"/software\" class=\"navbar-item\">\n        <i class=\"fas fa-code\"></i>\n        {{ $t('algorithms') }}\n      </router-link>\n      <router-link v-if=\"currentUser.adminByNow\" to=\"/admin\" class=\"navbar-item\">\n        <i class=\"fas fa-wrench\"></i>\n        {{ $t('admin-menu') }}\n      </router-link>\n    </div>\n\n    <div class=\"navbar-end\">\n      <cytomine-searcher />\n\n      <navbar-dropdown\n        :icon=\"currentUser.adminByNow ? 'fa-star' : currentUser.isSwitched ? 'fa-user-ninja' : 'fa-user'\"\n        :title=\"currentUserFullInfo\"\n        :linkClasses=\"{'has-text-dark-primary': currentUser.isSwitched}\"\n        :tag=\"currentUser.adminByNow ? {type: 'is-danger', text: $t('admin')} : null\"\n        :listPathes=\"['/account', '/activity']\"\n      >\n        <router-link to=\"/account\" class=\"navbar-item\">\n          <span class=\"icon\"><i class=\"fas fa-user fa-xs\"></i></span> {{$t('account')}}\n        </router-link>\n        <router-link to=\"/activity\" class=\"navbar-item\">\n          <span class=\"icon\"><i class=\"fas fa-history fa-xs\"></i></span> {{$t('activity-history')}}\n        </router-link>\n        <template v-if=\"currentUser.admin\">\n          <a v-if=\"!currentUser.adminByNow\" class=\"navbar-item\" @click=\"openAdminSession()\">\n            <span class=\"icon\"><i class=\"fas fa-star fa-xs\"></i></span> {{$t('open-admin-session')}}\n          </a>\n          <a v-else class=\"navbar-item\" @click=\"closeAdminSession()\">\n            <span class=\"icon\"><i class=\"far fa-star fa-xs\"></i></span> {{$t('close-admin-session')}}\n          </a>\n        </template>\n        <template v-if=\"currentUser.isSwitched\">\n          <a class=\"navbar-item has-text-dark-primary\" @click=\"stopSwitchUser()\">\n            <span class=\"icon\"><i class=\"fas fa-exchange-alt fa-xs\"></i></span>\n            {{$t('switch-back-to-user', {username: currentUser.realUser})}}\n          </a>\n        </template>\n        <a class=\"navbar-item\" @click=\"logout()\">\n          <span class=\"icon\"><i class=\"fas fa-power-off fa-xs\"></i></span> {{ $t('logout') }}\n        </a>\n      </navbar-dropdown>\n\n      <navbar-dropdown icon=\"fa-question-circle\" :title=\"$t('help')\" :classes=\"['is-right']\">\n        <a class=\"navbar-item\" @click=\"openHotkeysModal()\">\n          <span class=\"icon\"><i class=\"far fa-keyboard fa-xs\"></i></span> {{$t('shortcuts')}}\n        </a>\n        <a class=\"navbar-item\" @click=\"openAboutModal()\">\n          <span class=\"icon\"><i class=\"fas fa-info-circle fa-xs\"></i></span> {{$t('about-cytomine')}}\n        </a>\n      </navbar-dropdown>\n    </div>\n  </div>\n</nav>\n</template>\n\n<script>\nimport {get} from '@/utils/store-helpers';\nimport {changeLanguageMixin} from '@/lang.js';\n\nimport NavbarDropdown from './NavbarDropdown';\nimport NavigationTree from './NavigationTree';\nimport HotkeysModal from './HotkeysModal';\nimport AboutCytomineModal from './AboutCytomineModal';\nimport CytomineSearcher from '@/components/search/CytomineSearcher';\n\nimport {Cytomine} from 'cytomine-client';\nimport {fullName} from '@/utils/user-utils.js';\n\nexport default {\n  name: 'cytomine-navbar',\n  components: {\n    NavbarDropdown,\n    NavigationTree,\n    CytomineSearcher\n  },\n  mixins: [changeLanguageMixin],\n  data() {\n    return {\n      openedTopMenu: false,\n      hotkeysModal: false,\n      aboutModal: false\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    currentUserFullInfo() {\n      return fullName(this.currentUser);\n    },\n    nbActiveProjects() {\n      return Object.keys(this.$store.state.projects).length;\n    }\n  },\n  watch: {\n    $route(){\n      this.openedTopMenu = false;\n    }\n  },\n  methods: {\n    // required to use programmatic modal for correct display in IE11\n    openHotkeysModal() {\n      this.$buefy.modal.open({\n        parent: this,\n        component: HotkeysModal,\n        hasModalCard: true\n      });\n    },\n    openAboutModal() {\n      this.$buefy.modal.open({\n        parent: this,\n        component: AboutCytomineModal,\n        hasModalCard: true\n      });\n    },\n    // ---\n\n    async openAdminSession() {\n      try {\n        await this.$store.dispatch('currentUser/openAdminSession');\n        this.$router.push('/admin');\n      }\n      catch(error) {\n        console.log(error);\n      }\n    },\n    async closeAdminSession() {\n      try {\n        await this.$store.dispatch('currentUser/closeAdminSession');\n        if(this.$router.currentRoute.path === '/') this.$router.push('/projects');\n        else this.$router.push('/');\n      }\n      catch(error) {\n        console.log(error);\n      }\n    },\n\n    async stopSwitchUser() {\n      try {\n        await Cytomine.instance.stopSwitchUser();\n        await this.$store.dispatch('currentUser/fetchUser');\n        this.$router.push('/');\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-failed-to-switch-back-as-real-user')});\n      }\n    },\n\n    async logout() {\n      try {\n        await Cytomine.instance.logout();\n        this.$store.dispatch('logout');\n        this.changeLanguage();\n        this.$router.push('/');\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('notif-error-logout')});\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n#logo {\n  height: 2rem;\n  font-family: \"cytomine\";\n  font-size: 2em;\n  font-weight: lighter;\n  line-height: 1em;\n}\n\n/* Special styling for IE */\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  #logo {\n    height: 40px !important;\n    max-height: none !important;\n  }\n}\n\n.navbar {\n  font-weight: 600;\n  z-index: 500 !important;\n\n  .fas, .far {\n    padding-right: 0.5rem;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineNavbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineNavbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CytomineNavbar.vue?vue&type=template&id=adf2ea46&\"\nimport script from \"./CytomineNavbar.vue?vue&type=script&lang=js&\"\nexport * from \"./CytomineNavbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CytomineNavbar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel\"},[(_vm.forgotUsername)?[_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-user\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"forgot-username\"))+\" \"),_vm._m(0)]),_c('div',{staticClass:\"panel-block\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.sendUsername($event)}}},[_c('b-field',{attrs:{\"label\":_vm.$t('email')}},[_c('b-input',{model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_c('div',{staticClass:\"buttons is-right\"},[_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.forgotUsername = false}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"button-cancel\"))+\" \")]),_c('button',{staticClass:\"button is-link\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"button-get-username\"))+\" \")])])],1)])]:(_vm.forgotPassword)?[_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-user\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"forgot-password\"))+\" \"),_vm._m(1)]),_c('div',{staticClass:\"panel-block\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.resetPassword()}}},[_c('b-field',{attrs:{\"label\":_vm.$t('username')}},[_c('b-input',{model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}})],1),_c('div',{staticClass:\"buttons is-right\"},[_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.forgotPassword = false}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"button-cancel\"))+\" \")]),_c('button',{staticClass:\"button is-link\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"button-reset-password\"))+\" \")])])],1)])]:(_vm.registering)?_c('register',{on:{\"close\":function($event){_vm.registering = false}}}):[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" UNDER CONSTRUCTION \")]),_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-user\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"login\"))+\" \"),_vm._m(2)]),_c('div',{staticClass:\"panel-block\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.login()}}},[_c('b-field',{attrs:{\"label\":_vm.$t('username')}},[_c('b-input',{model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('password')}},[_c('b-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',[_c('b-checkbox',{attrs:{\"type\":\"is-info\"},model:{value:(_vm.rememberMe),callback:function ($$v) {_vm.rememberMe=$$v},expression:\"rememberMe\"}},[_vm._v(_vm._s(_vm.$t(\"remember-me\")))])],1)],1),_c('div',{staticClass:\"column has-text-right\"},[_c('button',{staticClass:\"button is-link\"},[_vm._v(_vm._s(_vm.$t(\"button-login\")))])])])],1)]),_c('i18n',{staticClass:\"is-size-7 has-text-centered forgot-credentials\",attrs:{\"path\":\"forgot-credentials\",\"tag\":\"p\"}},[_c('a',{attrs:{\"place\":\"username\"},on:{\"click\":function($event){_vm.forgotUsername = true}}},[_vm._v(_vm._s(_vm.$t(\"username\")))]),_c('a',{attrs:{\"place\":\"password\"},on:{\"click\":function($event){_vm.forgotPassword = true}}},[_vm._v(_vm._s(_vm.$t(\"password\")))])]),(_vm.allowedRegistration)?_c('i18n',{staticClass:\"is-size-7 has-text-centered\",attrs:{\"path\":\"no-account-yet\",\"tag\":\"p\"}},[_c('a',{attrs:{\"place\":\"registerLink\"},on:{\"click\":function($event){_vm.registering = true}}},[_vm._v(_vm._s(_vm.$t(\"register\")))])]):_vm._e()]],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{attrs:{\"href\":\"https://doc.cytomine.org\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.svg\"),\"id\":\"logo\",\"alt\":\"Cytomine\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{attrs:{\"href\":\"https://doc.cytomine.org\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.svg\"),\"id\":\"logo\",\"alt\":\"Cytomine\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{attrs:{\"href\":\"https://doc.cytomine.org\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.svg\"),\"id\":\"logo\",\"alt\":\"Cytomine\"}})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{staticClass:\"panel-heading\"},[_c('i',{staticClass:\"fas fa-user-plus\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t('register'))+\" \")]),_c('div',{staticClass:\"panel-block\"},[(_vm.success)?[_c('b-message',{attrs:{\"type\":\"is-success\",\"has-icon\":\"\",\"icon-size\":\"is-small\"}},[_vm._v(\" \"+_vm._s(_vm.$t('successful-registration'))+\" \")]),_c('p',{staticClass:\"has-text-centered\"},[_c('a',{on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(_vm._s(_vm.$t('back-to-login')))])])]:_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.register()}}},[_c('b-field',{attrs:{\"label\":_vm.$t('firstname'),\"type\":{'is-danger': _vm.errors.has('firstname')},\"message\":_vm.errors.first('firstname')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"firstname\"},model:{value:(_vm.firstname),callback:function ($$v) {_vm.firstname=$$v},expression:\"firstname\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('lastname'),\"type\":{'is-danger': _vm.errors.has('lastname')},\"message\":_vm.errors.first('lastname')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"lastname\"},model:{value:(_vm.lastname),callback:function ($$v) {_vm.lastname=$$v},expression:\"lastname\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('username'),\"type\":{'is-danger': _vm.errors.has('username')},\"message\":_vm.errors.first('username')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"username\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('email'),\"type\":{'is-danger': _vm.errors.has('email')},\"message\":_vm.errors.first('email')}},[_c('b-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|email'),expression:\"'required|email'\"}],attrs:{\"name\":\"email\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_c('div',{staticClass:\"buttons is-right\"},[_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\",\"disabled\":_vm.loading},on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\" \"+_vm._s(_vm.$t('button-cancel'))+\" \")]),_c('button',{staticClass:\"button is-link\",class:{'is-loading': _vm.loading},attrs:{\"disabled\":_vm.errors.any() || _vm.loading}},[_vm._v(\" \"+_vm._s(_vm.$t('button-register'))+\" \")])])],1)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div>\n  <p class=\"panel-heading\">\n    <i class=\"fas fa-user-plus\" aria-hidden=\"true\"></i>\n    {{$t('register')}}\n  </p>\n  <div class=\"panel-block\">\n    <template v-if=\"success\">\n      <b-message type=\"is-success\" has-icon icon-size=\"is-small\">\n        {{$t('successful-registration')}}\n      </b-message>\n      <p class=\"has-text-centered\">\n        <a @click=\"$emit('close')\">{{$t('back-to-login')}}</a>\n      </p>\n    </template>\n\n    <form v-else @submit.prevent=\"register()\">\n      <b-field :label=\"$t('firstname')\" :type=\"{'is-danger': errors.has('firstname')}\" :message=\"errors.first('firstname')\">\n        <b-input v-model=\"firstname\" name=\"firstname\" v-validate=\"'required'\" />\n      </b-field>\n\n      <b-field :label=\"$t('lastname')\" :type=\"{'is-danger': errors.has('lastname')}\" :message=\"errors.first('lastname')\">\n        <b-input v-model=\"lastname\" name=\"lastname\" v-validate=\"'required'\"  />\n      </b-field>\n\n      <b-field :label=\"$t('username')\" :type=\"{'is-danger': errors.has('username')}\" :message=\"errors.first('username')\">\n        <b-input v-model=\"username\" name=\"username\" v-validate=\"'required'\" />\n      </b-field>\n\n      <b-field :label=\"$t('email')\" :type=\"{'is-danger': errors.has('email')}\" :message=\"errors.first('email')\">\n        <b-input v-model=\"email\" name=\"email\" v-validate=\"'required|email'\"  />\n      </b-field>\n\n      <div class=\"buttons is-right\">\n        <button class=\"button\" type=\"button\" :disabled=\"loading\" @click=\"$emit('close')\">\n          {{$t('button-cancel')}}\n        </button>\n        <button class=\"button is-link\" :class=\"{'is-loading': loading}\" :disabled=\"errors.any() || loading\">\n          {{$t('button-register')}}\n        </button>\n      </div>\n    </form>\n  </div>\n</div>\n</template>\n\n<script>\nimport {Cytomine} from 'cytomine-client';\n\nexport default {\n  name: 'register',\n  $_veeValidate: {validator: 'new'},\n  data() {\n    return  {\n      username: '',\n      email: '',\n      firstname: '',\n      lastname: '',\n      success: false,\n      loading: false\n    };\n  },\n  methods: {\n    async register() {\n      console.log('register');\n      let result = await this.$validator.validateAll();\n      if(!result) {\n        return;\n      }\n\n      try {\n        this.loading = true;\n        let params = new URLSearchParams();\n        params.append('firstname', this.firstname);\n        params.append('lastname', this.lastname);\n        params.append('username', this.username);\n        params.append('email', this.email);\n        await Cytomine.instance.api.post(`${Cytomine.instance.host}/login/createAccount`, params);\n        this.success = true;\n      }\n      catch(error) {\n        console.log(error);\n        if(error.response && error.response.status === 409) {\n          this.$notify({type: 'error', text: this.$t('notif-error-register-username-exists')});\n        }\n        else {\n          this.$notify({type: 'error', text: this.$t('notif-error-register')});\n        }\n      }\n      this.loading = false;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=2eb5c3e5&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n<template>\n  <div class=\"panel\">\n    <template v-if=\"forgotUsername\">\n      <p class=\"panel-heading\">\n        <i class=\"fas fa-user\" aria-hidden=\"true\"></i>\n        {{ $t(\"forgot-username\") }}\n        <a href=\"https://doc.cytomine.org\" target=\"_blank\"\n          ><img src=\"@/assets/logo.svg\" id=\"logo\" alt=\"Cytomine\"\n        /></a>\n      </p>\n      <div class=\"panel-block\">\n        <form @submit.prevent=\"sendUsername\">\n          <b-field :label=\"$t('email')\">\n            <b-input v-model=\"email\" />\n          </b-field>\n\n          <div class=\"buttons is-right\">\n            <button\n              class=\"button\"\n              type=\"button\"\n              @click=\"forgotUsername = false\"\n            >\n              {{ $t(\"button-cancel\") }}\n            </button>\n            <button class=\"button is-link\">\n              {{ $t(\"button-get-username\") }}\n            </button>\n          </div>\n        </form>\n      </div>\n    </template>\n\n    <template v-else-if=\"forgotPassword\">\n      <p class=\"panel-heading\">\n        <i class=\"fas fa-user\" aria-hidden=\"true\"></i>\n        {{ $t(\"forgot-password\") }}\n        <a href=\"https://doc.cytomine.org\" target=\"_blank\"\n          ><img src=\"@/assets/logo.svg\" id=\"logo\" alt=\"Cytomine\"\n        /></a>\n      </p>\n      <div class=\"panel-block\">\n        <form @submit.prevent=\"resetPassword()\">\n          <b-field :label=\"$t('username')\">\n            <b-input v-model=\"username\" />\n          </b-field>\n\n          <div class=\"buttons is-right\">\n            <button\n              class=\"button\"\n              type=\"button\"\n              @click=\"forgotPassword = false\"\n            >\n              {{ $t(\"button-cancel\") }}\n            </button>\n            <button class=\"button is-link\">\n              {{ $t(\"button-reset-password\") }}\n            </button>\n          </div>\n        </form>\n      </div>\n    </template>\n\n    <register v-else-if=\"registering\" @close=\"registering = false\" />\n\n    <template v-else>\n      <p class=\"panel-heading\">\n        UNDER CONSTRUCTION\n      </p>\n      <p class=\"panel-heading\">\n        <i class=\"fas fa-user\" aria-hidden=\"true\"></i>\n        {{ $t(\"login\") }}\n        <a href=\"https://doc.cytomine.org\" target=\"_blank\"\n          ><img src=\"@/assets/logo.svg\" id=\"logo\" alt=\"Cytomine\"\n        /></a>\n      </p>\n      <div class=\"panel-block\">\n        <form @submit.prevent=\"login()\">\n          <b-field :label=\"$t('username')\">\n            <b-input v-model=\"username\" />\n          </b-field>\n\n          <b-field :label=\"$t('password')\">\n            <b-input type=\"password\" v-model=\"password\" />\n          </b-field>\n\n          <div class=\"columns\">\n            <div class=\"column\">\n              <b-field>\n                <b-checkbox v-model=\"rememberMe\" type=\"is-info\">{{\n                  $t(\"remember-me\")\n                }}</b-checkbox>\n              </b-field>\n            </div>\n\n            <div class=\"column has-text-right\">\n              <button class=\"button is-link\">{{ $t(\"button-login\") }}</button>\n            </div>\n          </div>\n        </form>\n      </div>\n      <i18n\n        path=\"forgot-credentials\"\n        tag=\"p\"\n        class=\"is-size-7 has-text-centered forgot-credentials\"\n      >\n        <a place=\"username\" @click=\"forgotUsername = true\">{{\n          $t(\"username\")\n        }}</a>\n        <a place=\"password\" @click=\"forgotPassword = true\">{{\n          $t(\"password\")\n        }}</a>\n      </i18n>\n      <i18n\n        v-if=\"allowedRegistration\"\n        path=\"no-account-yet\"\n        tag=\"p\"\n        class=\"is-size-7 has-text-centered\"\n      >\n        <a place=\"registerLink\" @click=\"registering = true\">{{\n          $t(\"register\")\n        }}</a>\n      </i18n>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { get } from '@/utils/store-helpers';\nimport { changeLanguageMixin } from '@/lang.js';\nimport { Cytomine } from 'cytomine-client';\nimport Register from './Register';\n\nexport default {\n  name: 'login',\n  components: { Register },\n  mixins: [changeLanguageMixin],\n  data() {\n    return {\n      username: '',\n      password: '',\n      email: '',\n      rememberMe: true,\n\n      allowedRegistration: false, // TODO: retrieve info from core\n\n      forgotUsername: false,\n      forgotPassword: false,\n      registering: false\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user')\n  },\n  methods: {\n    async login() {\n      try {\n        await this.$store.dispatch('currentUser/login', {\n          username: this.username,\n          password: this.password,\n          rememberMe: this.rememberMe\n        });\n        if (this.currentUser) {\n          this.changeLanguage(this.currentUser.language);\n          this.$notify({\n            type: 'success',\n            text: this.$t('notif-success-login')\n          });\n        }\n        else {\n          this.$notify({\n            type: 'error',\n            text: this.$t('notif-unexpected-error')\n          });\n        }\n      }\n      catch (error) {\n        console.log(error);\n        this.$notify({ type: 'error', text: error.response.data.message });\n      }\n    },\n    async sendUsername() {\n      try {\n        await Cytomine.instance.forgotUsername(this.email);\n        this.$notify({\n          type: 'success',\n          text: this.$t('notif-success-forgot-username')\n        });\n        this.forgotUsername = false;\n      }\n      catch (error) {\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-forgot-username')\n        });\n      }\n    },\n    async resetPassword() {\n      try {\n        await Cytomine.instance.forgotPassword(this.username);\n        this.$notify({\n          type: 'success',\n          text: this.$t('notif-success-forgot-password')\n        });\n        this.forgotPassword = false;\n      }\n      catch (error) {\n        this.$notify({\n          type: 'error',\n          text: this.$t('notif-error-forgot-password')\n        });\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.panel {\n  width: 100%;\n  max-width: 40em;\n  margin: auto;\n  margin-top: 3em;\n}\n\n.columns,\n.buttons {\n  margin-top: 0.5em;\n}\n\n.panel-block {\n  margin-bottom: 1em;\n}\n\n.forgot-credentials a {\n  text-transform: lowercase;\n}\n\n.panel-heading img {\n  float: right;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=941353a0&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=941353a0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"941353a0\",\n  null\n  \n)\n\nexport default component.exports","<!-- Copyright (c) 2009-2021. Authors: see NOTICE file.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.-->\n\n\n<template>\n<div id=\"app\" class=\"wrapper\">\n  <notifications position=\"top center\" width=\"30%\" :max=\"5\">\n    <template #body=\"props\">\n      <div class=\"notification vue-notification\" :class=\"props.item.type\">\n        <button class=\"delete\" @click=\"props.close\"></button>\n        <strong class=\"notification-title\">\n          {{props.item.title}}\n        </strong>\n        <div class=\"notification-content\" v-html=\"props.item.text\"></div>\n      </div>\n    </template>\n  </notifications>\n\n  <template v-if=\"!loading\">\n    <div class=\"box error\" v-if=\"communicationError\">\n      <h2>\n        {{$t('communication-error')}}\n      </h2>\n      {{$t('core-cannot-be-reached')}}\n    </div>\n\n    <login v-else-if=\"!currentUser\" />\n\n    <template v-else>\n      <cytomine-navbar />\n      <div class=\"bottom\">\n        <keep-alive include=\"cytomine-storage\">\n          <router-view v-if=\"currentUser\" />\n        </keep-alive>\n      </div>\n    </template>\n  </template>\n</div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport {get} from '@/utils/store-helpers';\nimport {changeLanguageMixin} from '@/lang.js';\n\nimport CytomineNavbar from './components/navbar/CytomineNavbar.vue';\nimport Login from './components/user/Login.vue';\n\nimport {Cytomine} from 'cytomine-client';\n\nimport constants from '@/utils/constants.js';\nimport ifvisible from 'ifvisible';\nifvisible.setIdleDuration(constants.IDLE_DURATION);\n\nexport default {\n  name: 'app',\n  components: {CytomineNavbar, Login},\n  mixins: [changeLanguageMixin],\n  data() {\n    return {\n      communicationError: false,\n      loading: true,\n      timeout: null\n    };\n  },\n  computed: {\n    currentUser: get('currentUser/user'),\n    project: get('currentProject/project')\n  },\n  methods: {\n    async loginWithToken() {\n      try {\n        await Cytomine.instance.loginWithToken(this.$route.query.username, this.$route.query.token);\n        await this.fetchUser();\n      }\n      catch(error) {\n        console.log(error);\n        this.$notify({type: 'error', text: this.$t('invalid-token')});\n      }\n    },\n    async ping() {\n      if(!ifvisible.now()){\n        return; // window not visible or inactive user => stop pinging\n      }\n      try {\n        let {authenticated} = await Cytomine.instance.ping(this.project ? this.project.id : null);\n        if(this.currentUser && !authenticated) {\n          await this.$store.dispatch('logout');\n        }\n        if(!this.currentUser && authenticated) {\n          await this.fetchUser();\n        }\n        this.communicationError = false;\n      }\n      catch(error) {\n        console.log(error);\n        this.communicationError = true;\n      }\n\n      clearTimeout(this.timeout);\n      this.timeout = setTimeout(this.ping, constants.PING_INTERVAL);\n    },\n    async fetchUser() {\n      await this.$store.dispatch('currentUser/fetchUser');\n      if(this.currentUser) {\n        this.changeLanguage(this.currentUser.language);\n      }\n    }\n  },\n  async created() {\n    let Settings;\n    await axios\n      .get('configuration.json')\n      .then(response => (Settings = response.data));\n\n    for(var i in constants){\n      if(Settings.hasOwnProperty(i)) {\n        constants[i] = Settings[i];\n      }\n    }\n    Object.freeze(constants);\n\n    new Cytomine(constants.CYTOMINE_CORE_HOST);\n\n    if(this.$route.query.token && this.$route.query.username) {\n      await this.loginWithToken();\n    }\n    await this.ping();\n    this.loading = false;\n    ifvisible.on('wakeup', this.ping);\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/styles/main.scss';\n\n@font-face {\n  font-family: 'cytomine';\n  src: url('assets/cytomine-font.woff') format('woff');\n}\n\nhtml, body {\n  height: 100vh;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n}\n\nbody {\n  font-family: \"Open Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif, sans-serif;\n  color: #333;\n  background: #d4d4d4;\n}\n\n.wrapper {\n  display: flex;\n  height: 100%;\n  width: 100%;\n  flex-direction: column;\n  background: #d4d4d4;\n}\n\n.box.error {\n  max-width: 600px;\n  margin: auto;\n  margin-top: 3rem;\n}\n\n.notifications {\n  margin-top: 1em;\n}\n\n.notification.info {\n  background: #77b1ea;\n}\n\n.bottom {\n  flex: 1;\n  overflow-y: auto;\n  /* position: relative; */\n}\n\nh1 {\n  text-transform: uppercase;\n  letter-spacing: 0.1rem;\n  font-size: 1.25rem;\n  text-align: center;\n  padding: 0.9rem;\n}\n\nh2 {\n  font-size: 1rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.08rem;\n  margin-bottom: 1rem;\n}\n\n.in-project {\n  color: grey;\n  font-size: 0.8em;\n}\n\n.input[readonly] {\n  background-color: whitesmoke;\n}\n\nstrong, .label {\n  font-weight: 600 !important;\n}\n\n.content-wrapper {\n  padding: 1.5% 2.5%;\n  position: relative;\n  min-height: 100%;\n}\n\n/* Filters */\n\n.filters {\n  background: #f8f8f8;\n  margin-top: 1.2rem;\n  border-radius: 10px;\n  padding: 1rem;\n}\n\n.filter-label {\n  text-transform: uppercase;\n  font-size: 0.8em;\n  margin-bottom: 0.5em;\n  margin-left: 1em;\n}\n\n.filter-label .no-uppercase {\n  text-transform: none;\n}\n\n.nb-active-filters {\n  display: inline-block;\n  background: $primary;\n  color: $primary-invert;\n  min-width: 1.25rem;\n  height: 1.25rem;\n  font-weight: 600;\n  border-radius: 0.625rem;\n  margin-left: 0.5em;\n  font-size: 0.9em;\n  line-height: 1.25em;\n  padding: 0 0.25em;\n  position: absolute;\n  top: -0.3em;\n  right: -0.6em;\n}\n\n/* For correct display of svg images on IE > 10 */\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  img[src$=\".svg\"] {\n    width: 100%;\n  }\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=48148fd9&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\n* Copyright (c) 2009-2021. Authors: see NOTICE file.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport Vue from 'vue';\n\nimport VueRouter from 'vue-router';\nimport router from './routes.js';\nVue.use(VueRouter);\n\nimport i18n from './lang.js';\n\nimport store from './store/store.js';\n\nimport Buefy from 'buefy';\nVue.use(Buefy, {defaultIconPack: 'fas'});\n\nimport VeeValidate, {Validator} from 'vee-validate';\nValidator.extend('positive', value => Number(value) > 0);\nVue.use(VeeValidate, {\n  i18nRootKey: 'validations',\n  i18n,\n  inject: false\n});\n\nimport Notifications from 'vue-notification';\nVue.use(Notifications);\n\nimport VTooltip from 'v-tooltip';\nVue.use(VTooltip);\n\nimport VueMoment from 'vue-moment';\nconst moment = require('moment');\nVue.use(VueMoment, {moment});\n\nimport VueShortKey from 'vue-shortkey';\nVue.use(VueShortKey, { prevent: ['input', 'textarea', '.ql-editor'] });\n\nimport * as vClickOutside from 'v-click-outside-x';\nVue.use(vClickOutside);\n\nimport VueLayers from 'vuelayers';\nimport ZoomifySource from './vuelayers-suppl/zoomify-source';\nimport RasterSource from './vuelayers-suppl/raster-source';\nimport TranslateInteraction from './vuelayers-suppl/translate-interaction';\nimport RotateInteraction from './vuelayers-suppl/rotate-interaction';\nVue.use(VueLayers);\nVue.use(ZoomifySource);\nVue.use(RasterSource);\nVue.use(TranslateInteraction);\nVue.use(RotateInteraction);\n\nimport Chart from 'chart.js';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\nChart.plugins.unregister(ChartDataLabels);\nChart.helpers.merge(Chart.defaults.global.plugins.datalabels, {\n  anchor: 'end',\n  align: 'end',\n  offset: 5,\n  clamp: true\n});\n\nimport App from './App.vue';\n\nVue.config.productionTip = false;\nVue.prototype.$eventBus = new Vue();\n\nnew Vue({\n  render: h => h(App),\n  router,\n  store,\n  i18n\n}).$mount('#app');\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayersPanel.vue?vue&type=style&index=0&id=7e41f174&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListImages.vue?vue&type=style&index=0&id=5096ea02&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyTree.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectImageFilters.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivity.vue?vue&type=style&index=0&id=89d613ec&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowPanel.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSidebar.vue?vue&type=style&index=0&id=2888de7a&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/aperio.bfe0ede1.jpg\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityCharts.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareInformation.vue?vue&type=style&index=1&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/leica.1ca27d5c.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Username.vue?vue&type=style&index=0&id=569bb75c&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationTree.vue?vue&type=style&index=0&id=24df7cb5&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineViewer.vue?vue&type=style&index=0&id=44275351&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDatepicker.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/logo-uliege.1f181756.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTags.vue?vue&type=style&index=0&id=a3bd014e&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobDetails.vue?vue&type=style&index=1&id=d31f0db6&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTerm.vue?vue&type=style&index=0&id=16981688&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyPanel.vue?vue&type=style&index=0&id=97acfbd8&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareParameterDetails.vue?vue&type=style&index=0&id=d0dbbcc4&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListSoftware.vue?vue&type=style&index=0&id=fcddc1be&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDescriptionModal.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotationSelector.vue?vue&type=style&index=0&id=f8b04e22&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalDashboard.vue?vue&type=style&index=0&id=3c1c3e9c&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TermModal.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InformationPanel.vue?vue&type=style&index=0&id=2f169f10&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineQuillEditor.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserModal.vue?vue&type=style&index=0&id=5270eaf7&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityCharts.vue?vue&type=style&index=0&id=3e3ea781&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PropertiesPanel.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/roche.092e0cab.gif\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotationSelector.vue?vue&type=style&index=1&lang=css&\"","module.exports = __webpack_public_path__ + \"img/logo.8bfe6faf.svg\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectSoftwares.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImagePreview.vue?vue&type=style&index=0&id=56aa8af0&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListOntologies.vue?vue&type=style&index=0&id=10d1f166&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFileDetails.vue?vue&type=style&index=0&id=73af0bfc&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberActivityDetails.vue?vue&type=style&index=1&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListSoftware.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineProperties.vue?vue&type=style&index=0&id=7755d0c0&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineTask.vue?vue&type=style&index=0&id=2300da1e&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawTools.vue?vue&type=style&index=1&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/3dh.bb638da6.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineStorage.vue?vue&type=style&index=0&id=38c64711&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachedFileModal.vue?vue&type=style&index=0&id=14e73ffe&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSourceModal.vue?vue&type=style&index=0&id=0a1b2893&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OntologyTree.vue?vue&type=style&index=0&id=74b04996&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivityLogs.vue?vue&type=style&index=0&id=3dd3d26a&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserDetails.vue?vue&type=style&index=0&id=9006dae0&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUIProject.vue?vue&type=style&index=0&id=909a1542&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineImage.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowPanel.vue?vue&type=style&index=0&id=594260b2&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconProjectMemberRole.vue?vue&type=style&index=0&id=ad1d0d70&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserActivity.vue?vue&type=style&index=0&id=2fc7647f&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetailsContainer.vue?vue&type=style&index=0&id=6f28865f&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAnnotationsByTerm.vue?vue&type=style&index=0&id=141d7138&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddJobModal.vue?vue&type=style&index=0&id=cd7246ac&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddMemberModal.vue?vue&type=style&index=0&id=8b4d078a&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorManipulation.vue?vue&type=style&index=0&id=b95ca178&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectMembers.vue?vue&type=style&index=0&id=725f628c&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkPanel.vue?vue&type=style&index=0&id=249a8913&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectImageFilters.vue?vue&type=style&index=0&id=038381ec&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoftwareInformation.vue?vue&type=style&index=0&id=7790eae4&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationPreview.vue?vue&type=style&index=0&id=52f8df75&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListImagesPreview.vue?vue&type=style&index=0&id=54a5cece&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobDetails.vue?vue&type=style&index=0&id=d31f0db6&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListAnnotations.vue?vue&type=style&index=0&id=0eff98a6&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/logo-wallonie.45258121.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineDescription.vue?vue&type=style&index=0&id=17d906a7&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetails.vue?vue&type=style&index=0&id=04a98d69&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectActivity.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetailsContainer.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineSlider.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityLogs.vue?vue&type=style&index=0&id=03cb74c6&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedSearch.vue?vue&type=style&index=0&id=f9fb57cc&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddTagDomainAssociationModal.vue?vue&type=style&index=0&id=3d0b8921&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainTagInput.vue?vue&type=style&index=0&id=526466b8&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CytomineStorage.vue?vue&type=style&index=1&lang=css&\""],"sourceRoot":""}